<HTML>		<HEAD>        <title>Addinga Second Component</title>		</HEAD>	<BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Keeping_Tra_iple_Guests.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Using_a_Repetition.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF111"></a><h2><font face="Helvetica,Arial,Lucida Grande">Addinga Second Component</font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Times">In this section, you'll create a new component. </font></p><ol><p><li>In ProjectBuilder's browser, click Web Components in the first column.</li></p><p><li>Choose File &gt; New in Project.<p>Note that the Web Componentssuitcase is selected.</p></li></p><p><li>Type GuestList as the name of the new component, then clickOK.<p>The WebObjects Component Wizard appears. </p></li></p><p><li>Choose None for Available Assistance. </li></p><p><li>Click Finish.</li></p><p><li>In the second column of the browser, double-click <code>GuestList.wo</code> tobring up the component window in WebObjects Builder.</li></p><p><li>Create a heading for this page, as you did for the Main component.Call it "Guest List" (or something else of your choosing), thenpress Enter twice.</li></p><p><li>Add a WOString below the heading. After the WOString, typethe text " guests have signed this guestbook." Press Shift-Entertwice.<p>You're going to bind this WOString so that it reflectsthe number of guests who have submitted this form.</p></li></p><p><li>In the object browser, click <code>application</code>. <p>Thereis an entry in the second column for the <code>allGuests</code> applicationvariable you created. This entry appears in the Main component aswell, since application variables are accessible from anywhere inthe code.</p><p>If you click <code>allGuests</code>,you'll see in the third column an entry for <code>count</code>.This is a standard method that returns the number of objects inthe array. </p></li></p><p><li>Make a connection from <code>count</code> tothe center rectangle to bind it to the WOString's <code>value</code> attribute.</li></p><p><li>Save the GuestList component.<p>You need to do one morething so that the GuestList page now displays when the user submitsthe form.</p></li></p><p><li>Go back to Project Builder and view the source code for <code>Main.java</code>.Replace the return statement in the <code>submit</code> methodwith the following code:<pre>    return pageWithName("GuestList");</pre><p><code>pageWithName</code> isa standard WebObjects method (defined in the WOApplication class) thatallows you to specify a new page to display. </p><p>At thispoint, the code for <code>Main.java</code> lookslike this:</p><pre>    // Generated by the WebObjects Wizard ...    import com.webobjects.foundation.*;    import com.webobjects.appserver.*;    import com.webobjects.eocontrol.*;    import com.webobjects.eoaccess.*;    public class Main extends WOComponent {        protected Guest currentGuest;        public Main(WOContext context) {            super(context);            currentGuest = new Guest();        }        public WOComponent submit() {            ((Application)application()).addGuest(currentGuest);            currentGuest = new Guest();            return pageWithName("GuestList");        }    }</pre></li></p><p><li>Save <code>Main.java</code>.</li></p><p><li>Build and run your application.<p>Each time you submitthe form, the number of guests displayed in the WOString shouldincrease.</p><p>To return to the Main page, you'll haveto use your browser's backtrack button. Later in the tutorial,you'll add a hyperlink to return to the Main page.</p></li></p></ol>    <br><a href="Keeping_Tra_iple_Guests.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Using_a_Repetition.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<p><font face="Geneva,Helvetica,Arial" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>