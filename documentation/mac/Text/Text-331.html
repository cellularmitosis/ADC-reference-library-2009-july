<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>FindWordBreaks(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING331></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-330.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-332.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-279.html"><B>Chapter 5 - Text Utilities</B></A> / <A HREF="Text-292.html"><B>Text Utilities Reference</B></A><BR><DL><DD><A HREF="Text-299.html"><B>Routines</B></A> / <A HREF="Text-330.html"><B>Working With Word, Script, and Line Boundaries</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING331-0></A>
<H3><A NAME=MARKER-9-376></A><A NAME=MARKER-2-334></A>FindWordBreaks</H3>
 The <CODE>FindWordBreaks</CODE> procedure determines the beginning and ending boundaries of a word in a text string.<P>
<PRE>
PROCEDURE FindWordBreaks(textPtr: Ptr; textLength: Integer;
                  offset: Integer; leadingEdge: Boolean; 
                  nbreaks: BreakTablePtr; 
                  VAR offsets: OffsetTable; script: ScriptCode);
</PRE>
<DL>
<DT><CODE>textPtr</CODE>
<DD> A pointer to the text string to be examined.
<DT><CODE>textLengt</CODE>h
<DD> The number of bytes in the text string.
<DT><CODE>offset</CODE>
<DD> A byte offset into the text. This parameter plus the <CODE>leadingEdge</CODE> parameter determine the position of the character at which to start <BR>the search.
<DT><CODE>leadingEdge</CODE>
<DD> A flag that specifies which character should be used to start the search. If <CODE>leadingEdge</CODE> is <CODE>TRUE</CODE>, the search starts with the character specified in the <CODE>offset</CODE> parameter; if it is <CODE>FALSE</CODE>, the search starts with the character previous to the offset.
<DT><CODE>nbreaks</CODE>
<DD> A pointer to a word-break table of type <CODE>NBreakTable</CODE> or <CODE>BreakTable</CODE>. <BR>If the value of this pointer is 0, the default word-break table of the script system specified by the <CODE>script</CODE> parameter is used. If the value of <BR>this pointer is -1, the default line-break table of the specified script <BR>system is used.
<DT><CODE>offsets</CODE>
<DD> On output, the values in this table indicate the boundaries of the word that has been found.
<DT><CODE>script</CODE>
<DD> The script code for the script system whose tables are used to determine where word boundaries occur.
</DL>
<A NAME=HEADING331-10></A>
<H5>DESCRIPTION</H5>
 <CODE>FindWordBreaks</CODE> searches for a word in a text string. The <CODE>textPtr</CODE> and <CODE>textLength</CODE> parameters specify the text string that you want searched. The <CODE>offset</CODE> parameter and <CODE>leadingEdge</CODE> parameter together indicate where the search begins.<P>
 If <CODE>leadingEdge</CODE> is <CODE>TRUE</CODE>, the search starts at the character at the <CODE>offset</CODE>. If <CODE>leadingEdge</CODE> is <CODE>FALSE</CODE>, the search starts at the character preceding the <CODE>offset</CODE> position.<P>
 <CODE>FindWordBreaks</CODE> searches backward through the text string for one of the word boundaries and forward through the text string for its other boundary. It uses the definitions in the table specified by <CODE>nbreaks</CODE> to determine what constitutes the boundaries of a word. Each script system's word-break table is part of its string-manipulation (<CODE>'itl2'</CODE>) resource. The format of the <CODE>NBreakTable</CODE> record is described in the appendix "International Resources" in this book.<A NAME=MARKER-2-336></A><P>
 <CODE>FindWordBreaks</CODE> returns its results in an <CODE>OffsetTable</CODE> record, the format of which is described in the section <A HREF=Text-294.html#MARKER-9-269>"The Offset Table Record" on page 5-44</A>. <CODE>FindWordBreaks</CODE> uses only the first element of this three-element table. Each element is a pair of integers: <CODE>offFirst</CODE> and <CODE>offSecond</CODE>.<P>
 <CODE>FindWordBreaks</CODE> places the offset from the beginning of the text string to just before the leading edge of the character of the word that it finds in the <CODE>offFirst</CODE> field.<P>
 <CODE>FindWordBreaks</CODE> places the offset from the beginning of the text string to just after the trailing edge of the last character of the word that it finds in the <CODE>offSecond</CODE> field. For example, if the text "This is it" is passed with <CODE>offset</CODE> set to 0 and <CODE>leadingEdge</CODE> set to <CODE>TRUE</CODE>, then <CODE>FindWordBreaks</CODE> returns the offset pair (0,4).<P>
 If <CODE>leadingEdge</CODE> is <CODE>TRUE</CODE> and the value of <CODE>offset</CODE> is 0, then <CODE>FindWordBreaks</CODE> returns the offset pair (0,0). If <CODE>leadingEdge</CODE> is <CODE>FALSE</CODE> and the value of <CODE>offset</CODE> equals the value of <CODE>textLength</CODE>, then <CODE>FindWordBreaks</CODE> returns the offset pair with values (<CODE>textLength</CODE>, <CODE>textLength</CODE>).<P>
<A NAME=HEADING331-18></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for the <CODE>FindWordBreaks</CODE> procedure are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_ScriptUtil<TD>$C012 001A<A NAME=MARKER-2-973></A></TABLE>
<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-330.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-332.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
