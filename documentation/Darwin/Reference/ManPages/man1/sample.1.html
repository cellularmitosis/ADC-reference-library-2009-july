<html><head><title>Mac OS X Developer Tools
 Manual Page For sample(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/sample" title="Mac OS X Developer Tools
 Manual Page for sample(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/sample"; name=sample(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
sample(1)                 BSD General Commands Manual                sample(1)

<b>NAME</b>
     <b>sample</b> -- Profile a process during a time interval

<b>SYNOPSIS</b>
     <b>sample</b> <u>pid</u> | <u>partial-executable-name</u> [duration [samplingInterval]] [<b>-mayDie</b>] [<b>-wait</b>] [<b>-file</b> <u>filename</u>]
            [<b>-subst</b> <u>oldBinary</u> <u>newBinary</u>]

<b>DESCRIPTION</b>
     <b>sample</b> is a command-line tool for gathering data about the running behavior of a process.  It stops the
     process at user-defined intervals, usually every 1-20 milliseconds.  It records the current function
     being executed by the process, and checks the stack to find how the current function was called.  It
     then lets the application continue.

     At the end of a sampling session, <b>sample</b> produces a report showing which functions were executing dur-<font color="#ffffff" class="whiteout">ing&nbsp;during</font>
     ing the sampling.  The data is condensed into a call tree, showing the functions seen on the stack and
     how they were called.  (This tree is a subset of the actual call tree for the execution, since some
     functions may not have been executing during any of the sampling events.)  The tree is displayed textu-<font color="#ffffff" class="whiteout">ally,&nbsp;textually,</font>
     ally, with called functions indented one level to the right of the callee.

     The user of sample specifies a target process (either by process id, or by name), the duration of the
     sampling run (in seconds), and a sampling rate (in milliseconds).  The sampling rate should usually be
     between 1 msec and 20 msec.  Faster sampling rates provide more samples and a better chance to capture
     all the functions that are executing; however extremely fast sampling rates might cause multiple sam-<font color="#ffffff" class="whiteout">ples&nbsp;samples</font>
     ples to be taken when the process is stopped.  Longer sampling durations ensures better data.

     If the sampling rate is not specified, a default of 1 millisecond is used, as of Mac OS X 10.5.  (On
     earlier releases the default rate was 10 milliseconds.)

     If the sampling duration is not specified, a default of 10 seconds is used.

     The [<b>-mayDie</b>] flag tells sample to immediately grab the location of symbols from the application, on
     the assumption that the application may crash at any point during the sampling.  This ensures that sam-<font color="#ffffff" class="whiteout">ple&nbsp;sample</font>
     ple can give information about the call stacks even if the process no longer exists.

     The [<b>-wait</b>] flag tells sample to wait for the process specified (usually as a partial name or hint) to
     exist, then start sampling that process.  This option allows you to sample from an application's
     launch.

     The [<b>-file</b>] flag names where the output should be written.  If this flag is not specified, results are
     written to a file in /tmp called &lt;application name&gt;_&lt;processid&gt;.&lt;XXXXXX&gt;.sample.txt, where each 'X' is
     replaced by a random alphanumeric character.

     [<b>-subst</b>] allows the caller to specify the full path to the executable.  If the application was not run
     with the full path, or sampler is not run with the -subst flag, <b>sample</b> cannot get symbol table informa-<font color="#ffffff" class="whiteout">tion&nbsp;information</font>
     tion from the executable.  This flag thus lets you tell sample where to get the information needed to
     gather symbol information.  The first argument after -subst is the name of the binary to be replaced,
     and the second is the name of the binary that will instead be searched for symbolic information.

     The analysis done by <b>sample</b> is called ``sampling'' because it only checks the state of the program at
     the sampling points.  The analysis may miss execution of some functions that are not executing during
     one of the samples, but <b>sample</b> still can provide useful data about commonly executing functions.

     <b>sample</b> is similar to gprof.  <b>gprof</b> also performs statistical sampling at 10ms intervals to identify the
     currently executing function, but instruments the program to gather a complete call graph for the pro-<font color="#ffffff" class="whiteout">gram.&nbsp;program.</font>
     gram.

     Like profiling, sample gathers runtime data.  However, because it only checks at intervals, it only
     sees some of the functions that are running.  Longer durations or shorter sampling times can improve
     coverage.

<b>SEE</b> <b>ALSO</b>
     <a href="gprof.1.html#//apple_ref/doc/man/1/gprof">gprof(1)</a>

     The developer tools for the system also include a graphical application, /Developer/Applica-<font color="#ffffff" class="whiteout">tions/Instruments.app,&nbsp;/Developer/Applications/Instruments.app,</font>
     tions/Instruments.app, that provides instruments that give information similar to that provided by
     <b>sample.</b> The Sampler instrument graphically displays dynamic, real-time CPU sampling information.

BSD                             March 15, 2007                             BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/sample.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/sample.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/sample.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
