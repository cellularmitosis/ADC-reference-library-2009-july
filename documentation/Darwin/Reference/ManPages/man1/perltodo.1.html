<html><head><title>Mac OS X
 Manual Page For perltodo(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/perltodo" title="Mac OS X
 Manual Page for perltodo(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/perltodo"; name=perltodo(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PERLTODO(1)                           Perl Programmers Reference Guide                           PERLTODO(1)



<b>NAME</b>
       perltodo - Perl TO-DO List

<b>DESCRIPTION</b>
       This is a list of wishes for Perl. The tasks we think are smaller or easier are listed first. Anyone
       is welcome to work on any of these, but it's a good idea to first contact <u>perl5-porters@perl.org</u> to
       avoid duplication of effort. By all means contact a pumpking privately first if you prefer.

       Whilst patches to make the list shorter are most welcome, ideas to add to the list are also encour-<font color="#ffffff" class="whiteout">aged.&nbsp;encouraged.</font>
       aged. Check the perl5-porters archives for past ideas, and any discussion about them. One set of ar-<font color="#ffffff" class="whiteout">chives&nbsp;archives</font>
       chives may be found at:

           <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/</a>

       What can we offer you in return? Fame, fortune, and everlasting glory? Maybe not, but if your patch
       is incorporated, then we'll add your name to the <u>AUTHORS</u> file, which ships in the official distribu-
       tion. How many other programming languages offer you 1 line of immortality?

<b>The</b> <b>roadmap</b> <b>to</b> <b>5.10</b>
       The roadmap to 5.10 envisages feature based releases, as various items in this TODO are completed.

       <b>Needed</b> <b>for</b> <b>a</b> <b>5.9.4</b> <b>release</b>


          Review assertions. Review syntax to combine assertions. Assertions could take advantage of the
           lexical pragmas work. "What hooks would assertions need?"

       <b>Needed</b> <b>for</b> <b>a</b> <b>5.9.5</b> <b>release</b>


       * Implement "_ prototype character"
       * Implement "state variables"

       <b>Needed</b> <b>for</b> <b>a</b> <b>5.9.6</b> <b>release</b>

       Stabilisation. If all goes well, this will be the equivalent of a 5.10-beta.

<b>Tasks</b> <b>that</b> <b>only</b> <b>need</b> <b>Perl</b> <b>knowledge</b>
       <b>common</b> <b>test</b> <b>code</b> <b>for</b> <b>timed</b> <b>bail</b> <b>out</b>

       Write portable self destruct code for tests to stop them burning CPU in infinite loops. This needs to
       avoid using alarm, as some of the tests are testing alarm/sleep or timers.

       <b>POD</b> <b>-&gt;</b> <b>HTML</b> <b>conversion</b> <b>in</b> <b>the</b> <b>core</b> <b>still</b> <b>sucks</b>

       Which is crazy given just how simple POD purports to be, and how simple HTML can be. It's not actu-
       ally <u>as</u> simple as it sounds, particularly with the flexibility POD allows for "=item", but it would
       be good to improve the visual appeal of the HTML generated, and to avoid it having any validation
       errors. See also "make HTML install work", as the layout of installation tree is needed to improve
       the cross-linking.

       The addition of "Pod::Simple" and its related modules may make this task easier to complete.

       <b>Parallel</b> <b>testing</b>

       The core regression test suite is getting ever more comprehensive, which has the side effect that it
       takes longer to run. This isn't so good. Investigate whether it would be feasible to give the harness
       script the <b>option</b> of running sets of tests in parallel. This would be useful for tests in <u>t/op/*.t</u>
       and <u>t/uni/*.t</u> and maybe some sets of tests in <u>lib/</u>.

       Questions to answer

       1   How does screen layout work when you're running more than one test?

       2   How does the caller of test specify how many tests to run in parallel?

       3   How do setup/teardown tests identify themselves?

       Pugs already does parallel testing - can their approach be re-used?

       <b>Make</b> <b>Schwern</b> <b>poorer</b>

       We should have for everything. When all the core's modules are tested, Schwern has promised to donate
       to $500 to TPF. We may need volunteers to hold him upside down and shake vigorously in order to actu-
       ally extract the cash.

       See <u>t/lib/1</u><b>_</b><u>compile.t</u> for the 3 remaining modules that need tests.

       <b>Improve</b> <b>the</b> <b>coverage</b> <b>of</b> <b>the</b> <b>core</b> <b>tests</b>

       Use Devel::Cover to ascertain the core's test coverage, then add tests that are currently missing.

       <b>test</b> <b>B</b>

       A full test suite for the B module would be nice.

       <b>A</b> <b>decent</b> <b>benchmark</b>

       "perlbench" seems impervious to any recent changes made to the perl core. It would be useful to have
       a reasonable general benchmarking suite that roughly represented what current perl programs do, and
       measurably reported whether tweaks to the core improve, degrade or don't really affect performance,
       to guide people attempting to optimise the guts of perl. Gisle would welcome new tests for perlbench.

       <b>fix</b> <b>tainting</b> <b>bugs</b>

       Fix the bugs revealed by running the test suite with the "-t" switch (via "make test.taintwarn").

       <b>Dual</b> <b>life</b> <b>everything</b>

       As part of the "dists" plan, anything that doesn't belong in the smallest perl distribution needs to
       be dual lifed. Anything else can be too. Figure out what changes would be needed to package that mod-
       ule and its tests up for CPAN, and do so. Test it with older perl releases, and fix the problems you
       find.

       <b>Improving</b> <b>"threads::shared"</b>

       Investigate whether "threads::shared" could share aggregates properly with only Perl level changes to
       shared.pm

       <b>POSIX</b> <b>memory</b> <b>footprint</b>

       Ilya observed that use POSIX; eats memory like there's no tomorrow, and at various times worked to
       cut it down. There is probably still fat to cut out - for example POSIX passes Exporter some very
       memory hungry data structures.

<b>Tasks</b> <b>that</b> <b>need</b> <b>a</b> <b>little</b> <b>sysadmin-type</b> <b>knowledge</b>
       Or if you prefer, tasks that you would learn from, and broaden your skills base...

       <b>Relocatable</b> <b>perl</b>

       The C level patches needed to create a relocatable perl binary are done, as is the work on <u>Config.pm</u>.
       All that's left to do is the "Configure" tweaking to let people specify how they want to do the
       install.

       <b>make</b> <b>HTML</b> <b>install</b> <b>work</b>

       There is an "installhtml" target in the Makefile. It's marked as "experimental". It would be good to
       get this tested, make it work reliably, and remove the "experimental" tag. This would include

       1   Checking that cross linking between various parts of the documentation works.  In particular that
           links work between the modules (files with POD in <u>lib/</u>) and the core documentation (files in
           <u>pod/</u>)

       2   Work out how to split "perlfunc" into chunks, preferably one per function group, preferably with
           general case code that could be used elsewhere.  Challenges here are correctly identifying the
           groups of functions that go together, and making the right named external cross-links point to
           the right page. Things to be aware of are "-X", groups such as "getpwnam" to "endservent", two or
           more "=items" giving the different parameter lists, such as

               =item substr EXPR,OFFSET,LENGTH,REPLACEMENT

               =item substr EXPR,OFFSET,LENGTH

               =item substr EXPR,OFFSET

           and different parameter lists having different meanings. (eg "select")

       <b>compressed</b> <b>man</b> <b>pages</b>

       Be able to install them. This would probably need a configure test to see how the system does com-
       pressed man pages (same directory/different directory?  same filename/different filename), as well as
       tweaking the <u>installman</u> script to compress as necessary.

       <b>Add</b> <b>a</b> <b>code</b> <b>coverage</b> <b>target</b> <b>to</b> <b>the</b> <b>Makefile</b>

       Make it easy for anyone to run Devel::Cover on the core's tests. The steps to do this manually are
       roughly

          do a normal "Configure", but include Devel::Cover as a module to install (see <u>INSTALL</u> for how to
           do this)

       
               make perl

       
               cd t; HARNESS_PERL_SWITCHES=-MDevel::Cover ./perl -I../lib harness

          Process the resulting Devel::Cover database

       This just give you the coverage of the <u>.pm</u>s. To also get the C level coverage you need to

          Additionally tell "Configure" to use the appropriate C compiler flags for "gcov"

       
               make perl.gcov

           (instead of "make perl")

          After running the tests run "gcov" to generate all the <u>.gcov</u> files.  (Including down in the sub-
           directories of <u>ext/</u>

          (From the top level perl directory) run "gcov2perl" on all the ".gcov" files to get their stats
           into the cover_db directory.

          Then process the Devel::Cover database

       It would be good to add a single switch to "Configure" to specify that you wanted to perform perl
       level coverage, and another to specify C level coverage, and have "Configure" and the <u>Makefile</u> do all
       the right things automatically.

       <b>Make</b> <b>Config.pm</b> <b>cope</b> <b>with</b> <b>differences</b> <b>between</b> <b>build</b> <b>and</b> <b>installed</b> <b>perl</b>

       Quite often vendors ship a perl binary compiled with their (pay-for) compilers.  People install a
       free compiler, such as gcc. To work out how to build extensions, Perl interrogates %Config, so in
       this situation %Config describes compilers that aren't there, and extension building fails. This
       forces people into choosing between re-compiling perl themselves using the compiler they have, or
       only using modules that the vendor ships.

       It would be good to find a way teach "Config.pm" about the installation setup, possibly involving
       probing at install time or later, so that the %Config in a binary distribution better describes the
       installed machine, when the installed machine differs from the build machine in some significant way.

       <b>make</b> <b>parallel</b> <b>builds</b> <b>work</b>

       Currently parallel builds (such as "make -j3") don't work reliably. We believe that this is due to
       incomplete dependency specification in the <u>Makefile</u>.  It would be good if someone were able to track
       down the causes of these problems, so that parallel builds worked properly.

       <b>linker</b> <b>specification</b> <b>files</b>

       Some platforms mandate that you provide a list of a shared library's external symbols to the linker,
       so the core already has the infrastructure in place to do this for generating shared perl libraries.
       My understanding is that the GNU toolchain can accept an optional linker specification file, and
       restrict visibility just to symbols declared in that file. It would be good to extend <u>makedef.pl</u> to
       support this format, and to provide a means within "Configure" to enable it. This would allow Unix
       users to test that the export list is correct, and to build a perl that does not pollute the global
       namespace with private symbols.

<b>Tasks</b> <b>that</b> <b>need</b> <b>a</b> <b>little</b> <b>C</b> <b>knowledge</b>
       These tasks would need a little C knowledge, but don't need any specific background or experience
       with XS, or how the Perl interpreter works

       <b>Make</b> <b>it</b> <b>clear</b> <b>from</b> <b>-v</b> <b>if</b> <b>this</b> <b>is</b> <b>the</b> <b>exact</b> <b>official</b> <b>release</b>

       Currently perl from "p4"/"rsync" ships with a <u>patchlevel.h</u> file that usually defines one local patch,
       of the form "MAINT12345" or "RC1". The output of perl -v doesn't report that a perl isn't an official
       release, and this information can get lost in bugs reports. Because of this, the minor version isn't
       bumped up until RC time, to minimise the possibility of versions of perl escaping that believe them-
       selves to be newer than they actually are.

       It would be useful to find an elegant way to have the "this is an interim maintenance release" or
       "this is a release candidate" in the terse -v output, and have it so that it's easy for the pumpking
       to remove this just as the release tarball is rolled up. This way the version pulled out of rsync
       would always say "I'm a development release" and it would be safe to bump the reported minor version
       as soon as a release ships, which would aid perl developers.

       This task is really about thinking of an elegant way to arrange the C source such that it's trivial
       for the Pumpking to flag "this is an official release" when making a tarball, yet leave the default
       source saying "I'm not the official release".

       <b>Tidy</b> <b>up</b> <b>global</b> <b>variables</b>

       There's a note in <u>intrpvar.h</u>

         /* These two variables are needed to preserve 5.8.x bincompat because
            we can't change function prototypes of two exported functions.
            Probably should be taken out of blead soon, and relevant prototypes
            changed.  */

       So doing this, and removing any of the unused variables still present would be good.

       <b>Ordering</b> <b>of</b> <b>"global"</b> <b>variables.</b>

       <u>thrdvar.h</u> and <u>intrpvarh</u> define the "global" variables that need to be per-thread under ithreads,
       where the variables are actually elements in a structure. As C dictates, the variables must be laid
       out in order of declaration. There is a comment "/* Important ones in the first cache line (if align-
       ment is done right) */" which implies that at some point in the past the ordering was carefully cho-
       sen (at least in part). However, it's clear that the ordering is less than perfect, as currently
       there are things such as 7 "bool"s in a row, then something typically requiring 4 byte alignment, and
       then an odd "bool" later on.  ("bool"s are typically defined as "char"s). So it would be good for
       someone to review the ordering of the variables, to see how much alignment padding can be removed.

       <b>bincompat</b> <b>functions</b>

       There are lots of functions which are retained for binary compatibility.  Clean these up. Move them
       to mathom.c, and don't compile for blead?

       <b>am</b> <b>I</b> <b>hot</b> <b>or</b> <b>not?</b>

       The idea of <u>pp</u><b>_</b><u>hot.c</u> is that it contains the <u>hot</u> ops, the ops that are most commonly used. The idea
       is that by grouping them, their object code will be adjacent in the executable, so they have a
       greater chance of already being in the CPU cache (or swapped in) due to being near another op already
       in use.

       Except that it's not clear if these really are the most commonly used ops. So anyone feeling like
       exercising their skill with coverage and profiling tools might want to determine what ops <u>really</u> are
       the most commonly used. And in turn suggest evictions and promotions to achieve a better <u>pp</u><b>_</b><u>hot.c</u>.

       <b>emulate</b> <b>the</b> <b>per-thread</b> <b>memory</b> <b>pool</b> <b>on</b> <b>Unix</b>

       For Windows, ithreads allocates memory for each thread from a separate pool, which it discards at
       thread exit. It also checks that memory is <u>free()</u>d to the correct pool. Neither check is done on
       Unix, so code developed there won't be subject to such strictures, so can harbour bugs that only show
       up when the code reaches Windows.

       It would be good to be able to optionally emulate the Window pool system on Unix, to let developers
       who only have access to Unix, or want to use Unix-specific debugging tools, check for these problems.
       To do this would involve figuring out how the "PerlMem_*" macros wrap "malloc()" access, and provid-
       ing a layer that records/checks the identity of the thread making the call, and recording all the
       memory allocated by each thread via this API so that it can be summarily <u>free()</u>d at thread exit. One
       implementation idea would be to increase the size of allocation, and store the "my_perl" pointer (to
       identify the thread) at the start, along with pointers to make a linked list of blocks for this
       thread. To avoid alignment problems it would be necessary to do something like

         union memory_header_padded {
           struct memory_header {
             void *thread_id;   /* For my_perl */
             void *next;        /* Pointer to next block for this thread */
           } data;
           long double padding; /* whatever type has maximal alignment constraint */
         };

       although "long double" might not be the only type to add to the padding union.

       <b>reduce</b> <b>duplication</b> <b>in</b> <b>sv_setsv_flags</b>

       "Perl_sv_setsv_flags" has a comment "/* There's a lot of redundancy below but we're going for speed
       here */"

       Whilst this was true 10 years ago, the growing disparity between RAM and CPU speeds mean that the
       trade offs have changed. In addition, the duplicate code adds to the maintenance burden. It would be
       good to see how much of the redundancy can be pruned, particular in the less common paths. (Profiling
       tools at the ready...). For example, why does the test for "Can't redefine active sort subroutine"
       need to occur in two places?

<b>Tasks</b> <b>that</b> <b>need</b> <b>a</b> <b>knowledge</b> <b>of</b> <b>XS</b>
       These tasks would need C knowledge, and roughly the level of knowledge of the perl API that comes
       from writing modules that use XS to interface to C.

       <b>IPv6</b>

       Clean this up. Check everything in core works

       <b>shrink</b> <b>"GV"</b>s, "CV"s

       By removing unused elements and careful re-ordering, the structures for "AV"s and "HV"s have recently
       been shrunk considerably. It's probable that the same approach would find savings in "GV"s and "CV"s,
       if not all the other larger-than-"PVMG" types.

       <b>merge</b> <b>Perl_sv_2[inpu]v</b>

       There's a lot of code shared between "Perl_sv_2iv_flags", "Perl_sv_2uv_flags", "Perl_sv_2nv", and
       "Perl_sv_2pv_flags". It would be interesting to see if some of it can be merged into common shared
       static functions. In particular, "Perl_sv_2uv_flags" started out as a cut&amp;paste from
       "Perl_sv_2iv_flags" around 5.005_50 time, and it may be possible to replace both with a single func-
       tion that returns a value or union which is split out by the macros in <u>sv.h</u>

       <b>UTF8</b> <b>caching</b> <b>code</b>

       The string position/offset cache is not optional. It should be.

       <b>Implicit</b> <b>Latin</b> <b>1</b> <b>=&gt;</b> <b>Unicode</b> <b>translation</b>

       Conversions from byte strings to UTF-8 currently map high bit characters to Unicode without transla-
       tion (or, depending on how you look at it, by implicitly assuming that the byte strings are in
       Latin-1). As perl assumes the C locale by default, upgrading a string to UTF-8 may change the meaning
       of its contents regarding character classes, case mapping, etc.  This should probably emit a warning
       (at least).

       This task is incremental - even a little bit of work on it will help.

       <b>autovivification</b>

       Make all autovivification consistent w.r.t LVALUE/RVALUE and strict/no strict;

       This task is incremental - even a little bit of work on it will help.

       <b>Unicode</b> <b>in</b> <b>Filenames</b>

       chdir, chmod, chown, chroot, exec, glob, link, lstat, mkdir, open, opendir, qx, readdir, readlink,
       rename, rmdir, stat, symlink, sysopen, system, truncate, unlink, utime, -X.  All these could poten-
       tially accept Unicode filenames either as input or output (and in the case of system and qx Unicode
       in general, as input or output to/from the shell).  Whether a filesystem - an operating system pair
       understands Unicode in filenames varies.

       Known combinations that have some level of understanding include Microsoft NTFS, Apple HFS+ (In Mac
       OS 9 and X) and Apple UFS (in Mac OS X), NFS v4 is rumored to be Unicode, and of course Plan 9.  How
       to create Unicode filenames, what forms of Unicode are accepted and used (UCS-2, UTF-16, UTF-8), what
       (if any) is the normalization form used, and so on, varies.  Finding the right level of interfacing
       to Perl requires some thought.  Remember that an OS does not implicate a filesystem.

       (The Windows -C command flag "wide API support" has been at least temporarily retired in 5.8.1, and
       the -C has been repurposed, see perlrun.)

       <b>Unicode</b> <b>in</b> <b>%ENV</b>

       Currently the %ENV entries are always byte strings.

       <b>use</b> <b>less</b> <b>'memory'</b>

       Investigate trade offs to switch out perl's choices on memory usage.  Particularly perl should be
       able to give memory back.

       This task is incremental - even a little bit of work on it will help.

       <b>Re-implement</b> <b>":unique"</b> <b>in</b> <b>a</b> <b>way</b> <b>that</b> <b>is</b> <b>actually</b> <b>thread-safe</b>

       The old implementation made bad assumptions on several levels. A good 90% solution might be just to
       make ":unique" work to share the string buffer of SvPVs. That way large constant strings can be
       shared between ithreads, such as the configuration information in <u>Config</u>.

       <b>Make</b> <b>tainting</b> <b>consistent</b>

       Tainting would be easier to use if it didn't take documented shortcuts and allow taint to "leak"
       everywhere within an expression.

       <b>readpipe(LIST)</b>

       <u>system()</u> accepts a LIST syntax (and a PROGRAM LIST syntax) to avoid running a shell. <u>readpipe()</u> (the
       function behind qx//) could be similarly extended.

<b>Tasks</b> <b>that</b> <b>need</b> <b>a</b> <b>knowledge</b> <b>of</b> <b>the</b> <b>interpreter</b>
       These tasks would need C knowledge, and knowledge of how the interpreter works, or a willingness to
       learn.

       <b>lexical</b> <b>pragmas</b>

       Document the new support for lexical pragmas in 5.9.3 and how %^H works.  Maybe "re", "encoding",
       maybe other pragmas could be made lexical.

       <b>Attach/detach</b> <b>debugger</b> <b>from</b> <b>running</b> <b>program</b>

       The old perltodo notes "With "gdb", you can attach the debugger to a running program if you pass the
       process ID. It would be good to do this with the Perl debugger on a running Perl program, although
       I'm not sure how it would be done." ssh and screen do this with named pipes in /tmp. Maybe we can
       too.

       <b>Constant</b> <b>folding</b>

       The peephole optimiser should trap errors during constant folding, and give up on the folding, rather
       than bailing out at compile time.  It is quite possible that the unfoldable constant is in unreach-
       able code, eg something akin to "$a = 0/0 if 0;"

       <b>LVALUE</b> <b>functions</b> <b>for</b> <b>lists</b>

       The old perltodo notes that lvalue functions don't work for list or hash slices. This would be good
       to fix.

       <b>LVALUE</b> <b>functions</b> <b>in</b> <b>the</b> <b>debugger</b>

       The old perltodo notes that lvalue functions don't work in the debugger. This would be good to fix.

       <b>_</b> <b>prototype</b> <b>character</b>

       Study the possibility of adding a new prototype character, "_", meaning "this argument defaults to
       $_".

       <b>state</b> <b>variables</b>

       "my $foo if 0;" is deprecated, and should be replaced with "state $x = "initial value\n";" the syntax
       from Perl 6.

       <b>@INC</b> <b>source</b> <b>filter</b> <b>to</b> <b>Filter::Simple</b>

       The second return value from a sub in @INC can be a source filter. This isn't documented. It should
       be changed to use Filter::Simple, tested and documented.

       <b>regexp</b> <b>optimiser</b> <b>optional</b>

       The regexp optimiser is not optional. It should configurable to be, to allow its performance to be
       measured, and its bugs to be easily demonstrated.

       <b>UNITCHECK</b>

       Introduce a new special block, UNITCHECK, which is run at the end of a compilation unit (module,
       file, eval(STRING) block). This will correspond to the Perl 6 CHECK. Perl 5's CHECK cannot be changed
       or removed because the O.pm/B.pm backend framework depends on it.

       <b>optional</b> <b>optimizer</b>

       Make the peephole optimizer optional. Currently it performs two tasks as it walks the optree - gen-
       uine peephole optimisations, and necessary fixups of ops. It would be good to find an efficient way
       to switch out the optimisations whilst keeping the fixups.

       <b>You</b> <b>WANT</b> <b>*how*</b> <b>many</b>

       Currently contexts are void, scalar and list. split has a special mechanism in place to pass in the
       number of return values wanted. It would be useful to have a general mechanism for this, backwards
       compatible and little speed hit.  This would allow proposals such as short circuiting sort to be
       implemented as a module on CPAN.

       <b>lexical</b> <b>aliases</b>

       Allow lexical aliases (maybe via the syntax "my \$alias = \$foo".

       <b>entersub</b> <b>XS</b> <b>vs</b> <b>Perl</b>

       At the moment pp_entersub is huge, and has code to deal with entering both perl and XS subroutines.
       Subroutine implementations rarely change between perl and XS at run time, so investigate using 2 ops
       to enter subs (one for XS, one for perl) and swap between if a sub is redefined.

       <b>Self</b> <b>ties</b>

       self ties are currently illegal because they caused too many segfaults. Maybe the causes of these
       could be tracked down and self-ties on all types re- instated.

       <b>Optimize</b> <b>away</b> <b>@_</b>

       The old perltodo notes "Look at the "reification" code in "av.c"".

       <b>What</b> <b>hooks</b> <b>would</b> <b>assertions</b> <b>need?</b>

       Assertions are in the core, and work. However, assertions needed to be added as a core patch, rather
       than an XS module in ext, or a CPAN module, because the core has no hooks in the necessary places. It
       would be useful to investigate what hooks would need to be added to make it possible to provide the
       full assertion support from a CPAN module, so that we aren't constraining the imagination of future
       CPAN authors.

<b>Big</b> <b>projects</b>
       Tasks that will get your name mentioned in the description of the "Highlights of 5.10"

       <b>make</b> <b>ithreads</b> <b>more</b> <b>robust</b>

       Generally make ithreads more robust. See also "iCOW"

       This task is incremental - even a little bit of work on it will help, and will be greatly appreci-
       ated.

       <b>iCOW</b>

       Sarathy and Arthur have a proposal for an improved Copy On Write which specifically will be able to
       COW new ithreads. If this can be implemented it would be a good thing.

       <b>(?{...})</b> <b>closures</b> <b>in</b> <b>regexps</b>

       Fix (or rewrite) the implementation of the "/(?{...})/" closures.

       <b>A</b> <b>re-entrant</b> <b>regexp</b> <b>engine</b>

       This will allow the use of a regex from inside (?{ }), (??{ }) and (?(?{ })|) constructs.



perl v5.8.8                                      2006-01-07                                      PERLTODO(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/perltodo.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/perltodo.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/perltodo.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
