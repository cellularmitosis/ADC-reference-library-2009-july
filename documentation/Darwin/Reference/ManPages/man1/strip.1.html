<html><head><title>Mac OS X Developer Tools
 Manual Page For strip(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/strip" title="Mac OS X Developer Tools
 Manual Page for strip(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/strip"; name=strip(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
STRIP(1)                                                                                            STRIP(1)



<b>NAME</b>
       strip - remove symbols

<b>SYNOPSIS</b>
       <b>strip</b> [ option ] name ...

<b>DESCRIPTION</b>
       <u>strip</u>  removes  or modifies the symbol table attached to the output of the assembler and link editor.
       This is useful to save space after a program has been debugged and to limit  dynamically  bound  sym-<font color="#ffffff" class="whiteout">bols.&nbsp;symbols.</font>
       bols.

       <u>strip</u>  no  longer  removes  relocation entries under any condition.  Instead, it updates the external
       relocation entries (and indirect symbol table entries) to reflect the resulting symbol table.   <u>strip</u>
       prints  an  error  message  for those symbols not in the resulting symbol table that are needed by an
       external relocation entry or an indirect symbol table.  The link editor <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a>  is  the  only  program
       that can strip relocation entries and know if it is safe to do so.

       When  <u>strip</u>  is used with no options on an executable file, it checks that file to see if it uses the
       dynamic link editor.  If it does, the effect of the <u>strip</u> command is the same as using the <b>-u</b> and  <b>-r</b>
       options. If the file does not use the dynamic link editor, the effect of <u>strip</u> without any options is
       the same as using the <b>-s</b> option of <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a>.  The options <b>-S,</b> <b>-x,</b> and <b>-X</b> have the  same  effect  as  the
       <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a>  options.   The  options  to  <u>strip</u>(1) can be combined to trim the symbol table to just what is
       desired.

       You should trim the symbol table of files used with  dynamic  linking  so  that  only  those  symbols
       intended  to  be external interfaces are saved.  Files used with dynamic linking include executables,
       objects that are loaded (usually bundles), and dynamic shared libraries.   Only  global  symbols  are
       used by the dynamic linking process. You should strip all non-global symbols.

       When an executable is built with all its dependent dynamic shared libraries, it is typically stripped
       with:
              % strip -u -r executable
       which saves all undefined symbols (usually defined in the dynamic shared libraries)  and  all  global
       symbols  defined  in the executable referenced by the dynamic libraries (as marked by the static link
       editor when the executable was built).  This is the maximum level of striping for an executable  that
       will still allow the program to run correctly with its libraries.

       If the executable loads objects, however, the global symbols that the objects reference from the exe-<font color="#ffffff" class="whiteout">cutable&nbsp;executable</font>
       cutable also must not be stripped.  In this case, you should list the global symbols  that  the  exe-<font color="#ffffff" class="whiteout">cutable&nbsp;executable</font>
       cutable  wants  to  allow the objects to reference in a file, and those global symbols are then saved
       when the executable is stripped. For example:
              % strip -u -r -s interface_symbols executable
       where the file <u>interface</u><b>_</b><u>symbols</u> would contain only those global symbols from the executable that the
       executable wants the loaded objects to have access to.

       For  objects  that  will  be loaded into an executable, you should trim the symbol table to limit the
       global symbols the executable will see.  This would be done with:
              % strip -s interface_symbols -u object
       which would leave only the undefined symbols and symbols listed in the file <u>interface</u><b>_</b><u>symbols</u> in  the
       object  file.  In this case, <u>strip</u>(1) has updated the relocation entries and indirect symbol table to
       reflect the new symbol table.

       For dynamic shared libraries, the maximum level of stripping is usually <b>-x</b> (to remove all  non-global
       symbols).

<b>STRIPPING</b> <b>FILES</b> <b>FOR</b> <b>USE</b> <b>WITH</b> <b>RUNTIME</b> <b>LOADED</b> <b>CODE</b>
       Trimming  the symbol table for programs that load code at runtime allows you to control the interface
       that the executable wants to provide to the objects that it will load; it will not  have  to  publish
       symbols  that  are not part of its interface.  For example, an executable that wishes to allow only a
       subset of its global symbols but all of the statically linked shared library's  globals  to  be  used
       would be stripped with:
              % strip -s interface_symbols -A executable
       where  the file <u>interface</u><b>_</b><u>symbols</u> would contain only those symbols from the executable that it wishes
       the code loaded at runtime to have access to.  Another example is an object that is made up of a num-<font color="#ffffff" class="whiteout">ber&nbsp;number</font>
       ber of other objects that will be loaded into an executable would built and then stripped with:
              % ld -o relocatable.o -r a.o b.o c.o
              % strip -s interface_symbols -u relocatable.o
       which  would leave only the undefined symbols and symbols listed in the file <u>interface</u><b>_</b><u>symbols</u> in the
       object file.  In this case <u>strip</u>(1) has updated the relocation entries to reflect the new symbol  ta-<font color="#ffffff" class="whiteout">ble.&nbsp;table.</font>
       ble.

<b>OPTIONS</b>
       The first set of options indicate symbols that are to be save in the resulting output file.

       <b>-u</b>     Save all undefined symbols.  This is intended for use with relocatable objects to save symbols
              referred to by external relocation entries.  Note that common symbols are also referred to  by
              external relocation entries and this flag does not save those symbols.

       <b>-r</b>     Save all symbols referenced dynamically.

       <b>-s</b> <u>filename</u>
              Save  the  symbol  table  entries for the global symbols listed in <u>filename.</u>  The symbol names
              listed in <u>filename</u> must be one per line. Leading and trailing white space are not part of  the
              symbol name.  Lines starting with # are ignored, as are lines with only white space.

       <b>-R</b> <u>filename</u>
              Remove  the symbol table entries for the global symbols listed in <u>filename.</u>  This file has the
              same format as the <b>-s</b> <u>filename</u> option above.  This option is usually used in combination  with
              other options that save some symbols, <b>-S,</b> <b>-x,</b> etc.

       <b>-i</b>     Ignore  symbols  listed in the <b>-s</b> <u>filename</u> or <b>-R</b> <u>filename</u> options that are not in the files to
              be stripped (this is normally an error).

       <b>-d</b> <u>filename</u>
              Save the debugging symbol table entries for each source file name  listed  in  <u>filename.</u>   The
              source  file  names  listed  in <u>filename</u> must be one per line with no other white space in the
              file except the newlines on the end of each line.  And they must be just the base name of  the
              source file without any leading directories.

       <b>-A</b>     Save all global absolute symbols except those with a value of zero, and save Objective C class
              symbols.  This is intended for use of programs that load code at runtime and want  the  loaded
              code to use symbols from the shared libraries (this is only used with NEXTSTEP 3.3 and earlier
              releases).

       <b>-n</b>     Save all N_SECT global symbols.  This is intended for use with executable programs in combina-<font color="#ffffff" class="whiteout">tion&nbsp;combination</font>
              tion with <b>-A</b> to remove the symbols needed for correct static link editing which are not needed
              for use with runtime loading interfaces where using the <b>-s</b> <u>filename</u> would be too much  trouble
              (this is only used with NEXTSTEP 3.3 and earlier releases).

       These options specify symbols to be removed from the resulting output file.

       <b>-S</b>     Remove  the  debugging symbol table entries (those created by the <b>-g</b> option to <a href="cc.1.html#//apple_ref/doc/man/1/cc"><u>cc</u>(1)</a> and other
              compilers).

       <b>-X</b>     Remove the local symbols whose names begin with `L'.

       <b>-x</b>     Remove all local symbols (saving only global symbols).

       <b>-c</b>     Remove the section contents of a dynamic library creating a stub library output file.

       And the last options:

       <b>-</b>      Treat all remaining arguments as file names and not options.

       <b>-o</b> <u>output</u>
              Write the result into the file <u>output.</u>

       <b>-no_uuid</b>
              Remove any LC_UUID load commands.

       <b>-arch</b> <u>arch</u><b>_</b><u>type</u>
              Specifies the architecture, <u>arch</u><b>_</b><u>type,</u> of the file for <u>strip</u>(1) to operate on when the file is
              a  universal  file.   (See  <a href="../man3/arch.3.html#//apple_ref/doc/man/3/arch"><u>arch</u>(3)</a>  for the currently know <u>arch</u><b>_</b><u>type</u>s.)  The <u>arch</u><b>_</b><u>type</u> can be
              "all" to operate on all architectures in the file, which is the default.

<b>SEE</b> <b>ALSO</b>
       <a href="ld.1.html#//apple_ref/doc/man/1/ld">ld(1)</a>, <a href="cc.1.html#//apple_ref/doc/man/1/cc">cc(1)</a>

<b>EXAMPLES</b>
       When creating a stub library the <b>-c</b> and <b>-x</b> are typically used:

              strip -x -c libfoo -o libfoo.stripped

<b>LIMITATIONS</b>
       Not every layout of a Mach-O file can be stripped by this program.  But all layouts produced  by  the
       Apple compiler system can be stripped.



Apple Computer, Inc.                           August 4, 2006                                       STRIP(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/strip.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/strip.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/strip.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
