<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>XML-RPC and SOAP Programming Guide: Making Remote Procedure Calls From Applications</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Making Remote Procedure Calls From Applications"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001724" title="Making Remote Procedure Calls From Applications"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../ScriptingAutomation/index.html#//apple_ref/doc/uid/TP30000440-TP40005948" target="_top">Scripting &amp; Automation</a> &gt; <a href="../../../../ScriptingAutomation/InternetWeb-date.html#//apple_ref/doc/uid/TP30000440-TP40005948-TP30000526" target="_top">Internet &amp; Web</a> &gt; <a href="../chapter1/soapXMLRPC_intro.html#//apple_ref/doc/uid/20001722-DontLinkElementID_1">XML-RPC and SOAP Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../chapter3/soapXMLRPC_scripts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../history/soapXMLRPC_rev_hist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/20001724-DontLinkElementID_18" title="Making Remote Procedure Calls From Applications"></a><h1><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF101" title="Making Remote Procedure Calls From Applications"></a>Making Remote Procedure Calls From Applications</h1><p>Starting with Mac OS X version 10.1, the Apple Event Manager provides support for using the XML-RPC and SOAP protocols to make remote procedure calls from AppleScript scripts and from applications. This chapter provides sample code that show how to make remote procedure calls from applications or other code.</p><p>This chapter assumes you are familiar with the conceptual material in <span class="content_text"><a href="../chapter1/soapXMLRPC_intro.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001722-TPXREF101">“Introduction to XML-RPC and SOAP Programming Guide.”</a></span> To test any of the sample code shown in this book, you must have an Internet connection.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIGIJEB">Making an XML-RPC Call</a>
				
			<br/>
			
        
			
			
				<a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIDEFFJ">Making a SOAP Request</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIGIJEB" title="Making an XML-RPC Call"></a><h2>Making an XML-RPC Call</h2><p>To make an XML-RPC call from an application or other code, you create an Apple event that describes the remote procedure call, use the <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AESend" target="_top">AESend</a></code> function to send it, and extract any returned information from the reply Apple event. This process, along with the Apple Event Manager API you use, is described in <span class="content_text"><a href="../chapter2/soapXMLRPC_about.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001721-BAJHAJDD">“Remote Procedure Calls From Applications.”</a></span></p><p>This section provides sample code you can use from an application, tool, or other code to send an XML-RPC request to a server. The sample code calls an Internet server that returns the state name for the passed state index. That is, for an index value of 1 it returns Alabama, for 2 it returns Alaska, for 50 it returns Wyoming, and so on.</p><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF147" title="Setting Up a Project"></a><h3>Setting Up a Project</h3><p>You can use the sample code in this section in a number of ways. The following steps show one approach: creating a C++ tool with Project Builder:</p><ol class="ol"><li class="li"><p>Launch Project Builder.</p></li><li class="li"><p>Choose New Project from the File menu.</p></li><li class="li"><p>Choose the C++ tool template.</p></li><li class="li"><p>Replace the code in the automatically generated main.cpp file with the sample code in <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIJFCBF">Listing 4-1</a></span>, <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIFBHFH">Listing 4-2</a></span>, and <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCICACFC">Listing 4-3</a></span>, in that order.</p></li><li class="li"><p>Use Add Frameworks from the Project menu to add <code>Carbon.framework</code> to the project.</p></li></ol><p>Once you’ve built the tool, you can run it in Project Builder and examine its output in the Console pane, or run it in a Terminal window.</p><p>You can also build this code directly in a Terminal window with the following compile line:</p><div class="codesample"><table><tr><td scope="row"><pre>cc -g -o xmlrpc xmlrpc.cp -framework Carbon<span></span></pre></td></tr></table></div><p>If you want to compile with a C compiler, rather than a C++ compiler, you’ll have to modify the code so that all variables are declared at the beginning of functions, rather than where they are used.</p><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF148" title="Includes, Constants, and Declarations"></a><h3>Includes, Constants, and Declarations</h3><p><span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIJFCBF">Listing 4-1</a></span> shows include statements, constants, and declarations to place at the beginning of your code file. This code</p><ul class="spaceabove"><li class="li"><p>includes <code>Carbon.h</code> to gain access to the scripting API it needs</p></li><li class="li"><p>defines a simple error macro that uses <code><!--a-->fprintf<!--/a--></code> to show an error number and line number, then exits the application</p></li><li class="li"><p>defines constants that specify the server and method name to call to get state name information</p></li><li class="li"><p>declares a debug function that is defined later</p></li></ul><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_19" title="Listing 3-1Includes, constants, and declarations for making an XML-RPC call."></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIJFCBF" title="Listing 3-1Includes, constants, and declarations for making an XML-RPC call."></a><strong>Listing 3-1&nbsp;&nbsp;</strong>Includes, constants, and declarations for making an XML-RPC call.</p><div class="codesample"><table><tr><td scope="row"><pre>#include &lt;Carbon/Carbon.h><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Define a simple error macro that just shows the error and line number<span></span></pre></td></tr><tr><td scope="row"><pre>#define checkErr(err) \<span></span></pre></td></tr><tr><td scope="row"><pre>    while (err != noErr) \<span></span></pre></td></tr><tr><td scope="row"><pre>        { fprintf(stderr, "Failed at line %d, error %d\n", __LINE__, err);\<span></span></pre></td></tr><tr><td scope="row"><pre>         exit(-1); }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Define constants for the XML-RPC server and method.<span></span></pre></td></tr><tr><td scope="row"><pre>static const char* serverURL = "http://betty.userland.com/RPC2";<span></span></pre></td></tr><tr><td scope="row"><pre>static const char* methodName = "examples.getStateName";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Declare our debug function.<span></span></pre></td></tr><tr><td scope="row"><pre>static void dumpDebug(const char* msg, const AppleEvent* replyEvent,<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType debugDataKey);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF149" title="A Main Function That Makes an XML-RPC Call"></a><h3>A Main Function That Makes an XML-RPC Call</h3><p><span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIFBHFH">Listing 4-2</a></span> shows a <code><!--a-->main<!--/a--></code> function that prepares an XML-RPC Apple event, sends it, and displays information from the reply Apple event. To do so, it performs the following steps:</p><ol class="ol"><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateDesc" target="_top">AECreateDesc</a></code> to create a target address descriptor of type <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/typeApplicationURL" target="_top">typeApplicationURL</a></code> that specifies the target for the request (a remote server). It uses the constant <code><!--a  -->serverURL<!--/a--></code> defined previously to specify the desired Internet server.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateAppleEvent" target="_top">AECreateAppleEvent</a></code> to create an Apple event with event class <code><!--a  -->kAERPCClass<!--/a--></code>, event ID <code><!--a  -->KAEXMLRPCScheme<!--/a--></code>, and with the target address descriptor from step 1.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateList" target="_top">AECreateList</a></code> to create the direct object for the Apple event.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutParamPtr" target="_top">AEPutParamPtr</a></code> to insert the method name, using the key <code><!--a  -->keyRPCMethodName<!--/a--></code> and the constant <code><!--a  -->methodName<!--/a--></code> defined previously.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateList" target="_top">AECreateList</a></code> to create a list descriptor for the remote procedure call parameters.</p></li><li class="li"><p> It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutPtr" target="_top">AEPutPtr</a></code> to insert the only parameter for the <code><!--a-->examples.getStateName<!--/a--></code> function, the state index, into the parameter list. It passes <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/typeSInt32" target="_top">typeSInt32</a></code> for the type code and an index value of 41. The index number was chosen randomly from the legal values of 1 to 50 (the fifty states).</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutParamDesc" target="_top">AEPutParamDesc</a></code> to add the parameter list to the Apple event’s direct object.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutParamDesc" target="_top">AEPutParamDesc</a></code> to insert the direct object into the Apple event.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutAttributePtr" target="_top">AEPutAttributePtr</a></code> to turn on debugging by adding an attribute to the event with key <code><!--a  -->keyXMLDebuggingAttr<!--/a--></code> and the value <code><!--a  -->kAEDebugXMLDebugAll<!--/a--></code>. This step is optional.</p></li><li class="li"><p>It initializes a reply Apple event.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AESend" target="_top">AESend</a></code> to send the Apple event, passing <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/kAEWaitReply" target="_top">kAEWaitReply</a></code> to indicate it will wait for a reply.</p></li><li class="li"><p>If the previous call succeeds, it calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEGetParamPtr" target="_top">AEGetParamPtr</a></code> with key <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/keyDirectObject" target="_top">keyDirectObject</a></code> and desired type of <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/typeChar" target="_top">typeChar</a></code> to extract the direct object of the reply Apple event. For a successful call with state index 41, the returned value is the string “South Dakota”.</p><p>It calls <code><!--a-->fprintf<!--/a--></code> to display the state name. For example</p><div class="codesample"><table><tr><td scope="row"><pre>    State is South Dakota!<span></span></pre></td></tr></table></div><div class="notebox"><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_20" title="Note"></a><p><strong>Note:</strong>&nbsp;Starting in Mac OS X version 10.3, <code>typeChar</code> is deprecated in favor of one of the Unicode string types. For details, see the descriptions for <code>typeChar</code> and for the Unicode string types in <em><a href="../../../../Carbon/Reference/Apple_Event_Manager/index.html#//apple_ref/doc/uid/TP30000134" target="_top">Apple Event Manager Reference</a></em>.</p></div></li><li class="li"><p>The main function then calls the function <code><!--a-->dumpDebug<!--/a--></code>, shown in <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCICACFC">Listing 4-3</a></span>, once each to display the header and data for the original XML-RPC request and for the reply from the server. <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIHHAEI">Listing 4-4</a></span> shows the possible result of these calls.</p></li></ol><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_21" title="Listing 3-2main function to send an XML-RPC Apple event."></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIFBHFH" title="Listing 3-2main function to send an XML-RPC Apple event."></a><strong>Listing 3-2&nbsp;&nbsp;</strong>main function to send an XML-RPC Apple event.</p><div class="codesample"><table><tr><td scope="row"><pre>//------------------------- main ----------------------------------<span></span></pre></td></tr><tr><td scope="row"><pre>// Builds and sends an XML-RPC Apple event.<span></span></pre></td></tr><tr><td scope="row"><pre>// Sends the Apple event to a server that returns the state<span></span></pre></td></tr><tr><td scope="row"><pre>//   name corresponding to the passed number; e.g., the number<span></span></pre></td></tr><tr><td scope="row"><pre>//   5 corresponds to the state California.<span></span></pre></td></tr><tr><td scope="row"><pre>// Prints the returned state name, then calls function<span></span></pre></td></tr><tr><td scope="row"><pre>//   to dump debug information from reply<span></span></pre></td></tr><tr><td scope="row"><pre>int main()<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    OSErr err;<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDesc targetAddress;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create the target address.<span></span></pre></td></tr><tr><td scope="row"><pre>    //   Using type typeApplicationURL makes it a remote procedure call event.<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AECreateDesc(typeApplicationURL, serverURL, strlen(serverURL), &amp;targetAddress);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create an XML-RPC Apple event<span></span></pre></td></tr><tr><td scope="row"><pre>    AppleEvent xmlrpcEvent;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AECreateAppleEvent(kAERPCClass, kAEXMLRPCScheme, &amp;targetAddress,<span></span></pre></td></tr><tr><td scope="row"><pre>            kAutoGenerateReturnID, kAnyTransactionID, &amp;xmlrpcEvent);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDisposeDesc(&amp;targetAddress);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create the parameters for the event - the direct object is a record<span></span></pre></td></tr><tr><td scope="row"><pre>    //   that contains the method name, and a list of parameters<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDesc directObject;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AECreateList(NULL, 0, true, &amp;directObject);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Insert the method name<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutParamPtr(&amp;directObject, keyRPCMethodName, typeChar,<span></span></pre></td></tr><tr><td scope="row"><pre>        methodName, strlen(methodName));<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create the list for the actual parameters<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDesc paramList;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AECreateList(NULL, 0, false, &amp;paramList);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Put the state index into the parameter array<span></span></pre></td></tr><tr><td scope="row"><pre>    SInt32 stateIndex = 41; // Should correspond to South Dakota<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutPtr(&amp;paramList, 0, typeSInt32, &amp;stateIndex,<span></span></pre></td></tr><tr><td scope="row"><pre>        sizeof(stateIndex));<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Put the parameter list into the direct object<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutParamDesc(&amp;directObject, keyRPCMethodParam, &amp;paramList);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDisposeDesc(&amp;paramList);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Put the direct object into the event<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutParamDesc(&amp;xmlrpcEvent, keyDirectObject, &amp;directObject);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDisposeDesc(&amp;directObject);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Request all available debugging information. That will include<span></span></pre></td></tr><tr><td scope="row"><pre>    //   the header and body for both the XML-RPC request and the reply<span></span></pre></td></tr><tr><td scope="row"><pre>    //   from the server.<span></span></pre></td></tr><tr><td scope="row"><pre>    SInt32 debugAttr = kAEDebugXMLDebugAll;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutAttributePtr(&amp;xmlrpcEvent, keyXMLDebuggingAttr, typeSInt32,<span></span></pre></td></tr><tr><td scope="row"><pre>        &amp;debugAttr, sizeof(debugAttr));<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Send the event<span></span></pre></td></tr><tr><td scope="row"><pre>    AppleEvent replyEvent;<span></span></pre></td></tr><tr><td scope="row"><pre>    AEInitializeDescInline(&amp;replyEvent);<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AESend(&amp;xmlrpcEvent, &amp;replyEvent, kAEWaitReply, kAENormalPriority,<span></span></pre></td></tr><tr><td scope="row"><pre>        kAEDefaultTimeout, NULL, NULL);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // The direct object of the reply Apple event contains<span></span></pre></td></tr><tr><td scope="row"><pre>    // our result (the name of the state)<span></span></pre></td></tr><tr><td scope="row"><pre>    char buffer[255];<span></span></pre></td></tr><tr><td scope="row"><pre>    Size actualSize;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEGetParamPtr(&amp;replyEvent, keyDirectObject, typeChar, NULL,<span></span></pre></td></tr><tr><td scope="row"><pre>        buffer, sizeof(buffer), &amp;actualSize);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    fprintf(stderr, "State is %.*s!\n", actualSize, buffer);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Dump debug information<span></span></pre></td></tr><tr><td scope="row"><pre>    dumpDebug("HTTP POST header", &amp;replyEvent, keyAEPOSTHeaderData);<span></span></pre></td></tr><tr><td scope="row"><pre>    dumpDebug("XML Request", &amp;replyEvent, keyAEXMLRequestData);<span></span></pre></td></tr><tr><td scope="row"><pre>    dumpDebug("HTTP Reply header", &amp;replyEvent, keyAEReplyHeaderData);<span></span></pre></td></tr><tr><td scope="row"><pre>    dumpDebug("XML Reply", &amp;replyEvent, keyAEXMLReplyData);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return 0;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF150" title="Displaying XML-RPC Debug Information"></a><h3>Displaying XML-RPC Debug Information</h3><p><span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCICACFC">Listing 4-3</a></span> shows a function that extracts debug information from a passed Apple event and displays it with <code><!--a-->fprintf<!--/a--></code>. The information displayed depends on the key passed in the <code><!--a  -->debugDataKey<!--/a--></code> parameter. To display debug data, this function:</p><ol class="ol"><li class="li"><p>Calls <code>AEGetParamDesc</code>, passing the key specified by the <code>debugDataKey</code> parameter and the desired type <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/typeChar" target="_top">typeChar</a></code>, to extract character data for that debug key.</p><p>The possible debug keys are shown in <span class="content_text"><a href="../chapter2/soapXMLRPC_about.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001721-BAJBAFEG">“Apple Event Manager API for Remote Procedure Calls.”</a></span></p></li><li class="li"><p>If step 1 fails, it uses <code>fprintf</code> to display an error message.</p><p>Otherwise, it formats the retrieved character data to show tabs, carriage returns, and line feeds, and displays it with <code><!--a-->fprintf<!--/a--></code>.</p></li></ol><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_22" title="Listing 3-3A function to display debug information from an XML-RPC reply Apple event."></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCICACFC" title="Listing 3-3A function to display debug information from an XML-RPC reply Apple event."></a><strong>Listing 3-3&nbsp;&nbsp;</strong>A function to display debug information from an XML-RPC reply Apple event.</p><div class="codesample"><table><tr><td scope="row"><pre>// ------------------------- dumpDebug ----------------------------------<span></span></pre></td></tr><tr><td scope="row"><pre>// Extract and display debug information from a reply Apple event.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>static void dumpDebug(const char* msg, const AppleEvent* replyEvent,<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType debugDataKey)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    fprintf(stderr, "%s:\n", msg);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    AEDesc paramDesc;<span></span></pre></td></tr><tr><td scope="row"><pre>    OSErr err = AEGetParamDesc(replyEvent, debugDataKey,<span></span></pre></td></tr><tr><td scope="row"><pre>                                typeChar, &amp;paramDesc);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (err != noErr)<span></span></pre></td></tr><tr><td scope="row"><pre>        fprintf(stderr, "\tCan't get debug data %4.4s - %d returned\n",<span></span></pre></td></tr><tr><td scope="row"><pre>            &amp;debugDataKey, err);<span></span></pre></td></tr><tr><td scope="row"><pre>    else<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        int len = AEGetDescDataSize(&amp;paramDesc);<span></span></pre></td></tr><tr><td scope="row"><pre>        char* buffer = new char[len];<span></span></pre></td></tr><tr><td scope="row"><pre>        AEGetDescData(&amp;paramDesc, buffer, len);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        char* p = buffer;<span></span></pre></td></tr><tr><td scope="row"><pre>        char* pEnd = buffer + len;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        while (p &lt; pEnd)<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>            char* pNext = strpbrk(p, "\r\n");<span></span></pre></td></tr><tr><td scope="row"><pre>            if (pNext == NULL)<span></span></pre></td></tr><tr><td scope="row"><pre>                pNext = pEnd;<span></span></pre></td></tr><tr><td scope="row"><pre>            else<span></span></pre></td></tr><tr><td scope="row"><pre>            {<span></span></pre></td></tr><tr><td scope="row"><pre>                while (pNext &lt; pEnd &amp;&amp; (*pNext == '\r' || *pNext == '\n'))<span></span></pre></td></tr><tr><td scope="row"><pre>                {<span></span></pre></td></tr><tr><td scope="row"><pre>                    *pNext++ = '\0';<span></span></pre></td></tr><tr><td scope="row"><pre>                }<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            fprintf(stderr, "\t%.*s\n", pNext - p, p);<span></span></pre></td></tr><tr><td scope="row"><pre>            p = pNext;<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        AEDisposeDesc(&amp;paramDesc);<span></span></pre></td></tr><tr><td scope="row"><pre>        delete[] buffer;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    fprintf(stderr, "\n\n");<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The following listing shows sample output from the <code>dumpDebug</code> function for an XML-RPC Apple event.</p><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_23" title="Listing 3-4Sample header and data from an XML-RPC post and the reply."></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIHHAEI" title="Listing 3-4Sample header and data from an XML-RPC post and the reply."></a><strong>Listing 3-4&nbsp;&nbsp;</strong>Sample header and data from an XML-RPC post and the reply.</p><div class="codesample"><table><tr><td scope="row"><pre>HTTP POST header:<span></span></pre></td></tr><tr><td scope="row"><pre>    POST /RPC2 HTTP/1.0<span></span></pre></td></tr><tr><td scope="row"><pre>    User-Agent: Mac OS X; AEServer (1.0)<span></span></pre></td></tr><tr><td scope="row"><pre>    Host: betty.userland.com<span></span></pre></td></tr><tr><td scope="row"><pre>    Content-Type: text/xml<span></span></pre></td></tr><tr><td scope="row"><pre>    Content-length: 216<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>XML Request:<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;methodCall><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;methodName>examples.getStateName&lt;/methodName><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;params><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;param><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;value><span></span></pre></td></tr><tr><td scope="row"><pre>                        &lt;i4>41&lt;/i4><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;/param><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/params><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/methodCall><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>HTTP Reply header:<span></span></pre></td></tr><tr><td scope="row"><pre>    HTTP/1.1 200 OK<span></span></pre></td></tr><tr><td scope="row"><pre>    Connection: close<span></span></pre></td></tr><tr><td scope="row"><pre>    Content-Length: 141<span></span></pre></td></tr><tr><td scope="row"><pre>    Content-Type: text/xml<span></span></pre></td></tr><tr><td scope="row"><pre>    Date: Mon, 13 Aug 2001 03:56:34 GMT<span></span></pre></td></tr><tr><td scope="row"><pre>    Server: UserLand Frontier/7.0.1-WinNT<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>XML Reply:<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;?xml version="1.0"?><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;methodResponse><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;params><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;param><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;value>South Dakota&lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;/param><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/params><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/methodResponse><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIDEFFJ" title="Making a SOAP Request"></a><h2>Making a SOAP Request</h2><p>To make a SOAP request from an application or other code, you create an Apple event that describes the request, use the <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AESend" target="_top">AESend</a></code> function to send it, and extract any returned information from the reply Apple event. This process, along with the Apple Event Manager API you use, is described in <span class="content_text"><a href="../chapter2/soapXMLRPC_about.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001721-BAJHAJDD">“Remote Procedure Calls From Applications.”</a></span></p><p>This section provides sample code for sending a SOAP request to a server. Like the sample code in <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIGIJEB">“Making an XML-RPC Call,”</a></span> it makes a request to an Internet server that returns the state name for the passed state index. That is, for an index value of 1 it returns Alabama, for 2 it returns Alaska, and so on. In this case, however, the sample code calls the <code>getStateName</code> method, a SOAP method on an entirely different server.</p><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF151" title="Setting Up a Project"></a><h3>Setting Up a Project</h3><p>You can use the sample code in this task in a number of ways. The following steps show how to create a C++ tool with Project Builder:</p><ol class="ol"><li class="li"><p>Launch Project Builder.</p></li><li class="li"><p>Choose New Project from the File menu.</p></li><li class="li"><p>Choose the C++ tool template.</p></li><li class="li"><p>Replace the code in the automatically generated main.cpp file with the sample code in <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIBBGCI">Listing 4-5</a></span>, <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIIFEHI">Listing 4-6</a></span>, <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIIEGDC">Listing 4-7</a></span>, and <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCICACFC">Listing 4-3</a></span>, in that order.</p></li><li class="li"><p>Use Add Frameworks from the Project menu to add <code>Carbon.framework</code> to the project.</p></li></ol><p>Once you’ve built the tool, you can run it in Project Builder and examine its output in the Console pane, or run it in a Terminal window.</p><p>You can also build this code directly in a Terminal window with the following compile line:</p><div class="codesample"><table><tr><td scope="row"><pre>cc -g -o soap soap.cp -framework Carbon<span></span></pre></td></tr></table></div><p>If you want to compile with a C compiler, rather than a C++ compiler, you’ll have to modify the code so that all variables are declared at the beginning of functions, rather than where they are used.</p><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF152" title="Includes, Constants, and Declarations"></a><h3>Includes, Constants, and Declarations</h3><p><span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIBBGCI">Listing 4-5</a></span> shows include statements, constants, and declarations to place at the beginning of your code file. This code</p><ul class="spaceabove"><li class="li"><p>includes Carbon.h to gain access to the scripting API it needs</p></li><li class="li"><p>defines a simple error macro that uses <code><!--a-->fprintf<!--/a--></code> to show an error number and line number, then exits the application</p></li><li class="li"><p>defines constants that specify the server and method name to call to get state name information</p></li><li class="li"><p>declares a function (defined later) that creates a parameter list record</p></li><li class="li"><p>declares a debug function that is defined later</p></li></ul><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_24" title="Listing 3-5Includes, constants, and declarations for making a SOAP request."></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIBBGCI" title="Listing 3-5Includes, constants, and declarations for making a SOAP request."></a><strong>Listing 3-5&nbsp;&nbsp;</strong>Includes, constants, and declarations for making a SOAP request.</p><div class="codesample"><table><tr><td scope="row"><pre>#include &lt;Carbon/Carbon.h><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>#define checkErr(err) \<span></span></pre></td></tr><tr><td scope="row"><pre>    while (err != noErr) \<span></span></pre></td></tr><tr><td scope="row"><pre>    { fprintf(stderr, "Failed at line %d, error %d\n", __LINE__, err); \<span></span></pre></td></tr><tr><td scope="row"><pre>    exit(-1); }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>static const char* serverURL = "http://www.soapware.org/examples";<span></span></pre></td></tr><tr><td scope="row"><pre>static const char* methodName = "getStateName";<span></span></pre></td></tr><tr><td scope="row"><pre>static const char* methodNameSpaceURI = "http://www.soapware.org/";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>static OSStatus createUserRecord(AEDesc* desc, const char* paramName,<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType dataType, const void* data, UInt32 dataSize);<span></span></pre></td></tr><tr><td scope="row"><pre>static void dumpDebug(const char* msg, const AppleEvent* reply,<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType debugDataKey);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF153" title="A Main Function That Makes a SOAP Request"></a><h3>A Main Function That Makes a SOAP Request</h3><p><span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIFBHFH">Listing 4-2</a></span> shows a <code><!--a-->main<!--/a--></code> function that prepares a SOAP request Apple event, sends it, and displays information from the reply Apple event. To do so, it performs the following steps:</p><ol class="ol"><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateDesc" target="_top">AECreateDesc</a></code> to create a target address descriptor of type <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/typeApplicationURL" target="_top">typeApplicationURL</a></code> that specifies the target for the request (a remote server). It uses the constant <code><!--a  -->serverURL<!--/a--></code> defined previously to specify the desired Internet server.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateAppleEvent" target="_top">AECreateAppleEvent</a></code> to create an Apple event with event class <code><!--a  -->kAERPCClass<!--/a--></code>, event ID <code><!--a  -->kAESOAPScheme<!--/a--></code>, and with the target address descriptor from step 1.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateList" target="_top">AECreateList</a></code> to create the direct object for the Apple event.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutParamPtr" target="_top">AEPutParamPtr</a></code> to insert the method name, using the key <code><!--a  -->keyRPCMethodName<!--/a--></code> and the constant <code><!--a  -->methodName<!--/a--></code> defined previously.</p></li><li class="li"><p>It calls the function <code><!--a-->createUserRecord<!--/a--></code>, shown in <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIIEGDC">Listing 4-7</a></span>, to create an <code>AEDesc</code> record that stores the parameter name and value for a method that has one of each.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutParamDesc" target="_top">AEPutParamDesc</a></code> to add the parameter record to the Apple event’s direct object.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutParamPtr" target="_top">AEPutParamPtr</a></code> to insert the method namespace URI, using the key <code><!--a  -->keySOAPMethodNameSpaceURI<!--/a--></code> and the constant <code><!--a  -->methodNameSpaceURI<!--/a--></code> defined previously.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutParamDesc" target="_top">AEPutParamDesc</a></code> to insert the direct object into the Apple event.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutAttributePtr" target="_top">AEPutAttributePtr</a></code> to turn on debugging by adding an attribute to the event with key <code><!--a  -->keyXMLDebuggingAttr<!--/a--></code> and the value <code><!--a  -->kAEDebugXMLDebugAll<!--/a--></code>. This step is optional.</p></li><li class="li"><p>It initializes a reply Apple event.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AESend" target="_top">AESend</a></code> to send the Apple event, passing <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/kAEWaitReply" target="_top">kAEWaitReply</a></code> to indicate it will wait for a reply.</p></li><li class="li"><p>If the previous call succeeds, it calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEGetParamPtr" target="_top">AEGetParamPtr</a></code> with key <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/keyDirectObject" target="_top">keyDirectObject</a></code> and desired type of <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/typeChar" target="_top">typeChar</a></code> to extract the direct object of the reply Apple event. For a successful call with state index 41, the returned value is the string “South Dakota”.</p><p>It calls <code><!--a-->fprintf<!--/a--></code> to display the state name. For example</p><div class="codesample"><table><tr><td scope="row"><pre>    State is South Dakota!<span></span></pre></td></tr></table></div></li><li class="li"><p>The main function then calls the function <code><!--a-->dumpDebug<!--/a--></code>, shown in <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCICACFC">Listing 4-3</a></span>, once each to display the header and data for the original XML-RPC request and for the reply from the server. <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIFAAHA">Listing 4-8</a></span> shows the possible result of these calls.</p></li></ol><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_25" title="Listing 3-6main function to send a SOAP Apple event."></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIIFEHI" title="Listing 3-6main function to send a SOAP Apple event."></a><strong>Listing 3-6&nbsp;&nbsp;</strong>main function to send a SOAP Apple event.</p><div class="codesample"><table><tr><td scope="row"><pre>//------------------------- main ----------------------------------<span></span></pre></td></tr><tr><td scope="row"><pre>// Builds and sends a SOAP request Apple event.<span></span></pre></td></tr><tr><td scope="row"><pre>// Sends the Apple event to a server that returns the state<span></span></pre></td></tr><tr><td scope="row"><pre>//   name corresponding to the passed number; e.g., the number<span></span></pre></td></tr><tr><td scope="row"><pre>//   5 corresponds to the state California.<span></span></pre></td></tr><tr><td scope="row"><pre>// Prints the returned state name, then calls function<span></span></pre></td></tr><tr><td scope="row"><pre>//   to dump debug information from reply<span></span></pre></td></tr><tr><td scope="row"><pre>int main()<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    OSErr err;<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDesc targetAddress;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create the target address<span></span></pre></td></tr><tr><td scope="row"><pre>    //   Using type typeApplicationURL makes it a remote procedure<span></span></pre></td></tr><tr><td scope="row"><pre>    //   call event.<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AECreateDesc(typeApplicationURL, serverURL, strlen(serverURL),<span></span></pre></td></tr><tr><td scope="row"><pre>        &amp;targetAddress);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create a SOAP request Apple event<span></span></pre></td></tr><tr><td scope="row"><pre>    AppleEvent event;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AECreateAppleEvent(kAERPCClass, kAESOAPScheme, &amp;targetAddress,<span></span></pre></td></tr><tr><td scope="row"><pre>        kAutoGenerateReturnID, kAnyTransactionID, &amp;event);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDisposeDesc(&amp;targetAddress);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create the parameters for the event - the direct object is a<span></span></pre></td></tr><tr><td scope="row"><pre>    // record that contains the method name, and a list of parameters<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    AEDesc directObject;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AECreateList(NULL, 0, true, &amp;directObject);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Put the method name<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutParamPtr(&amp;directObject, keyRPCMethodName, typeChar,<span></span></pre></td></tr><tr><td scope="row"><pre>        methodName, strlen(methodName));<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // The parameters for a SOAP request are a record. We use the<span></span></pre></td></tr><tr><td scope="row"><pre>    // "AppleScript" format for records that contain user readable<span></span></pre></td></tr><tr><td scope="row"><pre>    // names, and call a helper routine to construct this record.<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDesc paramRecord;<span></span></pre></td></tr><tr><td scope="row"><pre>    SInt32 stateIndex = 41;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = createUserRecord(&amp;paramRecord, "statenum", typeSInt32,<span></span></pre></td></tr><tr><td scope="row"><pre>        &amp;stateIndex, sizeof(stateIndex));<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Put the parameter record into the direct object<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutParamDesc(&amp;directObject, keyRPCMethodParam,<span></span></pre></td></tr><tr><td scope="row"><pre>        &amp;paramRecord);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDisposeDesc(&amp;paramRecord);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Additional pieces for soap are the SOAP schema, method<span></span></pre></td></tr><tr><td scope="row"><pre>    //      namespaceURI and SOAPAction.<span></span></pre></td></tr><tr><td scope="row"><pre>    // If the SOAP schema is not explicitly specified, it defaults<span></span></pre></td></tr><tr><td scope="row"><pre>    //      to kSOAP1999Schema for the 1999 schema<span></span></pre></td></tr><tr><td scope="row"><pre>    //      (corresponding to the 1.1 specification).<span></span></pre></td></tr><tr><td scope="row"><pre>    // If the SOAPAction is not explicitly specified, it will be<span></span></pre></td></tr><tr><td scope="row"><pre>    //    the path part of the URL (in this case, "/examples")<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutParamPtr(&amp;directObject, keySOAPMethodNameSpaceURI,<span></span></pre></td></tr><tr><td scope="row"><pre>        typeChar, methodNameSpaceURI, strlen(methodNameSpaceURI));<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Put the direct object into the event<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutParamDesc(&amp;event, keyDirectObject, &amp;directObject);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre>    AEDisposeDesc(&amp;directObject);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Request debugging information<span></span></pre></td></tr><tr><td scope="row"><pre>    SInt32 debugAttr = kAEDebugXMLDebugAll;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEPutAttributePtr(&amp;event, keyXMLDebuggingAttr, typeSInt32,<span></span></pre></td></tr><tr><td scope="row"><pre>        &amp;debugAttr, sizeof(debugAttr));<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Send the event<span></span></pre></td></tr><tr><td scope="row"><pre>    AppleEvent reply;<span></span></pre></td></tr><tr><td scope="row"><pre>    AEInitializeDescInline(&amp;reply);<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AESend(&amp;event, &amp;reply, kAEWaitReply, kAENormalPriority,<span></span></pre></td></tr><tr><td scope="row"><pre>        kAEDefaultTimeout, NULL, NULL);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // The direct object contains our result (the name of the state)<span></span></pre></td></tr><tr><td scope="row"><pre>    char buffer[255];<span></span></pre></td></tr><tr><td scope="row"><pre>    Size actualSize;<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AEGetParamPtr(&amp;reply, keyDirectObject, typeChar, NULL,<span></span></pre></td></tr><tr><td scope="row"><pre>        buffer, sizeof(buffer), &amp;actualSize);<span></span></pre></td></tr><tr><td scope="row"><pre>    checkErr(err);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    fprintf(stderr, "State is %.*s!\n", actualSize, buffer);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Dump debug information<span></span></pre></td></tr><tr><td scope="row"><pre>    dumpDebug("HTTP POST header", &amp;reply, keyAEPOSTHeaderData);<span></span></pre></td></tr><tr><td scope="row"><pre>    dumpDebug("XML Request", &amp;reply, keyAEXMLRequestData);<span></span></pre></td></tr><tr><td scope="row"><pre>    dumpDebug("HTTP Reply header", &amp;reply, keyAEReplyHeaderData);<span></span></pre></td></tr><tr><td scope="row"><pre>    dumpDebug("XML Reply", &amp;reply, keyAEXMLReplyData);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return 0;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF154" title="Creating Parameter List Records"></a><h3>Creating Parameter List Records</h3><p><span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIIEGDC">Listing 4-7</a></span> shows a function that creates a record containing the parameter name and value for a SOAP method with one parameter.</p><p>To prepare a parameter list record, this function performs the following steps:</p><ol class="ol"><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateList" target="_top">AECreateList</a></code> to create a list descriptor record for the SOAP request parameters.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AECreateList" target="_top">AECreateList</a></code> again to create a list descriptor for the parameter name and value.</p></li><li class="li"><p>Calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutPtr" target="_top">AEPutPtr</a></code> to insert the passed parameter name in the parameter name and value list, with the type <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/typeChar" target="_top">typeChar</a></code>.</p></li><li class="li"><p>Calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutPtr" target="_top">AEPutPtr</a></code> again to insert the passed parameter data in the parameter name and value list, with the type specified the passed type.</p></li><li class="li"><p>It calls <code><a href="../../../../Carbon/Reference/Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEPutParamDesc" target="_top">AEPutParamDesc</a></code> to add the parameter name and value list to the parameter list record.</p></li></ol><p>If you need to create a parameter list record for a SOAP request with multiple parameters, you can define a function with a variable length argument list. The function can iterate over the arguments, performing steps 3 and 4 (adding the name and data) for each pair of parameter arguments.</p><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_26" title="Listing 3-7A function to create a parameter list record for a SOAP request Apple event."></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIIEGDC" title="Listing 3-7A function to create a parameter list record for a SOAP request Apple event."></a><strong>Listing 3-7&nbsp;&nbsp;</strong>A function to create a parameter list record for a SOAP request Apple event.</p><div class="codesample"><table><tr><td scope="row"><pre>// -------------------- createUserRecord -----------------------------<span></span></pre></td></tr><tr><td scope="row"><pre>// Creates a record containing the parameters for a SOAP request.<span></span></pre></td></tr><tr><td scope="row"><pre>// Uses the "AppleScript" format for records that contain user readable<span></span></pre></td></tr><tr><td scope="row"><pre>// names.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>static OSStatus createUserRecord(AEDesc* desc, const char* paramName,<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType dataType, const void* data, UInt32 dataSize)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    OSErr err = AECreateList(0, NULL, true, desc);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (err == noErr) {<span></span></pre></td></tr><tr><td scope="row"><pre>        AEDesc termsList;<span></span></pre></td></tr><tr><td scope="row"><pre>        err = AECreateList(0, NULL, false, &amp;termsList);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        if (err == noErr)<span></span></pre></td></tr><tr><td scope="row"><pre>            err = AEPutPtr(&amp;termsList, 0, typeChar,<span></span></pre></td></tr><tr><td scope="row"><pre>                paramName, strlen(paramName));<span></span></pre></td></tr><tr><td scope="row"><pre>        if (err == noErr)<span></span></pre></td></tr><tr><td scope="row"><pre>            err = AEPutPtr(&amp;termsList, 0, dataType,<span></span></pre></td></tr><tr><td scope="row"><pre>                data, dataSize);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        if (err == noErr)<span></span></pre></td></tr><tr><td scope="row"><pre>            err = AEPutParamDesc(desc, keyASUserRecordFields,<span></span></pre></td></tr><tr><td scope="row"><pre>                &amp;termsList);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        AEDisposeDesc(&amp;termsList);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    return err;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-TPXREF155" title="Displaying SOAP Request Debug Information"></a><h3>Displaying SOAP Request Debug Information</h3><p>The sample code to display debug information from a SOAP request Apple event uses the same <code><!--a-->dumpDebug<!--/a--></code> function as the sample code for making an XML-RPC call. That code is shown in <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCICACFC">Listing 4-3</a></span>. However, because the XML-RPC and SOAP protocols are different, the requests, the Apple events that represent them, and the debug output are all different. Listing <span class="content_text"><a href="soapXMLRPC_apps.html#//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIFAAHA">Listing 4-8</a></span> shows sample output from the <code>dumpDebug</code> function for a SOAP request Apple event.</p><a name="//apple_ref/doc/uid/20001724-DontLinkElementID_27" title="Listing 3-8Sample header and data from a SOAP post and the reply."></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001126-//apple_ref/doc/uid/20001724-BCIFAAHA" title="Listing 3-8Sample header and data from a SOAP post and the reply."></a><strong>Listing 3-8&nbsp;&nbsp;</strong>Sample header and data from a SOAP post and the reply.</p><div class="codesample"><table><tr><td scope="row"><pre>HTTP POST header:<span></span></pre></td></tr><tr><td scope="row"><pre>    POST /examples HTTP/1.0<span></span></pre></td></tr><tr><td scope="row"><pre>    Host: www.soapware.org<span></span></pre></td></tr><tr><td scope="row"><pre>    SOAPAction: "/examples"<span></span></pre></td></tr><tr><td scope="row"><pre>    User-Agent: Mac OS X; AEServer (1.0)<span></span></pre></td></tr><tr><td scope="row"><pre>    Content-Type: text/xml<span></span></pre></td></tr><tr><td scope="row"><pre>    Content-length: 538<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>XML Request:<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;SOAP-ENV:Envelope<span></span></pre></td></tr><tr><td scope="row"><pre>        xmlns:xsd="http://www.w3.org/1999/XMLSchema"<span></span></pre></td></tr><tr><td scope="row"><pre>        xmlns:xsi="http://www.w3.org/1999/XMLSchema-instance"<span></span></pre></td></tr><tr><td scope="row"><pre>        SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"<span></span></pre></td></tr><tr><td scope="row"><pre>        xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/"<span></span></pre></td></tr><tr><td scope="row"><pre>        xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;SOAP-ENV:Body><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;m:getStateName xmlns:m="http://www.soapware.org/"><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;statenum xsi:type="xsd:int">41&lt;/statenum><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/m:getStateName><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/SOAP-ENV:Body><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/SOAP-ENV:Envelope><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>HTTP Reply header:<span></span></pre></td></tr><tr><td scope="row"><pre>    HTTP/1.1 200 OK<span></span></pre></td></tr><tr><td scope="row"><pre>    Connection: close<span></span></pre></td></tr><tr><td scope="row"><pre>    Content-Length: 499<span></span></pre></td></tr><tr><td scope="row"><pre>    Content-Type: text/xml; charset="us-ascii"<span></span></pre></td></tr><tr><td scope="row"><pre>    Date: Mon, 13 Aug 2001 05:07:46 GMT<span></span></pre></td></tr><tr><td scope="row"><pre>    Server: UserLand Frontier/7.0.1-WinNT<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>XML Reply:<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;?xml version="1.0"?><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"<span></span></pre></td></tr><tr><td scope="row"><pre>        xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xmlns:SOAP-ENV="http://<span></span></pre></td></tr><tr><td scope="row"><pre>        schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/1999/XMLSchema"<span></span></pre></td></tr><tr><td scope="row"><pre>        xmlns:xsi="http://www.w3.org/1999/XMLSchema-instance"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;SOAP-ENV:Body><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;getStateNameResponse><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;Result xsi:type="xsd:string">South Dakota&lt;/Result><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;/getStateNameResponse><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/SOAP-ENV:Body><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/SOAP-ENV:Envelope><span></span></pre></td></tr></table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../chapter3/soapXMLRPC_scripts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../history/soapXMLRPC_rev_hist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-03-03<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleScript/Conceptual/soapXMLRPC/chapter4/soapXMLRPC_apps.html%3Fid%3DTP30001126-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleScript/Conceptual/soapXMLRPC/chapter4/soapXMLRPC_apps.html%3Fid%3DTP30001126-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleScript/Conceptual/soapXMLRPC/chapter4/soapXMLRPC_apps.html%3Fid%3DTP30001126-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>