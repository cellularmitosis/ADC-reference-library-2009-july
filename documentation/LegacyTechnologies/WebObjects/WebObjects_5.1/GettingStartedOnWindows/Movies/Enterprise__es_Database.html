<HTML>		<HEAD>        <title>EnterpriseObjects and the Movies Database</title>		</HEAD>	<BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="The_Movies_Application.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Defining_the_Model.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF102"></a><h2><font face="Helvetica,Arial,Lucida Grande">EnterpriseObjects and the Movies Database</font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Times">Enterprise Objects Framework manages the interaction betweenthe database and objects in the Movies application. Its primaryresponsibility is to fetch data from relational databases into <em>enterpriseobjects</em>. An enterprise object, like any other object,couples data with methods for operating on that data. In addition,an enterprise object has properties that map to stored data. Enterpriseobject classes typically correspond to database tables. An enterpriseobject instance corresponds to a single row or record in a databasetable.</font></p><p><font face="Times">The Movies application centers around three kinds of enterpriseobjects: Movies, MovieRoles, and Talents. A movie has many roles,and talents (or actors) play those roles.</font></p><p><font face="Times">The Movie, MovieRole, and Talent enterprise objects in theMovies application correspond to tables in a relational database.For example, the Talent enterprise object corresponds to the TALENTtable in the database, that has LAST_NAME and FIRST_NAME columns.The Talent enterprise object class in turn has <code>lastName</code> and <code>firstName</code> instancevariables. In an application, Talent objects are instantiated usingthe data from a corresponding database row, as shown in the followingfigure:</font></p><P><img src = "../Art/dbtoeo.gif" alt = "[image: ../Art/dbtoeo.gif]"><a name = "TPXREF103"></a><h3><font face="Helvetica,Arial,Lucida Grande">EnterpriseObjects and Relationships</font></h3><p><font face="Times">Relational databases model not just individual entities, butentities' relationships to one another. For example, a movie haszero, one, or more roles. This is modeled in the database by boththe MOVIE table and MOVIE_ROLE table having a MOVIE_ID column. Inthe MOVIE table, MOVIE_ID is a <em>primary key</em>,while in MOVIE_ROLE it's a <em>foreign</em> <em>key</em>.</font></p><p><font face="Times">A primary key is a column or combination of columns whosevalues are guaranteed to uniquely identify each row in that table.For example, each row in the MOVIE table has a different value inthe MOVIE_ID column, which uniquely identifies that row. Two movies couldhave the same name but still be distinguished from each other bytheir MOVIE_IDs. </font></p><p><font face="Times">A foreign key matches the value of a primary key in anothertable. The purpose of a foreign key is to identify a relationshipfrom a source table to a destination table. In the following diagram,notice that the value in the MOVIE_ID column for both MOVIE_ROLErows is 501. This matches the value in the MOVIE_ID column of the"Alien" MOVIE row. In other words, "Ripley" and "Ash"are both roles in the movie "Alien."</font></p><P><img src = "../Art/dbrel.gif" alt = "[image: ../Art/dbrel.gif]"><p><font face="Times">Suppose you fetch a Movie object. Enterprise Objects Frameworktakes the value for the movie's MOVIE_ID attribute and looks upmovie roles with the corresponding MOVIE_ID foreign key. The frameworkthen assembles a network of enterprise objects that connects a Movieobject with its MovieRole objects. As shown below, a Movie objecthas an array of its MovieRoles, and the MovieRoles each have a Movie.</font></p><P><img src = "../Art/eogrph.gif" alt = "[image: ../Art/eogrph.gif]">    <br><a href="The_Movies_Application.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Defining_the_Model.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<p><font face="Geneva,Helvetica,Arial" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>