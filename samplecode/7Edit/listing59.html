<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>7Edit - /Source/SVEditMain.c</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../samplecode/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; <A HREF="javascript:location.replace('index.html');">7Edit</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Carbon/idxInterapplicationCommunication-date.html" target="_blank">Carbon > Interapplication Communication</a></li>
	</ul>
</div>




</div></div></div>

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">7Edit</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/Source/SVEditMain.c</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/Source/DebugUtils.c</option>
<option value="listing2.html">/Source/DebugUtils.h</option>
<option value="listing3.html">/Source/Offscreen.c</option>
<option value="listing4.html">/Source/Offscreen.h</option>
<option value="listing5.html">/Source/SVAEAccessors.c</option>
<option value="listing6.html">/Source/SVAEAccessors.h</option>
<option value="listing7.html">/Source/SVAEClone.c</option>
<option value="listing8.html">/Source/SVAEClone.h</option>
<option value="listing9.html">/Source/SVAEClose.c</option>
<option value="listing10.html">/Source/SVAEClose.h</option>
<option value="listing11.html">/Source/SVAECoercions.c</option>
<option value="listing12.html">/Source/SVAECoercions.h</option>
<option value="listing13.html">/Source/SVAECompare.c</option>
<option value="listing14.html">/Source/SVAECompare.h</option>
<option value="listing15.html">/Source/SVAECopy.c</option>
<option value="listing16.html">/Source/SVAECopy.h</option>
<option value="listing17.html">/Source/SVAECountElements.c</option>
<option value="listing18.html">/Source/SVAECountElements.h</option>
<option value="listing19.html">/Source/SVAECreate.c</option>
<option value="listing20.html">/Source/SVAECreate.h</option>
<option value="listing21.html">/Source/SVAECut.c</option>
<option value="listing22.html">/Source/SVAECut.h</option>
<option value="listing23.html">/Source/SVAEDelete.c</option>
<option value="listing24.html">/Source/SVAEDelete.h</option>
<option value="listing25.html">/Source/SVAEGetData.c</option>
<option value="listing26.html">/Source/SVAEGetData.h</option>
<option value="listing27.html">/Source/SVAEGetDataSize.c</option>
<option value="listing28.html">/Source/SVAEGetDataSize.h</option>
<option value="listing29.html">/Source/SVAEMove.c</option>
<option value="listing30.html">/Source/SVAEMove.h</option>
<option value="listing31.html">/Source/SVAEObjectsExist.c</option>
<option value="listing32.html">/Source/SVAEObjectsExist.h</option>
<option value="listing33.html">/Source/SVAEPaste.c</option>
<option value="listing34.html">/Source/SVAEPaste.h</option>
<option value="listing35.html">/Source/SVAERecording.c</option>
<option value="listing36.html">/Source/SVAERecording.h</option>
<option value="listing37.html">/Source/SVAERevert.c</option>
<option value="listing38.html">/Source/SVAERevert.h</option>
<option value="listing39.html">/Source/SVAESave.c</option>
<option value="listing40.html">/Source/SVAESave.h</option>
<option value="listing41.html">/Source/SVAESelect.c</option>
<option value="listing42.html">/Source/SVAESelect.h</option>
<option value="listing43.html">/Source/SVAESetData.c</option>
<option value="listing44.html">/Source/SVAESetData.h</option>
<option value="listing45.html">/Source/SVAETextUtils.c</option>
<option value="listing46.html">/Source/SVAETextUtils.h</option>
<option value="listing47.html">/Source/SVAEWindowUtils.c</option>
<option value="listing48.html">/Source/SVAEWindowUtils.h</option>
<option value="listing49.html">/Source/SVAppleEvents.c</option>
<option value="listing50.html">/Source/SVAppleEvents.h</option>
<option value="listing51.html">/Source/SVDrag.c</option>
<option value="listing52.html">/Source/SVDrag.h</option>
<option value="listing53.html">/Source/SVEditAEUtils.c</option>
<option value="listing54.html">/Source/SVEditAEUtils.h</option>
<option value="listing55.html">/Source/SVEditFile.c</option>
<option value="listing56.html">/Source/SVEditFile.h</option>
<option value="listing57.html">/Source/SVEditGlobals.c</option>
<option value="listing58.html">/Source/SVEditGlobals.h</option>
<option value="listing59.html">/Source/SVEditMain.c</option>
<option value="listing60.html">/Source/SVEditMain.h</option>
<option value="listing61.html">/Source/SVEditPrinting.c</option>
<option value="listing62.html">/Source/SVEditPrinting.h</option>
<option value="listing63.html">/Source/SVEditUtils.c</option>
<option value="listing64.html">/Source/SVEditUtils.h</option>
<option value="listing65.html">/Source/SVEditWindow.c</option>
<option value="listing66.html">/Source/SVEditWindow.h</option>
<option value="listing67.html">/Source/SVToken.h</option></select>
				</p>
				</form>
				<p><strong><a href="7Edit.zip">Download Sample</a></strong> (&#147;7Edit.zip&#148;, 205.9K)<BR>
<strong><a href="7Edit.dmg">Download Sample</a></strong> (&#147;7Edit.dmg&#148;, 251.7K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">/*  File:    SVEditMain.c  Contains:    Written by: Original version by Jon Lansdell and Nigel Humphreys.              3.1 updates by Greg Sutton.    Copyright:  Copyright &copy;1995-1999 by Apple Computer, Inc., All Rights Reserved.        You may incorporate this Apple sample source code into your program(s) without        restriction. This Apple sample source code has been provided &quot;AS IS&quot; and the        responsibility for its operation is yours. You are not permitted to redistribute        this Apple sample source code as &quot;Apple sample source code&quot; after having made        changes. If you're going to re-distribute the source, we require that you make        it clear in the source that the code was descended from Apple sample source        code, but that you've made changes.  Change History (most recent first):        7/19/1999  Karl Groethe  Updated for Metrowerks Codewarror Pro 2.1        11/1/95    DS            Made Changes for GX Printing.        10/12/95   CW            Added call to InitDragHandlers in DoSVEdit        10/12/95   CW            Changed MaintainCursor to make cursor arrow if over selected text  */#include &lt;Memory.h&gt;#include &lt;Quickdraw.h&gt;#include &lt;Types.h&gt;#include &lt;Menus.h&gt;#include &lt;Windows.h&gt;#include &lt;Dialogs.h&gt;#include &lt;Traps.h&gt;#include &lt;Packages.h&gt;#include &lt;PPCToolBox.h&gt;#include &lt;Editions.h&gt;#include &lt;Printing.h&gt;#include &lt;ToolUtils.h&gt;#include &lt;Desk.h&gt;#include &lt;Scrap.h&gt;#include &lt;OSEvents.h&gt;#include &lt;AppleEvents.h&gt;#include &lt;AEObjects.h&gt;#include &lt;Errors.h&gt;#include &lt;Sound.h&gt;#include &quot;SVEditMain.h&quot;#include &quot;SVEditGlobals.h&quot;#include &quot;SVEditUtils.h&quot;#include &quot;SVAERecording.h&quot;#include &quot;SVAppleEvents.h&quot;#include &quot;SVEditWindow.h&quot;#include &quot;SVEditFile.h&quot;#include &quot;SVDrag.h&quot;/*-----------------------------------------------------------------------*//**----------             Standard Main routines          --------------**//*-----------------------------------------------------------------------*/#pragma segment Main  pascal void MaintainCursor(void)    {      Point     pt;      WindowPtr wPtr;      GrafPtr   savePort;      DPtr      theDoc;      wPtr = FrontWindow();      if (Ours(wPtr))        {          theDoc = DPtrFromWindowPtr(wPtr);          GetPort(&amp;savePort);          SetPort(wPtr);          GetMouse(&amp;pt);          if (theDoc-&gt;theText)            if ( PtInRect ( pt, &amp;(**(theDoc-&gt;theText)).viewRect ) &amp;&amp;                            !PointInWindowSelection ( pt, wPtr ) )              SetCursor(&amp;editCursor);            else              SetCursor(&amp;qd.arrow);          else            SetCursor(&amp;qd.arrow);          if (theDoc-&gt;theText)            TEIdle(theDoc-&gt;theText);          SetPort(savePort);        }    }#pragma segment Mainpascal void MaintainMenus(void)  {    DPtr       theDoc;    WindowPtr  firstWindow;    firstWindow = FrontWindow();    if (!Ours(firstWindow))      {        EnableItem(myMenus[fileM], fmNew);        EnableItem(myMenus[fileM], fmOpen);        DisableItem(myMenus[fileM], fmClose);        DisableItem(myMenus[fileM], fmSave);        DisableItem(myMenus[fileM], fmSaveAs);        DisableItem(myMenus[fileM], fmRevert);        DisableItem(myMenus[fileM], fmPageSetUp);        DisableItem(myMenus[fileM], fmNoGXPrint);                        if (firstWindow)          {            EnableItem(myMenus[editM], undoCommand);            EnableItem(myMenus[editM], cutCommand);            EnableItem(myMenus[editM], copyCommand);            EnableItem(myMenus[editM], pasteCommand);            EnableItem(myMenus[editM], clearCommand);          }      }    else      {        theDoc = DPtrFromWindowPtr(firstWindow);        EnableItem(myMenus[editM], pasteCommand);        EnableItem(myMenus[fileM], fmClose);        EnableItem(myMenus[fileM], fmSaveAs);        EnableItem(myMenus[fileM], fmPageSetUp);        EnableItem(myMenus[fileM], fmNoGXPrint);                if (theDoc-&gt;dirty)          EnableItem(myMenus[fileM], fmRevert);        else          DisableItem(myMenus[fileM], fmRevert);                  if ((theDoc-&gt;dirty) &amp;&amp; (theDoc-&gt;everSaved))          EnableItem(myMenus[fileM], fmSave);        else          DisableItem(myMenus[fileM], fmSave);        DisableItem(myMenus[editM], undoCommand);                if (((**(theDoc-&gt;theText)).selEnd - (**(theDoc-&gt;theText)).selStart) &lt; 0)          {            DisableItem(myMenus[editM], cutCommand);            DisableItem(myMenus[editM], copyCommand);            DisableItem(myMenus[editM], clearCommand);          }        else          {            EnableItem(myMenus[editM], cutCommand);            EnableItem(myMenus[editM], copyCommand);            EnableItem(myMenus[editM], clearCommand);          }  }  }#pragma segment Mainpascal void SetUpCursors(void)  {    CursHandle  hCurs;    hCurs = GetCursor(1);    editCursor = **hCurs;    hCurs = GetCursor(watchCursor);    waitCursor = **hCurs;  }#pragma segment Mainpascal void SetUpMenus(void)  {    short i;        myMenus[appleM] = GetMenu(appleID);    AppendResMenu(myMenus[appleM], 'DRVR');    myMenus[fileM] = GetMenu(fileID);    myMenus[editM] = GetMenu(editID);    myMenus[fontM] = GetMenu(mfontID);    AppendResMenu(myMenus[fontM], 'FONT');    myMenus[sizeM]  = GetMenu(sizeID);    myMenus[styleM] = GetMenu(styleID);    for (i = appleM; i &lt;= kLastMenu; i++)      InsertMenu(myMenus[i], 0);    SetItemStyle(myMenus[styleM], cPlain, 0);    SetItemStyle(myMenus[styleM], cBold, bold);    SetItemStyle(myMenus[styleM], cItalic, italic);    SetItemStyle(myMenus[styleM], cUnderline, underline);    SetItemStyle(myMenus[styleM], cOutline, outline);    SetItemStyle(myMenus[styleM], cShadow, shadow);    SetItemStyle(myMenus[styleM], cCondense, condense);    SetItemStyle(myMenus[styleM], cExtend, extend);    SetShortMenus(); /* Does a DrawMenuBar() */  }pascal void DoFile(short theItem)  {        short   alertResult;    DPtr    theDoc = nil;    FSSpec  theFSSpec;    OSErr   fileErr;    TPrint  thePSetup;        switch (theItem)    {      case fmNew : IssueAENewWindow();                   break;      case fmOpen: if (GetFile(&amp;theFSSpec)==noErr)                     fileErr = IssueAEOpenDoc(theFSSpec);                   break;      case fmClose:IssueCloseCommand(FrontWindow());                   break;      case fmSave:      case fmSaveAs:                    theDoc = DPtrFromWindowPtr(FrontWindow());                              if (theDoc-&gt;everSaved == false || theItem == fmSaveAs)                    {                      fileErr = GetFileNameToSaveAs(theDoc);                      if (fileErr == userCanceledErr)                        break;                      else if (fileErr != noErr)                        FileError((unsigned char *)&quot;\perror saving &quot;, theDoc-&gt;theFileName);                      else                        fileErr = IssueSaveCommand(theDoc-&gt;theWindow, &amp;theDoc-&gt;theFSSpec);                              if (fileErr == noErr)                      {                        SetWTitle(theDoc-&gt;theWindow, theDoc-&gt;theFSSpec.name);                        theDoc-&gt;everSaved = true;                      }                    }                    else                      fileErr = IssueSaveCommand(theDoc-&gt;theWindow, nil);                    break;      case fmRevert:                    alertResult = DoFileDialog ( kRevertDialog, FrontWindow ( ) );                    if ( alertResult == kStdOkItemIndex )                    {                      if (IssueRevertCommand(theDoc-&gt;theWindow))                        FileError((unsigned char *)&quot;\perror reverting &quot;, theDoc-&gt;theFileName);                    }                    break;      case fmPageSetUp:                    theDoc = DPtrFromWindowPtr(FrontWindow());                    if (DoPageSetup(theDoc))                        {                          thePSetup = **(theDoc-&gt;thePrintSetup);                           IssuePageSetupWindow(theDoc-&gt;theWindow, thePSetup);                         }                    break;      case fmPrint: IssuePrintWindow(FrontWindow(),kUsePrintDialog);                    break;      case fmPrintOne: IssuePrintWindow(FrontWindow(),kNoPrintDialog);                    break;      case fmQuit : IssueQuitCommand();                    break;    }         /*of switch*/  }#pragma segment Mainpascal void DoCommand(long mResult)  {    short   theItem;    short   err;    long    result;    Str255  name;    DPtr    theDocument;    theDocument = DPtrFromWindowPtr(FrontWindow());        theItem = LoWord(mResult);    switch (HiWord(mResult)){      case appleID:        if (theItem == aboutItem)          {            SetCursor(&amp;qd.arrow);            result = Alert(258, nil);          }        else          {            GetMenuItemText(myMenus[appleM], theItem, name);            err = OpenDeskAcc(name);            SetPort(FrontWindow());          }        break;              case fileID: DoFile(theItem);                   break;      case editID:          if (SystemEdit(theItem - 1) == false)          {            switch (theItem){                case cutCommand   : IssueCutCommand(theDocument);                             break;                                           case copyCommand  : IssueCopyCommand(theDocument);                             break;                                           case pasteCommand : IssuePasteCommand(theDocument);                             break;                                           case clearCommand : IssueClearCommand(theDocument);                             break;                                           case selectAllCommand :                             if (theDocument)                               TESetSelect(0,                                           (**(theDocument-&gt;theText)).teLength,                                           theDocument-&gt;theText);                             break;            }   /*of switch*/            ShowSelect(theDocument);          }          break;      case mfontID: IssueFontCommand(theDocument, theItem);              break;      case sizeID: IssueSizeCommand(theDocument, theItem);              break;      case styleID: IssueStyleCommand(theDocument, theItem);               break;    }         /*of switch*/    HiliteMenu(0);  }#pragma segment Main  pascal void DoMouseDown(const EventRecord *myEvent)    {      WindowPtr whichWindow;      Point     p;      Rect      dragRect;      DPtr      theDoc;      p = myEvent-&gt;where;      switch (FindWindow(p, &amp;whichWindow)){        case inDesk: SysBeep(10);                     break;        case inGoAway:if (Ours(whichWindow))                        if (TrackGoAway(whichWindow, p))                          IssueCloseCommand(whichWindow);                      break;        case inMenuBar:                      SetCursor(&amp;qd.arrow);                      theDoc = DPtrFromWindowPtr(FrontWindow());                      if (theDoc)                        {                          SetFontMenu(theDoc);                        }                                DoCommand(MenuSelect(p));                      HiliteMenu(0);                      break;        case inSysWindow: SystemClick(myEvent, whichWindow);                          break;        case inDrag:                      dragRect = qd.screenBits.bounds;                        if (Ours(whichWindow))              {                DragWindow(whichWindow, p, &amp;dragRect);                /*                  As rgnBBox may be passed by address                */                dragRect = (**((WindowPeek)whichWindow)-&gt;strucRgn).rgnBBox;                /*                  The windows already there, but still tell                  the our AppleEvents core about the move in case                  they want to do anything                */                IssueMoveWindow(whichWindow, dragRect);              }            break;        case inGrow:SetCursor(&amp;qd.arrow);                    if (Ours(whichWindow))                      MyGrowWindow(whichWindow, p);                    break;                          case inZoomIn : DoZoom(whichWindow, inZoomIn, p);                        break;        case inZoomOut: DoZoom(whichWindow, inZoomOut, p);                        break;        case inContent: if (whichWindow != FrontWindow())                          SelectWindow(whichWindow);                        else                          if (Ours(whichWindow))                            DoContent(whichWindow, *myEvent);                        break;      }         /*of switch*/    }#pragma segment Mainpascal long GetSleep(void)  {    long      sleep;    WindowPtr theWindow;    DPtr      theDoc;    sleep = 0x7fffffff;    if (!gInBackground)      {        theWindow = FrontWindow();        if (theWindow)          if (Ours(theWindow))            {              theDoc = DPtrFromWindowPtr(theWindow);              if ((**(theDoc-&gt;theText)).selStart == (**(theDoc-&gt;theText)).selEnd)                sleep = GetCaretTime();            }      }    return(sleep);  }           /*GetSleep*/#pragma segment Mainvoid HandleOneEvent( EventRecord *myEvent )  {    DPtr        theDoc;    char        theChar;    WindowPtr   theWindow;    Boolean     activate;        switch (myEvent-&gt;what) {      case mouseDown: FlushAndRecordTypingBuffer();                      DoMouseDown(myEvent);                      break;      case keyDown:      case autoKey:            theDoc = DPtrFromWindowPtr(FrontWindow());            theChar = myEvent-&gt;message &amp; charCodeMask;            if ((myEvent-&gt;modifiers &amp; cmdKey) == cmdKey)              {                DoCommand(MenuKey(theChar));                HiliteMenu(0);              }            else              if (theDoc-&gt;theText)                {                  AddKeyToTypingBuffer(theDoc, theChar);                                    TEKey(theChar, theDoc-&gt;theText);                  AdjustScrollbars(theDoc, false);                            ShowSelect(theDoc);                                    theDoc-&gt;dirty = true;                    }            break;              case activateEvt:          activate = ((myEvent-&gt;modifiers &amp; activeFlag) != 0);          theWindow = (WindowPtr)myEvent-&gt;message;          DoActivate(theWindow, activate);          break;      case updateEvt:          DoUpdate ( (WindowPtr) myEvent-&gt;message );          break;      case kHighLevelEvent: FlushAndRecordTypingBuffer();                            DoAppleEvent(*myEvent);                            break;      case kOSEvent:                switch (myEvent-&gt;message &amp; osEvtMessageMask) { /*high byte of message*/          case 0x01000000:            {              gInBackground = ((myEvent-&gt;message &amp; resumeFlag) == 0);              DoActivate(FrontWindow(), !gInBackground);            }        }      } /*of switch*/  }  #pragma segment Mainpascal void MainEvent(void)  {    EventRecord myEvent;    MaintainCursor(); /* TEIdle in here for now */    MaintainMenus();    if (WaitNextEvent(everyEvent, &amp;myEvent, GetSleep(), nil))      HandleOneEvent( &amp;myEvent );    }#pragma segment Mainpascal void DoSVEdit(void)  {    OSErr  err;    short  result;    InitGraf(&amp;qd.thePort);    InitFonts();    FlushEvents(everyEvent, 0);    InitWindows();    InitMenus();    TEInit();    InitDialogs(nil);    InitCursor();    MaxApplZone();    SetUpCursors();    SetUpMenus();    gWCount    = 0;    gNewDocCount = 0;    gQuitting  = false;    gFontMItem = 0;    gGestaltAvailable          = false;    gAppleEventsImplemented    = false;    gAliasManagerImplemented   = false;    gEditionManagerImplemented = false;    gOutlineFontsImplemented   = false;    /*check environment checks to see if we are running 7.0*/    if (!CheckEnvironment())      {        SetCursor(&amp;qd.arrow);        /*pose the only 7.0 alert*/        result = Alert(302, nil);        return;      }    err = InitEditionPack();    if (err)      {        ShowError((unsigned char *)&quot;\pInitEditionPack&quot;, err);        gQuitting = true;      }    err = AEObjectInit();    if (err)      {        ShowError((unsigned char *)&quot;\pAEObjectInit&quot;, err);        gQuitting = true;      }    InitAppleEvents();    err = PPCInit();    if (err)      {        ShowError((unsigned char *)&quot;\pPPCInit&quot;, err);        gQuitting = true;      }                err = InitDragHandlers ( );    if (err)      {        ShowError((unsigned char *)&quot;\pInitDragHandlers&quot;, err);        gQuitting = true;      }              /* create the UPPs for the control tracking routines */    /* globals, since we don't want to have to create and dispose of the routine */    /* descriptors each time we call DoContent */    gHScrollActionUPP = NewControlActionProc ( HActionProc );    gVScrollActionUPP = NewControlActionProc ( VActionProc );        /* create a UPP for drawing a dialog's default button. Again, make it a global */    /* for convenience */    gDefaultButtonUPP = NewUserItemProc(DrawDefaultOutline);    while (!gQuitting)      MainEvent();  }  void main ()  {    /*the main routine starts here*/    DoSVEdit();  }</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/7Edit/listing59.html%3Fid%3DDTS10000200-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/7Edit/listing59.html%3Fid%3DDTS10000200-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/7Edit/listing59.html%3Fid%3DDTS10000200-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>