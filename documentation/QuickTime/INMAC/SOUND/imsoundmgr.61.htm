<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE>The Sound Resource (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.60.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.60.htm">Section top</A> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=3563"> </A>The Sound Resource<A NAME="marker=1523"> </A></H1><P CLASS="T0.Text0"><A NAME="pgfId=3564"> </A><A NAME="marker=1512"> </A>You can store sound commands and sound data as a resource with the resource type <TT CLASS="cv">'snd&nbsp;'</TT>. Resource IDs from 0 to 8191 are reserved by Apple Computer, Inc. You may use all other resource IDs for your <TT CLASS="cv">'snd&nbsp;'</TT> resources.<A NAME="marker=1527"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3565"> </A>You can use the <TT CLASS="cv">GetResource</TT> function to search all open resource files for the first <TT CLASS="cv">'snd&nbsp;'</TT> resource type with the given ID. The <TT CLASS="cv">'snd&nbsp;'</TT> resource type defines a sound resource. <A target="doc" HREF="imsoundmgr.61.htm#12999" CLASS="XRef">Figure 1-24</A> shows the structure of a sound resource.</P><P CLASS="Fg.Figure"><A NAME="pgfId=3568"> </A>Figure&nbsp;24 <A NAME="12999"> </A>The <TT CLASS="cv">'snd&nbsp;'</TT> resource type</P><DIV><IMG SRC="imsoundmgr-8.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=3566"> </A>Often, you can create a sound resource simply by using the <TT CLASS="cv">SndRecord</TT> function, documented in the chapter <A target="doc" HREF="imintrosound.htm" CLASS="XRef">&quot;Introduction to Sound on the Macintosh&quot;</A> in this book. However, you can also define a sound resource manually. This is especially useful for sound resources that are simply series of sound commands and contain no sampled-sound data. Also, you might construct a sound resource that contains wave-table data manually. A sound resource contains the following elements:<A NAME="marker=1530"> </A></P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3567"> </A><B CLASS="bold"></B><A NAME="marker=1520"> </A>Sound resource header. The gives information about the format of a sound resource, as explained below.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3574"> </A>Number of sound commands.<B CLASS="bold"> </B>Following the sound resource header is a word indicating the number of sound commands contained in the resource.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=4629"> </A>Sound commands. Each sound command is 8 bytes, which includes 2 bytes that identify the command, 2 bytes for the command's first parameter, and 4 bytes for the command's second parameter. When a sound command contained in an <TT CLASS="cv">'snd&nbsp;'</TT> resource has associated sound data, the high bit (defined by the <TT CLASS="cv">dataOffsetFlag</TT> constant) should be set. This tells the Sound Manager that the value in the second parameter is an offset from the beginning of the resource and not a pointer to a memory location.<A NAME="marker=1522"> </A></LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3578"> </A>Sound data. For a format 1 <TT CLASS="cv">'snd&nbsp;'</TT> resource, this field might contain wave-table data or a sampled sound header that includes sampled-sound data. For a format 2 <TT CLASS="cv">'snd&nbsp;'</TT> resource, this field should contain a sampled sound header that includes sampled-sound data.<A NAME="marker=1524"> </A></LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=3576"> </A>The format of the sound resource header differs depending on whether the <TT CLASS="cv">'snd&nbsp;'</TT> resource is format 1 or format 2. <A target="doc" HREF="imsoundmgr.61.htm#12390" CLASS="XRef">Figure 1-25</A> illustrates the formats of the two types of sound resource header. Both sound headers begin with a format field, which defines the format of the sound resource as either $0001 or $0002.</P><P CLASS="Fg.Figure"><A NAME="pgfId=3577"> </A>Figure&nbsp;25 <A NAME="12390"> </A>The sound resource header</P><DIV><IMG SRC="imsoundmgr-9.gif"></DIV><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3601"> </A>Format 1 sound resource header. For format 1 <TT CLASS="cv">'snd&nbsp;'</TT> resources, the sound resource header includes a word that indicates the number of data types to be sent to the sound channel. Because a sound channel cannot play more than one type of sound data, you should typically specify either $00 or $01 in this field. If you specify $01 or more, then the sound resource header contains both a word specifying the data type and a long word specifying the initialization options for each data type.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3602"> </A>Format 2 sound resource header. For format 2 <TT CLASS="cv">'snd&nbsp;'</TT> resources, the sound resource header next includes a single word that the Sound Manager ignores. This word is known as the reference count field. Your application can use this field as it pleases.<A NAME="marker=1525"> </A><A NAME="marker=1516"> </A></LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=3569"> </A>&nbsp;</P><hr>&#169; d by Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.60.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.60.htm">Section top</A> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>