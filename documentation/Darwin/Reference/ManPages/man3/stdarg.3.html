<html><head><title>Mac OS X
 Manual Page For stdarg(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/stdarg" title="Mac OS X
 Manual Page for stdarg(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/stdarg"; name=stdarg(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
STDARG(3)                BSD Library Functions Manual                STDARG(3)

<b>NAME</b>
     <b>stdarg</b> -- variable argument lists

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;stdarg.h&gt;</b>

     <u>void</u>
     <b>va_start</b>(<u>va</u><b>_</b><u>list</u> <u>ap</u>, <u>last</u>);

     <u>type</u>
     <b>va_arg</b>(<u>va</u><b>_</b><u>list</u> <u>ap</u>, <u>type</u>);

     <u>void</u>
     <b>va_end</b>(<u>va</u><b>_</b><u>list</u> <u>ap</u>);

<b>DESCRIPTION</b>
     A function may be called with a varying number of arguments of varying types.  The include file
     &lt;<u>stdarg.h&gt;</u> declares a type (<u>va</u><b>_</b><u>list</u>) and defines three macros for stepping through a list of arguments
     whose number and types are not known to the called function.

     The called function must declare an object of type <u>va</u><b>_</b><u>list</u> which is used by the macros <b>va_start</b>(),
     <b>va_arg</b>(), and <b>va_end</b>().

     The <b>va_start</b>() macro initializes <u>ap</u> for subsequent use by <b>va_arg</b>() and <b>va_end</b>(), and must be called
     first.

     The parameter <u>last</u> is the name of the last parameter before the variable argument list, i.e. the last
     parameter of which the calling function knows the type.

     Because the address of this parameter is used in the <b>va_start</b>() macro, it should not be declared as a
     register variable, or as a function or an array type.

     The <b>va_start</b>() macro returns no value.

     The <b>va_arg</b>() macro expands to an expression that has the type and value of the next argument in the
     call.  The parameter <u>ap</u> is the <u>va</u><b>_</b><u>list</u> <u>ap</u> initialized by <b>va_start</b>().  Each call to <b>va_arg</b>() modifies <u>ap</u>
     so that the next call returns the next argument.  The parameter <u>type</u> is a type name specified so that
     the type of a pointer to an object that has the specified type can be obtained simply by adding a * to
     <u>type</u>.

     If there is no next argument, or if <u>type</u> is not compatible with the type of the actual next argument
     (as promoted according to the default argument promotions), random errors will occur.

     The first use of the <b>va_arg</b>() macro after that of the <b>va_start</b>() macro returns the argument after <u>last</u>.
     Successive invocations return the values of the remaining arguments.

     The <b>va_end</b>() macro handles a normal return from the function whose variable argument list was initial-<font color="#ffffff" class="whiteout">ized&nbsp;initialized</font>
     ized by <b>va_start</b>().

     The <b>va_end</b>() macro returns no value.

<b>EXAMPLES</b>
     The function <u>foo</u> takes a string of format characters and prints out the argument associated with each
     format character based on the type.

           void foo(char *fmt, ...)
           {
                   va_list ap;
                   int d;
                   char c, *p, *s;

                   va_start(ap, fmt);
                   while (*fmt)
                           switch(*fmt++) {
                           case 's':                       /* string */
                                   s = va_arg(ap, char *);
                                   printf("string %s\n", s);
                                   break;
                           case 'd':                       /* int */
                                   d = va_arg(ap, int);
                                   printf("int %d\n", d);
                                   break;
                           case 'c':                       /* char */
                                   c = va_arg(ap, char);
                                   printf("char %c\n", c);
                                   break;
                           }
                   va_end(ap);
           }

<b>STANDARDS</b>
     The <b>va_start</b>(), <b>va_arg</b>(), and <b>va_end</b>() macros conform to ANSI X3.159-1989 (``ANSI C89'').

<b>COMPATIBILITY</b>
     These macros are <u>not</u> compatible with the historic macros they replace.  A backward compatible version
     can be found in the include file &lt;<u>varargs.h&gt;</u>.

<b>BUGS</b>
     Unlike the <u>varargs</u> macros, the <b>stdarg</b> macros do not permit programmers to code a function with no fixed
     arguments.  This problem generates work mainly when converting <u>varargs</u> code to <b>stdarg</b> code, but it also
     creates difficulties for variadic functions that wish to pass all of their arguments on to a function
     that takes a <u>va</u><b>_</b><u>list</u> argument, such as <a href="vfprintf.3.html#//apple_ref/doc/man/3/vfprintf">vfprintf(3)</a>.

BSD                              June 5, 1993                              BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/stdarg.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/stdarg.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/stdarg.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
