<html><head><title>Mac OS X
 Manual Page For atq(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/atq" title="Mac OS X
 Manual Page for atq(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/atq"; name=atq(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
AT(1)                     BSD General Commands Manual                    <!-- a -->AT(1)<!-- /a -->

<b>NAME</b>
     <b>at</b>, <b>batch</b>, <b>atq</b>, <b>atrm</b> -- queue, examine, or delete jobs for later execution

<b>SYNOPSIS</b>
     <b>at</b> [<b>-q</b> <u>queue</u>] [<b>-f</b> <u>file</u>] [<b>-mldbv</b>] <u>time</u>
     <b>at</b> [<b>-q</b> <u>queue</u>] [<b>-f</b> <u>file</u>] [<b>-mldbv</b>] <b>-t</b> [[<u>CC</u>]<u>YY</u>]<u>MMDDhhmm</u>[.<u>SS</u>]
     <b>at</b> <b>-c</b> <u>job</u> [<u>job</u> <u>...</u>]
     <b>at</b> <b>-l</b> [<u>job</u> <u>...</u>]
     <b>at</b> <b>-l</b> <b>-q</b> <u>queue</u>
     <b>at</b> <b>-r</b> <u>job</u> [<u>job</u> <u>...</u>]

     <b>atq</b> [<b>-q</b> <u>queue</u>] [<b>-v</b>]

     <b>atrm</b> <u>job</u> [<u>job</u> <u>...</u>]

     <b>batch</b> [<b>-q</b> <u>queue</u>] [<b>-f</b> <u>file</u>] [<b>-mv</b>] [<u>time</u>]

<b>DESCRIPTION</b>
     The <b>at</b> and <b>batch</b> utilities read commands from standard input or a specified file.  The commands are
     executed at a later time, using <a href="sh.1.html#//apple_ref/doc/man/1/sh">sh(1)</a>.

     <b>at</b>      executes commands at a specified time;

     <b>atq</b>     lists the user's pending jobs, unless the user is the superuser; in that case, everybody's jobs
             are listed;

     <b>atrm</b>    deletes jobs;

     <b>batch</b>   executes commands when system load levels permit; in other words, when the load average drops
             below _LOADAVG_MX, or the value specified in the invocation of <b>atrun</b>.

     The <b>at</b> utility allows some moderately complex <u>time</u> specifications.  It accepts times of the form <u>HHMM</u>
     or <u>HH:MM</u> to run a job at a specific time of day.  (If that time is already past, the next day is
     assumed.)  As an alternative, the following keywords may be specified: <u>midnight</u>, <u>noon</u>, or <u>teatime</u> (4pm)
     and time-of-day may be suffixed with <u>AM</u> or <u>PM</u> for running in the morning or the evening.  The day on
     which the job is to be run may also be specified by giving a date in the form <u>month-name</u> <u>day</u> with an
     optional <u>year</u>, or giving a date of the forms <u>DD.MM.YYYY</u>, <u>DD.MM.YY</u>, <u>MM/DD/YYYY</u>, <u>MM/DD/YY</u>, <u>MMDDYYYY</u>, <u>or</u>
     <u>MMDDYY</u>.  The specification of a date must follow the specification of the time of day.  Time can also
     be specified as: [<u>now</u>] <u>+</u> <u>count</u> <u>time-units</u>, where the time-units can be <u>minutes</u>, <u>hours</u>, <u>days</u>, <u>weeks</u>,
     <u>months</u> or <u>years</u> and <b>at</b> may be told to run the job today by suffixing the time with <u>today</u> and to run the
     job tomorrow by suffixing the time with <u>tomorrow</u>.

     For example, to run a job at 4pm three days from now, use <b>at</b> <u>4pm</u> <u>+</u> <u>3</u> <u>days</u>, to run a job at 10:00am on
     July 31, use <b>at</b> <u>10am</u> <u>Jul</u> <u>31</u> and to run a job at 1am tomorrow, use <b>at</b> <u>1am</u> <u>tomorrow</u>.

     The <b>at</b> utility also supports the POSIX time format (see <b>-t</b> option).

     For both <b>at</b> and <b>batch</b>, commands are read from standard input or the file specified with the <b>-f</b> option.
     The working directory, the environment (except for the variables TERM, TERMCAP, DISPLAY and <b>_</b>), and the
     <u>umask</u> are retained from the time of invocation.  An <b>at</b> or <b>batch</b> command invoked from a <a href="su.1.html#//apple_ref/doc/man/1/su">su(1)</a> shell will
     retain the current userid.  The user will be mailed standard error and standard output from his com-<font color="#ffffff" class="whiteout">mands,&nbsp;commands,</font>
     mands, if any.  Mail will be sent using the command <!-- a -->sendmail(8)<!-- /a -->.  If <b>at</b> is executed from a <a href="su.1.html#//apple_ref/doc/man/1/su">su(1)</a> shell,
     the owner of the login shell will receive the mail.

     The superuser may use these commands in any case.  For other users, permission to use <b>at</b> is determined
     by the files <b>_</b><u>PERM</u><b>_</b><u>PATH/at.allow</u> and <b>_</b><u>PERM</u><b>_</b><u>PATH/at.deny</u>.

     If the file <b>_</b><u>PERM</u><b>_</b><u>PATH/at.allow</u> exists, only usernames mentioned in it are allowed to use <b>at</b>.  In these
     two files, a user is considered to be listed only if the user name has no blank or other characters
     before it on its line and a newline character immediately after the name, even at the end of the file.
     Other lines are ignored and may be used for comments.

     If <b>_</b><u>PERM</u><b>_</b><u>PATH/at.allow</u> does not exist, <b>_</b><u>PERM</u><b>_</b><u>PATH/at.deny</u> is checked, every username not mentioned in
     it is then allowed to use <b>at</b>.

     If neither exists, only the superuser is allowed use of <b>at</b>.  This is the default configuration.

<b>IMPLEMENTATION</b> <b>NOTES</b>
     Note that <b>at</b> is implemented through the <a href="../man8/cron.8.html#//apple_ref/doc/man/8/cron">cron(8)</a> daemon by calling <a href="../man8/atrun.8.html#//apple_ref/doc/man/8/atrun">atrun(8)</a> every five minutes.  This
     implies that the granularity of <b>at</b> might not be optimal for every deployment.  If a finer granularity
     is needed, the system crontab at <u>/etc/crontab</u> needs to be changed.

<b>OPTIONS</b>
     <b>-b</b>      Is an alias for <b>batch</b>.

     <b>-c</b>      Cat the jobs listed on the command line to standard output.

     <b>-d</b>      Is an alias for <b>atrm</b> (this option is deprecated; use <b>-r</b> instead).

     <b>-f</b> <u>file</u>
             Read the job from <u>file</u> rather than standard input.

     <b>-l</b>      With no arguments, list all jobs for the invoking user.  If one or more job numbers are given,
             list only those jobs.

     <b>-m</b>      Send mail to the user when the job has completed even if there was no output.

     <b>-q</b> <u>queue</u>
             Use the specified queue.  A queue designation consists of a single letter; valid queue designa-<font color="#ffffff" class="whiteout">tions&nbsp;designations</font>
             tions range from <u>a</u> to <u>z</u> and <u>A</u> to <u>Z</u>.  The <b>_</b><u>DEFAULT</u><b>_</b><u>AT</u><b>_</b><u>QUEUE</u> queue (a) is the default for <b>at</b> and
             the <b>_</b><u>DEFAULT</u><b>_</b><u>BATCH</u><b>_</b><u>QUEUE</u> queue (b) is the default for <b>batch</b>.  Queues with higher letters run
             with increased niceness.  If a job is submitted to a queue designated with an uppercase letter,
             it is treated as if it had been submitted to batch at that time.  If <b>atq</b> is given a specific
             queue, it will only show jobs pending in that queue.

     <b>-r</b>      Remove the specified jobs.

     <b>-t</b>      Specify the job time using the POSIX time format.  The argument should be in the form
             [[<u>CC</u>]<u>YY</u>]<u>MMDDhhmm</u>[.<u>SS</u>] where each pair of letters represents the following:

                   <u>CC</u>      The first two digits of the year (the century).
                   <u>YY</u>      The second two digits of the year.
                   <u>MM</u>      The month of the year, from 1 to 12.
                   <u>DD</u>      the day of the month, from 1 to 31.
                   <u>hh</u>      The hour of the day, from 0 to 23.
                   <u>mm</u>      The minute of the hour, from 0 to 59.
                   <u>SS</u>      The second of the minute, from 0 to 61.

             If the <u>CC</u> and <u>YY</u> letter pairs are not specified, the values default to the current year.  If
             the <u>SS</u> letter pair is not specified, the value defaults to 0.

     <b>-v</b>      For <b>atq</b>, shows completed but not yet deleted jobs in the queue; otherwise shows the time the
             job will be executed.

<b>FILES</b>
     _ATJOB_DIR            directory containing job files (/usr/lib/cron/jobs/)
     _ATJOB_DIR/_LOCKFILE  job-creation lock file (/usr/lib/cron/jobs/...)
     _ATSPOOL_DIR          directory containing output spool files (/usr/lib/cron/spool/)
     _PERM_PATH/at.allow   allow permission control (/usr/lib/cron/at.allow)
     _PERM_PATH/at.deny    deny permission control (/usr/lib/cron/at.deny)
     /var/run/utmpx        login records

<b>SEE</b> <b>ALSO</b>
     <a href="nice.1.html#//apple_ref/doc/man/1/nice">nice(1)</a>, <a href="sh.1.html#//apple_ref/doc/man/1/sh">sh(1)</a>, <a href="../man2/umask.2.html#//apple_ref/doc/man/2/umask">umask(2)</a>, <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>, <a href="../man8/atrun.8.html#//apple_ref/doc/man/8/atrun">atrun(8)</a>, <a href="../man8/cron.8.html#//apple_ref/doc/man/8/cron">cron(8)</a>, <!-- a -->sendmail(8)<!-- /a -->

<b>BUGS</b>
     If the file <u>/var/run/utmpx</u> is not available or corrupted, or if the user is not logged on at the time
     <b>at</b> is invoked, the mail is sent to the userid found in the environment variable LOGNAME.  If that is
     undefined or empty, the current userid is assumed.

     The <b>at</b> and <b>batch</b> utilities as presently implemented are not suitable when users are competing for
     resources.  If this is the case, another batch system such as <u>nqs</u> may be more suitable.

     Specifying a date past 2038 may not work on some systems.

<b>AUTHORS</b>
     At was mostly written by Thomas Koenig &lt;ig25@rz.uni-karlsruhe.de&gt;.  The time parsing routines are by
     David Parsons &lt;orc@pell.chi.il.us&gt;, with minor enhancements by
     Joe Halpin &lt;joe.halpin@attbi.com&gt;.

BSD                            January 13, 2002                            BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/atq.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/atq.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/atq.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
