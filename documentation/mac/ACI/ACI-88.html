<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Summary of the Color Management Modules</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING88></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACI-87.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-89.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACI-2.html"><B>Advanced Color Imaging on the Mac OS</B></A> / <BR><DD><A HREF="ACI-79.html"><B>Chapter 5 - Developing Color Management Modules </B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING88-0></A>
<H1>Summary of the Color Management Modules</H1>
<A NAME=HEADING88-1></A>
<H3>Constants</H3>
<PRE>
enum {
   CMMInterfaceVersion= 1
   }; 
/* request codes (required) */
enum {
   kCMMInit       = 0,
   kCMMMatchColors= 1,
   kCMMCheckColors= 2
   kNCMMInit      = 6,
   }; 
/* request codes (optional) */
enum {
   kCMMValidateProfile     = 8,
   kCMMFlattenProfile      = 14,
   kCMMUnflattenProfile    = 15,
   kCMMMatchBitmap         = 9,
   kCMMCheckBitmap         = 10,
   kCMMMatchPixMap         = 3,
   kCMMCheckPixMap         = 4,
   kCMMConcatenateProfiles = 5,
   kCMMConcatInit          = 7,
   kCMMNewLinkProfile      = 16,
   kCMMGetPS2ColorSpace    = 11,
   kCMMGetPS2ColorRenderingIntent = 12,
   kCMMGetPS2ColorRendering= 13,
   kCMMGetPS2ColorRenderingVMSize = 17
   }; 
</PRE>
<A NAME=HEADING88-5></A>
<H3>Functions</H3>
<A NAME=HEADING88-6></A>
<H4>Required Functions</H4>
<PRE>
pascal CMError MyNCMInit (ComponentInstance CMSession, 
   CMProfileRef srcProfile,
                              CMProfileRef dstProfile); 
pascal CMError MyCMMatchColors(ComponentInstance CMSession,
CMColor *myColors,
                                          unsigned long count); 
pascal CMError MyCMCheckColors(ComponentInstance CMSession,
CMColor *myColors,
   unsigned long count,
long *result);
pascal CMError CMInit(ComponentInstance CMSession, 
CMProfileHandle srcProfile, 
CMProfileHandle dstProfile)
</PRE>
<A NAME=HEADING88-11></A>
<H4>Optional Functions</H4>
<PRE>
pascal CMError MyCMMValidateProfile (
ComponentInstance CMSession,
CMProfileRef prof, 
                                 Boolean *valid);
pascal CMError MyCMMatchBitmap(ComponentInstance CMSession,
const CMBitmap *bitmap,
                              CMBitmapCallBackUPP progressProc,
                              void *refCon,
CMBitmap *matchedBitmap); 
pascal CMError MyCMCheckBitmap(ComponentInstance CMSession,
                              const CMBitmap *bitmap,
                              CMBitmapCallBackUPP progressProc,
                              void *refCon,
                        CMBitmap *resultBitmap);
pascal CMError MyCMConcatInit (ComponentInstance CMSession, 
CMConcatProfileSet *profileSet);
pascal CMError MyCMMatchPixMap(ComponentInstance CMSession,
PixMap *myPixMap,
CMBitmapCallBackUPP progressProc,
void *refCon);
pascal CMError MyCMCheckPixMap(ComponentInstance CMSession,
const PixMap *myPixMap,
                           CMBitmapCallBackUPP progressProc,
BitMap *myBitMap,
void *refCon);
pascal CMError MyCMNewLinkProfile (ComponentInstance CMSession,
CMProfileRef *prof,
const                         CMProfileLocation *targetLocation,
                              CMConcatProfileSet *profileSet);
pascal CMError MyCMConcatenateProfiles (
ComponentInstance CMSession,           
CMProfileHandle thru,
                                       CMProfileHandle dst,
                                       CMProfileHandle *newDst); 
pascal CMError MyCMMGetPS2ColorSpace (
ComponentInstance CMSession,        
CMProfileRef srcProf,
                                    unsigned long flags,
                                    CMFlattenUPP proc, 
                                    void *refCon); 
pascal CMError MyCMMGetPS2ColorRenderingIntent (
ComponentInstance CMSession,
CMProfileRef srcProf,
                                    unsigned long flags,                
CMFlattenUPP proc,
                                    void *refCon); 
pascal CMError MyCMMGetPS2ColorRendering (
ComponentInstance CMSession,              
CMProfileRef srcProf,
                                          CMProfileRef dstProf,                     
unsigned long flags,
                                          CMFlattenUPP proc,
                                          void *refCon);
pascal CMError MyCMMGetPS2ColorRenderingVMSize (
ComponentInstance CMSession,
CMProfileRef srcProf,
                                          CMProfileRef dstProf,
unsigned long vmSize);
pascal CMError MyCMMFlattenProfile (
ComponentInstance CMSession,     
CMProfileRef prof,
unsigned                            long flags,
CMFlattenUPP                        proc,
void *refCon); 
pascal CMError MyCMMUnflattenProfile (
ComponentInstance CMSession,         
FSSpec *resultFileSpec,
                                    CMFlattenUPP proc,
void *refCon);
pascal CMError MyCMMGetNamedColorInfo(
ComponentInstance CMSession,
CMProfileRef srcProf,
unsigned long *deviceChannels,
OSType *deviceColorSpace,
OSType *PCSColorSpace,
unsigned long *count,
StringPtr prefix,
StringPtr suffix);
pascal CMError MyCMMGetNamedColorValue(
ComponentInstance CMSession,
CMProfileRef prof,
StringPtr name,
CMColor *deviceColor,
CMColor *PCSColor);
pascal CMError MyCMMGetIndNamedColorValue(
ComponentInstance CMSession,
CMProfileRef prof,
unsigned long index,
CMColor *deviceColor,
CMColor *PCSColor);
pascal CMError MyCMMGetNamedColorIndex(
ComponentInstance CMSession,
CMProfileRef prof,
StringPtr name,
unsigned long *index);
pascal CMError MyCMMGetNamedColorName(
ComponentInstance CMSession,
CMProfileRef prof,
unsigned long index,
StringPtr name);

</PRE>
</BLOCKQUOTE>
<P>
<UL>
<HR>

<DL>
<DT><A HREF="ACI-88.html#HEADING88-1">Constants</A>
<DD>
<DT><A HREF="ACI-88.html#HEADING88-5">Functions</A>
<DD>
<DT><A HREF="ACI-88.html#HEADING88-6"><B></B>Required Functions</A>
<DD>
<DT><A HREF="ACI-88.html#HEADING88-11"><B></B>Optional Functions</A>
<DD>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACI-87.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-89.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACI-3.html">&copy; Apple Computer, Inc.</A><br>13 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
