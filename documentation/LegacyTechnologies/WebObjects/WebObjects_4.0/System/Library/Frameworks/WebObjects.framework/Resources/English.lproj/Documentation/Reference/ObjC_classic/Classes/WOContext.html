<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>WOContext<</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">WebObjects Framework Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="WOComponent.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="WOCookie.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/occ/cl/WOContext">WOContext</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
NSObject</a>

<p><B>Conforms To:</B>
NSObject (NSObject)

<p><B>Declared in:</B>
WebObjects/WOContext.h

<p><a name="34">
<hr width=50% align=left>
<h2>Class Description  </h2>
</a>A WOContext object lets you access objects and information that define the <em>context</em> of a transaction. In a typical request-response loop (a transaction), several objects have a hand in what is going on: the <a href="WOApplication.html">WOApplication</a> and <a href="WOSession.html">WOSession</a> objects, the page involved in the request or response (a <a href="WOComponent.html">WOComponent</a> object), the page's subcomponents (also WOComponents), plus the dynamic elements on the page. The WOContext object passed as an argument in the <a href="WOComponent.html#173"><B>takeValuesFromRequest:inContext: </B></a>, <a href="WOComponent.html#113"><B>invokeActionForRequest:inContext: </B></a>, and <a href="WOComponent.html#1032"><B>appendToResponse:inContext: </B></a> messages allows access to these objects. A context is identified by the <em>context ID</em>, which appears in the URL after the session ID and page name. Each context ID is an integer that the session increments each time a new context is created. <p>
WOContext objects provide other information and services related to the current transaction. From them you can get the entire URL currently in effect as well as portions of that URL, such as the element ID, the context ID, and the URL up to and including the session ID.<p>
A WOContext object plays a further role behind the scenes. For the benefit of a page's dynamic elements, it keeps track of the <em>current component</em>, that is, the WOComponent associated with the current element in the request-handling cycle. The current component can be the WOComponent that represents one of the page's subcomponents or the page itself. By reference to the current component (accessed through WOContext's <a href="WOContext.html#57"> <B>component </B></a> method), a dynamic element can exchange values associatively between itself and the WOComponent that contains it.<p>
<HR WIDTH=50% ALIGN=LEFT>
<h1>Adopted Protocols</h1>  


<dl><dt>NSCopying
<dl><dt>- copy
<dt>- copyWithZone:
</dl></dl><a name="38">
<hr width=50% align=left>
<h2>Method Types  </h2>
</a><dl><dt>Creating new object instances
<dl><dt><a href="WOContext.html#41">+ contextWithRequest:</a>
<dt><a href="WOContext.html#11085">- init</a>
<dt><a href="WOContext.html#11094">- initWithRequest:</a>
<dt>
</dl><dt>Obtaining attributes
<dl><dt><a href="WOContext.html#57">- component</a>
<dt><a href="WOContext.html#65">- contextID</a>
<dt><a href="WOContext.html#81">- elementID</a>
<dt><a href="WOContext.html#85">- hasSession</a>
<dt><a href="WOContext.html#3663">- isInForm</a>
<dt><a href="WOContext.html#101">- page</a>
<dt><a href="WOContext.html#105">- request</a>
<dt><a href="WOContext.html#3566">- response</a>
<dt><a href="WOContext.html#117">- session</a>
<dt><a href="WOContext.html#5414">- senderID</a>
<dt><a href="WOContext.html#3702">- setInForm:</a>
</dl><dt>Manipulating element ID
<dl><dt>
<dt><a href="WOContext.html#45">- appendElementIDComponent:</a>
<dt><a href="WOContext.html#49">- appendZeroElementIDComponent</a>
<dt><a href="WOContext.html#69">- deleteAllElementIDComponents</a>
<dt><a href="WOContext.html#73">- deleteLastElementIDComponent</a>
<dt><a href="WOContext.html#89">- incrementLastElementIDComponent</a>
</dl><dt>Generating URLs
<dl><dt><a href="WOContext.html#77">- directActionURLForActionNamed:queryDictionary:</a>
<dt><a href="WOContext.html#53">- completeURLWithRequestHandlerKey:path:queryString:isSecure:
port:</a>
<dt><a href="WOContext.html#61">- componentActionURL</a>
<dt><a href="WOContext.html#121">- urlWithRequestHandlerKey:path:queryString:</a>
<dt>
</dl></dl><a name="40">
<hr width=50% align=left>
<h2>Class Methods </h2>
</a><a name="41">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/WOContext/contextWithRequest:">contextWithRequest:</a></h3>
</a>+ (WOContext *)<B>contextWithRequest: </B>(WORequest *)<em>aRequest</em> <p>
Creates and returns a WOContext with <em>aRequest</em>. This is the preferred way to create a WOContext. All other constructors call this one, so if you subclass WOContext, you need to override only this one.<p>
<a name="959">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="45">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/appendElementIDComponent:">appendElementIDComponent:</a></h3>
</a>- (void)<B>appendElementIDComponent: </B>(NSString *)<em>aString</em> <p>
Appends a string to the current element ID to create an identifier of an HTML element. For example, if the current element ID is "0.1.1" and you send this message with an argument of "NameField," the element ID for that field becomes "0.1.1.NameField".<p>
<B>See also: </B>  
<a href="WOContext.html#69">- <B>deleteAllElementIDComponents </B></a>, <a href="WOContext.html#73">- <B>deleteLastElementIDComponent </B></a>, 
<a href="WOContext.html#89">- <B>incrementLastElementIDComponent </B></a>
<p><a name="49">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/appendZeroElementIDComponent">appendZeroElementIDComponent</a></h3>
</a>- (void)<B>appendZeroElementIDComponent </B> <p>
Appends a ".0" to the current element ID to create an identifier of the first "child" HTML element. For example, if the current element ID is "0.1.1", after you send this message the element ID becomes "0.1.1.0".<p>
<B>See also: </B>  
<a href="WOContext.html#69">- <B>deleteAllElementIDComponents </B></a>, <a href="WOContext.html#73">- <B>deleteLastElementIDComponent </B></a>, 
<a href="WOContext.html#89">- <B>incrementLastElementIDComponent </B></a>
<p><a name="53">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/completeURLWithRequestHandlerKey:path:queryString:isSecure:port:">completeURLWithRequestHandlerKey:path:queryString:isSecure:port:</a></h3>
</a>- (NSString *)<B>completeURLWithRequestHandlerKey: </B>(NSString *)<em>requestHandlerKey <br></em><B>path: </B>(NSString *)<em>aRequestHandlerPath <br></em><B>queryString: </B>(NSString *)<em>aQueryString <br></em><B>isSecure: </B>(BOOL)<em>isSecure <br></em><B>port: </B>(int)<em>somePort</em> <p>
Returns the complete URL for the specified request handler. The <em>requestHandlerKey</em> is one of the keys provided by WOApplication. The <em>requestHandlerPath</em> is any URL encoded string. The <em>queryString</em> is added at the end of the URL behind a "?". If <em>isSecure</em> is YES, this method uses "https" instead of "http." If <em>somePort</em> is 0 (zero), this method uses the default port. <p>
<B>See also: </B>  
<a href="WOContext.html#121">- <B>urlWithRequestHandlerKey:path:queryString: </B></a>
<p><a name="57">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/component">component</a></h3>
</a>- (WOComponent *)<B>component </B> <p>
Returns the component that dynamic elements are currently using to push and pull values associatively. This component could represent the current request or response page or a subcomponent of that page.<p>
<B>See also: </B>  
<a href="WOComponent.html">WOComponent</a> class, <a href="WOContext.html#101">- <B>page </B></a>, <a href="WOContext.html#105">- <B>request </B></a>, <a href="WOContext.html#3566">- <B>response </B></a>, <a href="WOContext.html#5414">- <B>senderID </B></a>
<p><a name="61">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/componentActionURL">componentActionURL</a></h3>
</a>- (NSString *)<B>componentActionURL </B> <p>
Returns the complete URL for the component action.<p>
<a name="65">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/contextID">contextID</a></h3>
</a>- (NSString *)<B>contextID </B> <p>
Returns the context ID of the receiver.<p>
<a name="69">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/deleteAllElementIDComponents">deleteAllElementIDComponents</a></h3>
</a>- (void)<B>deleteAllElementIDComponents </B> <p>
Deletes all components of the current element ID.<p>
<B>See also: </B>  
<a href="WOContext.html#45">- <B>appendElementIDComponent: </B></a>, <a href="WOContext.html#49">- <B>appendZeroElementIDComponent </B></a>, 
<a href="WOContext.html#89">- <B>incrementLastElementIDComponent </B></a>
<p><a name="73">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/deleteLastElementIDComponent">deleteLastElementIDComponent</a></h3>
</a>- (void)<B>deleteLastElementIDComponent </B> <p>
Deletes the last digit (or name) of the current element ID, along with its dot separator. Thus, after sending this message, "0.0.1.1" becomes "0.0.1".<p>
<B>See also: </B>  
<a href="WOContext.html#45">- <B>appendElementIDComponent: </B></a>, <a href="WOContext.html#49">- <B>appendZeroElementIDComponent </B></a>, 
<a href="WOContext.html#89">- <B>incrementLastElementIDComponent </B></a>
<p><a name="77">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/directActionURLForActionNamed:queryDictionary:">directActionURLForActionNamed:queryDictionary:</a></h3>
</a>- (NSString *)<B>directActionURLForActionNamed: </B>(NSString *)<em>anActionName <br></em><B>queryDictionary: </B>(NSDictionary *)<em>aQueryDict</em> <p>
Returns the complete URL for the specified action. You can specify <em>aQueryDict</em>, and <em>anActionName</em> can be @"ActionClass/ActionName" or @"ActionName". <p>
<B>See also: </B>  
<a href="WODirectAction.html">WODirectAction</a> class specification
<p><a name="81">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/elementID">elementID</a></h3>
</a>- (NSString *)<B>elementID </B> <p>
Returns the element ID identifying the current <a href="WOElement.html">WOElement</a>.This method helps you avoid creating a session in direct actions.<p>
<a name="85">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/hasSession">hasSession</a></h3>
</a>- (BOOL)<B>hasSession </B> <p>
Returns whether a session exists for the receiving context.<p>
<B>See also: </B>  
<a href="WOContext.html#5414">- <B>senderID </B></a>
<p><a name="89">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/incrementLastElementIDComponent">incrementLastElementIDComponent</a></h3>
</a>- (void)<B>incrementLastElementIDComponent </B> <p>
Increments the last digit of the current element ID. For example, after this message is sent, "0.0.1.2" becomes "0.0.1.3".<p>
<B>See also: </B>  
<a href="WOContext.html#45">- <B>appendElementIDComponent: </B></a>, <a href="WOContext.html#49">- <B>appendZeroElementIDComponent </B></a>, 
<a href="WOContext.html#69">- <B>deleteAllElementIDComponents </B></a>, <a href="WOContext.html#73">- <B>deleteLastElementIDComponent </B></a>
<p><a name="11085">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/init">init</a></h3>
</a>- (id)<B>init </B> <p>
Returns a WOContext instance initialized with a unique context ID. Generally, you should call <a href="WOContext.html#11094"><B>initWithRequest: </B></a> instead to ensure that the WOContext instance is properly initialized.<p>
<a name="11094">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/initWithRequest:">initWithRequest:</a></h3>
</a>- (id)<B>initWithRequest: </B>(WORequest *)<em>aRequest</em> <p>
Returns a WOContext with <em>aRequest</em>.<p>
<a name="3663">
<hr width=25% align=left>
<h3> isInForm</h3>
</a>- (BOOL)<B>isInForm </B> <p>
Returns YES when in the context of a WOForm. <p>
<B>See also: </B>  
<a href="WOContext.html#3702"><B>setInForm: </B></a>
<p><a name="101">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/page">page</a></h3>
</a>- (WOComponent *)<B>page </B> <p>
Returns the <a href="WOComponent.html">WOComponent</a> object that represents the request or response page.<p>
<B>See also: </B>  
<a href="WOContext.html#57">- <B>component </B></a>, <a href="WOContext.html#105">- <B>request </B></a>, <a href="WOContext.html#3566">- <B>response </B></a>, <a href="WOContext.html#5414">- <B>senderID </B></a>
<p><a name="105">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/request">request</a></h3>
</a>- (WORequest *)<B>request </B> <p>
Returns the transaction's <a href="WORequest.html">WORequest</a> object.<p>
<B>See also: </B>  
<a href="WOContext.html#57">- <B>component </B></a>, <a href="WOContext.html#101">- <B>page </B></a>, <a href="WOContext.html#3566">- <B>response </B></a>, <a href="WOContext.html#5414">- <B>senderID </B></a>
<p><a name="3566">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/response">response</a></h3>
</a>- (WOResponse *)<B>response </B> <p>
Returns the transaction's <a href="WOResponse.html">WOResponse</a> object.<p>
<B>See also: </B>  
<a href="WOContext.html#57">- <B>component </B></a>, <a href="WOContext.html#101">- <B>page </B></a>, <a href="WOContext.html#3566">- <B>response </B></a>, <a href="WOContext.html#5414">- <B>senderID </B></a>
<p><a name="5414">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/session"><a name="//apple_ref/occ/instm/WOContext/requestSenderID">senderID</a></h3>
</a>- (NSString *)<B>senderID </B> <p>
Returns the part of the WORequest's URI that identifies the dynamic element on the page (such as a form or an active image) responsible for submitting the request. The sender ID is the same as the element ID used to identify the dynamic element. A request's sender ID may be<code> nil</code>, as it always is on the first request of a session.<p>
<B>See also: </B>  
<code><a href="WOContext.html#11094">- </code><B>initWithRequest: </B><code></a>, </code><a href="WOContext.html#105">- <B>request </B></a> ,<code> <a href="WORequest.html#151">- </code><B>uri </B><code></a> (WORequest)
</code><p><a name="117">
<hr width=25% align=left>
<h3> session</a></h3>
</a>- (WOSession *)<B>session </B> <p>
Returns the object representing the receiving context's session, if one exists. If the receiver does not have a session, this method creates a new session object and returns it. Note that not all contexts have a session: Direct Actions, for instance, don't always need a session. Use <a href="WOContext.html#85"><B>hasSession </B></a> to determine whether a context has a session associated with it.<p>
<B>See also: </B>  
<a href="WOContext.html#57">- <B>component </B></a>, <a href="WOContext.html#101">- <B>page </B></a>, <a href="WOContext.html#105">- <B>request </B></a>, <a href="WOContext.html#3566">- <B>response </B></a>, <a href="WOSession.html">WOSession</a> class
<p><a name="3702">
<hr width=25% align=left>
<h3> setInForm:</h3>
</a>- <B>setInForm: </B>(BOOL)<em>flag</em> <p>
If you write something that behaves like a WOForm, set this to notify WODynamicElements that they are in a form.<p>
<B>See also: </B>  
<a href="WOContext.html#3663"><B>isInForm </B></a>
<p><a name="121">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WOContext/urlWithRequestHandlerKey:path:queryString:">urlWithRequestHandlerKey:path:queryString:</a></h3>
</a>- (NSString *)<B>urlWithRequestHandlerKey: </B>(NSString *)<em>requestHandlerKey <br></em><B>path: </B>(NSString *)<em>aRequestHandlerPath <br></em><B>queryString: </B>(NSString *)<em>aQueryString</em> <p>
Returns a URL relative to <code>cgi-bin/WebObjects</code> for the specified request handler. The <em>requestHandlerKey</em> is one of the keys provided by WOApplication. The <em>requestHandlerPath</em> is any URL encoded string. The <em>queryString</em> is added at the end of the URL behind a "?".<p>
<a href="WOContext.html#53">- <B>completeURLWithRequestHandlerKey:path:queryString:isSecure:port: </B></a><p>

<hr><br>
 
<!--<a href="../WebObjectsTOC.html" target="_top">[TOC]-->
<a href="WOComponent.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="WOCookie.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/10/98 11:54:47 -->

</body>
</html>
