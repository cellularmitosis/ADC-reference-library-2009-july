<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Using Context Checks</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING25></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="AppleGuide-24.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="AppleGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="AppleGuide-240.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="AppleGuide-26.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="AppleGuide-2.html"><B>Apple Guide Complete</B></A> / <A HREF="AppleGuide-10.html"><B>Part 1 - Designing Guide Files</B></A><BR><DD><A HREF="AppleGuide-14.html"><B>Chapter 2 - Authoring Tips and Suggestions</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING25-0></A>
<H1><A NAME=MARKER-9-350></A><A NAME=MARKER-9-351></A><A NAME=MARKER-9-352></A>Using Context Checks</H1>
 <B><A NAME=MARKER-2-353></A>Context checks </B>are functions that verify certain conditions of the user's environment so that Apple Guide can dynamically skip or show certain panels to the user based on their appropriateness. These conditions can be tasks that the user needs to perform or conditions based on the user's environment, for example, whether a folder is open or a file is present. In either case, if a panel specifies that a certain condition must be true, you need to determine whether you can perform context checks on that condition. <P>
 For example, your sequence can contain panels that instruct the user to open a window or click an item. If the user has already performed the task specified by a panel, there is no need for the user to view that panel. For each panel, therefore, you should use the &lt;Skip If&gt; command to verify whether the specified condition is true and if so, to tell Apple Guide to skip the panel. Similarly, your sequence can contain a branch that applies only to a specific condition that you can programmatically verify. When it does, you can use the &lt;If&gt; command to show the user that branch only if the specific condition is true. For more information, see <A HREF=AppleGuide-21.html#MARKER-9-281>"Designing Branches for a Specific Condition" on page 2-72</A>.<P>
 Your sequence can also contain panels that you do not want the user to view unless a certain condition is true (for example, certain panels can require that a specific folder be open). For these panels, you should use the &lt;Make Sure&gt; command to verify that the specified condition is true before Apple Guide shows the associated panel to the user. If the condition is not true, you can specify that one of two panel types appear--an Oops or Continue panel--that work in different ways to make the condition true. These panels are described later in this section. For additional guidelines on creating these panels, see <A HREF=AppleGuide-19.html#MARKER-9-255>"Designing an Oops Panel" on page 2-66</A> and <A HREF=AppleGuide-19.html#MARKER-9-260>"Designing a Continue Panel" on page 2-67</A>.<P>
 Apple recommends that you use context checks in your guide files wherever possible. Specifying context checks in your guide file generally occurs in four stages. You might have the skills and background to do this work yourself, or you might work with a team that includes instructional designers, scriptors, and developers. Here are the tasks you or your team need to accomplish:<P>
<OL>
<LI>Determine those panels that require context checks in the early stages of designing your guide file.
<LI>Determine whether panels with a context check are associated with an Oops or Continue panel. For Continue panels, you must also determine whether it is programmatically possible to perform the given task for the user.
<LI>Create the code that checks the condition specified by the context check.
<LI>Test whether the context checks for any user action (for example, selecting a menu command) still work properly if the user performs the action in the wrong order in the sequence.<P>
</OL>
<DL>
<DT><B>Note</B>
<DD>Guide Maker provides a file, Standard Setup, that contains built-in context checks.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 This section explains how to analyze your panels to determine whether they require &lt;Make Sure&gt; and &lt;Skip If&gt; commands. It also describes how to design Oops and Continue panels. It then describes the order Apple Guides uses to evaluate context checks. For complete descriptions of all context checking commands, see the chapter "Guide Script Command Reference."<P>
<A NAME=HEADING25-11></A>
<H2><A NAME=MARKER-9-354></A>Comparison of Oops and Continue Panels</H2>
 <A NAME=MARKER-2-355></A><A NAME=MARKER-2-356></A>When the user clicks the right arrow to move to the next panel and the next panel is preceded by a &lt;Make Sure&gt; command, Apple Guide checks the condition associated with the &lt;Make Sure&gt; command before displaying the next panel. If the condition is false, you can specify that an Oops or Continue panel appear.<P>
 An Oops panel tells the user that the condition (typically an action described on a previous panel) must be true for the user to continue to the next panel. A Continue panel offers to have Apple Guide do the condition that must be true before the user can go to the next panel; that is, do the action for the user. You can therefore use a Continue panel only if it is programmatically possible to perform the required action that makes the condition true. For guidelines, see <A HREF=AppleGuide-19.html#MARKER-9-255>"Designing an Oops Panel" on page 2-66</A> and <A HREF=AppleGuide-19.html#MARKER-9-260>"Designing a Continue Panel" on page 2-67</A>.<P>
<DL>
<DT><B>Note</B>
<DD>If you specify that a Continue or Oops panel appear for a certain condition--for example, the condition is false if a particular control panel is closed--you should specify the same result for all other panels in that sequence that contain the same condition. Also, you should not mix use of the Continue or Oops panels for the same condition.<A NAME=MARKER-2-357></A><EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<A NAME=HEADING25-15></A>
<H2>Analyzing a Sequence for Context Checks</H2>
 <A NAME=MARKER-9-437></A><A NAME=MARKER-2-428></A>To determine the context checks for your guide file, go through each sequence, panel by panel, and consider these issues:<P>
<UL>
<LI>Does the panel tell the user to perform an action? Can you programmatically check whether the condition that results from this action is true? (For example, can you check whether a control panel is open?) If so, specify a &lt;Skip If&gt; command for that panel. 
<LI>Does that panel set up a condition that must be true for the user to use subsequent panels in the sequence? Can you programmatically check whether this condition is true? If so, specify a &lt;Make Sure&gt; command for that condition.<P>
</UL>
 For example, assume you want to determine the context checks sequence for the SurfWriter topic "How do I add words to the dictionary?" shown in <A HREF=#MARKER-9-360>Figure 2-58</A>.<P>
<B>Figure 2-58  <A NAME=MARKER-9-360></A>The SurfWriter sequence for adding a word to the dictionary</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/AGGT_LS-36.jpg"><P>
 This sequence contains the typical panels for a topic that describes a task.<P>
<UL>
<LI>Panel 1 is an introductory panel that describes the purpose of the sequence --adding a word to the dictionary--to the user. 
<LI>Panels 2 and 3 are action panels that each contain a step that the user should perform to accomplish the task: <P>
<UL>
<LI>Panel 2 instructs the user to open the SurfWriter dictionary.
<LI>Panel 3 asks the user to type a word.<P>
</UL>
<LI>Panel 4 is a closure panel that tells the user the task is done.<P>
</UL>
 First, consider panel 1. Apple Guide should not skip an introductory panel in a sequence, because it prepares the user for the task ahead. This panel does not require a &lt;Skip If&gt; statement. Furthermore, you should not specify a &lt;Make Sure&gt; for the first panel of a sequence. Panel 1, therefore, requires no context checks.<P>
 In contrast, panel 2 sets up a condition by telling the user to do an action (open the SurfWriter dictionary). You can verify whether this condition is true. You should therefore specify a &lt;Skip If&gt; command so that Apple Guide skips this panel if the SurfWriter dictionary is already open and then displays panel 3. <P>
 Panel 3 also tells the user to perform an action (type a word in the dictionary); here, a specific condition must be true (the SurfWriter dictionary must be open) for the user to perform this action. You should therefore specify a &lt;Make Sure&gt; command to verify that the SurfWriter dictionary is open before Apple Guide displays this panel. You can also specify a Continue panel if the &lt;Make Sure&gt; command results in a false condition. For example, <A HREF=#MARKER-9-361>Figure 2-59</A> shows the Continue panel that would appear if the user pressed the right navigation arrow on panel 2 without opening the SurfWriter dictionary. <P>
<B>Figure 2-59  <A NAME=MARKER-9-361></A>A Continue panel for a condition in a SurfWriter sequence</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/AGGT-S-37.jpg"><P>
 (Notice that the Continue panel tells the user to wait until Apple Guide opens the SurfWriter dictionary.) This panel is associated with code (for example, an AppleScript command) that automatically opens the dictionary. After the user clicks the Continue button, Apple Guide then advances to panel 3 because the condition associated with the &lt;Make Sure&gt; command is true.<A NAME=MARKER-2-362></A><P>
 Alternatively, you can specify an Oops panel with the &lt;Make Sure&gt; command. For example, <A HREF=#MARKER-9-364>Figure 2-60</A> shows the Oops panel that would appear for the same condition. <A NAME=MARKER-2-363></A><P>
<B>Figure 2-60  <A NAME=MARKER-9-364></A>An Oops panel for a condition in a SurfWriter sequence</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/AGGT-S-38.jpg"><P>
 If the user clicks OK without performing any other action, Apple Guide returns to panel 2, the first previous panel shown before the condition specified by the &lt;Make Sure&gt; command failed. If the user opens the SurfWriter dictionary and clicks OK, Apple Guide displays the next panel in the sequence.<A NAME=MARKER-2-365></A><P>
 Panel 4 does not depend on a condition being true and therefore requires no &lt;Make Sure&gt; command. In addition, Apple Guide should not skip a closure panel in a sequence, because it summarizes the task accomplished by the user. You should therefore not specify a &lt;Skip If&gt; statement for this panel. This panel therefore requires no context checks.<A NAME=MARKER-2-438></A><P>
<A NAME=HEADING25-39></A>
<H2>Evaluation of Context Checks</H2>
 <A NAME=MARKER-2-367></A>Apple Guide always evaluates context checks in a certain order, as shown in <A HREF=#MARKER-9-1>Table 2-3</A>.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-1></A>Order in which Apple Guide evaluates context checks</CAPTION>
<TH>Button pressed<TH>Apple Guide movement through panels<TH>&lt;Skip If&gt;<TH>&lt;Make Sure&gt;<TR>
<TD>Right arrow<TD>Normal forward<TD>Evaluated<TD>Evaluated after &lt;Skip If&gt; <TR>
<TD>Left arrow<TD>Normal backward<TD>Not evaluated<TD>Not evaluated<TR>
<TD>Right arrow<TD>Forward on Oops panel<TD>Evaluated<TD>Not allowed<TR>
<TD>Left arrow<TD>Backward on Oops panel<TD>Not evaluated<TD>Not allowed<TR>
<TD>OK on Oops panel without user making condition true<TD>Backward search<TD>Not evaluated<TD>Evaluated</TABLE>
<P>
 <A NAME=MARKER-2-14></A><A NAME=MARKER-2-369></A><A NAME=MARKER-2-370></A>If Apple Guide is moving forward through a sequence because the user clicks the right arrow, it evaluates &lt;Skip If&gt; commands before &lt;Make Sure&gt; commands. If Apple Guide is moving backward through a sequence (because the user is using the left arrow), Apple Guide ignores the &lt;Skip If&gt; and &lt;Make Sure&gt; commands and moves backward through panels regardless of their context checks. If the user clicks the OK button on an Oops panel without correcting the specified condition, Apple Guide returns the user to the <B>first previous panel</B> in the sequence. This panel is the first panel that Apple Guide finds, searching backward through the sequence, that meets one of two criteria: it does not have a &lt;Make Sure&gt; command specified for it, or it has a &lt;Make Sure&gt; command whose condition evaluates to <CODE>true</CODE>.<P>
 <A NAME=MARKER-2-371></A>To find the first previous panel, Apple Guide searches backward through the sequence and checks each panel to see if it has &lt;Make Sure&gt; commands associated with it. If a panel does not have any &lt;Make Sure&gt; commands specified, Apple Guide displays the panel. If the panel does have &lt;Make Sure&gt; commands specified, Apple Guide evaluates whether each condition verified by the &lt;Make Sure&gt; command is true or false. If the conditions are all true, Apple Guide displays the panel. If the conditions are false, Apple Guide moves backward to the next panel. Apple Guide repeats this process until it finds a panel where one of the following conditions is true:<A NAME=MARKER-2-372></A><P>
<UL>
<LI>The panel has no &lt;Make Sure&gt; commands specified.
<LI>The conditions specified by the &lt;Make Sure&gt; command are all true for the panel. 
<LI>Apple Guide has reached the first panel of the sequence.<P>
</UL>
 Apple Guide displays the first panel that meets one of these conditions to the user<A NAME=MARKER-2-278></A>.<A NAME=MARKER-2-374></A><P>
 <A HREF=#MARKER-9-375>Figure 2-61</A> indicates the context checks for a Macintosh Guide sequence that describes how to change the sound on a Macintosh computer.<P>
<B>Figure 2-61  <A NAME=MARKER-9-375></A>A sequence in Macintosh Guide for changing the beep sound</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/AGGT_LS-39.jpg"><P>
 For this sequence, a Continue panel rather than an Oops panel appears whenever the user clicks the right arrow button on a panel where the specified condition is not true.<P>
 The introduction panel is the first panel in the sequence. Note that the third, fourth, and fifth panels all have a &lt;Make Sure&gt; command: the &lt;Make Sure&gt; command for the third panel specifies that the Control Panels folder be open and the &lt;Make Sure&gt; command for the fourth and fifth panels specifies that the Sound control panel be open.<P>
 <A NAME=MARKER-2-376></A>Suppose that the user moves successfully through the first four panels without receiving an Oops panel; that is, the user opens the Control Panels folder and Sound control panel so that the conditions on the third and fourth panels are true. Now assume that, while viewing the fourth panel, the user closes the Control Panels folder and Sound control panel and then clicks the right navigation arrow. Because the next panel contains a &lt;Make Sure&gt; command that specifies that the Sound control panel should be open, Apple Guide displays an Oops panel. Assume that the user still does not open the Sound control panel but clicks the OK button on the Oops panel. Apple Guide now searches backward for the first previous panel in the sequence that either does not have a &lt;Make Sure&gt; command specified for it or that has a &lt;Make Sure&gt; command whose condition evaluates to <CODE>true</CODE>. <P>
 Apple Guide first goes back to the fourth panel, which contains a &lt;Make Sure&gt; command to specify that the Sound control panel be open. Because this condition is false, Apple Guide goes back to the third panel, which contains a &lt;Make Sure&gt; command to specify that the Control Panels folder be open. Because this condition is also false, Apple Guide goes back to the second panel. This panel does not contain a &lt;Make Sure&gt; command and is therefore the first previous panel that Apple Guide returns to<A NAME=MARKER-2-377></A>.<A NAME=MARKER-2-378></A><P>

</BLOCKQUOTE>
<HR>
<center>
<A HREF="AppleGuide-24.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="AppleGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="AppleGuide-240.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="AppleGuide-26.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="AppleGuide-3.html">&copy; Apple Computer, Inc.</A><br>12 JUL 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML>  
