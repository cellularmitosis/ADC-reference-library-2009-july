<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE>Sound Channel Records (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.41.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.3d.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.43.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=2691"> </A>Sound Channel Records<A NAME="marker=1206"> </A><A NAME="marker=1194"> </A></H1><P CLASS="T0.Text0"><A NAME="pgfId=2741"> </A>The Sound Manager maintains a sound channel record to store information about each sound channel that you allocate directly by calling the <TT CLASS="cv">SndNewChannel</TT> function or indirectly by passing a <TT CLASS="cv">NIL</TT> channel to a high-level Sound Manager routine like the <TT CLASS="cv">SndPlay</TT> function. The <TT CLASS="cv">SndChannel</TT> data type defines a sound channel record.</P><CODE CLASS="Cv.Code"><A NAME="pgfId=11183"> </A>TYPE SndChannel =<BR>PACKED RECORD<BR>&nbsp;&nbsp;&nbsp;&nbsp;nextChan:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SndChannelPtr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pointer to next channel}<BR>&nbsp;&nbsp;&nbsp;&nbsp;firstMod:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{used internally}<BR>&nbsp;&nbsp;&nbsp;&nbsp;callBack:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ProcPtr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pointer to callback procedure}<BR>&nbsp;&nbsp;&nbsp;&nbsp;userInfo:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{free for application's use}<BR>&nbsp;&nbsp;&nbsp;&nbsp;wait:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{used internally}<BR>&nbsp;&nbsp;&nbsp;&nbsp;cmdInProgress:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SndCommand;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{used internally}<BR>&nbsp;&nbsp;&nbsp;&nbsp;flags:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{used internally}<BR>&nbsp;&nbsp;&nbsp;&nbsp;qLength:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{used internally}<BR>&nbsp;&nbsp;&nbsp;&nbsp;qHead:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{used internally}<BR>&nbsp;&nbsp;&nbsp;&nbsp;qTail:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{used internally}<BR>&nbsp;&nbsp;&nbsp;&nbsp;queue:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ARRAY[0..stdQLength-1] OF SndCommand;<BR>END; <BR></CODE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11185"> </A><TT CLASS="cv">nextChan</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2750"> </A>A pointer to the next sound channel in a single queue of channels that the Sound Manager maintains for all applications.<A NAME="marker=583"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11194"> </A><TT CLASS="cv">firstMod</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2758"> </A>Used internally.<A NAME="marker=585"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11203"> </A><TT CLASS="cv">callBack</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2759"> </A>A pointer to the callback procedure associated with the sound channel. See <A target="doc" HREF="imsoundmgr.5e.htm#41771" CLASS="XRef">[link]</A> for information on this callback procedure.<A NAME="marker=1060"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11212"> </A><TT CLASS="cv">userInfo</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2760"> </A>A value that your application can use to store information.<A NAME="marker=1061"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11221"> </A><TT CLASS="cv">wait</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2761"> </A>Used internally.<A NAME="marker=1062"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11230"> </A><TT CLASS="cv">cmdInProgress</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2762"> </A>Used internally.<A NAME="marker=1063"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11239"> </A><TT CLASS="cv">flags</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2763"> </A>Used internally.<A NAME="marker=1064"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11248"> </A><TT CLASS="cv">qLength</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2764"> </A>Used internally.<A NAME="marker=1065"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11257"> </A><TT CLASS="cv">qHead</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2765"> </A>Used internally.<A NAME="marker=1066"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11266"> </A><TT CLASS="cv">qTail</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2766"> </A>Used internally.<A NAME="marker=1067"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11275"> </A><TT CLASS="cv">queue</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2767"> </A>The sound commands pending for the sound channel.<A NAME="marker=1068"> </A></BLOCKQUOTE><P CLASS="T1.Text1"><A NAME="pgfId=2768"> </A>The only field of the sound channel record that you are likely to need to access directly is the <TT CLASS="cv">userInfo</TT> field. This field is useful if you need to pass a value to a Sound Manager callback procedure or completion routine. For example, you might pass the value stored in the A5 register so that your callback procedure can access your application's global variables. Or, you might store a handle to sound data here so that a routine that disposes of an allocated channel can also release the sound data that the channel played.</P><P CLASS="T1.Text1"><A NAME="pgfId=2769"> </A>In rarer instances, you might need to access the <TT CLASS="cv">callBack</TT> field of the sound channel record directly. Ordinarily, you set this field by specifying a callback procedure when you call the <TT CLASS="cv">SndNewChannel</TT> function. However, you can change the callback procedure associated with a channel by changing this field directly. The Sound Manager will then execute the procedure you specify in this field whenever the channel processes a <TT CLASS="cv">callBackCmd</TT> command.</P><P CLASS="W.Warning"><A NAME="pgfId=2692"> </A>You should not attempt to manipulate all open sound channels by using the <TT CLASS="cv">nextChan</TT> field to walk the sound channel queue. The queue might contain channels opened by other applications. If you need to perform some operation on all sound channels that your application has allocated, you should maintain your own data structure that keeps track of your application's channels. <A NAME="marker=1207"> </A><A NAME="marker=1208"> </A></P><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.41.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.3d.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.43.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>