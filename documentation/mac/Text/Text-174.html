<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>HiliteText(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING174></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-173.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-175.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-126.html"><B>Chapter 3 - QuickDraw Text</B></A> / <A HREF="Text-143.html"><B>QuickDraw Text Reference</B></A><BR><DL><DD><A HREF="Text-147.html"><B>Routines</B></A> / <A HREF="Text-171.html"><B>Determining the Caret Position, and Selecting and Highlighting Text</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING174-0></A>
<H3><A NAME=MARKER-9-359></A><A NAME=MARKER-2-381></A>HiliteText</H3>
 The <A NAME=MARKER-2-825></A><CODE>HiliteText</CODE> procedure finds all the characters between two byte offsets in a text segment whose glyphs are to be highlighted.<P>
<PRE>
PROCEDURE HiliteText (textPtr: Ptr; 
                      textLen, firstOffset, secondOffset: Integer; 
                      VAR offsets: OffsetTable);
</PRE>
<DL>
<DT><CODE>textPtr</CODE>
<DD> A pointer to a buffer that contains the text to be highlighted.
<DT><CODE>textLen</CODE>
<DD> The length in bytes of the entire text segment pointed to by <CODE>textPtr</CODE>.
<DT><CODE>firstOffset</CODE>
<DD> The byte offset from <CODE>textPtr</CODE> to the first character to be highlighted.
<DT><CODE>secondOffset</CODE>
<DD> The byte offset from <CODE>textPtr</CODE> to the last character to be highlighted.
<DT><CODE>offsets</CODE>
<DD> A table that, upon completion of the call, specifies the boundaries of the text to be highlighted.
</DL>
<A NAME=HEADING174-8></A>
<H5>DESCRIPTION</H5>
 The <CODE>HiliteText</CODE> procedure returns three pairs of byte offsets that mark the onscreen ranges of text to be highlighted. This is because for bidirectional text, although the characters are contiguous in memory, their displayed glyphs can include up to three separate ranges of text.<P>
 The <CODE>HiliteText</CODE> procedure takes into account the fact that to highlight the complete range of text whose beginning and ending byte offsets you pass it, it must return byte offsets that encompass the glyphs of the first and last characters in the text segment. To determine the correct offset pairs, <CODE>HiliteText</CODE> relies on the primary line direction as specified by the <CODE>SysDirection</CODE> global variable.<P>
 Before calling <CODE>HiliteText</CODE>, you must set up an offset table (of type OffsetTable) <BR>in your application to hold the results. You can consider the offset table a set of <BR>three offset pairs:<P>
<PRE>
TYPE OffPair = 
   RECORD
      offFirst:   Integer;
      offSecond:  Integer;
   END;
   OffsetTable = ARRAY [0..2] of OffPair;
</PRE>
 If the two offsets in any pair are equal, the pair is empty and you can ignore it. Otherwise the pair identifies a run of characters whose glyphs are to be highlighted.<P>
<A NAME=HEADING174-15></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The offsets that <CODE>HiliteText</CODE> returns depend on the primary line direction as defined by the <CODE>SysDirection</CODE> global variable. If you change the value of <CODE>SysDirection</CODE>, <CODE>HiliteText</CODE> returns the offset that is meaningful according to the primary line direction for ambiguous offsets on the boundary of right-to-left and left-to-right text.<P>
 The <CODE>HiliteText</CODE> procedure may move memory; do not call this procedure at interrupt time. For more information, see <A HREF=Text-140.html#MARKER-9-225>"Highlighting a Text Selection" on page 3-56</A><A NAME=MARKER-2-708></A>.<A NAME=MARKER-2-43></A><A NAME=MARKER-9-52></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-173.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-175.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
