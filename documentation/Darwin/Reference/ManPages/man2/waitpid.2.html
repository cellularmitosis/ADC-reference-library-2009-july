<html><head><title>Mac OS X Developer Tools
 Manual Page For waitpid(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/waitpid" title="Mac OS X Developer Tools
 Manual Page for waitpid(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/waitpid"; name=waitpid(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
WAIT(2)                     BSD System Calls Manual                    <!-- a -->WAIT(2)<!-- /a -->

<b>NAME</b>
     <b>wait</b>, <b>wait3</b>, <b>wait4</b>, <b>waitpid</b> -- wait for process termination

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/wait.h&gt;</b>

     <u>pid</u><b>_</b><u>t</u>
     <b>wait</b>(<u>int</u> <u>*stat</u><b>_</b><u>loc</u>);

     <u>pid</u><b>_</b><u>t</u>
     <b>wait3</b>(<u>int</u> <u>*stat</u><b>_</b><u>loc</u>, <u>int</u> <u>options</u>, <u>struct</u> <u>rusage</u> <u>*rusage</u>);

     <u>pid</u><b>_</b><u>t</u>
     <b>wait4</b>(<u>pid</u><b>_</b><u>t</u> <u>pid</u>, <u>int</u> <u>*stat</u><b>_</b><u>loc</u>, <u>int</u> <u>options</u>, <u>struct</u> <u>rusage</u> <u>*rusage</u>);

     <u>pid</u><b>_</b><u>t</u>
     <b>waitpid</b>(<u>pid</u><b>_</b><u>t</u> <u>pid</u>, <u>int</u> <u>*stat</u><b>_</b><u>loc</u>, <u>int</u> <u>options</u>);

<b>DESCRIPTION</b>
     The <b>wait</b>() function suspends execution of its calling process until <u>stat</u><b>_</b><u>loc</u> information is available
     for a terminated child process, or a signal is received.  On return from a successful <b>wait</b>() call, the
     <u>stat</u><b>_</b><u>loc</u> area contains termination information about the process that exited as defined below.

     The <b>wait4</b>() call provides a more general interface for programs that need to wait for certain child
     processes, that need resource utilization statistics accumulated by child processes, or that require
     options.  The other wait functions are implemented using <b>wait4</b>().

     The <u>pid</u> parameter specifies the set of child processes for which to wait.  If <u>pid</u> is -1, the call waits
     for any child process.  If <u>pid</u> is 0, the call waits for any child process in the process group of the
     caller.  If <u>pid</u> is greater than zero, the call waits for the process with process id <u>pid</u>.  If <u>pid</u> is
     less than -1, the call waits for any process whose process group id equals the absolute value of <u>pid</u>.

     The <u>stat</u><b>_</b><u>loc</u> parameter is defined below.  The <u>options</u> parameter contains the bitwise OR of any of the
     following options.  The WNOHANG option is used to indicate that the call should not block if there are
     no processes that wish to report status.  If the WUNTRACED option is set, children of the current
     process that are stopped due to a SIGTTIN, SIGTTOU, SIGTSTP, or SIGSTOP signal also have their status
     reported.

     If <u>rusage</u> is non-zero, a summary of the resources used by the terminated process and all its children
     is returned (this information is currently not available for stopped processes).

     When the WNOHANG option is specified and no processes wish to report status, <b>wait4</b>() returns a process
     id of 0.

     The <b>waitpid</b>() call is identical to <b>wait4</b>() with an <u>rusage</u> value of zero.  The older <b>wait3</b>() call is the
     same as <b>wait4</b>() with a <u>pid</u> value of -1.

     The following macros may be used to test the manner of exit of the process.  One of the first three
     macros will evaluate to a non-zero (true) value:

     <b>WIFEXITED</b>(<u>status</u>)
             True if the process terminated normally by a call to <a href="_exit.2.html#//apple_ref/doc/man/2/_exit">_exit(2)</a> or <a href="../man3/exit.3.html#//apple_ref/doc/man/3/exit">exit(3)</a>.

     <b>WIFSIGNALED</b>(<u>status</u>)
             True if the process terminated due to receipt of a signal.

     <b>WIFSTOPPED</b>(<u>status</u>)
             True if the process has not terminated, but has stopped and can be restarted.  This macro can
             be true only if the wait call specified the WUNTRACED option or if the child process is being
             traced (see <a href="ptrace.2.html#//apple_ref/doc/man/2/ptrace">ptrace(2)</a>).

     Depending on the values of those macros, the following macros produce the remaining status information
     about the child process:

     <b>WEXITSTATUS</b>(<u>status</u>)
             If <b>WIFEXITED</b>(<u>status</u>) is true, evaluates to the low-order 8 bits of the argument passed to
             <a href="_exit.2.html#//apple_ref/doc/man/2/_exit">_exit(2)</a> or <a href="../man3/exit.3.html#//apple_ref/doc/man/3/exit">exit(3)</a> by the child.

     <b>WTERMSIG</b>(<u>status</u>)
             If <b>WIFSIGNALED</b>(<u>status</u>) is true, evaluates to the number of the signal that caused the termina-<font color="#ffffff" class="whiteout">tion&nbsp;termination</font>
             tion of the process.

     <b>WCOREDUMP</b>(<u>status</u>)
             If <b>WIFSIGNALED</b>(<u>status</u>) is true, evaluates as true if the termination of the process was accom-<font color="#ffffff" class="whiteout">panied&nbsp;accompanied</font>
             panied by the creation of a core file containing an image of the process when the signal was
             received.

     <b>WSTOPSIG</b>(<u>status</u>)
             If <b>WIFSTOPPED</b>(<u>status</u>) is true, evaluates to the number of the signal that caused the process to
             stop.

<b>NOTES</b>
     See <a href="sigaction.2.html#//apple_ref/doc/man/2/sigaction">sigaction(2)</a> for a list of termination signals.  A status of 0 indicates normal termination.

     If a parent process terminates without waiting for all of its child processes to terminate, the remain-<font color="#ffffff" class="whiteout">ing&nbsp;remaining</font>
     ing child processes are assigned the parent process 1 ID (the init process ID).

     If a signal is caught while any of the <b>wait</b>() calls is pending, the call may be interrupted or
     restarted when the signal-catching routine returns, depending on the options in effect for the signal;
     see <a href="intro.2.html#//apple_ref/doc/man/2/intro">intro(2)</a>, System call restart.

<b>RETURN</b> <b>VALUES</b>
     If <b>wait</b>() returns due to a stopped or terminated child process, the process ID of the child is returned
     to the calling process.  Otherwise, a value of -1 is returned and <u>errno</u> is set to indicate the error.

     If <b>wait3</b>(), <b>wait4</b>(), or <b>waitpid</b>() returns due to a stopped or terminated child process, the process ID
     of the child is returned to the calling process.  If there are no children not previously awaited, -1
     is returned with <u>errno</u> set to [ECHILD].  Otherwise, if WNOHANG is specified and there are no stopped or
     exited children, 0 is returned.  If an error is detected or a caught signal aborts the call, a value of
     -1 is returned and <u>errno</u> is set to indicate the error.

<b>ERRORS</b>
     The <b>wait</b>() system call will fail and return immediately if:

     [ECHILD]           The calling process has no existing unwaited-for child processes.

     [EFAULT]           The <u>status</u> or <u>rusage</u> argument points to an illegal address (may not be detected
                        before the exit of a child process).

     [EINVAL]           Invalid or undefined flags are passed in the <u>options</u> argument.

     The <b>wait3</b>() and <b>waitpid</b>() calls will fail and return immediately if:

     [ECHILD]           The process specified by <u>pid</u> does not exist or is not a child of the calling
                        process, or the process group specified by <u>pid</u> does not exist or does not have any
                        member process that is a child of the calling process.

     The <b>waitpid</b>() call will fail and return immediately if:

     [EINVAL]           The options argument is not valid.

     Any of these calls will fail and return immediately if:

     [EINTR]            The call is interrupted by a caught signal or the signal does not have the
                        SA_RESTART flag set.

<b>STANDARDS</b>
     The <b>wait</b>() and <b>waitpid</b>() functions are defined by POSIX; <b>wait3</b>() and <b>wait4</b>() are not specified by
     POSIX.  The <b>WCOREDUMP</b>() macro and the ability to restart a pending <b>wait</b>() call are extensions to the
     POSIX interface.

<b>LEGACY</b> <b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/types.h&gt;</b>
     <b>#include</b> <b>&lt;sys/wait.h&gt;</b>

     The include file &lt;<u>sys/types.h&gt;</u> is necessary.

<b>SEE</b> <b>ALSO</b>
     <a href="sigaction.2.html#//apple_ref/doc/man/2/sigaction">sigaction(2)</a>, <a href="../man3/exit.3.html#//apple_ref/doc/man/3/exit">exit(3)</a>, <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>

<b>HISTORY</b>
     A <b>wait</b>() function call appeared in Version 6 AT&amp;T UNIX.

4th Berkeley Distribution       April 19, 1994       4th Berkeley Distribution
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/waitpid.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/waitpid.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/waitpid.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
