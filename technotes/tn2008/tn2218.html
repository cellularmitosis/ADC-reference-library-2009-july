<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- BEGIN META TAG INFO --><link rel="home" href="http://developer.apple.com/">
<link rel="find" href="http://developer.apple.com/search/">
<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
<script language="JavaScript" type="text/javascript" src="../../documentation/js/busnav.js"></script><script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script><!-- END META TAG INFO --><!-- BEGIN TITLE --><title>Technical Note TN2218: Compressing QuickTime Movies for the Web</title>
<!-- END TITLE --><style>
			.sourcecodebox {
				white-space: pre-wrap;
				white-space: -moz-pre-wrap !important;
				white-space: -pre-wrap;
				white-space: -o-pre-wrap;
				word-wrap: break-word;
			}
			</style>
</head>
<!-- BEGIN BODY OPEN --><body bgcolor="#ffffff"><a name="//apple_ref/doc/uid/DTS40007625" title="Compressing QuickTime Movies for the Web"></a>
<!-- END BODY OPEN --><!-- START CENTER OPEN --><center>
<!-- END CENTER OPEN --><a name="top"></a><!-- BEGIN LOGO AND SEARCH --><!--#include virtual="/includes/adcnavbar" --><!-- END LOGO AND SEARCH --><!-- START BREADCRUMB --><div id="breadcrumb"><table width="680" border="0" cellpadding="0" cellspacing="0">
<tr>
<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
</tr>
<tr valign="middle"><td align="left" colspan="2">
<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/QuickTime/index.html">QuickTime</a> &gt; <a href="../../technicalnotes/QuickTime/idxInternetWeb-date.html">Internet &amp; Web</a> &gt; </td></tr>
<tr><td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td></tr>
</table></div>
<!-- END BREADCRUMB --><!-- START MAIN CONTENT --><!-- START TITLE GRAPHIC AND INTRO --><table width="680" border="0" cellpadding="0" cellspacing="0"><tr align="left" valign="top"><td><h1>
<div id="pagehead">Technical Note TN2218</div>
<div id="pageheadsub">Compressing QuickTime Movies for the Web</div>
</h1></td></tr></table>
<!-- END TITLE GRAPHIC AND INTRO --><!-- BEGIN WIDE COLUMN --><table width="680" border="0" cellpadding="0" cellspacing="0"><tr align="left" valign="top"><td align="left" width="680">
<!-- BEGIN CONTENTS --><table width="680" border="0" cellpadding="0" cellspacing="0">
<tr align="left" valign="top"><td><p>Describes recommended compression settings to use when creating QuickTime movies for delivery on the web.</p></td></tr>
<tr><td scope="row">
<img width="680" height="10" src="images/1dot.gif" alt=""><br><img width="680" height="1" src="images/1dot_919699.gif" alt=""><br><img width="680" height="20" src="images/1dot.gif" alt="">
</td></tr>
</table>
<table width="680" border="0" cellpadding="0" cellspacing="0">
<tr align="left" valign="top"><td width="680"><ul>
<li><a href="#INTRODUCTION">Introduction</a></li>
<ul>
<li><a href="#INTRODUCTION-MANY_DEVICES_AND_DELIVERY_CHALLENGES">Many Devices and Delivery Challenges</a></li>
<li><a href="#INTRODUCTION-H_264">H.264</a></li>
<li><a href="#FASTSTART">Fast Start (Progressive Download) Movies</a></li>
<ul><li><a href="#REFASTSTART">Re-enabling Fast Start with QuickTime Pro</a></li></ul>
<li><a href="#INTRODUCTION-USE_QUICKTIME_PRO">Use QuickTime Pro</a></li>
</ul>
<li><a href="#THE_IMPORTANCE_OF_SOURCE_MATERIAL">The Importance of Source Material</a></li>
<li><a href="#PICK_A_TARGET">Pick a Target</a></li>
<ul>
<li><a href="#PICK_A_TARGET-DEVICE">Device</a></li>
<ul><li><a href="#PICK_A_TARGET_DEVICE-DEVICE_DETERMINES_MOVIE_DIMENSIONS">Device Determines Movie Dimensions</a></li></ul>
<li><a href="#PICK_A_TARGET-NETWORK">Network</a></li>
<ul><li><a href="#PICK_A_TARGET_NETWORK-NETWORK_DETERMINES_TARGET_BANDWIDTH">Network Determines Target Bandwidth</a></li></ul>
<li><a href="#MPEGH264CONTROL">MPEG-4 or QuickTime Movie?</a></li>
<ul><li><a href="#CONVERTINGTOQUIKTIME">Converting MPEG-4 files to QuickTime Movies</a></li></ul>
<li><a href="#RECOMH264SETTINGS">Recommended H.264 Compressor Settings</a></li>
<ul><li><a href="#RECOMH264SETTINGS-RECOMMENDATIONS_FOR_CREATING_YOUR_OWN_SETTINGS">Recommendations for Creating Your Own Settings</a></li></ul>
</ul>
<li><a href="#EXAMPLES">Examples</a></li>
<ul>
<li><a href="#EXAMPLES-EXPORTING_FOR_IPHONE">Exporting for iPhone</a></li>
<ul><li><a href="#EXPORTINGAMOVIE">Exporting an MPEG-4 file</a></li></ul>
<li><a href="#EXAMPLES-EXPORTING_A_3GP_FILE">Exporting a 3GP file</a></li>
<li><a href="#EXAMPLES-CONVERTING_AN_MPEG_4_FILE_TO_A_QUICKTIME_MOVIE">Converting an MPEG-4 File to a QuickTime Movie</a></li>
</ul>
<li><a href="#MOVIEINWEBPAGE">Including QuickTime Movies In A Web Page</a></li>
<ul><li><a href="#REFMOVIE">Specifying Multiple Movie Targets using Reference Movies</a></li></ul>
<li><a href="#QUICKTIME_PRO_ONE_STEP_EXPORT">QuickTime Pro One-Step Export</a></li>
<ul>
<li><a href="#QUICKTIME_PRO_ONE_STEP_EXPORT-FOR_THE_IPOD__APPLE_TV_AND_IPHONE">for the iPod, Apple TV and iPhone</a></li>
<li><a href="#QUICKTIME_PRO_ONE_STEP_EXPORT-FOR_THE_WEB">for the Web</a></li>
</ul>
<li><a href="#REFERENCES">References</a></li>
<li><a href="#TNTAG2">Downloadables</a></li>
<li><a href="#document_revision_summary">Document Revision History</a></li>
</ul></td></tr>
<tr><td colspan="3" scope="row">
<img width="680" height="10" src="images/1dot.gif" alt=""><br><img width="680" height="1" src="images/1dot_919699.gif" alt=""><br><img width="680" height="20" src="images/1dot.gif" alt="">
</td></tr>
</table>
<a name="INTRODUCTION"></a><h2>Introduction</h2>
<a name="INTRODUCTION-MANY_DEVICES_AND_DELIVERY_CHALLENGES"></a><h3>Many Devices and Delivery Challenges</h3>
<p>Content creators wanting to create movies destined for the web are faced with a number of challenges. Movies can be compressed in a variety of ways, using a variety of different codecs, and for each codec there are a myriad of options that must be specified when compressing your movie, such as size, data rate, frame rate, and so on. </p>
<p>Movies should also be optimized for different delivery speeds such as cell phone networks, Wi-Fi, DSL, Cable, and corporate networks. Compressing higher quality movies gives the user a better experience, but a higher quality movie will require more powerful devices for playback, and will also require more bandwidth to download. </p>
<p>Given all these considerations, how can you be sure your movies will look great on the web? </p>
<p>Read on for all the details.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="INTRODUCTION-H_264"></a><h3>H.264</h3>
<p>QuickTime 7 features a state-of-the-art video codec (compressor) called H.264. For the highest quality at the lowest data rate (or the smallest file), we recommend you use the H.264 video codec to compress your video.</p>
<p>H.264 delivers stunning quality at remarkably low data rates. Ratified as part of the MPEG-4 standard, this ultra-efficient technology gives excellent results across a broad range of bandwidths, from 3G for mobile devices to iChat AV for video conferencing to HD for broadcast and DVD.</p>
<p>H.264 uses the latest innovations in video compression technology to provide incredible video quality from the smallest amount of video data. This means you see crisp, clear video in much smaller files, saving you bandwidth and storage costs over previous generations of video codecs.</p>
<p>H.264 achieves the best-ever compression efficiency for a broad range of applications, such as broadcast, DVD, video conferencing, video-on-demand, streaming and multimedia messaging. And true to its advanced design, H.264 delivers excellent quality across a wide operating range, from 3G to HD and everything in between. Whether you need high-quality video for your mobile phone, iChat, Internet, broadcast or satellite delivery, H.264 provides exceptional performance at impressively low data rates as shown in <a href="#H264TABLE">Table 1</a>.</p>
<a name="H264TABLE"></a><p class="smalltext"><strong>Table 1 : </strong>H.264: Exceptional quality at any size</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Use Scenario</th>
<th>Resolution &amp; Frame Rate</th>
<th>Example Data Rates</th>
</tr>
<tr>
<td scope="row">Mobile Content</td>
<td>176x144, 10-15 fps</td>
<td>50-60 Kbps</td>
</tr>
<tr>
<td scope="row">Internet/Standard Definition</td>
<td>640x480, 24 fps</td>
<td>1-2 Mbps</td>
</tr>
<tr>
<td scope="row">High Definition</td>
<td>1280x720, 24p</td>
<td>5-6 Mbps</td>
</tr>
<tr>
<td scope="row">Full High Definition</td>
<td>1920x1080, 24p</td>
<td>7-8 Mbps</td>
</tr>
</table>
<p>The Apple H.264 video codec can be used when exporting both MPEG-4 files and QuickTime movies. </p>
<p>Use the MPEG-4 Exporter video settings if you require more precise control when exporting with H.264. See <a href="#MPEGH264CONTROL">MPEG-4 or QuickTime Movie?</a> for more details.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="FASTSTART"></a><h3>Fast Start (Progressive Download) Movies</h3>
<p>When preparing movies for delivery on the Web, we recommend you set the Fast Start setting.</p>
<p>Fast Start movies (also known as progressive download) can be displayed before all of their data has been received over a network or other slow link. QuickTime is able to instantiate the movie and start playing it before the entire file has arrived. A Fast-Start download is a simple file transfer. </p>
<p>Any QuickTime movie saved using the Fast-Start option can be played before all of its data has been received. </p>
<div class="notebox"><p><strong>IMPORTANT: </strong>Editing your movie will break the Fast Start setting.</p></div>
<a name="REFASTSTART"></a><h4>Re-enabling Fast Start with QuickTime Pro</h4>
<p>If you notice your movie stuttering &amp; stopping during playback, or if you have to download the entire movie before playing it, you may need to re-enable the Fast Start setting as shown here:</p>
<p>In QuickTime Pro, choose File &gt; Save As and then select "Save as a self-contained movie." </p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="INTRODUCTION-USE_QUICKTIME_PRO"></a><h3>Use QuickTime Pro</h3>
<p>QuickTime 7 Pro was used for all the compression examples in this article. QuickTime 7 Pro is a powerful application ideal for creating high-quality audio and video content. Use it to create H.264 movies, capture audio and video, create multi-channel audio and export multiple files as you continue to playback or edit video. For more information see <a href="http://www.apple.com/quicktime/pro/">QuickTime Pro</a>.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="THE_IMPORTANCE_OF_SOURCE_MATERIAL"></a><h2>The Importance of Source Material</h2>
<p>When working with video and audio a good general rule of thumb is to get the highest quality original source material as possible. When you compress, very often some information gets lost or thrown away. Therefore, you should only compress material when encoding for the final destination, because each process will lower the quality. Trying to compress from already heavily compressed source material may give poor results. </p>
<p>Always start with the highest quality source video &amp; audio, and make lower bit rate movies from the original source.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="PICK_A_TARGET"></a><h2>Pick a Target</h2>
<a name="PICK_A_TARGET-DEVICE"></a><h3>Device</h3>
<p>The first thing to do is pick a device target for your movie: desktop, iPhone, iPod or Apple TV. Movie audio and video must be compressed within a specific range of settings to ensure full compatibility with each device.</p>
<a name="PICK_A_TARGET_DEVICE-DEVICE_DETERMINES_MOVIE_DIMENSIONS"></a><h4>Device Determines Movie Dimensions</h4>
<p>The device you are targeting will determine your movie dimensions. For example, movies targeted for iPod will be generally be smaller than movies targeted for the desktop in order to play back smoothly.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="PICK_A_TARGET-NETWORK"></a><h3>Network</h3>
<p>Next, pick a delivery speed for your movie: cell phone network, Wi-Fi, DSL, Cable, corporate network or desktop.</p>
<a name="PICK_A_TARGET_NETWORK-NETWORK_DETERMINES_TARGET_BANDWIDTH"></a><h4>Network Determines Target Bandwidth</h4>
<p>The amount of bandwidth available for the target connection will determine what the target data rate should be, and if targeting iPhone over EDGE it may necessitate encoding using 3GPP.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="MPEGH264CONTROL"></a><h3>MPEG-4 or QuickTime Movie?</h3>
<p>You may choose to export your file as a QuickTime movie file (.mov) or as an MPEG-4 file (.mp4). Start by creating an MPEG-4 file with H.264 compression because the MPEG-4 exporter video settings dialog gives you the most control over the H.264 compressor settings. </p>
<p>For example, it allows you to restrict the H.264 profile to either Main or Baseline, and to turn off multi-pass compression needed to target iPhone or 3GPP.</p>
<p class="caption"><strong>Figure 1: </strong>MPEG-4 Exporter Video Settings for H.264.</p>
<p><img src="images/tn2218_21.jpg" width="438" height="236" alt="Figure 1, MPEG-4 Exporter Video Settings for H.264."></p>
<p>You would want to deploy a QuickTime movie if you are going to include chapter tracks or other QuickTime specific features, or take advantage of QuickTime's Fast Start technology. </p>
<p>For more information about the available features in QuickTime, see the <a href="http://www.apple.com/quicktime/">Apple QuickTime technology page</a>. </p>
<p>For information about the QuickTime file format, see the <a href="../../documentation/QuickTime/QTFF/QTFFPreface/chapter_1_section_1.html">QuickTime File Format Specification</a>.</p>
<a name="CONVERTINGTOQUIKTIME"></a><h4>Converting MPEG-4 files to QuickTime Movies</h4>
<p>The MPEG-4 file format is largely based on the QuickTime file format, and an MPEG-4 file can be easily converted to a QuickTime movie file using the steps below.</p>
<p>In QuickTime Pro, choose File &gt; Save As and then select "Save as a self-contained movie."</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="RECOMH264SETTINGS"></a><h3>Recommended H.264 Compressor Settings</h3>
<p>Included with this Technote in the <a href="#TNTAG2">Downloadables</a> section are recommended compression settings to use when creating H.264 compressed QuickTime movies destined for the web. The settings are grouped according to whether you are working with standard definition (SD) or high definition (HD) content, and whether the content is intended to be streamed, downloaded or delivered for iPhone (EDGE/Wi-Fi).</p>
<p>Use these settings as a starting point in your movie creation process, then fine-tune your movies with additional compression to get the desired results.</p>
<div class="notebox"><p><strong>Note: </strong>Your results with movies produced using these same settings may vary considerably depending on real world conditions. For example, movie playback over the Wi-Fi in your local coffee shop may be erratic if there is heavy network traffic.</p></div>
<p>The settings file defines values for the following compression settings:</p>
<ul>
<li><p><strong>Aspect Ratio</strong> - The videographic aspect ratio. The aspect ratio of an image is its width divided by its height. Common videographic aspect ratios include 4:3 (1.33:1) for standard-definition video formats, and 16:9 (1.78:1) for high-definition television and European digital television.</p></li>
<li><p><strong>Dimensions</strong> - The width and height of your video, in pixels.</p></li>
<li><p><strong>Frame Rate</strong> - Frame rate is the number of individual images shown every second. Standard (NTSC) video has a frame rate of 29.97 frames per second (fps), and the standard for film is 24 fps. The European standard (PAL) is 25 fps. If you are not overly concerned with how big your file is, leave the frame rate at the default — “Current” — for the best quality. This will make the frame rate of your encoded file the same as the frame rate of your source material. However, you can choose to use a lower frame rate if you need to reduce bandwidth and CPU requirements for playback. Movies with higher frame rates show motion better but have larger file sizes. If you choose a frame rate that’s lower than the movie’s current frame rate, frames will be deleted. If you choose a number that’s higher than the movie’s current frame rate, existing frames will be duplicated (not recommended, since it increases file size without improving quality). When choosing a frame rate less than that of your source, use a simple fraction of your current frame rate, such as 1/2, 1/3 and so on. For example, if your current frame rate is 30 (29.97), use 15 or 10. But again, for best quality with H.264, leave the setting at “Current.”</p></li>
<li>
<p><strong>Video Data Rate</strong> - In general, the higher the data rate, the better the quality, but the bigger the file. In most cases, you’ll want to set a data rate based on the way your movie will be viewed. For example, for streaming to 384K broadband connections, you need to limit the data rate to around 350-360 kilobits per second to leave room for network traffic. If the file will be downloaded for playback, the data rate can be much higher (the higher the data rate, however, the longer a slow-connection user has longer to wait before playback begins). In addition, remember that you also need to leave some room for audio.</p>
<p>Also, it’s important to keep in mind that the data rate of a movie is also affected by other compression options you set, such as the frame rate. So the higher your frame rate, the higher your data rate needs to be. If your data rate requirements aren’t this strict and you’d just like QuickTime to give you a beautiful video, you can let the H.264 codec choose an appropriate data rate for your movie by selecting “Automatic.” The codec will pick its own data rate based on the Size you’ve chosen and your choice of Quality (see below).</p>
</li>
<li><p><strong>Audio Data Rate</strong> -The number of kilobits per second required to deliver your audio. In general, the higher the data rate, the better the quality. The data rate of a movie is also affected by other compression options you set, such as the sampling rate. So the higher your sampling rate, the higher your data rate needs to be.</p></li>
<li><p><strong>Audio Sample Rate</strong> - To make a digital recording, you measure the changing voltage at regular intervals and record a number that represents the voltage at that moment. The sampling rate is given in kilohertz (kHz), with 1 kHz = 1000 measurements a second. The more often you measure the voltage, the more accurately you can record the changes. A higher sampling rate and a larger sample size result in better sound. As with video, in most cases you’ll want to set the audio data rate based on the way your audio will be played. For example, audio delivered on Audio CDs uses a sampling rate of 44.1 kHz.</p></li>
<li><p><strong>Total Bit Rate</strong> - total bits per second (bps, audio + video), bitrate refers to the size, over time, of a video or audio stream.</p></li>
<li>
<p><strong>Optimized For</strong> - This setting tells the codec how much the data rate can vary above and below the data rate you choose. For the best quality, choose Download. If you intend to deliver your movie via DVD, choose DVD where the data rate needs to be somewhat constrained so that the disc reader can keep up with reading and passing the data on to your viewer’s computer. If you intend to deliver your movie via RTSP streaming, choose Streaming where the data rate will be most constrained. This option is available only for compressors that can apply limits, such as H.264.</p>
<div class="notebox"><p><strong>Note: </strong>The data rate value specified here indicates an average value. It does not represent a hard limit or ceiling. The rate may fluctuate both above and below this value. </p></div>
</li>
<li><p><strong>Keyframe</strong> - Many compressors use “frame differencing” to compress moving images. Frame differencing is the process of determining what information has changed from a starting frame (called a “key frame”) to subsequent frames. The key frame contains all of the information for an image. Subsequent frames contain only the information that has changed. Depending on the compressor you use, you can specify how often you want key frames to occur. If you don’t have enough key frames, the quality of your movie might be lower because most frames are generated from others. On the other hand, more key frames result in a larger movie with a higher data rate. With some compressors, an additional key frame is inserted automatically if too much of the image has changed from one frame to the next. A good rule of thumb for general use is to have one key frame every 5 seconds (multiply the frames per second by 5). If you are creating a file for RTSP streaming and have concerns about the reliability of the delivery network (as with the public Internet), you may want to increase key frame frequency to one key frame every 1 or 2 seconds. To leave the key frame interval up to the compressor, select Automatic. For H.264, we recommend leaving the key frame interval up to the compressor; so you should choose “Automatic” for the best quality result.</p></li>
<li><p><strong>Encoding</strong> - It’s highly recommend that you use Best quality encoding for H.264 (termed multi-pass, a feature of the codec allowing it to analyze source data multiple times before the actual encoding process begins). However, this option does take some time as the codec executes multiple passes to optimize your movie file for quality and efficiency. So if you’re in a hurry or need to do a “draft” version of your encode, you can select the single-pass option for a faster encode.</p></li>
<li>
<p><strong>Frame Reordering</strong> - Some more advanced compressors like H.264 use “frame reordering” to more efficiently represent movie data. Frame reordering is the concept of allowing frames to be decompressed in a different order than their display order. </p>
<p>The Apple iPod, iPod Touch and iPhone do not support frame reordering because it is very CPU intensive. Therefore, when targeting these devices do <strong>not</strong> set this for H.264 encoding. </p>
<p>The Apple TV <strong>does</strong> support frame reordering.</p>
</li>
<li><p><strong>Approximate Equivalent</strong> - Devices target transmission speed equivalent (LAN/Intranet, broadband, and so on).</p></li>
</ul>
<a name="RECOMH264SETTINGS-RECOMMENDATIONS_FOR_CREATING_YOUR_OWN_SETTINGS"></a><h4>Recommendations for Creating Your Own Settings</h4>
<p>The <a href="#RECOMH264SETTINGS">Recommended H.264 Compressor Settings</a> produce the highest quality movie without overwhelming the device, and will work on all devices. They are appropriate for "medium" motion content (such as a music video). However, they may not be appropriate for all other types of content.</p>
<p>For example, here's a sampling of some of the different types of video you might be working with:</p>
<ul>
<li><p>Low Motion (News Broadcast)</p></li>
<li><p>Medium Motion (Music Video)</p></li>
<li><p>Fast Motion (Sports)</p></li>
</ul>
<p>If you are targeting movies that have very fast motion (such as sporting events), or if you have concerns about bandwidth, you may need to perform additional compression on your video to get the desired results. In this the case, use the above settings as a starting point, and recompress until you are satisfied with the results. Optimal results may take many tries!</p>
<p>Here are some general guidelines for those wishing to target various other types of video:</p>
<p><strong> For WIFI iPhone.</strong></p>
<p class="smalltext"><strong>Table 2 : </strong>Resolution.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Aspect Ratio</th>
<th>Resolution</th>
</tr>
<tr>
<td scope="row">16:9</td>
<td>400 X 225</td>
</tr>
<tr>
<td scope="row">4:3</td>
<td>400 X 300</td>
</tr>
</table>
<p>For other aspect ratios adjust accordingly using a width of 400</p>
<p class="smalltext"><strong>Table 3 : </strong>Bitrate.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Aspect Ratio</th>
<th>Bitrate</th>
</tr>
<tr>
<td scope="row">Average Motion 16:9</td>
<td>450 kbps</td>
</tr>
<tr>
<td scope="row">Average Motion 4:3</td>
<td>525 kbps</td>
</tr>
</table>
<p>Bitrate will vary based on resolution and type of video.</p>
<p>As the amount of motion in a clip increases, you will need to increase bit rate. We recommend you always increase at an interval of 50 kbps and test again.</p>
<p class="smalltext"><strong>Table 4 : </strong>Audio.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Compression</th>
<th>Bitrate</th>
<th>Sample Rate</th>
</tr>
<tr>
<td scope="row">MPEG-4 AAC</td>
<td>64 kbps</td>
<td>32 kHz</td>
</tr>
</table>
<p class="smalltext"><strong>Table 5 : </strong>Frame Rate.</p>
<table cellspacing="0" class="graybox">
<tr><th>Frame Rate</th></tr>
<tr><td scope="row">Same as source</td></tr>
</table>
<p><strong> For EDGE iPhone.</strong></p>
<p class="smalltext"><strong>Table 6 : </strong>Resolution.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Aspect Ratio</th>
<th>Resolution</th>
</tr>
<tr>
<td scope="row">16:9</td>
<td>400 X 225</td>
</tr>
<tr>
<td scope="row">4:3</td>
<td>360 X 270</td>
</tr>
</table>
<p class="smalltext"><strong>Table 7 : </strong>Bitrate.</p>
<table cellspacing="0" class="graybox">
<tr><th>Bitrate</th></tr>
<tr><td scope="row">Always use 80 kbps</td></tr>
</table>
<p>As the amount of motion in a clip increases you will need to decrease the frame rate.</p>
<p class="smalltext"><strong>Table 8 : </strong>Audio.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Compression</th>
<th>Bitrate</th>
<th>Sample Rate</th>
</tr>
<tr>
<td scope="row">MPEG-4 AAC</td>
<td>32 kbps</td>
<td>16 kHz</td>
</tr>
</table>
<p class="smalltext"><strong>Table 9 : </strong>Frame Rate.</p>
<table cellspacing="0" class="graybox">
<tr><th>Frame Rate</th></tr>
<tr><td scope="row">Start at 12 fps </td></tr>
</table>
<p>Adjust downward based on the amount of motion in the clip.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="EXAMPLES"></a><h2>Examples</h2>
<a name="EXAMPLES-EXPORTING_FOR_IPHONE"></a><h3>Exporting for iPhone</h3>
<p>Here's how you can export for iPhone using QuickTime Pro.</p>
<p>When targeting movies for iPhone you must be sure they are H.264 Baseline Profile compatible (see <a href="http://en.wikipedia.org/wiki/H.264#Profiles">H.264 Profiles</a> for more information). </p>
<div class="notebox"><p><strong>WARNING: </strong>If you try to export to a movie in QuickTime Pro with the 'Movie to QuickTime Movie' Export option and you use the video and audio settings for iPhone from the enclosed settings file, the resulting movie will not actually be H.264 Baseline Profile compatible. </p></div>
<p>Instead, use the technique described in this section to target movies for iPhone:</p>
<p>First, use the MPEG-4 exporter video settings dialog to specify the Baseline profile and turn Multi-Pass compression off. Save as an MPEG-4 file. Then save the MPEG-4 file as a QuickTime movie.</p>
<p>For this example, we'll target iPhone for delivery over Wi-Fi (High Motion). The recommended settings are shown here:</p>
<ul>
<li><p><strong>Dimensions </strong> - 400 X 225</p></li>
<li><p><strong>Frame Rate </strong> - Current</p></li>
<li><p><strong>Total Bit Rate </strong> - 714kb</p></li>
<li><p><strong>Video Data Rate </strong> - 650kb</p></li>
<li><p><strong>Audio Data Rate </strong> - 64kb</p></li>
<li><p><strong>Audio Sample Rate </strong> - 32kHz</p></li>
<li><p><strong>Optimized For </strong> - Download</p></li>
<li><p><strong>Keyframe </strong> - Automatic</p></li>
<li><p><strong>Encoding </strong> - Single-pass</p></li>
<li><p><strong>Frame Reordering </strong> - Off - Baseline</p></li>
</ul>
<a name="EXPORTINGAMOVIE"></a><h4>Exporting an MPEG-4 file</h4>
<p>Follow these steps:</p>
<p>1. Open your source file in QuickTime Player.</p>
<p>2. Choose File &gt; Export.</p>
<p>3. Select the Movie to MPEG-4 export option.</p>
<p>4. Press the Options button and specify the following video settings:</p>
<p>a. File Format - MP4</p>
<p>b. Compressor - H.264</p>
<p>c. Data Rate - 650kbps</p>
<p>d. Image Size - 400 X 225 (Custom)</p>
<p>e. Frame Rate - Current</p>
<p>f. Key Frame - Automatic</p>
<p class="caption"><strong>Figure 2: </strong>MPEG-4 video export settings for iPhone.</p>
<p><img src="images/tn2218_22.jpg" width="598" height="566" alt="Figure 2, MPEG-4 video export settings for iPhone."></p>
<p>5. Press the Video Options button and specify the following settings:</p>
<p>a. Restrict Profiles to Baseline only</p>
<p>b. Single-pass encoding mode</p>
<p class="caption"><strong>Figure 3: </strong>H.264 Video Options.</p>
<p><img src="images/tn2218_21.jpg" width="438" height="236" alt="Figure 3, H.264 Video Options."></p>
<p>6. Press OK to save your changes.</p>
<p>7. Press the Audio tab and specify the following audio settings:</p>
<p>a. Audio Format - AAC-LC (Music)</p>
<p>b. Data Rate - 64kbps</p>
<p>c. Channels - Mono</p>
<p>d. Output Sample Rate - 32kHz</p>
<p class="caption"><strong>Figure 4: </strong>MPEG-4 audio export settings for iPhone.</p>
<p><img src="images/tn2218_23.jpg" width="598" height="566" alt="Figure 4, MPEG-4 audio export settings for iPhone."></p>
<p>8. Press OK to save your changes.</p>
<p>9. Press the Save button to save your file as an MPEG-4 file (.mp4).</p>
<p>10. Your MPEG-4 file is now ready for iPhone playback over Wi-Fi.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="EXAMPLES-EXPORTING_A_3GP_FILE"></a><h3>Exporting a 3GP file</h3>
<p>Follow these steps to create a 3GP file with H.264 compression that is Baseline Profile compatible:</p>
<p>1. Repeat steps 1 thru 10 from <a href="#EXPORTINGAMOVIE">Exporting an MPEG-4 file</a> to create an MPEG-4 file with the specified settings.</p>
<p>2. Choose File &gt; Open to open your MPEG-4 file in QuickTime Player.</p>
<p>3. Choose File &gt; Export.</p>
<p>4. Select the Movie to 3GP export option.</p>
<p>5. Press the Options button and specify the following 3GP video settings:</p>
<p>a. File Format = 3GPP</p>
<p>b. Video Format = Pass through</p>
<p class="caption"><strong>Figure 5: </strong>3GP Video Settings.</p>
<p><img src="images/tn2218_24.jpg" width="598" height="608" alt="Figure 5, 3GP Video Settings."></p>
<p>6. Press the Audio tab and specify the following audio settings:</p>
<p>a. Audio Format = Pass through</p>
<p class="caption"><strong>Figure 6: </strong>3GP Audio Settings.</p>
<p><img src="images/tn2218_25.jpg" width="598" height="608" alt="Figure 6, 3GP Audio Settings."></p>
<p>7. Press OK to save your changes.</p>
<p>8. Press the Save button to save your 3GP file.</p>
<p>Your 3GP file is now ready for deployment.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="EXAMPLES-CONVERTING_AN_MPEG_4_FILE_TO_A_QUICKTIME_MOVIE"></a><h3>Converting an MPEG-4 File to a QuickTime Movie</h3>
<p>Follow these steps to convert your MPEG-4 file to a QuickTime movie:</p>
<p>1. Select File &gt; Open to open your MPEG-4 file.</p>
<p>2. Select File &gt; Save As and save your MPEG-4 file as a self-contained movie:</p>
<p class="caption"><strong>Figure 7: </strong>Saving your MPEG-4 file as a self-contained movie.</p>
<p><img src="images/tn2218_14.jpg" width="518" height="393" alt="Figure 7, Saving your MPEG-4 file as a self-contained movie."></p>
<p>3. Your movie file is now ready for deployment.</p>
<p>Your movie is now Fast Start enabled as well.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="MOVIEINWEBPAGE"></a><h2>Including QuickTime Movies In A Web Page</h2>
<p>Now that you've finished compressing your movie, you can deploy it to the web.</p>
<p>QuickTime movies can be included in a web page allowing visitors to your website to experience media seamlessly inside their browser. This is accomplished by adding some HTML to your web page that tells the QuickTime browser plug-in to display the media. See the <a href="http://www.apple.com/quicktime/tutorials/embed.html">Including QuickTime In A Web Page Tutorial</a> to learn more.</p>
<a name="REFMOVIE"></a><h3>Specifying Multiple Movie Targets using Reference Movies</h3>
<p>If you have more than one target, you should compress your movie more than once. Compressing multiple versions of a movie  takes time,  and posting multiple versions uses disk space. But it makes a better experience for your users. If you can spend the time and have the space, compress different versions and target them using what is called a <strong>reference movie</strong>.</p>
<p>A reference movie contains pointers to alternate data rate movies--that is, multiple versions of the movie designed for downloading at various data rates. These alternate data rate movies do not typically all reside in the same reference movie file (although you may optionally "flatten" any of these movies into the reference movie so that they are all contained within the same file); any others are included by reference only. </p>
<p>For example, a QuickTime movie can contain a list of references to movies having different data rates, allowing an application to choose the best-looking movie that can play smoothly as it downloads over the Internet, based on the user’s connection speed. </p>
<p>Here's an example: to target iPod Touch and iPhone over EDGE/Wi-Fi you could create two versions of your movie with different data rates as shown in <a href="#MULTPLMOVS">Table 10</a> and then create a reference movie that targets them based on connection speed:</p>
<a name="MULTPLMOVS"></a><p class="smalltext"><strong>Table 10 : </strong>Creating Multiple Versions of a Movie to target iPod Touch and iPhone over EDGE/Wi-Fi.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Movie Size</th>
<th>Device</th>
<th>Total Bit Rate</th>
</tr>
<tr>
<td scope="row">400 X 225</td>
<td>iPhone/iPod Touch over Wi-Fi</td>
<td>714kb</td>
</tr>
<tr>
<td scope="row">400 X 225</td>
<td>iPhone over EDGE</td>
<td>112kb</td>
</tr>
</table>
<p>You can use the <a href="https://connect.apple.com/cgi-bin/WebObjects/MemberSite.woa/wa/getSoftware?bundleID=19980">MakeRefMovie</a> tool to create a reference movie. </p>
<p>See the <a href="http://www.apple.com/quicktime/tutorials/refmovies.html">Reference Movies Tutorial</a> to learn how to use the MakeRefMovie tool to create a reference movie.</p>
<p>The alternative is to optimize compression for one delivery medium at the expense of the others; you can compress for delivery over a slow connection, for example, with lower quality than you could provide to people with faster connections, and let people with slower connections wait a bit longer to see the movie. Some people would rather wait however long it takes to get the best-quality movie, so if you use alternate movies, you might want to include a way for people to download the high-bandwidth version, regardless of their connection speed.</p>
<p>For example, when targeting Apple TV you can provide a separate download to allow users to get the high bandwidth version of your movie as shown here:</p>
<p class="smalltext"><strong>Table 11 : </strong>Movie Download for Apple TV.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Movie Size</th>
<th>Device</th>
<th>Total Bit Rate</th>
</tr>
<tr>
<td scope="row">1280 X 720</td>
<td>Apple TV HD</td>
<td>5Mb</td>
</tr>
</table>
<p>Here's the download for iPod:</p>
<p class="smalltext"><strong>Table 12 : </strong>Movie Download for iPod.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Movie Size</th>
<th>Device</th>
<th>Total Bit Rate</th>
</tr>
<tr>
<td scope="row">640 X 480</td>
<td>iPod</td>
<td>1.5 MB</td>
</tr>
</table>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="QUICKTIME_PRO_ONE_STEP_EXPORT"></a><h2>QuickTime Pro One-Step Export</h2>
<a name="QUICKTIME_PRO_ONE_STEP_EXPORT-FOR_THE_IPOD__APPLE_TV_AND_IPHONE"></a><h3>for the iPod, Apple TV and iPhone</h3>
<p>This one-step export gives users the ability to quickly and easily produce movies for specific devices. Advanced users who would like to optimize for bandwidth or take advantage of other H.264 features should instead use the techniques described in this article.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="QUICKTIME_PRO_ONE_STEP_EXPORT-FOR_THE_WEB"></a><h3>for the Web</h3>
<p>QuickTime Pro provides a simple one-step export that will produce different versions of your movie for web-delivery to iPhone and the desktop. It creates a reference movie that automatically selects the best version for the device and Internet connection and produces HTML code with instructions showing how to embed your movie into your web page. This one-step export gives users the ability to quickly and easily produce movies for Web delivery to iPhone and the desktop using the one step exporters for iPod and iPhone. Again, advanced users who would like to optimize for bandwidth or take advantage of other H.264 features should instead use the techniques described in this article.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="REFERENCES"></a><h2>References</h2>
<ul>
<li><p><a href="../../documentation/QuickTime/Conceptual/QTScripting_HTML/index.html">HTML Scripting Guide for QuickTime</a></p></li>
<li><p><a href="http://www.apple.com/quicktime/tutorials/embed.html">Including QuickTime In A Web Page</a></p></li>
<li><p><a href="http://www.apple.com/quicktime/tutorials/refmovies.html">QuickTime Reference Movies</a></p></li>
<li><p><a href="http://www.apple.com/quicktime/tutorials/stream.html">Preparing to Deliver Streaming Media</a></p></li>
<li><p><a href="http://www.apple.com/quicktime/tutorials/h264.html">Creating Amazing Video Content with H.264</a></p></li>
<li><p><a href="http://www.apple.com/quicktime/tutorials/creatingmovies.html">Creating Movies on a Mac</a></p></li>
<li><p><a href="https://connect.apple.com/cgi-bin/WebObjects/MemberSite.woa/wa/getSoftware?bundleID=19980">MakeRefMovie tool</a></p></li>
<li><p><a href="../../technotes/tn2007/tn2188.html">Technical Note TN2188 Exporting Movies for iPod, Apple TV and iPhone</a></p></li>
</ul>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG2"></a><h2>Downloadables</h2>
<ul>
<li><p><a href="downloads/tn2218_Numbers.zip">Recommended H.264 Settings (Mac Numbers Application format).</a> ("tn2218_Numbers.zip", 111.3K)

</p></li>
<li><p><a href="downloads/tn2218_CSV.zip">Recommended H.264 Settings file (CSV format).</a> ("tn2218_CSV.zip", 1.2K)

</p></li>
</ul>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="document_revision_summary"></a><h2>Document Revision History</h2>
<table cellspacing="0" class="graybox" width="680">
<tr>
<th width="100">Date</th>
<th width="580">Notes</th>
</tr>
<tr>
<td scope="row">2008-05-01</td>
<td>Describes how to create QuickTime content optimized for use on the Web</td>
</tr>
</table>
<p><b>Posted: </b>2008-05-01</p>
<!-- END CONTENTS -->
</td></tr></table>
<!-- END WIDE COLUMN --><!-- END MAIN CONTENT --><!-- START BOTTOM APPLE NAVIGATION -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn2008/tn2218.html%3Fid%3DDTS40007625-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn2008/tn2218.html%3Fid%3DDTS40007625-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn2008/tn2218.html%3Fid%3DDTS40007625-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer" --><!-- END BOTTOM APPLE NAVIGATION --><!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->
</body>
</html>
