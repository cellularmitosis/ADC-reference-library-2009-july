<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Image Capture Applications Programming Guide: Overview</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Overview"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005196-CH3" title="Overview"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../GraphicsImaging-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000450" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../01Introduction/01Introduction.html#//apple_ref/doc/uid/TP40005196-CH1-DontLinkElementID_23">Image Capture Applications Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../01Introduction/01Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../03HowtoWriteanImageCaptureApplication/03HowtoWriteanImageCaptureApplication.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005196-CH3-SW1" title="Overview"></a><h1>Overview</h1><p>The Image Capture Architecture (part of <code>Carbon.framework</code>) is a high-level framework for capturing image data from devices such as scanners, digital cameras, phones and PDAs. The Image Capture interfaces are device independent, so you can use them to gather data from any devices connected to the system. You can get a list of devices, retrieve information about a specific device or its contents, and retrieve filesÃ¢ÂÂincluding images, movies, and sound filesÃ¢ÂÂfrom devices. You can also issue commands to devices that support this feature, to initiate a document scan, take a photo, or delete an image from a camera card, for example. </p><p>Mac OS X provides a set of image capture services that enable you to do the following:</p><ul class="ul"><li class="li"><p>Detect when an image capture device, such as a scanner or camera, has been attached to the host computer via USB or FireWire.</p></li><li class="li"><p>Launch a browser that detects image capture devices available over Bluetooth or TCP/IP network connections and attach them</p></li><li class="li"><p>Obtain a detailed list of attached devices and their properties, including directories of images and image metadata</p></li><li class="li"><p>Download images from devices such as cameras and scan images using scanners</p></li><li class="li"><p>Detect and use special functions for particular devices, such as the ability to capture a new image or delete existing images</p></li><li class="li"><p>Write applications that are automatically launched when an appropriate device is attached</p></li><li class="li"><p>Create device modules for new devices, such as cameras, scanners, phones, and PDAs, so they can be accessed using the Image Capture Architecture framework</p></li></ul>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="02Overview.html#//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_4">Architecture</a>
				
			<br/>
			
        
			
			
				<a href="02Overview.html#//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_5">Sequence of Events</a>
				
			<br/>
			
        
			
			
				<a href="02Overview.html#//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_6">TWAIN Compatibility</a>
				
			<br/>
			
        
			
			
				<a href="02Overview.html#//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_7">Device Browser</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_4" title="Architecture"></a><h2>Architecture</h2><p>There are three pieces to the Image Capture Architecture:</p><ul class="ul"><li class="li"><p>Image Capture device modules, which are launched when a particular image capture device is attached. If you are adding a new scanner, camera, or other image capture device to Mac OS X, you need to write an image capture device module. The API for writing device modules is part of the Image Capture Device framework (<code>ICADevice.framework</code>). (See <em><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/index.html#//apple_ref/doc/uid/TP40006079" target="_top">Image Capture Device Modules Reference</a></em>.)</p></li><li class="li"><p>Image Capture API functions for cocoa and carbon programmers. These system-level extensions enable applications to work with attached devices at a high level. This API is part of the Image Capture framework (<code>Carbon/ImageCapture/ImageCapture.h</code>). It is described in this document and in <em><a href="../../../../GraphicsImaging/Reference/ImageCaptureServicesRef/index.html#//apple_ref/doc/uid/TP40005194" target="_top">Image Capture Applications Reference</a></em>.</p></li><li class="li"><p><code>Image Capture Extension.app</code>, a faceless application that runs in the background and provides the connections between device modules and the applications, shielding applications programmers from having to deal with individual devices, and providing a common interface between device modules and applications.</p></li></ul><p>The image capture services architecture is conceptually somewhat similar to TWAIN architecture, with the image capture extension taking the place of the TWAIN data source manager and the the device module taking the place of the TWAIN data source, as shown in <span class="content_text"><a href="02Overview.html#//apple_ref/doc/uid/TP40005196-CH3-SW2">Figure 1-1</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40005196-CH3-SW2" title="Figure 1-1Main Components of the Image Capture Architecture"></a><p><strong>Figure 1-1&nbsp;&nbsp;</strong>Main Components of the Image Capture Architecture</p><img src = "../Art/twain_diagram.jpg" alt = "image capture extension replaces TWAIN data source manager" ></div><br/><p>The Image Capture applications, extension, and device modules are all run in separate processes, making it possible to dynamically add device modules into the mix, share devices among applications, access devices from applications running on separate host computers, and even access device modules from applications running on different CPU architectures, as shown in <span class="content_text"><a href="02Overview.html#//apple_ref/doc/uid/TP40005196-CH3-SW3">Figure 1-2</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40005196-CH3-SW3" title="Figure 1-2Image Capture Architecture"></a><p><strong>Figure 1-2&nbsp;&nbsp;</strong>Image Capture Architecture</p><img src = "../Art/image_capture_architecture.jpg" alt = "Application running on Intel/Leopard accessing devices on G5/Tiger" ></div><br/><p>As illustrated, it is possible for applications on one computer to access device modules running on another computer. It is also possible for multiple applications to access multiple devices, and for multiple applications to share access  to a single device.</p><a name="//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_5" title="Sequence of Events"></a><h2>Sequence of Events</h2><p>The process operates as follows: when a device is connected to the host computer, via FireWire or USB, or an image-capture device is attached from a Bluetooth or TCP/IP network connection, the operating system searches among the installed device modules for the most suitable one, using the device module's associated <code>DeviceInfo.plist</code>. (If more than one module is installed for a given device, the system selects the highest <code>CFBundle</code> version number, taken from the <code>Info.plist</code> file.)</p><p>If an application is configured to be launched when this type of device is detected, that application is launched. For example, connecting a digital camera or pushing the "scan" button on a scanner can invoke your application without user intervention.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_24" title="Note"></a><p><strong>Note:</strong>&nbsp;In order to have your application launched when a device is attached, instruct your end user to run the Image Capture application and select your application in the dialog box presented by the Image Capture > Preferences menu.</p></div><p>When launched, your application obtains a device list object from the Image Capture API, chooses a device from the list, and obtains the dictionary for that device. The dictionary contains a list of objects associated with the device, such as images, movies, audio files, and directories. </p><p>The dictionary for the device also includes information about the device, such as whether it supports capturing images on command or deleting images. You can use the Image Capture API to issue such commands to the device.</p><p>Your application can download the objects of interest directly or obtain a dictionary of metadata specific to individual objects to determine whether they should be downloaded.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_25" title="Note"></a><p><strong>Note:</strong>&nbsp;Earlier versions of image capture services required the application to iterate through the device list to determine each device type, then iterate through the objects contained on a device, such as images, audio files, and directories. The API for this earlier method is still in the headers for backward compatibility, but the new API, using dictionaries rather than iterating through the object hierarchy, is recommended, and is the API documented in the following chapter.</p></div><p>Image capture applications should register for notification of image capture events, such as the addition of new devices, the removal of existing devices, or the change of storage in an existing device, such as the insertion of a new memory card into a mounted camera or card reader.</p><a name="//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_6" title="TWAIN Compatibility"></a><h2>TWAIN Compatibility</h2><p>Image capture devices can be accessed using the native image capture API described in this document, or they can be accessed as TWAIN data sources. In order for devices to be recognized by TWAIN applications as well as Image Capture applications, the device manufacturer must provide both a TWAIN data source module and an Image Capture device module. If both are available, the system uses the Image Capture device module by default, and the TWAIN data source when needed.</p><a name="//apple_ref/doc/uid/TP40005196-CH3-DontLinkElementID_7" title="Device Browser"></a><h2>Device Browser</h2><p>An Image Capture application has access to all attached image capture devices. USB and FireWire devices are automatically attached when they are connected, but Bluetooth and TCP/IP network devices may not be. The Image Capture API includes a device browser that your application can invoke, allowing the end user to browse for available devices and attach them. Once mounted, they appear in the device list object when it is next obtained. Device manufacturers should use Bonjour protocol to advertise available TCP/IP network devices.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../01Introduction/01Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../03HowtoWriteanImageCaptureApplication/03HowtoWriteanImageCaptureApplication.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-05-16<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/ImageCaptureServicesProgrammingGuide/02Overview/02Overview.html%3Fid%3DTP40005196-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/ImageCaptureServicesProgrammingGuide/02Overview/02Overview.html%3Fid%3DTP40005196-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/ImageCaptureServicesProgrammingGuide/02Overview/02Overview.html%3Fid%3DTP40005196-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>