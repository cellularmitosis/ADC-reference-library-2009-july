<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Graphics Ports(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING197></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-196.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-198.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-188.html"><B>Chapter 4 - Window Manager</B></A> / <A HREF="Toolbox-196.html"><B>About the Window Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING197-0></A>
<H2><A NAME=MARKER-9-91></A><A NAME=MARKER-21-92></A><EM>Graphics Ports</EM></H2>
 <EM><A NAME=MARKER-2-56></A>Each window represents a QuickDraw graphics port<B>, which is a drawing environment with its own coordinate system. (See Inside Macintosh: Imaging for a complete description of graphics ports and coordinate systems.) When you create a window, the Window Manager creates a graphics port in which the</B></EM> window's <EM>contents are displayed.<A NAME=MARKER-2-183></A></EM><P>
 <EM><A NAME=MARKER-2-230></A>The location of a window on the screen is defined in global coordinates--that is, coordinates that reflect the entire potential drawing space. QuickDraw and Color QuickDraw<A NAME=MARKER-2-96></A> recognize a coordinate plane whose origin is the upper-left corner of the main screen, whose positive x-axis extends rightward, and whose positive y-axis extends downward. In QuickDraw, the horizontal offset is ordinarily labeled <CODE>h, and the vertical offset v. <A HREF=#MARKER-9-98>Figure 4-13</A> illustrates the QuickDraw global coordinate system.<A NAME=MARKER-2-135></A></CODE></EM><P>
<B>Figure 4-13  <A NAME=MARKER-9-98></A>The QuickDraw global coordinate plane</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/WM-L-23.jpg"><P>
<DL>
<DT><B>Note</B>
<DD><EM>The orientation of the vertical axis, while convenient for computer graphics, differs from mathematical convention. Also, the coordinate plane is bounded by the limits of QuickDraw coordinates, which range from -32,768 to 32,767.</EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<DD><EM>QuickDraw stores points and rectangles in its own data structures of type Point and Rect. In these structures, the vertical coordinate (<CODE>v) appears first, followed by the horizontal coordinate (h). Most, but not all, QuickDraw routines that handle </CODE></EM>points require you to specify the coordinates in this order.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 <EM>When QuickDraw creates a new graphics port (usually because you've created a new window through the Window Manager), it defines a bounding rectangle for the port, in global coordinates. Ordinarily, the bounding rectangle represents the entire area of the screen on which the window appears. The bounding rectangle is stored in the graphics port data structure, in the bounds field of a structure called a pixel map in Color QuickDraw and a bitmap in QuickDraw.</EM><P>
 <EM>The graphics port data structure also includes a field called portRect, which defines <BR>a rectangle to be used for drawing. In a graphics port that represents a window, the portRect rectangle represents the window's content region.<A NAME=MARKER-2-193></A></EM><P>
<DL>
<DT><B>Note</B>
<DD><EM>When you place a window on the screen, you specify the location of its content region, in global coordinates. Remember to allow space for <BR>the window's title bar. On the main screen, remember to leave space for the menu bar. In the Roman script system, both the standard document title bar and the menu bar are 20 pixels high. You can determine the height of the menu bar with the Menu Manager GetMBarHeight function. You can calculate the height of the title bar by comparing the top of the window's structure region with the top of the window's content region. See <A HREF=Toolbox-209.html#MARKER-9-231>Listing 4-12</A> on <A HREF=Toolbox-209.html#MARKER-9-231>page 4-48</A> for a sample procedure that considers the menu bar and title bar when placing a window on the screen.</EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 <EM>Within the port rectangle, the drawing area is described in local coordinates--that is, in the coordinate system defined by the port rectangle. You draw into a window in local coordinates, without regard to the window's location on the screen (which is described in global coordinates). <A HREF=#MARKER-9-104>Figure 4-14</A> illustrates the local and global coordinate systems for a sample window 180 pixels high by 300 pixels wide, placed with its content region <BR>70 pixels down and 60 pixels to the right of the upper-left corner of the screen<A NAME=MARKER-9-573></A>.</EM><P>
 <EM>When the Window Manager creates a window, it places the origin of the local coordinate system at the upper-left corner of the window's port rectangle. You can redefine <BR>the coordinates of the port rectangle's upper-left corner with the QuickDraw <BR>procedure SetOrigin.<A NAME=MARKER-2-116></A></EM><P>
 <EM>The Event Manager describes mouse events in global coordinates, and you do most of your window manipulation in global coordinates. You generally display user data and manipulate your controls in local coordinates. When you need to convert between the two, you can call the QuickDraw functions GlobalToLocal and LocalToGlobal, <A NAME=MARKER-2-102></A>described in Inside Macintosh: Imaging.<A NAME=MARKER-2-4></A></EM><P>
<B>Figure 4-14  <EM><A NAME=MARKER-9-104></A>A window's local and global coordinate systems</EM></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/WM-LS-24.jpg"><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-196.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-198.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
