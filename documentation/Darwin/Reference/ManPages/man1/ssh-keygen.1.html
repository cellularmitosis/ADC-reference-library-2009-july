<html><head><title>Mac OS X
 Manual Page For ssh-keygen(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/ssh-keygen" title="Mac OS X
 Manual Page for ssh-keygen(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/ssh-keygen"; name=ssh-keygen(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SSH-KEYGEN(1)             BSD General Commands Manual            SSH-KEYGEN(1)

<b>NAME</b>
     <b>ssh-keygen</b> -- authentication key generation, management and conversion

<b>SYNOPSIS</b>
     <b>ssh-keygen</b> [<b>-q</b>] [<b>-b</b> <u>bits</u>] <b>-t</b> <u>type</u> [<b>-N</b> <u>new</u><b>_</b><u>passphrase</u>] [<b>-C</b> <u>comment</u>] [<b>-f</b> <u>output</u><b>_</b><u>keyfile</u>]
     <b>ssh-keygen</b> <b>-p</b> [<b>-P</b> <u>old</u><b>_</b><u>passphrase</u>] [<b>-N</b> <u>new</u><b>_</b><u>passphrase</u>] [<b>-f</b> <u>keyfile</u>]
     <b>ssh-keygen</b> <b>-i</b> [<b>-f</b> <u>input</u><b>_</b><u>keyfile</u>]
     <b>ssh-keygen</b> <b>-e</b> [<b>-f</b> <u>input</u><b>_</b><u>keyfile</u>]
     <b>ssh-keygen</b> <b>-y</b> [<b>-f</b> <u>input</u><b>_</b><u>keyfile</u>]
     <b>ssh-keygen</b> <b>-c</b> [<b>-P</b> <u>passphrase</u>] [<b>-C</b> <u>comment</u>] [<b>-f</b> <u>keyfile</u>]
     <b>ssh-keygen</b> <b>-l</b> [<b>-f</b> <u>input</u><b>_</b><u>keyfile</u>]
     <b>ssh-keygen</b> <b>-B</b> [<b>-f</b> <u>input</u><b>_</b><u>keyfile</u>]
     <b>ssh-keygen</b> <b>-D</b> <u>reader</u>
     <b>ssh-keygen</b> <b>-F</b> <u>hostname</u> [<b>-f</b> <u>known</u><b>_</b><u>hosts</u><b>_</b><u>file</u>]
     <b>ssh-keygen</b> <b>-H</b> [<b>-f</b> <u>known</u><b>_</b><u>hosts</u><b>_</b><u>file</u>]
     <b>ssh-keygen</b> <b>-R</b> <u>hostname</u> [<b>-f</b> <u>known</u><b>_</b><u>hosts</u><b>_</b><u>file</u>]
     <b>ssh-keygen</b> <b>-U</b> <u>reader</u> [<b>-f</b> <u>input</u><b>_</b><u>keyfile</u>]
     <b>ssh-keygen</b> <b>-r</b> <u>hostname</u> [<b>-f</b> <u>input</u><b>_</b><u>keyfile</u>] [<b>-g</b>]
     <b>ssh-keygen</b> <b>-G</b> <u>output</u><b>_</b><u>file</u> [<b>-v</b>] [<b>-b</b> <u>bits</u>] [<b>-M</b> <u>memory</u>] [<b>-S</b> <u>start</u><b>_</b><u>point</u>]
     <b>ssh-keygen</b> <b>-T</b> <u>output</u><b>_</b><u>file</u> <b>-f</b> <u>input</u><b>_</b><u>file</u> [<b>-v</b>] [<b>-a</b> <u>num</u><b>_</b><u>trials</u>] [<b>-W</b> <u>generator</u>]

<b>DESCRIPTION</b>
     <b>ssh-keygen</b> generates, manages and converts authentication keys for <a href="ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a>.  <b>ssh-keygen</b> can create RSA
     keys for use by SSH protocol version 1 and RSA or DSA keys for use by SSH protocol version 2.  The type
     of key to be generated is specified with the <b>-t</b> option.  If invoked without any arguments, <b>ssh-keygen</b>
     will generate an RSA key for use in SSH protocol 2 connections.

     <b>ssh-keygen</b> is also used to generate groups for use in Diffie-Hellman group exchange (DH-GEX).  See the
     <u>MODULI</u> <u>GENERATION</u> section for details.

     Normally each user wishing to use SSH with RSA or DSA authentication runs this once to create the
     authentication key in <u>~/.ssh/identity</u>, <u>~/.ssh/id</u><b>_</b><u>dsa</u> or <u>~/.ssh/id</u><b>_</b><u>rsa</u>.  Additionally, the system admin-<font color="#ffffff" class="whiteout">istrator&nbsp;administrator</font>
     istrator may use this to generate host keys, as seen in <u>/etc/rc</u>.

     Normally this program generates the key and asks for a file in which to store the private key.  The
     public key is stored in a file with the same name but ``.pub'' appended.  The program also asks for a
     passphrase.  The passphrase may be empty to indicate no passphrase (host keys must have an empty
     passphrase), or it may be a string of arbitrary length.  A passphrase is similar to a password, except
     it can be a phrase with a series of words, punctuation, numbers, whitespace, or any string of charac-<font color="#ffffff" class="whiteout">ters&nbsp;characters</font>
     ters you want.  Good passphrases are 10-30 characters long, are not simple sentences or otherwise eas-<font color="#ffffff" class="whiteout">ily&nbsp;easily</font>
     ily guessable (English prose has only 1-2 bits of entropy per character, and provides very bad
     passphrases), and contain a mix of upper and lowercase letters, numbers, and non-alphanumeric charac-<font color="#ffffff" class="whiteout">ters.&nbsp;characters.</font>
     ters.  The passphrase can be changed later by using the <b>-p</b> option.

     There is no way to recover a lost passphrase.  If the passphrase is lost or forgotten, a new key must
     be generated and copied to the corresponding public key to other machines.

     For RSA1 keys, there is also a comment field in the key file that is only for convenience to the user
     to help identify the key.  The comment can tell what the key is for, or whatever is useful.  The com-<font color="#ffffff" class="whiteout">ment&nbsp;comment</font>
     ment is initialized to ``user@host'' when the key is created, but can be changed using the <b>-c</b> option.

     After a key is generated, instructions below detail where the keys should be placed to be activated.

     The options are as follows:

     <b>-a</b> <u>trials</u>
             Specifies the number of primality tests to perform when screening DH-GEX candidates using the
             <b>-T</b> command.

     <b>-B</b>      Show the bubblebabble digest of specified private or public key file.

     <b>-b</b> <u>bits</u>
             Specifies the number of bits in the key to create.  For RSA keys, the minimum size is 768 bits
             and the default is 2048 bits.  Generally, 2048 bits is considered sufficient.  DSA keys must be
             exactly 1024 bits as specified by FIPS 186-2.

     <b>-C</b> <u>comment</u>
             Provides a new comment.

     <b>-c</b>      Requests changing the comment in the private and public key files.  This operation is only sup-<font color="#ffffff" class="whiteout">ported&nbsp;supported</font>
             ported for RSA1 keys.  The program will prompt for the file containing the private keys, for
             the passphrase if the key has one, and for the new comment.

     <b>-D</b> <u>reader</u>
             Download the RSA public key stored in the smartcard in <u>reader</u>.

     <b>-e</b>      This option will read a private or public OpenSSH key file and print the key in a `SECSH Public
             Key File Format' to stdout.  This option allows exporting keys for use by several commercial
             SSH implementations.

     <b>-F</b> <u>hostname</u>
             Search for the specified <u>hostname</u> in a <u>known</u><b>_</b><u>hosts</u> file, listing any occurrences found.  This
             option is useful to find hashed host names or addresses and may also be used in conjunction
             with the <b>-H</b> option to print found keys in a hashed format.

     <b>-f</b> <u>filename</u>
             Specifies the filename of the key file.

     <b>-G</b> <u>output</u><b>_</b><u>file</u>
             Generate candidate primes for DH-GEX.  These primes must be screened for safety (using the <b>-T</b>
             option) before use.

     <b>-g</b>      Use generic DNS format when printing fingerprint resource records using the <b>-r</b> command.

     <b>-H</b>      Hash a <u>known</u><b>_</b><u>hosts</u> file.  This replaces all hostnames and addresses with hashed representations
             within the specified file; the original content is moved to a file with a .old suffix.  These
             hashes may be used normally by <b>ssh</b> and <b>sshd</b>, but they do not reveal identifying information
             should the file's contents be disclosed.  This option will not modify existing hashed hostnames
             and is therefore safe to use on files that mix hashed and non-hashed names.

     <b>-i</b>      This option will read an unencrypted private (or public) key file in SSH2-compatible format and
             print an OpenSSH compatible private (or public) key to stdout.  <b>ssh-keygen</b> also reads the
             `SECSH Public Key File Format'.  This option allows importing keys from several commercial SSH
             implementations.

     <b>-l</b>      Show fingerprint of specified public key file.  Private RSA1 keys are also supported.  For RSA
             and DSA keys <b>ssh-keygen</b> tries to find the matching public key file and prints its fingerprint.

     <b>-M</b> <u>memory</u>
             Specify the amount of memory to use (in megabytes) when generating candidate moduli for DH-GEX.

     <b>-N</b> <u>new</u><b>_</b><u>passphrase</u>
             Provides the new passphrase.

     <b>-P</b> <u>passphrase</u>
             Provides the (old) passphrase.

     <b>-p</b>      Requests changing the passphrase of a private key file instead of creating a new private key.
             The program will prompt for the file containing the private key, for the old passphrase, and
             twice for the new passphrase.

     <b>-q</b>      Silence <b>ssh-keygen</b>.  Used by <u>/etc/rc</u> when creating a new key.

     <b>-R</b> <u>hostname</u>
             Removes all keys belonging to <u>hostname</u> from a <u>known</u><b>_</b><u>hosts</u> file.  This option is useful to
             delete hashed hosts (see the <b>-H</b> option above).

     <b>-r</b> <u>hostname</u>
             Print the SSHFP fingerprint resource record named <u>hostname</u> for the specified public key file.

     <b>-S</b> <u>start</u>
             Specify start point (in hex) when generating candidate moduli for DH-GEX.

     <b>-T</b> <u>output</u><b>_</b><u>file</u>
             Test DH group exchange candidate primes (generated using the <b>-G</b> option) for safety.

     <b>-t</b> <u>type</u>
             Specifies the type of key to create.  The possible values are ``rsa1'' for protocol version 1
             and ``rsa'' or ``dsa'' for protocol version 2.

     <b>-U</b> <u>reader</u>
             Upload an existing RSA private key into the smartcard in <u>reader</u>.

     <b>-v</b>      Verbose mode.  Causes <b>ssh-keygen</b> to print debugging messages about its progress.  This is help-<font color="#ffffff" class="whiteout">ful&nbsp;helpful</font>
             ful for debugging moduli generation.  Multiple <b>-v</b> options increase the verbosity.  The maximum
             is 3.

     <b>-W</b> <u>generator</u>
             Specify desired generator when testing candidate moduli for DH-GEX.

     <b>-y</b>      This option will read a private OpenSSH format file and print an OpenSSH public key to stdout.

<b>MODULI</b> <b>GENERATION</b>
     <b>ssh-keygen</b> may be used to generate groups for the Diffie-Hellman Group Exchange (DH-GEX) protocol.
     Generating these groups is a two-step process: first, candidate primes are generated using a fast, but
     memory intensive process.  These candidate primes are then tested for suitability (a CPU-intensive
     process).

     Generation of primes is performed using the <b>-G</b> option.  The desired length of the primes may be speci-<font color="#ffffff" class="whiteout">fied&nbsp;specified</font>
     fied by the <b>-b</b> option.  For example:

           # ssh-keygen -G moduli-2048.candidates -b 2048

     By default, the search for primes begins at a random point in the desired length range.  This may be
     overridden using the <b>-S</b> option, which specifies a different start point (in hex).

     Once a set of candidates have been generated, they must be tested for suitability.  This may be per-<font color="#ffffff" class="whiteout">formed&nbsp;performed</font>
     formed using the <b>-T</b> option.  In this mode <b>ssh-keygen</b> will read candidates from standard input (or a
     file specified using the <b>-f</b> option).  For example:

           # ssh-keygen -T moduli-2048 -f moduli-2048.candidates

     By default, each candidate will be subjected to 100 primality tests.  This may be overridden using the
     <b>-a</b> option.  The DH generator value will be chosen automatically for the prime under consideration.  If
     a specific generator is desired, it may be requested using the <b>-W</b> option.  Valid generator values are
     2, 3, and 5.

     Screened DH groups may be installed in <u>/etc/moduli</u>.  It is important that this file contains moduli of
     a range of bit lengths and that both ends of a connection share common moduli.

<b>FILES</b>
     ~/.ssh/identity
             Contains the protocol version 1 RSA authentication identity of the user.  This file should not
             be readable by anyone but the user.  It is possible to specify a passphrase when generating the
             key; that passphrase will be used to encrypt the private part of this file using 3DES.  This
             file is not automatically accessed by <b>ssh-keygen</b> but it is offered as the default file for the
             private key.  <a href="ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a> will read this file when a login attempt is made.

     ~/.ssh/identity.pub
             Contains the protocol version 1 RSA public key for authentication.  The contents of this file
             should be added to <u>~/.ssh/authorized</u><b>_</b><u>keys</u> on all machines where the user wishes to log in using
             RSA authentication.  There is no need to keep the contents of this file secret.

     ~/.ssh/id_dsa
             Contains the protocol version 2 DSA authentication identity of the user.  This file should not
             be readable by anyone but the user.  It is possible to specify a passphrase when generating the
             key; that passphrase will be used to encrypt the private part of this file using 3DES.  This
             file is not automatically accessed by <b>ssh-keygen</b> but it is offered as the default file for the
             private key.  <a href="ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a> will read this file when a login attempt is made.

     ~/.ssh/id_dsa.pub
             Contains the protocol version 2 DSA public key for authentication.  The contents of this file
             should be added to <u>~/.ssh/authorized</u><b>_</b><u>keys</u> on all machines where the user wishes to log in using
             public key authentication.  There is no need to keep the contents of this file secret.

     ~/.ssh/id_rsa
             Contains the protocol version 2 RSA authentication identity of the user.  This file should not
             be readable by anyone but the user.  It is possible to specify a passphrase when generating the
             key; that passphrase will be used to encrypt the private part of this file using 3DES.  This
             file is not automatically accessed by <b>ssh-keygen</b> but it is offered as the default file for the
             private key.  <a href="ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a> will read this file when a login attempt is made.

     ~/.ssh/id_rsa.pub
             Contains the protocol version 2 RSA public key for authentication.  The contents of this file
             should be added to <u>~/.ssh/authorized</u><b>_</b><u>keys</u> on all machines where the user wishes to log in using
             public key authentication.  There is no need to keep the contents of this file secret.

     /etc/moduli
             Contains Diffie-Hellman groups used for DH-GEX.  The file format is described in <!-- a -->moduli(5)<!-- /a -->.

<b>SEE</b> <b>ALSO</b>
     <a href="ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a>, <a href="ssh-add.1.html#//apple_ref/doc/man/1/ssh-add">ssh-add(1)</a>, <a href="ssh-agent.1.html#//apple_ref/doc/man/1/ssh-agent">ssh-agent(1)</a>, <!-- a -->moduli(5)<!-- /a -->, <a href="../man8/sshd.8.html#//apple_ref/doc/man/8/sshd">sshd(8)</a>

     J. Galbraith and R. Thayer, <u>SECSH</u> <u>Public</u> <u>Key</u> <u>File</u> <u>Format</u>, draft-ietf-secsh-publickeyfile-01.txt, March
     2001, work in progress material.

<b>AUTHORS</b>
     OpenSSH is a derivative of the original and free ssh 1.2.12 release by Tatu Ylonen.  Aaron Campbell,
     Bob Beck, Markus Friedl, Niels Provos, Theo de Raadt and Dug Song removed many bugs, re-added newer
     features and created OpenSSH.  Markus Friedl contributed the support for SSH protocol versions 1.5 and
     2.0.

BSD                           September 25, 1999                           BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/ssh-keygen.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/ssh-keygen.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/ssh-keygen.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
