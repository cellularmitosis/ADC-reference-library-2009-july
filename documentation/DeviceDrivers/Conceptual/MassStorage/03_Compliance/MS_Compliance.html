<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Mass Storage Device Driver Programming Guide: Mass Storage Device Compliance</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Mass Storage Device Compliance"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000735" title="Mass Storage Device Compliance"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../HardwareDrivers/index.html#//apple_ref/doc/uid/TP30000440-TP40003576" target="_top">Hardware &amp; Drivers</a> &gt; <a href="../../../../HardwareDrivers/MassStorageDevices-date.html#//apple_ref/doc/uid/TP30000440-TP40003576-TP30001039" target="_top">Storage</a> &gt; <a href="../01_Introduction/Introduction.html#//apple_ref/doc/uid/TP30000733-TPXREF101">Mass Storage Device Driver Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../02_Overview/MS_Overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../04_Matching/MS_Matching.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000735-TPXREF101" title="Mass Storage Device Compliance"></a><h1>Mass Storage Device Compliance</h1><p>Apple provides mass storage device drivers in the transport driver layer that support various device specifications. In order for your device to work with these drivers, it must comply with the appropriate specifications. This chapter describes device compliance and lists the logical unit and protocol services drivers Apple provides.</p><p>The concept of device compliance has no meaning in the device services layer. The generic block storage driver treats the device as a storage space and media filter-scheme drivers work with media present in the device; neither makes any assumptions about underlying transport specifications or implementation. For more information about how to develop your own filter-scheme driver, see <span class="content_text"><a href="../04_Matching/MS_Matching.html#//apple_ref/doc/uid/TP30000736-BCIBACGH">“Filter-Scheme Driver Matching”</a></span> and <span class="content_text"><a href="../08_Media_Example/MS_Media_Example.html#//apple_ref/doc/uid/TP30000739-TPXREF101">“Developing a Filter Scheme.”</a></span></p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="MS_Compliance.html#//apple_ref/doc/uid/TP30000735-BBIDHAFI">Device Compliance</a>
				
			<br/>
			
        
			
			
				<a href="MS_Compliance.html#//apple_ref/doc/uid/TP30000735-TPXREF102">Available Mass Storage Drivers</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000735-BBIDHAFI" title="Device Compliance"></a><h2>Device Compliance</h2><p><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_142"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_143"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_144"></a>Apple provides logical unit and protocol services drivers at the transport driver layer of the mass storage driver stack (shown in <span class="content_text"><a href="../02_Overview/MS_Overview.html#//apple_ref/doc/uid/TP30000734-BBCJCDHC">Figure 1-2</a></span>). These drivers will drive any mass storage device that complies with the supported specifications.</p><p>There are two areas in which a device must be compliant in order to partake of the services of the provided drivers:</p><ul class="ul"><li class="li"><p>SCSI command set implementation</p></li><li class="li"><p>Physical interconnect transport protocol</p></li></ul><p>SCSI command set<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_145"></a> implementation compliance means that a device’s firmware processes commands as documented in a SCSI Architecture Model<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_146"></a> shared command set specification. For example, if a multimedia device processes commands as defined by the SCSI multimedia command set specification, it is considered compliant and the Apple-provided <code>IOSCSIPeripheralDeviceType05</code> driver will drive it successfully.</p><p><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_147"></a>Compliance with a physical interconnect transport protocol<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_148"></a> means that a device sends and receives commands according to the protocol defined by the bus it’s on. For example, in order for a USB device to be compliant with the USB mass storage class, it must comply with one of the subclasses defined by the USB Mass Storage Class Specification. The Apple-provided <code>IOUSBMassStorageClass</code> protocol services driver will drive such a device successfully.<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_149"></a></p><a name="//apple_ref/doc/uid/TP30000735-TPXREF102" title="Available Mass Storage Drivers"></a><h2>Available Mass Storage Drivers</h2><p>For SCSI command set implementation-compliant devices, Apple<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_150"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_151"></a> provides four logical unit drivers that support the following specifications:</p><ul class="ul"><li class="li"><p>The <code>IOSCSIPeripheralDeviceType00</code><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_152"></a> driver supports block storage devices that comply with the SCSI block commands specification.</p></li><li class="li"><p>The <code>IOSCSIPeripheralDeviceType05</code><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_153"></a> driver supports multimedia devices that comply with the SCSI multimedia commands specification.</p></li><li class="li"><p>The <code>IOSCSIPeripheralDeviceType07</code><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_154"></a> driver supports magneto-optical devices that comply with the SCSI block commands specification.</p></li><li class="li"><p>The <code>IOSCSIPeripheralDeviceType0E</code><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_155"></a> driver supports reduced block command devices that comply with the SCSI reduced block commands specification.<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_156"></a></p></li></ul><p><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_157"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_158"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_159"></a>For physical interconnect transport protocol-compliant devices, Apple<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_160"></a> provides protocol services drivers that support the following bus transport protocols:</p><ul class="ul"><li class="li"><p>The <code>IOFireWireSerialBusProtocolTransport</code><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_161"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_162"></a> driver supports FireWire Serial Bus Protocol 2 (SBP-2) mass storage devices defined in the SCSI Architecture Model specifications (<span class="content_text"><a href="http://t10.org" target="_blank">http://t10.org</a></span>).</p></li><li class="li"><p>The <code>IOUSBMassStorageClass</code><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_163"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_164"></a> driver supports USB mass storage devices that comply with the USB Mass Storage Class specification (<span class="content_text"><a href="http://www.usb.org" target="_blank">http://www.usb.org</a></span>). For a listing of the supported USB Mass Storage Class subclasses and protocols, see<span class="content_text"><a href="../04_Matching/MS_Matching.html#//apple_ref/doc/uid/TP30000736-BBIFJHAH">“The USB Mass Storage Class Protocol Services Driver.”</a></span></p></li><li class="li"><p>The <code>IOATAPIProtocolTransport</code><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_165"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_166"></a> driver supports ATAPI mass storage devices that comply with the ATA/ATAPI-5 specification (<span class="content_text"><a href="http://t13.org" target="_blank">http://t13.org</a></span>).<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_167"></a></p></li></ul><p>If your device is compliant with both a SCSI Architecture Model shared command set specification and a physical interconnect transport protocol, you will not have to write your own driver for it. If, however, your device is not compliant with these specifications or protocols, you will need to subclass the appropriate Apple-provided driver to address the difference. Similarly, if your device provides additional functionality at the command set implementation or bus transport level, you will need to develop a subclass that supports the new feature.<a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_168"></a><a name="//apple_ref/doc/uid/TP30000735-DontLinkElementID_169"></a></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../02_Overview/MS_Overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../04_Matching/MS_Matching.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-04-03<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeviceDrivers/Conceptual/MassStorage/03_Compliance/MS_Compliance.html%3Fid%3DTP40000974-4.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeviceDrivers/Conceptual/MassStorage/03_Compliance/MS_Compliance.html%3Fid%3DTP40000974-4.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeviceDrivers/Conceptual/MassStorage/03_Compliance/MS_Compliance.html%3Fid%3DTP40000974-4.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>