<html><head><title>Mac OS X Developer Tools
 Manual Page For execve(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/execve" title="Mac OS X Developer Tools
 Manual Page for execve(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/execve"; name=execve(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
EXECVE(2)                   BSD System Calls Manual                  EXECVE(2)

<b>NAME</b>
     <b>execve</b> -- execute a file

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;unistd.h&gt;</b>

     <u>int</u>
     <b>execve</b>(<u>const</u> <u>char</u> <u>*path</u>, <u>char</u> <u>*const</u> <u>argv[]</u>, <u>char</u> <u>*const</u> <u>envp[]</u>);

<b>DESCRIPTION</b>
     <b>Execve</b>() transforms the calling process into a new process.  The new process is constructed from an
     ordinary file, whose name is pointed to by <u>path</u>, called the <u>new</u> <u>process</u> <u>file</u>.  This file is either an
     executable object file, or a file of data for an interpreter.  An executable object file consists of an
     identifying header, followed by pages of data representing the initial program (text) and initialized
     data pages.  Additional pages may be specified by the header to be initialized with zero data;  see
     <a href="../man5/a.out.5.html#//apple_ref/doc/man/5/a.out">a.out(5)</a>.

     An interpreter file begins with a line of the form:

           <b>#!</b> <u>interpreter</u> [<u>arg</u> <u>...</u>]

     When an interpreter file is <b>execve</b>()'d, the system runs the specified <u>interpreter</u>.  If any optional
     <u>args</u> are specified, they become the first (second, ...) argument to the <u>interpreter.</u> The name of the
     originally <b>execve</b>()'d file becomes the subsequent argument; otherwise, the name of the originally
     <b>execve</b>()'d file is the first argument.  The original arguments to the invocation of the interpreter are
     shifted over to become the final arguments.  The zeroth argument, normally the name of the <b>execve</b>()'d
     file, is left unchanged.

     The argument <u>argv</u> is a pointer to a null-terminated array of character pointers to null-terminated
     character strings.  These strings construct the argument list to be made available to the new process.
     At least one argument must be present in the array; by custom, the first element should be the name of
     the executed program (for example, the last component of <u>path</u>).

     The argument <u>envp</u> is also a pointer to a null-terminated array of character pointers to null-terminated
     strings.  A pointer to this array is normally stored in the global variable <u>environ.</u> These strings pass
     information to the new process that is not directly an argument to the command (see <a href="../man7/environ.7.html#//apple_ref/doc/man/7/environ">environ(7)</a>).

     File descriptors open in the calling process image remain open in the new process image, except for
     those for which the close-on-exec flag is set (see <a href="close.2.html#//apple_ref/doc/man/2/close">close(2)</a> and <a href="fcntl.2.html#//apple_ref/doc/man/2/fcntl">fcntl(2)</a>).  Descriptors that remain
     open are unaffected by <b>execve</b>().

     Signals set to be ignored in the calling process are set to be ignored in the new process. Signals
     which are set to be caught in the calling process image are set to default action in the new process
     image.  Blocked signals remain blocked regardless of changes to the signal action.  The signal stack is
     reset to be undefined (see <a href="sigaction.2.html#//apple_ref/doc/man/2/sigaction">sigaction(2)</a> for more information).

     If the set-user-ID mode bit of the new process image file is set (see <a href="chmod.2.html#//apple_ref/doc/man/2/chmod">chmod(2)</a>), the effective user ID
     of the new process image is set to the owner ID of the new process image file.  If the set-group-ID
     mode bit of the new process image file is set, the effective group ID of the new process image is set
     to the group ID of the new process image file.  (The effective group ID is the first element of the
     group list.)  The real user ID, real group ID and other group IDs of the new process image remain the
     same as the calling process image.  After any set-user-ID and set-group-ID processing, the effective
     user ID is recorded as the saved set-user-ID, and the effective group ID is recorded as the saved set-<font color="#ffffff" class="whiteout">group-ID.&nbsp;setgroup-ID.</font>
     group-ID.  These values may be used in changing the effective IDs later (see <a href="setuid.2.html#//apple_ref/doc/man/2/setuid">setuid(2)</a>).

     The new process also inherits the following attributes from the calling process:

           process ID           see <a href="getpid.2.html#//apple_ref/doc/man/2/getpid">getpid(2)</a>
           parent process ID    see <a href="getppid.2.html#//apple_ref/doc/man/2/getppid">getppid(2)</a>
           process group ID     see <a href="getpgrp.2.html#//apple_ref/doc/man/2/getpgrp">getpgrp(2)</a>
           access groups        see <a href="getgroups.2.html#//apple_ref/doc/man/2/getgroups">getgroups(2)</a>
           working directory    see <a href="chdir.2.html#//apple_ref/doc/man/2/chdir">chdir(2)</a>
           root directory       see <a href="chroot.2.html#//apple_ref/doc/man/2/chroot">chroot(2)</a>
           control terminal     see <a href="../man4/termios.4.html#//apple_ref/doc/man/4/termios">termios(4)</a>
           resource usages      see <a href="getrusage.2.html#//apple_ref/doc/man/2/getrusage">getrusage(2)</a>
           interval timers      see <a href="getitimer.2.html#//apple_ref/doc/man/2/getitimer">getitimer(2)</a>
           resource limits      see <a href="getrlimit.2.html#//apple_ref/doc/man/2/getrlimit">getrlimit(2)</a>
           file mode mask       see <a href="umask.2.html#//apple_ref/doc/man/2/umask">umask(2)</a>
           signal mask          see <a href="sigaction.2.html#//apple_ref/doc/man/2/sigaction">sigaction(2)</a>, <a href="sigsetmask.2.html#//apple_ref/doc/man/2/sigsetmask">sigsetmask(2)</a>

     When a program is executed as a result of an <b>execve</b>() call, it is entered as follows:

           main(argc, argv, envp)
           int argc;
           char **argv, **envp;

     where <u>argc</u> is the number of elements in <u>argv</u> (the ``arg count'') and <u>argv</u> points to the array of char-<font color="#ffffff" class="whiteout">acter&nbsp;character</font>
     acter pointers to the arguments themselves.

<b>RETURN</b> <b>VALUES</b>
     As the <b>execve</b>() function overlays the current process image  with a new process image, the successful
     call has no process to return to.  If <b>execve</b>() does return to the calling process, an error has
     occurred; the return value will be -1 and the global variable <u>errno</u> is set to indicate the error.

<b>ERRORS</b>
     <b>Execve</b>() will fail and return to the calling process if:

     [E2BIG]            The number of bytes in the new process's argument list is larger than the system-<font color="#ffffff" class="whiteout">imposed&nbsp;systemimposed</font>
                        imposed limit.  This limit is specified by the <a href="../man3/sysctl.3.html#//apple_ref/doc/man/3/sysctl">sysctl(3)</a> MIB variable KERN_ARGMAX.

     [EACCES]           Search permission is denied for a component of the path prefix.

     [EACCES]           The new process file is not an ordinary file.

     [EACCES]           The new process file mode denies execute permission.

     [EACCES]           The new process file is on a filesystem mounted with execution disabled (MNT_NOEXEC
                        in &lt;<u>sys/mount.h&gt;</u>).

     [EFAULT]           The new process file is not as long as indicated by the size values in its header.

     [EFAULT]           <u>Path</u>, <u>argv</u>, or <u>envp</u> point to an illegal address.

     [EIO]              An I/O error occurred while reading from the file system.

     [ELOOP]            Too many symbolic links were encountered in translating the pathname.  This is taken
                        to be indicative of a looping symbolic link.

     [ENAMETOOLONG]     A component of a pathname exceeded {NAME_MAX} characters, or an entire path name
                        exceeded {PATH_MAX} characters.

     [ENOENT]           The new process file does not exist.

     [ENOEXEC]          The new process file has the appropriate access permission, but has an unrecognized
                        format (e.g., an invalid magic number in its header).

     [ENOMEM]           The new process requires more virtual memory than is allowed by the imposed maximum
                        <a href="getrlimit.2.html#//apple_ref/doc/man/2/getrlimit">(getrlimit(2)</a>).

     [ENOTDIR]          A component of the path prefix is not a directory.

     [ETXTBSY]          The new process file is a pure procedure (shared text) file that is currently open
                        for writing or reading by some process.

<b>CAVEAT</b>
     If a program is <u>setuid</u> to a non-super-user, but is executed when the real <u>uid</u> is ``root'', then the
     program has some of the powers of a super-user as well.

<b>SEE</b> <b>ALSO</b>
     <!-- a -->exit(2)<!-- /a -->, <a href="fork.2.html#//apple_ref/doc/man/2/fork">fork(2)</a>, <a href="../man3/execl.3.html#//apple_ref/doc/man/3/execl">execl(3)</a>, <a href="../man3/sysctl.3.html#//apple_ref/doc/man/3/sysctl">sysctl(3)</a>, <a href="../man7/environ.7.html#//apple_ref/doc/man/7/environ">environ(7)</a>

<b>HISTORY</b>
     The <b>execve</b>() function call appeared in 4.2BSD.

4th Berkeley Distribution      January 24, 1994      4th Berkeley Distribution
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/execve.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/execve.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/execve.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
