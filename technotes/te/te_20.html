<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note TE20: The Appearance of Text</title>                                       <meta name="categories" content="Text"><meta name="week-posted" content="Oct 27, 1986 - Nov 7, 1986"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002828" title="The Appearance of Text"></a><a name="top"></A><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxTextFonts-date.html">Text & Fonts</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/TextFonts/index.html" target="_blank">Reference Library > Text & Fonts</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TE20</div>
<div id="pageheadsub">The Appearance of Text</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->										<p id="menutext"><A HREF="#Section1">Introduction</A><BR><BR><A HREF="#Section2">Fonts</A><BR><BR><A HREF="#Section3">The Printer Driver</A><BR><BR><A HREF="#Section4">Operating System and ROMs</A><BR><BR><A HREF="#References">References</A><BR><BR><A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext">This technical note describes why text doesn't always look the way you expectdepending on the environment you are in.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Mar 01 1988]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR>          <!-- begin_content --><a name=Section1></A><h2>Introduction</h2><P>There are a number of Macintosh text editing applications where layout iscritical.  Unfortunately, text on a newer machine sometimes prints differentlythan text on a 64K ROM Macintosh. Let's examine some differences you shouldexpect and why.</p><p>The differences we will consider here are only differences in the layout oftext lines (line layout), not differences in the appearance of fonts or thedifferences between different printers. Differences in line layout may affectthe position of line, paragraph and page breaks. The four variables that canaffect line layout are fonts, the printer driver, the font manager mode, andROMs.</p><P><A HREF="#top">Back to top</A></p><a name="Section2"></a><h2>Fonts</h2><p>Every font on a Macintosh contains its own table of widths which tellsQuickDraw how wide characters are on the screen. For every style point sizethere is a separate table which may contain widths that vary from face to faceand from point size to point size. Character widths can vary between pointsizes of characters even in the same face. In other words, fonts on the screenare not necessarily linearly scalable.</p><p>Non-linearity is not normally a problem since most fonts are designed to be asclose to linear as possible. A font face in 6 point has very nearly the samescaled widths of the same font face in 24 point (plus or minus round-off ortruncation differences). QuickDraw, however, requires only one face of anyparticular font to be in the System file to use it in any point size. If only a10 point face actually exists, QuickDraw may scale that face to 9, 18, 24 (orwhatever point size) by performing a linear scale of the 10 point face.</p><p>This can cause problems. Suppose a document is created on one Macintoshcontaining a font that only exists in that System file in one point size, say 9point. The document is then taken to another Macintosh with a System filecontaining that same font but only in 24 point. The document may, in fact,appear differently on the two screens, and when it is printed, will have linebreaks (and thus paragraph and page breaks) occurring in different placessimply because of the differences in character widths that exist between the 9point and 24 point faces.</p><P><A HREF="#top">Back to top</A></p><a name="Section3"></a><h2>The Printer Driver</h2><p>Even when the printer you are using has a much higher resolution than what thescreen can show, printer drivers perform line layout to match the screen layoutas closely as possible.</p><p>The line layout performed by printer drivers is limited to single lines of textand does not change line break positions within multiple lines. The driversupplies metric information to the application about the page size andprintable area to allow the application to determine the best place to makeline and page breaks.</p><p>Printer driver line layout does affect word spacing, character spacing and evenword positioning within a line. This may affect the overall appearance of text,particularly when font substitutions are made or various forms of page or textscaling are involved. But print drivers NEVER change line, paragraph or pagebreak positions from what the application or screen specified. This means thatwhere line breaks appear on the screen, they will always appear in the sameplace on the printer regardless of how the line layout may affect theappearance within the line.</p><P><A HREF="#top">Back to top</A></p><a name="Section4"></a><h2>Operating System and ROMs</h2><p>In this context, operating system refers to the ROM trap routines which handlefonts and QuickDraw. Changes have occurred between the ROMs in the handling offonts. Fonts in the 64K ROMs contain width tables (as described above) whichare limited to integer values. Several new tables, however, have been added tofonts for the newer ROMs. The newer ROMs add an optional global width tablecontaining fractional or fixed point decimal values. In addition, there isanother optional table containing fractional values which can be scaled for theentire range of point sizes for any one face. There is also an optional tablewhich provides for the addition (or removal) of width to a font when its styleis changed to another value such as bold, outline or condensed. It is alsopossible, under the 128K ROMs, to add fonts to the system with inherent styleproperties containing their own width tables that produce different characterwidths from derived style widths.</p><p>One or all of the above tables may or may not be invoked depending on, first,their presence, and second, the mode of the operating system. The Font Managerin the newer ROMs allows the application to arbitrarily operate in either thefractional mode or integer mode (determined, in most cases, by the setting of<code>FractEnable</code>) as it chooses, with the default being integer. There isone case where fractional widths will be used if they exist even thoughfractional mode is disabled. When <code>FScaleDisable</code> is used fractionalwidths are always used if they exist regardless of the setting of<code>FractEnable</code>.</p><p>Differences in line layout (and thus line breaks) may be affected by anycombination of the presence or absence of the optional tables, and theoperating mode, either fractional or integer, of the application. Any of thecombinations can produce different results from the original ROMs (and fromeach other).</p><p>The integer mode on the newer ROMs is very similar to, but not exactly the sameas, the original 64K ROMs. When fonts with the optional tables present are usedon Macintoshes with 64K ROMs, they continue to work in the old way with theinteger widths. However, on newer ROMs, even in the integer mode, there may bevariations in line width from what is seen on the old ROMs. In the plain textstyle there is very little if any difference (except if the global width tableis present), but as various type styles are selected, line widths may vary morebetween ROMs.</p><p>Variations in the above options, by far, account for the greatest variation inthe appearance of lines when a document is transported between one Macintoshand another. Line breaks may change position when documents created on onesystem (say a Macintosh) are moved to another system (like a Macintosh Plus).Variations are more pronounced as the number and sizes of various type stylesincrease within a document.</p><p>In all cases, however, a printer driver will produce exactly the same linebreaks as appear on the screen with any given system combination.</p><P><A HREF="#top">Back to top</A></p><a name = "References"></a><h2>References</h2><P>The Printing Manager</p><P>The Font Manager</p><P><A HREF = "../pr/pr_04.html">M.PR.LaserWriterOpt</a></p>         <a name="Downloads"></a>       <P><A HREF="#top">Back to top</A></p><h2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (44K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/te_20.pdf">Download</A></P>               </TD>            </TR>                    </TABLE>         <BR></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/te/te_20.html%3Fid%3DDTS10002828-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/te/te_20.html%3Fid%3DDTS10002828-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/te/te_20.html%3Fid%3DDTS10002828-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>