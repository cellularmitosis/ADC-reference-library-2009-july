<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Date, Time, and Measurement Utilities Reference: Deprecated Date, Time, and Measurement Utilities  Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Deprecated Date, Time, and Measurement Utilities  Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000080-AppendixA" title="Deprecated Date, Time, and Measurement Utilities  Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Internationalization/index.html#//apple_ref/doc/uid/TP30001281-TP30001073" target="_top">Internationalization</a> &gt; <a href="../../../../../reference/Internationalization/idxCarbon-date.html#//apple_ref/doc/uid/TP30001281-TP30001073-TP30000494" target="_top">Carbon</a> &gt; <a href="../index.html" target="_top">Date, Time, and Measurement Utilities Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../appendixa/appendixa.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <h1>Deprecated Date, Time, and Measurement Utilities  Functions</h1><p>A function identified as deprecated has been superseded and may become unsupported in the future.</p><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_80" title="Deprecated in Mac OS X v10.3"></a><h2>Deprecated in Mac OS X v10.3</h2><a name="//apple_ref/c/func/DateString" title="DateString"></a><a name="//apple_ref/doc/c_ref/DateString" title="DateString"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F08739" title="DateString"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_10"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_10"></a><h3 class="tight">DateString</h3><p class="spaceabove">Converts a date in the standard date-time representation into a Pascal string, making use of the date formatting information in the specified resource.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/func/CFDateFormatterCreateStringWithDate" target="_top">CFDateFormatterCreateStringWithDate</a></code> instead.)</p><p class="spaceabove"><pre>
void DateString (
   SInt32 dateTime,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/DateForm">DateForm</a> longFlag,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> result,
   <!--a-->Handle<!--/a--> intlHandle
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>dateTime</em></dt><dd><p>The date-time value in the representation returned by the <code>GetDateTime</code> function. The numeric representation used in these functions is the standard date-time representation: a 32-bit integer value that is returned by the <code>GetDateTime</code> function. This is a long integer value that represents the number of seconds between midnight, January 1, 1904, and the time at which <code>GetDateTime</code> was called.</p></dd><dt><em>longFlag</em></dt><dd><p>A flag that indicates the desired format for the date string. This is one of the three values defined as the <code>DateForm</code> type.</p><p>The string produced by <code>DateString</code> is in one of three standard date formats used on the Macintosh, depending on which of the three <code>DateForm</code> values that you specify for the <code>longFlag</code> parameter: <code>shortDate</code>, <code>abbrevDate</code>, or <code>longDate</code>. The information in the supplied resource defines how month and day names are written and provides for calendars with more than 7 days and more than 12 months.</p><p>For the Roman script system’s resource, the date January 31, 1992, produces the following three strings: “1/31/92“, “Fri, Jan 31, 1992“, and “Friday, January 31, 1992“(for <code>DateForm</code> values <code>shortDate</code>, <code>abbrevDate</code>, and <code>longDate</code>, respectively).</p></dd><dt><em>result</em></dt><dd><p>On output, contains the string representation of the date in the format indicated by the <code>longFlag</code> parameter. </p></dd><dt><em>intlHandle</em></dt><dd><p>A handle to a numeric-format or a long-date-format resource that specifies date formatting information for use in the conversion. If you specify <code>NULL</code> as the value of the resource handle parameter, <code>DateString</code> uses information from the current script. The numeric-format (<code>'itl0'</code>) resource specifies the short date formats and the long-date-format (<code>'itl1'</code>) resource specifies the long date formats.</p><p><code>DateString</code> formats its data according to the information in the specified numeric-format resource (for short date formats) or long-date-format resource (for long date formats). If you specify <code>shortDate</code>, the <code>intlHandle</code> value should be the handle to a numeric-format resource; if you specify <code>abbrevDate</code> or <code>longDate</code>, it should be the handle to a long-date-format resource.</p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/DateToSeconds" title="DateToSeconds"></a><a name="//apple_ref/doc/c_ref/DateToSeconds" title="DateToSeconds"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F00988" title="DateToSeconds"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_11"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_11"></a><h3 class="tight">DateToSeconds</h3><p class="spaceabove">Converts a date and time to a number of seconds elapsed since midnight, January 1, 1904.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type and the functions that operate on it instead.)</p><p class="spaceabove"><pre>
void DateToSeconds (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/DateTimeRec">DateTimeRec</a> *d,
   unsigned long *secs
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>d</em></dt><dd><p>The date-time structure containing the date and time to convert. </p></dd><dt><em>secs</em></dt><dd><p>On return, the number of seconds elapsed between midnight, January 1, 1904, and the time specified in the <code>d</code> parameter. For example, specifying a date and time of 11:33 A.M. on January 1, 1904 results in 41580 being returned in this parameter. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>For information on using the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type, see <em><a href="../../../../CoreFoundation/Conceptual/CFDataFormatting/index.html#//apple_ref/doc/uid/10000176i" target="_top">Data Formatting Guide for Core Foundation</a></em> and <em><a href="../../../../CoreFoundation/Reference/CFCalendarRef/index.html#//apple_ref/doc/uid/TP40001434" target="_top">CFCalendar Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/GetDateTime" title="GetDateTime"></a><a name="//apple_ref/doc/c_ref/GetDateTime" title="GetDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F01713" title="GetDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_12"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_12"></a><h3 class="tight">GetDateTime</h3><p class="spaceabove">Obtains the current date-time information, expressed as the number of seconds elapsed since midnight, January 1, 1904.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFTimeUtils/Reference/reference.html#//apple_ref/c/func/CFAbsoluteTimeGetCurrent" target="_top">CFAbsoluteTimeGetCurrent</a></code> instead.)</p><p class="spaceabove"><pre>
void GetDateTime (
   unsigned long *secs
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>secs</em></dt><dd><p>On return, the number of seconds elapsed since midnight, January 1, 1904. </p></dd></dl><h5 class="tight">Discussion</h5><p>The low-memory copy of the date and time information is also accessible through the global variable <code>Time</code>.</p><p>If an application disables interrupts for longer than a second, the date-time information returned by the <code>GetDateTime</code> function might not be exact. The <code>GetDateTime</code> function is intended to provide fairly accurate time information, but not scientifically precise data. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/InitDateCache" title="InitDateCache"></a><a name="//apple_ref/doc/c_ref/InitDateCache" title="InitDateCache"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F02994" title="InitDateCache"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_16"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_16"></a><h3 class="tight">InitDateCache</h3><p class="spaceabove">Initializes the date cache structure, which is used to store data for use by the <code>StringToDate</code> and <code>StringToTime</code> functions.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;There is no replacement.)</p><p class="spaceabove"><pre>
OSErr InitDateCache (
   <!--a-->DateCachePtr<!--/a--> theCache
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>theCache</em></dt><dd><p>A pointer to a date cache structure. This parameter can be a local variable, a pointer, or a locked handle. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>You must call <code>InitDateCache</code> to initialize the date cache structure before using either the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/StringToDate">StringToDate</a></code> or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/StringToTime">StringToTime</a></code> functions. You must pass a pointer to a date cache structure. You have to declare the structure as a variable or allocate it in the heap. </p><p>If you are writing an application that allows the use of global variables, you can make your date cache structure a global variable and initialize it once, when you perform other global initialization.</p><p><code>InitDateCache</code> calls the <code>GetResource</code> and <code>LoadResource</code> functions and it can also return the error codes they produce. </p><h5 class="tight">Special Considerations</h5><p>You no longer need to initialize the data cache in Mac OS X.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/LongDateString" title="LongDateString"></a><a name="//apple_ref/doc/c_ref/LongDateString" title="LongDateString"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F08741" title="LongDateString"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_17"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_17"></a><h3 class="tight">LongDateString</h3><p class="spaceabove">Converts a date that is specified as a <code>LongDateTime</code> value into a Pascal string, making use of the date formatting information in the specified resource.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/func/CFDateFormatterCreateStringWithDate" target="_top">CFDateFormatterCreateStringWithDate</a></code> instead.)</p><p class="spaceabove"><pre>
void LongDateString (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateTime">LongDateTime</a> *dateTime,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/DateForm">DateForm</a> longFlag,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> result,
   <!--a-->Handle<!--/a--> intlHandle
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>dateTime</em></dt><dd><p>A pointer to a 64-bit, signed representation of the number of seconds since Jan. 1, 1904. This allows coverage of a much longer span of time (plus or minus approximately 30,000 years) than the standard, 32-bit representation. </p></dd><dt><em>longFlag</em></dt><dd><p>A flag that indicates the desired format for the date string. This is one of the three values defined as the <code>DateForm</code> type.</p><p>The string produced by <code>LongDateString</code> is in one of three standard date formats used on the Macintosh, depending on which of the three <code>DateForm</code> values that you specify for the <code>longFlag</code> parameter: <code>shortDate</code>, <code>abbrevDate</code>, or <code>longDate</code>. The information in the supplied resource defines how month and day names are written and provides for calendars with more than 7 days and more than 12 months.</p><p>For the U.S. resource, the date January 31, 1992, produces the following three strings: “1/31/92“, “Fri, Jan 31, 1992“, and “Friday, January 31, 1992“(for <code>DateForm</code> values <code>shortDate</code>, <code>abbrevDate</code>, and <code>longDate</code>, respectively).</p></dd><dt><em>result</em></dt><dd><p>On output, contains the string representation of the date in the format indicated by the <code>longFlag</code> parameter. </p></dd><dt><em>intlHandle</em></dt><dd><p>A handle to a numeric-format or long-date-format resource that specifies date formatting information for use in the conversion. If you specify <code>NULL</code> as the value of the resource handle parameter, <code>LongDateString</code> uses information from the current script. The numeric-format (<code>'itl0'</code>) resource specifies the short date formats and the long-date-format (<code>'itl1'</code>) resource specifies the long date formats.</p><p>If you specify <code>shortDate</code> in the <code>longFlag</code> parameter, the <code>intlHandle</code> value should be the handle to a numeric-format resource; if you specify <code>abbrevDate</code> or <code>longDate</code>, it should be the handle to a long-date-format resource.</p></dd></dl><h5 class="tight">Discussion</h5><p>You can use the <code>LongSecondsToDate</code> and <code>LongDateToSeconds</code> functions to convert between the <code>LongDateRec </code>  (as produced by the <code>StringToDate</code> function) and <code>LongDateTime</code> data types. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/LongDateToSeconds" title="LongDateToSeconds"></a><a name="//apple_ref/doc/c_ref/LongDateToSeconds" title="LongDateToSeconds"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F03715" title="LongDateToSeconds"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_18"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_18"></a><h3 class="tight">LongDateToSeconds</h3><p class="spaceabove">Converts a date and time to the number of seconds elapsed since midnight, January 1, 1904.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type and the functions that operate on it instead.)</p><p class="spaceabove"><pre>
void LongDateToSeconds (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateRec">LongDateRec</a> *lDate,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateTime">LongDateTime</a> *lSecs
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>lDate</em></dt><dd><p>The long date-time structure containing the date and time to convert. </p></dd><dt><em>lSecs</em></dt><dd><p>On return, the number of seconds elapsed since midnight, January 1, 1904, and the time specified in the <code>lDate</code> parameter. The number of seconds are returned as a long date-time value. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>For information on using the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type, see <em><a href="../../../../CoreFoundation/Conceptual/CFDataFormatting/index.html#//apple_ref/doc/uid/10000176i" target="_top">Data Formatting Guide for Core Foundation</a></em> and <em><a href="../../../../CoreFoundation/Reference/CFCalendarRef/index.html#//apple_ref/doc/uid/TP40001434" target="_top">CFCalendar Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/LongSecondsToDate" title="LongSecondsToDate"></a><a name="//apple_ref/doc/c_ref/LongSecondsToDate" title="LongSecondsToDate"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F03719" title="LongSecondsToDate"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_19"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_19"></a><h3 class="tight">LongSecondsToDate</h3><p class="spaceabove">Converts the number of seconds elapsed since midnight, January 1, 1904 to a date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type and the functions that operate on it instead.)</p><p class="spaceabove"><pre>
void LongSecondsToDate (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateTime">LongDateTime</a> *lSecs,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateRec">LongDateRec</a> *lDate
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>lSecs</em></dt><dd><p>The number of seconds elapsed since midnight, January 1, 1904. </p></dd><dt><em>lDate</em></dt><dd><p>On return, the fields of the long date-time structure that contain the date and time corresponding to the value indicated in the <code>lSecs</code> parameter. For example, specifying the number of seconds 41580 results in the date and time 11:33 A.M. on January 1, 1904 being returned in this parameter. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>For information on using the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type, see <em><a href="../../../../CoreFoundation/Conceptual/CFDataFormatting/index.html#//apple_ref/doc/uid/10000176i" target="_top">Data Formatting Guide for Core Foundation</a></em> and <em><a href="../../../../CoreFoundation/Reference/CFCalendarRef/index.html#//apple_ref/doc/uid/TP40001434" target="_top">CFCalendar Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/LongTimeString" title="LongTimeString"></a><a name="//apple_ref/doc/c_ref/LongTimeString" title="LongTimeString"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F08742" title="LongTimeString"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_20"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_20"></a><h3 class="tight">LongTimeString</h3><p class="spaceabove">Converts a time that is specified as a <code>LongDateTime</code> value into a Pascal string, making use of the time formatting information in the specified resource.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/func/CFDateFormatterCreateStringWithDate" target="_top">CFDateFormatterCreateStringWithDate</a></code> instead.)</p><p class="spaceabove"><pre>
void LongTimeString (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateTime">LongDateTime</a> *dateTime,
   <!--a-->Boolean<!--/a--> wantSeconds,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> result,
   <!--a-->Handle<!--/a--> intlHandle
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>dateTime</em></dt><dd><p>A pointer to a 64-bit, signed representation of the number of seconds since Jan. 1, 1904. This allows coverage of a much longer span of time (plus or minus approximately 30,000 years) than the standard, 32-bit representation. </p></dd><dt><em>wantSeconds</em></dt><dd><p>A flag that indicates whether the seconds are to be included in the resulting string. <code>LongTimeString</code> produces a string that includes the seconds if you set this parameter to <code>TRUE</code>.</p></dd><dt><em>result</em></dt><dd><p>On output, contains the string representation of the time.</p></dd><dt><em>intlHandle</em></dt><dd><p>A handle to a numeric-format (<code>'itl0'</code>) resource that specifies time formatting information for use in the conversion. If you specify <code>NULL</code> as the value of the resource handle parameter, <code>LongTimeString</code> uses information from the current script.</p><p>The numeric-format resource specifies whether or not to use leading zeros for the time values, whether to use a 12- or 24-hour time cycle, and how to specify morning or evening if a 12-hour time cycle is used.</p></dd></dl><h5 class="tight">Discussion</h5><p>You can use the <code>LongSecondsToDate</code> and <code>LongDateToSeconds</code> functions to convert between the <code>LongDateRec </code>  (as produced by the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/StringToTime">StringToTime</a></code> function) and <code>LongDateTime</code> data types. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/ReadDateTime" title="ReadDateTime"></a><a name="//apple_ref/doc/c_ref/ReadDateTime" title="ReadDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F06440" title="ReadDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_21"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_21"></a><h3 class="tight">ReadDateTime</h3><p class="spaceabove">Reads time information from the system.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFTimeUtils/Reference/reference.html#//apple_ref/c/func/CFAbsoluteTimeGetCurrent" target="_top">CFAbsoluteTimeGetCurrent</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr ReadDateTime (
   unsigned long *time
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>time</em></dt><dd><p>On return, the current time expressed as the number of seconds elapsed since midnight, January 1, 1904. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span> If the clock chip cannot be read, <code>ReadDateTime</code> returns the <code>clkRdErr</code> result code. The operation might fail if the clock chip is damaged. Otherwise, the function returns the <code>noErr</code> result code.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/SecondsToDate" title="SecondsToDate"></a><a name="//apple_ref/doc/c_ref/SecondsToDate" title="SecondsToDate"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F06719" title="SecondsToDate"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_22"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_22"></a><h3 class="tight">SecondsToDate</h3><p class="spaceabove">Converts a number of seconds elapsed since midnight, January 1, 1904 to a date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type and the functions that operate on it instead.)</p><p class="spaceabove"><pre>
void SecondsToDate (
   unsigned long secs,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/DateTimeRec">DateTimeRec</a> *d
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>secs</em></dt><dd><p>The number of seconds elapsed since midnight, January 1, 1904. </p></dd><dt><em>d</em></dt><dd><p>On return, the fields of the date-time structure that contain the date and time corresponding to the value indicated in the <code>s</code> parameter. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>For information on using the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type, see <em><a href="../../../../CoreFoundation/Conceptual/CFDataFormatting/index.html#//apple_ref/doc/uid/10000176i" target="_top">Data Formatting Guide for Core Foundation</a></em> and <em><a href="../../../../CoreFoundation/Reference/CFCalendarRef/index.html#//apple_ref/doc/uid/TP40001434" target="_top">CFCalendar Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/SetDateTime" title="SetDateTime"></a><a name="//apple_ref/doc/c_ref/SetDateTime" title="SetDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F06793" title="SetDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_23"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_23"></a><h3 class="tight">SetDateTime</h3><p class="spaceabove">Changes the date-time information stored by the system to the specified value, expressed as the number of seconds elapsed since midnight, January 1, 1904. &#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;There is no replacement.)</p><p class="spaceabove"><pre>
OSErr SetDateTime (
   unsigned long time
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>time</em></dt><dd><p>The number of seconds elapsed since midnight, January 1, 1904; this value is written to the system. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span> The <code>SetDateTime</code> function attempts to verify the value written by reading it back in and comparing it to the value in the low-memory copy. If a problem occurs, the <code>SetDateTime</code> function returns either the <code>clkRdErr</code> result code, because the clock chip could not be read, or the <code>clkWrErr</code> result code, because the time written to the clock chip could not be verified. Otherwise, the function returns the <code>noErr</code> result code.</p><h5 class="tight">Special Considerations</h5><p>Only the root user can set the time in Mac OS X.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/SetTime" title="SetTime"></a><a name="//apple_ref/doc/c_ref/SetTime" title="SetTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F07005" title="SetTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_25"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_25"></a><h3 class="tight">SetTime</h3><p class="spaceabove">Changes the date-time information in the system to the specified value, expressed as a date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;There is no replacement.)</p><p class="spaceabove"><pre>
void SetTime (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/DateTimeRec">DateTimeRec</a> *d
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>d</em></dt><dd><p>The date and time to which to set in the system. </p></dd></dl><h5 class="tight">Discussion</h5><p>The <code>SetTime</code> function first converts the date and time to the number of seconds elapsed since midnight, January 1, 1904 by calling the <code>DateToSeconds</code> function. It then writes these seconds to the system and to the system global variable <code>Time</code> by calling the <code>SetDateTime</code> function. </p><p>The <code>SetTime</code> function does not return a result code. If you need to know whether an attempt to change the date and time information in the system is successful, you must use the <code>SetDateTime</code> function.</p><p>As an alternative to using the <code>SetTime</code> procedure, you can use the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/DateToSeconds">DateToSeconds</a></code> and <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetDateTime">SetDateTime</a></code> functions.</p><h5 class="tight">Special Considerations</h5><p>Only the root user can set the time in Mac OS X.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/StringToDate" title="StringToDate"></a><a name="//apple_ref/doc/c_ref/StringToDate" title="StringToDate"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F07595" title="StringToDate"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_27"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_27"></a><h3 class="tight">StringToDate</h3><p class="spaceabove">Parses a string for a date and converts the date information into values in a date-time structure.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/func/CFDateFormatterCreateDateFromString" target="_top">CFDateFormatterCreateDateFromString</a></code> instead.)</p><p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/StringToDateStatus">StringToDateStatus</a> StringToDate (
   <!--a-->Ptr<!--/a--> textPtr,
   SInt32 textLen,
   <!--a-->DateCachePtr<!--/a--> theCache,
   SInt32 *lengthUsed,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateRec">LongDateRec</a> *dateTime
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>textPtr</em></dt><dd><p>A pointer to the text string to be parsed. <code>StringToDate</code> expects a date specification, in a format defined by the current script, at the beginning of the string. </p></dd><dt><em>textLen</em></dt><dd><p>The number of bytes in the text string. </p></dd><dt><em>theCache</em></dt><dd><p>A pointer to the date cache structure initialized by the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/InitDateCache">InitDateCache</a></code> function with data that is used during the conversion process. </p></dd><dt><em>lengthUsed</em></dt><dd><p>On output, contains a pointer to the number of bytes of the string that were parsed for the date. Use this value to compute the starting location of the text that you can pass to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/StringToTime">StringToTime</a></code>. Alternatively, you can use them in reverse order.</p></dd><dt><em>dateTime</em></dt><dd><p>On output, a pointer to the <code>LongDateRec</code> structure, which contains the year, month, day, and day of the week parsed for the date. </p></dd></dl><h5 class="tight">Return Value</h5><p>A set of bit values that indicate confidence levels, with higher numbers indicating low confidence in how closely the input string matched what the function expected. For example, specifying a date with nonstandard separators may work, but it returns a message indicating that the separator was not standard. See the description of the <code>StringToDateStatus</code> data type.</p><h5 class="tight">Discussion</h5><p><code>StringToDate</code> parses the text string until it has finished finding all date information or until it has examined the number of bytes specified by <code>textLen</code>. </p><p>Note that <code>StringToDate</code> fills in only the year, month, day, and day of the week; <code>StringToTime</code> fills in the hour, minute, and second. You can use these two functions sequentially to fill in all of the values in a <code>LongDateRec</code> structure.</p><p>When one of the date components is missing, such as the year, the current date value is used as a default.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/StringToTime" title="StringToTime"></a><a name="//apple_ref/doc/c_ref/StringToTime" title="StringToTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F07599" title="StringToTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_28"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_28"></a><h3 class="tight">StringToTime</h3><p class="spaceabove">Parses a string for a time specification and converts the date information into values in a date-time structure.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/func/CFDateFormatterCreateDateFromString" target="_top">CFDateFormatterCreateDateFromString</a></code> instead.)</p><p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/StringToDateStatus">StringToDateStatus</a> StringToTime (
   <!--a-->Ptr<!--/a--> textPtr,
   SInt32 textLen,
   <!--a-->DateCachePtr<!--/a--> theCache,
   SInt32 *lengthUsed,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateRec">LongDateRec</a> *dateTime
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>textPtr</em></dt><dd><p>A pointer to the text string to be parsed. At the beginning of the string, <code>StringToTime</code> expects a time specification in a format defined by the current script. </p></dd><dt><em>textLen</em></dt><dd><p>The number of bytes in the text string. </p></dd><dt><em>theCache</em></dt><dd><p>A pointer to the date cache structure initialized by the <code>InitDateCache</code> function with data that is used during the conversion process. </p></dd><dt><em>lengthUsed</em></dt><dd><p>On output, contains a pointer to the length, in bytes, of the string that was parsed for the time.</p></dd><dt><em>dateTime</em></dt><dd><p>On output, a pointer to the <code>LongDateRec</code> structure, which contains the hour, minute, and second values that were parsed for the time. </p></dd></dl><h5 class="tight">Return Value</h5><p><code>StringToTime</code> returns a status value that indicates the confidence level for the success of the conversion. This is the same status value indicator type as does <code>StringToDate</code>: a set of bit values that indicate confidence levels, with higher numbers indicating low confidence in how closely the input string matched what the function expected. See the description of the <code>StringToDateStatus</code> data type.</p><h5 class="tight">Discussion</h5><p><code>StringToTime</code> parses the string until it has finished finding all time information or until it has examined the number of bytes specified by <code>textLen</code>.</p><p>Note that <code>StringToTime</code> fills in only the hour, minute, and second; <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/StringToDate">StringToDate</a></code> fills in the year, month, day, and day of the week. You can use these two functions sequentially to fill in all of the values in a <code>LongDateRec</code> structure. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/TimeString" title="TimeString"></a><a name="//apple_ref/doc/c_ref/TimeString" title="TimeString"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F08740" title="TimeString"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_29"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_29"></a><h3 class="tight">TimeString</h3><p class="spaceabove">Converts a time in the standard date-time representation into a string, making use of the time formatting information in the specified resource.&#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/func/CFDateFormatterCreateStringWithDate" target="_top">CFDateFormatterCreateStringWithDate</a></code> instead.)</p><p class="spaceabove"><pre>
void TimeString (
   SInt32 dateTime,
   <!--a-->Boolean<!--/a--> wantSeconds,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> result,
   <!--a-->Handle<!--/a--> intlHandle
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>dateTime</em></dt><dd><p>The date-time value in the representation returned by the Operating System function <code>GetDateTime</code>. The numeric representation used in these functions is the standard date-time representation: a 32-bit integer value that is returned by the <code>GetDateTime</code> function. This is a long integer value that represents the number of seconds between midnight, January 1, 1904, and the time at which <code>GetDateTime</code> was called. </p></dd><dt><em>wantSeconds</em></dt><dd><p>A flag that indicates whether the seconds are to be included in the resulting string. </p></dd><dt><em>result</em></dt><dd><p>On output, contains the string representation of the time. </p></dd><dt><em>intlHandle</em></dt><dd><p>A handle to a numeric-format (<code>'itl0'</code>) resource that specifies time formatting information for use in the conversion. If you specify <code>NULL</code> as the value of the resource handle parameter, <code>TimeString</code> uses information from the current script.</p><p>The numeric-format resource specifies whether or not to use leading zeros for the time values, whether to use a 12- or 24-hour time cycle, and how to specify morning or evening if a 12-hour time cycle is used.</p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/ToggleDate" title="ToggleDate"></a><a name="//apple_ref/doc/c_ref/ToggleDate" title="ToggleDate"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F07932" title="ToggleDate"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_30"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_30"></a><h3 class="tight">ToggleDate</h3><p class="spaceabove">Modifies a date and time, by modifying one specific component of a date and time (day, hour, minute, seconds, day of week, and so on). &#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type and the functions that operate on it instead.)</p><p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/ToggleResults">ToggleResults</a> ToggleDate (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateTime">LongDateTime</a> *lSecs,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateField">LongDateField</a> field,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/DateDelta">DateDelta</a> delta,
   short ch,
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/TogglePB">TogglePB</a> *params
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>lSecs</em></dt><dd><p>The date-time information to modify, expressed as the number of seconds elapsed since midnight, January 1, 1904. </p></dd><dt><em>field</em></dt><dd><p>The name of the field in the date-time structure you want modify. Use one of the <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Long_Date_Mask_Constants">Long Date Mask Constants</a></span> for the value of this parameter. </p></dd><dt><em>delta</em></dt><dd><p>A signed byte specifying the action you want to perform on the value specified in the <code>field</code> parameter. Set <code>delta</code> to 1, to increase the value in the field by 1. Set <code>delta</code> to -1, to decrease the value of the field by 1. Set <code>delta</code> to 0. If you want to set the value of the field explicitly; pass the new value through the <code>ch</code> field. </p></dd><dt><em>ch</em></dt><dd><p>If the value in the <code>delta</code> field is 0, the value of the field in the date-time structure (specified by the <code>field</code> parameter) is set to the value in the <code>ch</code> parameter. If the value in the <code>delta</code> field is not equal to 0, the value in the <code>ch</code> parameter is ignored. </p></dd><dt><em>params</em></dt><dd><p>The user-defined settings of the toggle parameter block settings. </p></dd></dl><h5 class="tight">Return Value</h5><p>See the description of the <code>ToggleResults</code> data type.</p><h5 class="tight">Discussion</h5><p>The relevant fields of the toggle parameter block are:</p><ul class="ul"><li class="li"><p><code>togFlags </code>A value of type <code>SInt32</code>. On input, the fields to be checked by the <code>ValidDate</code> function. </p></li><li class="li"><p><code>amChars </code>A value of type <code>ResType</code>. On input, A.M. characters from <code>'itl0'</code> resource. </p></li><li class="li"><p><code>pmChars </code>A value of type <code>ResType</code>. On input, P.M. characters from <code>'itl0'</code> resource. </p></li><li class="li"><p><code>reserved </code>An array of <code>SInt32</code> values. Reserved; on input, set each element to 0. </p></li></ul><p>You must supply values for all input parameters.</p><p>The <code>ToggleDate</code> function first converts the number of seconds and makes each component of the date and time available through a long date-time structure. The <code>ToggleDate</code> function then modifies the value of the field, specified by the <code>field</code> parameter. If the value in the <code>delta</code> field is greater than 0, the value of the field increases by 1; if the value in the <code>delta</code> field is less than 0, the value of the field decreases by 1; and if the value of <code>delta</code> is 0, the value of the field is explicitly set to the value specified in the <code>ch</code> field. After the <code>ToggleDate</code> function modifies the field, it calls the <code>ValidDate</code> function. The <code>ValidDate</code> function checks the long date-time structure for correctness. If any of the structure fields are invalid, the <code>ValidDate</code> function returns a <code>LongDateField</code> value corresponding to the field in error. Otherwise, it returns the result code for <code>validDateFields</code>. Note that <code>ValidDate</code> reports only the least significant erroneous field.</p><p>After the <code>ToggleDate</code> function checks the validity of the modified field, it converts the modified date and time back into a number of seconds and returns these seconds in the <code>lSecs</code> parameter.</p><p>The <code>ToggleDate</code> function was previously available with the Script Manager.</p><p>For more information on the <code>LongDateRec</code> structure, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/LongDateRec">LongDateRec</a></code>. The toggle parameter block structure is described in <code><a href="../Reference/reference.html#//apple_ref/c/tdef/TogglePB">TogglePB</a></code>.</p><p>For more information about the <code>GetIntlResource</code> function, see the Script Manager. For details on the <code>UppercaseText</code> function, see Text Utilities. </p><h5 class="tight">Special Considerations</h5><p>For information on using the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type, see <em><a href="../../../../CoreFoundation/Conceptual/CFDataFormatting/index.html#//apple_ref/doc/uid/10000176i" target="_top">Data Formatting Guide for Core Foundation</a></em> and <em><a href="../../../../CoreFoundation/Reference/CFCalendarRef/index.html#//apple_ref/doc/uid/TP40001434" target="_top">CFCalendar Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/c/func/ValidDate" title="ValidDate"></a><a name="//apple_ref/doc/c_ref/ValidDate" title="ValidDate"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F08092" title="ValidDate"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_37"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_37"></a><h3 class="tight">ValidDate</h3><p class="spaceabove">Verifies specific date and time values in a long date-time structure. &#032;(<font color="red">Deprecated in Mac OS X v10.3.</font>&#032;Use the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type and the functions that operate on it instead.)</p><p class="spaceabove"><pre>
short ValidDate (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateRec">LongDateRec</a> *vDate,
   long flags,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LongDateTime">LongDateTime</a> *newSecs
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>vDate</em></dt><dd><p>The long date-time structure whose fields you want to verify. </p></dd><dt><em>flags</em></dt><dd><p>The fields that you want to verify in the long date-time structure. For a description of the values you can use in this parameter, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Long_Date_Mask_Constants">Long Date Mask Constants</a></span>. </p></dd><dt><em>newSecs</em></dt><dd><p>The date-time information, passed by the <code>ToggleDate</code> function, that you want to verify. </p></dd></dl><h5 class="tight">Return Value</h5><p>If any of the specified fields contain invalid values, the <code>ValidDate</code> function returns a <code>LongDateField</code> value indicating the field in error. Otherwise, it returns the constant <code>validDateFields</code>. <code>ValidDate</code> reports only the least significant erroneous field. </p><h5 class="tight">Discussion</h5><p>For more information on the <code>LongDateRec</code> structure, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/LongDateRec">LongDateRec</a></code>. The toggle parameter block structure is described in <code><a href="../Reference/reference.html#//apple_ref/c/tdef/TogglePB">TogglePB</a></code>. </p><h5 class="tight">Special Considerations</h5><p>For information on using the <code><a href="../../../../CoreFoundation/Reference/CFCalendarRef/Reference/reference.html#//apple_ref/c/tdef/CFCalendarRef" target="_top">CFCalendarRef</a></code> data type, see <em><a href="../../../../CoreFoundation/Conceptual/CFDataFormatting/index.html#//apple_ref/doc/uid/10000176i" target="_top">Data Formatting Guide for Core Foundation</a></em> and <em><a href="../../../../CoreFoundation/Reference/CFCalendarRef/index.html#//apple_ref/doc/uid/TP40001434" target="_top">CFCalendar Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>DateTimeUtils.h</code><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_81" title="Deprecated in Mac OS X v10.4"></a><h2>Deprecated in Mac OS X v10.4</h2><a name="//apple_ref/c/func/ConvertLocalTimeToUTC" title="ConvertLocalTimeToUTC"></a><a name="//apple_ref/doc/c_ref/ConvertLocalTimeToUTC" title="ConvertLocalTimeToUTC"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F11186" title="ConvertLocalTimeToUTC"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_6"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_6"></a><h3 class="tight">ConvertLocalTimeToUTC</h3><p class="spaceabove">Converts local time to UTC.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFTimeZoneRef/Reference/reference.html#//apple_ref/c/func/CFTimeZoneGetSecondsFromGMT" target="_top">CFTimeZoneGetSecondsFromGMT</a></code> instead.)</p><p class="spaceabove"><pre>
OSStatus ConvertLocalTimeToUTC (
   UInt32 localSeconds,
   UInt32 *utcSeconds
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>localSeconds</em></dt><dd><p>A value of type <code>UInt32</code> containing the local time.</p></dd><dt><em>utcSeconds</em></dt><dd><p>A pointer to a value of type <code>UInt32</code>. On return, this points to the UTC value corresponding to the given time in <code>localSeconds</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Given a local time in <code>localSeconds</code>, the function will place the corresponding UTC value in <code>utcSeconds</code>. This function returns <code>noErr</code> if the conversion is successful. Otherwise, it may return <code>kUTCUnderflowErr</code> or <code>kUTCOverflowErr</code>.</p><h5 class="tight">Special Considerations</h5><p>For information on using <code><a href="../../../../CoreFoundation/Reference/CFTimeZoneRef/Reference/reference.html#//apple_ref/c/func/CFTimeZoneGetSecondsFromGMT" target="_top">CFTimeZoneGetSecondsFromGMT</a></code>, see <em><a href="../../../../CoreFoundation/Conceptual/CFDatesAndTimes/index.html#//apple_ref/doc/uid/10000125i" target="_top">Dates and Times Programming Guide for Core Foundation</a></em> and<em><a href="../../../../CoreFoundation/Reference/CFTimeZoneRef/index.html#//apple_ref/doc/uid/20001201" target="_top">CFTimeZone Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>UTCUtils.h</code><a name="//apple_ref/c/func/ConvertLocalToUTCDateTime" title="ConvertLocalToUTCDateTime"></a><a name="//apple_ref/doc/c_ref/ConvertLocalToUTCDateTime" title="ConvertLocalToUTCDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F12881" title="ConvertLocalToUTCDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_7"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_7"></a><h3 class="tight">ConvertLocalToUTCDateTime</h3><p class="spaceabove">Converts local date and time to UTC date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFTimeZoneRef/Reference/reference.html#//apple_ref/c/func/CFTimeZoneGetSecondsFromGMT" target="_top">CFTimeZoneGetSecondsFromGMT</a></code> instead.)</p><p class="spaceabove"><pre>
OSStatus ConvertLocalToUTCDateTime (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LocalDateTime">LocalDateTime</a> *localDateTime,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/UTCDateTime">UTCDateTime</a> *utcDateTime
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>localDateTime</em></dt><dd><p>A value of type <code>LocalDateTime</code> containing the local date and time. </p></dd><dt><em>utcDateTime</em></dt><dd><p>A pointer to a value of type <code>UTCDateTime</code>. On return, this points to the UTC value corresponding to the given date and time in <code>localDateTime</code>. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Given a local date and time in the <code>localDateTime</code> parameter, this function places the corresponding UTC value in <code>utcDateTime</code>. This function returns <code>noErr</code> if the conversion is successful. Otherwise, it may return <code>kUTCUnderflowErr</code>, <code>kUTCOverflowErr</code>, or <code>paramErr</code> if <code>utcDateTime</code> is <code>NULL</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>UTCUtils.h</code><a name="//apple_ref/c/func/ConvertUTCToLocalDateTime" title="ConvertUTCToLocalDateTime"></a><a name="//apple_ref/doc/c_ref/ConvertUTCToLocalDateTime" title="ConvertUTCToLocalDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F12882" title="ConvertUTCToLocalDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_8"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_8"></a><h3 class="tight">ConvertUTCToLocalDateTime</h3><p class="spaceabove">Converts UTC date and time to local date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFTimeZoneRef/Reference/reference.html#//apple_ref/c/func/CFTimeZoneGetSecondsFromGMT" target="_top">CFTimeZoneGetSecondsFromGMT</a></code> instead.)</p><p class="spaceabove"><pre>
OSStatus ConvertUTCToLocalDateTime (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/UTCDateTime">UTCDateTime</a> *utcDateTime,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LocalDateTime">LocalDateTime</a> *localDateTime
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>utcDateTime</em></dt><dd><p>A value of type <code>UTCDateTime</code> specifying the UTC date and time. </p></dd><dt><em>localDateTime</em></dt><dd><p>A pointer to a value of type <code>LocalDateTime</code>. On return, this points to the local value corresponding to the given date and time in <code>utcDateTime</code>. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Given a UTC date and time in <code>utcDateTime</code>, this function places the corresponding local value in <code>localDateTime</code>. This function returns <code>noErr</code> if the conversion is successful. Otherwise, it may return <code>kUTCUnderflowErr</code>, <code>kUTCOverflowErr</code>, or <code>paramErr</code> if <code>localDateTime</code> is <code>NULL</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>UTCUtils.h</code><a name="//apple_ref/c/func/ConvertUTCToLocalTime" title="ConvertUTCToLocalTime"></a><a name="//apple_ref/doc/c_ref/ConvertUTCToLocalTime" title="ConvertUTCToLocalTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F11187" title="ConvertUTCToLocalTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_9"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_9"></a><h3 class="tight">ConvertUTCToLocalTime</h3><p class="spaceabove">Converts UTC time to local time.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFTimeZoneRef/Reference/reference.html#//apple_ref/c/func/CFTimeZoneGetSecondsFromGMT" target="_top">CFTimeZoneGetSecondsFromGMT</a></code> instead.)</p><p class="spaceabove"><pre>
OSStatus ConvertUTCToLocalTime (
   UInt32 utcSeconds,
   UInt32 *localSeconds
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>utcSeconds</em></dt><dd><p>A value of type <code>UInt32</code> specifying UTC time in seconds.</p></dd><dt><em>localSeconds</em></dt><dd><p>A pointer to a value of type <code>UInt32</code>. On return, this points to the local time corresponding to the UTC time specified in <code>utcSeconds</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Given a UTC time in <code>utcSeconds</code> this function places the corresponding local value in <code>localSeconds</code>. This function returns <code>noErr</code> if the conversion is successful. Otherwise, it may return <code>kUTCUnderflowErr</code> or <code>kUTCOverflowErr</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>UTCUtils.h</code><a name="//apple_ref/c/func/GetLocalDateTime" title="GetLocalDateTime"></a><a name="//apple_ref/doc/c_ref/GetLocalDateTime" title="GetLocalDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F13150" title="GetLocalDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_13"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_13"></a><h3 class="tight">GetLocalDateTime</h3><p class="spaceabove">Gets the local date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFTimeUtils/Reference/reference.html#//apple_ref/c/func/CFAbsoluteTimeGetCurrent" target="_top">CFAbsoluteTimeGetCurrent</a></code> and <code><a href="../../../../CoreFoundation/Reference/CFTimeZoneRef/Reference/reference.html#//apple_ref/c/func/CFTimeZoneGetSecondsFromGMT" target="_top">CFTimeZoneGetSecondsFromGMT</a></code> instead.)</p><p class="spaceabove"><pre>
OSStatus GetLocalDateTime (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LocalDateTime">LocalDateTime</a> *localDateTime,
   <a href="../../../../QuickTime/Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/doc/c_ref/OptionBits" target="_top">OptionBits</a> options
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>localDateTime</em></dt><dd><p>A pointer to a value of type <code>LocalDateTime</code>. On return, the value this parameter points to is the current local date and time. </p></dd><dt><em>options</em></dt><dd><p>A value of type <code>OptionBits</code>. Pass <code>kUTCDefaultOptions</code> for the default behavior. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>This API returns the current date and time in <code>localTime</code>. Otherwise, it is set to 0.   Use <code>kUTCDefaultOptions</code> in the options parameter for default behavior. Different behavior may be specified through this parameter in the future. If the operation is successful <code>noErr</code> is returned. If a <code>NULL</code> pointer is passed in the <code>localDateTime</code> parameter, <code>paramErr</code> is returned.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>UTCUtils.h</code><a name="//apple_ref/c/func/GetUTCDateTime" title="GetUTCDateTime"></a><a name="//apple_ref/doc/c_ref/GetUTCDateTime" title="GetUTCDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F13168" title="GetUTCDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_15"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_15"></a><h3 class="tight">GetUTCDateTime</h3><p class="spaceabove">Gets the UTC date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFTimeUtils/Reference/reference.html#//apple_ref/c/func/CFAbsoluteTimeGetCurrent" target="_top">CFAbsoluteTimeGetCurrent</a></code> instead.)</p><p class="spaceabove"><pre>
OSStatus GetUTCDateTime (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/UTCDateTime">UTCDateTime</a> *utcDateTime,
   <a href="../../../../QuickTime/Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/doc/c_ref/OptionBits" target="_top">OptionBits</a> options
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>utcDateTime</em></dt><dd><p>A pointer to a value of type <code>UTCDateTime</code>. On return, the value this parameter points to is the current UTC date and time. </p></dd><dt><em>options</em></dt><dd><p>A value of type <code>OptionBits</code>. Pass <code>kUTCDefaultOptions</code> for the default behavior.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>This API returns the current date and time as UTC in <code>utcDateTime</code>. Otherwise, it is set to 0. Use <code>kUTCDefaultOptions</code> in the options for default behavior. Different behavior may be specified through this parameter in the future.   If the operation is successful <code>noErr</code> is returned. If a <code>NULL</code> pointer is passed in <code>utcDateTime</code>, <code>paramErr</code> is returned.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>UTCUtils.h</code><a name="//apple_ref/c/func/SetLocalDateTime" title="SetLocalDateTime"></a><a name="//apple_ref/doc/c_ref/SetLocalDateTime" title="SetLocalDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F13805" title="SetLocalDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_24"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_24"></a><h3 class="tight">SetLocalDateTime</h3><p class="spaceabove">Sets the local date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement.)</p><p class="spaceabove"><pre>
OSStatus SetLocalDateTime (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/LocalDateTime">LocalDateTime</a> *localDateTime,
   <a href="../../../../QuickTime/Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/doc/c_ref/OptionBits" target="_top">OptionBits</a> options
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>localDateTime</em></dt><dd><p>A pointer to a value of type <code>LocalDateTime</code> specifying the current local date and time. </p></dd><dt><em>options</em></dt><dd><p>A value of type <code>OptionBits</code>. Pass <code>kUTCDefaultOptions</code> for the default behavior.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Use this call to set the clock to the date and time passed in the <code>localDateTime</code> parameter. Use <code>kUTCDefaultOptions</code> in the options for default behavior. Different behavior may be specified through this parameter in the future. If successful <code>noErr</code> is returned. Other errors include <code>kIllegalClockValueErr</code>, <code>paramErr</code> if <code>localDateTime</code> is <code>NULL</code>, or <code>clkWrErr</code> due to a failed attempt to write the value to the system.</p><h5 class="tight">Special Considerations</h5><p>Only the root user can set the time in Mac OS X.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>UTCUtils.h</code><a name="//apple_ref/c/func/SetUTCDateTime" title="SetUTCDateTime"></a><a name="//apple_ref/doc/c_ref/SetUTCDateTime" title="SetUTCDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-F13812" title="SetUTCDateTime"></a><a name="//apple_ref/doc/uid/TP30000080-AppendixA-DontLinkElementID_26"></a><a name="//apple_ref/doc/uid/TP30000080-CH1g-DontLinkElementID_26"></a><h3 class="tight">SetUTCDateTime</h3><p class="spaceabove">Sets the UTC date and time.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use settimeofday(2) instead.)</p><p class="spaceabove"><pre>
OSStatus SetUTCDateTime (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/UTCDateTime">UTCDateTime</a> *utcDateTime,
   <a href="../../../../QuickTime/Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/doc/c_ref/OptionBits" target="_top">OptionBits</a> options
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>utcDateTime</em></dt><dd><p>A pointer to a value of type <code>UTCDateTime</code> specifying the current UTC date and time. </p></dd><dt><em>options</em></dt><dd><p>A value of type <code>OptionBits</code>. Pass <code>kUTCDefaultOptions</code> for the default behavior.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000080-CH4g-RCM0024">“Date, Time, and Measurement Utilities Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Use this call to set the clock to the date and time passed in the <code>utcDateTime</code> parameter. Use <code>kUTCDefaultOptions</code> in the options for default behavior. Different behavior may be specified through this parameter in the future. If successful <code>noErr</code> is returned. Other errors include <code>kIllegalClockValueErr</code>, <code>kUTCUnderflowErr</code>, <code>kUTCOverflowErr</code>, and <code>paramErr</code> if <code>NULL</code> is passed for <code>utcDateTime</code>. It may also return <code>clkWrErr</code> due to a failed attempt to write the value to the system.</p><h5 class="tight">Special Considerations</h5><p>Only the root user can set the time in Mac OS X.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>UTCUtils.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../appendixa/appendixa.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-09-29<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/Date_Time_an_nt_Utilities/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000080-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/Date_Time_an_nt_Utilities/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000080-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/Date_Time_an_nt_Utilities/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000080-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>