<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html><head>
    <title>CSIdentityQuery</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta name="generator" content="HeaderDoc" />
<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style></head><body bgcolor="#ffffff">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/Networking/index.html#//apple_ref/doc/uid/TP30001281-TP30000429" target="_top">Networking</a> <b>&gt;</b> <a href="../../../../../reference/Networking/idxCoreFoundation-date.html#//apple_ref/doc/uid/TP30001281-TP30000429-TP30000444" target="_top">Core Foundation</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/identity" target="_top">Core Services Identity Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>


<!-- end of header -->
<a name="top"></a>
<a name="//apple_ref/doc/header/CSIdentityQuery.i" title="CSIdentityQuery"></a>
<hr><table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h1><a name="CSIdentityQuery">CSIdentityQuery</a></h1>
</td></tr></table><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr><td scope="row"><b>Framework:</b></td><td><div style="margin-bottom:1px"><div class="content_text">/System/Library/Frameworks/CoreServices.framework/Frameworks/OSServices.framework</div></div></td></tr>

<tr><td scope="row"><b>See Also:</b></td><td><div style="margin-bottom:1px"><div class="content_text"><dl>
<dt><a href="../../../Conceptual/IdentityServices_ProgGuide/index.html#//apple_ref/doc/uid/TP40004490" target="_top">Identity Services Programming Guide</a></dt><dd></dd><dt><!-- a --><!-- /a --></dt><dd></dd></dl></div></div></td></tr>
<tr><td scope="row"><b>Includes:</b></td><td><div style="margin-bottom:1px"><div class="content_text"><a href="../CSIdentity/index.html#//apple_ref/doc/header/CSIdentity.i" target="_top">&lt;CSIdentity.i&gt;</a></div></div></td></tr>
</table></div>
<h2>Overview</h2>
</h5><p><!-- begin discussion -->A CSIdentityQuery object provides synchronous or asynchronous access to
a collection of identities managed by an identity authority. Clients call 
one of the CSIdentityQueryCreate* functions to define the query criteria. A 
query can be executed exactly once, in either synchronous or asynchronous mode.
<br><br>
For synchronous execution, the client calls CSIdentityQueryExecute. This function 
will return when all identies matching the criteria have been found. The results 
are accessed as an array via CSIdentityQueryCopyResults(). No live updates 
to the results array are provided in synchronous mode.
<br><br>
To execute in asynchronous mode, the client calls CSIdentityQueryExecuteAsynchronously,
specifying a client object to receive callbacks and a runloop/mode on which
callbacks are scheduled.
<br><br>
CSIdentityQueryExecuteAsynchronously returns immediately, and events
will be reported to the callback function as results are added by the
query. The client may request live updates to the query which will track changes
to the results as changes are made to the identity authority by other processes.
Currently, only changes to the local identity authority are monitored.
<br><br>
Asynchronous clients must call CSIdentityQueryStop when done processing
query results to prevent the client callbacks from being called again.
<!-- end discussion --></p>
<hr><br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCopyResults" target="doc">CSIdentityQueryCopyResults</a></tt></dt>
<dd>Retrieve the results of executing an identity query
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreate" target="doc">CSIdentityQueryCreate</a></tt></dt>
<dd>Creates an identity query object for all identities in the specified authority
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForCurrentUser" target="doc">CSIdentityQueryCreateForCurrentUser</a></tt></dt>
<dd>Creates a query for the current session user's identity
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForName" target="doc">CSIdentityQueryCreateForName</a></tt></dt>
<dd>Creates an identity query object based on a name
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForPersistentReference" target="doc">CSIdentityQueryCreateForPersistentReference</a></tt></dt>
<dd>Creates an identity query object based on an identity reference data object
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForPosixID" target="doc">CSIdentityQueryCreateForPosixID</a></tt></dt>
<dd>Creates an identity query object based on a POSIX ID
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForUUID" target="doc">CSIdentityQueryCreateForUUID</a></tt></dt>
<dd>Creates an identity query object based on a UUID
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryExecute" target="doc">CSIdentityQueryExecute</a></tt></dt>
<dd>Execute an identity query synchronously 
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryExecuteAsynchronously" target="doc">CSIdentityQueryExecuteAsynchronously</a></tt></dt>
<dd>Execute an identity query asynchronously 
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryGetTypeID" target="doc">CSIdentityQueryGetTypeID</a></tt></dt>
<dd>Retrieve the CFTypeID of the CSIdentityQuery class
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryStop" target="doc">CSIdentityQueryStop</a></tt></dt>
<dd>Invalidate an identity query client
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryCopyResults;  name=CSIdentityQueryCopyResults -->
<a name="//apple_ref/c/func/CSIdentityQueryCopyResults"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryCopyResults">CSIdentityQueryCopyResults</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Retrieve the results of executing an identity query
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/c/tdef/CFArrayRef" target="_top" class="type"><span class="type">CFArrayRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCopyResults" class="function"><span class="function">CSIdentityQueryCopyResults</span></a>( 
    <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <span class="param">query</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>query</code></dt><dd>The query object to access</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An array of zero or more CSIdentityRefs

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Returns an immutable array of CSIdentityRefs, reflecting the current results 
of the query's execution.
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryCreate;  name=CSIdentityQueryCreate -->
<a name="//apple_ref/c/func/CSIdentityQueryCreate"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryCreate">CSIdentityQueryCreate</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates an identity query object for all identities in the specified authority
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreate" class="function"><span class="function">CSIdentityQueryCreate</span></a>( 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorRef" target="_top" class="type"><span class="type">CFAllocatorRef</span></a> <span class="param">allocator</span>, 
    <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tag/CSIdentityClass" class="type"><span class="type">CSIdentityClass</span></a> <span class="param">identityClass</span>, 
    <a href="../CSIdentityAuthority/CompositePage.html#//apple_ref/c/tdef/CSIdentityAuthorityRef" class="type"><span class="type">CSIdentityAuthorityRef</span></a> <span class="param">authority</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>allocator</code></dt><dd>The allocator to use for this instance</dd>
<dt><code>identityClass</code></dt><dd>The class of identity to find</dd>
<dt><code>authority</code></dt><dd>The identity authority to query</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A new CSIdentityQuery object

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->The results of this query include all of the identities in the specified authority's database.
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryCreateForCurrentUser;  name=CSIdentityQueryCreateForCurrentUser -->
<a name="//apple_ref/c/func/CSIdentityQueryCreateForCurrentUser"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryCreateForCurrentUser">CSIdentityQueryCreateForCurrentUser</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates a query for the current session user's identity
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForCurrentUser" class="function"><span class="function">CSIdentityQueryCreateForCurrentUser</span></a>( 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorRef" target="_top" class="type"><span class="type">CFAllocatorRef</span></a> <span class="param">allocator</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>allocator</code></dt><dd>The allocator to use for this instance</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A new CSIdentityQuery object

<!-- end return value --></p><p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryCreateForName;  name=CSIdentityQueryCreateForName -->
<a name="//apple_ref/c/func/CSIdentityQueryCreateForName"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryCreateForName">CSIdentityQueryCreateForName</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates an identity query object based on a name
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForName" class="function"><span class="function">CSIdentityQueryCreateForName</span></a>( 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorRef" target="_top" class="type"><span class="type">CFAllocatorRef</span></a> <span class="param">allocator</span>, 
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">name</span>, 
    <a href="CompositePage.html#//apple_ref/c/tag/CSIdentityQueryStringComparisonMethod" class="type"><span class="type">CSIdentityQueryStringComparisonMethod</span></a> <span class="param">comparisonMethod</span>, 
    <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tag/CSIdentityClass" class="type"><span class="type">CSIdentityClass</span></a> <span class="param">identityClass</span>, 
    <a href="../CSIdentityAuthority/CompositePage.html#//apple_ref/c/tdef/CSIdentityAuthorityRef" class="type"><span class="type">CSIdentityAuthorityRef</span></a> <span class="param">authority</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>allocator</code></dt><dd>The allocator to use for this instance</dd>
<dt><code>name</code></dt><dd>The name criteria for the query.</dd>
<dt><code>comparisonMethod</code></dt><dd>The comparision function (equal or begins with)</dd>
<dt><code>identityClass</code></dt><dd>The class of identity to find</dd>
<dt><code>authority</code></dt><dd>The identity authority to query</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A new CSIdentityQuery object

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->The query finds identities by name. It searches the full names, posix names and aliases for matches.
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryCreateForPersistentReference;  name=CSIdentityQueryCreateForPersistentReference -->
<a name="//apple_ref/c/func/CSIdentityQueryCreateForPersistentReference"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryCreateForPersistentReference">CSIdentityQueryCreateForPersistentReference</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates an identity query object based on an identity reference data object
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForPersistentReference" class="function"><span class="function">CSIdentityQueryCreateForPersistentReference</span></a>( 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorRef" target="_top" class="type"><span class="type">CFAllocatorRef</span></a> <span class="param">allocator</span>, 
    <a href="../../../../CoreFoundation/Reference/CFDataRef/Reference/reference.html#//apple_ref/c/tdef/CFDataRef" target="_top" class="type"><span class="type">CFDataRef</span></a> <span class="param">referenceData</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>allocator</code></dt><dd>The allocator to use for this instance</dd>
<dt><code>referenceData</code></dt><dd>The reference data that fully describes an identity</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A new CSIdentityQuery object

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Finds an identity by reference data obtained from CSIdentityCreateReferenceData
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryCreateForPosixID;  name=CSIdentityQueryCreateForPosixID -->
<a name="//apple_ref/c/func/CSIdentityQueryCreateForPosixID"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryCreateForPosixID">CSIdentityQueryCreateForPosixID</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates an identity query object based on a POSIX ID
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForPosixID" class="function"><span class="function">CSIdentityQueryCreateForPosixID</span></a>( 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorRef" target="_top" class="type"><span class="type">CFAllocatorRef</span></a> <span class="param">allocator</span>, 
    <!-- a --><span class="type">id_t</span><!-- /a --> <span class="param">posixID</span>, 
    <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tag/CSIdentityClass" class="type"><span class="type">CSIdentityClass</span></a> <span class="param">identityClass</span>, 
    <a href="../CSIdentityAuthority/CompositePage.html#//apple_ref/c/tdef/CSIdentityAuthorityRef" class="type"><span class="type">CSIdentityAuthorityRef</span></a> <span class="param">authority</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>allocator</code></dt><dd>The allocator to use for this instance</dd>
<dt><code>posixID</code></dt><dd>The UID or GID of the identity to find</dd>
<dt><code>identityClass</code></dt><dd>The class of identity to find</dd>
<dt><code>authority</code></dt><dd>The identity authority to query</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A new CSIdentityQuery object

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Finds an identity by its UID or GID
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryCreateForUUID;  name=CSIdentityQueryCreateForUUID -->
<a name="//apple_ref/c/func/CSIdentityQueryCreateForUUID"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryCreateForUUID">CSIdentityQueryCreateForUUID</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates an identity query object based on a UUID
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryCreateForUUID" class="function"><span class="function">CSIdentityQueryCreateForUUID</span></a>( 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorRef" target="_top" class="type"><span class="type">CFAllocatorRef</span></a> <span class="param">allocator</span>, 
    <a href="../../../../CoreFoundation/Reference/CFUUIDRef/Reference/reference.html#//apple_ref/c/tdef/CFUUIDRef" target="_top" class="type"><span class="type">CFUUIDRef</span></a> <span class="param">uuid</span>, 
    <a href="../CSIdentityAuthority/CompositePage.html#//apple_ref/c/tdef/CSIdentityAuthorityRef" class="type"><span class="type">CSIdentityAuthorityRef</span></a> <span class="param">authority</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>allocator</code></dt><dd>The allocator to use for this instance</dd>
<dt><code>uuid</code></dt><dd>The UUID of the identity to find</dd>
<dt><code>authority</code></dt><dd>The identity authority to query</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A new CSIdentityQuery object

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Finds an identity by its UUID
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryExecute;  name=CSIdentityQueryExecute -->
<a name="//apple_ref/c/func/CSIdentityQueryExecute"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryExecute">CSIdentityQueryExecute</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Execute an identity query synchronously 
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <!-- a --><span class="type">Boolean</span><!-- /a --> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryExecute" class="function"><span class="function">CSIdentityQueryExecute</span></a>( 
    <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <span class="param">query</span>, 
    <a href="CompositePage.html#//apple_ref/c/tag/CSIdentityQueryFlags" class="type"><span class="type">CSIdentityQueryFlags</span></a> <span class="param">flags</span>, 
    <a href="../../../../CoreFoundation/Reference/CFErrorRef/Reference/reference.html#//apple_ref/c/tdef/CFErrorRef" target="_top" class="type"><span class="type">CFErrorRef</span></a> *<span class="param">error</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>query</code></dt><dd>The query object to execute</dd>
<dt><code>flags</code></dt><dd>Execution options</dd>
<dt><code>error</code></dt><dd>Optional pointer to a CFError object which must be released by the caller if CSIdentityQueryExecute returns false</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->Returns true if the query executed successfully, false if an error occurred.

<!-- end return value --></p><p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryExecuteAsynchronously;  name=CSIdentityQueryExecuteAsynchronously -->
<a name="//apple_ref/c/func/CSIdentityQueryExecuteAsynchronously"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryExecuteAsynchronously">CSIdentityQueryExecuteAsynchronously</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Execute an identity query asynchronously 
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <!-- a --><span class="type">Boolean</span><!-- /a --> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryExecuteAsynchronously" class="function"><span class="function">CSIdentityQueryExecuteAsynchronously</span></a>( 
    <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <span class="param">query</span>, 
    <a href="CompositePage.html#//apple_ref/c/tag/CSIdentityQueryFlags" class="type"><span class="type">CSIdentityQueryFlags</span></a> <span class="param">flags</span>, 
    <span class="keyword">const</span> <a href="CompositePage.html#//apple_ref/c/tag/CSIdentityQueryClientContext" class="type"><span class="type">CSIdentityQueryClientContext</span></a> *<span class="param">clientContext</span>, 
    <a href="../../../../CoreFoundation/Reference/CFRunLoopRef/Reference/reference.html#//apple_ref/c/tdef/CFRunLoopRef" target="_top" class="type"><span class="type">CFRunLoopRef</span></a> <span class="param">runLoop</span>, 
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">runLoopMode</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>query</code></dt><dd>The query object to execute</dd>
<dt><code>flags</code></dt><dd>Execution options</dd>
<dt><code>clientContext</code></dt><dd>The client context and callbacks to be used during execution</dd>
<dt><code>runLoop</code></dt><dd>The run loop on which to schedule callbacks</dd>
<dt><code>runLoopMode</code></dt><dd>The run loop mode in which callbacks may be scheduled</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->Returns true if query execution started, false if the query has already been executed.

<!-- end return value --></p><p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryGetTypeID;  name=CSIdentityQueryGetTypeID -->
<a name="//apple_ref/c/func/CSIdentityQueryGetTypeID"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryGetTypeID">CSIdentityQueryGetTypeID</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Retrieve the CFTypeID of the CSIdentityQuery class
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../../../../CoreFoundation/Reference/CFTypeRef/Reference/reference.html#//apple_ref/c/tdef/CFTypeID" target="_top" class="type"><span class="type">CFTypeID</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryGetTypeID" class="function"><span class="function">CSIdentityQueryGetTypeID</span></a>(
    <span class="param">void</span> );  </pre>
<p></p><hr><!-- headerDoc=func;  uid=//apple_ref/c/func/CSIdentityQueryStop;  name=CSIdentityQueryStop -->
<a name="//apple_ref/c/func/CSIdentityQueryStop"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryStop">CSIdentityQueryStop</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Invalidate an identity query client
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="CompositePage.html#//apple_ref/c/func/CSIdentityQueryStop" class="function"><span class="function">CSIdentityQueryStop</span></a>(
    <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <span class="param">query</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>query</code></dt><dd>The query to access</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Invalidate a query client so that its callback will never be called in the future. Clients
should call CSIdentityQueryStop when an query will no longer be used, prior to releasing the final query reference.
<!-- end discussion --></p>
<p></p><h2>Typedefs</h2>
<hr><!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/CSIdentityQueryReceiveEventCallback;  name=CSIdentityQueryReceiveEventCallback -->
<a name="//apple_ref/c/tdef/CSIdentityQueryReceiveEventCallback"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryReceiveEventCallback">CSIdentityQueryReceiveEventCallback</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->The client event callback function for receiving asynchronous query events
<!-- end abstract --></p>
<p></p><pre><span class="keyword">typedef</span> <span class="keyword">extern</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> ( *<!-- a --><span class="function">CSIdentityQueryReceiveEventCallback</span><!-- /a --> )( 
    <a href="../CSIdentity/CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryRef" class="type"><span class="type">CSIdentityQueryRef</span></a> <span class="param">query</span>, 
    <a href="CompositePage.html#//apple_ref/c/tag/CSIdentityQueryEvent" class="type"><span class="type">CSIdentityQueryEvent</span></a> <span class="param">event</span>, 
    <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/c/tdef/CFArrayRef" target="_top" class="type"><span class="type">CFArrayRef</span></a> <span class="param">identities</span>, 
    <a href="../../../../CoreFoundation/Reference/CFErrorRef/Reference/reference.html#//apple_ref/c/tdef/CFErrorRef" target="_top" class="type"><span class="type">CFErrorRef</span></a> <span class="param">error</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="param">info</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<blockquote>
<dl><dt><code>query</code></dt><dd>The identity query object that has completed an event</dd>
<dt><code>event</code></dt><dd>The event the identity query object has completed</dd>
<dt><code>identities</code></dt><dd>a CFArray containing identities resulting from the query</dd>
<dt><code>error</code></dt><dd>A CFError object if there was an error from the query</dd>
<dt><code>info</code></dt><dd>Any other information you want passed to the callback function</dd>
</dl>
</blockquote>
<p></p><h2>Structs and Unions</h2>
<hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/CSIdentityQueryClientContext;  name=CSIdentityQueryClientContext -->
<a name="//apple_ref/c/tag/CSIdentityQueryClientContext"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryClientContext">CSIdentityQueryClientContext</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Client structure specifying callbacks and private context data
 <!-- end abstract --></p>
<p></p><pre><span class="keyword">struct</span> <a href="CompositePage.html#//apple_ref/c/tag/CSIdentityQueryClientContext" class="type"><span class="type">CSIdentityQueryClientContext</span></a> { 
    <a href="../../../../CoreFoundation/Reference/CFBaseUtils/Reference/reference.html#//apple_ref/c/tdef/CFIndex" target="_top" class="type"><span class="type">CFIndex</span></a> <span class="var">version</span>; 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="var">info</span>; 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorRetainCallBack" target="_top" class="type"><span class="type">CFAllocatorRetainCallBack</span></a> <span class="var">retainInfo</span>; 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorReleaseCallBack" target="_top" class="type"><span class="type">CFAllocatorReleaseCallBack</span></a> <span class="var">releaseInfo</span>; 
    <a href="../../../../CoreFoundation/Reference/CFAllocatorRef/Reference/reference.html#//apple_ref/c/tdef/CFAllocatorCopyDescriptionCallBack" target="_top" class="type"><span class="type">CFAllocatorCopyDescriptionCallBack</span></a> <span class="var">copyInfoDescription</span>; 
    <a href="CompositePage.html#//apple_ref/c/tdef/CSIdentityQueryReceiveEventCallback" class="type"><span class="type">CSIdentityQueryReceiveEventCallback</span></a> <span class="var">receiveEvent</span>; 
};  </pre>
<p></p><h2>Enumerations</h2>
<hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/CSIdentityQueryEvent;  name=CSIdentityQueryEvent -->
<a name="//apple_ref/c/tag/CSIdentityQueryEvent"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryEvent">CSIdentityQueryEvent</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Results from executing an asynchronous query
<!-- end abstract --></p>
<p></p><pre><span class="keyword">enum</span> { 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryEventSearchPhaseFinished" class="type"><span class="type">kCSIdentityQueryEventSearchPhaseFinished</span></a> = <span class="number">1</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryEventResultsAdded" class="type"><span class="type">kCSIdentityQueryEventResultsAdded</span></a> = <span class="number">2</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryEventResultsChanged" class="type"><span class="type">kCSIdentityQueryEventResultsChanged</span></a> = <span class="number">3</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryEventResultsRemoved" class="type"><span class="type">kCSIdentityQueryEventResultsRemoved</span></a> = <span class="number">4</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryEventErrorOccurred" class="type"><span class="type">kCSIdentityQueryEventErrorOccurred</span></a> = <span class="number">5</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryEventSearchPhaseFinished"><code>kCSIdentityQueryEventSearchPhaseFinished</code></a></dt><dd>Event generated when the initial lookup of identities has finished. 
Live update events will follow if caller requests the kCSIdentityQueryGenerateUpdateEvents option.</dd>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryEventResultsAdded"><code>kCSIdentityQueryEventResultsAdded</code></a></dt><dd>Event generated when identities are added to the query results</dd>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryEventResultsChanged"><code>kCSIdentityQueryEventResultsChanged</code></a></dt><dd>Event generated when identities already in the query results have been modified</dd>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryEventResultsRemoved"><code>kCSIdentityQueryEventResultsRemoved</code></a></dt><dd>Event generated when identities are removed from the query results</dd>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryEventErrorOccurred"><code>kCSIdentityQueryEventErrorOccurred</code></a></dt><dd>Used to report an error. Query execution stops (permanently) if this event is sent.</dd>
</dl>
</blockquote>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Events generated during asynchronous query execution
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/CSIdentityQueryFlags;  name=CSIdentityQueryFlags -->
<a name="//apple_ref/c/tag/CSIdentityQueryFlags"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryFlags">CSIdentityQueryFlags</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Execution options for an identity query
<!-- end abstract --></p>
<p></p><pre><span class="keyword">enum</span> { 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryGenerateUpdateEvents" class="type"><span class="type">kCSIdentityQueryGenerateUpdateEvents</span></a> = <span class="number">0x0001</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryIncludeHiddenIdentities" class="type"><span class="type">kCSIdentityQueryIncludeHiddenIdentities</span></a> = <span class="number">0x0002</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryGenerateUpdateEvents"><code>kCSIdentityQueryGenerateUpdateEvents</code></a></dt><dd>After the intial query phase is complete, monitor the result set for live updates</dd>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryIncludeHiddenIdentities"><code>kCSIdentityQueryIncludeHiddenIdentities</code></a></dt><dd>Include all matching identities in the result set, including hidden "system" users and groups (root, www, etc.)</dd>
</dl>
</blockquote>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->A bit mask for setting execution options on a query
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/CSIdentityQueryStringComparisonMethod;  name=CSIdentityQueryStringComparisonMethod -->
<a name="//apple_ref/c/tag/CSIdentityQueryStringComparisonMethod"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="CSIdentityQueryStringComparisonMethod">CSIdentityQueryStringComparisonMethod</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Options for querying the database by name
<!-- end abstract --></p>
<p></p><pre><span class="keyword">enum</span> { 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryStringEquals" class="type"><span class="type">kCSIdentityQueryStringEquals</span></a> = <span class="number">1</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kCSIdentityQueryStringBeginsWith" class="type"><span class="type">kCSIdentityQueryStringBeginsWith</span></a> = <span class="number">2</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryStringEquals"><code>kCSIdentityQueryStringEquals</code></a></dt><dd>The identity name must equal the search string</dd>
<dt><a name="//apple_ref/c/econst/kCSIdentityQueryStringBeginsWith"><code>kCSIdentityQueryStringBeginsWith</code></a></dt><dd>The identity name must begin with the search string</dd>
</dl>
</blockquote>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->When searching for identities by name, this value specifies the string comparison function
<!-- end discussion --></p>
<p></p><p><!-- start of footer -->

	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Networking/Reference/IdentityServices_Ref/CSIdentityQuery/CompositePage.html%3Fid%3DTP40004673-1.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Networking/Reference/IdentityServices_Ref/CSIdentityQuery/CompositePage.html%3Fid%3DTP40004673-1.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Networking/Reference/IdentityServices_Ref/CSIdentityQuery/CompositePage.html%3Fid%3DTP40004673-1.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>



<!-- end of footer -->
Last Updated: 2008-03-11
</p></body></html>
