<html><head><title>Mac OS X
 Manual Page For zshmodules(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/zshmodules" title="Mac OS X
 Manual Page for zshmodules(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/zshmodules"; name=zshmodules(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ZSHMODULES(1)                                                                                  ZSHMODULES(1)



<b>NAME</b>
       zshmodules - zsh loadable modules

<b>DESCRIPTION</b>
       Some  optional  parts of zsh are in modules, separate from the core of the shell.  Each of these mod-<font color="#ffffff" class="whiteout">ules&nbsp;modules</font>
       ules may be linked in to the shell at build time, or can be dynamically linked  while  the  shell  is
       running if the installation supports this feature.  The modules that are bundled with the zsh distri-<font color="#ffffff" class="whiteout">bution&nbsp;distribution</font>
       bution are:

       <b>zsh/cap</b>
              Builtins for manipulating POSIX.1e (POSIX.6) capability (privilege) sets.

       <b>zsh/clone</b>
              A builtin that can clone a running shell onto another terminal.

       <b>zsh/compctl</b>
              The <b>compctl</b> builtin for controlling completion.

       <b>zsh/complete</b>
              The basic completion code.

       <b>zsh/complist</b>
              Completion listing extensions.

       <b>zsh/computil</b>
              A module with utility builtins needed for the shell function based completion system.

       <b>zsh/datetime</b>
              Some date/time commands and parameters.

       <b>zsh/deltochar</b>
              A ZLE function duplicating EMACS' <b>zap-to-char</b>.

       <b>zsh/example</b>
              An example of how to write a module.

       <b>zsh/files</b>
              Some basic file manipulation commands as builtins.

       <b>zsh/mapfile</b>
              Access to external files via a special associative array.

       <b>zsh/mathfunc</b>
              Standard scientific functions for use in mathematical evaluations.

       <b>zsh/newuser</b>
              Arrange for files for new users to be installed.

       <b>zsh/parameter</b>
              Access to internal hash tables via special associative arrays.

       <b>zsh/pcre</b>
              Interface to the PCRE library.

       <b>zsh/sched</b>
              A builtin that provides a timed execution facility within the shell.

       <b>zsh/net/socket</b>
              Manipulation of Unix domain sockets

       <b>zsh/stat</b>
              A builtin command interface to the <b>stat</b> system call.

       <b>zsh/system</b>
              A builtin interface to various low-level system features.

       <b>zsh/net/tcp</b>
              Manipulation of TCP sockets

       <b>zsh/termcap</b>
              Interface to the termcap database.

       <b>zsh/terminfo</b>
              Interface to the terminfo database.

       <b>zsh/zftp</b>
              A builtin FTP client.

       <b>zsh/zle</b>
              The Zsh Line Editor, including the <b>bindkey</b> and <b>vared</b> builtins.

       <b>zsh/zleparameter</b>
              Access to internals of the Zsh Line Editor via parameters.

       <b>zsh/zprof</b>
              A module allowing profiling for shell functions.

       <b>zsh/zpty</b>
              A builtin for starting a command in a pseudo-terminal.

       <b>zsh/zselect</b>
              Block and return when file descriptors are ready.

       <b>zsh/zutil</b>
              Some utility builtins, e.g. the one for supporting configuration via styles.

<b>THE</b> <b>ZSH/CAP</b> <b>MODULE</b>
       The <b>zsh/cap</b> module is used for manipulating POSIX.1e (POSIX.6) capability  sets.   If  the  operating
       system  does  not  support  this interface, the builtins defined by this module will do nothing.  The
       builtins in this module are:

       <b>cap</b> [ <u>capabilities</u> ]
              Change the shell's process capability sets to the specified  <u>capabilities</u>,  otherwise  display
              the shell's current capabilities.

       <b>getcap</b> <u>filename</u> ...
              This  is  a built-in implementation of the POSIX standard utility.  It displays the capability
              sets on each specified <u>filename</u>.

       <b>setcap</b> <u>capabilities</u> <u>filename</u> ...
              This is a built-in implementation of the POSIX standard utility.  It sets the capability  sets
              on each specified <u>filename</u> to the specified <u>capabilities</u>.

<b>THE</b> <b>ZSH/CLONE</b> <b>MODULE</b>
       The <b>zsh/clone</b> module makes available one builtin command:

       <b>clone</b> <u>tty</u>
              Creates  a  forked  instance  of the current shell, attached to the specified <u>tty</u>.  In the new
              shell, the <b>PID</b>, <b>PPID</b> and <b>TTY</b> special parameters are changed appropriately.  <b>$!</b> is set to  zero
              in the new shell, and to the new shell's PID in the original shell.

              The  return status of the builtin is zero in both shells if successful, and non-zero on error.

              The target of <b>clone</b> should be an unused terminal, such as an unused virtual console or a  vir-<font color="#ffffff" class="whiteout">tual&nbsp;virtual</font>
              tual terminal created by

              xterm -e sh -c 'trap : INT QUIT TSTP; tty; while :; do sleep 100000000; done'

              Some  words  of explanation are warranted about this long xterm command line: when doing clone
              on a pseudo-terminal, some other session ("session" meant as a unix session group, or SID)  is
              already owning the terminal. Hence the cloned zsh cannot acquire the pseudo-terminal as a con-<font color="#ffffff" class="whiteout">trolling&nbsp;controlling</font>
              trolling tty. That means two things:

              the job control signals will go to the sh-started-by-xterm process
                    group (that's why we disable INT QUIT and TSTP with trap; otherwise
                    the while loop could get suspended or killed)

              the cloned shell will have job control disabled, and the job
                    control keys (control-C, control-\ and control-Z) will not work.

              This does not apply when cloning to an <b>unused</b> vc.

              Cloning to an used (and unprepared) terminal will result in two processes  reading  simultane-<font color="#ffffff" class="whiteout">ously&nbsp;simultaneously</font>
              ously from the same terminal, with input bytes going randomly to either process.

              <b>clone</b> is mostly useful as a shell built-in replacement for openvt.

<b>THE</b> <b>ZSH/COMPCTL</b> <b>MODULE</b>
       The  <b>zsh/compctl</b>  module makes available two builtin commands. <b>compctl</b>, is the old, deprecated way to
       control completions for ZLE.  See <a href="zshcompctl.1.html#//apple_ref/doc/man/1/zshcompctl"><u>zshcompctl</u>(1)</a>.  The other builtin command, <b>compcall</b> can be used  in
       user-defined completion widgets, see <a href="zshcompwid.1.html#//apple_ref/doc/man/1/zshcompwid"><u>zshcompwid</u>(1)</a>.

<b>THE</b> <b>ZSH/COMPLETE</b> <b>MODULE</b>
       The  <b>zsh/complete</b>  module  makes available several builtin commands which can be used in user-defined
       completion widgets, see <a href="zshcompwid.1.html#//apple_ref/doc/man/1/zshcompwid"><u>zshcompwid</u>(1)</a>.

<b>THE</b> <b>ZSH/COMPLIST</b> <b>MODULE</b>
       The <b>zsh/complist</b> module offers three extensions to completion  listings:  the  ability  to  highlight
       matches  in  such a list, the ability to scroll through long lists and a different style of menu com-<font color="#ffffff" class="whiteout">pletion.&nbsp;completion.</font>
       pletion.


   <b>Colored</b> <b>completion</b> <b>listings</b>
       Whenever one of the parameters <b>ZLS_COLORS</b> or <b>ZLS_COLOURS</b> is set and the <b>zsh/complist</b> module is loaded
       or  linked  into  the shell, completion lists will be colored.  Note, however, that <b>complist</b> will not
       automatically be loaded if it is not linked in:  on systems with dynamic loading, `<b>zmodload</b>  <b>zsh/com</b>-<font color="#ffffff" class="whiteout">plist'&nbsp;zsh/complist'</font>
       <b>plist</b>' is required.

       The  parameters  <b>ZLS_COLORS</b>  and  <b>ZLS_COLOURS</b> describe how matches are highlighted.  To turn on high-<font color="#ffffff" class="whiteout">lighting&nbsp;highlighting</font>
       lighting an empty value suffices, in which case all the default values given below will be used.  The
       format  of  the value of these parameters is the same as used by the GNU version of the <b>ls</b> command: a
       colon-separated list of specifications of the form `<u>name</u>=<u>value</u>'.  The <u>name</u> may be one of the  follow-<font color="#ffffff" class="whiteout">ing&nbsp;following</font>
       ing  strings,  most  of  which  specify file types for which the <u>value</u> will be used.  The strings and
       their default values are:

       <b>no</b> <b>0</b>   for normal text (i.e. when displaying something other than a matched file)

       <b>fi</b> <b>0</b>   for regular files

       <b>di</b> <b>32</b>  for directories

       <b>ln</b> <b>36</b>  for symbolic links

       <b>pi</b> <b>31</b>  for named pipes (FIFOs)

       <b>so</b> <b>33</b>  for sockets

       <b>bd</b> <b>44;37</b>
              for block devices

       <b>cd</b> <b>44;37</b>
              for character devices

       <b>ex</b> <b>35</b>  for executable files

       <b>mi</b> <u>none</u>
              for a non-existent file (default is the value defined for <b>fi</b>)

       <b>lc</b> <b>\e[</b> for the left code (see below)

       <b>rc</b> <b>m</b>   for the right code

       <b>tc</b> <b>0</b>   for the character indicating the file type  printed after filenames if the  <b>LIST_TYPES</b>  option
              is set

       <b>sp</b> <b>0</b>   for the spaces printed after matches to align the next column

       <b>ec</b> <u>none</u>
              for the end code

       Apart  from  these  strings, the <u>name</u> may also be an asterisk (`<b>*</b>') followed by any string. The <u>value</u>
       given for such a string will be used for all files whose name ends with the  string.   The  <u>name</u>  may
       also  be  an  equals sign (`<b>=</b>') followed by a pattern.  The <u>value</u> given for this pattern will be used
       for all matches (not just filenames) whose display string are matched by  the  pattern.   Definitions
       for  both of these take precedence over the values defined for file types and the form with the lead-<font color="#ffffff" class="whiteout">ing&nbsp;leading</font>
       ing asterisk takes precedence over the form with the leading equal sign.

       The last form also allows different parts of the displayed strings to be  colored  differently.   For
       this,  the pattern has to use the `<b>(#b)</b>' globbing flag and pairs of parentheses surrounding the parts
       of the strings that are to be colored differently.  In this case the <u>value</u> may consist of  more  than
       one  color  code  separated  by  equal signs.  The first code will be used for all parts for which no
       explicit code is specified and the following codes will be used for the parts matched by the sub-pat-<font color="#ffffff" class="whiteout">terns&nbsp;sub-patterns</font>
       terns  in  parentheses.   For  example,  the  specification `<b>=(#b)(?)*(?)=0=3=7</b>' will be used for all
       matches which are at least two characters long and will use the code `<b>3</b>' for the first character, `<b>7</b>'
       for the last character and `<b>0</b>' for the rest.

       All  three  forms  of  <u>name</u> may be preceded by a pattern in parentheses.  If this is given, the <u>value</u>
       will be used only for matches in groups whose names are matched by the pattern given in the parenthe-<font color="#ffffff" class="whiteout">ses.&nbsp;parentheses.</font>
       ses.  For example, `<b>(g*)m*=43</b>' highlights all matches beginning with `<b>m</b>' in groups whose names  begin
       with `<b>g</b>' using the color code `<b>43</b>'.  In case of the `<b>lc</b>', `<b>rc</b>', and `<b>ec</b>' codes, the group pattern  is
       ignored.

       Note  also that all patterns are tried in the order in which they appear in the parameter value until
       the first one matches which is then used.

       When printing a match, the code prints the value of <b>lc</b>, the value  for  the  file-type  or  the  last
       matching  specification  with a `<b>*</b>', the value of <b>rc</b>, the string to display for the match itself, and
       then the value of <b>ec</b> if that is defined or the values of <b>lc</b>, <b>no</b>, and <b>rc</b> if <b>ec</b> is not defined.

       The default values are ISO 6429 (ANSI) compliant and can be used on vt100 compatible  terminals  such
       as <b>xterm</b>s.  On monochrome terminals the default values will have no visible effect.  The <b>colors</b> func-<font color="#ffffff" class="whiteout">tion&nbsp;function</font>
       tion from the contribution can be used to get associative arrays containing the codes for ANSI termi-<font color="#ffffff" class="whiteout">nals&nbsp;terminals</font>
       nals  (see  the  section `Other Functions' in <a href="zshcontrib.1.html#//apple_ref/doc/man/1/zshcontrib"><u>zshcontrib</u>(1)</a>).  For example, after loading <b>colors</b>, one
       could use `<b>$colors[red]</b>' to get the code for foreground color red  and  `<b>$colors[bg-green]</b>'  for  the
       code for background color green.

       If  the  completion  system  invoked by compinit is used, these parameters should not be set directly
       because the system controls them itself.  Instead, the <b>list-colors</b> style should be used (see the sec-<font color="#ffffff" class="whiteout">tion&nbsp;section</font>
       tion `Completion System Configuration' in <a href="zshcompsys.1.html#//apple_ref/doc/man/1/zshcompsys"><u>zshcompsys</u>(1)</a>).


   <b>Scrolling</b> <b>in</b> <b>completion</b> <b>listings</b>
       To  enable scrolling through a completion list, the <b>LISTPROMPT</b> parameter must be set.  Its value will
       be used as the prompt; if it is the empty string, a default prompt will be used.  The value may  con-<font color="#ffffff" class="whiteout">tain&nbsp;contain</font>
       tain  escapes  of  the  form  `<b>%x</b>'.   It  supports the escapes `<b>%B</b>', `<b>%b</b>', `<b>%S</b>', `<b>%s</b>', `<b>%U</b>', `<b>%u</b>' and
       `<b>%{...%}</b>' used also in shell prompts as well as three pairs of additional sequences: a `<b>%l</b>'  or  `<b>%L</b>'
       is  replaced  by  the  number  of the last line shown and the total number of lines in the form `<u>num</u>-<font color="#ffffff" class="whiteout">ber/total';&nbsp;`number/total';</font>
       <u>ber</u><b>/</b><u>total</u>'; a `<b>%m</b>' or `<b>%M</b>' is replaced with the number of the last match shown and the  total  number
       of matches; and `<b>%p</b>' or `<b>%P</b>' is replaced with `<b>Top</b>', `<b>Bottom</b>' or the position of the first line shown
       in percent of the total number of lines, respectively.  In each of these  cases  the  form  with  the
       uppercase  letter  will  be  replaced  with a string of fixed width, padded to the right with spaces,
       while the lowercase form will not be padded.

       If the parameter <b>LISTPROMPT</b> is set, the completion code will not ask if the  list  should  be  shown.
       Instead  it  immediately  starts displaying the list, stopping after the first screenful, showing the
       prompt at the bottom, waiting for a keypress after temporarily switching to  the  <b>listscroll</b>  keymap.
       Some of the zle functions have a special meaning while scrolling lists:

       <b>send-break</b>
              stops listing discarding the key pressed

       <b>accept-line</b>, <b>down-history</b>, <b>down-line-or-history</b>
       <b>down-line-or-search</b>, <b>vi-down-line-or-history</b>
              scrolls forward one line

       <b>complete-word</b>, <b>menu-complete</b>, <b>expand-or-complete</b>
       <b>expand-or-complete-prefix</b>, <b>menu-complete-or-expand</b>
              scrolls forward one screenful

       Every  other character stops listing and immediately processes the key as usual.  Any key that is not
       bound in the <b>listscroll</b> keymap or that is bound to <b>undefined-key</b> is looked up in the keymap currently
       selected.

       As  for  the  <b>ZLS_COLORS</b> and <b>ZLS_COLOURS</b> parameters, <b>LISTPROMPT</b> should not be set directly when using
       the shell function based completion system.  Instead, the <b>list-prompt</b> style should be used.


   <b>Menu</b> <b>selection</b>
       The <b>zsh/complist</b> module also offers an alternative style of selecting matches  from  a  list,  called
       menu selection, which can be used if the shell is set up to return to the last prompt after showing a
       completion list (see the <b>ALWAYS_LAST_PROMPT</b> option in <a href="zshoptions.1.html#//apple_ref/doc/man/1/zshoptions"><u>zshoptions</u>(1)</a>).  It can be invoked directly  by
       the  widget <b>menu-select</b> defined by the module.  Alternatively, the parameter <b>MENUSELECT</b> can be set to
       an integer, which gives the minimum number of matches that must be present before menu  selection  is
       automatically  turned  on.   This  second  method  requires  that  menu completion be started, either
       directly from a widget such as <b>menu-complete</b>, or due to one of the options <b>MENU_COMPLETE</b> or <b>AUTO_MENU</b>
       being  set.  If <b>MENUSELECT</b> is set, but is 0, 1 or empty, menu selection will always be started during
       an ambiguous menu completion.

       When using the completion system based on shell functions, the <b>MENUSELECT</b>  parameter  should  not  be
       used  (like  the  <b>ZLS_COLORS</b>  and  <b>ZLS_COLOURS</b>  parameters described above).  Instead, the <b>menu</b> style
       should be used with the <b>select=</b><u>...</u> keyword.

       After menu selection is started, the matches will be listed. If there are more matches  than  fit  on
       the  screen,  only  the first screenful is shown.  The matches to insert into the command line can be
       selected from this list.  In the list one match is highlighted  using  the  value  for  <b>ma</b>  from  the
       <b>ZLS_COLORS</b>  or  <b>ZLS_COLOURS</b>  parameter.   The default value for this is `<b>7</b>' which forces the selected
       match to be highlighted using standout mode on a vt100-compatible terminal.   If  neither  <b>ZLS_COLORS</b>
       nor <b>ZLS_COLOURS</b> is set, the same terminal control sequence as for the `<b>%S</b>' escape in prompts is used.

       If there are more matches than fit on the screen and the parameter <b>MENUPROMPT</b> is set, its value  will
       be  shown  below the matches.  It supports the same escape sequences as <b>LISTPROMPT</b>, but the number of
       the match or line shown will be that of the one where the mark is placed.  If its value is the  empty
       string, a default prompt will be used.

       The <b>MENUSCROLL</b> parameter can be used to specify how the list is scrolled.  If the parameter is unset,
       this is done line by line, if it is set to `<b>0</b>' (zero), the list will scroll half the number of  lines
       of  the  screen.  If the value is positive, it gives the number of lines to scroll and if it is nega-<font color="#ffffff" class="whiteout">tive,&nbsp;negative,</font>
       tive, the list will be scrolled the number of lines of the screen minus the (absolute) value.

       As for the <b>ZLS_COLORS</b>, <b>ZLS_COLOURS</b> and  <b>LISTPROMPT</b>  parameters,  neither  <b>MENUPROMPT</b>  nor  <b>MENUSCROLL</b>
       should  be  set  directly  when  using  the  shell  function  based  completion system.  Instead, the
       <b>select-prompt</b> and <b>select-scroll</b> styles should be used.

       The completion code sometimes decides not to show all of the  matches  in  the  list.   These  hidden
       matches  are  either  matches for which the completion function which added them explicitly requested
       that they not appear in the list (using the <b>-n</b> option of the <b>compadd</b> builtin  command)  or  they  are
       matches  which  duplicate  a string already in the list (because they differ only in things like pre-<font color="#ffffff" class="whiteout">fixes&nbsp;prefixes</font>
       fixes or suffixes that are not displayed).  In the list used for menu selection, however, even  these
       matches  are  shown  so  that it is possible to select them.  To highlight such matches the <b>hi</b> and <b>du</b>
       capabilities in the <b>ZLS_COLORS</b> and <b>ZLS_COLOURS</b> parameters are supported for  hidden  matches  of  the
       first and second kind, respectively.

       Selecting  matches  is done by moving the mark around using the zle movement functions.  When not all
       matches can be shown on the screen at the same time, the list will scroll up and down  when  crossing
       the top or bottom line.  The following zle functions have special meaning during menu selection:

       <b>accept-line</b>
              accepts the current match and leaves menu selection

       <b>send-break</b>
              leaves menu selection and restores the previous contents of the command line

       <b>redisplay</b>, <b>clear-screen</b>
              execute their normal function without leaving menu selection

       <b>accept-and-hold</b>, <b>accept-and-menu-complete</b>
              accept  the  currently inserted match and continue selection allowing to select the next match
              to insert into the line

       <b>accept-and-infer-next-history</b>
              accepts the current match and then tries completion with menu selection again;  in the case of
              files  this  allows one to select a directory and immediately attempt to complete files in it;
              if there are no matches, a message is shown and one can use <b>undo</b> to go back to  completion  on
              the  previous  level, every other key leaves menu selection (including the other zle functions
              which are otherwise special during menu selection)

       <b>undo</b>   removes matches inserted during the menu selection by one of the three functions before

       <b>down-history</b>, <b>down-line-or-history</b>
       <b>vi-down-line-or-history</b>,  <b>down-line-or-search</b>
              moves the mark one line down

       <b>up-history</b>, <b>up-line-or-history</b>
       <b>vi-up-line-or-history</b>, <b>up-line-or-search</b>
              moves the mark one line up

       <b>forward-char</b>, <b>vi-forward-char</b>
              moves the mark one column right

       <b>backward-char</b>, <b>vi-backward-char</b>
              moves the mark one column left

       <b>forward-word</b>, <b>vi-forward-word</b>
       <b>vi-forward-word-end</b>, <b>emacs-forward-word</b>
              moves the mark one screenful down

       <b>backward-word</b>, <b>vi-backward-word</b>, <b>emacs-backward-word</b>
              moves the mark one screenful up

       <b>vi-forward-blank-word</b>, <b>vi-forward-blank-word-end</b>
              moves the mark to the first line of the next group of matches

       <b>vi-backward-blank-word</b>
              moves the mark to the last line of the previous group of matches

       <b>beginning-of-history</b>
              moves the mark to the first line

       <b>end-of-history</b>
              moves the mark to the last line

       <b>beginning-of-buffer-or-history</b>, <b>beginning-of-line</b>
       <b>beginning-of-line-hist</b>, <b>vi-beginning-of-line</b>
              moves the mark to the leftmost column

       <b>end-of-buffer-or-history</b>, <b>end-of-line</b>
       <b>end-of-line-hist</b>, <b>vi-end-of-line</b>
              moves the mark to the rightmost column

       <b>complete-word</b>, <b>menu-complete</b>, <b>expand-or-complete</b>
       <b>expand-or-complete-prefix</b>, <b>menu-expand-or-complete</b>
              moves the mark to the next match

       <b>reverse-menu-complete</b>
              moves the mark to the previous match

       <b>vi-insert</b>
              this toggles between normal and interactive mode;  in  interactive  mode  the  keys  bound  to
              <b>self-insert</b>  and <b>self-insert-unmeta</b> insert into the command line as in normal editing mode but
              without leaving menu selection; after each character completion is tried again  and  the  list
              changes  to  contain only the new matches; the completion widgets make the longest unambiguous
              string be inserted in the command line and <b>undo</b> and <b>backward-delete-char</b> go back to the previ-<font color="#ffffff" class="whiteout">ous&nbsp;previous</font>
              ous set of matches

       <b>history-incremental-search-forward</b>,
              <b>history-incremental-search-backward</b>  this  starts  incremental searches in the list of comple-<font color="#ffffff" class="whiteout">tions&nbsp;completions</font>
              tions displayed; in this mode, <b>accept-line</b> only leaves incremental search, going back  to  the
              normal menu selection mode

       All movement functions wrap around at the edges; any other zle function not listed leaves menu selec-<font color="#ffffff" class="whiteout">tion&nbsp;selection</font>
       tion and executes that function.  It is possible to make widgets in the above list  do  the  same  by
       using  the  form  of  the widget with a `<b>.</b>' in front.  For example, the widget `<b>.accept-line</b>' has the
       effect of leaving menu selection and accepting the entire command line.

       During this selection the widget uses the keymap <b>menuselect</b>.  Any key that is  not  defined  in  this
       keymap or that is bound to <b>undefined-key</b> is looked up in the keymap currently selected.  This is used
       to ensure that the most important keys used during selection (namely the  cursor  keys,  return,  and
       TAB)  have  sensible defaults.  However, keys in the <b>menuselect</b> keymap can be modified directly using
       the <b>bindkey</b> builtin command (see <u>zshmodules</u>(1)). For example, to  make  the  return  key  leave  menu
       selection without accepting the match currently selected one could call

              <b>bindkey</b> <b>-M</b> <b>menuselect</b> <b>'^M'</b> <b>send-break</b>

       after loading the <b>zsh/complist</b> module.

<b>THE</b> <b>ZSH/COMPUTIL</b> <b>MODULE</b>
       The  <b>zsh/computil</b>  module adds several builtin commands that are used by some of the completion func-<font color="#ffffff" class="whiteout">tions&nbsp;functions</font>
       tions in the completion system based on shell functions (see <a href="zshcompsys.1.html#//apple_ref/doc/man/1/zshcompsys"><u>zshcompsys</u>(1)</a> ).  Except  for  <b>compquote</b>
       these  builtin commands are very specialised and thus not very interesting when writing your own com-<font color="#ffffff" class="whiteout">pletion&nbsp;completion</font>
       pletion functions.  In summary, these builtin commands are:

       <b>comparguments</b>
              This is used by the <b>_arguments</b> function to do the argument and  command  line  parsing.   Like
              <b>compdescribe</b> it has an option <b>-i</b> to do the parsing and initialize some internal state and var-<font color="#ffffff" class="whiteout">ious&nbsp;various</font>
              ious options to access the state information to decide what should be completed.

       <b>compdescribe</b>
              This is used by the <b>_describe</b> function to build the displays for the matches and  to  get  the
              strings  to  add as matches with their options.  On the first call one of the options <b>-i</b> or <b>-I</b>
              should be supplied as the first argument.  In the first  case,  display  strings  without  the
              descriptions  will  be  generated, in the second case, the string used to separate the matches
              from their descriptions must be given as the second argument and  the  descriptions  (if  any)
              will be shown.  All other arguments are like the definition arguments to <b>_describe</b> itself.

              Once  <b>compdescribe</b>  has  been called with either the <b>-i</b> or the <b>-I</b> option, it can be repeatedly
              called with the <b>-g</b> option and the names of five arrays  as  its  arguments.   This  will  step
              through  the  different  sets of matches and store the options in the first array, the strings
              with descriptions in the second, the matches for these  in  the  third,  the  strings  without
              descriptions  in  the  fourth,  and  the  matches for them in the fifth array.  These are then
              directly given to <b>compadd</b> to register the matches with the completion code.

       <b>compfiles</b>
              Used by the <b>_path_files</b> function to optimize complex recursive filename generation (globbing).
              It  does three things.  With the <b>-p</b> and <b>-P</b> options it builds the glob patterns to use, includ-<font color="#ffffff" class="whiteout">ing&nbsp;including</font>
              ing the paths already handled and trying to optimize the patterns with respect to  the  prefix
              and  suffix  from the line and the match specification currently used.  The <b>-i</b> option does the
              directory tests for the <b>ignore-parents</b> style and the <b>-r</b> option tests if a component  for  some
              of  the  matches  are equal to the string on the line and removes all other matches if that is
              true.

       <b>compgroups</b>
              Used by the <b>_tags</b> function to implement the internals of the  <b>group-order</b>  style.   This  only
              takes  its  arguments  as  names  of  completion groups and creates the groups for it (all six
              types: sorted and unsorted, both without removing duplicates, with removing all duplicates and
              with removing consecutive duplicates).

       <b>compquote</b> [ <b>-p</b> ] <u>names</u> ...
              There  may  be reasons to write completion functions that have to add the matches using the <b>-Q</b>
              option to <b>compadd</b> and perform quoting themselves.  Instead of interpreting the first character
              of  the <b>all_quotes</b> key of the <b>compstate</b> special association and using the <b>q</b> flag for parameter
              expansions, one can use this builtin command.  The arguments are the names of scalar or  array
              parameters  and  the values of these parameters are quoted as needed for the innermost quoting
              level.  If the <b>-p</b> option is given, quoting is done as if there is some prefix before the  val-<font color="#ffffff" class="whiteout">ues&nbsp;values</font>
              ues of the parameters, so that a leading equal sign will not be quoted.

              The return status is non-zero in case of an error and zero otherwise.

       <b>comptags</b>
       <b>comptry</b>
              These implement the internals of the tags mechanism.

       <b>compvalues</b>
              Like <b>comparguments</b>, but for the <b>_values</b> function.

<b>THE</b> <b>ZSH/DATETIME</b> <b>MODULE</b>
       The <b>zsh/datetime</b> module makes available one builtin command:

       <b>strftime</b> [ <b>-s</b> <u>scalar</u> ] <u>format</u> <u>epochtime</u>
       <b>strftime</b> <b>-r</b> [ <b>-q</b> ] [ <b>-s</b> <u>scalar</u> ] <u>format</u> <u>timestring</u>
              Output the date denoted by <u>epochtime</u> in the <u>format</u> specified.

              With  the  option <b>-r</b> (reverse), use the format <u>format</u> to parse the input string <u>timestring</u> and
              output the number of seconds since the epoch at which the time occurred.  If  no  timezone  is
              parsed,  the  current  timezone  is used; other parameters are set to zero if not present.  If
              <u>timestring</u> does not match <u>format</u> the command returns status 1; it will additionally  print  an
              error message unless the option <b>-q</b> (quiet) is given.  If <u>timestring</u> matches <u>format</u> but not all
              characters in <u>timestring</u> were used, the conversion succeeds;  however,  a  warning  is  issued
              unless  the  option <b>-q</b> is given.  The matching is implemented by the system function <b>strptime</b>;
              see <a href="../man3/strptime.3.html#//apple_ref/doc/man/3/strptime"><u>strptime</u>(3)</a>.  This means that zsh format extensions are not available, however for reverse
              lookup  they are not required.  If the function is not implemented, the command returns status
              2 and (unless <b>-q</b> is given) prints a message.

              If <b>-s</b> <u>scalar</u> is given, assign the date string (or epoch time in seconds if  <b>-r</b>  is  given)  to
              <u>scalar</u> instead of printing it.

       The <b>zsh/datetime</b> module makes available one parameter:

       <b>EPOCHSECONDS</b>
              An integer value representing the number of seconds since the epoch.

<b>THE</b> <b>ZSH/DELTOCHAR</b> <b>MODULE</b>
       The <b>zsh/deltochar</b> module makes available two ZLE functions:

       <b>delete-to-char</b>
              Read  a  character  from the keyboard, and delete from the cursor position up to and including
              the next (or, with repeat count <u>n</u>, the <u>n</u>th)  instance  of  that  character.   Negative  repeat
              counts mean delete backwards.

       <b>zap-to-char</b>
              This  behaves like <b>delete-to-char</b>, except that the final occurrence of the character itself is
              not deleted.

<b>THE</b> <b>ZSH/EXAMPLE</b> <b>MODULE</b>
       The <b>zsh/example</b> module makes available one builtin command:

       <b>example</b> [ <b>-flags</b> ] [ <u>args</u> ... ]
              Displays the flags and arguments it is invoked with.

       The purpose of the module is to serve as an example of how to write a module.

<b>THE</b> <b>ZSH/FILES</b> <b>MODULE</b>
       The <b>zsh/files</b> module makes some standard commands available as builtins:

       <b>chgrp</b> [ <b>-Rs</b> ] <u>group</u> <u>filename</u> ...
              Changes group of files specified.  This is equivalent to <b>chown</b> with a  <u>user-spec</u>  argument  of
              `<b>:</b><u>group</u>'.

       <b>chown</b> [ <b>-Rs</b> ] <u>user-spec</u> <u>filename</u> ...
              Changes ownership and group of files specified.

              The <u>user-spec</u> can be in four forms:

              <u>user</u>   change owner to <u>user</u>; do not change group
              <u>user</u><b>::</b> change owner to <u>user</u>; do not change group
              <u>user</u><b>:</b>  change owner to <u>user</u>; change group to <u>user</u>'s primary group
              <u>user</u><b>:</b><u>group</u>
                     change owner to <u>user</u>; change group to <u>group</u>
              <b>:</b><u>group</u> do not change owner; change group to <u>group</u>

              In each case, the `<b>:</b>' may instead be a `<b>.</b>'.  The rule is that if there is a `<b>:</b>' then the sepa-<font color="#ffffff" class="whiteout">rator&nbsp;separator</font>
              rator is `<b>:</b>', otherwise if there is a `<b>.</b>' then the separator is `<b>.</b>',  otherwise  there  is  no
              separator.

              Each  of  <u>user</u> and <u>group</u> may be either a username (or group name, as appropriate) or a decimal
              user ID (group ID).  Interpretation as a name takes precedence, if  there  is  an  all-numeric
              username (or group name).

              The  <b>-R</b> option causes <b>chown</b> to recursively descend into directories, changing the ownership of
              all files in the directory after changing the ownership of the directory itself.

              The <b>-s</b> option is a zsh extension to  <b>chown</b>  functionality.   It  enables  paranoid  behaviour,
              intended to avoid security problems involving a <b>chown</b> being tricked into affecting files other
              than the ones intended.  It will refuse to  follow  symbolic  links,  so  that  (for  example)
              ``<b>chown</b> <b>luser</b> <b>/tmp/foo/passwd</b>'' can't accidentally chown <b>/etc/passwd</b> if <b>/tmp/foo</b> happens to be
              a link to <b>/etc</b>.  It will also check where it is after leaving directories, so that a recursive
              chown  of a deep directory tree can't end up recursively chowning <b>/usr</b> as a result of directo-<font color="#ffffff" class="whiteout">ries&nbsp;directories</font>
              ries being moved up the tree.

       <b>ln</b> [ <b>-dfis</b> ] <u>filename</u> <u>dest</u>
       <b>ln</b> [ <b>-dfis</b> ] <u>filename</u> ... <u>dir</u>
              Creates hard (or, with <b>-s</b>, symbolic) links.  In the first form, the specified  <u>dest</u>ination  is
              created,  as  a  link to the specified <u>filename</u>.  In the second form, each of the <u>filename</u>s is
              taken in turn, and linked to a pathname in the specified <u>dir</u>ectory  that  has  the  same  last
              pathname component.

              Normally, <b>ln</b> will not attempt to create hard links to directories.  This check can be overrid-<font color="#ffffff" class="whiteout">den&nbsp;overridden</font>
              den using the <b>-d</b> option.  Typically only the super-user can actually succeed in creating  hard
              links to directories.  This does not apply to symbolic links in any case.

              By  default,  existing files cannot be replaced by links.  The <b>-i</b> option causes the user to be
              queried about replacing existing files.  The <b>-f</b> option causes existing files  to  be  silently
              deleted, without querying.  <b>-f</b> takes precedence.

       <b>mkdir</b> [ <b>-p</b> ] [ <b>-m</b> <u>mode</u> ] <u>dir</u> ...
              Creates directories.  With the <b>-p</b> option, non-existing parent directories are first created if
              necessary, and there will be no complaint if the directory already exists.  The <b>-m</b> option  can
              be used to specify (in octal) a set of file permissions for the created directories, otherwise
              mode 777 modified by the current <b>umask</b> (see <a href="../man2/umask.2.html#//apple_ref/doc/man/2/umask"><u>umask</u>(2)</a>) is used.

       <b>mv</b> [ <b>-fi</b> ] <u>filename</u> <u>dest</u>
       <b>mv</b> [ <b>-fi</b> ] <u>filename</u> ... <u>dir</u>
              Moves files.  In the first form, the specified <u>filename</u> is moved to the specified <u>dest</u>ination.
              In  the  second  form,  each of the <u>filename</u>s is taken in turn, and moved to a pathname in the
              specified <u>dir</u>ectory that has the same last pathname component.

              By default, the user will be queried before replacing any file that the user cannot write  to,
              but  writable  files  will  be  silently removed.  The <b>-i</b> option causes the user to be queried
              about replacing any existing files.  The <b>-f</b> option causes any existing files  to  be  silently
              deleted, without querying.  <b>-f</b> takes precedence.

              Note  that this <b>mv</b> will not move files across devices.  Historical versions of <b>mv</b>, when actual
              renaming is impossible, fall back on copying and removing files; if this behaviour is desired,
              use <b>cp</b> and <b>rm</b> manually.  This may change in a future version.

       <b>rm</b> [ <b>-dfirs</b> ] <u>filename</u> ...
              Removes files and directories specified.

              Normally, <b>rm</b> will not remove directories (except with the <b>-r</b> option).  The <b>-d</b> option causes <b>rm</b>
              to try removing directories with <b>unlink</b> (see <a href="../man2/unlink.2.html#//apple_ref/doc/man/2/unlink"><u>unlink</u>(2)</a>), the same method used for files.  Typ-<font color="#ffffff" class="whiteout">ically&nbsp;Typically</font>
              ically  only  the  super-user  can  actually succeed in unlinking directories in this way.  <b>-d</b>
              takes precedence over <b>-r</b>.

              By default, the user will be queried before removing any file that the user cannot  write  to,
              but  writable  files  will  be  silently removed.  The <b>-i</b> option causes the user to be queried
              about removing any files.  The <b>-f</b> option causes files to be silently deleted,  without  query-<font color="#ffffff" class="whiteout">ing,&nbsp;querying,</font>
              ing, and suppresses all error indications.  <b>-f</b> takes precedence.

              The  <b>-r</b>  option  causes  <b>rm</b> to recursively descend into directories, deleting all files in the
              directory before removing the directory with the <b>rmdir</b> system call (see <a href="../man2/rmdir.2.html#//apple_ref/doc/man/2/rmdir"><u>rmdir</u>(2)</a>).

              The <b>-s</b> option is a zsh extension to <b>rm</b> functionality.  It enables paranoid behaviour, intended
              to  avoid  common  security problems involving a root-run <b>rm</b> being tricked into removing files
              other than the ones intended.  It will refuse to follow symbolic links, so that (for  example)
              ``<b>rm</b>  <b>/tmp/foo/passwd</b>'' can't accidentally remove <b>/etc/passwd</b> if <b>/tmp/foo</b> happens to be a link
              to <b>/etc</b>.  It will also check where it is  after  leaving  directories,  so  that  a  recursive
              removal  of a deep directory tree can't end up recursively removing <b>/usr</b> as a result of direc-<font color="#ffffff" class="whiteout">tories&nbsp;directories</font>
              tories being moved up the tree.

       <b>rmdir</b> <u>dir</u> ...
              Removes empty directories specified.

       <b>sync</b>   Calls the system call of the same name (see <a href="../man2/sync.2.html#//apple_ref/doc/man/2/sync"><u>sync</u>(2)</a>), which flushes dirty buffers to disk.  It
              might return before the I/O has actually been completed.

<b>THE</b> <b>ZSH/MAPFILE</b> <b>MODULE</b>
       The <b>zsh/mapfile</b> module provides one special associative array parameter of the same name.

       <b>mapfile</b>
              This associative array takes as keys the names of files; the resulting value is the content of
              the file.  The value is treated identically to any other text coming from  a  parameter.   The
              value  may  also be assigned to, in which case the file in question is written (whether or not
              it originally existed); or an element may be unset, which will delete the  file  in  question.
              For example, `<b>vared</b> <b>mapfile[myfile]</b>' works as expected, editing the file `<b>myfile</b>'.

              When  the  array is accessed as a whole, the keys are the names of files in the current direc-<font color="#ffffff" class="whiteout">tory,&nbsp;directory,</font>
              tory, and the values are empty (to save a huge overhead in memory).   Thus  <b>${(k)mapfile}</b>  has
              the  same  affect as the glob operator <b>*(D)</b>, since files beginning with a dot are not special.
              Care must be taken with expressions such as <b>rm</b> <b>${(k)mapfile}</b>, which will delete every file  in
              the current directory without the usual `<b>rm</b> <b>*</b>' test.

              The parameter <b>mapfile</b> may be made read-only; in that case, files referenced may not be written
              or deleted.


   <b>Limitations</b>
       Although reading and writing of the file in question is efficiently handled,  zsh's  internal  memory
       management  may be arbitrarily baroque.  Thus it should not automatically be assumed that use of <b>map</b>-<font color="#ffffff" class="whiteout">file&nbsp;mapfile</font>
       <b>file</b> represents a gain in efficiency over use of other mechanisms.  Note in particular that the whole
       contents  of the file will always reside physically in memory when accessed (possibly multiple times,
       due to standard parameter substitution operations).  In particular, this  means  handling  of  suffi-<font color="#ffffff" class="whiteout">ciently&nbsp;sufficiently</font>
       ciently  long  files  (greater  than the machine's swap space, or than the range of the pointer type)
       will be incorrect.

       No errors are printed or flagged for non-existent, unreadable, or unwritable files, as the  parameter
       mechanism is too low in the shell execution hierarchy to make this convenient.

       It  is  unfortunate that the mechanism for loading modules does not yet allow the user to specify the
       name of the shell parameter to be given the special behaviour.

<b>THE</b> <b>ZSH/MATHFUNC</b> <b>MODULE</b>
       The <b>zsh/mathfunc</b> module provides standard mathematical functions for use when evaluating mathematical
       formulae.  The syntax agrees with normal C and FORTRAN conventions, for example,

              <b>((</b> <b>f</b> <b>=</b> <b>sin(0.3)</b> <b>))</b>

       assigns the sine of 0.3 to the parameter f.

       Most  functions take floating point arguments and return a floating point value.  However, any neces-<font color="#ffffff" class="whiteout">sary&nbsp;necessary</font>
       sary conversions from or to integer type will be performed automatically by the  shell.   Apart  from
       <b>atan</b>  with  a  second argument and the <b>abs</b>, <b>int</b> and <b>float</b> functions, all functions behave as noted in
       the manual page for the corresponding C function, except that any arguments  out  of  range  for  the
       function in question will be detected by the shell and an error reported.

       The following functions take a single floating point argument: <b>acos</b>, <b>acosh</b>, <b>asin</b>, <b>asinh</b>, <b>atan</b>, <b>atanh</b>,
       <b>cbrt</b>, <b>ceil</b>, <b>cos</b>, <b>cosh</b>, <b>erf</b>, <b>erfc</b>, <b>exp</b>, <b>expm1</b>, <b>fabs</b>, <b>floor</b>, <b>gamma</b>, <b>j0</b>, <b>j1</b>, <b>lgamma</b>, <b>log</b>, <b>log10</b>,  <b>log1p</b>,
       <b>logb</b>,  <b>sin</b>,  <b>sinh</b>, <b>sqrt</b>, <b>tan</b>, <b>tanh</b>, <b>y0</b>, <b>y1</b>.  The <b>atan</b> function can optionally take a second argument,
       in which case it behaves like the C function <b>atan2</b>.  The <b>ilogb</b> function takes a single floating point
       argument, but returns an integer.

       The  function <b>signgam</b> takes no arguments, and returns an integer, which is the C variable of the same
       name, as described in <a href="../man3/gamma.3.html#//apple_ref/doc/man/3/gamma"><u>gamma</u>(3)</a>.  Note that it is therefore only useful immediately after  a  call  to
       <b>gamma</b> or <b>lgamma</b>.  Note also that `<b>signgam(RPAR</b>' and `<b>signgam</b>' are distinct expressions.

       The following functions take two floating point arguments: <b>copysign</b>, <b>fmod</b>, <b>hypot</b>, <b>nextafter</b>.

       The following take an integer first argument and a floating point second argument: <b>jn</b>, <b>yn</b>.

       The following take a floating point first argument and an integer second argument: <b>ldexp</b>, <b>scalb</b>.

       The  function  <b>abs</b> does not convert the type of its single argument; it returns the absolute value of
       either a floating point number or an integer.  The functions <b>float</b> and <b>int</b>  convert  their  arguments
       into a floating point or integer value (by truncation) respectively.

       Note that the C <b>pow</b> function is available in ordinary math evaluation as the `<b>**</b>' operator and is not
       provided here.

       The function <b>rand48</b> is available if your system's mathematical library has the  function  <a href="../man3/erand48.3.html#//apple_ref/doc/man/3/erand48"><b>erand48(3)</b></a><b></b>.
       It  returns a pseudo-random floating point number between 0 and 1.  It takes a single string optional
       argument.

       If the argument is not present, the random number seed is initialised by three calls to  the  <a href="../man3/rand.3.html#//apple_ref/doc/man/3/rand"><b>rand(3)</b></a><b></b>
       function --- this produces the same random numbers as the next three values of <b>$RANDOM</b>.

       If  the  argument is present, it gives the name of a scalar parameter where the current random number
       seed will be stored.  On the first call, the value must contain at least  twelve  hexadecimal  digits
       (the remainder of the string is ignored), or the seed will be initialised in the same manner as for a
       call to <b>rand48</b> with no argument.  Subsequent calls to <b>rand48</b>(<u>param</u>) will then maintain  the  seed  in
       the  parameter  <u>param</u>  as  a string of twelve hexadecimal digits, with no base signifier.  The random
       number sequences for different parameters are completely independent, and are also  independent  from
       that used by calls to <b>rand48</b> with no argument.

       For example, consider

              <b>print</b> <b>$((</b> <b>rand48(seed)</b> <b>))</b>
              <b>print</b> <b>$((</b> <b>rand48()</b> <b>))</b>
              <b>print</b> <b>$((</b> <b>rand48(seed)</b> <b>))</b>

       Assuming  <b>$seed</b>  does  not  exist, it will be initialised by the first call.  In the second call, the
       default seed is initialised; note, however, that because of the properties of <b>rand()</b> there is a  cor-<font color="#ffffff" class="whiteout">relation&nbsp;correlation</font>
       relation between the seeds used for the two initialisations, so for more secure uses, you should gen-<font color="#ffffff" class="whiteout">erate&nbsp;generate</font>
       erate your own 12-byte seed.  The third call returns to the same sequence of random numbers  used  in
       the first call, unaffected by the intervening <b>rand48()</b>.

<b>THE</b> <b>ZSH/NEWUSER</b> <b>MODULE</b>
       The  <b>zsh/newuser</b>  module  is loaded at boot if it is available, the <b>RCS</b> option is set, and the <b>PRIVI</b>-<font color="#ffffff" class="whiteout">LEGED&nbsp;PRIVILEGED</font>
       <b>LEGED</b> option is not set (all three are true by default).  This takes place immediately after commands
       in  the global <b>zshenv</b> file (typically <b>/etc/zshenv</b>), if any, have been executed.  If the module is not
       available it is silently ignored by the shell; the module may safely be removed from <b>$MODULE_PATH</b>  by
       the administrator if it is not required.

       On loading, the module tests if any of the start-up files <b>.zshenv</b>, <b>.zprofile</b>, <b>.zshrc</b> or <b>.zlogin</b> exist
       in the directory given by the environment variable <b>ZDOTDIR</b>, or the user's home directory if  that  is
       not  set.  The test is not performed and the module halts processing if the shell was in an emulation
       mode (i.e. had been invoked as some other shell than zsh).

       If none of the start-up files were found, the module then looks for  the  file  <b>newuser</b>  first  in  a
       sitewide  directory, usually the parent directory of the <b>site-functions</b> directory, and if that is not
       found the module searches in a version-specific directory, usually the parent of the <b>functions</b> direc-<font color="#ffffff" class="whiteout">tory&nbsp;directory</font>
       tory  containing  version-specific functions.  (These directories can be configured when zsh is built
       using the <b>--enable-site-scriptdir=</b><u>dir</u> and <b>--enable-scriptdir=</b><u>dir</u> flags  to  <b>configure</b>,  respectively;
       the  defaults  are  <u>prefix</u><b>/share/zsh</b>  and  <u>prefix</u><b>/share/zsh/$ZSH_VERSION</b>  where the default <u>prefix</u> is
       <b>/usr/local</b>.)

       If the file <b>newuser</b> is found, it is then sourced in the same manner as a start-up file.  The file  is
       expected to contain code to install start-up files for the user, however any valid shell code will be
       executed.

       The <b>zsh/newuser</b> module is then unconditionally unloaded.

       Note that it is possible to achieve exactly the same effect as the <b>zsh/newuser</b> module by adding  code
       to <b>/etc/zshenv</b>.  The module exists simply to allow the shell to make arrangements for new users with-<font color="#ffffff" class="whiteout">out&nbsp;without</font>
       out the need for invervention by package maintainers and system administrators.

<b>THE</b> <b>ZSH/PARAMETER</b> <b>MODULE</b>
       The <b>zsh/parameter</b> module gives access to some of the internal hash tables used by the shell by defin-<font color="#ffffff" class="whiteout">ing&nbsp;defining</font>
       ing some special parameters.

       <b>options</b>
              The  keys  for  this  associative array are the names of the options that can be set and unset
              using the <b>setopt</b> and <b>unsetopt</b> builtins. The value of each key is either the string <b>on</b>  if  the
              option  is  currently  set, or the string <b>off</b> if the option is unset.  Setting a key to one of
              these strings is like setting or unsetting the option, respectively. Unsetting a key  in  this
              array is like setting it to the value <b>off</b>.

       <b>commands</b>
              This  array  gives  access  to the command hash table. The keys are the names of external com-<font color="#ffffff" class="whiteout">mands,&nbsp;commands,</font>
              mands, the values are the pathnames of the files that would be executed when the command would
              be  invoked.  Setting a key in this array defines a new entry in this table in the same way as
              with the <b>hash</b> builtin. Unsetting a key as in `<b>unset</b> <b>"commands[foo]"</b>' removes the entry for the
              given key from the command hash table.

       <b>functions</b>
              This  associative array maps names of enabled functions to their definitions. Setting a key in
              it is like defining a function with the name given by the key and the body given by the value.
              Unsetting a key removes the definition for the function named by the key.

       <b>dis_functions</b>
              Like <b>functions</b> but for disabled functions.

       <b>builtins</b>
              This  associative  array  gives  information about the builtin commands currently enabled. The
              keys are the names of the builtin commands and the values are either `<b>undefined</b>'  for  builtin
              commands  that  will automatically be loaded from a module if invoked or `<b>defined</b>' for builtin
              commands that are already loaded.

       <b>dis_builtins</b>
              Like <b>builtins</b> but for disabled builtin commands.

       <b>reswords</b>
              This array contains the enabled reserved words.

       <b>dis_reswords</b>
              Like <b>reswords</b> but for disabled reserved words.

       <b>aliases</b>
              This maps the names of the regular aliases currently enabled to their expansions.

       <b>dis_aliases</b>
              Like <b>aliases</b> but for disabled regular aliases.

       <b>galiases</b>
              Like <b>aliases</b>, but for global aliases.

       <b>dis_galiases</b>
              Like <b>galiases</b> but for disabled global aliases.

       <b>saliases</b>
              Like <b>raliases</b>, but for suffix aliases.

       <b>dis_saliases</b>
              Like <b>saliases</b> but for disabled suffix aliases.

       <b>parameters</b>
              The keys in this associative array are the names of the parameters currently defined. The val-<font color="#ffffff" class="whiteout">ues&nbsp;values</font>
              ues are strings describing the type of the parameter, in the same format used by the <b>t</b> parame-<font color="#ffffff" class="whiteout">ter&nbsp;parameter</font>
              ter flag, see <a href="zshexpn.1.html#//apple_ref/doc/man/1/zshexpn"><u>zshexpn</u>(1)</a> .  Setting or unsetting keys in this array is not possible.

       <b>modules</b>
              An associative array giving information about modules. The keys are the names of  the  modules
              loaded,  registered  to be autoloaded, or aliased. The value says which state the named module
              is in and is one of the strings `<b>loaded</b>', `<b>autoloaded</b>', or `<b>alias:</b><u>name</u>',  where  <u>name</u>  is  the
              name the module is aliased to.

              Setting or unsetting keys in this array is not possible.

       <b>dirstack</b>
              A  normal  array holding the elements of the directory stack. Note that the output of the <b>dirs</b>
              builtin command includes one more directory, the current working directory.

       <b>history</b>
              This associative array maps history event numbers to the full history lines.

       <b>historywords</b>
              A special array containing the words stored in the history.

       <b>jobdirs</b>
              This associative array maps job numbers to the directories from  which  the  job  was  started
              (which may not be the current directory of the job).

       <b>jobtexts</b>
              This  associative  array  maps job numbers to the texts of the command lines that were used to
              start the jobs.

       <b>jobstates</b>
              This associative array gives information about the states of the  jobs  currently  known.  The
              keys are the job numbers and the values are strings of the form `<u>job-state</u>:<u>mark</u>:<u>pid</u><b>=</b><u>state</u><b>...</b>'.
              The <u>job-state</u> gives the state the whole job is currently in, one of `<b>running</b>', `<b>suspended</b>', or
              `<b>done</b>'.  The  <u>mark</u>  is  `<b>+</b>' for the current job, `<b>-</b>' for the previous job and empty otherwise.
              This is followed by one `<u>pid</u><b>=</b><u>state</u>' for every process in the job. The <u>pid</u>s are, of course, the
              process IDs and the <u>state</u> describes the state of that process.

       <b>nameddirs</b>
              This associative array maps the names of named directories to the pathnames they stand for.

       <b>userdirs</b>
              This associative array maps user names to the pathnames of their home directories.

       <b>funcstack</b>
              This  array contains the names of the functions currently being executed. The first element is
              the name of the function using the parameter.

       <b>functrace</b>
              This array contains the names and line numbers of the callers corresponding to  the  functions
              currently being executed.  The format of each element is name:lineno.

<b>THE</b> <b>ZSH/PCRE</b> <b>MODULE</b>
       The <b>zsh/pcre</b> module makes some commands available as builtins:

       <b>pcre_compile</b> [ <b>-aimx</b> ] <u>PCRE</u>
              Compiles a perl-compatible regular expression.

              Option  <b>-a</b>  will  force the pattern to be anchored.  Option <b>-i</b> will compile a case-insensitive
              pattern.  Option <b>-m</b> will compile a multi-line pattern; that is, <b>^</b> and <b>$</b>  will  match  newlines
              within the pattern.  Option <b>-x</b> will compile an extended pattern, wherein whitespace and <b>#</b> com-<font color="#ffffff" class="whiteout">ments&nbsp;comments</font>
              ments are ignored.

       <b>pcre_study</b>
              Studies the previously-compiled PCRE which may result in faster matching.

       <b>pcre_match</b> [ <b>-a</b> <u>arr</u> ] <u>string</u>
              Returns successfully if <b>string</b> matches the previously-compiled PCRE.

              If the expression captures substrings within parentheses, <b>pcre_match</b> will set the array <u>$match</u>
              to those substrings, unless the <b>-a</b> option is given, in which case it will set the array <u>arr</u>.

       The <b>zsh/pcre</b> module makes available the following test condition:
       expr <b>-pcre-match</b> pcre
              Matches a string against a perl-compatible regular expression.

              For example,

              [[ "$text" -pcre-match ^d+$ ]] &amp;&amp; print text variable contains only "d's".

<b>THE</b> <b>ZSH/SCHED</b> <b>MODULE</b>
       The <b>zsh/sched</b> module makes available one builtin command:

       <b>sched</b> [<b>-o</b>] [<b>+</b>]<u>hh</u><b>:</b><u>mm</u>[:<u>ss</u>] <u>command</u> ...
       <b>sched</b> [<b>-o</b>] [<b>+</b>]<u>seconds</u> <u>command</u> ...
       <b>sched</b> [ <b>-</b><u>item</u> ]
              Make  an  entry  in  the  scheduled list of commands to execute.  The time may be specified in
              either absolute or relative time, and either as hours, minutes and (optionally) seconds  sepa-<font color="#ffffff" class="whiteout">rated&nbsp;separated</font>
              rated  by  a  colon, or seconds alone.  An absolute number of seconds indicates the time since
              the epoch (1970/01/01 00:00); this is useful in combination with the features in the <b>zsh/date</b>-<font color="#ffffff" class="whiteout">time&nbsp;zsh/datetime</font>
              <b>time</b> module, see the zsh/datetime module entry in <u>zshmodules</u>(1).

              With no arguments, prints the list of scheduled commands.  If the scheduled command has the <b>-o</b>
              flag set, this is shown at the start of the command.

              With the argument `<b>-</b><u>item</u>', removes the given item from the list.  The numbering of the list is
              continuous  and  entries are in time order, so the numbering can change when entries are added
              or deleted.

              Commands are executed either immediately before a prompt, or while the shell's line editor  is
              waiting for input.  In the latter case it is useful to be able to produce output that does not
              interfere with the line being edited.  Providing the option <b>-o</b> causes the shell to  clear  the
              command  line  before the event and redraw it afterwards.  This should be used with any sched-<font color="#ffffff" class="whiteout">uled&nbsp;scheduled</font>
              uled event that produces visible output to the terminal; it is not needed, for  example,  with
              output that updates a terminal emulator's title bar.

<b>THE</b> <b>ZSH/NET/SOCKET</b> <b>MODULE</b>
       The <b>zsh/net/socket</b> module makes available one builtin command:

       <b>zsocket</b> [ <b>-altv</b> ] [ <b>-d</b> <u>fd</u> ] [ <u>args</u> ]
              <b>zsocket</b> is implemented as a builtin to allow full use of shell command line editing, file I/O,
              and job control mechanisms.


   <b>Outbound</b> <b>Connections</b>
       <b>zsocket</b> [ <b>-v</b> ] [ <b>-d</b> <u>fd</u> ] <u>filename</u>
              Open a new Unix domain connection to <u>filename</u>.  The shell parameter <b>REPLY</b> will be set  to  the
              file  descriptor associated with that connection.  Currently, only stream connections are sup-<font color="#ffffff" class="whiteout">ported.&nbsp;supported.</font>
              ported.

              If <b>-d</b> is specified, its argument will be taken as the target file descriptor for  the  connec-<font color="#ffffff" class="whiteout">tion.&nbsp;connection.</font>
              tion.

              In order to elicit more verbose output, use <b>-v</b>.


   <b>Inbound</b> <b>Connections</b>
       <b>zsocket</b> <b>-l</b> [ <b>-v</b> ] [ <b>-d</b> <u>fd</u> ] <u>filename</u>
              <b>zsocket</b> <b>-l</b> will open a socket listening on <u>filename</u>.  The shell parameter <b>REPLY</b> will be set to
              the file descriptor associated with that listener.

              If <b>-d</b> is specified, its argument will be taken as the target file descriptor for  the  connec-<font color="#ffffff" class="whiteout">tion.&nbsp;connection.</font>
              tion.

              In order to elicit more verbose output, use <b>-v</b>.

       <b>zsocket</b> <b>-a</b> [ <b>-tv</b> ] [ <b>-d</b> <u>targetfd</u> ] <u>listenfd</u>
              <b>zsocket</b>  <b>-a</b>  will  accept  an incoming connection to the socket associated with <u>listenfd</u>.  The
              shell parameter <b>REPLY</b> will be set to the file descriptor associated with the  inbound  connec-<font color="#ffffff" class="whiteout">tion.&nbsp;connection.</font>
              tion.

              If  <b>-d</b>  is specified, its argument will be taken as the target file descriptor for the connec-<font color="#ffffff" class="whiteout">tion.&nbsp;connection.</font>
              tion.

              If <b>-t</b> is specified, <b>zsocket</b> will return if no incoming connection is  pending.   Otherwise  it
              will wait for one.

              In order to elicit more verbose output, use <b>-v</b>.

<b>THE</b> <b>ZSH/STAT</b> <b>MODULE</b>
       The <b>zsh/stat</b> module makes available one builtin command:

       <b>stat</b> [ <b>-gnNolLtTrs</b> ] [ <b>-f</b> <u>fd</u> ] [ <b>-H</b> <u>hash</u> ] [ <b>-A</b> <u>array</u> ] [ <b>-F</b> <u>fmt</u> ] [ <b>+</b><u>element</u> ] [ <u>file</u> ... ]
              The  command  acts  as  a  front  end to the <b>stat</b> system call (see <a href="../man2/stat.2.html#//apple_ref/doc/man/2/stat"><u>stat</u>(2)</a>).  If the <b>stat</b> call
              fails, the appropriate system error message printed and status 1 is returned.  The  fields  of
              <b>struct</b>  <b>stat</b>  give information about the files provided as arguments to the command.  In addi-<font color="#ffffff" class="whiteout">tion&nbsp;addition</font>
              tion to those available from the <b>stat</b> call, an extra element `<b>link</b>' is provided.   These  ele-<font color="#ffffff" class="whiteout">ments&nbsp;elements</font>
              ments are:

              <b>device</b> The number of the device on which the file resides.

              <b>inode</b>  The unique number of the file on this device (`<u>inode</u>' number).

              <b>mode</b>   The  mode  of  the  file; that is, the file's type and access permissions.  With the <b>-s</b>
                     option, this will be returned as a string corresponding to the first column in the dis-<font color="#ffffff" class="whiteout">play&nbsp;display</font>
                     play of the <b>ls</b> <b>-l</b> command.

              <b>nlink</b>  The number of hard links to the file.

              <b>uid</b>    The  user ID of the owner of the file.  With the <b>-s</b> option, this is displayed as a user
                     name.

              <b>gid</b>    The group ID of the file.  With the <b>-s</b> option, this is displayed as a group name.

              <b>rdev</b>   The raw device number.  This is only useful for special devices.

              <b>size</b>   The size of the file in bytes.

              <b>atime</b>
              <b>mtime</b>
              <b>ctime</b>  The last access, modification and inode change times of the file, respectively, as  the
                     number  of  seconds since midnight GMT on 1st January, 1970.  With the <b>-s</b> option, these
                     are printed as strings for the local time zone; the format can be altered with  the  <b>-F</b>
                     option, and with the <b>-g</b> option the times are in GMT.

              <b>blksize</b>
                     The number of bytes in one allocation block on the device on which the file resides.

              <b>block</b>  The number of disk blocks used by the file.

              <b>link</b>   If  the  file  is  a link and the <b>-L</b> option is in effect, this contains the name of the
                     file linked to, otherwise it is empty.  Note that if this element is  selected  (``<b>stat</b>
                     <b>+link</b>'') then the <b>-L</b> option is automatically used.

              A  particular  element  may  be selected by including its name preceded by a `<b>+</b>' in the option
              list; only one element is allowed.  The element may be shortened to any unique set of  leading
              characters.  Otherwise, all elements will be shown for all files.

              Options:

              <b>-A</b> <u>array</u>
                     Instead  of  displaying  the  results  on standard output, assign them to an <u>array</u>, one
                     <b>struct</b> <b>stat</b> element per array element for each file in order.  In this case neither the
                     name  of  the  element  nor  the name of the files appears in <u>array</u> unless the <b>-t</b> or <b>-n</b>
                     options were given, respectively.  If <b>-t</b> is given, the element name appears as a prefix
                     to  the  appropriate array element; if <b>-n</b> is given, the file name appears as a separate
                     array element preceding all the others.  Other formatting options are respected.

              <b>-H</b> <u>hash</u>
                     Similar to <b>-A</b>, but instead assign the values to <u>hash</u>.  The keys are the elements listed
                     above.   If the <b>-n</b> option is provided then the name of the file is included in the hash
                     with key <b>name</b>.

              <b>-f</b> <u>fd</u>  Use the file on file descriptor <u>fd</u> instead of named files; no list  of  file  names  is
                     allowed in this case.

              <b>-F</b> <u>fmt</u> Supplies  a  <b>strftime</b> (see <a href="../man3/strftime.3.html#//apple_ref/doc/man/3/strftime"><u>strftime</u>(3)</a>) string for the formatting of the time elements.
                     The <b>-s</b> option is implied.

              <b>-g</b>     Show the time elements in the GMT time zone.  The <b>-s</b> option is implied.

              <b>-l</b>     List the names of the type elements (to standard output or an array as appropriate) and
                     return immediately; options other than <b>-A</b> and arguments are ignored.

              <b>-L</b>     Perform  an  <b>lstat</b> (see <a href="../man2/lstat.2.html#//apple_ref/doc/man/2/lstat"><u>lstat</u>(2)</a>) rather than a <b>stat</b> system call.  In this case, if the
                     file is a link, information about the link  itself  rather  than  the  target  file  is
                     returned.  This option is required to make the <b>link</b> element useful.

              <b>-n</b>     Always  show  the names of files.  Usually these are only shown when output is to stan-<font color="#ffffff" class="whiteout">dard&nbsp;standard</font>
                     dard output and there is more than one file in the list.

              <b>-N</b>     Never show the names of files.

              <b>-o</b>     If a raw file mode is printed, show it in octal, which is more useful  for  human  con-<font color="#ffffff" class="whiteout">sumption&nbsp;consumption</font>
                     sumption  than  the  default  of decimal.  A leading zero will be printed in this case.
                     Note that this does not affect whether a raw or formatted file mode is shown, which  is
                     controlled by the <b>-r</b> and <b>-s</b> options, nor whether a mode is shown at all.

              <b>-r</b>     Print  raw  data (the default format) alongside string data (the <b>-s</b> format); the string
                     data appears in parentheses after the raw data.

              <b>-s</b>     Print <b>mode</b>, <b>uid</b>, <b>gid</b> and the three time elements as strings  instead  of  numbers.   In
                     each case the format is like that of <b>ls</b> <b>-l</b>.

              <b>-t</b>     Always  show  the  type  names for the elements of <b>struct</b> <b>stat</b>.  Usually these are only
                     shown when output is to standard output and no individual element has been selected.

              <b>-T</b>     Never show the type names of the <b>struct</b> <b>stat</b> elements.

<b>THE</b> <b>ZSH/SYSTEM</b> <b>MODULE</b>
       The <b>zsh/system</b> module makes available three builtin commands and two parameters.


<b>BUILTINS</b>
       <b>syserror</b> <b>[</b> <b>-e</b> <u>errvar</u> <b>]</b> <b>[</b> <b>-p</b> <u>prefix</u> <b>]</b> <b>[</b> <u>errno</u> <b>|</b> <u>errname</u> <b>]</b>
              This command prints out the error message associated with <u>errno</u>, a system error  number,  fol-<font color="#ffffff" class="whiteout">lowed&nbsp;followed</font>
              lowed by a newline to standard error.

              Instead  of  the  error  number,  a name <u>errname</u>, for example <b>ENOENT</b>, may be used.  The set of
              names is the same as the contents of the array <b>errnos</b>, see below.

              If the string <u>prefix</u> is given, it is printed in front of the error message, with no  interven-<font color="#ffffff" class="whiteout">ing&nbsp;intervening</font>
              ing space.

              If  <u>errvar</u>  is  supplied,  the entire message, without a newline, is assigned to the parameter
              names <u>errvar</u> and nothing is output.

              A return status of 0 indicates the message was successfully printed (although it  may  not  be
              useful  if  the error number was out of the system's range), a return status of 1 indicates an
              error in the parameters, and a return status of 2 indicates the error name was not  recognised
              (no message is printed for this).

       <b>sysread</b> <b>[</b> <b>-c</b> <u>countvar</u> <b>]</b> <b>[</b> <b>-i</b> <u>infd</u> <b>]</b> <b>[</b> <b>-o</b> <u>outfd</u> <b>]</b>
         <b>[</b> <b>-s</b> <u>bufsize</u> <b>]</b> <b>[</b> <b>-t</b> <u>timeout</u> <b>]</b> <b>[</b> <u>param</u> <b>]</b>
              Perform  a  single  system  read from file descriptor <u>infd</u>, or zero if that is not given.  The
              result of the read is stored in <u>param</u> or <u>REPLY</u> if that is not given.  If  <u>countvar</u>  is  given,
              the number of bytes read is assigned to the parameter named by <u>countvar</u>.

              The  maximum number of bytes read is <u>bufsize</u> or 8192 if that is not given, however the command
              returns as soon as any number of bytes was successfully read.

              If <u>timeout</u> is given, it specifies a timeout in seconds, which may be zero  to  poll  the  file
              descriptor.  This is handled by the <b>poll</b> system call if available, otherwise the <b>select</b> system
              call if available.

              If <u>outfd</u> is given, an attempt is made to write all the bytes just read to the file  descriptor
              <u>outfd</u>.   If  this  fails, because of a system error other than <b>EINTR</b> or because of an internal
              zsh error during an interrupt, the bytes read but not written  are  stored  in  the  parameter
              named by <u>param</u> if supplied (no default is used in this case), and the number of bytes read but
              not written is stored in the parameter named by <u>countvar</u> if that is supplied.  If it was  suc-<font color="#ffffff" class="whiteout">cessful,&nbsp;successful,</font>
              cessful,  <u>countvar</u>  contains  the full number of bytes transferred, as usual, and <u>param</u> is not
              set.

              The error <b>EINTR</b> (interrupted system call) is handled internally so that shell  interrupts  are
              transparent to the caller.  Any other error causes a return.

              The possible return statuses are
              0      At least one byte of data was successfully read and, if appropriate, written.

              1      There  was an error in the parameters to the command.  This is the only error for which
                     a message is printed to standard error.

              2      There was an error on the read, or on polling the input file descriptor for a  timeout.
                     The parameter <b>ERRNO</b> gives the error.

              3      Data were successfully read, but there was an error writing them to <u>outfd</u>.  The parame-<font color="#ffffff" class="whiteout">ter&nbsp;parameter</font>
                     ter <b>ERRNO</b> gives the error.

              4      The attempt to read timed out.  Note this does not set <b>ERRNO</b> as this is  not  a  system
                     error.

              5      No  system  error  occurred,  but  zero bytes were read.  This usually indicates end of
                     file.  The parameters are set according to the  usual  rules;  no  write  to  <u>outfd</u>  is
                     attempted.

       <b>syswrite</b> <b>[</b> <b>-c</b> <u>countvar</u> <b>]</b> <b>[</b> <b>-o</b> <u>outfd</u> <b>]</b> <u>data</u>
              The  data (a single string of bytes) are written to the file descriptor <u>outfd</u>, or 1 if that is
              not given, using the <b>write</b> system call.  Multiple write operations may be used  if  the  first
              does not write all the data.

              If <u>countvar</u> is given, the number of byte written is stored in the parameter named by <u>countvar</u>;
              this may not be the full length of <u>data</u> if an error occurred.

              The error <b>EINTR</b> (interrupted system call) is handled  internally  by  retrying;  otherwise  an
              error  causes the command to return.  For example, if the file descriptor is set to non-block-<font color="#ffffff" class="whiteout">ing&nbsp;non-blocking</font>
              ing output, an error <b>EAGAIN</b> (on some systems, <b>EWOULDBLOCK</b>) may result in the command returning
              early.

              The  return status may be 0 for success, 1 for an error in the parameters to the command, or 2
              for an error on the write; no error message is printed in the last  case,  but  the  parameter
              <b>ERRNO</b> will reflect the error that occurred.


<b>PARAMETERS</b>
       <b>errnos</b> A  readonly  array  of  the names of errors defined on the system.  These are typically macros
              defined in C by including the system header file <b>errno.h</b>.  The index of  each  name  (assuming
              the option <b>KSH_ARRAYS</b> is unset) corresponds to the error number.  Error numbers <u>num</u> before the
              last known error which have no name are given the name <b>E</b><u>num</u> in the array.

              Note that aliases for errors are not handled; only the canonical name is used.

       <b>sysparams</b>
              A readonly associative array.  The keys are:
       <b>pid</b>    Returns the process ID of the current process, even in subshells.  Compare <b>$$</b>,  which  returns
              the process ID of the main shell process.

       <b>ppid</b>   Returns  the  process  ID  of  the  parent of the current process, even in subshells.  Compare
              <b>$PPID</b>, which returns the process ID of the parent of the main shell process.

<b>THE</b> <b>ZSH/NET/TCP</b> <b>MODULE</b>
       The <b>zsh/net/tcp</b> module makes available one builtin command:

       <b>ztcp</b> [ <b>-acflLtv</b> ] [ <b>-d</b> <u>fd</u> ] [ <u>args</u> ]
              <b>ztcp</b> is implemented as a builtin to allow full use of shell command line  editing,  file  I/O,
              and job control mechanisms.

              If <b>ztcp</b> is run with no options, it will output the contents of its session table.

              If  it  is  run with only the option <b>-L</b>, it will output the contents of the session table in a
              format suitable for automatic parsing.  The option is ignored if given with a command to  open
              or  close  a session.  The output consists of a set of lines, one per session, each containing
              the following elements separated by spaces:

              File descriptor
                     The file descriptor in use for the connection.  For normal inbound (<b>I</b>) and outbound (<b>O</b>)
                     connections  this  may  be read and written by the usual shell mechanisms.  However, it
                     should only be close with `<b>ztcp</b> <b>-c</b>'.

              Connection type
                     A letter indicating how the session was created:

                     <b>Z</b>      A session created with the <b>zftp</b> command.

                     <b>L</b>      A connection opened for listening with `<b>ztcp</b> <b>-l</b>'.

                     <b>I</b>      An inbound connection accepted with `<b>ztcp</b> <b>-a</b>'.

                     <b>O</b>      An outbound connection created with `<b>ztcp</b> <u>host</u> <u>...</u>'.


              The local host
                     This is usually set to an all-zero IP address as the address of the localhost is irrel-<font color="#ffffff" class="whiteout">evant.&nbsp;irrelevant.</font>
                     evant.

              The local port
                     This is likely to be zero unless the connection is for listening.

              The remote host
                     This  is the fully qualified domain name of the peer, if available, else an IP address.
                     It is an all-zero IP address for a session opened for listening.

              The remote port
                     This is zero for a connection opened for listening.


   <b>Outbound</b> <b>Connections</b>
       <b>ztcp</b> [ <b>-v</b> ] [ <b>-d</b> <u>fd</u> ] <u>host</u> [ <u>port</u> ]
              Open a new TCP connection to <u>host</u>.  If the <u>port</u> is omitted, it will default to port  23.   The
              connection will be added to the session table and the shell parameter <b>REPLY</b> will be set to the
              file descriptor associated with that connection.

              If <b>-d</b> is specified, its argument will be taken as the target file descriptor for  the  connec-<font color="#ffffff" class="whiteout">tion.&nbsp;connection.</font>
              tion.

              In order to elicit more verbose output, use <b>-v</b>.


   <b>Inbound</b> <b>Connections</b>
       <b>ztcp</b> <b>-l</b> [ <b>-v</b> ] [ <b>-d</b> <u>fd</u> ] <u>port</u>
              <b>ztcp</b> <b>-l</b> will open a socket listening on TCP <u>port</u>.  The socket will be added to the session ta-<font color="#ffffff" class="whiteout">ble&nbsp;table</font>
              ble and the shell parameter <b>REPLY</b> will be set to the file descriptor associated with that lis-<font color="#ffffff" class="whiteout">tener.&nbsp;listener.</font>
              tener.

              If  <b>-d</b>  is specified, its argument will be taken as the target file descriptor for the connec-<font color="#ffffff" class="whiteout">tion.&nbsp;connection.</font>
              tion.

              In order to elicit more verbose output, use <b>-v</b>.

       <b>ztcp</b> <b>-a</b> [ <b>-tv</b> ] [ <b>-d</b> <u>targetfd</u> ] <u>listenfd</u>
              <b>ztcp</b> <b>-a</b> will accept an incoming connection to the port associated with <u>listenfd</u>.  The  connec-<font color="#ffffff" class="whiteout">tion&nbsp;connection</font>
              tion  will be added to the session table and the shell parameter <b>REPLY</b> will be set to the file
              descriptor associated with the inbound connection.

              If <b>-d</b> is specified, its argument will be taken as the target file descriptor for  the  connec-<font color="#ffffff" class="whiteout">tion.&nbsp;connection.</font>
              tion.

              If  <b>-t</b> is specified, <b>ztcp</b> will return if no incoming connection is pending.  Otherwise it will
              wait for one.

              In order to elicit more verbose output, use <b>-v</b>.


   <b>Closing</b> <b>Connections</b>
       <b>ztcp</b> <b>-cf</b> [ <b>-v</b> ] [ <u>fd</u> ]
       <b>ztcp</b> <b>-c</b> [ <b>-v</b> ] [ <u>fd</u> ]
              <b>ztcp</b> <b>-c</b> will close the socket associated with <u>fd</u>.  The socket will be removed from the session
              table.  If <u>fd</u> is not specified, <b>ztcp</b> will close everything in the session table.

              Normally, sockets registered by zftp (see <u>zshmodules</u>(1) ) cannot be closed this way.  In order
              to force such a socket closed, use <b>-f</b>.

              In order to elicit more verbose output, use <b>-v</b>.


   <b>Example</b>
       Here is how to create a TCP connection between two instances of zsh.  We need to pick  an  unassigned
       port; here we use the randomly chosen 5123.

       On <b>host1</b>,
              <b>zmodload</b> <b>zsh/net/tcp</b>
              <b>ztcp</b> <b>-l</b> <b>5123</b>
              <b>listenfd=$REPLY</b>
              <b>ztcp</b> <b>-a</b> <b>$listenfd</b>
              <b>fd=$REPLY</b>
       The second from last command blocks until there is an incoming connection.

       Now create a connection from <b>host2</b> (which may, of course, be the same machine):
              <b>zmodload</b> <b>zsh/net/tcp</b>
              <b>ztcp</b> <b>host1</b> <b>5123</b>
              <b>fd=$REPLY</b>

       Now on each host, <b>$fd</b> contains a file descriptor for talking to the other.  For example, on <b>host1</b>:
              <b>print</b> <b>This</b> <b>is</b> <b>a</b> <b>message</b> <b>&gt;&amp;$fd</b>
       and on <b>host2</b>:
              <b>read</b> <b>-r</b> <b>line</b> <b>&lt;&amp;$fd;</b> <b>print</b> <b>-r</b> <b>-</b> <b>$line</b>
       prints `<b>This</b> <b>is</b> <b>a</b> <b>message</b>'.

       To tidy up, on <b>host1</b>:
              <b>ztcp</b> <b>-c</b> <b>$listenfd</b>
              <b>ztcp</b> <b>-c</b> <b>$fd</b>
       and on <b>host2</b>
              <b>ztcp</b> <b>-c</b> <b>$fd</b>

<b>THE</b> <b>ZSH/TERMCAP</b> <b>MODULE</b>
       The <b>zsh/termcap</b> module makes available one builtin command:

       <b>echotc</b> <u>cap</u> [ <u>arg</u> ... ]
              Output the termcap value corresponding to the capability <u>cap</u>, with optional arguments.

       The <b>zsh/termcap</b> module makes available one parameter:

       <b>termcap</b>
              An associative array that maps termcap capability codes to their values.

<b>THE</b> <b>ZSH/TERMINFO</b> <b>MODULE</b>
       The <b>zsh/terminfo</b> module makes available one builtin command:

       <b>echoti</b> <u>cap</u> [ <u>arg</u> ]
              Output the terminfo value corresponding to the capability <u>cap</u>, instantiated with <u>arg</u> if appli-
              cable.

       The <b>zsh/terminfo</b> module makes available one parameter:

       <b>terminfo</b>
              An associative array that maps terminfo capability names to their values.

<b>THE</b> <b>ZSH/ZFTP</b> <b>MODULE</b>
       The <b>zsh/zftp</b> module makes available one builtin command:

       <b>zftp</b> <u>subcommand</u> [ <u>args</u> ]
              The <b>zsh/zftp</b> module is a client for FTP (file transfer protocol).   It  is  implemented  as  a
              builtin to allow full use of shell command line editing, file I/O, and job control mechanisms.
              Often, users will access it via shell functions providing a more powerful interface; a set  is
              provided  with the <b>zsh</b> distribution and is described in <a href="zshzftpsys.1.html#//apple_ref/doc/man/1/zshzftpsys"><u>zshzftpsys</u>(1)</a>.  However, the <b>zftp</b> com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
              mand is entirely usable in its own right.

              All commands consist of the command name <b>zftp</b> followed by the name of a subcommand.  These are
              listed  below.   The  return  status  of each subcommand is supposed to reflect the success or
              failure of the remote operation.  See a description of  the  variable  <b>ZFTP_VERBOSE</b>  for  more
              information on how responses from the server may be printed.


   <b>Subcommands</b>
       <b>open</b> <u>host</u>[<b>:</b><u>port</u>] [ <u>user</u> [ <u>password</u> [ <u>account</u> ] ] ]
              Open a new FTP session to <u>host</u>, which may be the name of a TCP/IP connected host or an IP num-<font color="#ffffff" class="whiteout">ber&nbsp;number</font>
              ber in the standard dot notation.  If the argument is in the form <u>host</u><b>:</b><u>port</u>, open a connection
              to  TCP  port <u>port</u> instead of the standard FTP port 21.  This may be the name of a TCP service
              or a number:  see the description of <b>ZFTP_PORT</b> below for more information.

              If IPv6 addresses in colon format are used, the <u>host</u> should be  surrounded  by  quoted  square
              brackets  to distinguish it from the <u>port</u>, for example <b>'[fe80::203:baff:fe02:8b56]'</b>.  For con-<font color="#ffffff" class="whiteout">sistency&nbsp;consistency</font>
              sistency this is allowed with all forms of <u>host</u>.

              Remaining arguments are passed to the <b>login</b> subcommand.  Note that if no arguments beyond <u>host</u>
              are  supplied,  <b>open</b>  will <u>not</u> automatically call <b>login</b>.  If no arguments at all are supplied,
              <b>open</b> will use the parameters set by the <b>params</b> subcommand.

              After a successful open, the shell variables <b>ZFTP_HOST</b>, <b>ZFTP_PORT</b>, <b>ZFTP_IP</b> and <b>ZFTP_SYSTEM</b> are
              available; see `Variables' below.

       <b>login</b> [ <u>name</u> [ <u>password</u> [ <u>account</u> ] ] ]
       <b>user</b> [ <u>name</u> [ <u>password</u> [ <u>account</u> ] ] ]
              Login  the user <u>name</u> with parameters <u>password</u> and <u>account</u>.  Any of the parameters can be omit-<font color="#ffffff" class="whiteout">ted,&nbsp;omitted,</font>
              ted, and will be read from standard input if needed (<u>name</u>  is  always  needed).   If  standard
              input is a terminal, a prompt for each one will be printed on standard error and <u>password</u> will
              not be echoed.  If any of the parameters are not used, a warning message is printed.

              After a successful login, the shell variables <b>ZFTP_USER</b>, <b>ZFTP_ACCOUNT</b> and <b>ZFTP_PWD</b> are  avail-<font color="#ffffff" class="whiteout">able;&nbsp;available;</font>
              able; see `Variables' below.

              This  command  may be re-issued when a user is already logged in, and the server will first be
              reinitialized for a new user.

       <b>params</b> [ <u>host</u> [ <u>user</u> [ <u>password</u> [ <u>account</u> ] ] ] ]
       <b>params</b> <b></b>-<font color="#ffffff" class="whiteout">Store&nbsp;paramsStore</font>
              Store the given parameters for a later <b>open</b> command with no arguments.  Only  those  given  on
              the  command line will be remembered.  If no arguments are given, the parameters currently set
              are printed, although the password will appear as a line of stars; the return status is one if
              no parameters were set, zero otherwise.

              Any  of  the  parameters  may be specified as a `<b>?</b>', which may need to be quoted to protect it
              from shell expansion.  In this case, the appropriate parameter will be read from stdin as with
              the  <b>login</b>  subcommand,  including  special handling of <u>password</u>.  If the `<b>?</b>' is followed by a
              string, that is used as the prompt for reading the parameter instead of  the  default  message
              (any  necessary  punctuation and whitespace should be included at the end of the prompt).  The
              first letter of the parameter (only) may be quoted with a `<b>\</b>';  hence  an  argument  <b>"\\$word"</b>
              guarantees  that  the string from the shell parameter <b>$word</b> will be treated literally, whether
              or not it begins with a `<b>?</b>'.

              If instead a single `<b>-</b>' is given, the existing parameters, if any, are deleted.  In that case,
              calling <b>open</b> with no arguments will cause an error.

              The  list  of  parameters  is  not  deleted  after  a <b>close</b>, however it will be deleted if the
              <b>zsh/zftp</b> module is unloaded.

              For example,

                     <b>zftp</b> <b>params</b> <b>ftp.elsewhere.xx</b> <b>juser</b> <b>'?Password</b> <b>for</b> <b>juser:</b> <b>'</b>

              will store the host <b>ftp.elsewhere.xx</b> and the user <b>juser</b> and then prompt the user for the  cor-<font color="#ffffff" class="whiteout">responding&nbsp;corresponding</font>
              responding password with the given prompt.

       <b>test</b>   Test  the  connection; if the server has reported that it has closed the connection (maybe due
              to a timeout), return status 2; if no connection was open anyway, return status 1; else return
              status  0.   The  <b>test</b>  subcommand is silent, apart from messages printed by the <b>$ZFTP_VERBOSE</b>
              mechanism, or error messages if the connection closes.  There is no network overhead for  this
              test.

              The  test is only supported on systems with either the <a href="../man2/select.2.html#//apple_ref/doc/man/2/select"><b>select(2)</b></a><b></b> or <a href="../man2/poll.2.html#//apple_ref/doc/man/2/poll"><b>poll(2)</b></a><b></b> system calls; oth-<font color="#ffffff" class="whiteout">erwise&nbsp;otherwise</font>
              erwise the message `<b>not</b> <b>supported</b> <b>on</b> <b>this</b> <b>system</b>' is printed instead.

              The <b>test</b> subcommand will automatically be called at the start of any other subcommand for  the
              current session when a connection is open.

       <b>cd</b> <u>directory</u>
              Change the remote directory to <u>directory</u>.  Also alters the shell variable <b>ZFTP_PWD</b>.

       <b>cdup</b>   Change  the  remote  directory  to the one higher in the directory tree.  Note that <b>cd</b> <b>..</b> will
              also work correctly on non-UNIX systems.

       <b>dir</b> [ <u>args...</u> ]
              Give a (verbose) listing of the remote directory.  The <u>args</u> are passed directly to the server.
              The  command's  behaviour is implementation dependent, but a UNIX server will typically inter-<font color="#ffffff" class="whiteout">pret&nbsp;interpret</font>
              pret <u>args</u> as arguments to the <b>ls</b> command and with no arguments return the result of  `<b>ls</b>  <b>-l</b>'.
              The directory is listed to standard output.

       <b>ls</b> [ <u>args</u> ]
              Give  a  (short)  listing  of  the remote directory.  With no <u>args</u>, produces a raw list of the
              files in the directory, one per line.  Otherwise, up to vagaries of the server implementation,
              behaves similar to <b>dir</b>.

       <b>type</b> [ <u>type</u> ]
              Change  the  type  for the transfer to <u>type</u>, or print the current type if <u>type</u> is absent.  The
              allowed values are `<b>A</b>' (ASCII), `<b>I</b>' (Image, i.e. binary), or `<b>B</b>' (a synonym for `<b>I</b>').

              The FTP default for a transfer is ASCII.  However, if <b>zftp</b> finds that the  remote  host  is  a
              UNIX  machine with 8-bit byes, it will automatically switch to using binary for file transfers
              upon <b>open</b>.  This can subsequently be overridden.

              The transfer type is only passed to the remote host when a  data  connection  is  established;
              this command involves no network overhead.

       <b>ascii</b>  The same as <b>type</b> <b>A</b>.

       <b>binary</b> The same as <b>type</b> <b>I</b>.

       <b>mode</b> [ <b>S</b> | <b>B</b> ]
              Set  the  mode type to stream (<b>S</b>) or block (<b>B</b>).  Stream mode is the default; block mode is not
              widely supported.

       <b>remote</b> <u>files...</u>
       <b>local</b> [ <u>files...</u> ]
              Print the size and last modification time of the remote or local files.  If there is more than
              one  item  on  the  list, the name of the file is printed first.  The first number is the file
              size, the second is the last modification time of the file in the format  <b>CCYYMMDDhhmmSS</b>  con-<font color="#ffffff" class="whiteout">sisting&nbsp;consisting</font>
              sisting  of  year,  month,  date,  hour,  minutes  and seconds in GMT.  Note that this format,
              including the length, is guaranteed, so that time strings can be directly compared via the  <b>[[</b>
              builtin's <b>&lt;</b> and <b>&gt;</b> operators, even if they are too long to be represented as integers.

              Not  all  servers  support  the  commands  for retrieving this information.  In that case, the
              <b>remote</b> command will print nothing and return status 2, compared with status 1 for a  file  not
              found.

              The  <b>local</b>  command (but not <b>remote</b>) may be used with no arguments, in which case the informa-<font color="#ffffff" class="whiteout">tion&nbsp;information</font>
              tion comes from examining file descriptor zero.  This is the same file as seen by a  <b>put</b>  com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
              mand with no further redirection.

       <b>get</b> <u>file</u> [...]
              Retrieve all <u>file</u>s from the server, concatenating them and sending them to standard output.

       <b>put</b> <u>file</u> [...]
              For each <u>file</u>, read a file from standard input and send that to the remote host with the given
              name.

       <b>append</b> <u>file</u> [...]
              As <b>put</b>, but if the remote <u>file</u> already exists, data is appended to it instead  of  overwriting
              it.

       <b>getat</b> <u>file</u> <u>point</u>
       <b>putat</b> <u>file</u> <u>point</u>
       <b>appendat</b> <u>file</u> <u>point</u>
              Versions of <b>get</b>, <b>put</b> and <b>append</b> which will start the transfer at the given <u>point</u> in the remote
              <u>file</u>.  This is useful for appending to an incomplete local  file.   However,  note  that  this
              ability  is  not universally supported by servers (and is not quite the behaviour specified by
              the standard).

       <b>delete</b> <u>file</u> [...]
              Delete the list of files on the server.

       <b>mkdir</b> <u>directory</u>
              Create a new directory <u>directory</u> on the server.

       <b>rmdir</b> <u>directory</u>
              Delete the directory <u>directory</u>  on the server.

       <b>rename</b> <u>old-name</u> <u>new-name</u>
              Rename file <u>old-name</u> to <u>new-name</u> on the server.

       <b>site</b> <u>args...</u>
              Send a host-specific command to the server.  You will probably only need this if instructed by
              the server to use it.

       <b>quote</b> <u>args...</u>
              Send  the raw FTP command sequence to the server.  You should be familiar with the FTP command
              set as defined in RFC959 before doing this.  Useful commands may include <b>STAT</b> and <b>HELP</b>.   Note
              also the mechanism for returning messages as described for the variable <b>ZFTP_VERBOSE</b> below, in
              particular that all messages from the control connection are sent to standard error.

       <b>close</b>
       <b>quit</b>   Close the current data connection.  This unsets the  shell  parameters  <b>ZFTP_HOST</b>,  <b>ZFTP_PORT</b>,
              <b>ZFTP_IP</b>, <b>ZFTP_SYSTEM</b>, <b>ZFTP_USER</b>, <b>ZFTP_ACCOUNT</b>, <b>ZFTP_PWD</b>, <b>ZFTP_TYPE</b> and <b>ZFTP_MODE</b>.

       <b>session</b> [ <u>sessname</u> ]
              Allows  multiple  FTP  sessions  to  be used at once.  The name of the session is an arbitrary
              string of characters; the default session is called `<b>default</b>'.   If  this  command  is  called
              without  an  argument, it will list all the current sessions; with an argument, it will either
              switch to the existing session called <u>sessname</u>, or create a new session of that name.

              Each session remembers the status of the connection,  the  set  of  connection-specific  shell
              parameters (the same set as are unset when a connection closes, as given in the description of
              <b>close</b>), and any user parameters specified with the <b>params</b> subcommand.  Changing to a  previous
              session  restores  those values; changing to a new session initialises them in the same way as
              if <b>zftp</b> had just been loaded.  The name of the current  session  is  given  by  the  parameter
              <b>ZFTP_SESSION</b>.

       <b>rmsession</b> [ <u>sessname</u> ]
              Delete a session; if a name is not given, the current session is deleted.  If the current ses-<font color="#ffffff" class="whiteout">sion&nbsp;session</font>
              sion is deleted, the earliest existing session becomes the new current session, otherwise  the
              current  session  is not changed.  If the session being deleted is the only one, a new session
              called `<b>default</b>' is created and becomes the current session; note that this is a  new  session
              even  if  the  session being deleted is also called `<b>default</b>'. It is recommended that sessions
              not be deleted while background commands which use <b>zftp</b> are still active.


   <b>Parameters</b>
       The following shell parameters are used by <b>zftp</b>.  Currently none of them are special.

       <b>ZFTP_TMOUT</b>
              Integer.  The time in seconds to wait for a network operation to complete before returning  an
              error.   If  this is not set when the module is loaded, it will be given the default value 60.
              A value of zero turns off timeouts.  If a timeout occurs on the control connection it will  be
              closed.  Use a larger value if this occurs too frequently.

       <b>ZFTP_IP</b>
              Readonly.  The IP address of the current connection in dot notation.

       <b>ZFTP_HOST</b>
              Readonly.  The hostname of the current remote server.  If the host was opened as an IP number,
              <b>ZFTP_HOST</b> contains that instead; this saves the overhead for a name lookup, as IP numbers  are
              most commonly used when a nameserver is unavailable.

       <b>ZFTP_PORT</b>
              Readonly.  The number of the remote TCP port to which the connection is open (even if the port
              was originally specified as a named service).  Usually this is the standard FTP port, 21.

              In the unlikely event that your system does not have  the  appropriate  conversion  functions,
              this  appears  in network byte order.  If your system is little-endian, the port then consists
              of two swapped bytes and the standard port will be reported as 5376.  In  that  case,  numeric
              ports passed to <b>zftp</b> <b>open</b> will also need to be in this format.

       <b>ZFTP_SYSTEM</b>
              Readonly.   The  system type string returned by the server in response to an FTP <b>SYST</b> request.
              The most interesting case is a string beginning <b>"UNIX</b> <b>Type:</b> <b>L8"</b>, which ensures maximum compat-<font color="#ffffff" class="whiteout">ibility&nbsp;compatibility</font>
              ibility with a local UNIX host.

       <b>ZFTP_TYPE</b>
              Readonly.   The type to be used for data transfers , either `<b>A</b>' or `<b>I</b>'.   Use the <b>type</b> subcom-<font color="#ffffff" class="whiteout">mand&nbsp;subcommand</font>
              mand to change this.

       <b>ZFTP_USER</b>
              Readonly.  The username currently logged in, if any.

       <b>ZFTP_ACCOUNT</b>
              Readonly.  The account name of the current user, if any.   Most  servers  do  not  require  an
              account name.

       <b>ZFTP_PWD</b>
              Readonly.  The current directory on the server.

       <b>ZFTP_CODE</b>
              Readonly.   The  three digit code of the last FTP reply from the server as a string.  This can
              still be read after the connection is closed, and is not  changed  when  the  current  session
              changes.

       <b>ZFTP_REPLY</b>
              Readonly.   The  last line of the last reply sent by the server.  This can still be read after
              the connection is closed, and is not changed when the current session changes.

       <b>ZFTP_SESSION</b>
              Readonly.  The name of the current FTP session; see the description of the <b>session</b> subcommand.

       <b>ZFTP_PREFS</b>
              A string of preferences for altering aspects of <b>zftp</b>'s behaviour.  Each preference is a single
              character.  The following are defined:

              <b>P</b>      Passive:  attempt to make the remote server initiate data transfers.  This is  slightly
                     more  efficient  than  sendport mode.  If the letter <b>S</b> occurs later in the string, <b>zftp</b>
                     will use sendport mode if passive mode is not available.

              <b>S</b>      Sendport:  initiate transfers by the FTP <b>PORT</b> command.  If this occurs before any <b>P</b>  in
                     the string, passive mode will never be attempted.

              <b>D</b>      Dumb:   use  only  the  bare  minimum  of  FTP  commands.   This prevents the variables
                     <b>ZFTP_SYSTEM</b> and <b>ZFTP_PWD</b> from being set, and will mean all connections default to ASCII
                     type.  It may prevent <b>ZFTP_SIZE</b> from being set during a transfer if the server does not
                     send it anyway (many servers do).

              If <b>ZFTP_PREFS</b> is not set when <b>zftp</b> is loaded, it will be set to a default of  `<b>PS</b>',  i.e.  use
              passive mode if available, otherwise fall back to sendport mode.

       <b>ZFTP_VERBOSE</b>
              A  string  of  digits  between  0  and 5 inclusive, specifying which responses from the server
              should be printed.  All responses go to standard error.  If any of the numbers 1 to  5  appear
              in  the  string, raw responses from the server with reply codes beginning with that digit will
              be printed to standard error.  The first digit of the three digit reply  code  is  defined  by
              RFC959 to correspond to:

              1.     A positive preliminary reply.

              2.     A positive completion reply.

              3.     A positive intermediate reply.

              4.     A transient negative completion reply.

              5.     A permanent negative completion reply.

              It  should be noted that, for unknown reasons, the reply `Service not available', which forces
              termination of a connection, is classified as 421, i.e. `transient negative',  an  interesting
              interpretation of the word `transient'.

              The code 0 is special:  it indicates that all but the last line of multiline replies read from
              the server will be printed to standard error in a processed format.   By  convention,  servers
              use  this mechanism for sending information for the user to read.  The appropriate reply code,
              if it matches the same response, takes priority.

              If <b>ZFTP_VERBOSE</b> is not set when <b>zftp</b> is loaded, it will be set to the default value <b>450</b>, i.e.,
              messages  destined  for  the  user and all errors will be printed.  A null string is valid and
              specifies that no messages should be printed.


   <b>Functions</b>
       <b>zftp_chpwd</b>
              If this function is set by the user, it is called every time  the  directory  changes  on  the
              server, including when a user is logged in, or when a connection is closed.  In the last case,
              <b>$ZFTP_PWD</b> will be unset; otherwise it will reflect the new directory.

       <b>zftp_progress</b>
              If this function is set by the user, it will be called during a <b>get</b>, <b>put</b> or  <b>append</b>  operation
              each  time sufficient data has been received from the host.  During a <b>get</b>, the data is sent to
              standard output, so it is vital that this function should write to standard error or  directly
              to the terminal, <u>not</u> to standard output.

              When  it  is called with a transfer in progress, the following additional shell parameters are
              set:

              <b>ZFTP_FILE</b>
                     The name of the remote file being transferred from or to.

              <b>ZFTP_TRANSFER</b>
                     A <b>G</b> for a <b>get</b> operation and a <b>P</b> for a <b>put</b> operation.

              <b>ZFTP_SIZE</b>
                     The total size of the complete file being transferred: the same as the first value pro-<font color="#ffffff" class="whiteout">vided&nbsp;provided</font>
                     vided  by the <b>remote</b> and <b>local</b> subcommands for a particular file.  If the server cannot
                     supply this value for a remote file being retrieved, it will not be set.  If  input  is
                     from a pipe the value may be incorrect and correspond simply to a full pipe buffer.

              <b>ZFTP_COUNT</b>
                     The amount of data so far transferred; a number between zero and <b>$ZFTP_SIZE</b>, if that is
                     set.  This number is always available.

              The function is initially called with <b>ZFTP_TRANSFER</b> set appropriately and  <b>ZFTP_COUNT</b>  set  to
              zero.   After  the  transfer  is  finished,  the  function  will  be called one more time with
              <b>ZFTP_TRANSFER</b> set to <b>GF</b> or <b>PF</b>, in case it wishes to tidy up.  It  is  otherwise  never  called
              twice with the same value of <b>ZFTP_COUNT</b>.

              Sometimes the progress meter may cause disruption.  It is up to the user to decide whether the
              function should be defined and to use <b>unfunction</b> when necessary.


   <b>Problems</b>
       A connection may not be opened in the left hand side of a pipe as this occurs in a subshell  and  the
       file  information  is  not updated in the main shell.  In the case of type or mode changes or closing
       the connection in a subshell, the information is returned but variables are  not  updated  until  the
       next  call  to <b>zftp</b>.  Other status changes in subshells will not be reflected by changes to the vari-<font color="#ffffff" class="whiteout">ables&nbsp;variables</font>
       ables (but should be otherwise harmless).

       Deleting sessions while a <b>zftp</b> command is active in the background can have unexpected effects,  even
       if  it does not use the session being deleted.  This is because all shell subprocesses share informa-<font color="#ffffff" class="whiteout">tion&nbsp;information</font>
       tion on the state of all connections, and deleting a session changes the ordering  of  that  informa-<font color="#ffffff" class="whiteout">tion.&nbsp;information.</font>
       tion.

       On  some operating systems, the control connection is not valid after a fork(), so that operations in
       subshells, on the left hand side of a pipeline, or in the background are not possible, as they should
       be.  This is presumably a bug in the operating system.

<b>THE</b> <b>ZSH/ZLE</b> <b>MODULE</b>
       The <b>zsh/zle</b> module contains the Zsh Line Editor.  See <a href="zshzle.1.html#//apple_ref/doc/man/1/zshzle"><u>zshzle</u>(1)</a>.

<b>THE</b> <b>ZSH/ZLEPARAMETER</b> <b>MODULE</b>
       The <b>zsh/zleparameter</b> module defines two special parameters that can be used to access internal infor-<font color="#ffffff" class="whiteout">mation&nbsp;information</font>
       mation of the Zsh Line Editor (see <a href="zshzle.1.html#//apple_ref/doc/man/1/zshzle"><u>zshzle</u>(1)</a>).

       <b>keymaps</b>
              This array contains the names of the keymaps currently defined.

       <b>widgets</b>
              This associative array contains one entry per widget defined. The name of the  widget  is  the
              key  and  the  value gives information about the widget. It is either the string `<b>builtin</b>' for
              builtin widgets, a string of the form `<b>user:</b><u>name</u>' for user-defined widgets, where <u>name</u> is  the
              name  of  the  shell  function implementing the widget, or it is a string of the form `<b>comple</b>-<font color="#ffffff" class="whiteout">tion:type:name',&nbsp;`completion:type:name',</font>
              <b>tion:</b><u>type</u><b>:</b><u>name</u>', for completion widgets. In the last case <u>type</u> is the name of the builtin wid-<font color="#ffffff" class="whiteout">gets&nbsp;widgets</font>
              gets the completion widget imitates in its behavior and <u>name</u> is the name of the shell function
              implementing the completion widget.

<b>THE</b> <b>ZSH/ZPROF</b> <b>MODULE</b>
       When loaded, the <b>zsh/zprof</b> causes shell functions to be  profiled.   The  profiling  results  can  be
       obtained  with the <b>zprof</b> builtin command made available by this module.  There is no way to turn pro-<font color="#ffffff" class="whiteout">filing&nbsp;profiling</font>
       filing off other than unloading the module.

       <b>zprof</b> [ <b>-c</b> ]
              Without the <b>-c</b> option, <b>zprof</b> lists profiling results to standard output.  The format is compa-<font color="#ffffff" class="whiteout">rable&nbsp;comparable</font>
              rable to that of commands like <b>gprof</b>.

              At the top there is a summary listing all functions that were called at least once.  This sum-<font color="#ffffff" class="whiteout">mary&nbsp;summary</font>
              mary is sorted in decreasing order of the amount of time spent in each.  The lines contain the
              number  of  the function in order, which is used in other parts of the list in suffixes of the
              form `<b>[</b><u>num</u><b>]</b>'.RE, then the number of calls made to the function.  The next three  columns  list
              the  time  in milliseconds spent in the function and its descendents, the average time in mil-<font color="#ffffff" class="whiteout">liseconds&nbsp;milliseconds</font>
              liseconds spent in the function and its descendents per call and the percentage of time  spent
              in all shell functions used in this function and its descendents.  The following three columns
              give the same information, but counting only the time spent in the function itself.  The final
              column shows the name of the function.

              After  the  summary,  detailed  information  about  every function that was invoked is listed,
              sorted in decreasing order of the amount of time spent in each function and  its  descendents.
              Each  of  these  entries  consists  of descriptions for the functions that called the function
              described, the function itself, and the functions that were called from it.   The  description
              for  the  function  itself  has the same format as in the summary (and shows the same informa-<font color="#ffffff" class="whiteout">tion).&nbsp;information).</font>
              tion).  The other lines don't show the number of the function at the beginning and have  their
              function  named  indented  to  make  it  easier  to  distinguish the line showing the function
              described in the section from the surrounding lines.

              The information shown in this case is almost the same as in the summary, but  only  refers  to
              the  call  hierarchy  being displayed.  For example, for a calling function the column showing
              the total running time lists the time spent in the described function and its descendents only
              for  the  times  when  it  was  called from that particular calling function.  Likewise, for a
              called function, this columns lists the total time  spent  in  the  called  function  and  its
              descendents only for the times when it was called from the function described.

              Also in this case, the column showing the number of calls to a function also shows a slash and
              then the total number of invocations made to the called function.

              As long as the <b>zsh/zprof</b> module is loaded, profiling will be done and multiple invocations  of
              the  <b>zprof</b>  builtin  command  will  show  the  times and numbers of calls since the module was
              loaded.  With the <b>-c</b> option, the <b>zprof</b> builtin command will reset its  internal  counters  and
              will not show the listing.  )

<b>THE</b> <b>ZSH/ZPTY</b> <b>MODULE</b>
       The <b>zsh/zpty</b> module offers one builtin:

       <b>zpty</b> [ <b>-e</b> ] [ <b>-b</b> ] <u>name</u> [ <u>arg</u> <u>...</u> ]
              The arguments following <u>name</u> are concatenated with spaces between, then executed as a command,
              as if passed to the <b>eval</b> builtin.  The command runs under a  newly  assigned  pseudo-terminal;
              this is useful for running commands non-interactively which expect an interactive environment.
              The <u>name</u> is not part of the command, but is used to refer to this command in  later  calls  to
              <b>zpty</b>.

              With the <b>-e</b> option, the pseudo-terminal is set up so that input characters are echoed.

              With the <b>-b</b> option, input to and output from the pseudo-terminal are made non-blocking.

       <b>zpty</b> <b>-d</b> [ <u>names</u> ... ]
              The second form, with the <b>-d</b> option, is used to delete commands previously started, by supply-<font color="#ffffff" class="whiteout">ing&nbsp;supplying</font>
              ing a list of their <u>name</u>s.  If no <u>names</u> are given, all commands are deleted.  Deleting a  com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
              mand causes the HUP signal to be sent to the corresponding process.

       <b>zpty</b> <b>-w</b> [ <b>-n</b> ] <u>name</u> [ <u>strings</u> <u>...</u> ]
              The <b>-w</b> option can be used to send the to command <u>name</u> the given <u>strings</u> as input (separated by
              spaces).  If the <b>-n</b> option is <u>not</u> given, a newline is added at the end.

              If no <u>strings</u> are provided, the standard input is copied to the pseudo-terminal; this may stop
              before copying the full input if the pseudo-terminal is non-blocking.

              Note that the command under the pseudo-terminal sees this input as if it were typed, so beware
              when sending special tty driver characters such as word-erase, line-kill, and end-of-file.

       <b>zpty</b> <b>-r</b> [ <b>-t</b> ] <u>name</u> [ <u>param</u> [ <u>pattern</u> ] ]
              The <b>-r</b> option can be used to read the output of the command <u>name</u>.  With only a <u>name</u>  argument,
              the output read is copied to the standard output.  Unless the pseudo-terminal is non-blocking,
              copying continues until the command under the pseudo-terminal exits; when  non-blocking,  only
              as much output as is immediately available is copied.  The return status is zero if any output
              is copied.

              When also given a <u>param</u> argument, at most one line is read and stored in the  parameter  named
              <u>param</u>.   Less than a full line may be read if the pseudo-terminal is non-blocking.  The return
              status is zero if at least one character is stored in <u>param</u>.

              If a <u>pattern</u> is given as well, output is read until the whole string read matches the <u>pattern</u>,
              even  in the non-blocking case.  The return status is zero if the string read matches the pat-<font color="#ffffff" class="whiteout">tern,&nbsp;pattern,</font>
              tern, or if the command has exited but at least one character could still be read.  As of this
              writing,  a  maximum of one megabyte of output can be consumed this way; if a full megabyte is
              read without matching the pattern, the return status is non-zero.

              In all cases, the return status is non-zero if nothing could be read, and  is  <b>2</b>  if  this  is
              because the command has finished.

              If the <b>-r</b> option is combined with the <b>-t</b> option, <b>zpty</b> tests whether output is available before
              trying to read.  If no output is available, <b>zpty</b> immediately returns the status <b>1</b>.

       <b>zpty</b> <b>-t</b> <u>name</u>
              The <b>-t</b> option without the <b>-r</b> option can be used to test whether the command <u>name</u> is still run-<font color="#ffffff" class="whiteout">ning.&nbsp;running.</font>
              ning.  It returns a zero status if the command is running and a non-zero value otherwise.

       <b>zpty</b> [ <b>-L</b> ]
              The  last form, without any arguments, is used to list the commands currently defined.  If the
              <b>-L</b> option is given, this is done in the form of calls to the <b>zpty</b> builtin.

<b>THE</b> <b>ZSH/ZSELECT</b> <b>MODULE</b>
       The <b>zsh/zselect</b> module makes available one builtin command:

       <b>zselect</b> [ <b>-rwe</b> <b>-t</b> <u>timeout</u> <b>-a</b> <u>array</u> ] [ <u>fd</u> ... ]
              The <b>zselect</b> builtin is a front-end to the `select' system call,  which  blocks  until  a  file
              descriptor  is ready for reading or writing, or has an error condition, with an optional time-<font color="#ffffff" class="whiteout">out.&nbsp;timeout.</font>
              out.  If this is not available on your system, the command prints an error message and returns
              status  2  (normal errors return status 1).  For more information, see your systems documenta-<font color="#ffffff" class="whiteout">tion&nbsp;documentation</font>
              tion for <!-- a --><u>select</u>(3)<!-- /a -->.  Note there is no connection with the shell builtin of the same name.

              Arguments and options may be  intermingled  in  any  order.   Non-option  arguments  are  file
              descriptors,  which  must  be decimal integers.  By default, file descriptors are to be tested
              for reading, i.e. <b>zselect</b> will return when data is available to be read from the file descrip-<font color="#ffffff" class="whiteout">tor,&nbsp;descriptor,</font>
              tor,  or more precisely, when a read operation from the file descriptor will not block.  After
              a <b>-r</b>, <b>-w</b> and <b>-e</b>, the given file descriptors are to be tested for reading,  writing,  or  error
              conditions.   These  options  and  an  arbitrary  list of file descriptors may be given in any
              order.

              (The presence of an `error condition' is not well defined in the documentation for many imple-<font color="#ffffff" class="whiteout">mentations&nbsp;implementations</font>
              mentations  of  the  select system call.  According to recent versions of the POSIX specifica-<font color="#ffffff" class="whiteout">tion,&nbsp;specification,</font>
              tion, it is really an <u>exception</u> condition, of which the only standard example  is  out-of-band
              data received on a socket.  So zsh users are unlikely to find the <b>-e</b> option useful.)

              The  option  `<b>-t</b> <u>timeout</u>' specifies a timeout in hundredths of a second.  This may be zero, in
              which case the file descriptors will simply be polled and <b>zselect</b> will return immediately.  It
              is  possible  to  call  zselect  with  no file descriptors and a non-zero timeout for use as a
              finer-grained replacement for `sleep'; not, however, the return status is always 1 for a time-<font color="#ffffff" class="whiteout">out.&nbsp;timeout.</font>
              out.

              The  option  `<b>-a</b>  <u>array</u>' indicates that <b>array</b> should be set to indicate the file <!-- a -->descriptor(s)<!-- /a -->
              which are ready.  If the option is not given, the array <b>reply</b> will be used for  this  purpose.
              The array will contain a string similar to the arguments for <b>zselect</b>.  For example,

                     <b>zselect</b> <b>-t</b> <b>0</b> <b>-r</b> <b>0</b> <b>-w</b> <b>1</b>

              might  return  immediately  with  status 0 and <b>$reply</b> containing `<b>-r</b> <b>0</b> <b>-w</b> <b>1</b>' to show that both
              file descriptors are ready for the requested operations.

              The option `<b>-A</b> <u>assoc</u>' indicates that the associative array <b>assoc</b> should be set to indicate the
              file  descriptor(s(  which  are ready.  This option overrides the option <b>-a</b>, nor will <b>reply</b> be
              modified.  The keys of <b>assoc</b> are the file descriptors, and the corresponding values are any of
              the characters `<b>rwe</b>' to indicate the condition.

              The command returns status 0 if some file descriptors are ready for reading.  If the operation
              timed out, or a timeout of 0 was given and no file descriptors were ready,  or  there  was  an
              error,  it returns status 1 and the array will not be set (nor modified in any way).  If there
              was an error in the select operation the appropriate error message is printed.

<b>THE</b> <b>ZSH/ZUTIL</b> <b>MODULE</b>
       The <b>zsh/zutil</b> module only adds some builtins:

       <b>zstyle</b> [ <b>-L</b> [ <u>pattern</u> [ <u>style</u> ] ] ]
       <b>zstyle</b> [ <b>-e</b> | <b>-</b> | <b>--</b> ] <u>pattern</u> <u>style</u> <u>strings</u> ...
       <b>zstyle</b> <b>-d</b> [ <u>pattern</u> [ <u>styles</u> ... ] ]
       <b>zstyle</b> <b>-g</b> <u>name</u> [ <u>pattern</u> [ <u>style</u> ] ]
       <b>zstyle</b> <b>-abs</b> <u>context</u> <u>style</u> <u>name</u> [ <u>sep</u> ]
       <b>zstyle</b> <b>-Tt</b> <u>context</u> <u>style</u> [ <u>strings</u> ...]
       <b>zstyle</b> <b>-m</b> <u>context</u> <u>style</u> <u>pattern</u>
              This builtin command is used to define and lookup styles.  Styles are pairs of names and  val-<font color="#ffffff" class="whiteout">ues,&nbsp;values,</font>
              ues,  where  the  values consist of any number of strings.  They are stored together with pat-<font color="#ffffff" class="whiteout">terns&nbsp;patterns</font>
              terns and lookup is done by giving a string, called the `context', which is  compared  to  the
              patterns.  The definition stored for the first matching pattern will be returned.

              For  ordering  of comparisons, patterns are searched from most specific to least specific, and
              patterns that are equally specific keep the order in which they were defined.   A  pattern  is
              considered  to  be more specific than another if it contains more components (substrings sepa-<font color="#ffffff" class="whiteout">rated&nbsp;separated</font>
              rated by colons) or if the patterns for the components are more specific, where simple strings
              are  considered  to  be  more specific than patterns and complex patterns are considered to be
              more specific than the pattern `<b>*</b>'.

              The first form (without arguments) lists the definitions in the order <b>zstyle</b> will test them.

              If the <b>-L</b> option is given, listing is done in the form of calls to <b>zstyle</b>.  The optional first
              argument is a pattern which will be matched against the string supplied as the pattern for the
              context; note that this means, for example, `<b>zstyle</b> <b>-L</b> <b>":completion:*"</b>' will  match  any  sup-<font color="#ffffff" class="whiteout">plied&nbsp;supplied</font>
              plied  pattern  beginning  `<b>:completion:</b>',  not just <b>":completion:*"</b>:  use <b>":completion:\*"</b> to
              match that.  The optional second argument limits the output to a specific style  (not  a  pat-<font color="#ffffff" class="whiteout">tern).&nbsp;pattern).</font>
              tern).  <b>-L</b> is not compatible with any other options.

              The other forms are the following:

              <b>zstyle</b> [ <b>-</b> | <b>--</b> | <b>-e</b> ] <u>pattern</u> <u>style</u> <u>strings</u> ...
                     Defines  the  given  <u>style</u>  for  the  <u>pattern</u> with the <u>strings</u> as the value.  If the <b>-e</b>
                     option is given, the <u>strings</u> will be concatenated (separated by spaces) and the result-<font color="#ffffff" class="whiteout">ing&nbsp;resulting</font>
                     ing  string  will  be evaluated (in the same way as it is done by the <b>eval</b> builtin com-<font color="#ffffff" class="whiteout">mand)&nbsp;command)</font>
                     mand) when the style is looked up.  In this case the parameter `<b>reply</b>' must be assigned
                     to  set  the strings returned after the evaluation.  Before evaluating the value, <b>reply</b>
                     is unset, and if it is still unset after the evaluation, the style is treated as if  it
                     were not set.

              <b>zstyle</b> <b>-d</b> [ <u>pattern</u> [ <u>styles</u> ... ] ]
                     Delete style definitions. Without arguments all definitions are deleted, with a <u>pattern</u>
                     all definitions for that pattern are deleted and if any <u>styles</u>  are  given,  then  only
                     those styles are deleted for the <u>pattern</u>.

              <b>zstyle</b> <b>-g</b> <u>name</u> [ <u>pattern</u> [ <u>style</u> ] ]
                     Retrieve  a  style  definition.  The  <u>name</u> is used as the name of an array in which the
                     results are stored. Without any further arguments, all <u>patterns</u> defined  are  returned.
                     With a <u>pattern</u> the styles defined for that pattern are returned and with both a <u>pattern</u>
                     and a <u>style</u>, the value strings of that combination is returned.

              The other forms can be used to look up or test patterns.

              <b>zstyle</b> <b>-s</b> <u>context</u> <u>style</u> <u>name</u> [ <u>sep</u> ]
                     The parameter <u>name</u> is set to the value of the style interpreted as a  string.   If  the
                     value  contains  several  strings  they  are  concatenated with spaces (or with the <u>sep</u>
                     string if that is given) between them.

              <b>zstyle</b> <b>-b</b> <u>context</u> <u>style</u> <u>name</u>
                     The value is stored in <u>name</u> as a boolean, i.e. as the string `<b>yes</b>'  if  the  value  has
                     only  one string and that string is equal to one of `<b>yes</b>', `<b>true</b>', `<b>on</b>', or `<b>1</b>'. If the
                     value is any other string or has more than one string, the parameter is set to `<b>no</b>'.

              <b>zstyle</b> <b>-a</b> <u>context</u> <u>style</u> <u>name</u>
                     The value is stored in <u>name</u> as an array. If <u>name</u> is declared as an  associative  array,
                     the  first,  third, etc. strings are used as the keys and the other strings are used as
                     the values.

              <b>zstyle</b> <b>-t</b> <u>context</u> <u>style</u> [ <u>strings</u> ...]
              <b>zstyle</b> <b>-T</b> <u>context</u> <u>style</u> [ <u>strings</u> ...]
                     Test the value of a style, i.e. the <b>-t</b> option only returns a status (sets <b>$?</b>).  Without
                     any <u>strings</u> the return status is zero if the style is defined for at least one matching
                     pattern, has only one string in its value, and that is equal to one of  `<b>true</b>',  `<b>yes</b>',
                     `<b>on</b>' or `<b>1</b>'. If any <u>strings</u> are given the status is zero if and only if at least one of
                     the <u>strings</u> is equal to at least one of the strings in the value. If the style  is  not
                     defined, the status is <b>2</b>.

                     The <b>-T</b> option tests the values of the style like <b>-t</b>, but it returns status zero (rather
                     than <b>2</b>) if the style is not defined for any matching pattern.

              <b>zstyle</b> <b>-m</b> <u>context</u> <u>style</u> <u>pattern</u>
                     Match a value. Returns status zero if the <u>pattern</u> matches at least one of  the  strings
                     in the value.

       <b>zformat</b> <b>-f</b> <u>param</u> <u>format</u> <u>specs</u> ...
       <b>zformat</b> <b>-a</b> <u>array</u> <u>sep</u> <u>specs</u> ...
              This  builtin  provides two different forms of formatting. The first form is selected with the
              <b>-f</b> option. In this case the <u>format</u> string will be modified  by  replacing  sequences  starting
              with  a  percent  sign  in  it  with  strings from the <u>specs</u>.  Each <u>spec</u> should be of the form
              `<u>char</u><b>:</b><u>string</u>' which will cause every appearance of  the  sequence  `<b>%</b><u>char</u>'  in  <u>format</u>  to  be
              replaced  by the <u>string</u>.  The `<b>%</b>' sequence may also contain optional minimum and maximum field
              width specifications between the `<b>%</b>' and the `<u>char</u>' in the form `<b>%</b><u>min</u><b>.</b><u>max</u><b>c</b>', i.e. the  minimum
              field  width is given first and if the maximum field width is used, it has to be preceded by a
              dot.  Specifying a minimum field width makes the result be padded with spaces to the right  if
              the <u>string</u> is shorter than the requested width.  Padding to the left can be achieved by giving
              a negative minimum field width.  If a maximum field width is specified,  the  <u>string</u>  will  be
              truncated  after  that many characters.  After all `<b>%</b>' sequences for the given <u>specs</u> have been
              processed, the resulting string is stored in the parameter <u>param</u>.

              The <b>%</b>-escapes also understand ternary expressions in the form used by prompts.  The <b>%</b> is  fol-<font color="#ffffff" class="whiteout">lowed&nbsp;followed</font>
              lowed  by a `<b>(</b>' and then an ordinary format specifier character as described above.  There may
              be a set of digits either before or after the `<b>(</b>'; these specify a test number, which defaults
              to  zero.   Negative  numbers  are also allowed.  An arbitrary delimiter character follows the
              format specifier, which is followed by a piece of `true' text, the delimiter character  again,
              a piece of `false' text, and a closing parenthesis.  The complete expression (without the dig-<font color="#ffffff" class="whiteout">its)&nbsp;digits)</font>
              its) thus looks like `<b>%(</b><u>X</u><b>.</b><u>text1</u><b>.</b><u>text2</u><b>)</b>', except that the  `<b>.</b>'  character  is  arbitrary.   The
              value  given  for the format specifier in the <u>char</u><b>:</b><u>string</u> expressions is evaluated as a mathe-<font color="#ffffff" class="whiteout">matical&nbsp;mathematical</font>
              matical expression, and compared with the test number.  If they are the same, <u>text1</u> is output,
              else  <u>text2</u> is output.  A parenthesis may be escaped in <u>text2</u> as <b>%)</b>.  Either of <u>text1</u> or <u>text2</u>
              may contain nested <b>%</b>-escapes.

              For example:

                     <b>zformat</b> <b>-f</b> <b>REPLY</b> <b>"The</b> <b>answer</b> <b>is</b> <b>'%3(c.yes.no)'."</b> <b>c:3</b>

              outputs "The answer is 'yes'." to <b>REPLY</b> since the value for  the  format  specifier  <b>c</b>  is  3,
              agreeing with the digit argument to the ternary expression.

              The  second  form, using the <b>-a</b> option, can be used for aligning strings.  Here, the <u>specs</u> are
              of the form `<u>left</u><b>:</b><u>right</u>' where `<u>left</u>' and `<u>right</u>' are arbitrary strings.   These  strings  are
              modified by replacing the colons by the <u>sep</u> string and padding the <u>left</u> strings with spaces to
              the right so that the <u>sep</u> strings in the result (and hence the <u>right</u> strings after  them)  are
              all aligned if the strings are printed below each other.  All strings without a colon are left
              unchanged and all strings with an empty <u>right</u> string have the trailing colon removed.  In both
              cases  the  lengths  of  the strings are not used to determine how the other strings are to be
              aligned.  The resulting strings are stored in the <u>array</u>.

       <b>zregexparse</b>
              This implements some internals of the <b>_regex_arguments</b> function.

       <b>zparseopts</b> [ <b>-D</b> ] [ <b>-K</b> ] [ <b>-E</b> ] [ <b>-a</b> <u>array</u> ] [ <b>-A</b> <u>assoc</u> ] <u>specs</u>
              This builtin simplifies the parsing of options in positional parameters, i.e. the set of argu-<font color="#ffffff" class="whiteout">ments&nbsp;arguments</font>
              ments  given by <b>$*</b>.  Each <u>spec</u> describes one option and must be of the form `<u>opt</u>[<b>=</b><u>array</u>]'.  If
              an option described by <u>opt</u> is found in the positional parameters it is copied into  the  <u>array</u>
              specified  with  the  <b>-a</b>  option; if the optional `<b>=</b><u>array</u>' is given, it is instead copied into
              that array.

              Note that it is an error to give any <u>spec</u> without an `<b>=</b><u>array</u>' unless  one  of  the  <b>-a</b>  or  <b>-A</b>
              options is used.

              Unless  the  <b>-E</b> option is given, parsing stops at the first string that isn't described by one
              of the <u>specs</u>.  Even with <b>-E</b>, parsing always stops at a positional parameter equal  to  `<b>-</b>'  or
              `<b>--</b>'.

              The <u>opt</u> description must be one of the following.  Any of the special characters can appear in
              the option name provided it is preceded by a backslash.

              <u>name</u>
              <u>name</u><b>+</b>  The <u>name</u> is the name of the option without the leading `<b>-</b>'.   To  specify  a  GNU-style
                     long  option, one of the usual two leading `<b>-</b>' must be included in <u>name</u>; for example, a
                     `<b>--file</b>' option is represented by a <u>name</u> of `<b>-file</b>'.

                     If a `<b>+</b>' appears after <u>name</u>, the option is appended to <u>array</u> each time it is  found  in
                     the  positional  parameters;  without the `<b>+</b>' only the <u>last</u> occurrence of the option is
                     preserved.

                     If one of these forms is used, the option takes no argument, so parsing  stops  if  the
                     next  positional parameter does not also begin with `<b>-</b>' (unless the <b>-E</b> option is used).

              <u>name</u><b>:</b>
              <u>name</u><b>:</b>-<font color="#ffffff" class="whiteout">name::&nbsp;name:name::</font>
              <u>name</u><b>::</b> If one or two colons are given, the option takes an argument; with one colon, the argu-<font color="#ffffff" class="whiteout">ment&nbsp;argument</font>
                     ment  is mandatory and with two colons it is optional.  The argument is appended to the
                     <u>array</u> after the option itself.

                     An optional argument is put into the same array element as the option name  (note  that
                     this  makes  empty  strings  as  arguments indistinguishable).  A mandatory argument is
                     added as a separate element unless the `<b>:-</b>' form is used, in which case the argument is
                     put into the same element.

                     A `<b>+</b>' as described above may appear between the <u>name</u> and the first colon.

       The options of <b>zparseopts</b> itself are:

       <b>-a</b> <u>array</u>
              As described above, this names the default array in which to store the recognised options.

       <b>-A</b> <u>assoc</u>
              If this is given, the options and their values are also put into an associative array with the
              option names as keys and the arguments (if any) as the values.

       <b>-D</b>     If this option is given, all options found are removed from the positional parameters  of  the
              calling shell or shell function, up to but not including any not described by the <u>specs</u>.  This
              is similar to using the <b>shift</b> builtin.

       <b>-K</b>     With this option, the arrays specified with the <b>-a</b> and <b>-A</b> options and with the `<b>=</b><u>array</u>'  forms
              are kept unchanged when none of the <u>specs</u> for them is used.  This allows assignment of default
              values to them before calling <b>zparseopts</b>.

       <b>-E</b>     This changes the parsing rules to <u>not</u> stop at the first string that isn't described by one  of
              the <u>spec</u>s.  It can be used to test for or (if used together with <b>-D</b>) extract options and their
              arguments, ignoring all other options and arguments that may be in the positional  parameters.

       For example,

              <b>set</b> <b>--</b> <b>-a</b> <b>-bx</b> <b>-c</b> <b>y</b> <b>-cz</b> <b>baz</b> <b>-cend</b>
              <b>zparseopts</b> <b>a=foo</b> <b>b:=bar</b> <b>c+:=bar</b>

       will have the effect of

              <b>foo=(-a)</b>
              <b>bar=(-b</b> <b>x</b> <b>-c</b> <b>y</b> <b>-c</b> <b>z)</b>

       The arguments from `<b>baz</b>' on will not be used.

       As an example for the <b>-E</b> option, consider:

              <b>set</b> <b>--</b> <b>-a</b> <b>x</b> <b>-b</b> <b>y</b> <b>-c</b> <b>z</b> <b>arg1</b> <b>arg2</b>
              <b>zparseopts</b> <b>-E</b> <b>-D</b> <b>b:=bar</b>

       will have the effect of

              <b>bar=(-b</b> <b>y)</b>
              <b>set</b> <b>--</b> <b>-a</b> <b>x</b> <b>-c</b> <b>z</b> <b>arg1</b> <b>arg2</b>

       I.e., the option <b>-b</b> and its arguments are taken from the positional parameters and put into the array
       <b>bar</b>.



zsh 4.3.4                                      April 19, 2006                                  ZSHMODULES(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/zshmodules.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/zshmodules.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/zshmodules.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
