<html><head><title>Mac OS X Server
 Manual Page For rlm_sql(5)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/5/rlm_sql" title="Mac OS X Server
 Manual Page for rlm_sql(5)"><!-- headerDoc=man; indexgroup=Section 5; uid="//apple_ref/doc/man/5/rlm_sql"; name=rlm_sql(5) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with Mac&nbsp;OS&nbsp;X&nbsp;Server.  It is
not available on standard Mac OS X (client) installations.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
rlm_sql(5)                                    FreeRADIUS Module                                   rlm_sql(5)



<b>NAME</b>
       rlm_sql - FreeRADIUS Module

<b>DESCRIPTION</b>
       The <u>rlm</u><b>_</b><u>sql</u> module provides an SQL interface to retrieve authorization information and store account-<font color="#ffffff" class="whiteout">ing&nbsp;accounting</font>
       ing information.  It can be used in conjunction with, or in lieu of the  files  and  detail  modules.
       The SQL module has drivers to support the following SQL databases:

            db2
            iodbc
            mysql
            oracle
            postgresql
            sybase
            unixodbc

       Due  to  the  size of the configuration variables, the sql module is usually configured in a separate
       file, which is included in the main radiusd.conf via an include directive.

       The main configuration items to be aware of are:

       driver This variable specifies the driver to be loaded.

       server

       login

       password
              These specify the servername, username, and password the module will use  to  connect  to  the
              database.

       radius_db
              The name of the database where the radius tables are stored.

       acct_table1

       acct_table2
              These  specify the tables names for accounting records.  acct_table1 specifies the table where
              Start records are stored.  acct_table2 specifies the table where Stop records are stored.   In
              most cases, this should be the same table.

       postauth_table
              The name of the table to store post-authentication data.

       authcheck_table

       authreply_table
              The tables where individual Check-Items and Reply-Items are stored.

       groupcheck_table

       groupreply_table
              The tables where group Check-Items and Reply-Items are stored.

       usergroup_table
              The table where username to group relationships are stored.

       deletestatlesessions
              This  option is set to 'yes' or 'no'.  If you are doing Simultaneous-Use checking, and this is
              set to yes, stale sessions ( defined as sessions for which a Stop record was  not  received  )
              will be cleared.

       sqltrace

       sqltracefile
              These  two options are useful for debugging sql problems.  If sqltrace is set to yes, then all
              sql queries being executed are written to the file listed in sqltracefile.  This  is  disabled
              in normal operation.

       num_sql_socks
              The number of sql connections to make to the database.

       connect_failure_retry_delay
              The  number of seconds to wait before attempting to reconnect to a failed database connection.

       sql_user_name
              This is the definition of the SQL-User-Name attribute.  This is set once, so that you can  use
              %{SQL-User-Name}  in  the  SQL  queries,  rather  than the nested username substitution.  This
              ensures that Username is parsed consistently for all SQL queries executed.

       default_user_profile
              This is the default profile name that will be applied to all users if set.  This is not set by
              default.

       query_on_not_found
              This option is set to 'yes' or 'no'.  If set to yes, then the default user profile is returned
              if no specific match was found for the user.

       authorize_check_query

       authorize_reply_query
              These queries are run during the authorization stage to extract the user authorization  infor-<font color="#ffffff" class="whiteout">mation&nbsp;information</font>
              mation from the ${authcheck_table} and ${authreply_table}.

       authorize_group_check_query

       authorize_group_reply_query
              These queries are run during the authorization stage to extract the group authorization infor-<font color="#ffffff" class="whiteout">mation&nbsp;information</font>
              mation from the ${groupcheck_table} and ${groupreply_table}.

       accounting_onoff_query
              The query to be run when receiving an Accounting On or Accounting Off packet.

       accounting_update_query

       accounting_update_query_alt
              The query to be run when receiving an Accounting Update packet.  If the primary  query  fails,
              the alt query is run.

       accounting_start_query

       accounting_start_query_alt
              The  query  to  be run when receiving an Accounting Start packet.  If the primary query fails,
              the alt query is run.

       accounting_stop_query

       accounting_stop_query_alt
              The query to be run when receiving an Accounting Stop packet.  If the primary query fails, the
              alt query is run.

       simul_count_query
              The  query  to  be run to return the number simultaneous sessions for the purposes of limiting
              Simultaneous Use.

       simul_verify_query
              The query to return the detail information needed to confirm that all suspected connected ses-<font color="#ffffff" class="whiteout">sions&nbsp;sessions</font>
              sions are valid, and are not stale sessions.

       group_membership_query
              The query to run to check user group membership.

       postauth_query
              The query to run during the post-authentication stage.

<b>CONFIGURATION</b>
       Due to the size of the configuration for this module, it is not included in this manual page.  Please
       review the supplied configuration files for example queries and configuration details.

<b>SECTIONS</b>
       <b>authorization,</b> <b>accounting,</b> <b>checksimul,</b> <b>post-authentication</b>


<b>FILES</b>
       <u>/etc/raddb/radiusd.conf,</u> <u>/etc/raddb/sql.conf,</u> <u>/etc/raddb/oraclesql.conf,</u>  <u>/etc/raddb/postfresql.conf,</u>
       <u>/etc/raddb/mssql.conf</u>


<b>SEE</b> <b>ALSO</b>
       <a href="../man8/radiusd.8.html#//apple_ref/doc/man/8/radiusd"><b>radiusd</b>(8)</a>, <a href="radiusd.conf.5.html#//apple_ref/doc/man/5/radiusd.conf"><b>radiusd.conf</b>(5)</a>,

<b>AUTHORS</b>
       Chris Parker, cparker@segv.org



                                               5 February 2004                                    rlm_sql(5)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man5/rlm_sql.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man5/rlm_sql.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man5/rlm_sql.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
