<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>CFAttributedString Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="CFAttributedString Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001430-DontLinkChapterID_1" title="CFAttributedString Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/CoreFoundation/index.html#//apple_ref/doc/uid/TP30001281-TP30000421" target="_top">Core Foundation</a> &gt; <a href="../../../../../reference/CoreFoundation/idxDataManagement-date.html#//apple_ref/doc/uid/TP30001281-TP30000421-TP30000445" target="_top">Data Management</a> &gt; <a href="../index.html" target="_top">CFAttributedString Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionCFAttributedString.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001430-DontLinkChapterID_1-DontLinkElementID_2" title="CFAttributedString Reference"></a><h1>CFAttributedString Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Derived from</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><em><a href="../../CFTypeRef/index.html#//apple_ref/doc/uid/20001203" target="_top">CFType Reference</a></em></span></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../CoreFoundation_Collection/index.html#//apple_ref/doc/uid/TP40003849" target="_top">CoreFoundation</a>/CoreFoundation.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CFAttributedString.h</span><br/></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guides</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../Conceptual/CFPropertyLists/index.html#//apple_ref/doc/uid/10000130i" target="_top">Property List Programming Topics for Core Foundation</a></span><br/><span class="content_text"><a href="../../../Conceptual/CFStrings/index.html#//apple_ref/doc/uid/10000131i" target="_top">Strings Programming Guide for Core Foundation</a></span><br/><span class="content_text"><a href="../../../Conceptual/CFDataFormatting/index.html#//apple_ref/doc/uid/10000176i" target="_top">Data Formatting Guide for Core Foundation</a></span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40001430-CH203-SW1" title="Overview"></a><h2>Overview</h2><p>Instances of CFAttributedString manage character strings and associated sets of attributes (for example, font and kerning information) that apply to individual characters or ranges of characters in the string. CFAttributedString as defined in CoreFoundation provides the basic container functionality, while higher levels provide definitions for standard attributes, their values, and additional behaviors involving these. CFAttributedString represents an immutable string—use <span class="content_text"><!--a target="_top" -->CFMutableAttributedString<!--/a--></span> to create and manage an attributed string that can be changed after it has been created.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001430-CH203-SW2" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;While Core Foundation on iPhone OS contains CFAttributedString, there are no additions to the APIs in UIKit to add specific attributes such as font, style, or color, and there are no APIs to draw attributed strings.</p></div>
<p>CFAttributedString is not a “subclass” of CFString; that is, it does not respond to CFString function calls. CFAttributedString conceptually contains a CFString to which it applies attributes. This protects you from ambiguities caused by the semantic differences between simple and attributed string.</p>
<p>Attributes are identified by key/value pairs stored in CFDictionary objects. Keys must be CFString objects, while the corresponding values are CFType objects of an appropriate type. See the attribute constants in <em><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/index.html#//apple_ref/doc/uid/TP40004007" target="_top">NSAttributedString Application Kit Additions Reference</a></em> for standard attribute names.</p>
<div class="importantbox"><a name="//apple_ref/doc/uid/TP40001430-CH203-DontLinkElementID_3" title="Important:"></a><p><strong>Important:</strong>&nbsp;Attribute dictionaries set for an attributed string must always be created with kCFCopyStringDictionaryKeyCallbacks for their dictionary key callbacks and kCFTypeDictionaryValueCallBacks for their value callbacks; otherwise it's an error.</p><p></p></div>
<p>On Mac OS X, CFAttributedString is “toll-free bridged” with its Cocoa Foundation counterpart, <span class="content_text"><!--a target="_top" -->NSAttributedString<!--/a--></span>. This means that the Core Foundation type is interchangeable in function or method calls with the bridged Foundation object. Therefore, in a method where you see an <code>NSAttributedString *</code> parameter, you can pass in a <code>CFAttributedStringRef</code>, and in a function where you see a <code>CFAttributedStringRef</code> parameter, you can pass in an <code>NSAttributedString</code> instance. This also applies to concrete subclasses of <code>NSAttributedString</code>. See <span class="content_text"><a href="../../../../Cocoa/Conceptual/CarbonCocoaDoc/Articles/InterchangeableDataTypes.html#//apple_ref/doc/uid/20002401" target="_top">Interchangeable Data Types</a></span> for more information on toll-free bridging.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001430-CH203-SW3" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;<code>NSAttributedString</code> is not available on iPhone OS.</p></div>



<a name="//apple_ref/doc/uid/TP40001430-DontLinkChapterID_1-DontLinkElementID_1" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40001430-CH201-156812" title="Creating a CFAttributedString"></a>
    
    <h3 class="tasks">Creating a CFAttributedString</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringCreate">CFAttributedStringCreate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an attributed string with specified string and attributes.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringCreateCopy">CFAttributedStringCreateCopy</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an immutable copy of an attributed string.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringCreateWithSubstring">CFAttributedStringCreateWithSubstring</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a sub-attributed string from the specified range.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetLength">CFAttributedStringGetLength</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the length of the attributed string in characters.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetString">CFAttributedStringGetString</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the string for an attributed string.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40001430-CH201-156894" title="Accessing Attributes"></a>
    
    <h3 class="tasks">Accessing Attributes</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetAttribute">CFAttributedStringGetAttribute</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the value of a given attribute of an attributed string at a specified location.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetAttributes">CFAttributedStringGetAttributes</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the attributes of an attributed string at a specified location.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetAttributeAndLongestEffectiveRange">CFAttributedStringGetAttributeAndLongestEffectiveRange</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the value of a given attribute of an attributed string at a specified location.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetAttributesAndLongestEffectiveRange">CFAttributedStringGetAttributesAndLongestEffectiveRange</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the attributes of an attributed string at a specified location.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40001430-CH201-257706" title="Getting Attributed String Properties"></a>
    
    <h3 class="tasks">Getting Attributed String Properties</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetTypeID">CFAttributedStringGetTypeID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the type identifier for the CFAttributedString opaque type.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40001430-CH201-150386" title="Functions"></a><h2>Functions</h2>












<a name="//apple_ref/c/func/CFAttributedStringCreate" title="CFAttributedStringCreate"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringCreate" title="CFAttributedStringCreate"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-F11114" title="CFAttributedStringCreate"></a>
<a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_4"></a><h3 class="tight">CFAttributedStringCreate</h3>
<p class="spaceabove">Creates an attributed string with specified string and attributes.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> CFAttributedStringCreate (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> alloc,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> str,
   <a href="../../CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> attributes
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>alloc</em></dt>
<dd><p>The allocator to use to allocate memory for the new attributed string. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>str</em></dt>
<dd><p>A string that specifies the characters to use in the new attributed string. This value is copied.</p></dd>
<dt><em>attributes</em></dt>
<dd><p>A dictionary that contains the attributes to apply to the new attributed string. This value is copied.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An attributed string that contains the characters from <em>str</em> and the attributes specified by <em>attributes</em>. The result is <code><!--a  -->NULL<!--/a--></code> if there was a problem in creating the attributed string. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>Note that both the string and the attributes dictionary are copied. The specified attributes are applied to the whole string. If you want to apply different attributes to different ranges of the string, you should use a mutable attributed string.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CoreTextArc/index.html#//apple_ref/doc/uid/DTS10004328" target="_top">CoreTextArc</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CoreTextTest/index.html#//apple_ref/doc/uid/DTS10004140" target="_top">CoreTextTest</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringCreateCopy" title="CFAttributedStringCreateCopy"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringCreateCopy" title="CFAttributedStringCreateCopy"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-SW1" title="CFAttributedStringCreateCopy"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_5"></a><h3 class="tight">CFAttributedStringCreateCopy</h3>
<p class="spaceabove">Creates an immutable copy of an attributed string.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> CFAttributedStringCreateCopy (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> alloc,
   <a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> aStr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>alloc</em></dt>
<dd><p>The allocator to use to allocate memory for the new attributed string. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>aStr</em></dt>
<dd><p>The attributed string to copy. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An immutable attributed string with characters and attributes identical to those of <em>aStr</em>. Returns <code><!--a  -->NULL<!--/a--></code> if there was a problem copying the object. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringCreateWithSubstring" title="CFAttributedStringCreateWithSubstring"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringCreateWithSubstring" title="CFAttributedStringCreateWithSubstring"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-F11115" title="CFAttributedStringCreateWithSubstring"></a>
<a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_6"></a><h3 class="tight">CFAttributedStringCreateWithSubstring</h3>
<p class="spaceabove">Creates a sub-attributed string from the specified range.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> CFAttributedStringCreateWithSubstring (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> alloc,
   <a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> aStr,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> range
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>alloc</em></dt>
<dd><p>The allocator to use to allocate memory for the new attributed string. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>theString</em></dt>
<dd><p>The attributed string to copy. </p></dd>
<dt><em>range</em></dt>
<dd><p>The range of the attributed string to copy. <em>range</em> must not exceed the bounds of <em>aStr</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A new attributed string whose string and attributes are copied from from the specified range of the supplied attributed string. Returns <code><!--a  -->NULL<!--/a--></code> if there was a problem copying the object. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringGetAttribute" title="CFAttributedStringGetAttribute"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringGetAttribute" title="CFAttributedStringGetAttribute"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-SW2" title="CFAttributedStringGetAttribute"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_7"></a><h3 class="tight">CFAttributedStringGetAttribute</h3>
<p class="spaceabove">Returns the value of a given attribute of an attributed string at a specified location.</p>
<p class="spaceabove"><pre>
<a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> CFAttributedStringGetAttribute (
   <a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> aStr,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> loc,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> attrName,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> *effectiveRange
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>str</em></dt>
<dd><p>The attributed string to examine. </p></dd>
<dt><em>loc</em></dt>
<dd><p>The location in <em>str</em> at which to determine the attributes. <em>loc</em> must not exceed the bounds of <em>str</em>.</p></dd>
<dt><em>attrName</em></dt>
<dd><p>The name of the attribute whose value you want to determine. </p></dd>
<dt><em>effectiveRange</em></dt>
<dd><p>If not <code>NULL</code>, upon return contains a range including <em>loc</em> over which exactly the same set of attributes apply as at <em>loc</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The value of the specified attribute at the specified location in <em>str</em>. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-SW1" target="_top">Get Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>For performance reasons, a range returned in <em>effectiveRange</em> is not necessarily the maximal range. If you need the maximum range, you should use <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetAttributeAndLongestEffectiveRange">CFAttributedStringGetAttributeAndLongestEffectiveRange</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringGetAttributeAndLongestEffectiveRange" title="CFAttributedStringGetAttributeAndLongestEffectiveRange"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringGetAttributeAndLongestEffectiveRange" title="CFAttributedStringGetAttributeAndLongestEffectiveRange"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-BCIFHFJA" title="CFAttributedStringGetAttributeAndLongestEffectiveRange"></a>
<a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_8"></a><h3 class="tight">CFAttributedStringGetAttributeAndLongestEffectiveRange</h3>
<p class="spaceabove">Returns the value of a given attribute of an attributed string at a specified location.</p>
<p class="spaceabove"><pre>
<a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> CFAttributedStringGetAttributeAndLongestEffectiveRange (
   <a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> aStr,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> loc,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> attrName,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> inRange,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> *longestEffectiveRange
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>str</em></dt>
<dd><p>The attributed string to examine. </p></dd>
<dt><em>loc</em></dt>
<dd><p>The location in <em>str</em> at which to determine the attributes. It is a programming error for <em>loc</em> to specify a location outside the bounds of <em>str</em>.</p></dd>
<dt><em>attrName</em></dt>
<dd><p>The name of the attribute whose value you want to determine. </p></dd>
<dt><em>inRange</em></dt>
<dd><p>The range in <em>str</em> within which you want to find the longest effective range of the attributes at <em>loc</em>. <em>inRange</em> must not exceed the bounds of <em>str</em>.</p></dd>
<dt><em>effectiveRange</em></dt>
<dd><p>If not <code>NULL</code>, upon return contains the maximal range within <em>inRange</em> over which the exact same set of attributes apply. The returned range is clipped to <em>inRange</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A dictionary that contains the attributes of <em>str</em> at the specified location. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-SW1" target="_top">Get Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringGetAttributes" title="CFAttributedStringGetAttributes"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringGetAttributes" title="CFAttributedStringGetAttributes"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-F11122" title="CFAttributedStringGetAttributes"></a>
<a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_9"></a><h3 class="tight">CFAttributedStringGetAttributes</h3>
<p class="spaceabove">Returns the attributes of an attributed string at a specified location.</p>
<p class="spaceabove"><pre>
<a href="../../CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> CFAttributedStringGetAttributes (
   <a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> aStr,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> loc,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> *effectiveRange
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>str</em></dt>
<dd><p>The attributed string to examine. </p></dd>
<dt><em>loc</em></dt>
<dd><p>The location in <em>str</em> at which to determine the attributes. <em>loc</em> must not exceed the bounds of <em>str</em>.</p></dd>
<dt><em>effectiveRange</em></dt>
<dd><p>If not <code>NULL</code>, upon return contains a range including <em>loc</em> over which exactly the same set of attributes apply as at <em>loc</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A dictionary that contains the attributes of <em>str</em> at the specified location. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-SW1" target="_top">Get Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>For performance reasons, a range returned in <em>effectiveRange</em> is not necessarily the maximal range. If you need the maximum range, you should use <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringGetAttributesAndLongestEffectiveRange">CFAttributedStringGetAttributesAndLongestEffectiveRange</a></code>. </p>
<p>Note that the returned attribute dictionary might change in unpredictable ways if the attributed string is edited after this call. If you want to preserve the state of the dictionary, you should make an actual copy of it rather than just retaining it. In addition, you should make no assumptions about the relationship of the actual dictionary returned by this call and the dictionary originally used to set the attributes, other than the fact that the values stored in the dictionaries will be identical (that is, <code>==</code>) to those originally specified. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringGetAttributesAndLongestEffectiveRange" title="CFAttributedStringGetAttributesAndLongestEffectiveRange"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringGetAttributesAndLongestEffectiveRange" title="CFAttributedStringGetAttributesAndLongestEffectiveRange"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-BCIDIIDC" title="CFAttributedStringGetAttributesAndLongestEffectiveRange"></a>
<a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_10"></a><h3 class="tight">CFAttributedStringGetAttributesAndLongestEffectiveRange</h3>
<p class="spaceabove">Returns the attributes of an attributed string at a specified location.</p>
<p class="spaceabove"><pre>
<a href="../../CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> CFAttributedStringGetAttributesAndLongestEffectiveRange (
   <a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> aStr,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> loc,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> inRange,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> *longestEffectiveRange
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>str</em></dt>
<dd><p>The attributed string to examine. </p></dd>
<dt><em>loc</em></dt>
<dd><p>The location in <em>str</em> at which to determine the attributes. <em>loc</em> must not exceed the bounds of <em>str</em>.</p></dd>
<dt><em>inRange</em></dt>
<dd><p>The range in <em>str</em> within to find the longest effective range of the attributes at <em>loc</em>. <em>inRange</em> must not exceed the bounds of <em>str</em>.</p></dd>
<dt><em>effectiveRange</em></dt>
<dd><p>If  not <code>NULL</code>, upon return contains the maximal range within <em>inRange</em> over which the exact same set of attributes apply. The returned range is clipped to <em>inRange</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A dictionary that contains the attributes of <em>str</em> at the specified location. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-SW1" target="_top">Get Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringGetLength" title="CFAttributedStringGetLength"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringGetLength" title="CFAttributedStringGetLength"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-F11121" title="CFAttributedStringGetLength"></a>
<a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_11"></a><h3 class="tight">CFAttributedStringGetLength</h3>
<p class="spaceabove">Returns the length of the attributed string in characters.</p>
<p class="spaceabove"><pre>
<a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> CFAttributedStringGetLength (
   <a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> aStr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>str</em></dt>
<dd><p>The attributed string to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The length of the attributed string in characters; this is the same as <code>CFStringGetLength(CFAttributedStringGetString(aStr))</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CoreTextTest/index.html#//apple_ref/doc/uid/DTS10004140" target="_top">CoreTextTest</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringGetString" title="CFAttributedStringGetString"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringGetString" title="CFAttributedStringGetString"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-F11117" title="CFAttributedStringGetString"></a>
<a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_12"></a><h3 class="tight">CFAttributedStringGetString</h3>
<p class="spaceabove">Returns the string for an attributed string.</p>
<p class="spaceabove"><pre>
<a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> CFAttributedStringGetString (
   <a href="reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef">CFAttributedStringRef</a> aStr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aStr</em></dt>
<dd><p>The attributed string to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An immutable string containing the characters from <em>aStr</em>, or <code><!--a  -->NULL<!--/a--></code> if there was a problem creating the object. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-SW1" target="_top">Get Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>For performance reasons, the string returned will often be the backing store of the attributed string, and it might therefore change if the attributed string is edited. However, this is an implementation detail, and you should not rely on this behavior.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/c/func/CFAttributedStringGetTypeID" title="CFAttributedStringGetTypeID"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringGetTypeID" title="CFAttributedStringGetTypeID"></a><a name="//apple_ref/doc/uid/TP40001430-CH201-F11151" title="CFAttributedStringGetTypeID"></a>
<a name="//apple_ref/doc/uid/TP40001430-CH201-DontLinkElementID_13"></a><h3 class="tight">CFAttributedStringGetTypeID</h3>
<p class="spaceabove">Returns the type identifier for the CFAttributedString opaque type.</p>
<p class="spaceabove"><pre>
<a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeID" target="_top">CFTypeID</a> CFAttributedStringGetTypeID (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The type identifier for the CFAttributedString opaque type. </p>
<h5 class="tight">Discussion</h5>
<p>CFMutableAttributedString objects have the same type identifier as CFAttributedString objects.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code><a name="//apple_ref/doc/uid/TP40001430-CH1g-110288" title="Data Types"></a><h2>Data Types</h2>
<a name="//apple_ref/c/tdef/CFAttributedStringRef" title="CFAttributedStringRef"></a><a name="//apple_ref/doc/c_ref/CFAttributedStringRef" title="CFAttributedStringRef"></a><a name="//apple_ref/doc/uid/TP40001430-CH1g-C007678" title="CFAttributedStringRef"></a><a name="//apple_ref/doc/uid/TP40001430-CH1g-DontLinkElementID_14"></a><h3 class="tight">CFAttributedStringRef</h3>
<p class="spaceabove">A reference to a CFAttributedString object.</p>
<p class="spaceabove"><pre>
typedef const struct __CFAttributedString *CFAttributedStringRef;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <code>CFAttributedStringRef</code> type refers to an object that combines a CFString object with a collection of attributes that specify how the characters in the string should be displayed. CFAttributedString is an opaque type that defines the characteristics and behavior of CFAttributedString objects. </p>
<p>Values of type <code>CFAttributedStringRef</code> may refer to immutable or mutable strings, as CFMutableAttributedString objects respond to all functions intended for immutable CFAttributedString objects. Functions which accept <code>CFAttributedStringRef</code> values, and which need to hold on to the values immutably, should call <code><a href="reference.html#//apple_ref/c/func/CFAttributedStringCreateWithSubstring">CFAttributedStringCreateWithSubstring</a></code> (instead of <code><a href="../../CFTypeRef/Reference/reference.html#//apple_ref/c/func/CFRetain" target="_top">CFRetain</a></code>) to do so.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFAttributedString.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionCFAttributedString.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-05-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/CoreFoundation/Reference/CFAttributedString/Reference/reference.html%3Fid%3DTP40001430-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/CoreFoundation/Reference/CFAttributedString/Reference/reference.html%3Fid%3DTP40001430-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/CoreFoundation/Reference/CFAttributedString/Reference/reference.html%3Fid%3DTP40001430-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>