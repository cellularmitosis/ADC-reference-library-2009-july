<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>BSDLLCTest - /ReadMe-BSDLLCTest.html</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/Networking/index.html">Networking</a> &gt; <a href="../../samplecode/Networking/idxHardwareDrivers-date.html">Hardware & Drivers</a> &gt; <A HREF="javascript:location.replace('index.html');">BSDLLCTest</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">BSDLLCTest</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/ReadMe-BSDLLCTest.html</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/BSDLLCTest.c</option>
<option value="listing2.html">/BSDLLCTest.h</option>
<option value="listing3.html">/BSDLLCTestCommon.h</option>
<option value="listing4.html">/EthernetSocketStuff.c</option>
<option value="listing5.html">/EthernetSocketStuff.h</option>
<option value="listing6.html">/EthernetSocketTool.c</option>
<option value="listing7.html">/GetEthernetAddrSample.c</option>
<option value="listing8.html">/GetEthernetAddrSample.h</option>
<option value="listing9.html">/MoreAuthSample/MoreCFQ/MoreCFQ.c</option>
<option value="listing10.html">/MoreAuthSample/MoreCFQ/MoreCFQ.h</option>
<option value="listing11.html">/MoreAuthSample/MoreSecurity/MoreSecurity.c</option>
<option value="listing12.html">/MoreAuthSample/MoreSecurity/MoreSecurity.h</option>
<option value="listing13.html">/MoreAuthSample/MoreSecurity/MoreSecurityTest/MoreSecurityTest.c</option>
<option value="listing14.html">/MoreAuthSample/MoreSecurity/MoreSecurityTest/MoreSecurityTestCommon.h</option>
<option value="listing15.html">/MoreAuthSample/MoreSecurity/MoreSecurityTest/MoreSecurityTestTool.c</option>
<option value="listing16.html">/MoreAuthSample/MoreSecurity/ReadMeAboutMoreAuthSample.html</option>
<option value="listing17.html">/MoreAuthSample/MoreSetup.h</option>
<option value="listing18.html">/MoreAuthSample/MoreUNIX/MoreUNIX.c</option>
<option value="listing19.html">/MoreAuthSample/MoreUNIX/MoreUNIX.h</option>
<option value="listing20.html">/ReadMe-BSDLLCTest.html</option></select>
				</p>
				</form>
				<p><strong><a href="BSDLLCTest.zip">Download Sample</a></strong> (&#147;BSDLLCTest.zip&#148;, 442.6K)<BR>
<strong><a href="BSDLLCTest.dmg">Download Sample</a></strong> (&#147;BSDLLCTest.dmg&#148;, 760.8K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">&lt;HTML&gt;&lt;!--This file created 6/4/03 9:18 PM by Claris Home Page version 3.0--&gt;&lt;HEAD&gt;   &lt;TITLE&gt;Welcome to Adobe GoLive 6&lt;/TITLE&gt;   &lt;META NAME=GENERATOR CONTENT=&quot;Claris Home Page 3.0&quot;&gt;   &lt;X-CLARIS-WINDOW TOP=50 BOTTOM=746 LEFT=401 RIGHT=931&gt;   &lt;X-CLARIS-TAGVIEW MODE=minimal&gt;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;charset=ISO-8859-1&quot;&gt;&lt;/HEAD&gt;&lt;BODY BGCOLOR=&quot;#FFFFFF&quot;&gt;&lt;H1&gt;Read Me About BSDLLCTest&lt;/H1&gt;&lt;P&gt;1.2d1&lt;/P&gt;&lt;P&gt;The BSDLLCTest sample demonstrates how to read and write EthernetLink Layer Control (LLC) packets directly to the Ethernet driverusing BSD Raw Mode (PF_NDRV) API's. This update of the sampleimplements Quinn's MoreAuthSample v1.0b3 code so that the sampledemonstrates the use of a tool to open a PF_NDRV socket withsupervisory privileges as well as using the MoreAuthSample to returnthe privileged socket to the application.&lt;/P&gt;&lt;P&gt;This sample assumes an understanding of the use of theMoreAuthSample code. You can obtain the MoreAuthSample code from the&lt;A HREF=&quot;http://developer.apple.com/samplecode/Sample_Code/Security/MoreAuthSample.htm&quot;&gt;DTSSample Code Web Site&lt;/A&gt;.&lt;/P&gt;&lt;H2&gt;Packing List&lt;/H2&gt;&lt;P&gt;The sample contains the following items.&lt;/P&gt;&lt;UL&gt;   &lt;LI&gt;BSDLLCTest.app - compiled version of the sample&lt;/LI&gt;      &lt;LI&gt;BSDLLCTest.c - The BSDLLCTest Application source code.&lt;/LI&gt;      &lt;LI&gt;BSDLLCTest.nib - The user interface for the sample.&lt;/LI&gt;      &lt;LI&gt;BSDLLCTestCommon.h - Declarations common to the application   and tool.&lt;/LI&gt;      &lt;LI&gt;EthernetSocketStuff.c - The source code for the processing the   ethernet test&lt;/LI&gt;      &lt;LI&gt;GetEthernetAddrSample.c - Source code to obtain the Ethernet   Address for all Ethernet ports present&lt;/LI&gt;      &lt;LI&gt;EthernetSocketTool.c - Source code for the tool which opens   the PF_NDRV socket and returns it to the caller.&lt;/LI&gt;      &lt;LI&gt;MoreAuthSample - The MoreAuthSample module.&lt;/LI&gt;&lt;/UL&gt;&lt;H2&gt;Using the Sample&lt;/H2&gt;&lt;P&gt;The BSDLLCTest sample is used to send or to receive Ethernet LLCtype packets. The sample does not have a User Interface to handleEthernet Type I packets (e.g normal TCP/IP packets). Launch a copy ofthe sample application on one machine designated to receive packetsand another copy on a sender system.&lt;/P&gt;&lt;P&gt;After launching the sample, ensure that the &quot;Ethernet Port&quot; popupbutton is set to the desired port to send/recieve packets. You canspecify the Source Address or Destination address to be used foroutgoing packets. By default, in send mode, the packet is set to bebroadcast on the local network and the source address is set to thatof the selected port. For receiving packets, the destination addressis that of the selected port. You must delimit each hex word of thesource and/or destination Ethernet address with a ':' or '-'character.&lt;/P&gt;&lt;P&gt;Specify the desired Service Access Protocol (SAP) address to use.If you enter a SAP addreess of &quot;0xAA&quot;, you will also need to enterthe desired Sub Network Access Protocol (SNAP) address to use.&lt;/P&gt;&lt;P&gt;Click the &quot;Send/Receive&quot; radio button to enable the desired testfunction. For the &quot;Receive&quot; test, the test runs until the Cancel Testbutton is clicked. For the &quot;Send&quot; test, the application will send&quot;Num Packets&quot; of 1500 bytes to the selected interface driver.&lt;/P&gt;&lt;P&gt;Every time that the application is used and the &quot;Do Test&quot; buttonis clicked, the system will present an Authentication dialog. Youmust enter the admininistrative User Name and Password in order tocontinue with the test.&lt;/P&gt;&lt;H2&gt;Building the Sample&lt;/H2&gt;&lt;P&gt;You can build the sample using Project Builder from the Mac OS X10.2 developer tools. Open the project file (BSDLLCTest.pbproj), makesure that the &quot;BSDLLCTest&quot; target is selected, and choose Build fromthe Build menu. This will automatically build the application and thehelper tool.&lt;/P&gt;&lt;H2&gt;Caveats&lt;/H2&gt;&lt;P&gt;The BSDLLCTest code requires the presence of Mac OS X 10.1.x orgreater to run.&lt;/P&gt;&lt;P&gt;You can build the sample with Project Builder from the December2002 Developer Tools.&lt;/P&gt;&lt;P&gt;The BSDLLCTest sample demonstrates what happens when anapplication floods an Ethernet driver with too many packets at once -the outgoing packets are dropped. The default setting for outboundpackets is 10000. If the Receiver side is active, you will find thatless than 20% of the outbound packets are received. This is not aproblem with the receive portion of the test, but with the sender.You can verify this using an Ethernet sniffer to watch the Ethernettraffic between the sender and receiver.&lt;/P&gt;&lt;P&gt;Under Mac OS X 10.1.x, you cannot send an Ethernet packet with thesize field set to 1500 via a PF_NDRV socket. (This is an issue withPF_NDRV sockets only). The application will change the value of 1500to 1499 for all outbound packets when running under 10.1.X.&lt;/P&gt;&lt;P&gt;If you have run a previous version of this sample and the programfails to use the tool to open a PFNDRV socket, you may be using anoutdated version of the GetPFNDRSocketTool. Trash the&quot;~user/Library/Application Support/BSDLLCTest&quot; folder and launch theapplication again.&lt;/P&gt;&lt;H2&gt;Credits and Version History&lt;/H2&gt;&lt;P&gt;If you find any problems with this sample, mail&amp;lt;DTS@apple.com&amp;gt; and I&amp;#146;ll try to fix them up.&lt;/P&gt;&lt;P&gt;1.2d1 (June 2003)&lt;/P&gt;&lt;P&gt;Apple Developer Technical Support&lt;BR&gt;Networking, Communications, Hardware&lt;/P&gt;&lt;P&gt;1 Jun 2003&lt;/P&gt;&lt;P&gt;&lt;!--
$Log: ReadMeAboutMoreAuthSample.html,v $
Revision 1.1  2002/12/13 00:49:15  eskimo1
First checked in.

--&gt;&lt;/P&gt;&lt;/BODY&gt;&lt;/HTML&gt;</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/BSDLLCTest/listing20.html%3Fid%3DDTS10000692-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/BSDLLCTest/listing20.html%3Fid%3DDTS10000692-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/BSDLLCTest/listing20.html%3Fid%3DDTS10000692-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>