<html>

	<head>
		<title>Sample Chapter</TITLE>
<script language=javascript> window.parent.focus(); </script>
	</head>

	<body bgcolor="white">
		<a href="qtdevseries.htm"><i>QuickTime Developer Series</i></a><br>
		<img src="qlogo2.jpg" width="512" height="118"><br>
		<img src="title.gif" width="512" height="100"><br>
		<h1>Sample Chapter
		<hr width="600" align="left">
		<table width="600" border="0" border="no">
			<tr>
				<td scope="row">
					<ul>
						<li class="B1.Bullet1"><a href="samplechap/special.html#39239"><font color="#3366ff">Special Features of the QuickTime Plug-in</font></a>
						<ul type="DISC">
							<li><a href="samplechap/special.html#17489"><font color="#3366ff">Some Particularly Cool Features</font></a>
							<li><a href="samplechap/special.html#33023"><font color="#3366ff">Summary of QuickTime Plug-in Parameters</font></a>
						</ul>
						<li class="B1.Bullet1"><a href="sample2.htm#36844"><font color="#3366ff">Plug-in Helper</font></a>
						<ul type="DISC">
							<li><a href="sample2.htm#41178"><font color="#3366ff">Making a Poster Movie</font></a>
							<li><a href="sample2.htm#18121"><font color="#3366ff">Copy-Protecting Movies with Plug-In Helper</font></a>
							<li><a href="sample2.htm#37973"><font color="#3366ff">Loading a URL from a Movie</font></a>
						</ul>
						<li class="B1.Bullet1"><a href="#18744">Saving Movies</a>
						<ul type="DISC">
							<li><a href="#pgfId=7834">What's in a Name?</a>
							<li><a href="#pgfId=7795">Making Movies Self-Contained</a>
							<li><a href="#pgfId=7846">Flattening</a>
							<li><a href="#40502">Settings You Can Save</a>
						</ul>
						<li class="B1.Bullet1"><a href="sample4a.htm#21334"><font color="#3366ff">Putting Multiple Movies on a Page</font></a>
						<ul type="DISC">
							<li><a href="sample4a.htm#22725"><font color="#3366ff">Poster Movies</font></a>
							<li><a href="sample4b.htm#39836"><font color="#3366ff">Targeting QuickTime Player</font></a>
							<li><a href="sample4b.htm#pgfId=10574"><font color="#3366ff">Targeting a Frame or a Window</font></a>
							<li><a href="sample4b.htm#pgfId=8707"><font color="#3366ff">Creating a Window with JavaScript</font></a>
						</ul>
						<li class="B1.Bullet1"><a href="sample5.htm#23847"><font color="#3366ff">Detecting the QuickTime Plug-in<br>
						<br>
						<br>
						</font></a>
					</ul>
					<h1><a name="18744"></a>Saving Movies
					<hr>
					</h1>
					<p class="T0.Text0"><a name="pgfId=7794"></a><a name="marker=13709"></a>When you save a QuickTime movie, you have to give it a name and choose whether to make it self-contained. On your own computer, the movie probably plays equally well whether it's self-contained or not, and no matter what you name it. But these decisions have important consequences for the Web.</p>
					<div>
						<h2 class="H2.Heading2"><a name="pgfId=7834"></a>What's in a Name?</h2>
					</div>
					<p class="T0.Text0"><a name="pgfId=7796"></a>On your computer, a <a name="marker=13711"></a>file may be allowed to have blank spaces or characters other than numbers and letters in its name. But a movie intended for the Web must have a name that doesn't confuse the Web server's file system, the viewer's file system, or any browsers.</p>
					<p class="T1.Text1"><a name="pgfId=7835"></a>For example, a movie named <tt class="cv">My</tt> <tt class="cv">Movie</tt> cannot be used on most Web servers, and a link to <tt class="cv">&lt;A HREF=&quot;My Movie&quot;&gt;</tt> will fail on a variety of browsers and operating systems. One problem is the blank space, another is the lack of a file extension. Use <tt class="cv">MyMovie.mov</tt> instead.</p>
					<p class="T1.Text1"><a name="pgfId=7833"></a>As another example, Macintosh computers are not case-sensitive--you can name a file <tt class="cv">MyMovie.Mov</tt> ,and link to it with <tt class="cv">&lt;A HREF=&quot;mymovie.mov&quot;&gt;</tt> . This works fine locally, but the link will fail on a Windows CD or a UNIX Web server.</p>
					<p class="T1.Text1"><a name="pgfId=7804"></a>Here are some useful rules for naming movies:</p>
					<ul>
						<li class="B1.Bullet1"><a name="pgfId=7808"></a>Use a short name and a three-letter file extension separated by a period; for example: <tt class="cv">MyMovie.mov</tt> .
						<li class="B1.Bullet1"><a name="pgfId=7811"></a>Use lowercase <tt class="cv">.mov</tt> for the file extension.
						<li class="B1.Bullet1"><a name="pgfId=7817"></a>Use only one period (<tt class="cv"> .</tt> ) in the filename, the one before the file extension.
						<li class="B1.Bullet1"><a name="pgfId=7810"></a>Use only letters (<tt class="cv"> a-z</tt> ) and numbers (<tt class="cv"> 0-9</tt> ) in the actual name. <a name="marker=13713"></a>
						<li class="B1.Bullet1"><a name="pgfId=7824"></a>Never begin a filename with a number; use <tt class="cv">Movie1.mov</tt> rather than <tt class="cv">1Movie.mov</tt> .
						<li class="B1.Bullet1"><a name="pgfId=7813"></a>Never include a blank space, a colon (<tt class="cv"> :</tt> ), a vertical bar (<tt class="cv"> |</tt> ), a forward slash (<tt class="cv"> /</tt> ), or a backslash (<tt class="cv"> \</tt> ) in a filename.
						<li class="B1.Bullet1"><a name="pgfId=7812"></a>If you capitalize any letters in the filename, be sure all links to the movie use exactly the same capitalization. <tt class="cv">MyMovie.mov</tt> is not equal to <tt class="cv">mymovie.mov</tt> . <a name="marker=13712"></a>
					</ul>
					<div>
						<h2 class="H2.Heading2"><a name="pgfId=7795"></a>Making Movies Self-Contained</h2>
					</div>
					<p class="T0.Text0"><a name="pgfId=7836"></a><a name="marker=13714"></a>Generally speaking, you want to make your movies self-contained for Web delivery.</p>
					<p class="T1.Text1"><a name="pgfId=7837"></a>Remember that a movie is made of tracks. Tracks contain references to media samples such as sound or video. When you make a movie self-contained, any references to data in external files are resolved, and copies of the data are stored inside the movie file itself. What's more, the data samples are interleaved for smooth delivery.</p>
					<p class="T1.Text1"><a name="pgfId=7843"></a>If you don't make a movie self-contained, it stores references to the external files (the filenames and the relative path to the files). It also stores the byte offset into the files for each media sample. For such a movie to work, the data files cannot be edited, moved relative to the movie file, or renamed. Any directory names in the relative path must also remain unchanged.</p>
					<p class="T1.Text1"><a name="pgfId=7844"></a>For such a movie to work over the Web, there are additional requirements: the external files and any directories in the relative path must also exist on the Web server, they must have exactly the same names they had on the original computer, and these must be legal file and directory names in the Web server's file system.</p>
					<p class="T1.Text1"><a name="pgfId=7845"></a>There are so many ways to screw this up that it isn't even funny. As a general rule, you should just make the movie self-contained and not worry about it.</p>
					<p class="T1.Text1"><a name="pgfId=12028"></a>Still, there are times when you don't want to make a movie self-contained, as we'll describe in the next section. If you don't make a movie self-contained, you improve your chances of survival by doing the following:</p>
					<ul>
						<li class="B1.Bullet1"><a name="pgfId=7854"></a>Make sure that the data files have only lowercase letters in their filenames; don't mix uppercase and lowercase.
						<li class="B1.Bullet1"><a name="pgfId=7857"></a>Put all the data files in one directory, and save the movie to the same directory when you create it; that way there are no directory names in the path to the files.
					</ul>
					<div>
						<h2 class="H2.Heading2"><a name="pgfId=7846"></a>Flattening</h2>
					</div>
					<p class="T0.Text0"><a name="pgfId=7861"></a>Making a movie self-contained is sometimes called &quot;flattening&quot; the movie. That's unfortunate, because <a name="marker=13716"></a>flattening is really something more. Flattening a movie means that all references to media data are resolved and copies of the data are stored in the movie file. If the references are to data in external files, that does make the movie self-contained. But flattening also resolves internal references.</p>
					<p class="T1.Text1"><a name="pgfId=12039"></a>Remember, a track can contain multiple references to the same media data. What's more, the same data can be referenced by multiple tracks. If that data is already stored in the movie file, the movie is already self-contained. The references are to internal data.</p>
					<p class="T1.Text1"><a name="pgfId=12046"></a>When you flatten a movie, all references are resolved, and any referenced data is copied into the movie file. Internal references are resolved by making internal copies of the data. That makes the movie file larger, sometimes much larger, but it also optimizes the movie for smooth playback.</p>
					<p class="Note"><a name="pgfId=9611"></a></p>
					<p><b>Note:</b> <a name="marker=13719"></a>Macintosh files can have both a <a name="marker=13717"></a>data fork and a <a name="marker=13718"></a>resource fork, but Windows and UNIX files don't have resource forks. In the ancient days of QuickTime 1.0, the header data for a movie was stored in the movie file's resource fork. Before you could put a movie on a UNIX Web server or a Windows CD, you had to move some things into the data fork. There was a utility program named <tt class="cv">FlattenMoov</tt> that did this, so using it was often called &quot;flattening&quot; a movie as well. QuickTime now stores the movie header in the data fork by default, so movies no longer need to be flattened in this old sense.</p>
					<p class="T0.Text0"><a name="pgfId=7996"></a>Currently, clicking the &quot;Make movie self-contained&quot; checkbox when you save a movie in QuickTime Player flattens the movie. Sometimes you want to make a movie self-contained without flattening it, which can be tricky.</p>
					<p class="T1.Text1"><a name="pgfId=7885"></a>Here's an example. Open any self-contained movie in QuickTime Player. Select All. Copy. Paste. Paste. Paste. Now when you play the movie, it repeats all the data three times. If you choose Save from the File menu, then look at the file size, you'll find that the movie file has grown by only a few bytes. That's because it makes three references to the same set of data. It's self-contained, but not flattened.</p>
					<p class="T1.Text1"><a name="pgfId=7896"></a>But if you choose Save As from the File menu to make a new copy of the movie, you'll see that making the file self-contained triples its original size, while saving normally (allowing dependencies) uses only 1K.<br>
					<br>
					<br>
					<a name="pgfId=14037"></a></p>
					<div>
						<div>
							<img src="sample_13.gif"><br>
							<br>
							<br>
							<a name="pgfId=7889"></a>Since Save As creates a new file, your choice is to have no copies of the data (leaving the data in its original file) or to have three copies. Remember: QuickTime Player automatically flattens a movie when you choose &quot;Make movie self-contained.&quot; Movies created using Save As never contain internal references.</div>
						<p class="T1.Text1"><a name="pgfId=12182"></a>Why would you want to make a movie with internal references? So you could repeat some of the data several times, even hundreds of times, without making a large file. Making the file self-contained isn't necessary, but it's convenient to have everything in one place.</p>
						<p class="T1.Text1"><a name="pgfId=9009"></a>If you want to make a self-contained movie with internal references, start with a self-contained movie. Edit the movie by copying and pasting within the movie, so you add only internal references, and save using the Save command, not the Save As command.</p>
						<p class="I.Important"><a name="pgfId=12227"></a></p>
						<p><b>IMPORTANT</b><br>
						When you choose Save from the File menu, the movie is always saved normally (allowing dependencies). Movies saved using the Save command do not always fast start on the Internet. A movie without the Fast Start feature must download completely before it can play.</p>
						<p class="T0.Text0"><a name="pgfId=7904"></a>If you need to use internal references, use the Save command. If the movie must fast start on the Internet, use Save As.</p>
						<p class="T1.Text1"><a name="pgfId=12258"></a>There is currently no way to save a movie with internal references that is guaranteed to fast start. However, you can easily create a movie with internal references, save it using the Save command, then save a second version using Save As (allowing dependencies). The second version will be very small (typically 1K). The second version is guaranteed to be a Fast Start movie and can play over the Web, but you need to keep both versions together because the second version depends on data in the first version. Save them in the same folder and upload them to your Web server together.</p>
						<p class="T1.Text1"><a name="pgfId=9638"></a>And that's probably more than you really wanted to know about flattening. But it will come in handy later. Trust me. <a name="marker=13715"></a></p>
						<h2 class="H2.Heading2"><a name="pgfId=8280"></a><a name="40502"></a>Settings You Can Save</h2>
					</div>
					<p class="T0.Text0"><a name="pgfId=8895"></a>Some of the user settings that you can choose in QuickTime Player's Movie menu are saved along with the movie. You can use these settings to control the way a movie is displayed when you target the QuickTime Player, much the same way you use Plug-in Helper to control the way a movie is displayed by the QuickTime Plug-in.<br>
					<br>
					<br>
					<a name="pgfId=14041"></a></p>
					<div>
						<div>
							<img src="sample_14.gif"><br>
							<br>
							<br>
							<a name="pgfId=8896"></a>These settings are part of the movie only if the movie is played in QuickTime Player:</div>
						<ul>
							<li class="B1.Bullet1"><a name="pgfId=8292"></a><a name="marker=13720"></a>Loop--equivalent to setting <tt class="cv">LOOP=&quot;True&quot;</tt> for the plug-in.
							<li class="B1.Bullet1"><a name="pgfId=8293"></a><a name="marker=13721"></a>Loop Back and Forth--equivalent to setting <tt class="cv">LOOP=&quot;Palindrome&quot;</tt> for the plug-in.
							<li class="B1.Bullet1"><a name="pgfId=8294"></a><a name="marker=13722"></a>Play Selection Only--selecting part of the movie in QuickTime Player and choosing Play Selection Only is equivalent to setting <tt class="cv">STARTTIME</tt> and <tt class="cv">ENDTIME</tt> for the plug-in.
							<li class="B1.Bullet1"><a name="pgfId=8295"></a><a name="marker=13723"></a>Play All Frames--equivalent to setting <tt class="cv">PLAYEVERYFRAME=&quot;True&quot;</tt> <a name="marker=13724"></a>for the plug-in.
						</ul>
						<p class="T0.Text0"><a name="pgfId=12475"></a>The following settings are part of the movie whether it's played in the QuickTime Plug-in or QuickTime Player:</p>
						<ul>
							<li class="B1.Bullet1"><a name="pgfId=12426"></a><a name="marker=13726"></a>Half Size--equivalent to setting <tt class="cv">SCALE=&quot;0.5&quot;</tt> <a name="marker=13725"></a>for the plug-in.
							<li class="B1.Bullet1"><a name="pgfId=12427"></a><a name="marker=13727"></a>Double Size--equivalent to setting <tt class="cv">SCALE=&quot;2&quot;</tt> for the plug-in. For movies compressed with the Sorenson or H.263 video codecs, this is a good way to increase the display size of the movie without increasing its data rate or file size.
							<li class="B1.Bullet1"><a name="pgfId=12428"></a><a name="marker=13728"></a>Fill Screen--this has no equivalent for the plug-in. When you choose it, QuickTime Player scales the movie up to fill your entire screen. However, choosing Fill Screen scales the movie up to fill your screen. Viewers with larger or smaller screens get a big movie, but not necessarily the size of their full screen.
						</ul>
						<p class="T0.Text0"><a name="pgfId=12496"></a>You can guarantee a large-screen movie, and still be confident it will fit on almost any viewer's screen, by setting your screen resolution to 640x480, choosing Fill Screen, and saving the movie. For an example of a full-screen movie launched from a Web page, point your browser at <tt class="cv">BigMovie.htm</tt> in the Special Delivery folder of the CD.</p>
						<p class="T1.Text1"><a name="pgfId=12497"></a>The Half Size, Double Size, and Fill Screen settings also affect movie playback in the plug-in, but the plug-in gets its display area from the browser, so be sure to allocate the right amount of space in the <tt class="cv">HEIGHT</tt> and <tt class="cv">WIDTH</tt> parameters. <a name="marker=13710"></a></p>
						<p class="Tip"><a name="pgfId=12498"></a></p>
						<p><b>Tip: </b>To make a QuickTime movie autoplay even when it's launched in QuickTime Player (equivalent to <tt class="cv">AUTOPLAY=&quot;True&quot;</tt> <a name="marker=13729"></a>for the plug-in), open the Info window, choose Auto Play from the right pop-up menu, and click the checkbox. This setting is saved with the movie.<br>
						<br>
						<br>
						<img src="sample_15.gif"></div>
				</td>
			</tr>
		</table>
		<hr width="600" align="left">
		</h1>
		<p><font size="6"><b>&lt;</b></font><font size="4"><b> <a href="sample2.htm">PREVIOUS SECTION</a> | <a href="sample4a.htm">NEXT SECTION</a> </b></font><font size="6"><b>&gt;</b></font></p>
		<p><a href="QT4WebBook.htm"><font size="4">Home</font></a><font size="4"> | <a href="updates.htm">Updates</a> | <a href="corrections.htm">Corrections</a> | <a href="faq.htm">FAQ</a> | <a href="toc.htm">Table of Contents</a> | </font>
	</body>

</html>
