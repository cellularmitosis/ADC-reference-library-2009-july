<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Obtaining Sound-Related Information (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING53></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-52.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-54.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-44.html"><B>Chapter 2 - Sound Manager</B></A> / <A HREF="Sound-50.html"><B>Using the Sound Manager</B></A></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING53-0></A>
<H2><A NAME=MARKER-9-218></A>Obtaining Sound-Related Information</H2>
 <A NAME=MARKER-2-219></A>Developments in the sound hardware available on Macintosh computers and in the Sound Manager routines that allow you to drive that hardware have made it imperative that your application pay close attention to the sound-related features of the operating environment. For example, some Macintosh computers do not have the sound input hardware necessary to allow sound recording. Similarly, some other Macintosh computers are not able to record sounds and play sounds simultaneously. Before taking advantage of a sound-related feature that is not available on all Macintosh computers, you should check to make sure that the target machine provides the features you need.<P>
 To make appropriate decisions about the sound you want to produce, you might need to know some or all of the following types of information:<P>
<UL>
<LI>whether a machine can produce stereophonic sounds
<LI>what version of the Sound Manager is available
<LI>whether a machine can play multiple channels of sound, and whether it can take advantage of the enhanced Sound Manager's play-from-disk capabilities
<LI>whether a sound playing from disk is active or paused
<LI>how many channels of sound are currently open
<LI>whether the system beep has been disabled<P>
</UL>
 The following sections describe how to use the <CODE>Gestalt</CODE> function and Sound Manager routines to determine these types of information.<P>
<A NAME=HEADING53-10></A>
<H3><A NAME=MARKER-9-220></A>Obtaining Information About Available Sound Features</H3>
 You can use the <CODE>Gestalt</CODE> function to obtain information about a number of hardware- and software-related sound features. For instance, you can use <CODE>Gestalt</CODE> to determine whether a machine can produce stereophonic sounds and whether it can mix both left and right channels of sound on the internal speaker. Many applications don't need to call <CODE>Gestalt</CODE> to get this kind of information if they rely on the Sound Manager's ability to produce reasonable sounding output on whatever audio hardware is available. Other applications, however, do need to use <CODE>Gestalt</CODE> to get this information if they depend on specific hardware or software features that are not available on all Macintosh computers.<P>
 To get sound-related information from <CODE>Gestalt</CODE>, pass it the <CODE>gestaltSoundAttr</CODE> selector.<P>
<PRE>
CONST
   gestaltSoundAttr        = 'snd ';   {sound attributes}
</PRE>
 If <CODE>Gestalt</CODE> returns successfully, it passes back to your application a 32-bit value that represents a bit pattern. The following constants define the bits currently set or cleared by <CODE>Gestalt</CODE>:<P>
<PRE>
CONST
   gestaltStereoCapability    = 0;     {built-in hw can play stereo sounds}
   gestaltStereoMixing        = 1;     {built-in hw mixes stereo to mono}
   gestaltSoundIOMgrPresent   = 3;     {sound input routines available}
   gestaltBuiltInSoundInput   = 4;     {built-in input hw available}
   gestaltHasSoundInputDevice = 5;     {sound input device available}
   gestaltPlayAndRecord       = 6;     {built-in hw can play while recording}
   gestalt16BitSoundIO        = 7;     {built-in hw can handle 16-bit data}
   gestaltStereoInput         = 8;     {built-in hw can record stereo sounds}
   gestaltLineLevelInput      = 9;     {built-in input hw needs line level}
   gestaltSndPlayDoubleBuffer = 10;    {play from disk routines available}
   gestaltMultiChannels       = 11;    {multiple channels of sound supported}
   gestalt16BitAudioSupport   = 12;    {16-bit audio data supported}
</PRE>
 If the bit <CODE>gestaltStereoCapability</CODE> is <CODE>TRUE</CODE>, the built-in hardware can play stereo sounds. The bit <CODE>gestaltStereoMixing</CODE> indicates that the sound hardware of the machine mixes both left and right channels of stereo sound into a single audio signal for the internal speaker. <A HREF=#MARKER-9-223>Listing 2-9</A> demonstrates the use of the <CODE>Gestalt</CODE> function to determine if a machine can play stereo sounds.<P>
<B>Listing 2-9  <A NAME=MARKER-9-223></A>Determining if stereo capability is available</B><P>
<PRE>
FUNCTION MyHasStereo: Boolean;
VAR
   myFeature:     LongInt;
   myErr:         OSErr;
BEGIN
   myErr := Gestalt(gestaltSoundAttr, myFeature);
   IF myErr = noErr THEN      {test stereo capability bit}
      MyHasStereo := BTst(myFeature, gestaltStereoCapability)
   ELSE
      MyHasStereo := FALSE;   {no sound features available}
END;
</PRE>
 As shown in the chapter <A HREF=Sound-13.html#MARKER-9-6>"Introduction to Sound on the Macintosh,"</A> you can determine whether your application can record by testing the <CODE>gestaltHasSoundInputDevice</CODE> bit. To determine whether a built-in sound input device is available, you can test the <CODE>gestaltBuiltInSoundInput</CODE> bit. The <CODE>gestaltSoundIOMgrPresent</CODE> bit indicates whether the sound input routines are available. Because the <CODE>gestaltHasSoundInputDevice</CODE> bit is not set if the routines are not available, only sound input device drivers should need to use the <CODE>gestaltSoundIOMgrPresent</CODE> bit.<P>
 For a complete description of the response bits set by <CODE>Gestalt</CODE>, see <A HREF=Sound-64.html#MARKER-9-471>"Gestalt Selector and Response Bits" beginning on page 2-90</A>.<A NAME=MARKER-2-65></A><P>
<A NAME=HEADING53-21></A>
<H3><A NAME=MARKER-9-226></A>Obtaining Version Information</H3>
 The Sound Manager provides functions that allow you to determine the version numbers both of the Sound Manager itself and of the MACE compression and expansion routines. Generally, you should avoid trying to determine which features or routines are present by reading a version number. Usually, the <CODE>Gestalt</CODE> function (discussed in the previous section) provides a better way to find out if some set of features, such as sound input capability, is available. In some cases, however, you can use these version routines to overcome current limitations of the information returned by <CODE>Gestalt</CODE>.<P>
 Both of these functions return a value of type <CODE>NumVersion</CODE> that contains the same information as the first 4 bytes of a resource of type <CODE>'vers'</CODE>. The first and second bytes contain the major and minor version numbers, respectively; the third and fourth bytes contain the release level and the stage of the release level. For most purposes, the major and minor release version numbers are sufficient to identify the version. (See the chapter "Finder Interface" of <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for a complete discussion of the format of <CODE>'vers'</CODE> resources.)<A NAME=MARKER-2-588></A><P>
 You can use the <CODE>SndSoundManagerVersion</CODE> function to determine which version of the Sound Manager is present. <A HREF=#MARKER-9-232>Listing 2-10</A> shows how to determine if the enhanced Sound Manager is available.<P>
<B>Listing 2-10  <A NAME=MARKER-9-232></A>Determining if the enhanced Sound Manager is present</B><P>
<PRE>
FUNCTION MyHasEnhancedSoundManager: Boolean;
VAR
   myVersion:     NumVersion;
BEGIN
   IF MyTrapAvailable(_SoundDispatch) THEN
   BEGIN
      myVersion := SndSoundManagerVersion;
      MyHasEnhancedSoundManager := myVersion.majorRev &gt;= 2;
   END
   ELSE
      MyHasEnhancedSoundManager := FALSE
END;
</PRE>
 The <CODE>MyHasEnhancedSoundManager</CODE> function defined in <A HREF=#MARKER-9-232>Listing 2-10</A> relies on the <CODE>MyTrapAvailable</CODE> function, which is an application-defined routine provided in <I><A HREF="../OSUtilities/OSUtilities-2.html">Inside Macintosh: Operating System Utilities</A></I>. If the <CODE>_SoundDispatch</CODE> trap is not available, the <CODE>SndSoundManagerVersion</CODE> function is not available either, in which case the enhanced Sound Manager is certainly not available.<P>
 You can use the <CODE>MACEVersion</CODE> function to determine the version number of the available MACE routines (for example, <CODE>Comp3to1</CODE>).<A NAME=MARKER-2-525></A><P>
<A NAME=HEADING53-29></A>
<H3><A NAME=MARKER-9-235></A>Testing for Multichannel Sound and Play-From-Disk Capabilities<A NAME=MARKER-2-236></A></H3>
 The ability to play multiple channels of sound simultaneously and the ability to initiate plays from disk were first introduced with the enhanced Sound Manager. Even with the enhanced Sound Manager, however, these capabilities are present only on computers equipped with suitable sound output hardware (such as an Apple Sound Chip). Sound Manager version 3.0 defines 2 additional bits in the <CODE>Gestalt</CODE> response parameter that allow you to test directly for these two capabilities.<P>
<PRE>
CONST
   gestaltSndPlayDoubleBuffer    = 10; {play from disk routines available}
   gestaltMultiChannels          = 11; {multiple channels of sound supported}
</PRE>
 Ideally, it should be sufficient to test directly, using <CODE>Gestalt</CODE>, for either multichannel sound capability or play-from-disk capability. If your application happens to be running under the enhanced Sound Manager, however, the two new response bits are not defined. In that case, you'll need to test also whether the Apple Sound Chip is available, because multichannel sound and play from disk are supported by the enhanced Sound Manager only if the Apple Sound Chip is available. To test for the presence of the Apple Sound Chip, you can use the <CODE>Gestalt</CODE> function with the <CODE>gestaltHardwareAttr</CODE> selector and the <CODE>gestaltHasASC</CODE> bit. <A HREF=#MARKER-9-241>Listing 2-11</A> combines these two tests into a single routine that returns <CODE>TRUE</CODE> if the computer supports multichannel sound.<A NAME=MARKER-2-239></A><A NAME=MARKER-4-240></A><P>
<B>Listing 2-11  <A NAME=MARKER-9-241></A>Testing for multichannel play capability</B><P>
<PRE>
FUNCTION MyCanPlayMultiChannels: Boolean;
VAR
   myResponse:    LongInt;
   myResult:      Boolean;
   myErr:         OSErr;
   myVersion:     NumVersion;
BEGIN
   myResult := FALSE;
   myVersion := SndSoundManagerVersion;
   myErr := Gestalt(gestaltSoundAttr, myResponse);
   IF myVersion.majorRev &gt;= 3 THEN
      IF (myErr = noErr) AND (BTst(myResponse, gestaltMultiChannels)) THEN
         myResult := TRUE
   ELSE
      BEGIN
         myErr := Gestalt(gestaltHardwareAttr, myResponse);
         IF (myErr = noErr) AND (BTst(myResponse, gestaltHasASC)) THEN
            myResult := TRUE
      END;
   MyCanPlayMultiChannels := myResult;
END;
</PRE>
 The function <CODE>MyCanPlayMultiChannels</CODE> first tries to get the desired information by calling the <CODE>Gestalt</CODE> function with the <CODE>gestaltSoundAttr</CODE> selector. If <CODE>Gestalt</CODE> returns successfully and the <CODE>gestaltMultiChannels</CODE> bit is set in the <CODE>response</CODE> parameter, then multichannel play capability is present. Notice that the multichannel bit is checked only if the version of the Sound Manager is 3.0 or greater. If the version is not at least 3.0, then <CODE>MyCanPlayMultiChannels</CODE> calls the <CODE>Gestalt</CODE> function with the <CODE>gestaltHardwareAttr</CODE> selector. If the computer contains the Apple Sound Chip, then again multichannel play capability is present.<P>
<DL>
<DT><B>Note</B>
<DD>The <CODE>gestaltHasASC</CODE> bit is set only on machines that contain an Apple Sound Chip. You should test for the presence of the Apple Sound Chip only in the circumstances described above.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 You could write a similar function to test for the ability to initiate a play from disk. <A HREF=#MARKER-9-244>Listing 2-12</A> shows an example.<A NAME=MARKER-2-242></A><P>
<B>Listing 2-12  <A NAME=MARKER-9-244></A>Testing for play-from-disk capability</B><P>
<PRE>
FUNCTION HasPlayFromDisk: Boolean;
VAR
   myResponse:    LongInt;
   myResult:      Boolean;
   myErr:         OSErr;
   myVersion:     NumVersion;
BEGIN
   myResult := FALSE;
   myVersion := SndSoundManagerVersion;
   myErr := Gestalt(gestaltSoundAttr, myResponse);
   IF myVersion.majorRev &gt;= 3 THEN
      IF (myErr = noErr) AND 
                        (BTst(myResponse, gestaltSndPlayDoubleBuffer)) THEN
         myResult := TRUE
   ELSE
      BEGIN
         myErr := Gestalt(gestaltHardwareAttr, myResponse);
         IF (myErr = noErr) AND (BTst(myResponse, gestaltHasASC)) THEN
            myResult := TRUE
      END;
   HasPlayFromDisk := myResult;
END;
</PRE>
<A NAME=HEADING53-40></A>
<H3><A NAME=MARKER-9-245></A>Obtaining Information About a Single Sound Channel<A NAME=MARKER-2-67></A></H3>
 You can use the <CODE>SndChannelStatus</CODE> function to obtain information about a single sound channel and about the status of a disk-based playback on that channel, if one exists. For example, you can use <CODE>SndChannelStatus</CODE> to determine if a channel is being used for play from disk, how many seconds of the sound have been played, and how many seconds remain to be played.<P>
 One of the parameters required by the <CODE>SndChannelStatus</CODE> function is a pointer to a sound channel status record, which you must allocate before calling <CODE>SndChannelStatus</CODE>. A sound channel status record has this structure:<P>
<PRE>
TYPE SCStatus =
RECORD
   scStartTime:            Fixed;      {starting time for play from disk}
   scEndTime:              Fixed;      {ending time for play from disk}
   scCurrentTime:          Fixed;      {current time for play from disk}
   scChannelBusy:          Boolean;    {TRUE if channel is processing cmds}
   scChannelDisposed:      Boolean;    {reserved}
   scChannelPaused:        Boolean;    {TRUE if channel is paused}
   scUnused:               Boolean;    {unused}
   scChannelAttributes:    LongInt;    {attributes of this channel}
   scCPULoad:              LongInt;    {CPU load for this channel}
END;
</PRE>
 The <CODE>scStartTime</CODE>, <CODE>scEndTime</CODE>, and <CODE>scCurrentTime</CODE> fields are 0 unless the Sound Manager is currently playing from disk through the specified channel. If a play from disk is occurring, the <CODE>scStartTime</CODE> and <CODE>scEndTime</CODE> fields reflect the starting and ending points of the play, defined in seconds; the <CODE>scCurrentTime</CODE> field indicates the number of seconds between the beginning of the sound on disk and the part of the sound currently being played. The Sound Manager sets the values of the <CODE>scStartTime</CODE> and <CODE>scEndTime</CODE> fields based on the values you set in an audio selection record. (See <A HREF=Sound-70.html#MARKER-9-619>page 2-100</A> for a description of the audio selection record.)<P>
 Note that because the Sound Manager might be playing only a selection of a sound, the <CODE>scCurrentTime</CODE> field does not reflect the number of seconds of sound play that have elapsed. To compute the number of seconds of sound play elapsed, you can subtract the value in the <CODE>scStartTime</CODE> field from that in the <CODE>scCurrentTime</CODE> field. However, because the Sound Manager updates the value of the <CODE>scCurrentTime</CODE> field only periodically, you should not rely on the accuracy of its value.<P>
 The <CODE>scChannelBusy</CODE> and <CODE>scChannelPaused</CODE> fields reflect whether a channel is processing commands and whether a channel is paused, respectively. After issuing a series of sound commands, you can use these fields to determine if the channel has finished processing all of the commands. If both <CODE>scChannelBusy</CODE> and <CODE>scChannelPaused</CODE> are <CODE>FALSE</CODE>, the Sound Manager has processed all of the channel's commands.<P>
 You can mask out certain values in the <CODE>scChannelAttributes</CODE> field to determine how a channel has been initialized.<P>
<PRE>
CONST
   initPanMask    = $0003;    {mask for right/left pan values}
   initSRateMask  = $0030;    {mask for sample rate values}
   initStereoMask = $00C0;    {mask for mono/stereo values}
</PRE>
 The <CODE>scCPULoad</CODE> field previously reflected the percentage of CPU processing power used by the sound channel. However, this field is obsolete, and you should not rely on its value.<P>
 <A HREF=#MARKER-9-248>Listing 2-13</A> illustrates the use of the <CODE>SndChannelStatus</CODE> function. It defines a function that takes a sound channel pointer as a parameter and determines whether a disk-based playback on that channel is paused.<P>
<B>Listing 2-13  <A NAME=MARKER-9-248></A>Determining whether a sound channel is paused</B><P>
<PRE>
FUNCTION MyChannelIsPaused (chan: SndChannelPtr): Boolean;
VAR
   myErr:         OSErr;
   mySCStatus:    SCStatus;
BEGIN
   MyChannelIsPaused := FALSE;
   myErr := SndChannelStatus(chan, Sizeof(SCStatus), @mySCStatus);
   IF myErr = noErr THEN
      MyChannelIsPaused := mySCStatus.scChannelPaused;
END;
</PRE>
 The function defined in <A HREF=#MARKER-9-248>Listing 2-13</A> simply reads the <CODE>scChannelPaused</CODE> field to see if the playback is currently paused.<P>
<DL>
<DT><B>Note</B>
<DD>In Sound Manager versions earlier than 3.0, pausing a sound channel by issuing a <CODE>pauseCmd</CODE> command does not change the <CODE>scChannelPaused</CODE> field. The <CODE>scChannelPaused</CODE> field is <CODE>TRUE</CODE> only if the Sound Manager is executing a disk-based playback on the channel and that playback is paused by the <CODE>SndPauseFilePlay</CODE> function. This problem is fixed in Sound Manager versions 3.0 and later.<EM></EM> <A NAME=MARKER-2-249></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<A NAME=HEADING53-55></A>
<H3>Obtaining Information About All Sound Channels</H3>
 You can use the <CODE>SndManagerStatus</CODE> function to determine information about all the sound channels that are currently allocated by all applications. For example, you can use this function to determine how many channels are currently allocated. One of the parameters required by the <CODE>SndManagerStatus</CODE> function is a pointer to a Sound Manager status record, which you must allocate before calling <CODE>SndManagerStatus</CODE>. A Sound Manager status record has this structure:<A NAME=MARKER-2-39></A><A NAME=MARKER-2-252></A><P>
<PRE>
TYPE SMStatus =
PACKED RECORD
   smMaxCPULoad:     Integer;    {maximum load on all channels}
   smNumChannels:    Integer;    {number of allocated channels}
   smCurCPULoad:     Integer;    {current load on all channels}
END;
</PRE>
 The <CODE>smNumChannels</CODE> field contains the number of sound channels currently allocated. This does not mean that the channels are actually being used, only that they have been created with the <CODE>SndNewChannel</CODE> function and not yet disposed.<P>
 The Sound Manager uses information that it returns in the <CODE>smMaxCPULoad</CODE> and <CODE>smCurCPULoad</CODE> fields to help it determine whether it can allocate a new channel when your application calls the <CODE>SndNewChannel</CODE> function. The Sound Manager sets <CODE>smMaxCPULoad</CODE> to a default value of 100 at startup time, and the <CODE>smCurCPULoad</CODE> field reflects the approximate percentage of CPU processing power currently taken by allocated sound channels.<P>
<DL>
<DT><B>WARNING</B>
<DD>Your application should not reply on the values returned in the <CODE>smMaxCPULoad</CODE> and <CODE>smCurCPULoad</CODE> fields. To determine if it is safe to allocate a channel, simply try to allocate it with the <CODE>SndNewChannel</CODE> function. That function returns the appropriate result code if allocating the channel would put too much of a strain on CPU processing.<EM></EM><A NAME=MARKER-2-253></A>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 <A NAME=MARKER-2-254></A><A HREF=#MARKER-9-256>Listing 2-14</A> illustrates the use of <CODE>SndManagerStatus</CODE>. It defines a function that returns the number of sound channels currently allocated by all applications.<A NAME=MARKER-2-61></A><P>
<B>Listing 2-14  <A NAME=MARKER-9-256></A>Determining the number of allocated sound channels</B><P>
<PRE>
FUNCTION MyGetNumChannels: Integer;
VAR
   myErr:         OSErr;
   mySMStatus:    SMStatus;
BEGIN
   MyGetNumChannels := 0;
   myErr := SndManagerStatus (Sizeof(SMStatus), @mySMStatus);
   IF myErr = noErr THEN
      MyGetNumChannels := mySMStatus.smNumChannels;
END;
</PRE>
<A NAME=HEADING53-64></A>
<H3>Determining and Changing the Status of the System Alert Sound<A NAME=MARKER-2-257></A></H3>
 The enhanced Sound Manager includes two routines--<CODE>SndGetSysBeepState</CODE> and <CODE>SndSetSysBeepState</CODE>--that allow you to determine and alter the status of the system alert sound. You might wish to disable the system alert sound if you are playing sound and need to ensure that the sound you are playing is not interrupted. Currently, two states are defined:<P>
<PRE>
CONST
   sysBeepDisable       = $0000;    {system alert sound disabled}
   sysBeepEnable        = $0001;    {system alert sound enabled}
</PRE>
 You can determine the status of the system alert sound like this:<P>
<PRE>
SndGetSysBeepState(currentState);
</PRE>
 And you can disable the system alert sound like this:<P>
<PRE>
myErr := SndSetSysBeepState(sysBeepDisable);
</PRE>
 When the system alert sound is disabled, the Sound Manager effectively ignores all calls to the <CODE>SysBeep</CODE> procedure. No sound is created and the menu bar does not flash. Also, no resources are loaded into memory.<P>
<DL>
<DT><B>Note</B>
<DD>Even when the system alert sound is enabled, it's possible that the system alert sound will not play; for example, the speaker volume might be set to 0, or playing the requested system alert sound might require too much CPU time. In such a case, the menu bar flashes.<EM></EM><A NAME=MARKER-2-267></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 By default, the system alert sound is enabled. If you disable the system alert sound so that your application can play a sound without being interrupted, be sure to enable the sound when your application receives a suspend event or when the user quits your application.<A NAME=MARKER-2-259></A><A NAME=MARKER-2-198></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-52.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-54.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
