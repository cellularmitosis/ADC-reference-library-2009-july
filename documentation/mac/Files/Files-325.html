<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>CustomGetFile (IM: F)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING325></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Files-324.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-326.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Files-2.html"><B>Files</B></A> / <BR><DD><A HREF="Files-302.html"><B>Chapter 3 - Standard File Package</B></A> / <A HREF="Files-313.html"><B>Standard File Package Reference</B></A><BR><DL><DD><A HREF="Files-317.html"><B>Standard File Package Routines</B></A> / <A HREF="Files-323.html"><B>Opening Files</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING325-0></A>
<H3>CustomGetFile</H3>
 Call the <CODE>CustomGetFile</CODE> procedure when your application requires more control over the Open dialog box than is possible using <CODE>StandardGetFile</CODE>.<A NAME=MARKER-2-18></A><P>
<PRE>
PROCEDURE CustomGetFile (fileFilter: FileFilterYDProcPtr;
                           numTypes: Integer; 
                           typeList: SFTypeList; 
                           VAR reply: StandardFileReply; 
                           dlgID: Integer;
                           where: Point; 
                           dlgHook: DlgHookYDProcPtr; 
                           filterProc: ModalFilterYDProcPtr;
                           activeList: Ptr; 
                           activateProc: ActivateYDProcPtr;
                           yourDataPtr: UNIV Ptr);
</PRE>
<DL>
<DT><CODE>fileFilter</CODE>
<DD> A pointer to an optional file filter function, provided by your application, through which <CODE>CustomGetFile</CODE> passes files of the specified types.
<DT><CODE>numTypes</CODE>
<DD> The number of file types to be displayed. If you specify a <CODE>numTypes</CODE> value of -1, the first filtering passes files of all types.
<DT><CODE>typeList</CODE>
<DD> A list of file types to be displayed.
<DT><CODE>reply</CODE>
<DD> The reply record, which <CODE>CustomGetFile</CODE> fills in before returning.
<DT><CODE>dlgID</CODE>
<DD> The resource ID of a customized dialog template. To use the standard template, set this parameter to 0.
<DT><CODE>where</CODE>
<DD> The upper-left corner of the dialog box in global coordinates. If you specify the point (-1,-1), <CODE>CustomGetFile</CODE> automatically centers the dialog box on the screen.
<DT><CODE>dlgHook</CODE>
<DD> A pointer to your dialog hook function, which handles item selections received from the Dialog Manager. Specify a value of <CODE>NIL</CODE> if you have not added any items to the dialog box and want the standard items handled in the standard ways. See <A HREF=Files-308.html#MARKER-9-122>"Writing a Dialog Hook Function" on page 3-21</A> for a description of the dialog hook function.
<DT><CODE>filterProc</CODE>
<DD> A pointer to your modal-dialog filter function, which determines how <CODE>ModalDialog</CODE> filters events when called by <CODE>CustomGetFile</CODE>. Specify a value of <CODE>NIL</CODE> if you are not supplying your own function. See <A HREF=Files-308.html#MARKER-9-169>"Writing a Modal-Dialog Filter Function" on page 3-28</A> for a description of the modal-dialog filter function.
<DT><CODE>activeList</CODE>
<DD> A pointer to a list of all dialog items that can be activated--that is, made the target of keyboard input. The list is stored as an array of 16-bit integers. The first integer is the number of items in the list. The remaining integers are the item numbers of all possible keyboard targets, in the order that they are activated by the Tab key. If you supply an <CODE>activeList</CODE> parameter of <CODE>NIL</CODE>, <CODE>CustomGetFile</CODE> directs all keyboard input to the displayed list.
<DT><CODE>activateProc</CODE>
<DD> <BR>A pointer to your activation procedure, which controls the highlighting of dialog items that are defined by your application and that can receive keyboard input. See <A HREF=Files-308.html#MARKER-9-179>"Writing an Activation Procedure" on page 3-30</A> for a description of the activation procedure.
<DT><CODE>yourDataPtr</CODE>
<DD> <BR>A pointer to optional data supplied by your application. When <CODE>CustomGetFile</CODE> calls any of your callback routines, it pushes this parameter on the stack, making the data available to your callback routines. If you are not supplying any data of your own, specify a <BR>value of <CODE>NIL</CODE>.
</DL>
<A NAME=HEADING325-14></A>
<H5><CODE>DESCRIPTION</CODE></H5>
 The <CODE>CustomGetFile</CODE> procedure is an alternative to <CODE>StandardGetFile</CODE> when you want to use a customized dialog box or handle the default Open dialog box in a customized way. <CODE>CustomGetFile</CODE> presents a dialog box through which the user specifies the name and location of a file to be opened. While the dialog box is active, <CODE>CustomGetFile</CODE> gets and handles events until the user completes the interaction, either by selecting a file to open or by canceling the operation. <CODE>CustomGetFile</CODE> returns the user's input in a record of type <CODE>StandardFileReply</CODE>.<P>
 The first four parameters are similar to the same parameters in <CODE>StandardGetFile</CODE>. <BR>The <CODE>fileFilter</CODE>, <CODE>numTypes</CODE>, and <CODE>typeList</CODE> parameters determine which files <BR>appear in the list of choices. If you specify a value of -1 in the <CODE>numTypes</CODE> parameter, <CODE>CustomGetFile</CODE> displays or passes to your file filter function all files and folders (not just the files) at the current level of the display hierarchy. If you provide a filter function, <CODE>CustomGetFile</CODE> passes it both the pointer to the catalog entry for each file to be processed and also a pointer to the optional data passed by your application in its call <BR>to <CODE>CustomGetFile</CODE>.<P>
<A NAME=HEADING325-17></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for <CODE>CustomGetFile</CODE> are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_Pack3<TD>$0008</TABLE>
<P>
<A NAME=HEADING325-19></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>CustomGetFile</CODE> procedure is not available in all versions of system software. <BR>Use the <CODE>Gestalt</CODE> function to determine whether <CODE>CustomGetFile</CODE> is available before calling it.<P>
 Because <CODE>CustomGetFile</CODE> may move memory, you should not call it at interrupt time.<A NAME=MARKER-2-271></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Files-324.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-326.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Files-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
