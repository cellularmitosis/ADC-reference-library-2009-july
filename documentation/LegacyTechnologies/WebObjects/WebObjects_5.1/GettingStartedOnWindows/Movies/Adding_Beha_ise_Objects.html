<HTML>		<HEAD>        <title>AddingBehavior to Your Enterprise Objects</title>		</HEAD>	<BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Updating_Ob_splay_Group.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="../Glossary/index.html" target="_top"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "BCIGCIBA"></a><h2><font face="Helvetica,Arial,Lucida Grande">AddingBehavior to Your Enterprise Objects</font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Times">Right now, the Movies application maps all its entities tothe EOGenericRecord class. As the preceding sections illustrate,you can go quite far in an application using just this default enterpriseobject class, but now you need to add some custom classes to theMovies application.</font></p><p><font face="Times">In this section, you'll learn how to:</font></p><ul><p><li>Generatesource code for a custom enterprise object class.</li></p><p><li>Provide default values in a custom enterprise object class.</li></p></ul><p><font face="Times">You'll create custom classes for the Talent and MovieRoleentities. In the Talent class, you'll write a <code>fullName</code> methodthat concatenates a Talent's first and last names. You'll use themethod to populate MovieDetail's browser element. In the MovieRoleclass, you'll provide default values for newly inserted MovieRolesso they don't show up in the list of movie roles as a blank line.</font></p><a name = "TPXREF153"></a><h3><font face="Helvetica,Arial,Lucida Grande">SpecifyingCustom Enterprise Object Classes</font></h3><p><font face="Times">Unless you specify otherwise, EOModeler maps entities to theEOGenericRecord class. When you want to use a custom class instead,you need to specify that custom class in the model.</font></p><ol><p><li>In EOModeler,inspect the Talent entity.</li></p><p><li>In the Entity Inspector for Talent, type Talent in the Classfield.<P><img src = "../Art/entinsp.gif" alt = "[image: ../Art/entinsp.gif]"></li></p><p><li>Set the MovieRole entity's class to MovieRole.</li></p></ol><p><font face="Times">Now you can generate the source files for your Talent andMovieRole classes.</font></p><a name = "TPXREF154"></a><h3><font face="Helvetica,Arial,Lucida Grande">GeneratingCustom Enterprise Object Classes</font></h3><p><font face="Times">You can easily create a custom class to hold your businesslogic: EOModeler provides a command to generate enterprise objectclasses.</font></p><ol><p><li>In EOModeler,select the Talent entity.</li></p><p><li>Choose Property &gt; Generate Java Files.<p>A Choose ClassName panel opens. If you opened the model file from Project Builder, theChoose Class Name panel displays the project as the destinationdirectory and <code>Talent.java</code> asthe default filename.</p></li></p><p><li>Ensure that the Movies project directory is selected.</li></p><p><li>Click Save.<p>A panel opens, asking if you want to insertthe file in your project.</p></li></p><p><li>Click Yes.<p>EOModeler creates the source file <code>Talent.java</code> andadds it to your project. </p></li></p><p><li>Follow the same procedure for MovieRole.</li></p></ol><a name = "TPXREF155"></a><h3><font face="Helvetica,Arial,Lucida Grande">AddingCustom Behavior to Talent</font></h3><p><font face="Times">Now add the <code>fullName</code> methodto Talent and bind it to the browser.</font></p><ol><p><li>Open <code>Talent.java</code> inProject Builder.<p>The class file and implements set and getmethods for all of Talent's class properties (<code>firstName</code> and <code>lastName</code>).</p></li></p><p><li>Add the method, <code>fullName</code>,as follows.<pre>    public String fullName(){        return firstName() + " " + lastName();    }</pre><p>Afteryou save, <code>fullName</code> appearsin the object browser of WebObjects Builder as a property of Talent.</p></li></p><p><li>Bind <code>talent.fullName</code> tothe browser's <code>displayString</code> attributeand unbind the <code>value</code> attribute.</li></p></ol><a name = "TPXREF156"></a><h3><font face="Helvetica,Arial,Lucida Grande">ProvidingDefault Values in MovieRole</font></h3><p><font face="Times">As discussed in  <a href="Refining_Main.wo.html#BCICIHII" target = "_right">"Specifying Default Values for New Enterprise Objects"</a>, there aretwo main ways to specify default values for new enterprise objectswithout making explicit assignments:</font></p><ul><p><li>Assign defaultvalues in the enterprise object class.</li></p><p><li>Specify default values using a display group.</li></p></ul><p><font face="Times">For the Movie class, you specified default values using adisplay group. This approach is also the more appropriate choicefor the MovieRole class, but you'll use the other approach forMovieRole just to see how its done.</font></p><ol><p><li>Open <code>MovieRole.java</code> inProject Builder.</li></p><p><li>Add the method, <code>awakeFromInsertionInEditingContext</code>,as follows<pre>    public void awakeFromInsertion(EOEditingContext context){        super.awakeFromInsertion(context);        setRoleName("New Role");    }</pre><p>Thismethod is automatically invoked right after your enterprise objectclass creates a new MovieRole and inserts it into an editing context,which happens when you use a display group to insert.</p></li></p></ol><a name = "TPXREF157"></a><h3><font face="Helvetica,Arial,Lucida Grande">RunningMovies</font></h3><p><font face="Times">Be sure that all your project's files are saved (includingyour model file), and build and run your application. Now when auser clicks the Insert/New button on the MovieDetails page, a newMovieRole is inserted, with "New Role" already displayed asthe role name.</font></p><br><a href="Updating_Ob_splay_Group.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="../Glossary/index.html" target="_top"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<p><font face="Geneva,Helvetica,Arial" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>