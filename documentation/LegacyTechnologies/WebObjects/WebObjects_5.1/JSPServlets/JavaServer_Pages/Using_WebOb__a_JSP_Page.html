<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Using WebObjects Classes ina JSP Page</title>		</HEAD>	<body bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Passing_Dat_a_Component.html" target="content"><img src="../images/previous.gif" border="0"></a><a href="Using_Direc_n_JSP_Pages.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF108"></a><h2><font face="Lucida Grande,Helvetica,Arial">Using WebObjects Classes ina JSP Page</font></h2><!-- apple_doc: pageHeadingEnd --><p>This section explains how to write a JSP page that makes useof two WebObjects classes, NSArray and NSMutableArray, to pass informationto a component called MusicGenres. You'll continue to work withthe JSP_Example project.</p><ol><li>Using a texteditor, create a file with the contents of  <a href="#BBCIEAEC">Listing 3-2</a>.<a name = "BBCIEAEC"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Listing 3-2 InternetRadio.jspfile</font></b></p><pre>&lt;%-- InternetRadio.jsp --%&gt;&lt;%@ taglib uri=&quot;/WOtaglib&quot; prefix=&quot;wo&quot; %&gt;&lt;%-- Import statements --%&gt;&lt;%@ page import=&quot;com.webobjects.foundation.*&quot; %&gt;&lt;%@ page import=&quot;com.webobjects.jspservlet.*&quot; %&gt;&lt;%-- Initialize JSP/servlet&#150;WebObjects integration system --%&gt;&lt;%    WOServletAdaptor.initStatics(application);%&gt;&lt;%-- Create musical-genre list --%&gt;&lt;%    NSMutableArray genres = new NSMutableArray();    genres.addObject(new String(&quot;Classical&quot;));    genres.addObject(new String(&quot;Country&quot;));    genres.addObject(new String(&quot;Eclectic&quot;));    genres.addObject(new String(&quot;Electronica&quot;));    genres.addObject(new String(&quot;Hard Rock/Metal&quot;));    genres.addObject(new String(&quot;Hip-Hop/Rap&quot;));    genres.addObject(new String(&quot;Jazz&quot;));%&gt;&lt;HTML&gt;&lt;HEAD&gt;    &lt;TITLE&gt;Music Available on Internet Radio Stations&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;    &lt;wo:component className=&quot;MusicGenres&quot; bodyContentOnly=&quot;true&quot;&gt;        &lt;wo:binding key=&quot;genres&quot; value='&lt;%= genres %&gt;' /&gt;    &lt;/wo:component&gt;&lt;/BODY&gt;&lt;/HTML&gt; </pre><p>Notethe invocation of the <code>initStatics</code> methodof the WOServletAdaptor class. It performs the initialization ofobjects needed to integrate WebObjects with your servlet container(for example, adding a WOSession object to the JSPSession object).</p></font></li><li>Save the file as <code>InternetRadio.jsp</code> inthe <code>JSP_Example/Servlet Resources/jsp</code> directory.</font></li><li>In Project Builder, create a component called MusicGenres(make sure you assign it to the Application Server target).</font></li><li>Add the <code>genres</code> and <code>genre</code> keysto MusicGenres using WebObjects Builder. <code>genres</code> isan array of Strings and <code>genre</code> isa String. Add a setter method for <code>genres</code>.<p>Alternatively,you can add the following code to <code>MusicGenres.java</code>:</p><pre>protected String genre;    /** @TypeInfo java.lang.String */protected NSArray genres;public void setGenres(NSArray newGenres) {    genres = newGenres;}</pre></font></li><li>Edit the component using WebObjects Builder so that it lookslike  <a href="#BBCDAJFB">Figure 3-6</a>.<br><a name = "BBCDAJFB"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure3-6 The MusicGenres component in WebObjectsBuilder</font></b></p> <img src = "../art/music_genres_wo.gif" alt = "[image: ../art/music_genres_wo.gif]"><br><br></font></li><li>Tell Project Builder to copy the necessary WebObjects classesto the WAR file.<ol><li>In Project Builder click Targets, then click on the JSP_Exampletarget in the Targets list.</font></li><li>Click Build Settings, then scroll down until you see the BuildSettings list.</font></li><li>Locate the <code>SERVLET_COPY_JARS</code> buildsetting and set its value to <code>YES</code> ,as shown in  <a href="#BBCCJIIE">Figure 3-7</a>.<br><a name = "BBCCJIIE"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure3-7 Telling Project Builder to copy WebObjectsclasses to the WAR file</font></b></p> <img src = "../art/bs_copyjars.gif" alt = "[image: ../art/bs_copyjars.gif]"><br><br></font></li></ol></font></li><li>Build the project and restart your servlet container.</font></li></ol><p>To view the output of the InternetRadio JSP page in Tomcatuse the following URL:</p><pre>http://localhost:8080/JSP_Example/jsp/InternetRadio.jsp</pre><p>You should see a page like the one in  <a href="#BBCEFJHD">Figure 3-8</a>.</p><br><a name = "BBCEFJHD"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure3-8 The output of InternetRadio.jsp</font></b></p> <img src = "../art/internet_radio_jsp.gif" alt = "[image: ../art/internet_radio_jsp.gif]"><br>    <br><a href="Passing_Dat_a_Component.html" target="content"><img src="../images/previous.gif" border="0"></a><a href="Using_Direc_n_JSP_Pages.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated January 3, 2002)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>