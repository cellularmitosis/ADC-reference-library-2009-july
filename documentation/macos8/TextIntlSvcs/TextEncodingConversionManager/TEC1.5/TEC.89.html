<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<script language="JavaScript" src="frametest.js"></script>
<TITLE> CreateUnicodeToTextRunInfo</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a>
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --><A HREF="TEC.88.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.88.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.8a.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A><br>
<font face="Geneva,Helvetica,Arial" size="1"><b><br>
		PATH<spacer type="horizontal" size="5">&nbsp;</b></font><a href="../../../mac8.html"><font face="Geneva,Helvetica,Arial" size="1">Mac OS 8 and 9 Developer Documentation</a>  <b>&gt;</b> Text Encoding Conversion Manager<br>
		<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">Programming With the Text Encoding Conversion Manager</font><br>
		<br>
		<hr>

</DIV>
<H1>
<A NAME="pgfId=7580">
 </A>
<A NAME="30589">
 </A>
CreateUnicodeToTextRunInfo</H1>
<P>
<A NAME="pgfId=3718">
 </A>
Creates and returns a Unicode converter object containing the information required for converting a Unicode text string to strings in one or more non-Unicode encodings. </P>
<TT>
<A NAME="pgfId=26208">
 </A>
pascal OSStatus CreateUnicodeToTextRunInfo (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ItemCount iNumberOfMappings, <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const UnicodeMapping iUnicodeMappings[], <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UnicodeToTextRunInfo *oUnicodeToTextInfo);</TT>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=26212">
 </A>
<TT>iNumberOfMappings</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=10177">
 </A>
 The number of mappings specified by your application for converting from Unicode to any other encoding types, including other forms of Unicode. If you pass 0 for this parameter, the converter will use all of the scripts installed in the system. The primary script is the one with highest priority; <TT>ScriptOrder</TT> ('<TT>itlm'</TT> resource) determines the priority of the rest. If you set the high-order bit for this parameter, the Unicode converter assumes that the <TT>iEncodings</TT> parameter contains a single element specifying the preferred encoding. This feature is supported for versions 1.2 or later of the converter.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=26223">
 </A>
<TT>iUnicodeMappings</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=10300">
 </A>
 A pointer to an array of structures of type <A HREF="TEC.72.html" CLASS="XRef"><TT>UnicodeMapping</TT></A>. Your application provides this structure to identify the mappings to be used for the conversion. The order in which you specify the mappings determines the priority of the destination encodings. For this function, the Unicode mapping structure can specify a Unicode format of <TT>kUnicode16BitFormat</TT> or <TT>kUnicodeUTF8Format</TT>. Note that the versions of the Unicode Converter prior to the Text Encoding Conversion Manager 1.2.1 do not support <TT>kUnicodeUTF8Format</TT>. Also, note that the <TT>unicodeEncoding</TT> field should be the same for all of the entries in <TT>iUnicodeMappings</TT>. If you pass <TT>NULL</TT> for the <TT>iUnicodeMappings</TT> parameter, the converter uses all of the scripts installed in the system, assuming the default version of Unicode with 16-bit format. The primary script is the one with the highest priority and <TT>ScriptOrder</TT>('<TT>itlm'</TT> resource) determines the priority of the rest. This is supported beginning with version 1.2 of the Text Encoding Conversion Manager. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=26235">
 </A>
<TT>oUnicodeToTextInfo</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=3729">
 </A>
</DD>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=3730">
 </A>
A pointer to a Unicode converter object for converting Unicode text strings to strings in one or more non-Unicode encodings. On output, a Unicode converter object that holds the mapping table information you supply as the <TT>iUnicodeMappings</TT> parameter and the state information related to the conversion. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=26244">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16787">
 </A>
A result code. In addition to various resource and memory errors, the function can return the following result codes: </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16788">
 </A>
<TT>kTextUnsupportedEncodingErr</TT> One of the encodings specified by the Unicode mapping structure you supply is not currently supported.</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16789">
 </A>
<TT>kTECMissingTableErr</TT>  A resource associated with one of the encodings is missing.</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16790">
 </A>
<TT>kTECTableChecksumErr</TT>  A resource has an invalid checksum, indicating that it has become corrupted.</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16795">
 </A>
If an error is returned, the Unicode converter object is invalid. See <A HREF="TEC.20.html" CLASS="XRef">
Text Encoding Conversion Manager Result Codes</A>
 in the chapter <A HREF="TEC.18.html" CLASS="XRef">
Basic Text Types Reference</A>
 for other possible result code values.</DD><P>

</DL COMPACT>
<DIV>
<H5 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=14362">
 </A>
DISCUSSION</H5>
<P>
<A NAME="pgfId=10268">
 </A>
You pass a Unicode converter object returned from the function <TT>CreateUnicodeToTextRunInfo</TT> to the function<TT> </TT><A HREF="TEC.8c.html" CLASS="XRef"><TT>ConvertFromUnicodeToTextRun</TT></A> or <A HREF="TEC.8d.html" CLASS="XRef"><TT>ConvertFromUnicodeToScriptCodeRun</TT></A> to identify the information to be used for the conversion. These two functions modify the contents of the Unicode converter object. </P>
</DIV>
<DIV>
<H5 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=3743">
 </A>
SEE ALSO</H5>
<P>
<A NAME="pgfId=10219">
 </A>
The function <A HREF="TEC.84.html" CLASS="XRef"><TT>CreateUnicodeToTextInfoByEncoding</TT></A><P>


<A NAME="pgfId=10222">
 </A>
The function <A HREF="TEC.8b.html" CLASS="XRef"><TT>CreateUnicodeToTextRunInfoByScriptCode</TT></A></P>
</DIV>
<HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 13 Dec 99)<P><A HREF="TEC.88.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.88.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.8a.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A>

<!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY>
</HTML>
