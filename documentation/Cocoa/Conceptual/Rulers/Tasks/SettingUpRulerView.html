<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Rulers and Paragraph Styles: Setting Up a Ruler View</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Setting Up a Ruler View"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000874" title="Setting Up a Ruler View"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../TextFonts-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">Rulers and Paragraph Styles</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Concepts/AboutRulerMarkers.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="ChangingUnits.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20000874-BBCGJCDJ" title="Setting Up a Ruler View"></a><hr /><H1>Setting Up a Ruler View</H1><p>Adding a ruler view<a name="//apple_ref/doc/uid/20000874-DontLinkElementID_79"></a> to a scroll view can be as simple as invoking the <code>NSScrollView</code> method <code><a href="../../../Reference/ApplicationKit/Classes/NSScrollView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSScrollView/setHasHorizontalRuler:" target="_top">setHasHorizontalRuler:</a></code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_80"></a> and <code><a href="../../../Reference/ApplicationKit/Classes/NSScrollView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSScrollView/setHasVerticalRuler:" target="_top">setHasVerticalRuler:</a></code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_81"></a> methods. These create instances of the default ruler view class, which you can change using the <code>NSScrollView</code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_82"></a> class method <code><a href="../../../Reference/ApplicationKit/Classes/NSScrollView_Class/Reference/Reference.html#//apple_ref/occ/clm/NSScrollView/setRulerViewClass:" target="_top">setRulerViewClass:</a></code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_83"></a>. You can also set ruler views directly on a per-instance basis using <code><a href="../../../Reference/ApplicationKit/Classes/NSScrollView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSScrollView/setHorizontalRulerView:" target="_top">setHorizontalRulerView:</a></code> and <code><a href="../../../Reference/ApplicationKit/Classes/NSScrollView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSScrollView/setVerticalRulerView:" target="_top">setVerticalRulerView:</a></code>. Once you’ve added rulers to a scroll view, you can hide and reveal them using <code><a href="../../../Reference/ApplicationKit/Classes/NSScrollView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSScrollView/setRulersVisible:" target="_top">setRulersVisible:</a></code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_84"></a>.</p><p>Beyond creating the rulers, you need take only two steps to set them up properly for use by the views contained within the scroll view: locate the zero marks of the rulers and reserve room for accessory views. You normally perform these steps only once, when setting up the <code>NSScrollView</code> object with rulers. However, if you allow the user to reset document attributes such as margins<a name="//apple_ref/doc/uid/20000874-DontLinkElementID_85"></a>, you should change the zero mark locations as well. Also, if you reuse the scroll view by swapping in a new document view you may need to set up the rulers again with different settings.</p><p>The first step is to determine where you want the zero marks<a name="//apple_ref/doc/uid/20000874-DontLinkElementID_86"></a> of the rulers to be located relative to the bounds origin of the document view. The zero marks are coincident with the bounds origin by default, but you can change this with the method <code><a href="../../../Reference/ApplicationKit/Classes/NSRulerView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSRulerView/setOriginOffset:" target="_top">setOriginOffset:</a></code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_87"></a>. This method takes an offset specified in the document view’s coordinate system. If you need to set the origin offset based on a point in a subview of the document view, such as a text view that’s inset on a page, use <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/convertPoint:fromView:" target="_top">convertPoint:fromView:</a></code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_88"></a> to realize it in the document view’s coordinate system. This Objective-C code fragment places the zero marks at the bounds origin of a client view, which lies somewhere inside the document view:</p><div class="codesample"><table><tr><td scope="row"><pre>zero = [docView convertPoint:[clientView bounds].origin fromView:clientView];<span></span></pre></td></tr><tr><td scope="row"><pre>[horizRuler setOriginOffset:zero.x - [docView bounds].origin.x];<span></span></pre></td></tr></table></div><p>After placing the zero marks, you should set up your rulers so that they don’t change in size as the user works within the document view. For example, if two different subviews of the document view use different accessory views, the ruler view enlarges itself as necessary each time you change the accessory view. Such changes are at best unsightly and at worst confusing to the user. To avoid this problem, calculate ahead of time the sizes of the largest accessory view and the largest markers, and set the ruler view’s required thickness for these elements using <code><a href="../../../Reference/ApplicationKit/Classes/NSRulerView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSRulerView/setReservedThicknessForAccessoryView:" target="_top">setReservedThicknessForAccessoryView:</a></code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_89"></a> and <code><a href="../../../Reference/ApplicationKit/Classes/NSRulerView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSRulerView/setReservedThicknessForMarkers:" target="_top">setReservedThicknessForMarkers:</a></code><a name="//apple_ref/doc/uid/20000874-DontLinkElementID_90"></a>. For example, if you have two accessory views for the horizontal ruler, one <code>16.0</code> PostScript units high and the other <code>24.0</code>, invoke <code><a href="../../../Reference/ApplicationKit/Classes/NSRulerView_Class/Reference/Reference.html#//apple_ref/occ/instm/NSRulerView/setReservedThicknessForAccessoryView:" target="_top">setReservedThicknessForAccessoryView:</a></code> with an argument of <code>24.0</code>.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Concepts/AboutRulerMarkers.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="ChangingUnits.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1997, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-09-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/Rulers/Tasks/SettingUpRulerView.html%3Fid%3D10000089i-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/Rulers/Tasks/SettingUpRulerView.html%3Fid%3D10000089i-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/Rulers/Tasks/SettingUpRulerView.html%3Fid%3D10000089i-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
