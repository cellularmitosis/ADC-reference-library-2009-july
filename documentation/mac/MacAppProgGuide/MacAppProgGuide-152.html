<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Inputs You Provide to MABuild (MacApp PG)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING152></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MacAppProgGuide-151.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MacAppProgGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MacAppProgGuide-158.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MacAppProgGuide-153.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MacAppProgGuide-2.html"><B>Programmer's Guide to MacApp</B></A> / <A HREF="MacAppProgGuide-78.html"><B>Part 2 - Working With MacApp</B></A><BR><DD><A HREF="MacAppProgGuide-148.html"><B>Appendix A - Working With the MacApp  Build System</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING152-0></A>
<H1><A NAME=MARKER-9-24></A>Inputs You Provide to MABuild</H1>
 <A NAME=MARKER-2-25></A>The inputs you provide for MABuild include source code files, build option parameters, and changes you make to shell variables. In all but the simplest programs, you must also supply your own resource definition file and your own makefile (named <I>YourApp<CODE>.MAMake</CODE></I>). If your program fits the "magic five" filename configuration discussed in the next section, you won't need a makefile.<P>
<A NAME=HEADING152-2></A>
<H2><A NAME=MARKER-9-26></A>The Magic Five Files</H2>
 During the build process, MABuild looks for five files that are named after your application. In a simple application you may have only four--the first four in <A HREF=#MARKER-9-27>Table A-1</A>--or even fewer. In the most trivial programs you may put all your code into the main program module. In these two cases, MABuild can manage without the makefile. (See also <A HREF=#MARKER-9-33>"Creating a Makefile" on page 683</A>.) <A HREF=#MARKER-9-27>Table A-1</A> lists the magic five filenames for the application named <I>YourApp</I>.<P>
<A NAME=HEADING152-4></A>
<H2>MABuild Options</H2>
 MABuild has more than 50 command-line options. They range from options passed directly to the compiler to options that control the level of diagnostics printed while MABuild is running. <P>
 Each option has a default written into MABuild, and that default can in turn be modified by setting a global MPW shell variable. Options specified on the command line override or extend options specified by the MPW shell variable <CODE>MABuildDefaults</CODE>. (See the note<A HREF=MacAppProgGuide-150.html#MARKER-9-20> on page 672</A>.) The shell variable in turn overrides or extends defaults written into the MABuildTool code.<P>
<B>Table A-1  <A NAME=MARKER-9-27></A><B>Table A-1 The five default filenames MABuild looks for</B>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Template for filename<TH>What it is and what it contains<TR>
<TD><CODE>M<I>YourApp.cp</I></CODE><TD>This code file contains the main routine.<TR>
<TD><CODE>U<I>YourApp.h</I></CODE><TD>This interface file contains class definitions and function prototypes. This file is not required but is almost always included.<TR>
<TD><CODE>U<I>YourApp.cp</I></CODE><TD>This implementation file contains the actual code. (It can also be named <CODE>U<I>YourApp.xx.cp</I></CODE> with the <I>xx</I> used to number multiple files.)<TR>
<TD><I>YourApp<CODE>.r</CODE></I><TD>This file contains resource definitions. It is optional; if you do not provide it, MABuild uses MacApp's <CODE>defaults.r</CODE> resource file.<TR>
<TD><I>YourApp<CODE>.MAMake</CODE></I><TD>This is an MPW script you write to tell MPW's Make tool how to build any additional files included in your application.</TABLE>
</B><P>
<A NAME=HEADING152-8></A>
<H2>Modifying MABuild's Default Behavior</H2>
 Many builds will not fall into the categories described thus far. Perhaps your application has neither the "magic five" file configuration nor a one-file configuration, or perhaps you'd like to modify MABuild's default behavior.<P>
 If your application does not have a simple file configuration, you need to provide a makefile called <I>YourApp<CODE>.MAMake</CODE></I>, as described in <A HREF=#MARKER-9-33>"Creating a Makefile," beginning on page 683</A>. If you want to override MABuild's default behavior, you can simply specify command-line options or you can modify the global shell variables defined in MacApp's <CODE>1Startup</CODE> file (see <A HREF=MacAppProgGuide-150.html#MARKER-9-19>page 672</A>).<P>
<A NAME=HEADING152-11></A>
<H2>Specifying Command-Line Options</H2>
 When specifying command-line options in MPW, keep the following in mind:<P>
<UL>
<LI>Any option can be specified on the command line. 
<LI>You can specify as many options as you like. To continue a command on the next line, type the continuation character <CODE><img src = "delta.gif" BORDER=NONE></CODE> (Option-d) and press Return. When you've finished typing, select the whole command and press Enter.
<LI>Each option is preceded by a hyphen, and case is not significant. Some options take parameters, however, and case in parameters may be significant. 
<LI>If the parameter has a space in it, you must enclose the whole parameter in single or double quotation marks. If you aren't familiar with the use of quotation marks in the MPW command line, read the section "Quoting Special Characters" in the <I>Macintosh Programmer's Workshop Reference</I>.<P>
</UL>
<A NAME=HEADING152-17></A>
<H2>Building Native Applications</H2>
 <A HREF=MacAppProgGuide-16.html#MARKER-9-22>"Types of Macintosh Computers" on page 4</A> describes the different flavors of Macintosh computer. The MABuild system defaults to building a native 68K application.<P>
<A NAME=HEADING152-19></A>
<H3><A NAME=MARKER-2-28></A>Native Power Macintosh Applications</H3>
 To build a Power Macintosh application, you specify a Power Macintosh compiler. For example, to build a native Power Macintosh application using the MrC RISC compiler, you type a command line like the following:<P>
<PRE>
MABuild YourApp -cp MrC
</PRE>
<A NAME=HEADING152-22></A>
<H3><A NAME=MARKER-2-29></A>Fat Applications</H3>
 A<B> </B>fat application is an application that contains 68K Macintosh code in its resource fork and native Power Macintosh code in its data fork so that it can run native on either machine. To build a fat application, you first build a 68K version of your application, with a command line like the following:<P>
<PRE>
MABuild YourApp [-options]
</PRE>
 You then build a Power Macintosh version, and include the code from the 68K version, with a command line using the <CODE>-Fat</CODE> option:<P>
<PRE>
MABuild YourPPCApp -cp MrC -Fat YourApp [-options]
</PRE>
<A NAME=HEADING152-27></A>
<H3>Building Noncode Resources</H3>
 You can build a version of your application that contains all resources except <CODE>'CODE'</CODE> resources by using the <CODE>-RSRC</CODE> option on your command line:<P>
<PRE>
MABuild YourApp -RSRC
</PRE>
 MPW's Rez compiler can translate a text resource definition file (for example, <CODE>YourResourceFile.r</CODE>) into a compiled resource file (<CODE>YourResourceFile.rsrc</CODE>). Since it may be easier to build compiled resources with MPW and Rez than to do so in an integrated development environment (IDE), MABuild provides the <CODE>-RSRC</CODE> option. It allows you to generate all the compiled resources for your application, except for any <CODE>'CODE'</CODE> resources (which an IDE is quite comfortable with).<P>
<A NAME=HEADING152-31></A>
<H2><A NAME=MARKER-9-30></A>Common Command-Line Options</H2>
 Some of the most commonly used MABuild command-line options are <CODE>-[no]Attachable</CODE>, <CODE>-[no]AutoBuild</CODE>, <CODE>-[no]Debug</CODE>, <CODE>-[no]Drag</CODE>, <CODE>-[no]ExpandEnvVars</CODE>, <CODE>-[no]ModelCFM</CODE>, <CODE>-[no]ModelFar</CODE>, <CODE>-[no]Names</CODE>, <CODE>-[no]PowerTalk</CODE>, <CODE>-[no]P</CODE>, <CODE>-[no]PP</CODE>, and <CODE>-[no]Sym</CODE>.<P>
 The syntax "<CODE>-[no]</CODE>" indicates that an option can have the word <CODE>no</CODE> prepended to it to specifically turn the option off. However, for all the options shown here, except <CODE>P</CODE> for show progress, the option defaults to off, so you don't need to specifically turn them off.<P>
<DL>
<DT><B>Note</B>
<DD>For an exhaustive list of MABuild options, type the following line in your MPW worksheet and press Enter:  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<pre>Help -f &quot;{MacApp}&quot;MacApp.Help MABuild           <EM></EM></pre><P>
</DL>
 The most commonly used command-line options are discussed next.<P>
<UL>
<LI><CODE>-Attachable</CODE><P>
Using this option tells MABuild to set the <CODE>qAttachable</CODE> flag to <CODE>TRUE</CODE>, which causes the build to include MacApp's support for attaching scripts to application objects. You can include code for attaching scripts with a command line like the following:<P>
<pre><CODE>MABuild &quot;{MASamples}Calc:Calc&quot; </CODE>-Attachable<CODE></CODE></pre>
<LI><CODE>-AutoBuild</CODE><P>
Using this option tells MABuild to also build the version of the MacApp library that corresponds to the version of your application you are building. MABuild uses the file <CODE>MacApp.lib.MAMake</CODE> to aid in building MacApp.<P>
For example, to build a Power Macintosh version of the Calc sample application, and to make sure the corresponding MacApp library is built, you could use the following command line:<P>
<pre><CODE>MABuild &quot;{MASamples}Calc:Calc&quot; </CODE>-cp MrC<CODE> -AutoBuild</CODE></pre>
<LI><CODE>-Debug</CODE><P>
Using this option tells MABuild to create a debug version of your application. The application is placed in a folder called<P>
<CODE>{<I>YourAppFolder}xDebug:</I></CODE><P>
where <I>x</I> is a character specified by the <CODE>MASeparateObjectsPrefix</CODE> shell variable. For example, the complete folder name might be <P>
<pre><I>YourHardDisk:YourApp</I>:%Debug:</pre><P>
When you turn debugging on, MacApp embeds conditional debugging assertions in your code. It also builds your application to include symbols. Be aware that the debugging code adds considerable size to your code. (See also <CODE>-NoDebug</CODE> and <CODE>-Sym</CODE> below.)
<LI><CODE>-Drag</CODE><P>
This option builds a version of MacApp with code support for drag and drop. Drag and drop is a Macintosh feature based on the Drag Manager that lets a user drag selected information between windows or applications. For more information, see <A HREF=MacAppProgGuide-136.html#MARKER-9-19>Chapter 28, "Working With Drag and Drop."</A>
<LI><CODE>-ExpandEnvVars</CODE><P>
This option is useful as a debugging aid when you're having a problem building your application and you're not sure what's happening in the build system. This option causes all build environment variables to be expanded in the <I>YourApp<CODE>.MakeIt</CODE></I> file that is generated during the build. You can then examine the file to look for clues to what went wrong.
<LI><CODE>-ModelCFM</CODE><P>
This option specifies that the application will use CFM-68K, the 68K Macintosh version of the Power Macintosh Code Fragment Manager.
<LI><CODE>-ModelFar</CODE><P>
This option specifies full 32-bit addressing--the application can use 32-bit addressing for global data and have code segments larger than 32 KB. Keep in mind that your application will have faster, more compact code if you avoid using full 32-bit addressing. For example, if you have a segment that is larger than 32 KB, you may be able to rearrange your code to minimize the segment size, instead of using the <CODE>-ModelFar</CODE> option.
<LI><CODE>-Names</CODE><P>
To use a low-level debugger such as MacsBug, you must build your code with the <CODE>-Names</CODE> option on. This option embeds MacsBug debugging symbols in your code. It is a good idea to include this option when you are debugging a serious problem, since it may be necessary to switch from a source-level debugger to a low-level debugger when you encounter unrecoverable errors.<P>
MacApp turns on the <CODE>-Names</CODE> option automatically whenever you build with the <CODE>-Debug</CODE> option on. And like the <CODE>-Debug</CODE> option, the <CODE>-Names</CODE> option automatically builds your application with symbol information (see <CODE>-Sym</CODE>).
<LI><CODE>-NoDebug</CODE><P>
When your application is ready to ship, you use this option to turn off MacApp's debugging features. This will reduce the size of the executable application and make it run faster. Your object files and the nodebug version of the executable application will appear in a separate folder. You don't generally need to specify this option, because it's the default. (See also <CODE>-Debug</CODE>.)
<LI><CODE>-PowerTalk</CODE><P>
This option builds a version of MacApp with code support for PowerTalk electronic mailers. To take advantage of this support, your application must supply certain code as well, as described in <A HREF=MacAppProgGuide-139.html#MARKER-9-19>Chapter 29, "Working With PowerTalk Mailers."</A>
<LI><CODE>-P</CODE> and <CODE>-PP</CODE><P>
These options are useful for learning about the MABuild system and for tracking down problems in your build. <CODE>-P</CODE> tells the MABuild system to show progress statements. <CODE>-PP</CODE> specifies that all tools invoked by the MABuild system should also show progress statements. Keep in mind that using <CODE>-P</CODE> or <CODE>-PP</CODE> can generate a large amount of output to your MPW worksheet and slow down the build process significantly.
<LI><CODE>-Sym</CODE><P>
To create a version of your application that is compatible with Apple Computer's source code debuggers, you should specify the <CODE>-Sym</CODE> flag. Your object files and executable application will be stored in a folder named <CODE>%68k Sym</CODE> (where the <CODE>%</CODE> character is set according to the variable <CODE>MASeparateObjectsPrefix</CODE>). If you want to create a version compatible with source-level debugging, but with MacApp's own debugging options turned on, you should specify both the <CODE>-Sym</CODE> and the <CODE>-Debug</CODE> options. Object files and applications created with both those options will be placed in a folder called <CODE>%Debug</CODE>.<P>
For example, to build a 68K debug version of the DemoDialogs sample application for use with a source-level debugger, you could use the following command line:<P>
<CODE>MABuild &quot;{MASamples}DemoDialogs:DemoDialogs&quot; -debug</CODE><P>
The <CODE>-Sym</CODE> option is turned off by default, unless you change the <CODE>UserStartupMacApp</CODE> file to specify otherwise. You can turn it on specifically by using <CODE>-Sym</CODE> or, as in this case, by specifying <CODE>-debug</CODE>, which automatically turns on symbol support.<P>
You can specify a specific symbol table format that is compatible with your debugger. To do so, use the documentation for your linker to determine how to specify the desired symbol format, then pass on the required information to the linker in your MABuild command line.<P>
For example, to specify the 3.2 symbol format to the MPW Link tool, you use a build line like the following:<P>
<pre>MABuild -sym -link <CODE>&quot;</CODE>-sym 3.2<CODE>&quot;</CODE></pre><P>
The <CODE>&quot;</CODE>-sym 3.2<CODE>&quot;</CODE> option is passed on to the Link tool.<P>
</UL>
<A NAME=HEADING152-76></A>
<H2><A NAME=MARKER-2-31></A>Pass-Through Options</H2>
 <A HREF=#MARKER-9-4>Table A-2</A> shows MABuild command-line syntax that allows you to pass options through to specific build tools.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-4></A><B>Table A-2 MABuild command-line pass-through options</B> </CAPTION>
<TH>Command<B>-</B>line option<TH>Result<TR>
<TD><CODE>-Asm option [option...]</CODE><TD>Pass through options to assembler.<TR>
<TD><CODE>-C option [option...]</CODE><TD>Pass through options to C compiler.<TR>
<TD><CODE>-CFront option [option...]</CODE><TD>Pass through options to MPW C++ (AT&amp;T CFront).<TR>
<TD><CODE>-CPlusPlus option [option...]</CODE><TD>Pass through generic C++ compiler options.<TR>
<TD><CODE>-CreatorAndBundle option [option...]</CODE><TD>Pass through options to CreatorAndBundle tool.<TR>
<TD><CODE>-E</CODE><TD>Pass through <CODE>-E</CODE> to Make--rebuild everything, regardless of date.<TR>
<TD><CODE>-Lib option [option...]</CODE><TD>Pass through options to librarian.<TR>
<TD><CODE>-Link option [option...]</CODE><TD>Pass through options to linker.<TR>
<TD><CODE>-Make option [option...]</CODE><TD>Pass through options to Make.<TR>
<TD><CODE>-MakeSYM option [option...]</CODE><TD>Pass through options to MakeSYM.<TR>
<TD><CODE>-MrC option [option...]</CODE><TD>Pass through options to Macintosh RISC C/C++ compiler.<TR>
<TD><CODE>-MWC68K option [option...]</CODE><TD>Pass through options to Metrowerks C/C++ 68K compiler.<TR>
<TD><CODE>-MWCPPC option [option...]</CODE><TD>Pass through options to Metrowerks C/C++ PPC compiler.<TR>
<TD><CODE>-PPCAsm option [option...]</CODE><TD>Pass through options to PPC assembler.<TR>
<TD><CODE>-PPCLib option [option...]</CODE><TD>Pass through options to PPC librarian.<TR>
<TD><CODE>-PPCLink option [option...]</CODE><TD>Pass through options to PPC linker.<TR>
<TD><CODE>-R</CODE><TD>Pass through <CODE>-R</CODE> to Make and write results of Make to <CODE>stdout</CODE>.<TR>
<TD><CODE>-Rez option [option...]</CODE><TD>Pass through options to Resource compiler.<TR>
<TD><CODE>-S</CODE><TD>Pass through <CODE>-S</CODE> to Make--write results of Make to <CODE>stdout</CODE>.<TR>
<TD><CODE>-SCpp option [option...]</CODE><TD>Pass through options to the Symantec C++ compiler.<A NAME=MARKER-2-5></A></TABLE>
<P>
<A NAME=HEADING152-78></A>
<H2>Other Command-Line Options</H2>
 You can read about MABuild's other command-line options in the file <CODE>MacApp.help</CODE>. To display just the MABuild options, type the following line in your MPW worksheet and press Enter:<P>
<PRE>
Help -f &quot;{MacApp}&quot;MacApp.Help MABuild
</PRE>
<A NAME=HEADING152-81></A>
<H2><A NAME=MARKER-2-32></A><A NAME=MARKER-9-33></A>Creating a Makefile</H2>
 You can build simple MacApp applications using MABuild's default configuration, but most applications created with MABuild need to have a makefile. You should name the makefile after your application, in the form <I>YourApp<CODE>.MAMake</CODE></I>. In the makefile you specify the application name, the signature, and the files your application depends on.<P>
<DL>
<DT><B>Note</B>
<DD>The makefile you create is really a partial makefile, also called an MAMakefile (or MacApp Makefile). The MABuild system allows you to specify just the make information necessary for your own files, then combines it with other information to build your application. For convenience, we refer to both kinds of files as makefiles.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 To create your own makefile, in the simplest case you can copy an existing makefile and perform a global search and replace, changing the setting for the variable <CODE>AppName</CODE> from the old application's name to the name of your new application.<P>
 In the <CODE>{MACPlusExamples}</CODE> folder, MacApp provides several sample applications that use makefiles. These makefiles include <CODE>DemoDialogs.MAMake</CODE>, <CODE>DemoText.MAMake</CODE>, <CODE>Skeleton.MAMake</CODE>, and <CODE>Calc.MAMake</CODE>. You'll find another makefile, called <CODE>MacApp.lib.MAMake</CODE>, in the <CODE>{MALibraries}</CODE> folder.<P>
<A NAME=HEADING152-86></A>
<H3>The First Half of the Makefile Contains Definitions</H3>
 You may want to define values in your makefile for any of the following variables.<P>
<UL>
<LI><B>AppName.</B> <CODE>AppName</CODE> is the name of the application (it must be defined when you create a custom makefile).
<LI><B>BuildingBlocksCPlusIntf.</B> <CODE>BuildingBlockCPlusIntf<B> </B></CODE>is a list of the MacApp building-block interface files the application uses and is dependent on. For example, if your application uses MacApp's printing unit, you would add a line like the following:<P>
<pre><CODE>BuildingBlockCPlusIntf</CODE> = &quot;{MACPlusIncludes}UPrinting.h&quot;</pre><P>
If you are not using any of the interfaces (as defined in the file <CODE>Definitions_Common</CODE>), define this interface to nothing, so your files won't depend on it:<P>
<pre><CODE>BuildingBlocksCPlusIntf</CODE> = </pre>
<LI><B>NeededSysLibs.</B> <CODE>NeededSysLibs</CODE> is a list of required system libraries (you don't normally need to add any libraries to this variable, since the default includes the full set).
<LI><B>OtherAsmOptions.</B> The <CODE>OtherAsmOptions</CODE> variable allows you to define options for assembling assembly-language modules, in addition to those specified by the <CODE>AsmOptions<B> </B></CODE>variable defined by the MABuild tool.<B> </B>
<LI><B>OtherCOptions.</B> The <CODE>OtherCOptions</CODE> variable allows you to define options for compiling C language modules, in addition to those specified by the <CODE>OtherCOptions<B> </B></CODE>variable defined by the MABuild tool.
<LI><B>OtherCPlusOptions.</B> The <CODE>OtherCPlusOptions</CODE> variable allows you to define options for compiling C++ language modules, in addition to those specified by the <CODE>CPlusOptions<B> </B></CODE>variable defined by the MABuild tool.
<LI><B>OtherCreatorAndBundleOptions.</B> The <CODE>OtherCreatorAndBundleOptions</CODE> variable allows you to define options for the CreatorAndBundle MPW tool, in addition to those specified by the <CODE>CreatorAndBundleOptions</CODE> variable defined by the MABuild tool. The CreatorAndBundle tool sets the creator type and bundle bit for the application file. You rarely need to use the <CODE>OtherCreatorAndBundleOptions</CODE> variable.
<LI><B>OtherInterfaces.</B> <CODE>OtherInterfaces</CODE> is a list of interfaces the application uses in addition to those found in the <CODE>{MACPlusIncludes}</CODE>, <CODE>{MARIncludes}</CODE>, and <CODE>{MAAIncludes}</CODE> directories (which are specified in the <CODE>1Startup</CODE> file).
<LI><B>OtherLibOptions.</B> The <CODE>OtherLibOptions</CODE> variable allows you to define options for the current library tool (such as MPW's Lib tool), in addition to those specified by the <CODE>OtherLibOptions<B> </B></CODE>variable defined by the MABuild tool.
<LI><B>OtherLinkFiles.</B> The <CODE>OtherLinkFiles</CODE> variable allows you to specify object files that should be linked into the application, in addition to the default file <I>YourApp<CODE>.o<B>.</B></CODE></I>
<LI><B>OtherLinkFiles68K.</B> The <CODE>OtherLinkFiles68K</CODE> variable allows you to specify object files that should be linked into the application for a 68K build. It is used by the <CODE>Dependencies_68K</CODE> file.
<LI><B>OtherLinkFilesPPC.</B> The <CODE>OtherLinkFilesPPC</CODE> variable allows you to specify object files that should be linked into the application for a Power Macintosh build. It is used by the <CODE>Dependencies_PPC</CODE> file.
<LI><B>OtherLinkOptions.</B> The <CODE>OtherLinkOptions</CODE> variable allows you to define options for the current linker, in addition to those specified by the <CODE>LinkOptions</CODE> variable defined by the MABuild tool.
<LI><B>OtherMakeSymOptions. </B>The <CODE>OtherMakeSymOptions</CODE> variable allows you to define options for the MakeSYM tool, in addition to those specified by the <CODE>MakeSymOptions<B> variable defined by the </B></CODE>MABuild tool<B>.</B><P>
<B>The </B>MakeSYM<B> tool extracts debugging information from an XCOFF file. XCOFF (Extended Common Object File Format) is a container format recognized by the Code Fragment Manager. By default, MacApp does not build a symbol file for Power Macintosh builds. If your debugger is unable to extract symbol information directly from an XCOFF file, you can modify the file <CODE>Dependencies_PPC to instruct the MakeSYM tool to generate a symbol file. Simply uncomment the lines that invoke MakeSYM.</CODE></B>
<LI><B>OtherRezFiles.</B> <CODE>OtherRezFiles</CODE> is a list of resource definition files, other than <CODE>AppName.r</CODE>, that should be included in the Rez command. Resources from files in this list will be compiled and included in your output file.
<LI><B>OtherRezOptions.</B> The <CODE>OtherRezOptions</CODE> variable allows you to define options for the Rez tool, in addition to those specified by the <CODE>RezOptions</CODE> variable defined by the MABuild tool. Rez is a resource compiler that converts text resource definitions into compiled resource format.
<LI><B>OtherRsrcFiles. </B>This is a list of resource files, other than the <CODE>Debug.rsrc</CODE> and <CODE>MacApp.rsrc</CODE> files, that should be part of dependency checking. Files in this list are <I>not</I> automatically included in your output file--you must include them into one of your resource definition files with an <CODE>Include</CODE> statement.<P>
Your resource definition files, such as <CODE>AppName.r</CODE>, can include text resource definition files and compiled resources (the output of the Rez resource compiler). You include a text resource definition file with a line like<P>
<pre>#include &quot;MacAppTypes.r&quot;</pre><P>
However, <CODE>OtherRsrcFiles</CODE> is used only for files that are included as compiled resources (and that need to be built before they are included). You include a compiled resource file with a line like<P>
<pre>include &quot;MacApp.rsrc&quot; not 'ckid';</pre><P>
This line excludes the <CODE>'ckid'</CODE> resource, used for source code version control. For more information, see the <I>Macintosh Programmer's Workshop Reference</I>.
<LI><B>OtherSegMappings.</B> <CODE>OtherSegMappings</CODE> is a list of <CODE>-sn</CODE> (segment name) commands for the linker. Segmentation is described in <A HREF=MacAppProgGuide-31.html#MARKER-9-202>"Segment Management (68K-Based Applications Only)" on page 75</A> in <A HREF=MacAppProgGuide-25.html#MARKER-9-21>Chapter 3, "Core Technologies."</A>
<LI><B>OtherViewTypesSrc.</B> When the Rez tool builds a view resource from a text description of a view, it uses the file <CODE>ViewTypes.r</CODE> to obtain view template definitions. If you have custom view types you wish to initialize from text descriptions, you can use the <CODE>OtherViewTypesSrc</CODE> variable to specify a file containing view template definitions for your custom views, to be included into the <CODE>ViewTypes.r</CODE> file. (For more information on view templates, see <A HREF=MacAppProgGuide-101.html#MARKER-9-58>"Working With View Resource Templates," beginning on page 425</A>.)<P>
</UL>
 The MABuild script calls the MABuild tool, passing the command-line parameters you specify. The MABuild tool invokes the Make tool, using the makefile for the specified application (<I>YourApp<CODE>.MAMake</CODE></I>). Make uses input files in the following order: <CODE>Definitions_Common</CODE>, <CODE>Definitions_68K</CODE> (<CODE>Definitions_PPC</CODE> for a Power Macintosh build), <I>YourApp<CODE>.MAMake</CODE></I> (if supplied), and <CODE>Dependencies_68K</CODE> (<CODE>Dependencies_PPC</CODE> for a Power Macintosh build). Because of this order, you can use your makefile to redefine any of the variables set in <CODE>Definitions_Common</CODE> or one of the other definitions files. You can read about the Make tool in the <I>Macintosh Programmer's Workshop Reference</I>.<P>
<A NAME=HEADING152-117></A>
<H3>The Second Half of the Makefile Contains Dependencies</H3>
 If you want to specify any additional files (such as assembly-language files) that need to be linked with your application, you must provide Make with dependencies (or build rules) for them in your makefile. For example,<P>
<PRE>
OtherLinkFiles = &quot;{OBJAPP}&quot;MyApp.a.o

&quot;{OBJAPP}&quot;MyApp.a.o florin <img src = "delta.gif" BORDER=NONE>
   &quot;{SRCAPP}&quot;MyApp.a <img src = "delta.gif" BORDER=NONE>
   &quot;{SRCAPP}&quot;AnInclude.a
</PRE>
 The <CODE>florin</CODE> character indicates a build dependency. The file <CODE>MyApp.a.o</CODE> depends on the files that follow, and should be updated if any of the following files has a more recent modification date. The <CODE><img src = "delta.gif" BORDER=NONE></CODE> character is used to indicate that a line is continued on the next line, so this whole dependency is interpreted as one line.<P>
 Note that the <CODE>florin</CODE> character is produced by pressing Option-f and the <CODE><img src = "delta.gif" BORDER=NONE></CODE> character by pressing Option-d.<P>
 A build rule must begin against the left margin of the file, or it will be ignored by Make. There must be no blank lines between the specified files.<P>
 You don't need to specify build rules for assembly-language files unless the default rules specified in the <CODE>Dependencies_68K</CODE> file (or <CODE>Dependencies_PPC</CODE> for a Power Macintosh build) are not sufficient.<P>
<DL>
<DT><B>Note</B>
<DD>There are third-party products that can generate a makefile for the files in a project.<EM></EM><A NAME=MARKER-2-34></A><A NAME=MARKER-2-35></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MacAppProgGuide-151.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MacAppProgGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MacAppProgGuide-158.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MacAppProgGuide-153.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MacAppProgGuide-3.html">&copy; Apple Computer, Inc.</A><br>25 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
