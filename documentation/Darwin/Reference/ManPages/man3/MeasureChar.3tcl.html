<html><head><title>Mac OS X
 Manual Page For MeasureChar(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/MeasureChar" title="Mac OS X
 Manual Page for MeasureChar(3tcl)"><a name="//apple_ref/doc/man/3/MeasureChar" title="Mac OS X
 Manual Page for MeasureChar(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/MeasureChar"; name=MeasureChar(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tk_MeasureChars(3)                          Tk Library Procedures                         <a href="Tk_MeasureChars.3tcl.html#//apple_ref/doc/man/3/Tk_MeasureChars">Tk_MeasureChars(3)</a>



____________________________________________________________________________________________________________

<b>NAME</b>
       Tk_MeasureChars, Tk_TextWidth, Tk_DrawChars, Tk_UnderlineChars - routines to measure and display sim-<font color="#ffffff" class="whiteout">ple&nbsp;simple</font>
       ple single-line strings.

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       int
       <b>Tk_MeasureChars(</b><u>tkfont,</u> <u>string,</u> <u>numBytes,</u> <u>maxPixels,</u> <u>flags,</u> <u>lengthPtr</u><b>)</b>

       int
       <b>Tk_TextWidth(</b><u>tkfont,</u> <u>string,</u> <u>numBytes</u><b>)</b>

       void
       <b>Tk_DrawChars(</b><u>display,</u> <u>drawable,</u> <u>gc,</u> <u>tkfont,</u> <u>string,</u> <u>numBytes,</u> <u>x,</u> <u>y</u><b>)</b>

       void
       <b>Tk_UnderlineChars(</b><u>display,</u> <u>drawable,</u> <u>gc,</u> <u>tkfont,</u> <u>string,</u> <u>x,</u> <u>y,</u> <u>firstByte,</u> <u>lastByte</u><b>)</b>


<b>ARGUMENTS</b>
       Tk_Font      <u>tkfont</u>      (in)      Token for font in which text is to be  drawn  or  measured.   Must
                                          have been returned by a previous call to <b>Tk_GetFont</b>.

       const char   <u>*string</u>     (in)      Text  to  be  measured or displayed.  Need not be null terminated.
                                          Any non-printing meta-characters in the string (such as tabs, new-<font color="#ffffff" class="whiteout">lines,&nbsp;newlines,</font>
                                          lines, and other control characters) will be measured or displayed
                                          in a platform-dependent manner.                                    |

       int          <u>num-</u>                                                                                     |
       <u>Bytes</u>    (in)                                                                         |               |
                                          The  maximum number of bytes to consider when measuring or drawing |
                                          <u>string</u>.  Must be greater than or equal to 0.

       int          <u>maxPixels</u>   (in)      If <u>maxPixels</u> is &gt;= 0, it specifies the  longest  permissible  line
                                          length in pixels.  Characters from <u>string</u> are processed only until
                                          this many pixels have been covered.  If <u>maxPixels</u> is &lt; 0, then the
                                          line length is unbounded and the <u>flags</u> argument is ignored.

       int          <u>flags</u>       (in)      Various  flag  bits  OR-ed together: TK_PARTIAL_OK means include a
                                          character as long as any part of it fits in the  length  given  by
                                          <u>maxPixels</u>;  otherwise,  a character must fit completely to be con-
                                          sidered.  TK_WHOLE_WORDS means stop on a word boundary, if  possi-<font color="#ffffff" class="whiteout">ble.&nbsp;possible.</font>
                                          ble.   If  TK_AT_LEAST_ONE  is  set,  it means return at least one
                                          character even if no characters could fit in the length  given  by
                                          <u>maxPixels</u>.   If  TK_AT_LEAST_ONE is set and TK_WHOLE_WORDS is also
                                          set, it means that if not even one word fits on the  line,  return
                                          the  first  few  letters of the word that did fit; if not even one
                                          letter of the word fit,  then  the  first  letter  will  still  be
                                          returned.

       int          <u>*lengthPtr</u>  (out)     Filled with the number of pixels occupied by the number of charac-<font color="#ffffff" class="whiteout">ters&nbsp;characters</font>
                                          ters returned as the result of <b>Tk_MeasureChars</b>.

       Display      <u>*display</u>    (in)      Display on which to draw.

       Drawable     <u>drawable</u>    (in)      Window or pixmap in which to draw.

       GC           <u>gc</u>          (in)      Graphics context for drawing characters.  The font  selected  into
                                          this GC must be the same as the <u>tkfont</u>.

       int          <u>x,</u> <u>y</u>        (in)      Coordinates  at  which to place the left edge of the baseline when
                                          displaying <u>string</u>.                                                 |

       int          <u>first-</u>                                                                                   |
       <u>Byte</u>   (in)                                                                         |                 |
                                          The index of the first byte of the first character to underline in |
                                          the <u>string</u>.  Underlining begins at the left edge of  this  charac- |
                                          ter.                                                               |

       int          <u>last-</u>                                                                                    |
       <u>Byte</u>    (in)                                                                         |                |
                                          The index of the first byte of the last character up to which  the |
                                          underline will be drawn.  The character specified by <u>lastByte</u> will |
                                          not itself be underlined.
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       These routines are for measuring and displaying simple single-font, single-line, strings.  To measure
       and  display  single-font, multi-line, justified text, refer to the documentation for <b>Tk_ComputeText</b>-<font color="#ffffff" class="whiteout">Layout.&nbsp;Tk_ComputeTextLayout.</font>
       <b>Layout</b>.  There is no programming interface in the core of Tk  that  supports  multi-font,  multi-line
       text;  support  for  that  behavior must be built on top of simpler layers.  Note that the interfaces |
       described here are byte-oriented not character-oriented, so index values coming from Tcl scripts need |
       to be converted to byte offsets using the <b>Tcl_UtfAtIndex</b> and related routines.

       A  glyph  is  the  displayable  picture of a letter, number, or some other symbol.  Not all character
       codes in a given font have a glyph.  Characters such as tabs, newlines/returns, and  control  charac-<font color="#ffffff" class="whiteout">ters&nbsp;characters</font>
       ters  that  have no glyph are measured and displayed by these procedures in a platform-dependent man-<font color="#ffffff" class="whiteout">ner;&nbsp;manner;</font>
       ner; under X, they are replaced with backslashed escape sequences, while under Windows and  Macintosh
       hollow  or solid boxes may be substituted.  Refer to the documentation for <b>Tk_ComputeTextLayout</b> for a
       programming interface that supports the platform-independent expansion of tab characters into columns
       and newlines/returns into multi-line text.

       <b>Tk_MeasureChars</b>  is used both to compute the length of a given string and to compute how many charac-<font color="#ffffff" class="whiteout">ters&nbsp;characters</font>
       ters from a string fit in a given amount of space.  The return value is  the  number  of  bytes  from
       <u>string</u> that fit in the space specified by <u>maxPixels</u> subject to the conditions described by <u>flags</u>.  If
       all characters fit, the return value will be <u>numBytes</u>.  <u>*lengthPtr</u> is filled with the computed width,
       in  pixels,  of  the portion of the string that was measured.  For example, if the return value is 5,
       then <u>*lengthPtr</u> is filled with the distance between the left edge of <u>string</u>[0] and the right edge  of
       <u>string</u>[4].

       <b>Tk_TextWidth</b> is a wrapper function that provides a simpler interface to the <b>Tk_MeasureChars</b> function.
       The return value is how much space in pixels the given <u>string</u> needs.

       <b>Tk_DrawChars</b> draws the <u>string</u> at the given location in the given <u>drawable</u>.

       <b>Tk_UnderlineChars</b> underlines the given range of characters in the given <u>string</u>.  It doesn't draw  the
       characters  (which  are assumed to have been displayed previously by <b>Tk_DrawChars</b>); it just draws the
       underline.  This procedure is used to underline a few  characters  without  having  to  construct  an
       underlined font.  To produce natively underlined text, the appropriate underlined font should be con-<font color="#ffffff" class="whiteout">structed&nbsp;constructed</font>
       structed and used.


<b>KEYWORDS</b>
       font



Tk                                                   8.1                                  <a href="Tk_MeasureChars.3tcl.html#//apple_ref/doc/man/3/Tk_MeasureChars">Tk_MeasureChars(3)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/MeasureChar.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/MeasureChar.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/MeasureChar.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
