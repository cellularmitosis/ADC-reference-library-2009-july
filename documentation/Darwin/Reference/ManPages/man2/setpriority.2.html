<html><head><title>Mac OS X Developer Tools
 Manual Page For setpriority(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/setpriority" title="Mac OS X Developer Tools
 Manual Page for setpriority(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/setpriority"; name=setpriority(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
GETPRIORITY(2)              BSD System Calls Manual             <!-- a -->GETPRIORITY(2)<!-- /a -->

<b>NAME</b>
     <b>getpriority</b>, <b>setpriority</b> -- get/set program scheduling priority

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/resource.h&gt;</b>

     <u>int</u>
     <b>getpriority</b>(<u>int</u> <u>which</u>, <u>id</u><b>_</b><u>t</u> <u>who</u>);

     <u>int</u>
     <b>setpriority</b>(<u>int</u> <u>which</u>, <u>id</u><b>_</b><u>t</u> <u>who</u>, <u>int</u> <u>prio</u>);

<b>DESCRIPTION</b>
     The scheduling priority of the process, process group, or user as indicated by <u>which</u> and <u>who</u> is
     obtained with the <b>getpriority</b>() call and set with the <b>setpriority</b>() call.  Additionally, the current
     thread can be set to background state.  <u>Which</u> is one of PRIO_PROCESS, PRIO_PGRP, PRIO_USER, or
     PRIO_DARWIN_THREAD, and <u>who</u> is interpreted relative to <u>which</u> (a process identifier for PRIO_PROCESS,
     process group identifier for PRIO_PGRP, and a user ID for PRIO_USER).  A zero value of <u>who</u> denotes the
     current process, process group, user, thread (for PRIO_DARWIN_THREAD).  <u>prio</u> is a value in the range
     -20 to 20.  The default priority is 0; lower priorities cause more favorable scheduling.  For PRIO_DAR-<font color="#ffffff" class="whiteout">WIN_THREAD,&nbsp;PRIO_DARWIN_THREAD,</font>
     WIN_THREAD, <u>prio</u> is either 0 (to remove current thread from background status) or PRIO_DARWIN_BG (to
     set current thread into background state).

     The <b>getpriority</b>() call returns the highest priority (lowest numerical value) enjoyed by any of the
     specified processes or for PRIO_DARWIN_THREAD returns 0 when current thread is not in background state
     or 1 when the current thread is in background state.  The <b>setpriority</b>() call sets the priorities of all
     of the specified processes to the specified value.  When setting a thread into background state the
     scheduling priority is set to lowest value, disk and network IO are throttled.  Network IO will be
     throttled for any sockets the thread opens after going into background state.  Any previously opened
     sockets are not affected.  Only the super-user may lower priorities, but any thread can set itself into
     background state.

<b>RETURN</b> <b>VALUES</b>
     Since <b>getpriority</b>() can legitimately return the value -1, it is necessary to clear the external vari-<font color="#ffffff" class="whiteout">able&nbsp;variable</font>
     able <u>errno</u> prior to the call, then check it afterward to determine if a -1 is an error or a legitimate
     value.  The <b>setpriority</b>() call returns 0 if there is no error, or -1 if there is.

<b>ERRORS</b>
     <b>Getpriority</b>() and <b>setpriority</b>() will fail if:

     [EINVAL]           <u>Which</u> is not one of PRIO_PROCESS, PRIO_PGRP, PRIO_USER, or PRIO_DARWIN_THREAD.

     [EINVAL]           <u>Who</u> is not a valid process, process group, or user ID.

     [EINVAL]           <u>Who</u> is not 0 when <u>which</u> is PRIO_DARWIN_THREAD.

     [ESRCH]            No process can be located using the <u>which</u> and <u>who</u> values specified.

     In addition to the errors indicated above, <b>setpriority</b>() will fail if:

     [EACCES]           A non super-user attempts to lower a process priority.

     [EPERM]            A process is located, but neither its effective nor real user ID matches the effec-<font color="#ffffff" class="whiteout">tive&nbsp;effective</font>
                        tive user ID of the caller.

<b>LEGACY</b> <b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/types.h&gt;</b>
     <b>#include</b> <b>&lt;sys/resource.h&gt;</b>

     The include file &lt;<u>sys/types.h&gt;</u> is necessary.

     <u>int</u>
     <b>getpriority</b>(<u>int</u> <u>which</u>, <u>int</u> <u>who</u>);

     <u>int</u>
     <b>setpriority</b>(<u>int</u> <u>which</u>, <u>int</u> <u>who</u>, <u>int</u> <u>value</u>);

     The type of <u>who</u> has changed.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/nice.1.html#//apple_ref/doc/man/1/nice">nice(1)</a>, <a href="fork.2.html#//apple_ref/doc/man/2/fork">fork(2)</a>, <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>, <a href="../man8/renice.8.html#//apple_ref/doc/man/8/renice">renice(8)</a>

<b>HISTORY</b>
     The <b>getpriority</b>() function call appeared in 4.2BSD.

4th Berkeley Distribution        June 4, 1993        4th Berkeley Distribution
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/setpriority.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/setpriority.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/setpriority.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
