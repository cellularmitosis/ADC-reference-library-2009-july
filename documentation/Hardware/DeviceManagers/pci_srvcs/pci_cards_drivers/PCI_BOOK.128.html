<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> RegistryPropertyIterate10</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.122.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.127.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.129.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="RoH.RoutineHeading"><A NAME="pgfId=4175"> </A>RegistryPropertyIterate</H1><P CLASS="T1.Text1"><A NAME="pgfId=4176"> </A>Repeated calls to <TT CLASS="cv">RegistryPropertyIterate</TT> use the iterator returned by <TT CLASS="cv">RegistryPropertyIterateCreate</TT> to iterate through a succession of properties.<A NAME="marker=6774"> </A></P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=18168"> </A>OSStatus RegistryPropertyIterate (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RegPropertyIter *cookie,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RegPropertyName *foundProperty,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean *done);</CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=18172"> </A><TT CLASS="cv">--&gt; cookie</TT><A NAME="18882"> </A></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4180"> </A>Pointer to the iterator used by property iterate routines.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=18182"> </A><TT CLASS="cv">&lt;-- foundProperty</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4181"> </A> Pointer to the name of the property found.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=18192"> </A><TT CLASS="cv">&lt;-- done</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4182"> </A>Pointer, returns <TT CLASS="cv">true</TT> when all properties have been found.</DD></DL COMPACT><DIV><H5 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4183"> </A>DESCRIPTION</H5><P CLASS="T1.Text1"><A NAME="pgfId=4184"> </A><TT CLASS="cv">RegistryPropertyIterate</TT> moves from property to property among the properties of the name entry specified in a prior <TT CLASS="cv">RegistryPropertyIterateCreate</TT> call (see previous section). It returns the name of the next property in <TT CLASS="cv">foundProperty</TT>, or <TT CLASS="cv">true</TT> in <TT CLASS="cv">done</TT> if all properties have been iterated through.</P></DIV><DIV><H5 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4198"> </A>RESULT CODES</H5><TABLE border=1 cellpadding=3><TR><TD ROWSPAN="1" COLSPAN="1"><CODE CLASS="TbCv.TblCode"><A NAME="pgfId=4187"> </A>noErr</CODE></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=4189"> </A>0</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=4191"> </A>No error</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><CODE CLASS="TbCv.TblCode"><A NAME="pgfId=4193"> </A>paramErr</CODE></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=4195"> </A>-50</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=4197"> </A>Bad parameter</FONT></TD></TR></TABLE></DIV><DIV><H5 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4199"> </A>CODE SAMPLE</H5><P CLASS="T1.Text1"><A NAME="pgfId=4203"> </A><A HREF="PCI_BOOK.128.html#29021" CLASS="XRef">Listing&nbsp;10-8</A> shows code that uses <TT CLASS="cv">RegistryPropertyIterate</TT> to iterate through all the properties for a given name entry.</P><P CLASS="L.Listing"><B><A NAME="pgfId=4205"> </A>Listing&nbsp;10-8	<A NAME="29021"> </A>Iterating through properties</B></P><CODE CLASS="CvF.CodeFull"><A NAME="pgfId=18861"> </A>OSStatus IterateDeviceProperties(<BR>&nbsp;&nbsp;&nbsp;&nbsp;constRegEntryID&nbsp;&nbsp;&nbsp;&nbsp;*deviceEntry<BR>&nbsp;&nbsp;&nbsp;&nbsp;)<BR>{<BR>&nbsp;&nbsp;&nbsp;&nbsp;RegPropertyNameBuf&nbsp;&nbsp;propertyName;<BR>&nbsp;&nbsp;&nbsp;&nbsp;RegPropertyIter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cookie;<BR>&nbsp;&nbsp;&nbsp;&nbsp;Boolean&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done;<BR>&nbsp;&nbsp;&nbsp;&nbsp;OSStatus&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;err = noErr;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;err = RegistryPropertyIterateCreate(deviceEntry, &amp;cookie);<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;if (err!=noErr) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;err = RegistryPropertyIterate(&amp;cookie, &amp;propertyName[0], &amp;done);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (err != noErr)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Do something with the property, given the property name<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* you can use RegistryPropertyGetSize to determine the size<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* of the value and and RegistryPropertyGet to retrieve the value.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} while (!done &amp;&amp; err == noErr);<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;RegistryPropertyIterateDispose(&amp;cookie);<BR>&nbsp;&nbsp;&nbsp;&nbsp;returnerr;<BR>}</CODE></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.122.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.127.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.129.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>