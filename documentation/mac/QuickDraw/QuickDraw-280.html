<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>InitGDevice (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING280></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-279.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-281.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-270.html"><B>Chapter 5 - Graphics Devices</B></A> / <A HREF="QuickDraw-273.html"><B>Graphics Devices Reference</B></A><BR><DL><DD><A HREF="QuickDraw-277.html"><B>Routines for Graphics Devices</B></A> / <A HREF="QuickDraw-278.html"><B>Creating, Setting, and Disposing of GDevice Records</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING280-0></A>
<H3>InitGDevice</H3>
 <A NAME=MARKER-11-77></A><A NAME=MARKER-11-77></A><A NAME=MARKER-2-78></A>The <CODE>NewGDevice</CODE> function uses the <CODE>InitGDevice</CODE> procedure to initialize a <CODE>GDevice</CODE> record.<P>
<PRE>
PROCEDURE InitGDevice (gdRefNum: Integer; mode: LongInt; 
                       gdh: GDHandle);
</PRE>
<DL>
<DT><CODE>gdRefNum</CODE>
<DD> Reference number of the graphics device. System software sets this number at system startup time for most graphics devices.
<DT><CODE>mode</CODE>
<DD> The device configuration mode. Used by the screen driver, this value sets the pixel depth and specifies color or black and white.
<DT><CODE>gdh</CODE>
<DD> The handle, returned by the <CODE>NewGDevice</CODE> function, to the <CODE>GDevice</CODE> record to be initialized.
</DL>
<A NAME=HEADING280-6></A>
<H5>DESCRIPTION</H5>
 The <CODE>InitGDevice</CODE> procedure initializes the <CODE>GDevice</CODE> record specified in the <CODE>gdh</CODE> parameter. The <CODE>InitGDevice</CODE> procedure sets the graphics device whose driver has the reference number specified in the <CODE>gdRefNum</CODE> parameter to the mode specified in the <CODE>mode</CODE> parameter. The <CODE>InitGDevice</CODE> procedure then fills out the <CODE>GDevice</CODE> record, previously created with the <CODE>NewGDevice</CODE> function, to contain all information describing that mode.<P>
 The <CODE>mode</CODE> parameter determines the configuration of the device; possible modes for a device can be determined by interrogating the video device's ROM through Slot Manager routines. The information describing the device's mode is primarily contained in the video device's ROM. If the video device has a fixed color table, then that table is read directly from the ROM. If the video device has a variable color table, then <CODE>InitGDevice</CODE> uses the default color table defined in a <CODE>'clut'</CODE> resource, contained in the System file, that has a resource ID equal to the video device's pixel depth.<P>
 In general, your application should never need to call <CODE>InitGDevice</CODE>. All video devices are initialized at start time, and users change modes through the Monitors control panel. <P>
<A NAME=HEADING280-10></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 If your program uses <CODE>NewGDevice</CODE> to create a graphics device without a driver, <CODE>InitGDevice</CODE> does nothing; instead, your application must initialize all fields of the <CODE>GDevice</CODE> record. After your application initializes the color table for the <CODE>GDevice</CODE> record, your application should call the Color Manager procedure <CODE>MakeITable</CODE> to build the inverse table for the graphics device.<P>
 The <CODE>InitGDevice</CODE> procedure may move or purge memory blocks in the application heap. Your application should not call this procedure at interrupt time.<P>
<A NAME=HEADING280-13></A>
<H5>SEE ALSO</H5>
 The <CODE>GDevice</CODE> record is described on <A HREF=QuickDraw-275.html#MARKER-9-39>page 5-14</A>. See <I>Designing Cards and Drivers for the Macintosh Family</I>, third edition, for more information about the device modes that you can specify in the <CODE>mode</CODE> parameter. The <CODE>MakeITable</CODE> procedure is described in the chapter "Color Manager" in <I><A HREF="../ACI/ACI-2.html">Advanced Color Imaging on the Mac OS</A></I>.<A NAME=MARKER-2-38></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-279.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-281.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
