<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>CMCopyProfile(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING225></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-224.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-226.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-218.html"><B>ColorSync Manager Functions</B></A><BR><DL><DD><A HREF="ACIReference-219.html"><B>Accessing Profiles</B></A> / <A HREF="ACIReference-204.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING225-0></A>
<H3><A NAME=MARKER-11-332></A><A NAME=MARKER-9-333></A>CMCopyProfile</H3>
  Duplicates the specified existing profile. <P>
<PRE>
pascal CMError CMCopyProfile (
CMProfileRef *targetProf, 
const CMProfileLocation *targetLocation,
CMProfileRef srcProf);
</PRE>
<DL>
<DT><CODE>targetProf</CODE>
<DD> A pointer to a profile reference <A HREF=ACIReference-210.html#MARKER-9-299>(page 3-63)</A>. On output, points to the profile copy that was created.
<DT><CODE>targetLocation</CODE>
<DD> A pointer to a location specification that indicates the location, such as in memory or on disk, where the ColorSync Manager is to create the copy of the profile. A profile is commonly disk-file based. However, to accommodate special requirements, you can create a handle- or pointer-based profile, you can create a profile that is accessed through a procedure provided by your application, or you can create a temporary profile that isn't saved after you call the <CODE>CMCloseProfile</CODE> function. To create a temporary profile, you either specify <CODE>cmNoProfileBase</CODE> as the kind of profile in the profile location structure or specify <CODE>NULL</CODE> for this parameter. To specify the location, you use the <CODE>CMProfileLocation</CODE> data type <A HREF=ACIReference-181.html#MARKER-9-224>(page 3-40)</A>. 
<DT><CODE>srcProf</CODE>
<DD> A profile reference to the profile to duplicate.
<DT><I>function result</I>
<DD> A result code of type CMError. See <A HREF=ACIReference-313.html#MARKER-9-479>"Result Codes" (page 3-174)</A> for a list of ColorSync-specific result codes.
</DL>
<A NAME=HEADING225-7></A>
<H5>DISCUSSION</H5>
 The <CODE>CMCopyProfile</CODE> function duplicates an entire open profile whose reference you specify. If you have made temporary changes to the profile, which you have not saved by calling <CODE>CMUpdateProfile</CODE>, those changes are included in the duplicated profile. They are not saved to the original profile unless you call <CODE>CMUpdateProfile</CODE> for that profile.<P>
 The ColorSync Manager maintains a modified flag to track whether a profile has been modified. After copying a profile, the <CODE>CMCopyProfile</CODE> function initializes the value of the modified flag for the resulting profile to <CODE>false</CODE>.<P>
 Unless you are copying a profile that you created, you should not infringe on copyright protection specified by the profile creator. To obtain the copyright information, you call the <CODE>CMGetProfileElement</CODE> function <A HREF=ACIReference-235.html#MARKER-9-350>(page 3-87)</A>, specifying the <CODE>'cprt'</CODE> tag signature for the copyright element. You should also check the <CODE>flags</CODE> field of the <CODE>CMProfileHeader</CODE> <A HREF=ACIReference-187.html#MARKER-9-242>(page 3-43)</A> for copyright information. The second bit of the flags field at position 1 indicates whether the profile can be used independently. If the profile developer set this bit to 1, you should use this profile as an embedded profile only and not copy the profile for your own purposes. <P>
 A calibration program might use this function, for example, to copy a device's original profile, then modify the copy to reflect the current state of the device. You might also want to copy a profile after you unflatten it.<P>
<A NAME=HEADING225-12></A>
<H5>SEE ALSO</H5>
 To copy a profile, you must obtain a reference to that profile by either opening the profile or creating it. To open a profile, use the <CODE>CMOpenProfile</CODE> function <A HREF=ACIReference-220.html#MARKER-9-321>(page 3-69)</A>. To create a new profile, use the <CODE>CMNewProfile</CODE> function <A HREF=ACIReference-224.html#MARKER-9-330>(page 3-75)</A>. As an alternative to using the <CODE>CMCopyProfile</CODE> function to duplicate an entire profile, you can use the same profile reference more than once. To do so, you call the <CODE>CMCloneProfileRef</CODE> function <A HREF=ACIReference-226.html#MARKER-9-334>(page 3-78)</A> to increment the reference count for the reference each time you reuse it. Calling the CMCloneProfileRef function increments the count; calling the <CODE>CMCloseProfile</CODE> function <A HREF=ACIReference-221.html#MARKER-9-323>(page 3-71)</A> decrements it.<B> </B>The profile remains open as long as the reference count is greater than 0, indicating that at least one routine retains a reference to the profile.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-224.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-226.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
