<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Selectors for Script Manager Variables(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING371></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-370.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-372.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-354.html"><B>Chapter 6 - Script Manager</B></A> / <A HREF="Text-365.html"><B>Script Manager Reference</B></A><BR><DL><DD><A HREF="Text-366.html"><B>Constants</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING371-0></A>
<H3><A NAME=MARKER-9-798></A>Selectors for Script Manager Variables</H3>
 <A NAME=MARKER-2-373></A>This section lists and describes the selector constants for accessing the Script Manager variables through calls to the <CODE>GetScriptManagerVariable</CODE> and <CODE>SetScriptManagerVariable</CODE> functions. In every case the variable parameter passed to or from the function is a long integer (4 bytes); the column "Size of variable" indicates how many of the 4 bytes are necessary to hold the input or return value for that variable. If fewer than 4 bytes are needed, the low byte or low word contains the information.<P>
 Descriptions of all the variables accessed by these constants follow the list.<CODE>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Selector constant<BR><TH>Value<BR><TH>Size of <BR>variable (bytes)<TR>
<TD><A NAME=MARKER-2-75></A>smVersion<TD>0<TD>2<TR>
<TD><A NAME=MARKER-2-138></A>smMunged<TD>2<TD>2<TR>
<TD><A NAME=MARKER-2-247></A>smEnabled<TD>4<TD>1<TR>
<TD><A NAME=MARKER-2-261></A>smBidirect<TD>6<TD>1<TR>
<TD><A NAME=MARKER-2-273></A>smFontForce<TD>8<TD>1<TR>
<TD><A NAME=MARKER-2-301></A>smIntlForce<TD>10<TD>1<TR>
<TD><A NAME=MARKER-2-356></A>smForced<TD>12<TD>1<TR>
<TD>smDefault<TD>14<TD>1<TR>
<TD><A NAME=MARKER-2-181></A>smPrint<TD>16<TD>4<TR>
<TD><A NAME=MARKER-2-185></A>smSysScript<TD>18<TD>2<TR>
<TD><A NAME=MARKER-2-74></A>smLastScript<TD>20<TD>2<TR>
<TD><A NAME=MARKER-2-359></A>smKeyScript<TD>22<TD>2<TR>
<TD><A NAME=MARKER-2-360></A>smSysRef<TD>24<TD>2<TR>
<TD><A NAME=MARKER-2-361></A>smKeyCache<TD>26<TD>4<TR>
<TD><A NAME=MARKER-2-362></A>smKeySwap<TD>28<TD>4<TR>
<TD><A NAME=MARKER-2-363></A>smGenFlags<TD>30<TD>4<TR>
<TD><A NAME=MARKER-2-364></A>smOverride<TD>32<TD>4<TR>
<TD><A NAME=MARKER-2-365></A>smCharPortion<TD>34<TD>2<TR>
<TD><A NAME=MARKER-2-194></A>smDoubleByte<TD>36<TD>1<TR>
<TD><CODE><A NAME=MARKER-2-196></A>smKCHRCache</CODE><TD>38<TD>4<TR>
<TD><CODE><A NAME=MARKER-2-120></A>smRegionCode</CODE><TD>40<TD>2<TR>
<TD><CODE><A NAME=MARKER-9-366></A>smKeyDisableState</CODE><TD>42<TD>1</TABLE>
</CODE><P>
<B>Selector constant  Variable description</B><P>
<DL>
<DT><A NAME=MARKER-2-367></A><CODE>smVersion</CODE>
<DD> <A NAME=MARKER-2-368></A>The Script Manager version number. This variable has the same format as the version number obtained from calling the <CODE>Gestalt</CODE> function with the Gestalt selector <CODE>gestaltScriptMgrVersion</CODE>. The high-order byte contains the major version number, and the low-order byte contains the minor version number.
<DT><A NAME=MARKER-2-59></A><CODE>smMunged</CODE> 
<DD> <A NAME=MARKER-2-62></A>The modification count for Script Manager variables. At startup, <CODE>smMunged</CODE> is initialized to 0, and it is incremented when the <CODE>KeyScript</CODE> procedure changes the current keyboard script and updates the variables accessed via <CODE>smKeyScript</CODE> and <CODE>smLastScript</CODE>. The <CODE>smMunged</CODE> selector is also incremented when the <CODE>SetScriptManagerVariable</CODE> function is used to change a Script Manager variable. You can check this variable at any time to see whether any of your own data structures that may depend on Script Manager variables need to be updated.
<DT><A NAME=MARKER-2-35></A><CODE>smEnabled</CODE> 
<DD> <A NAME=MARKER-2-86></A>The script count; the number of currently enabled script systems. At startup time, the Script Manager initializes the script count to 0, then increments it for each installed and enabled script system (including Roman). You can use <CODE>smEnabled</CODE> to determine whether more than one script system is installed--that is, whether your application needs to handle non-Roman text.
<DT><B><EM>IMPORTANT</EM></B>
<DD><A NAME=MARKER-9-369></A>Never call <CODE>SetScriptManagerVariable</CODE> with the <CODE>smEnabled</CODE> selector. It could result in inconsistency with other script system values.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<DT><A NAME=MARKER-2-807></A><CODE>smBidirect</CODE> 
<DD> <A NAME=MARKER-2-808></A>The bidirectional flag, which indicates when at least one bidirectional script system is enabled. This flag is set to <CODE>TRUE</CODE> ($FF) if the Arabic or Hebrew script system is enabled.
<DT><A NAME=MARKER-9-375></A><CODE>smFontForce</CODE> 
<DD> <A NAME=MARKER-2-810></A>The font force flag. At startup, the Script Manager sets its value from the system script's international configuration (<CODE>'itlc'</CODE>) resource. The flag returns 0 for <CODE>FALSE</CODE> and $FF for <CODE>TRUE</CODE>. If the system script is non-Roman, the font force flag controls whether a font with ID in the Roman script range is interpreted as belonging to the Roman script or to the system script. See <A HREF=Text-362.html#MARKER-9-686>"Using the Font Force Flag" on page 6-24</A>.
<DT><B><EM>IMPORTANT</EM></B>
<DD><A NAME=MARKER-2-811></A>When you call <CODE>SetScriptManagerVariable</CODE> with the <CODE>smFontForce</CODE> selector, be sure to pass only the value 0 or $FF, or a later call to <CODE>GetScriptManagerVariable</CODE> may return an unrecognized value.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<DT><A NAME=MARKER-2-376></A><CODE>smIntlForce</CODE> 
<DD> <A NAME=MARKER-2-377></A>The international resources selection flag. At startup, the Script Manager sets its value from the system script's international configuration (<CODE>'itlc'</CODE>) resource. The flag returns 0 for <CODE>FALSE</CODE> and <CODE>$FF</CODE> for <CODE>TRUE</CODE>. This flag controls whether international resources of the font script or the system script are used for string manipulation. See <A HREF=Text-362.html#MARKER-9-689>"Using the International Resources Selection Flag" on page 6-25</A>.
<DT><B><EM>IMPORTANT</EM></B>
<DD><A NAME=MARKER-2-814></A>When you call <CODE>SetScriptManagerVariable</CODE> with the <CODE>smIntlForce</CODE> selector, be sure to pass only the value 0 or $FF, or a later call to <CODE>GetScriptManagerVariable</CODE> may return an unrecognized value.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<DT><A NAME=MARKER-2-815></A><CODE>smForced</CODE> 
<DD> <A NAME=MARKER-2-274></A>The script-forced result flag. If the current script has been forced to the system script, this flag is set to <CODE>TRUE</CODE>. Use the <CODE>smForced</CODE> selector to obtain reports of the actions of the <CODE>FontScript</CODE>, <CODE>FontToScript</CODE>, and <CODE>IntlScript</CODE> functions. This variable is for information only; never set its value with <CODE>SetScriptManagerVariable</CODE>.
<DT><A NAME=MARKER-2-817></A><CODE>smDefault</CODE>
<DD> <A NAME=MARKER-9-378></A>The script-defaulted result flag. If the script system corresponding to a specified font is not available, this flag is set to <CODE>TRUE</CODE>. Use this selector to obtain reports of the actions of the <CODE>FontScript</CODE>, <CODE>FontToScript</CODE>, and <CODE>IntlScript</CODE> functions. This variable is for information only; never set its value with <CODE>SetScriptManagerVariable</CODE>.
<DT><A NAME=MARKER-2-219></A><CODE>smPrint</CODE>
<DD> <A NAME=MARKER-2-379></A>The print action routine vector, set up by the Script Manager at startup. See <I><A HREF="../Devices/Devices-2.html">Inside Macintosh: Devices</A></I> for information on the print action routine.
<DT><A NAME=MARKER-2-380></A><CODE>smSysScript</CODE>
<DD> <A NAME=MARKER-2-199></A>The system script code. At startup, the Script Manager initializes this variable from the system script's international configuration (<CODE>'itlc'</CODE>) resource. This variable is for information only; never set its value with <CODE>SetScriptManagerVariable</CODE>. Constants for all defined script codes are listed on <A HREF=Text-367.html#MARKER-9-788>page 6-52</A>.
<DT><A NAME=MARKER-2-134></A><CODE>smLastScript</CODE>
<DD> <A NAME=MARKER-2-133></A>The previously used keyboard script. When you change keyboard scripts with the <CODE>KeyScript</CODE> procedure, the Script Manager moves the old value of <CODE>smKeyScript</CODE> into <CODE>smLastScript</CODE>. <CODE>KeyScript</CODE> can also swap the current keyboard script with the previous keyboard script, in which case the contents of <CODE>smLastScript</CODE> and <CODE>smKeyScript</CODE> are swapped. Constants for all defined script codes are listed on <A HREF=Text-367.html#MARKER-9-788>page 6-52</A>. Never set the value of this variable with <CODE>SetScriptManagerVariable</CODE>.
<DT><A NAME=MARKER-2-825></A><CODE>smKeyScript</CODE>
<DD> <A NAME=MARKER-2-382></A>The current keyboard script. The <CODE>KeyScript</CODE> procedure tests and updates this variable. When you change keyboard scripts with the <CODE>KeyScript</CODE> procedure, the Script Manager moves the old value of <CODE>smKeyScript</CODE> into <CODE>smLastScript</CODE>. <CODE>KeyScript</CODE> can also swap the current keyboard script with the previous keyboard script, in which case the contents of <CODE>smLastScript</CODE> and <CODE>smKeyScript</CODE> are swapped. The Script Manager also uses this variable to get the proper keyboard icon and to retrieve the proper keyboard-layout (<CODE>'KCHR'</CODE>) resource. Constants for all defined script codes are listed on <A HREF=Text-367.html#MARKER-9-788>page 6-52</A>. Never set the value of this variable directly with <CODE>SetScriptManagerVariable</CODE>; call <CODE>KeyScript</CODE> to change keyboard scripts.
<DT><A NAME=MARKER-2-383></A><CODE>smSysRef</CODE>
<DD> <A NAME=MARKER-2-828></A>The System Folder volume reference number. Its value is initialized from the system global variable <A NAME=MARKER-2-174></A><CODE>BootDrive</CODE> at startup.
<DT><A NAME=MARKER-2-830></A><CODE>smKeyCache</CODE>
<DD> An obsolete variable. This variable at one time held a pointer to the keyboard cache. The value it provided was not correct and should not be used.
<DT><A NAME=MARKER-2-831></A><CODE>smKeySwap</CODE>
<DD> <A NAME=MARKER-2-832></A>A handle to the keyboard-swap (<CODE>'KSWP'</CODE>) resource. The Script Manager initializes the handle at startup. The keyboard-swap resource controls the key combinations with which the user can invoke various actions with the <CODE>KeyScript</CODE> procedure, such as switching among script systems. This resource is described in the appendix "Keyboard Resources" in this book.
<DT><A NAME=MARKER-2-833></A><CODE>smGenFlags</CODE>
<DD> <A NAME=MARKER-2-834></A>The general flags used by the Script Manager. The Script Manager general flags is a long word value; its high-order byte is set from the flags byte in the system script's international configuration ('itlc') resource. The following constants are available to designate bits in the variable accessed through <CODE>smGenFlags</CODE>:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Constant<TH>Value<TH>Explanation<TR>
<TD>&nbsp;<TD><A NAME=MARKER-9-298></A>smfNameTagEnab<TD>29<TD>(reserved for internal use)<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-294></A>smfDualCaret<TD>30<TD><A NAME=MARKER-2-474></A>Use dual caret for mixed-directional text.<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-475></A>smfShowIcon<TD>31<TD>Show keyboard menu even if only one keyboard layout or one script (Roman) is available<A NAME=MARKER-2-476></A>. (This bit is checked only at system startup.)</TABLE>

<DT><A NAME=MARKER-2-384></A><CODE>smOverride</CODE>
<DD> <A NAME=MARKER-2-385></A>The script override flags. At present, these flags are not set or used by the Script Manager. They are, however, reserved for future use.
<DT><A NAME=MARKER-2-386></A><CODE>smCharPortion</CODE>
<DD> <A NAME=MARKER-2-387></A>A value used by script systems to allocate intercharacter and interword spacing when justifying text. It denotes the weight allocated to intercharacter space versus interword space. The value of this variable is initialized to 10 percent by the Script Manager, although it currently has no effect on text of the Roman script system. The variable is in 4.12 fixed-point format, which is a 16-bit signed number with 4 bits of integer and 12 bits of fraction. (In that format, 10 percent has the hexadecimal value $0199.)
<DT><A NAME=MARKER-2-839></A><CODE>smDoubleByte</CODE>
<DD> <A NAME=MARKER-2-36></A>The 2-byte flag, a Boolean value that is <CODE>TRUE</CODE> if at least one 2-byte script system is enabled.
<DT><A NAME=MARKER-2-388></A><CODE>smKCHRCache</CODE>
<DD> <A NAME=MARKER-2-389></A>A pointer to the cache that stores a copy of the current keyboard-layout (<CODE>'KCHR'</CODE>) resource. The keyboard-layout resource is described in the appendix "Keyboard Resources" in this book.
<DT><A NAME=MARKER-2-390></A><CODE>smRegionCode</CODE>
<DD> <A NAME=MARKER-2-161></A>The region code for this localized version of system software, obtained from the system script's international configuration (<CODE>'itlc'</CODE>) resource. This variable identifies the localized version of the system script. Constants for all defined region codes are listed starting on <A HREF=Text-369.html#MARKER-9-794>page 6-57</A>.
<DT><A NAME=MARKER-2-352></A><CODE>smKeyDisableState</CODE>
<DD> <A NAME=MARKER-2-846></A>The current disable state for keyboards. The Script Manager disables some keyboard scripts or keyboard switching when text input must be restricted to certain script systems or when script systems are being moved into or out of the System file. See <A HREF=Text-361.html#MARKER-9-669>"Making Keyboard Settings" beginning on page 6-17</A>. These are the possible values for the variable accessed through <CODE>smKeyDisableState</CODE>:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Value<TH>Explanation<TR>
<TD>&nbsp;<TD>0<TD>All keyboards are enabled, switching is enabled<TR>
<TD>&nbsp;<TD>1<TD>Keyboard switching is disabled<TR>
<TD>&nbsp;<TD>$FF<TD>Keyboards for all non-Roman secondary scripts are disabled  <A NAME=MARKER-2-603></A></TABLE>

<DT>
<DD> The script management system maintains the keyboard disable state separately for each application. Never set the value of this variable directly with <CODE>SetScriptManagerVariable</CODE>; call <CODE>KeyScript</CODE> to change the keyboard disable state for your application.
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-370.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-372.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
