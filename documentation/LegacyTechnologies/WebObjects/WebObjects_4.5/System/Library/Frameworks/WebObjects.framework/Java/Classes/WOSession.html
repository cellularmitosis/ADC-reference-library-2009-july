<HTML>		<HEAD>		<TITLE>			WOSession		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!-- #include virtual="/techpubs/navbar" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>WebObjects Reference</font><br><br><!--end of path --><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "WOSession"><BR><h1><FONT COLOR=\"#000066\"><a name="//apple_ref/java/cl/WOSession">WOSession</a></FONT></h1><br></a><blockquote><b>Inheritsfrom: </b> NSObject</blockquote><blockquote><b>Package: </b>com.apple.yellow.webobjects</blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>WOSession objects represent <em>sessions</em>,periods during which access to a WebObjects application and itsresources is granted to a particular client (typically a browser).An application can have many concurrent sessions, each with itsown special "view" of the application and its own setof data values. For instance, one client could be accessing a "catalog"application, where that client is going from page to page, fillinga virtual shopping cart with items for purchase. Another clientmight be accessing the same application at the same time, but thatperson might have different items in his or her shopping cart.</p><p>Perhaps the most important thing a WOSession object does isencapsulate state for a session. After the application handles arequest, it stores the WOSession until the next request of the sessionoccurs. All the information that is important for maintaining continuitythroughout the session is preserved. And the integrity of sessiondata is maintained as well; the data of a session not only persistsbetween requests but is kept separate from that of all other sessions. </p><p>When you develop an application, you identify data with session-widescope by declaring instance variables in your subclass of WOSession(or, for scripted applications, in <b>Session.wos</b>).Then, before the end of a cycle of the request-response loop, ensurethat the instance variables hold current session values. </p><p>The application uses a <em>session ID</em> toidentify a session object. Upon receiving the first request of a session,the application assigns a session ID (a unique, randomly generatedstring) to the session. The session ID appears in the URL betweenthe application name and the page name.</p><p>At the end of each cycle of the request-response loop, theapplication stores the WOSession object according to the storagestrategy implemented by the chosen  <a frame= "conv" href="WOSessionStore.html#WOSessionStore">WOSessionStore</a>. When the application receivesthe next request of the session, it restores the WOSession, usingthe session ID as key. </p><p>To be stored and restored according to any WOSessionStorestrategy, a WOSession must be convertable to an object archive.WOSessions are therefore asked to serialize and deserialize themselvesprior to being archived and unarchived (in either binary or ASCIIformat). To accomplish this, the WOSession should implement the <b>encodeWithCoder</b> and <b>initWithCoder</b> methodsof the NSCoding protocol.</p><p>Because storage of sessions in application memory can consumelarge amounts of memory over time, WOSession includes methods forcontrolling the lifespan of session objects. The  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setTimeOut">setTimeOut</a> methodsets a period of inactivity after which the session is terminated.The  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/terminate">terminate</a> methodexplicitly ends a session.</p><p>The WOSession class provides several other methods usefulfor tasks ranging from localization to database access:</p><ul><li>WOSession objects can interject custom sessionbehavior into the request-response loop by implementing the request-handlingmethods ( <a frame= "conv" href="#//apple_ref/java/instm/WOSession/takeValuesFromRequest">takeValuesFromRequest</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/invokeAction">invokeAction</a>, and  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/appendToResponse">appendToResponse</a>) as well as  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/awake">awake</a> and  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/sleep">sleep</a>.</li><li>For database access, the  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/defaultEditingContext">defaultEditingContext</a> methodgives each WOSession object in an application its own EnterpriseObjects editing context.</li><li>An object in an application doesn't have to know which instancevariables its WOSession holds in order to store session values.With the  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setObjectForKey">setObjectForKey</a> and  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/objectForKey">objectForKey</a> methodsit can store and retrieve values as needed. This mechanism is especiallyuseful for reusable components.</li><li>An application's WOSession objects also play a role in localization.Through the  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setLanguages">setLanguages</a> methodyou can store a list of the languages supported by the application.The sequence of language strings in the list indicates the orderof language preference for a particular session. Several resource-accessmethods in  <a frame= "conv" href="WOResourceManager.html#WOResourceManager">WOResourceManager</a>,  <a frame= "conv" href="WOApplication.html#WOApplication">WOApplication</a>, and  <a frame= "conv" href="WOComponent.html#WOComponent">WOComponent</a> refer to the  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/languages">languages</a> arraywhen they locate such things as localized strings, images, and sounds. </li><li>WOSession objects also allow you to affect load balancingwith the  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setDistributionEnabled">setDistributionEnabled</a> method;  ifthe flag set by this method is false (the default), transactionsof the session are restricted to a single application instance.If this the case, the application instance number as well as the applicationhost name are appended to the URL. </li></ul><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Constructor</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/WOSession">WOSession</a></dd></dl><dl><dt>Obtaining attributes</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/domainForIDCookies">domainForIDCookies</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/expirationDateForIDCookies">expirationDateForIDCookies</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/isDistributionEnabled">isDistributionEnabled</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/sessionID">sessionID</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/storesIDsInCookies">storesIDsInCookies</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/storesIDsInURLs">storesIDsInURLs</a></dd></dl><dl><dt>Setting attributes</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setDistributionEnabled">setDistributionEnabled</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setStoresIDsInCookies">setStoresIDsInCookies</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setStoresIDsInURLs">setStoresIDsInURLs</a></dd></dl><dl><dt>Terminating</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/terminate">terminate</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/isTerminating">isTerminating</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/timeOut">timeOut</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setTimeOut">setTimeOut</a></dd></dl><dl><dt>Localization</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/languages">languages</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setLanguages">setLanguages</a></dd></dl><dl><dt>Managing component state</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setObjectForKey">setObjectForKey</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/objectForKey">objectForKey</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/removeObjectForKey">removeObjectForKey</a></dd></dl><dl><dt>Managing enterprise objects</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/defaultEditingContext">defaultEditingContext</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setDefaultEditingContext">setDefaultEditingContext</a></dd></dl><dl><dt>Handling requests</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/appendToResponse">appendToResponse</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/awake">awake</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/context">context</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/invokeAction">invokeAction</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/sleep">sleep</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/takeValuesFromRequest">takeValuesFromRequest</a></dd></dl><dl><dt>Statistics</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/statistics">statistics</a></dd></dl><dl><dt>Debugging</dt><dd> <a frame= "conv" href="#//apple_ref/java/clm/WOSession/debugString">debugString</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/clm/WOSession/logString">logString</a></dd></dl><dl><dt>Page Management</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/savePage">savePage</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOSession/restorePageForContextID">restorePageForContextID</a></dd></dl></blockquote><br><br><h2>Constructors</h2><hr><a name = "WOSession constructor"><BR><h3><a name="//apple_ref/java/instm/WOSession/WOSession">WOSession</a></h3></a><p><code>public <b>WOSession</b>()</code></p>Returns an initialized WOSession object. Sessiontime-out is set by default to a very long period. This method throwsexceptions if no session ID has been assigned or if it cannot initializethe object for any other reason. The<b> isDistributionEnabled</b> flagis set to<b> false</b>, meaning that each transactionwill be assigned to an application instance specified in a configurationfile for load balancing<hr WIDTH=25% ALIGN=LEFT><br><br><h2>Static Methods</h2><hr><a name = "BICHGGDG"><BR><h3><a name="//apple_ref/java/clm/WOSession/debugString">debugString</a></h3></a><p><code>public static void <b>debugString</b>(String <em>aFormatString</em>)</code></p>Prints a message to the standard error device(stderr), if <b>WODebuggingEnabled</b> is true.The message can include formatted variable data using String's concatenationfeature.<p>You control whether this method displays output withthe <b>WODebuggingEnabled</b> user default option.If <b>WODebuggingEnabled</b> is true, then the <b>debugString</b> messagesdisplay their output. If <b>WODebuggingEnabled</b> is false,the <b>debugString</b> messages don't displaytheir output. </p><hr WIDTH=25% ALIGN=LEFT><a name = "BGGDAADH"><BR><h3><a name="//apple_ref/java/clm/WOSession/logString">logString</a></h3></a><p><code>public static void <b>logString</b>(String <em>aString</em>)</code></p>Prints a message to the standard error device(stderr). The message can include formatted variable data usingString's concatenation feature, for example: <blockquote><pre>int i = 500;float f = 2.045;<b></b>WOApplication.logString("Amount = " + i + ", Rate = " + f ", Total = " + i*f);</pre></blockquote><br><hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Instance Methods</h2><hr><a name = "appendToResponse_inContext_"><BR><h3><a name="//apple_ref/java/instm/WOSession/appendToResponse">appendToResponse</a></h3></a><p><code>public void <b>appendToResponse</b>(WOResponse <em>aResponse</em>,WOContext <em>aContext</em>)</code></p>This method is invoked during the phase of therequest-response loop during which the objects associated with aresponse page append their HTML content to the response. WOSession'sdefault implementation of this method forwards the message to theWOComponent that represents the response page. Then, it recordsinformation about the current transaction by sending  <a frame= "conv" href="WOStatisticsStore.html#//apple_ref/java/instm/WOStatisticsStore/recordStatisticsForResponse">recordStatisticsForResponse</a> andthen  <a frame= "conv" href="WOStatisticsStore.html#//apple_ref/java/instm/WOStatisticsStore/descriptionForResponse">descriptionForResponse</a> tothe  <a frame= "conv" href="WOStatisticsStore.html#WOStatisticsStore">WOStatisticsStore</a> object.<p>Compiledor scripted subclasses of WOSession can override this method toreplace or supplement the default behavior with custom logic.</p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/invokeAction">invokeAction</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/takeValuesFromRequest">takeValuesFromRequest</a> </p><hr WIDTH=25% ALIGN=LEFT><a name = "awake"><BR><h3><a name="//apple_ref/java/instm/WOSession/awake">awake</a></h3></a><p><code>public void <b>awake</b>()</code></p>Invoked at the beginning of a WOSession's involvementin a cycle of the request-response loop, giving the WOSession anopportunity to initialize its instance variables or perform setupoperations. The default implementation does nothing.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/sleep">sleep</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "context"><BR><h3><a name="//apple_ref/java/instm/WOSession/context">context</a></h3></a><p><code>public WOContext <b>context</b>()</code></p>Returns the WOContext object for the currenttransaction. <p><b>See Also: </b>  <a frame= "conv" href="WOContext.html#WOContext">WOContext</a> class</p><hr WIDTH=25% ALIGN=LEFT><a name = "defaultEditingContext"><BR><h3><a name="//apple_ref/java/instm/WOSession/defaultEditingContext">defaultEditingContext</a></h3></a><p><code>public com.apple.yellow.eocontrol.EOEditingContext <b>defaultEditingContext</b>()</code></p>Returns the default EOEditingContext objectfor the session. The method creates the editing context the firsttime that it is invoked and caches it for subsequent invocations.There is only one unique EOEditingContext instance per session.The instance's parent object store is initialized to the default parentobject store.<hr WIDTH=25% ALIGN=LEFT><a name = "domainForIDCookies"><BR><h3><a name="//apple_ref/java/instm/WOSession/domainForIDCookies">domainForIDCookies</a></h3></a><p><code>public String <b>domainForIDCookies</b>()</code></p>Returns the path that is passed when creatinga rendezvous cookie for the application. This path is lazily createdthe first time it is used from the current request's <b>adaptorPrefix</b> andthe application name (including the ".woa" extension). <hr WIDTH=25% ALIGN=LEFT><a name = "expirationDateForIDCookies"><BR><h3><a name="//apple_ref/java/instm/WOSession/expirationDateForIDCookies">expirationDateForIDCookies</a></h3></a><p><code>public NSDate <b>expirationDateForIDCookies</b>()</code></p>Returns when session and instance ID cookiesexpire. By default, no expiration date is set and this method returns null.Override this method if you want to return some other time, suchas the session expiration date.<p>Different applications canoverride this method to enforce different behavior:</p><ul><li>A typical online banking application might use cookies andset the timeout to a very short amount of time (two minutes, forexample), so that if the client doesn't interact with the browserand no request is made of the server, the client's session istimed out. This could be easily enforced on both the client-bysetting the cookie timeout-and on the server from within the sessionobject.</li><li>A site wishing to personalize its pages based upon a userID might set the timeout far into the distant future so that evenwhen a client shuts down his browser, the cookie will still be therewhen he comes back with a bookmarked URL.</li><li>Sites that want you to log in each time you visit could storethe user ID in a cookie and then set the expiration date on thecookie to nil so that the cookie will go away whenever the clientquits their browser.</li></ul><hr WIDTH=25% ALIGN=LEFT><a name = "invokeActionForRequest_inContext_"><BR><h3><a name="//apple_ref/java/instm/WOSession/invokeAction">invokeAction</a></h3></a><p><code>public WOElement <b>invokeAction</b>(WORequest <em>aRequest</em>,WOContext <em>aContext</em>)</code></p>WOSession objects receive this message duringthe middle phase of the request-response loop. During this phase,the <b>invokeAction</b> message is propagatedthrough the objects of an application, most importantly, the WOElementobjects of the request page. The dynamic element on which the userhas acted (by, for example, clicking a button) responds by triggeringthe method in the request WOComponent that is bound to the action.The default behavior of WOSession is to send the message to theWOComponent object that represents the request.  Compiled or scriptedsubclasses of WOSession can override this method to replace or supplementthe default behavior with custom logic. <p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/appendToResponse">appendToResponse</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/takeValuesFromRequest">takeValuesFromRequest</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "isDistributionEnabled"><BR><h3><a name="//apple_ref/java/instm/WOSession/isDistributionEnabled">isDistributionEnabled</a></h3></a><p><code>public boolean <b>isDistributionEnabled</b>()</code></p>Returns whether state distribution among multipleapplication instances is enabled. Returns <b>false</b> by defaultsince the default WOSessionStore (state in the server) does notallow distribution. If this flag is disabled, a specific applicationinstance (whose identifying number is embedded in the URL) is assignedto the session.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setDistributionEnabled">setDistributionEnabled</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "isTerminating"><BR><h3><a name="//apple_ref/java/instm/WOSession/isTerminating">isTerminating</a></h3></a><p><code>public boolean <b>isTerminating</b>()</code></p>Returns whether the WOSession object will terminateat the end of the current request-response loop.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/terminate">terminate</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "languages"><BR><h3><a name="//apple_ref/java/instm/WOSession/languages">languages</a></h3></a><p><code>public NSArray <b>languages</b>()</code></p>Returns the list of languages supported by thesession. The order of language strings (for example, "French")indicates the preferred order of languages. This is initializedfrom the users's browser preferences unless explicitly set with  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setLanguages">setLanguages</a>.For details, see "Localization" in the WebObjects programmingtopics.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setLanguages">setLanguages</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "objectForKey_"><BR><h3><a name="//apple_ref/java/instm/WOSession/objectForKey">objectForKey</a></h3></a><p><code>public Object <b>objectForKey</b>(String <em>key</em>)</code></p>Returns an object stored in the session undera specific key.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setObjectForKey">setObjectForKey</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "removeObjectForKey_"><BR><h3><a name="//apple_ref/java/instm/WOSession/removeObjectForKey">removeObjectForKey</a></h3></a><p><code>public void <b>removeObjectForKey</b>(String <em>key</em>)</code></p>Removes the object stored in the session underthe specified key.<hr WIDTH=25% ALIGN=LEFT><a name = "restorePageForContextID_"><BR><h3><a name="//apple_ref/java/instm/WOSession/restorePageForContextID">restorePageForContextID</a></h3></a><p><code>public WOComponent <b>restorePageForContextID</b>(String <em>contextID</em>)</code></p>Returns a page instance stored in the sessionpage cache. The key to the stored instance is its context ID, whichderives from the transaction's  <a frame= "conv" href="WOContext.html#WOContext">WOContext</a> or  <a frame= "conv" href="WORequest.html#WORequest">WORequest</a> objects. This method returns null if restorationis impossible.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/savePage">savePage</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "savePage_"><BR><h3><a name="//apple_ref/java/instm/WOSession/savePage">savePage</a></h3></a><p><code>public void <b>savePage</b>(WOComponent <em>aPage</em>)</code></p>Saves the page instance aPage in the sessionpage cache. The context ID for the current transaction is made thekey for obtaining this instance in the cache using  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/restorePageForContextID">restorePageForContextID</a>.<hr WIDTH=25% ALIGN=LEFT><a name = "savePageInPermanentCache_"><BR><h3><a name="//apple_ref/java/instm/WOSession/savePageInPermanentCache">savePageInPermanentCache</a></h3></a><p><code>pubic void <b>savePageInPermanentCache</b>(WOComponent <em>aPage</em>)</code></p>Puts <em>aPage</em> intoa separate page cache.  This cache is searched first when attemptingto restore the page the next time its requested.  This effectivelymakes <em>aPage</em> live for the durationof the application regardless of the size of your page cache.  Thisis useful whe you are using frames and its possible for a page ofcontrols to be bumped from the page cache.  <p><b>SeeAlso: </b>  <a frame= "conv" href="WOApplication.html#//apple_ref/java/instm/WOApplication/permanentPageCacheSize">permanentPageCacheSize</a> ( <a frame= "conv" href="WOApplication.html#WOApplication">WOApplication</a>),  <a frame= "conv" href="WOApplication.html#//apple_ref/java/instm/WOApplication/setPermanentPageCacheSize">setPermanentPageCacheSize</a> ( <a frame= "conv" href="WOApplication.html#WOApplication">WOApplication</a>)</p><hr WIDTH=25% ALIGN=LEFT><a name = "sessionID"><BR><h3><a name="//apple_ref/java/instm/WOSession/sessionID">sessionID</a></h3></a><p><code>public String <b>sessionID</b>()</code></p>Returns the unique, randomly generated stringthat identifies the session object. The session ID occurs in theURL after the request handler key.<hr WIDTH=25% ALIGN=LEFT><a name = "setDefaultEditingContext_"><BR><h3><a name="//apple_ref/java/instm/WOSession/setDefaultEditingContext">setDefaultEditingContext</a></h3></a><p><code>public void <b>setDefaultEditingContext</b>(com.apple.yellow.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>Sets the editing context to be returned by  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/defaultEditingContext">defaultEditingContext</a>. This can beused to set an editing context initialized with a different parentobject store than the default. This is useful when, for instance, eachsession needs its own login to the database. Once a default editingcontext has been established, you may not call <b>setDefaultEditingContext</b> again.Therefore, to provide your own default editing context, you mustcall <b>setDefaultEditingContext</b><b></b> beforeever calling  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/defaultEditingContext">defaultEditingContext</a> since that willlazily establish an editing context.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/defaultEditingContext">defaultEditingContext</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "setDistributionEnabled_"><BR><h3><a name="//apple_ref/java/instm/WOSession/setDistributionEnabled">setDistributionEnabled</a></h3></a><p><code>public void <b>setDistributionEnabled</b>(boolean <em>aFlag</em>)</code></p>Enables or disables the distribution mechanismthat effects load balancing among multiple application instances.When disabled (the default), generated URLs include the applicationinstance number; the adaptor uses this number to route the requestto the specific application instance based on information in theconfiguration file. When this flag is enabled, generated URLs donot contain the application instance number, and thus transactionsof a session are handled by whatever application instance is available.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/isDistributionEnabled">isDistributionEnabled</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "setLanguages_"><BR><h3><a name="//apple_ref/java/instm/WOSession/setLanguages">setLanguages</a></h3></a><p><code>public void <b>setLanguages</b>(NSArray <em>languages</em>)</code></p>Sets the languages for which the session islocalized. The ordering of language strings in the array determinesthe order in which the application will search <em>languages</em>.lprojdirectories for localized strings, images, and component definitions. <p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/languages">languages</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "setObject_forKey_"><BR><h3><a name="//apple_ref/java/instm/WOSession/setObjectForKey">setObjectForKey</a></h3></a><p><code>public void <b>setObjectForKey</b>(Object <em>anObject</em>,String <em>key</em>)</code></p>Stores an object within the session under agiven key. This method allows a reusable component to add statedynamically to any WOSession object. This method eliminates theneed for prior knowledge of the WOSession's instance variables.A suggested mechanism for generating a unique key prefix for a givensubcomponent is to concatenate the component's name and its elementID. For a specific component instance, such a prefix should remainunique and invariant within a session.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/objectForKey">objectForKey</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "setStoresIDsInCookies_"><BR><h3><a name="//apple_ref/java/instm/WOSession/setStoresIDsInCookies">setStoresIDsInCookies</a></h3></a><p><code>public void <b>setStoresIDsInCookies</b>(boolean <em>flag</em>)</code></p>Enables or disables the cookie mechanism. Twocookies are created for you when enabled: a session ID cookie withthe name "wosid," and an instance ID cookie with the name "woinst."By default, the cookie mechanism is disabled.<hr WIDTH=25% ALIGN=LEFT><a name = "setStoresIDsInURLs_"><BR><h3><a name="//apple_ref/java/instm/WOSession/setStoresIDsInURLs">setStoresIDsInURLs</a></h3></a><p><code>public void <b>setStoresIDsInURLs</b>(boolean <em>flag</em>)</code></p>Enables or disables the storing of session andinstance IDs in URLs. By default, IDs are stored in URLs.<hr WIDTH=25% ALIGN=LEFT><a name = "setTimeOut_"><BR><h3><a name="//apple_ref/java/instm/WOSession/setTimeOut">setTimeOut</a></h3></a><p><code>public void <b>setTimeOut</b>(double <em>seconds</em>)</code></p>Set the session timeout in seconds. When a sessionremains inactive-that is, the application receives no requestfor this session-for a period longer than the time-out setting,the session will terminate, resulting in the deallocation of theWOSession object. By default, the session time-out is set from the  <a frame= "conv" href="WOApplication.html#WOApplication">WOApplication</a> method  <a frame= "conv" href="WOApplication.html#//apple_ref/java/clm/WOApplication/sessionTimeout">sessionTimeout</a>.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/timeOut">timeOut</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "sleep"><BR><h3><a name="//apple_ref/java/instm/WOSession/sleep">sleep</a></h3></a><p><code>public void <b>sleep</b>()</code></p>Invoked at the conclusion of each request-responseloop in which the session is involved, giving the WOSession theopportunity to deallocate objects initialized in the  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/awake">awake</a> method. Thedefault WOSession implementation does nothing.<hr WIDTH=25% ALIGN=LEFT><a name = "statistics"><BR><h3><a name="//apple_ref/java/instm/WOSession/statistics">statistics</a></h3></a><p><code>public NSArray <b>statistics</b>()</code></p>Returns a list of the pages accessed by thissession, ordered from first accessed to last. For each page, thestring stored is obtained by sending  <a frame= "conv" href="WOComponent.html#//apple_ref/java/instm/WOComponent/descriptionForResponse">descriptionForResponse</a> tothe WOComponent object. By default, this returns the component'sname. If the application keeps a CLFF log file, this list is recorded inthe log file when the session terminates.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/appendToResponse">appendToResponse</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "storesIDsInCookies"><BR><h3><a name="//apple_ref/java/instm/WOSession/storesIDsInCookies">storesIDsInCookies</a></h3></a><p><code>public boolean <b>storesIDsInCookies</b>()</code></p>Returns whether the cookie mechanism for storingsession and instance IDs is enabled. The cookie mechanism is disabledby default.<hr WIDTH=25% ALIGN=LEFT><a name = "storesIDsInURLs"><BR><h3><a name="//apple_ref/java/instm/WOSession/storesIDsInURLs">storesIDsInURLs</a></h3></a><p><code>public boolean <b>storesIDsInURLs</b>()</code></p>Returns whether the URL mechanism for storingsession IDs and instance IDs is enabled. The URL mechanism is enabledby default.<hr WIDTH=25% ALIGN=LEFT><a name = "takeValuesFromRequest_inContext_"><BR><h3><a name="//apple_ref/java/instm/WOSession/takeValuesFromRequest">takeValuesFromRequest</a></h3></a><p><code>public void <b>takeValuesFromRequest</b>(WORequest <em>aRequest</em>,WOContext <em>aContext</em>)</code></p>WOSession objects receive this message duringthe first phase of the request-response loop. During this phase,the dynamic elements associated with the request page extract anyuser input and assign the values to the appropriate component variables.The default behavior of WOSession is to send the message to the  <a frame= "conv" href="WOComponent.html#WOComponent">WOComponent</a> object that representsthe request.  Compiled or scripted subclasses of WOSession can overridethis method to replace or supplement the default behavior with customlogic.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/appendToResponse">appendToResponse</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/invokeAction">invokeAction</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "terminate"><BR><h3><a name="//apple_ref/java/instm/WOSession/terminate">terminate</a></h3></a><p><code>public void <b>terminate</b>()</code></p>Causes the session to terminate after the conclusionof the current request-response loop.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/isTerminating">isTerminating</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "timeOut"><BR><h3><a name="//apple_ref/java/instm/WOSession/timeOut">timeOut</a></h3></a><p><code>public double <b>timeOut</b>()</code></p>Returns the timeout interval in seconds.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOSession/setTimeOut">setTimeOut</a></p><hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Notifications</h2><hr><h3>WOSessionDidCreateNotification</h3><p><code>public static final String <b>WOSessionDidCreateNotification</b></code></p>Sent at the the end of the session initiation(including awake). The object of the notification is the session instance<h3>WOSessionDidRestoreNotification</h3><p><code>public static final String <b>WOSessionDidRestoreNotification</b></code></p>Sent after the sesion is fully restored(including awake). The object of the notification is the session instance. <h3>WOSessionDidTimeOutNotification</h3><p><code>public static final String <b>WOSessionDidTimeOutNotification</b></code></p>Sent when a session times out but beforeit is released. The session ID is the object of the notification. <BR><br><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>