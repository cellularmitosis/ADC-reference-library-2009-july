<html><head><title>Mac OS X
 Manual Page For MPI_Comm_spawn(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/MPI_Comm_spawn" title="Mac OS X
 Manual Page for MPI_Comm_spawn(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/MPI_Comm_spawn"; name=MPI_Comm_spawn(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
MPI_Comm_spawn(3OpenMPI)                                                            MPI_Comm_spawn(3OpenMPI)



<b>NAME</b>
       <b>MPI_Comm_spawn</b> - Spawns a number of identical binaries.


<b>SYNTAX</b>
<b>C</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       int MPI_Comm_spawn(char *<u>command</u>, char *<u>argv</u>[], int <u>maxprocs</u>,
            MPI_Info <u>info</u>, int <u>root</u>, MPI_Comm <u>comm</u>,
            MPI_Comm *<u>intercomm</u>, int <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u>[])


<b>Fortran</b> <b>Syntax</b>
       INCLUDE 'mpif.h'
       MPI_COMM_SPAWN(<u>COMMAND,</u> <u>ARGV,</u> <u>MAXPROCS,</u> <u>INFO,</u> <u>ROOT,</u> <u>COMM,</u>
            <u>INTERCOMM,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>ERRCODES,</u> <u>IERROR</u>)

            CHARACTER*(*) <u>COMMAND,</u> <u>ARGV(*)</u>
            INTEGER   <u>INFO,</u> <u>MAXPROCS,</u> <u>ROOT,</u> <u>COMM,</u> <u>INTERCOMM,</u>
            <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>ERRORCODES(*),</u> <u>IERROR</u>


<b>C++</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       MPI::Intercomm MPI::Intracomm::Spawn(const char* <u>command</u>,
            const char* <u>argv</u>[], int <u>maxprocs</u>, const MPI::Info&amp; <u>info</u>,
            int <u>root</u>, int <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u>[]) const

       MPI::Intercomm MPI::Intracomm::Spawn(const char* <u>command</u>,
            const char* <u>argv</u>[], int <u>maxprocs</u>, const MPI::Info&amp; <u>info</u>,
            int <u>root</u>) const


<b>INPUT</b> <b>PARAMETERS</b>
       command   Name of program to be spawned (string, significant only at <u>root</u>).

       argv      Arguments to <u>command</u> (array of strings, significant only at <u>root</u>).

       maxprocs  Maximum number of processes to start (integer, significant only at <u>root</u>).

       info      A  set  of  key-value pairs telling the runtime system where and how to start the processes
                 (handle, significant only at <u>root</u>).

       root      Rank of process in which previous arguments are examined (integer).

       comm      Intracommunicator containing group of spawning processes (handle).


<b>OUTPUT</b> <b>PARAMETER</b>
       intercomm Intercommunicator between original group and the newly spawned group (handle).

       array_of_errcodes
                 One code per process (array of integers).

       IERROR    Fortran only: Error status (integer).


<b>DESCRIPTION</b>
       MPI_Comm_spawn tries to start <u>maxprocs</u> identical copies of the  MPI  program  specified  by  <u>command</u>,
       establishing  communication  with  them and returning an intercommunicator. The spawned processes are
       referred to as children. The children have their own MPI_COMM_WORLD, which is separate from  that  of
       the  parents. MPI_Comm_spawn is collective over <u>comm</u>, and also may not return until MPI_Init has been
       called in the children. Similarly, MPI_Init in the children may not return  until  all  parents  have
       called MPI_Comm_spawn. In this sense, MPI_Comm_spawn in the parents and MPI_Init in the children form
       a collective operation over the union of parent and child processes. The  intercommunicator  returned
       by  MPI_Comm_spawn  contains  the  parent processes in the local group and the child processes in the
       remote group. The ordering of processes in the local and remote groups is the  same  as  the  as  the
       ordering of the group of the <u>comm</u> in the parents and of MPI_COMM_WORLD of the children, respectively.
       This intercommunicator can be obtained in the children through the function MPI_Comm_get_parent.

       The MPI standard allows an implementation to use the MPI_UNIVERSE_SIZE attribute of MPI_COMM_WORLD to
       specify  the  number  of processes that will be active in a program.  Although this implementation of
       the MPI standard defines MPI_UNIVERSE_SIZE, it does not allow the user to set its value.  If you  try
       to set the value of MPI_UNIVERSE_SIZE, you will get an error message.

       The <u>command</u> Argument

       The  <u>command</u> argument is a string containing the name of a program to be spawned. The string is null-<font color="#ffffff" class="whiteout">terminated&nbsp;nullterminated</font>
       terminated in C. In Fortran, leading and trailing spaces are stripped. MPI looks for the  file  first
       in the working directory of the spawning process.

       The <u>argv</u> Argument

       <u>argv</u> is an array of strings containing arguments that are passed to the program. The first element of
       <u>argv</u> is the first argument passed to <u>command</u>, not, as is conventional in some contexts,  the  command
       itself.  The argument list is terminated by NULL in C and C++ and an empty string in Fortran. In For-<font color="#ffffff" class="whiteout">tran,&nbsp;Fortran,</font>
       tran, leading and trailing spaces are always stripped, so that a string consisting of all  spaces  is
       considered  an empty string. The constant MPI_ARGV_NULL may be used in C, C++ and Fortran to indicate
       an empty argument list. In C and C++, this constant is the same as NULL.

       In C, the MPI_Comm_spawn argument <u>argv</u> differs from the <u>argv</u> argument of <u>main</u> in two respects. First,
       it  is shifted by one element. Specifically, <u>argv</u>[0] of <u>main</u>  contains the name of the program (given
       by <u>command</u>). <u>argv</u>[1] of <u>main</u> corresponds to <u>argv</u>[0] in MPI_Comm_spawn, <u>argv</u>[2] of <u>main</u> to <u>argv</u>[1]  of
       MPI_Comm_spawn, and so on. Second, <u>argv</u> of MPI_Comm_spawn must be null-terminated, so that its length
       can be determined. Passing an <u>argv</u> of MPI_ARGV_NULL to MPI_Comm_spawn results in <u>main</u> receiving  <u>argc</u>
       of 1 and an <u>argv</u> whose element 0 is the name of the program.

       The <u>maxprocs</u> Argument

       Open MPI tries to spawn <u>maxprocs</u> processes. If it is unable to spawn <u>maxprocs</u> processes, it raises an
       error of  class  MPI_ERR_SPAWN.  If  MPI  is  able  to  spawn  the  specified  number  of  processes,
       MPI_Comm_spawn  returns  successfully and the number of spawned processes, <u>m</u>, is given by the size of
       the remote group of <u>intercomm</u>.

       A spawn call with the default behavior is called hard. A spawn call for  which  fewer  than  <u>maxprocs</u>
       processes may be returned is called soft.

       The <u>info</u> Argument

       The <u>info</u> argument is an opaque handle of type MPI_Info in C, MPI::Info in C++ and INTEGER in Fortran.
       It is a container for a number of user-speci ed (<u>key,value</u>) pairs. <u>key</u> and <u>value</u> are  strings  (null-<font color="#ffffff" class="whiteout">terminated&nbsp;(nullterminated</font>
       terminated char* in C, character*(*) in Fortran). Routines to create and manipulate the <u>info</u> argument
       are described in Section 4.10 of the MPI-2 standard.

       For the SPAWN calls, <u>info</u> provides additional, implementation-dependent instructions to MPI  and  the
       runtime system on how to start processes. An application may pass MPI_INFO_NULL in C or Fortran. Por-<font color="#ffffff" class="whiteout">table&nbsp;Portable</font>
       table programs not requiring detailed control over process locations should use MPI_INFO_NULL.

       The following values for <u>info</u> are recognized in Open MPI. (The reserved values mentioned  in  Section
       5.3.4 of the MPI-2 standard are not implemented.)

       Key value             Type      Description
       ----------            ----      -----------<font color="#ffffff" class="whiteout">host&nbsp;----------host</font>

       host                  char *    Host on which the process should be spawned.
       wdir                  char *    Directory where the executable is located.


       The <u>root</u> Argument

       All  arguments  before the <u>root</u> argument are examined only on the process whose rank in <u>comm</u> is equal
       to <u>root</u>. The value of these arguments on other processes is ignored.

       The <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u> Argument

       The <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u> is an array of length <u>maxprocs</u> in which MPI reports the status of the processes
       that  MPI was requested to start. If all <u>maxprocs</u> processes were spawned, <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u> is filled
       in with the value MPI_SUCCESS. If anyof the processes are <u>not</u> spawned, <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u> is filled in
       with  the  value MPI_ERR_SPAWN. In C or Fortran, an application may pass MPI_ERRCODES_IGNORE if it is
       not interested in the error codes. In C++ this constant does not  exist,  and  the  <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u>
       argument may be omitted from the argument list.


<b>NOTES</b>
       Completion of MPI_Comm_spawn in the parent does not necessarily mean that MPI_Init has been called in
       the children (although the returned intercommunicator can be used immediately).



<b>ERRORS</b>
       Almost all MPI routines return an error value; C routines as the value of the  function  and  Fortran
       routines  in  the  last argument. C++ functions do not return errors. If the default error handler is
       set to MPI::ERRORS_THROW_EXCEPTIONS, then on error the C++ exception mechanism will be used to  throw
       an MPI:Exception object.

       Before  the  error value is returned, the current MPI error handler is called. By default, this error
       handler aborts the MPI job, except for I/O function errors. The error handler  may  be  changed  with
       MPI_Comm_set_errhandler;  the  predefined  error handler MPI_ERRORS_RETURN may be used to cause error
       values to be returned. Note that MPI does not guarantee that an MPI  program  can  continue  past  an
       error.


<b>SEE</b> <b>ALSO</b>
       <a href="MPI_Comm_spawn_multiple.3.html#//apple_ref/doc/man/3/MPI_Comm_spawn_multiple">MPI_Comm_spawn_multiple(3)</a>
       <a href="MPI_Comm_get_parent.3.html#//apple_ref/doc/man/3/MPI_Comm_get_parent">MPI_Comm_get_parent(3)</a>
       <a href="../man1/mpirun.1.html#//apple_ref/doc/man/1/mpirun">mpirun(1)</a>




Open MPI 1.2                                   September 2006                       MPI_Comm_spawn(3OpenMPI)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Comm_spawn.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Comm_spawn.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Comm_spawn.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
