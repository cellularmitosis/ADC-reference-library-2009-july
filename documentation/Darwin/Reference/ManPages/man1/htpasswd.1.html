<html><head><title>Mac OS X
 Manual Page For htpasswd(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/htpasswd" title="Mac OS X
 Manual Page for htpasswd(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/htpasswd"; name=htpasswd(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
HTPASSWD(1)                                       htpasswd                                       HTPASSWD(1)



<b>NAME</b>
       htpasswd - Manage user files for basic authentication


<b>SYNOPSIS</b>
       <b>htpasswd</b> [ -<b>c</b> ] [ -<b>m</b> ] [ -<b>D</b> ] <u>passwdfile</u> <u>username</u>


       <b>htpasswd</b> -<b>b</b> [ -<b>c</b> ] [ -<b>m</b> | -<b>d</b> | -<b>p</b> | -<b>s</b> ] [ -<b>D</b> ] <u>passwdfile</u> <u>username</u> <u>password</u>


       <b>htpasswd</b> -<b>n</b> [ -<b>m</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] <u>username</u>


       <b>htpasswd</b> -<b>nb</b> [ -<b>m</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] <u>username</u> <u>password</u>



<b>SUMMARY</b>
       htpasswd  is  used to create and update the flat-files used to store usernames and password for basic
       authentication of HTTP users. If htpasswd cannot access a file, such as not being able  to  write  to
       the  output file or not being able to read the file in order to update it, it returns an error status
       and makes no changes.


       Resources available from the Apache HTTP server can be restricted to just the  users  listed  in  the
       files  created  by  htpasswd.  This program can only manage usernames and passwords stored in a flat-<font color="#ffffff" class="whiteout">file.&nbsp;flatfile.</font>
       file. It can encrypt and display password information for use in other types of data stores,  though.
       To use a DBM database see dbmmanage.


       htpasswd  encrypts  passwords  using  either  a  version  of MD5 modified for Apache, or the system's
       crypt() routine. Files managed by htpasswd may contain both types of passwords; some user records may
       have MD5-encrypted passwords while others in the same file may have passwords encrypted with crypt().


       This manual page only lists the command line arguments. For details of the  directives  necessary  to
       configure  user  authentication in httpd see the Apache manual, which is part of the Apache distribu-<font color="#ffffff" class="whiteout">tion&nbsp;distribution</font>
       tion or can be found at <a href="http://httpd.apache.org/">http://httpd.apache.org/</a>



<b>OPTIONS</b>
       -b     Use batch mode; <u>i.e.</u>, get the password from the command line rather  than  prompting  for  it.
              This  option  should  be  used with extreme care, since <b>the</b> <b>password</b> <b>is</b> <b>clearly</b> <b>visible</b> on the
              command line.

       -c     Create the <u>passwdfile</u>. If <u>passwdfile</u> already exists,  it  is  rewritten  and  truncated.  This
              option cannot be combined with the -n option.

       -n     Display  the results on standard output rather than updating a file. This is useful for gener-
              ating password records acceptable to Apache for inclusion in non-text data stores. This option
              changes  the syntax of the command line, since the <u>passwdfile</u> argument (usually the first one)
              is omitted. It cannot be combined with the -c option.

       -m     Use MD5 encryption for passwords. On Windows, Netware and TPF, this is the default.

       -d     Use crypt() encryption for passwords. The default on all platforms but  Windows,  Netware  and
              TPF.  Though possibly supported by htpasswd on all platforms, it is not supported by the httpd
              server on Windows, Netware and TPF.

       -s     Use SHA encryption for passwords. Facilitates migration from/to  Netscape  servers  using  the
              LDAP Directory Interchange Format (ldif).

       -p     Use  plaintext  passwords.  Though  htpasswd will support creation on all platforms, the httpd
              daemon will only accept plain text passwords on Windows, Netware and TPF.

       -D     Delete user. If the username exists in the specified htpasswd file, it will be deleted.

       <u>passwdfile</u>
              Name of the file to contain the user name and password. If -c is given, this file  is  created
              if it does not already exist, or rewritten and truncated if it does exist.

       <u>username</u>
              The  username  to  create or update in <u>passwdfile</u>. If <u>username</u> does not exist in this file, an
              entry is added. If it does exist, the password is changed.

       <u>password</u>
              The plaintext password to be encrypted and stored in the file. Only used with the -b flag.


<b>EXIT</b> <b>STATUS</b>
       htpasswd returns a zero status ("true") if the username and password have been successfully added  or
       updated  in  the  <u>passwdfile</u>.  htpasswd returns 1 if it encounters some problem accessing files, 2 if
       there was a syntax problem with the command line, 3 if the password was entered interactively and the
       verification  entry didn't match, 4 if its operation was interrupted, 5 if a value is too long (user-
       name, filename, password, or final computed record), 6 if the username  contains  illegal  characters
       (see the Restrictions section), and 7 if the file is not a valid password file.


<b>EXAMPLES</b>
             htpasswd /usr/local/etc/apache/.htpasswd-users jsmith



       Adds  or modifies the password for user jsmith. The user is prompted for the password. If executed on
       a Windows system, the password will be encrypted using the modified Apache MD5 algorithm;  otherwise,
       the  system's  crypt()  routine  will  be  used. If the file does not exist, htpasswd will do nothing
       except return an error.


             htpasswd -c /home/doe/public_html/.htpasswd jane



       Creates a new file and stores a record in it for user jane. The user is prompted for the password. If
       the file exists and cannot be read, or cannot be written, it is not altered and htpasswd will display
       a message and return an error status.


             htpasswd -mb /usr/web/.htpasswd-all jones Pwd4Steve



       Encrypts the password from the command line (Pwd4Steve) using the MD5 algorithm, and stores it in the
       specified file.


<b>SECURITY</b> <b>CONSIDERATIONS</b>
       Web  password files such as those managed by htpasswd should <u>not</u> be within the Web server's URI space
       -- that is, they should not be fetchable with a browser.


       This program is not safe as a setuid executable. Do <u>not</u> make it setuid.


       The use of the -b option is discouraged, since when it is used the unencrypted  password  appears  on
       the command line.


       When  using  the crypt() algorithm, note that only the first 8 characters of the password are used to
       form the password. If the supplied password is longer, the extra characters  will  be  silently  dis-
       carded.


       The  SHA  encryption  format  does not use salting: for a given password, there is only one encrypted
       representation. The crypt() and MD5 formats permute the representation by prepending  a  random  salt
       string, to make dictionary attacks against the passwords more difficult.


<b>RESTRICTIONS</b>
       On  the  Windows and MPE platforms, passwords encrypted with htpasswd are limited to no more than 255
       characters in length. Longer passwords will be truncated to 255 characters.


       The MD5 algorithm used by htpasswd is specific to the Apache software; passwords encrypted  using  it
       will not be usable with other Web servers.


       Usernames are limited to 255 bytes and may not include the character :.




Apache HTTP Server                               2007-04-24                                      HTPASSWD(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/htpasswd.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/htpasswd.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/htpasswd.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
