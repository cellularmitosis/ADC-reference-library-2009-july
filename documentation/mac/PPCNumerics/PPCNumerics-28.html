<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Exception Flags(IM:PN)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<A NAME="HEADING28"></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCNumerics-27.html"><IMG ALIGN="BOTTOM" SRC="prev.gif" BORDER="none" HSPACE="20" ALT="Previous"></A> <A HREF="PPCNumerics-2.html"><IMG ALIGN="BOTTOM" SRC="content.gif" BORDER="none" HSPACE="20" ALT="Book Contents"></A> <A HREF="PPCNumerics-192.html"><IMG ALIGN="BOTTOM" SRC="index.gif" BORDER="none" HSPACE="20" ALT="Book Index"></A> <A HREF="PPCNumerics-29.html"><IMG ALIGN="BOTTOM" SRC="next.gif" BORDER="none" HSPACE="20" ALT="Next"></A> </CENTER><P>
<FONT SIZE="-1"><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCNumerics-2.html"><B>PowerPC Numerics </B></A> / <A HREF="PPCNumerics-9.html"><B>Part 1 - The PowerPC Numerics Environment</B></A><BR><DD><A HREF="PPCNumerics-25.html"><B>Chapter 4 - Environmental Controls</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME="HEADING28-0"></A>
<H1><A NAME="MARKER-9-37"></A>Exception Flags</H1>
 <A NAME="MARKER-2-20"></A><A NAME="MARKER-2-23"></A>Floating-point exceptions are signaled with <B>exception flags.</B> When an application begins, all floating-point exception flags are cleared and the default rounding direction (to nearest) is in effect. This is the <B>default environment.</B> When an exception occurs, the appropriate exception flag is set, but the application continues normal operation. Floating-point exception flags merely indicate that a particular event has occurred; they do not change the flow of control for the application. An application can examine or set individual exception flags and can save and retrieve the entire environment (rounding direction and exception flags). <B><A NAME="MARKER-2-2"></A></B><P>
<DL>
<DT><B>Note</B>
<DD>The Exception Manager, described in the book <I><A HREF="../PPCSoftware/PPCSoftware-2.html">Inside Macintosh: PowerPC System Software</A></I>, does not report floating-point exceptions in the first version of the system software for PowerPC processor-based Macintosh computers.<EM></EM>  <IMG ALIGN="BOTTOM" SRC="graphics/diamond.gif">
</DL>
 The numerics environment supports five exception flags:<P>
<UL>
<LI>invalid operation (often called simply <I>invalid</I>)
<LI>underflow
<LI>overflow
<LI>divide-by-zero
<LI>inexact<P>
</UL>
 These are discussed in the paragraphs that follow.<P>
<A NAME="HEADING28-10"></A>
<H2><A NAME="MARKER-9-41"></A>Invalid Operation</H2>
 <A NAME="MARKER-2-45"></A>The <B>invalid exception</B> (or invalid-operation exception) occurs if an operand is invalid for the operation being performed. The result is a quiet NaN for all destination formats (single, double, or double-double). The invalid conditions for the different operations are <A NAME="MARKER-2-9"></A>
<TABLE BORDER="0" CELLPADDING="3"><TH ALIGN="LEFT">Operation<TH>Invalid condition<TR>
<TD>Addition or subtraction<TD>Magnitude subtraction of Infinities, <BR>for example, (+ <IMG BORDER="NONE" SRC="graphics/infinity.gif"> ) + (
<MATH>
- <IMG BORDER="NONE" SRC="graphics/infinity.gif"> 
</MATH>

)<A NAME="MARKER-2-52"></A><TR>
<TD>Multiplication<TD>
<MATH>
0&#215; <IMG BORDER="NONE" SRC="graphics/infinity.gif"> 
</MATH>

 <A NAME="MARKER-2-66"></A><TR>
<TD>Division<TD>
<MATH>
0/0
</MATH>

 or 
<MATH>
 <IMG BORDER="NONE" SRC="graphics/infinity.gif"> / <IMG BORDER="NONE" SRC="graphics/infinity.gif"> 
</MATH>

<A NAME="MARKER-2-50"></A><TR>
<TD>Remainder<TD><I>x</I> rem <I>y</I>, where <I>y</I> is 0 or <I>x</I> is infinite <A NAME="MARKER-2-57"></A><TR>
<TD>Square root<TD>A negative operand <A NAME="MARKER-2-81"></A><TR>
<TD>Conversion<TD>See <A HREF="PPCNumerics-29.html#MARKER-9-13">Chapter 5, "Conversions"</A> <A NAME="MARKER-10-50"></A><TR>
<TD>Comparison<TD>With predicates involving less than or greater than, but not unordered, when at least one operand is a NaN <A NAME="MARKER-10-26"></A></TABLE>
<P>
 In addition, any operation on a signaling NaN except the class and sign inquiries and, on some implementations, sign manipulations (absolute value and copysign) produce an invalid exception. <A NAME="MARKER-2-60"></A><A NAME="MARKER-2-10"></A><A NAME="MARKER-2-54"></A><A NAME="MARKER-2-55"></A><P>
<A NAME="HEADING28-13"></A>
<H2>Underflow</H2>
 <A NAME="MARKER-2-10"></A><A NAME="MARKER-2-9"></A>The <B>underflow exception</B> occurs when a floating-point result is both tiny and inexact (and therefore is perhaps significantly less accurate than if there were no limit to the exponent range). A result is considered <B>tiny</B> if it must be represented as a denormalized number.<A NAME="MARKER-2-49"></A><A NAME="MARKER-10-46"></A><P>
<A NAME="HEADING28-15"></A>
<H2>Overflow</H2>
 <A NAME="MARKER-2-2"></A>The <B>overflow exception</B> occurs when the magnitude of a rounded floating-point result is greater than the largest finite number that the floating-point destination data format can represent. (Invalid exceptions, rather than overflow exceptions, flag the production of an out-of-range value for an integer destination type.) <A NAME="MARKER-2-48"></A><P>
<A NAME="HEADING28-17"></A>
<H2>Divide-by-Zero</H2>
 <A NAME="MARKER-2-77"></A>The <B>divide-by-zero exception</B> occurs when a finite, nonzero number is divided by zero. It also occurs, in the more general case, when an operation on finite operands produces an exact infinite result; for example, 
<MATH>
logb(0)
</MATH>

 returns 
<MATH>
- <IMG BORDER="NONE" SRC="graphics/infinity.gif"> 
</MATH>

 and signals divide-by-zero. (Overflow exceptions, rather than divide-by-zero exceptions, flag the production of an inexact infinite result.)<A NAME="MARKER-2-11"></A><P>
<A NAME="HEADING28-19"></A>
<H2>Inexact</H2>
 <A NAME="MARKER-2-37"></A>The <B>inexact exception</B> occurs if the rounded result of an operation is not identical to the exact (infinitely precise) result. Thus, an inexact exception always occurs when an overflow or underflow occurs. Valid operations on Infinities are always exact and therefore signal no exceptions. Invalid operations on Infinities are described at the beginning of this section.<A NAME="MARKER-2-8"></A><A NAME="MARKER-2-9"></A><A NAME="MARKER-2-59"></A><A NAME="MARKER-10-47"></A><P>

</BLOCKQUOTE>
<HR>
<CENTER>
<A HREF="PPCNumerics-27.html"><IMG ALIGN="BOTTOM" SRC="prev.gif" BORDER="none" HSPACE="20" ALT="Previous"></A> <A HREF="PPCNumerics-2.html"><IMG ALIGN="BOTTOM" SRC="content.gif" BORDER="none" HSPACE="20" ALT="Book Contents"></A> <A HREF="PPCNumerics-192.html"><IMG ALIGN="BOTTOM" SRC="index.gif" BORDER="none" HSPACE="20" ALT="Book Index"></A> <A HREF="PPCNumerics-29.html"><IMG ALIGN="BOTTOM" SRC="next.gif" BORDER="none" HSPACE="20" ALT="Next"></A> </CENTER><P>
<CENTER><FONT SIZE="-1"><A HREF="PPCNumerics-3.html">&copy; Apple Computer, Inc.</A><BR>13 JUL 1996</CENTER></FONT><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
