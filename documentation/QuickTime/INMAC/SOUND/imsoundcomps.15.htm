<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE>Sound Parameter Blocks (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundcomps.14.htm">Previous</A> | <A target="doc" HREF="imsoundcomps.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundcomps.htm">Chapter top</A> | <A target="doc" HREF="imsoundcomps.13.htm">Section top</A> | <A target="doc" HREF="imsoundcomps.16.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=638"> </A>Sound Parameter Blocks</H1><P CLASS="T0.Text0"><A NAME="pgfId=690"> </A><A NAME="marker=327"> </A><A NAME="marker=321"> </A>The Sound Manager passes a component's <TT CLASS="cv">SoundComponentPlaySourceBuffer</TT> function a <B CLASS="bold">sound parameter block</B> that describes the source data to be modified or sent to a sound output device. A sound parameter block is defined by the <TT CLASS="cv">SoundParamBlock</TT> data type.</P><CODE CLASS="CvF.CodeFull"><A NAME="pgfId=21556"> </A>struct SoundParamBlock {<BR>&nbsp;&nbsp;&nbsp;&nbsp;long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recordSize;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*size of this record in bytes*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;SoundComponentData&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*description of sound buffer*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;Fixed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rateMultiplier;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*rate multiplier*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leftVolume;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*volume on left channel*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rightVolume;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*volume on right channel*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quality;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*quality*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;ComponentInstance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*filter*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;SoundParamProcPtr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moreRtn;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*routine to call to get more data*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;SoundParamProcPtr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completionRtn;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*buffer complete routine*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refCon;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*user refcon*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*result*/<BR>};<BR>typedef struct SoundParamBlock SoundParamBlock;<BR>typedef SoundParamBlock *SoundParamBlockPtr;<BR></CODE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5181"> </A><TT CLASS="cv">recordSize</TT><A NAME="marker=5185"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=651"> </A>The length, in bytes, of the sound parameter block.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5191"> </A><TT CLASS="cv">desc</TT><A NAME="marker=5195"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=652"> </A>A sound component data record that describes the format, size, and location of the sound data. See <A target="doc" HREF="imsoundcomps.14.htm#23837" CLASS="XRef">&quot;Sound Component Data Records&quot;</A> for a description of the sound component data record.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5201"> </A><TT CLASS="cv">rateMultiplier</TT><A NAME="marker=5205"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=653"> </A> A multiplier to be applied to the playback rate of the sound. This field contains an unsigned fixed-point number. If, for example, this field has the value 2.0, the sound is played back at twice the rate specified in the <TT CLASS="cv">sampleRate</TT> field of the sound component data record contained in the <TT CLASS="cv">desc</TT> field.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5212"> </A><TT CLASS="cv">leftVolume</TT><A NAME="marker=5216"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=546"> </A>The playback volume for the left channel. You specify a volume with 16-bit value, where 0 (hexadecimal 0x0000) represents no volume and 256 (hexadecimal 0x0100) represents full volume. You can overdrive a channel's volume by passing volume levels greater than 0x0100.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5222"> </A><TT CLASS="cv">rightVolume</TT><A NAME="marker=5226"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=655"> </A>The playback volume for the right channel. You specify a volume with 16-bit value, where 0 (hexadecimal 0x0000) represents no volume and 256 (hexadecimal 0x0100) represents full volume. You can overdrive a channel's volume by passing volume levels greater than 0x0100.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5232"> </A><TT CLASS="cv">quality</TT><A NAME="marker=5236"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=661"> </A>The level of quality for the sound. This value usually determines how much processing should be applied during audio data processing (such as rate conversion and decompression) to increase the output quality of the sound.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5242"> </A><TT CLASS="cv">filter</TT><A NAME="marker=5246"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=624"> </A>Reserved for future use. You should set this field to <TT CLASS="cv">nil</TT><B CLASS="bold">.</B></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5252"> </A><TT CLASS="cv">moreRtn</TT><A NAME="marker=5256"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=654"> </A>A pointer to a callback routine that is called to retrieve another buffer of audio data. This field is used internally by the Sound Manager.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5262"> </A><TT CLASS="cv">completionRtn</TT><A NAME="marker=5266"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=680"> </A>A pointer to a callback routine that is called when the sound has finished playing. This field is used internally by the Sound Manager.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5272"> </A><TT CLASS="cv">refCon</TT><A NAME="marker=5276"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=688"> </A>A value that is to be passed to the callback routines specified in the <TT CLASS="cv">moreRtn</TT> and <TT CLASS="cv">completionRtn</TT> fields. You can use this field to pass information (for example, the address of a structure) to a callback routine.</BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=5282"> </A><TT CLASS="cv">result</TT><A NAME="marker=5286"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=689"> </A>The status of the sound that is playing. The value 1 indicates that the sound is currently playing. The value 0 indicates that the sound has finished playing. Any negative value indicates that some error has occurred.<A NAME="marker=322"> </A><A NAME="marker=328"> </A></BLOCKQUOTE><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundcomps.14.htm">Previous</A> | <A target="doc" HREF="imsoundcomps.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundcomps.htm">Chapter top</A> | <A target="doc" HREF="imsoundcomps.13.htm">Section top</A> | <A target="doc" HREF="imsoundcomps.16.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>