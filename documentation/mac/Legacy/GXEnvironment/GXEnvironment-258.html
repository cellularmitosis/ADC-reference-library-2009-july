<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>UnflattenCollection(IM: XU)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING258></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="GXEnvironment-257.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-259.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="GXEnvironment-2.html"><B>QuickDraw GX Environment and Utilities</B></A> / <BR><DD><A HREF="GXEnvironment-182.html"><B>Chapter 5 - Collection Manager</B></A> / <A HREF="GXEnvironment-206.html"><B>Collection Manager Reference</B></A><BR><DL><DD><A HREF="GXEnvironment-214.html"><B>Functions</B></A> / <A HREF="GXEnvironment-255.html"><B>Flattening and Unflattening a Collection</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING258-0></A>
<H3><A NAME=MARKER-2-243></A><A NAME=MARKER-9-242></A><A NAME=MARKER-2-243></A>UnflattenCollection</H3>
 You use the <CODE>UnflattenCollection</CODE> function to unflatten a collection that was flattened using the <CODE>FlattenCollection</CODE> or <CODE>FlattenPartialCollection</CODE> function.<P>
<PRE>
OSErr UnflattenCollection (Collection target,
                           CollectionFlattenProc flattenProc,
                           void *refCon);
</PRE>
<DL>
<DT><CODE>target</CODE>
<DD> A reference to the collection object you want to create from the flattened data.
<DT><CODE>flattenProc</CODE>
<DD> A pointer to a function to read in flattened data.
<DT><CODE>refCon</CODE>
<DD> A reference constant that you want the Collection Manager to pass repeatedly to the callback function.
</DL>
<A NAME=HEADING258-6></A>
<H5>DESCRIPTION</H5>
 The <CODE>UnflattenCollection</CODE> function unflattens a stream of bytes into the collection object you specify with the <CODE>target</CODE> parameter. <P>
 As this function unflattens the collection, it repeatedly calls the callback function you specify using the <CODE>flattenProc</CODE> parameter. Each time it calls this function, it provides the callback function with a pointer to a block of memory and a requested size. The callback function is responsible for reading the next set of bytes from the flattened byte stream and copying the data into the block of memory. <P>
 The Collection Manager continues to call your callback function, requesting more of the flattened stream of bytes each time, until it has unflattened the entire collection. Your callback function can read the flattened data from any source you choose: it could read the flattened data from a handle-based block of memory, it could read the flattened data from disk, and so on.<P>
 In the <CODE>refCon</CODE> parameter, you specify a value that the Collection Manager passes on to your callback function each time it calls your callback function. You can use this parameter as a pointer to a structure containing information your callback function needs when reading the blocks of flattened data.<P>
 This function can return any error returned by the callback function.<P>
<A NAME=HEADING258-12></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>memFullErr<TD>-108<TD>Can't allocate memory.<TR>
<TD>collectionVersionErr<TD>-5753<TD>Unrecognized version/data may be corrupt.</TABLE>
</H5>
<A NAME=HEADING258-13></A>
<H5>SEE ALSO</H5>
 For examples of this function, see <A HREF=GXEnvironment-202.html#MARKER-9-86>"Flattening and Unflattening a Collection" beginning on page 5-37</A> and <A HREF=GXEnvironment-203.html#MARKER-9-92>"Reading Collections From and Writing Collections to Disk" beginning on page 5-41</A>.<P>
 For information about the callback function that you provide, see <A HREF=GXEnvironment-269.html#MARKER-9-276>page 5-100</A>.<P>
 To create a flattened collection that includes only those collection items whose attributes match a specified pattern, use the <CODE>FlattenPartialCollection</CODE> function, described in the previous section.<P>
 To create a flattened collection that includes every item in a collection, use the <CODE>FlattenCollection</CODE> function, described on <A HREF=GXEnvironment-256.html#MARKER-9-235>page 5-88</A>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="GXEnvironment-257.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-259.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="GXEnvironment-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
