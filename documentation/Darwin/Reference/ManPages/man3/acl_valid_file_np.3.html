<html><head><title>Mac OS X
 Manual Page For acl_valid_file_np(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/acl_valid_file_np" title="Mac OS X
 Manual Page for acl_valid_file_np(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/acl_valid_file_np"; name=acl_valid_file_np(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ACL_VALID(3)             BSD Library Functions Manual             <!-- a -->ACL_VALID(3)<!-- /a -->

<b>NAME</b>
     <b>acl_valid</b>, <b>acl_valid_fd_np</b>, <b>acl_valid_file_np</b>, <b>acl_valid_link_np</b> -- validate an ACL

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/types.h&gt;</b>
     <b>#include</b> <b>&lt;sys/acl.h&gt;</b>

     <u>int</u>
     <b>acl_valid</b>(<u>acl</u><b>_</b><u>t</u> <u>acl</u>);

     <u>int</u>
     <b>acl_valid_fd_np</b>(<u>int</u> <u>fd</u>, <u>acl</u><b>_</b><u>type</u><b>_</b><u>t</u> <u>type</u>, <u>acl</u><b>_</b><u>t</u> <u>acl</u>);

     <u>int</u>
     <b>acl_valid_file_np</b>(<u>const</u> <u>char</u> <u>*path</u><b>_</b><u>p</u>, <u>acl</u><b>_</b><u>type</u><b>_</b><u>t</u> <u>type</u>, <u>acl</u><b>_</b><u>t</u> <u>acl</u>);

     <u>int</u>
     <b>acl_valid_link_np</b>(<u>const</u> <u>char</u> <u>*path</u><b>_</b><u>p</u>, <u>acl</u><b>_</b><u>type</u><b>_</b><u>t</u> <u>type</u>, <u>acl</u><b>_</b><u>t</u> <u>acl</u>);

<b>DESCRIPTION</b>
     These functions check that the ACL referred to by the argument <u>acl</u> is valid.  The POSIX.1e routine,
     <b>acl_valid</b>(), checks assumes ACL_TYPE_EXTENDED, and disregard of the context in which the ACL is to be
     used.  The non-portable forms, <b>acl_valid_fd_np</b>(), <b>acl_valid_file_np</b>(), and <b>acl_valid_link_np</b>() allow an
     ACL to be checked in the context of a specific acl type, <u>type</u>, and file system object.  In environments
     where additional ACL types are supported than just POSIX.1e, this makes more sense.  Whereas
     <b>acl_valid_file_np</b>() will follow the symlink if the specified path is to a symlink, <b>acl_valid_link_np</b>()
     will not.

     The qualifier field shall be unique among all entries of the same POSIX.1e ACL facility defined tag
     type.  The tag type field shall contain valid values including any implementation-defined values.  Val-<font color="#ffffff" class="whiteout">idation&nbsp;Validation</font>
     idation of the values of the qualifier field is implementation-defined.

     The POSIX.1e <b>acl_valid</b>() function may reorder the ACL for the purposes of verification; the non-porta-<font color="#ffffff" class="whiteout">ble&nbsp;non-portable</font>
     ble validation functions will not.

<b>RETURN</b> <b>VALUES</b>
     Upon successful completion, the value 0 is returned; otherwise the value -1 is returned and the global
     variable <u>errno</u> is set to indicate the error.

<b>ERRORS</b>
     If any of the following conditions occur, these functions shall return -1 and set <u>errno</u> to the corre-<font color="#ffffff" class="whiteout">sponding&nbsp;corresponding</font>
     sponding value:

     [EACCES]           Search permission is denied for a component of the path prefix, or the object exists
                        and the process does not have appropriate access rights.

     [EBADF]            The <u>fd</u> argument is not a valid file descriptor.

     [EINVAL]           Argument <u>acl</u> does not point to a valid ACL.

                        One or more of the required ACL entries is not present in <u>acl</u>.

                        The ACL contains entries that are not unique.

                        The file system rejects the ACL based on fs-specific semantics issues.

     [ENAMETOOLONG]     A component of a pathname exceeded 255 characters, or an entire path name exceeded
                        1023 characters.

     [ENOENT]           The named object does not exist, or the <u>path</u><b>_</b><u>p</u> argument points to an empty string.

     [ENOMEM]           Insufficient memory available to fulfill request.

     [EOPNOTSUPP]       The file system does not support ACL retrieval.

<b>SEE</b> <b>ALSO</b>
     <a href="acl.3.html#//apple_ref/doc/man/3/acl">acl(3)</a>, <a href="acl_get.3.html#//apple_ref/doc/man/3/acl_get">acl_get(3)</a>, <a href="acl_init.3.html#//apple_ref/doc/man/3/acl_init">acl_init(3)</a>, <a href="acl_set.3.html#//apple_ref/doc/man/3/acl_set">acl_set(3)</a>, <!-- a -->posix1e(3)<!-- /a -->

<b>STANDARDS</b>
     POSIX.1e is described in IEEE POSIX.1e draft 17.

<b>AUTHORS</b>
     Michael Smith
     Robert N M Watson

BSD                            December 29, 2002                           BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/acl_valid_file_np.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/acl_valid_file_np.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/acl_valid_file_np.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
