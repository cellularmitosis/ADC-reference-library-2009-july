<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Hardware Initialization Code</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><table border="0" cellpadding="0" cellspacing="2" width="432">		<tr>	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">	<b>PATH<img src="images/space.gif" width="6" height="12"></b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a --> 	<b>&gt;</b> iBook Developer Note		</font></td>	</tr>	</table><br><!-- end of path --><A HREF="iBook-56.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="iBook-56.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="iBook-58.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//	--></script><!-- end Show/Hide frames --></A><HR></DIV><H1><A NAME="pgfId-5685"></A>Hardware Initialization Code<A NAME="marker-5684"></A></H1><P CLASS="T1-Text1"><A NAME="pgfId-3912"></A>The hardware initialization portion of the ROM contains calls to a series of Power-On Self Test (POST) routines. The principle features are a ROM checksum test, memory testing, detection of the manufacturing test pin, and test manager support. These diagnostics run in native Power PC code. </P><P CLASS="T1-Text1"><A NAME="pgfId-3913"></A>The hardware initialization code on the iBook is different from that on existing PowerBook models because of the new ICs (Uni-N and KeyLargo). Additional diagnostics are run out of the ROM in emulation.</P><P CLASS="T1-Text1"><A NAME="pgfId-3914"></A>Functions of the hardware initialization code include</P><UL><LI><A NAME="pgfId-3915"></A>Initialization of the Uni-N memory controller IC<P><LI><A NAME="pgfId-3916"></A>Memory sizing using I<SUP>2</SUP>C presence detect on the memory module<P><LI><A NAME="pgfId-3917"></A>Memory timing setup with support for fast SDRAM devices<P><LI><A NAME="pgfId-5130"></A>L2 cache detection and sizing<P><LI><A NAME="pgfId-5131"></A>Initialization of the KeyLargo I/O controller IC<P><LI><A NAME="pgfId-3923"></A>Generating diagnostic sounds, including the boot chord that is emitted when hardware initialization has been successfully completed<P></UL><P CLASS="T1-Text1"><A NAME="pgfId-3924"></A>The firmware in the boot ROM sets up and sizes memory, then stores the information in the device tree where it is available to the OS. The firmware obtains information about the memory by way of the Serial Presence Detect mechanism of the SO-DIMM that is used for memory expansion. The JEDEC standard for the SO-DIMM mandates that all SO-DIMMs include a ROM with information about the memory. The Uni-N IC reads that information from the ROM by way of the I<SUP>2</SUP>C bus. <A NAME="marker-4579"></A><A NAME="marker-4580"></A></P><HR>&#169 1999-2000 Apple Computer, Inc. &#150 (Last Updated 15 Feb 00)<P><A HREF="iBook-56.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="iBook-56.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="iBook-58.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//	--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter-front"--><!-- end of footer --></BODY></HTML>