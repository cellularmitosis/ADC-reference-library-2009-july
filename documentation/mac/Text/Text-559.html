<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Number Parts Table(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING559></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-558.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-560.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-531.html"><B>Appendix B - International Resources</B></A> / <A HREF="Text-553.html"><B>Tokens Resource (Type 'itl4')</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING559-0></A>
<H2>The Number Parts Table</H2>
 <A NAME=MARKER-2-339></A>The <B>number parts table</B> contains standard representations for the components of numbers and numeric strings. The Text Utilities number-formatting routines <CODE>StringToExtended</CODE> and <CODE>ExtendedToString</CODE> use the number parts table, along with a number-format string created by the <CODE>StringToFormatRec</CODE> and <CODE>FormatRecToString</CODE> routines, to create number strings in localized formats.<A NAME=MARKER-2-340></A><P>
 The <CODE>NumberParts</CODE> data type defines the number parts table:<P>
<PRE>
TYPE NumberParts = 
   RECORD
      version:       Integer;             {version of this table}
      data:          ARRAY[1..31] OF WideChar;  
                                          {2-byte number parts}
      pePlus:        WideCharArr;         {positive exp. notation}
      peMinus:       WideCharArr;         {negative exp. notation}
      peMinusPlus:   WideCharArr;         {neg. or pos. exp.}
      altNumTable:   WideCharArr;         {alternate digits}
      reserved: PACKED ARRAY[0..19] OF Char;    
                                          {reserved}
   END;
TYPE NumberPartsPtr = ^NumberParts;
</PRE>
<DL>
<DT><CODE>version</CODE>
<DD> An integer that specifies which version of the number parts table is being used. A value of 1 specifies the first version.
<DT><CODE>data</CODE>
<DD> An array of 31 wide characters (2 bytes each), indexed by a set of constants. Each element of the array, accessed by one of the constants, contains 1 or 2 bytes that make up that number part. (If the element contains only one 1-byte character, it is in the low-order byte and the high-order byte contains 0.) Each number part, then, may consist of one or two 1-byte characters, or a single 2-byte character.
<DT>
<DD> Of the 31 allotted spaces, 15 through 31 are reserved for up to 17 unquoted characters--special literals that do not need to be enclosed in quotes in a numeric string. See the discussion of number formatting in the chapter "Text Utilities" in this book for more information.
<DT>
<DD> These are the defined constants for accessing number parts in the <CODE>data</CODE> array:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Constant<TH>Value<TH>Explanation<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-53></A>tokLeftQuote<TD> 1<TD>Left quote<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-54></A>tokRightQuote<TD> 2<TD>Right quote<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-55></A>tokLeadPlacer<TD> 3<TD>Spacing leader format marker<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-56></A>tokLeader<TD> 4<TD>Spacing leader character<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-57></A>tokNonLeader<TD> 5<TD>No leader format marker<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-58></A>tokZeroLead<TD> 6<TD>Zero leader format marker<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-59></A>tokPercent<TD> 7<TD>Percent<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-60></A>tokPlusSign<TD> 8<TD>Plus<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-61></A>tokMinusSign<TD> 9<TD>Minus<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-62></A>tokThousands<TD>10<TD>Thousands separator<TR>
<TD>&nbsp;<TD>&nbsp;<TD>11<TD>(reserved)<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-63></A>tokSeparator<TD>12<TD>List separator<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-64></A>tokEscape<TD>13<TD>Escape character<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-65></A>tokDecPoint<TD>14<TD>Decimal separator<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-66></A>tokUnquoteds<TD>15<TD>(first unquoted character)<TR>
<TD>&nbsp;<TD>&nbsp;<TD>&nbsp;<TD>(15 through 31 reserved)<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-67></A>tokMaxSymbols<TD>31<TD>Maximum symbol (for range check)</TABLE>

<DT><B>IMPORTANT</B>
<DD>Note that these constants are unrelated to the token-type constants defined for the <CODE>IntlTokenize</CODE> function.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<DT><A NAME=MARKER-2-341></A><CODE>pePlus</CODE>
<DD> <A NAME=MARKER-2-211></A>An array that specifies how to represent positive exponents for scientific notation. It is a wide character array, an 11-word data structure defined by the <CODE>WideCharArr</CODE> data type. It contains up to ten 1-byte or 2-byte number parts for representing positive exponents.
<DT><A NAME=MARKER-2-343></A><CODE>peMinus</CODE>
<DD> <A NAME=MARKER-2-144></A>An array that specifies how to represent negative exponents for scientific notation. It is a wide character array, an 11-word array defined by the <CODE>WideCharArr</CODE> data type. It contains up to ten 1-byte or 2-byte number parts for representing negative exponents.
<DT><A NAME=MARKER-2-345></A><CODE>peMinusPlus</CODE>
<DD> <A NAME=MARKER-2-346></A>An array that specifies how to represent positive exponents for scientific notation when the format string exponent is negative. Symbols from this array can be used with the input number string to the <CODE>StringToExtended</CODE> function; they are not for use with the <CODE>StringToFormatRec</CODE> function. The array is a wide character array, an 11-word array defined by the <CODE>WideCharArr</CODE> data type. It contains up to ten 1-byte or 2-byte number parts for representing positive exponents.
<DT><A NAME=MARKER-2-347></A><CODE>altNumTable</CODE>
<DD> <A NAME=MARKER-2-348></A>A wide character array that specifies the alternate representation of numerals. The array contains ten character codes, each of which represents an alternate numeral. If the <CODE>smsfB0Digits</CODE> bit of the script-flags word is set, you should substitute the characters in this array for the character codes $30-$39 (regular ASCII numerals) in a string whose token code is <CODE>tokenAltNum</CODE> or <CODE>tokenAltReal</CODE>. Alternate numerals and the script flags word are described with the list of selectors for script variables in the chapter "Script Manager" in this book.
<DT><CODE>reserved</CODE>
<DD> (reserved for future expansion)
</DL>
 <A NAME=MARKER-2-349></A>The wide character (data type WideChar) is a format for representing a character that may be either 1 or 2 bytes long. For a 1-byte character, the high-order (first) byte in the record is 0, and the low-order (second) byte contains the character code. For a 2-byte character, the high-order byte is nonzero.<P>
<PRE>
TYPE
   WideChar = RECORD
   CASE BOOLEAN OF
      TRUE:
         (a: PACKED ARRAY[0..1] OF Char);    {0 = high-order char}
      FALSE:
         (b: INTEGER);
   END;
</PRE>
 The wide character array (data type WideCharArr) consists of an integer count followed by a packed array of wide characters.<P>
<PRE>
TYPE
   WideCharArr = RECORD
      size: INTEGER;                         {no. of entries -1}
      data: PACKED ARRAY[0..9] OF WideChar;
   END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT>size
<DD> The number of items in the table minus 1.
<DT>data
<DD> Up to ten wide characters. If the number part is only a single 1-byte character, that character is in the low-order byte of the word.<A NAME=MARKER-2-350></A>
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-558.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-560.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
