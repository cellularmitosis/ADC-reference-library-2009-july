<html><head><title>Mac OS X
 Manual Page For htdbm(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/htdbm" title="Mac OS X
 Manual Page for htdbm(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/htdbm"; name=htdbm(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
HTDBM(1)                                            htdbm                                           HTDBM(1)



<b>NAME</b>
       htdbm - Manipulate DBM password databases


<b>SYNOPSIS</b>
       <b>htdbm</b> [ -<b>T</b><u>DBTYPE</u> ] [ -<b>c</b> ] [ -<b>m</b> | -<b>d</b> | -<b>p</b> | -<b>s</b> ] [ -<b>t</b> ] [ -<b>v</b> ] [ -<b>x</b> ] <u>filename</u> <u>username</u>


       <b>htdbm</b> -<b>b</b> [ -<b>T</b><u>DBTYPE</u> ] [ -<b>c</b> ] [ -<b>m</b> | -<b>d</b> | -<b>p</b> | -<b>s</b> ] [ -<b>t</b> ] [ -<b>v</b> ] <u>filename</u> <u>username</u> <u>password</u>


       <b>htdbm</b> -<b>n</b> [ -<b>c</b> ] [ -<b>m</b> | -<b>d</b> | -<b>p</b> | -<b>s</b> ] [ -<b>t</b> ] [ -<b>v</b> ] <u>username</u>


       <b>htdbm</b> -<b>nb</b> [ -<b>c</b> ] [ -<b>m</b> | -<b>d</b> | -<b>p</b> | -<b>s</b> ] [ -<b>t</b> ] [ -<b>v</b> ] <u>username</u> <u>password</u>


       <b>htdbm</b> -<b>v</b> [ -<b>T</b><u>DBTYPE</u> ] [ -<b>c</b> ] [ -<b>m</b> | -<b>d</b> | -<b>p</b> | -<b>s</b> ] [ -<b>t</b> ] [ -<b>v</b> ] <u>filename</u> <u>username</u>


       <b>htdbm</b> -<b>vb</b> [ -<b>T</b><u>DBTYPE</u> ] [ -<b>c</b> ] [ -<b>m</b> | -<b>d</b> | -<b>p</b> | -<b>s</b> ] [ -<b>t</b> ] [ -<b>v</b> ] <u>filename</u> <u>username</u> <u>password</u>


       <b>htdbm</b> -<b>x</b> [ -<b>T</b><u>DBTYPE</u> ] [ -<b>m</b> | -<b>d</b> | -<b>p</b> | -<b>s</b> ] <u>filename</u> <u>username</u>


       <b>htdbm</b> -<b>l</b> [ -<b>T</b><u>DBTYPE</u> ]



<b>SUMMARY</b>
       htdbm  is  used  to  manipulate  the  DBM format files used to store usernames and password for basic
       authentication of HTTP users via mod_auth_dbm. See the dbmmanage documentation for  more  information
       about these DBM files.



<b>OPTIONS</b>
       -b     Use  batch  mode;  <u>i.e.</u>,  get the password from the command line rather than prompting for it.
              This option should be used with extreme care, since <b>the</b> <b>password</b> <b>is</b>  <b>clearly</b>  <b>visible</b>  on  the
              command line.

       -c     Create  the  <u>passwdfile</u>.  If  <u>passwdfile</u>  already  exists, it is rewritten and truncated. This
              option cannot be combined with the -n option.

       -n     Display the results on standard output rather than updating a database.  This  option  changes
              the syntax of the command line, since the <u>passwdfile</u> argument (usually the first one) is omit-<font color="#ffffff" class="whiteout">ted.&nbsp;omitted.</font>
              ted. It cannot be combined with the -c option.

       -m     Use MD5 encryption for passwords. On Windows, Netware and TPF, this is the default.

       -d     Use crypt() encryption for passwords. The default on all platforms but  Windows,  Netware  and
              TPF.  Though  possibly  supported  by htdbm on all platforms, it is not supported by the httpd
              server on Windows, Netware and TPF.

       -s     Use SHA encryption for passwords. Facilitates migration from/to  Netscape  servers  using  the
              LDAP Directory Interchange Format (ldif).

       -p     Use plaintext passwords. Though htdbm will support creation on all platforms, the httpd daemon
              will only accept plain text passwords on Windows, Netware and TPF.

       -l     Print each of the usernames and comments from the database on stdout.

       -t     Interpret the final parameter as a comment. When  this  option  is  specified,  an  additional
              string  can be appended to the command line; this string will be stored in the "Comment" field
              of the database, associated with the specified username.

       -v     Verify the username and password. The program will print a message indicating whether the sup-<font color="#ffffff" class="whiteout">plied&nbsp;supplied</font>
              plied password is valid. If the password is invalid, the program exits with error code 3.

       -x     Delete user. If the username exists in the specified DBM file, it will be deleted.

       <u>filename</u>
              The  filename  of the DBM format file. Usually without the extension .db, .pag, or .dir. If -c
              is given, the DBM file is created if it does not already exist, or updated if it does exist.

       <u>username</u>
              The username to create or update in <u>passwdfile</u>. If <u>username</u> does not exist in  this  file,  an
              entry is added. If it does exist, the password is changed.

       <u>password</u>
              The plaintext password to be encrypted and stored in the DBM file. Used only with the -b flag.

       -T<u>DBTYPE</u>
              Type of DBM file (SDBM, GDBM, DB, or "default").


<b>BUGS</b>
       One should be aware that there are a number of different DBM file formats in existence, and with  all
       likelihood,  libraries  for more than one format may exist on your system. The three primary examples
       are SDBM, NDBM, GNU GDBM, and Berkeley/Sleepycat DB 2/3/4. Unfortunately,  all  these  libraries  use
       different file formats, and you must make sure that the file format used by <u>filename</u> is the same for-<font color="#ffffff" class="whiteout">mat&nbsp;format</font>
       mat that htdbm expects to see. htdbm currently has no way of determining what type of DBM file it  is
       looking  at.  If used against the wrong format, will simply return nothing, or may create a different
       DBM file with a different name, or at worst, it may corrupt the DBM file if you  were  attempting  to
       write to it.


       One can usually use the file program supplied with most Unix systems to see what format a DBM file is
       in.


<b>EXIT</b> <b>STATUS</b>
       htdbm returns a zero status ("true") if the username and password have  been  successfully  added  or
       updated  in  the  DBM File. htdbm returns 1 if it encounters some problem accessing files, 2 if there
       was a syntax problem with the command line, 3 if the password was entered interactively and the veri-<font color="#ffffff" class="whiteout">fication&nbsp;verification</font>
       fication  entry didn't match, 4 if its operation was interrupted, 5 if a value is too long (username,
       filename, password, or final computed record), 6 if the username contains illegal characters (see the
       Restrictions section), and 7 if the file is not a valid DBM password file.


<b>EXAMPLES</b>
             htdbm /usr/local/etc/apache/.htdbm-users jsmith



       Adds  or modifies the password for user jsmith. The user is prompted for the password. If executed on
       a Windows system, the password will be encrypted using the modified Apache MD5 algorithm;  otherwise,
       the  system's  crypt() routine will be used. If the file does not exist, htdbm will do nothing except
       return an error.


             htdbm -c /home/doe/public_html/.htdbm jane



       Creates a new file and stores a record in it for user jane. The user is prompted for the password. If
       the  file exists and cannot be read, or cannot be written, it is not altered and htdbm will display a
       message and return an error status.


             htdbm -mb /usr/web/.htdbm-all jones Pwd4Steve



       Encrypts the password from the command line (Pwd4Steve) using the MD5 algorithm, and stores it in the
       specified file.


<b>SECURITY</b> <b>CONSIDERATIONS</b>
       Web  password files such as those managed by htdbm should <u>not</u> be within the Web server's URI space --<font color="#ffffff" class="whiteout">that&nbsp;-that</font>
       that is, they should not be fetchable with a browser.


       The use of the -b option is discouraged, since when it is used the unencrypted  password  appears  on
       the command line.


<b>RESTRICTIONS</b>
       On  the  Windows  and  MPE  platforms, passwords encrypted with htdbm are limited to no more than 255
       characters in length. Longer passwords will be truncated to 255 characters.


       The MD5 algorithm used by htdbm is specific to the Apache software; passwords encrypted using it will
       not be usable with other Web servers.


       Usernames are limited to 255 bytes and may not include the character :.




Apache HTTP Server                               2005-03-26                                         HTDBM(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/htdbm.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/htdbm.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/htdbm.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
