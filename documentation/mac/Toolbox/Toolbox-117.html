<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>NewMenu(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING117></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-116.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-118.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-89.html"><B>Chapter 3 - Menu Manager</B></A> / <A HREF="Toolbox-107.html"><B>Menu Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-112.html"><B>Menu Manager Routines</B></A> / <A HREF="Toolbox-116.html"><B>Creating Menus</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING117-0></A>
<H3>NewMenu</H3>
 <A NAME=MARKER-11-501></A><A NAME=MARKER-2-566></A>You can use the <CODE>NewMenu</CODE> function to create an empty menu with a specified title and menu ID. In most cases you should store information about your menus (such as their titles, items, and characteristics) in resources; use the <CODE>GetMenu</CODE> or <CODE>GetNewMBar</CODE> function to create menus from resource definitions. <P>
<PRE>
FUNCTION NewMenu (menuID: Integer; menuTitle: Str255): MenuHandle;
</PRE>
<DL>
<DT><CODE>menuID</CODE>
<DD> The menu ID of the menu. (Note that this is not the resource ID of a <CODE>'MENU'<DFN> </DFN></CODE>resource.) The menu ID is a number that identifies the menu. Use positive menu IDs for menus belonging to your application. Use negative menu IDs for desk accessories (except for submenus of a desk accessory). Submenus must have menu IDs from 1 through 255. For submenus of an application, use menu IDs from 1 through 235; for submenus of a desk accessory, use menu IDs from 236 through 255. Apple reserves the menu ID of 0.
<DT><CODE>menuTitle</CODE>
<DD> The title of the new menu. Note that in most cases you should store <BR>the titles of menus in resources, so that your menu titles can be more easily localized.
</DL>
<A NAME=HEADING117-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>NewMenu</CODE> function creates a menu with the specified title, assigns it the specified menu ID, creates a menu record for the menu, and returns a handle to the menu record. It sets up the menu record to use the standard menu definition procedure (and it reads the standard menu definition procedure into memory if it isn't already there). The <CODE>NewMenu</CODE> function does not insert the newly created menu into the current menu list.<P>
 After creating a menu with <CODE>NewMenu</CODE>, use <CODE>AppendMenu</CODE>, <CODE>InsertMenuItem</CODE>, <CODE>AppendResMenu</CODE>, or <CODE>InsertResMenu</CODE> to add menu items to the menu. To add a menu created by <CODE>NewMenu</CODE> to the current menu list, use the <CODE>InsertMenu</CODE> procedure. To update the menu bar with any new menu titles, use the <CODE>DrawMenuBar</CODE> procedure.<P>
<A NAME=HEADING117-8></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 To release the memory associated with a menu that you created using <CODE>NewMenu</CODE>, first <BR>call <CODE>DeleteMenu</CODE> to remove the menu from the current menu list and to remove any entries for this menu in your application's menu color information table; then call <CODE>DisposeMenu</CODE> to dispose of the menu's menu record. After disposing of a menu, use <CODE>DrawMenuBar</CODE> to update the menu bar.<P>
 If the <CODE>NewMenu</CODE> function is unable to create the menu record, it returns <CODE>NIL</CODE> as its function result.<P>
<A NAME=HEADING117-11></A>
<H5>SEE ALSO</H5>
 For information on how to add items to a menu, see the description of <CODE>AppendMenu</CODE> on <A HREF=Toolbox-144.html#MARKER-9-576>page 3-126</A>, <CODE>InsertMenuItem</CODE> on <A HREF=Toolbox-145.html#MARKER-9-580>page 3-128</A>, <CODE>AppendResMenu</CODE> on <A HREF=Toolbox-147.html#MARKER-9-587>page 3-130</A>, and <CODE>InsertResMenu</CODE> on <A HREF=Toolbox-148.html#MARKER-9-595>page 3-131</A>. For information on <CODE>InsertMenu</CODE>, see <A HREF=Toolbox-120.html#MARKER-9-509>page 3-110</A>. To dispose of a menu, see the description of <CODE>DeleteMenu</CODE> on <A HREF=Toolbox-121.html#MARKER-9-513>page 3-111</A> and <CODE>DisposeMenu</CODE> on <A HREF=Toolbox-164.html#MARKER-9-653>page 3-142</A>. <A NAME=MARKER-2-503></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-116.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-118.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
