<html><head><title>Mac OS X
 Manual Page For newsyslog.conf(5)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/5/newsyslog.conf" title="Mac OS X
 Manual Page for newsyslog.conf(5)"><!-- headerDoc=man; indexgroup=Section 5; uid="//apple_ref/doc/man/5/newsyslog.conf"; name=newsyslog.conf(5) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
NEWSYSLOG.CONF(5)           BSD File Formats Manual          NEWSYSLOG.CONF(5)

<b>NAME</b>
     <b>newsyslog.conf</b> -- <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a> configuration file

<b>DESCRIPTION</b>
     The <b>newsyslog.conf</b> file is used to set log file rotation configuration for the <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a> utility.
     Configuration may designate that logs are rotated based on size, last rotation time, or time of day.
     The <b>newsyslog.conf</b> file can also be used to designate secure permissions to log files at rotation time.
     During initialization, <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a> reads a configuration file, normally <u>/etc/newsyslog.conf</u>, to deter-<font color="#ffffff" class="whiteout">mine&nbsp;determine</font>
     mine which logs may potentially be rotated and archived.  Each line has five mandatory fields and four
     optional fields, separated with whitespace.  Blank lines or lines beginning with `#' are ignored.  If
     `#' is placed in the middle of the line, the `#' character and the rest of the line after it is
     ignored.  To prevent special meaning, the `#' character may be escaped with `\\'; in this case preced-<font color="#ffffff" class="whiteout">ing&nbsp;preceding</font>
     ing `\\' is removed and `#' is treated as an ordinary character.  The fields of the configuration file
     are as follows:

     <u>logfile</u><b>_</b><u>name</u>
             Name of the system log file to be archived, or the literal string ``&lt;default&gt;''.  The special
             default entry will only be used if a log file name is given as a command line argument to
             <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a>, and if that log file name is not matched by any other line in the configuration
             file.

     <u>owner</u>:<u>group</u>
             This optional field specifies the owner and group for the archive file.  The `:' is essential
             regardless if the <u>owner</u> or <u>group</u> field is left blank or contains a value.  The field may be
             numeric, or a name which is present in <u>/etc/passwd</u> or <u>/etc/group</u>.  By default, log files are
             owned by root:admin.

     <u>mode</u>    Specify the file mode of the log file and archives.

     <u>count</u>   Specify the maximum number of archive files which may exist.  This does not consider the cur-<font color="#ffffff" class="whiteout">rent&nbsp;current</font>
             rent log file.

     <u>size</u>    When the size of the log file reaches <u>size</u> in kilobytes, the log file will be trimmed as
             described above.  If this field contains an asterisk (`*'), the log file will not be trimmed
             based on size.

     <u>when</u>    The <u>when</u> field may consist of an interval, a specific time, or both.  If the <u>when</u> field con-<font color="#ffffff" class="whiteout">tains&nbsp;contains</font>
             tains an asterisk (`*'), log rotation will solely depend on the contents of the <u>size</u> field.
             Otherwise, the <u>when</u> field consists of an optional interval in hours, usually followed by an
             `@'-sign and a time in restricted ISO 8601 format.  Additionally, the format may also be con-<font color="#ffffff" class="whiteout">structed&nbsp;constructed</font>
             structed with a `$' sign along with a rotation time specification of once a day, once a week,
             or once a month.

             If a time is specified, the log file will only be trimmed if <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a> is run within one
             hour of the specified time.  If an interval is specified, the log file will be trimmed if that
             many hours have passed since the last rotation.  When both a time and an interval are specified
             then both conditions must be satisfied for the rotation to take place.

             There is no provision for the specification of a timezone.  There is little point in specifying
             an explicit minutes or seconds component in the current implementation, since the only compari-<font color="#ffffff" class="whiteout">son&nbsp;comparison</font>
             son is ``within the hour''.

             <b>ISO</b> <b>8601</b> <b>restricted</b> <b>time</b> <b>format</b>:

             The lead-in character for a restricted ISO 8601 time is an `@' sign.  The particular format of
             the time in restricted ISO 8601 is: [[[[[<u>cc</u>]<u>yy</u>]<u>mm</u>]<u>dd</u>][T[<u>hh</u>[<u>mm</u>[<u>ss</u>]]]]].  Optional date fields
             default to the appropriate component of the current date; optional time fields default to mid-<font color="#ffffff" class="whiteout">night;&nbsp;midnight;</font>
             night; hence if today is January 22, 1999, the following date specifications are all equiva-<font color="#ffffff" class="whiteout">lent:&nbsp;equivalent:</font>
             lent:

                   `19990122T000000'
                   `990122T000000'
                   `0122T000000'
                   `22T000000'
                   `T000000'
                   `T0000'
                   `T00'
                   `22T'
                   `T'
                   `'

             <b>Day,</b> <b>week,</b> <b>and</b> <b>month</b> <b>time</b> <b>format:</b>

             The lead-in character for day, week, and month specification is a `$' sign.  The particular
             format of day, week, and month specification is: [D<u>hh</u>], [W<u>w</u>[D<u>hh</u>]], and [M<u>dd</u>[D<u>hh</u>]], respec-<font color="#ffffff" class="whiteout">tively.&nbsp;respectively.</font>
             tively.  Optional time fields default to midnight.  The ranges for day and hour specifications
             are:

                   <u>hh</u>      hours, range 0..23
                   <u>w</u>       day of week, range 0..6, 0 = Sunday
                   <u>dd</u>      day of month, range 1..31, or one of the letters `L' or `l' to specify the last
                           day of the month.

             Some examples:

                   $D0     rotate every night at midnight (same as @T00)
                   $D23    rotate every day at 23:00 (same as @T23)
                   $W0D23  rotate every week on Sunday at 23:00
                   $W5D16  rotate every week on Friday at 16:00
                   $M1D0   rotate at the first day of every month at midnight (i.e., the start of the day;
                           same as @01T00)
                   $M5D6   rotate on every 5th day of month at 6:00 (same as @05T06)

     <u>flags</u>   This optional field is made up of one or more characters that specify any special processing to
             be done for the log files matched by this line.  The following are valid flags:

             <b>B</b>       indicates that the log file is a binary file, or has some special format.  Usually
                     <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a> inserts an ASCII message into a log file during rotation.  This message is
                     used to indicate when, and sometimes why the log file was rotated.  If <b>B</b> is specified,
                     then that informational message will not be inserted into the log file.

             <b>C</b>       indicates that the log file should be created if it does not already exist, and if the
                     <b>-C</b> option was also specified on the command line.

             <b>D</b>       indicates that <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a> should set the UF_NODUMP flag when creating a new version
                     of this log file.  This option would effect how the <a href="../man8/dump.8.html#//apple_ref/doc/man/8/dump">dump(8)</a> command treats the log file
                     when making a file system backup.

             <b>G</b>       indicates that the specified <u>logfile</u><b>_</b><u>name</u> is a shell pattern, and that <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a>
                     should archive all filenames matching that pattern using the other options on this
                     line.  See <a href="../man3/glob.3.html#//apple_ref/doc/man/3/glob">glob(3)</a> for details on syntax and matching rules.

             <b>J</b>       indicates that <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a> should attempt to save disk space by compressing the
                     rotated log file using <a href="../man1/bzip2.1.html#//apple_ref/doc/man/1/bzip2">bzip2(1)</a>.

             <b>N</b>       indicates that there is no process which needs to be signaled when this log file is
                     rotated.

             <b>U</b>       indicates that the file specified by <u>path</u><b>_</b><u>to</u><b>_</b><u>pid</u><b>_</b><u>file</u> will contain the ID for a process
                     group instead of a process.  This option also requires that the first line in that file
                     be a negative value to distinguish it from a process ID.

             <b>Z</b>       indicates that <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a> should attempt to save disk space by compressing the
                     rotated log file using <a href="../man1/gzip.1.html#//apple_ref/doc/man/1/gzip">gzip(1)</a>.

             <b>-</b>       a minus sign will not cause any special processing, but it can be used as a placeholder
                     to create a <u>flags</u> field when you need to specify any of the following fields.

     <u>path</u><b>_</b><u>to</u><b>_</b><u>pid</u><b>_</b><u>file</u>
             This optional field specifies the file name containing a daemon's process ID or to find a group
             process ID if the <b>U</b> flag was specified.  If this field is present, a <u>signal</u><b>_</b><u>number</u> is sent the
             process ID contained in this file.  If this field is not present, then a SIGHUP signal will be
             sent to <a href="../man8/syslogd.8.html#//apple_ref/doc/man/8/syslogd">syslogd(8)</a>, unless the <b>N</b> flag has been specified.  This field must start with `/' in
             order to be recognized properly.

     <u>signal</u><b>_</b><u>number</u>
             This optional field specifies the signal number that will be sent to the daemon process (or to
             all processes in a process group, if the <b>U</b> flag was specified).  If this field is not present,
             then a SIGHUP signal will be sent.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/bzip2.1.html#//apple_ref/doc/man/1/bzip2">bzip2(1)</a>, <a href="../man1/gzip.1.html#//apple_ref/doc/man/1/gzip">gzip(1)</a>, <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a>, <a href="../man8/chown.8.html#//apple_ref/doc/man/8/chown">chown(8)</a>, <a href="../man8/newsyslog.8.html#//apple_ref/doc/man/8/newsyslog">newsyslog(8)</a>, <a href="../man8/syslogd.8.html#//apple_ref/doc/man/8/syslogd">syslogd(8)</a>

<b>HISTORY</b>
     This manual page first appeared in FreeBSD 4.10.

BSD                              June 3, 2004                              BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man5/newsyslog.conf.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man5/newsyslog.conf.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man5/newsyslog.conf.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
