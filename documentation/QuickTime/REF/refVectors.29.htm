<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Transfer Mode Matrices</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="refVectors.28.htm">Previous</A> | <A HREF="refVectors.1.htm">Chapter Contents</A> | <A HREF="refVectors.htm">Chapter Top</A> | <A HREF="refVectors.2a.htm">Next</A> | <!-- QTnavbar end --><H1 CLASS="H3.Heading3"><A NAME="pgfId=9069"> </A><A NAME="19349"> </A>Transfer Mode Matrices</H1><P CLASS="T1.Text1"><A NAME="pgfId=9071"> </A><A NAME="marker=9070"> </A>QuickDraw GX provides three matrices in the transfer mode structure to give you great freedom in controlling, modifying, and combining source, destination, and result color components when performing a transfer mode operation.</P><P CLASS="T1.Text1"><A NAME="pgfId=9072"> </A>The <B CLASS="bold">source matrix,</B> <B CLASS="bold">device matrix,</B> and <B CLASS="bold">result matrix</B> provide a way of scaling, weighting, swapping, and averaging the components of a color space before or after the transfer mode operation. Each matrix is a 5  4 array that specifies the mixture of each of the (up to 4) components, plus an offset.</P><P CLASS="T1.Text1"><A NAME="pgfId=9073"> </A>An <B CLASS="bold">identity matrix,</B> one that has values of 1.0 along the diagonal and zero values elsewhere, has no effect. Here it is applied to a color in CMYK space:</P><DIV><IMG SRC="refVectors-56.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=9077"> </A>The values for all color components after the matrix multiplication are the same as before. All transfer mode matrices in the default ink object are identity matrices.</P><P CLASS="T1.Text1"><A NAME="pgfId=9078"> </A>The bottom row of the matrix specifies an offset value. The following matrix replaces c&nbsp;with 1/2 c + 1/2 m; it also scales k by 0.8 and adds 0.2 to it:</P><DIV><IMG SRC="refVectors-57.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=9082"> </A>The source and device matrix are applied before the transfer mode calculation and after applying source minimum and source maximum. The result of the transfer mode calculation is run through the result matrix. The use of matrices allows you to apply sophisticated mapping operations--analogous to the scaling, rotation, translation, and distortion of shapes--to the colors involved in a transfer mode operation. Matrices are also used to create color separations, and to map source color ranges to spot colors.</P><P><B>Note</B><BR><A NAME="pgfId=9083"> </A>Although color components are described by unsigned short integers (16-bit positive numbers), the math internal to transfer modes is performed with long integers (32-bit signed numbers) to minimize overflow or roundoff error. As an example, elements in the source matrix could multiply by a large number, and elements in the result matrix could divide by a large number, without creating an overflow condition.  <A NAME="marker=9087"> </A></P><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="refVectors.28.htm">Previous</A> | <A HREF="refVectors.1.htm">Chapter Contents</A> | <A HREF="refVectors.htm">Chapter Top</A> | <A HREF="refVectors.2a.htm">Next</A> | <!-- QTnavbar end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>