<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>File System Overview: Filename Extensions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Filename Extensions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002297" title="Filename Extensions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index-date.html#//apple_ref/doc/uid/TP30000440-TP30000471" target="_top">Mac OS X</a> &gt; <a href="../index.html" target="_top">File System Overview</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="FileSystemGuidelines.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="DisplayNames.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002297-CJBHIHFF" title="Filename Extensions"></a><hr /><H1>Filename Extensions</H1>

<p>Some Macintosh software developers react to filename extensions with dismay. As a means for specifying document type and ownership, extensions seem primitive compared to the type and creator codes and the other rich metadata made possible by the multifork HFS and HFS+ volume formats. However, in the Internet age, documents frequently travel around a heterogeneous network. A document may move from a Macintosh to a Linux network server to a Windows computer. Each computer on this path may have a different notion of what constitutes a document type. </p>
<p>Many computer systems define document types solely by well-known filename extensions (such as <code>.jpg</code>, <code>.mp3</code>, and <code>.html</code>). These systems might not know what to do with a file that has no extension and may treat it as an unknown type. Other systems also have little or no knowledge of the HFS+ file system and the metadata it stores. When transferring files, they might strip out this metadata so that it is irretrievably lost.</p>

<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="FilenameExtensions.html#//apple_ref/doc/uid/20002297-110053">Hiding Filename Extensions</a>
				
			<br/>
			
        
			
			
				<a href="FilenameExtensions.html#//apple_ref/doc/uid/20002297-109946">Supporting Filename Extensions</a>
				
			<br/>
			
        
			
			
				<a href="FilenameExtensions.html#//apple_ref/doc/uid/20002297-110584-BBCHFHAA">Save Dialog Scenarios</a>
				
			<br/>
			
        
			
			
				<a href="FilenameExtensions.html#//apple_ref/doc/uid/20002297-110671">Type Codes and Filename Extensions</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002297-110053" title="Hiding Filename Extensions"></a><h2>Hiding Filename Extensions</h2>
<p>In order to preserve the Macintosh user experience, Mac OS X provides a way to hide filename extensions on a per-file basis. Each file in the file system has a special flag identifying whether its extension is hidden or shown. Users can set this flag based on whether or not they want the filename extension shown. Users can adjust their Finder preferences to hide or show filename extensions for all files, regardless of the settings for individual files.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/20002297-SW1" title="Note"></a><p><strong>Note:</strong>&nbsp;The settings for hiding or showing filename extensions affects only the display name of the file. (For more information on display names, see <span class="content_text"><a href="DisplayNames.html#//apple_ref/doc/uid/20002298-CJBHIHFF">“Display Names.”</a></span>) These settings do not physically change the name of the file in the file system. </p></div>
<a name="//apple_ref/doc/uid/20002297-109946" title="Supporting Filename Extensions"></a><h2>Supporting Filename Extensions</h2>
<p>To ensure platform interoperability and retain the Mac OS X user experience, there are some basic guidelines you should follow to support filename extensions: </p>
<ul class="ul"><li class="li"><p>Make sure all of your document types have an associated filename extension. </p></li>
<li class="li"><p>Use the display name of a file whenever you display files in your user interface. (See <span class="content_text"><a href="DisplayNames.html#//apple_ref/doc/uid/20002298-111592">“Getting Display Names in Your Code”</a></span> for details.)</p></li>
<li class="li"><p>Save dialogs should allow users to control whether to hide filename extensions.</p></li>
<li class="li"><p>Applications should preserve the existing show/hide setting and filename extension when opening or saving a document.</p></li>
<li class="li"><p>Applications should add an appropriate extension when saving a new file or when saving an existing file using the Save As command.</p></li>
<li class="li"><p>Applications should not append an extension or change the show/hide setting of a file that does not have an extension.</p></li>
<li class="li"><p>Applications should display an alert when the user tries to save a file after typing a known, incorrect filename extension. </p></li></ul>
<p>For Carbon applications, you use Navigation Services to create a Save dialog. If you specify the <code>kNavPreserveSaveFileExtension</code> creation option, the dialog preserves and initially hides the filename extension of the default filename. You can also extend your dialog to give the user the choice of showing or hiding filename extensions. If you do, you can use the <code>NavDialogSetSaveFileExtensionHidden</code> function to set the current extension visibility and use the <code>NavDialogGetSaveFileExtensionHidden</code> function to determine the user’s choice. See <span class="content_text"><a href="FilenameExtensions.html#//apple_ref/doc/uid/20002297-110584">“Save Dialog Scenarios”</a></span> for more information on potential scenarios when saving files.</p>
<p>If the user does not type a filename extension in your Save dialog, your dialog code should leave the Hide Extension checkbox enabled. </p>
<p>For Cocoa applications, the NSSavePanel class also provides options for hiding and showing filename extensions. If you want the user to have the option of showing or hiding filename extensions, call the <code>setCanSelectHiddenExtension:</code> method of NSSavePanel prior to displaying the dialog. This method controls the display of a checkbox that enables the user to toggle the extension visibility. You can use the <code>isExtensionHidden</code> method to determine the user’s choice.<a name="//apple_ref/doc/uid/20002297-DontLinkElementID_50"></a></p>
<p>Carbon applications can also modify the visibility of filename extensions outside of Save dialogs using Launch Services. The <code>LSSetExtensionHiddenForRef</code> and <code>LSSetExtensionHiddenForURL</code> functions let you set the visibility of filename extensions using <code>FSRef</code> and <code>CFURLRef</code> types, respectively. Cocoa applications can similarly use the <code>changeFileAttributes:atPath:</code> method of NSFileManager.</p>
<a name="//apple_ref/doc/uid/20002297-110584" title="Save Dialog Scenarios"></a><a name="//apple_ref/doc/uid/20002297-110584-BBCHFHAA" title="Save Dialog Scenarios"></a><h2>Save Dialog Scenarios</h2>
<p>When saving files, there are several scenarios to consider related to hiding and showing filename extensions:</p>
<ul class="ul"><li class="li"><p>What happens when the user types a known, correct extension?</p></li>
<li class="li"><p>What happens when the user types a known, incorrect extension?</p></li>
<li class="li"><p>What happens when the user types no extension or an unknown extension?</p></li></ul>
<p>The first scenario is the easiest to deal with. If the user types a known, correct extension, your dialog code should clear the hide extension flag and corresponding dialog controls. When saving the file, you should set the properties of the file to indicate that the extension should be shown. </p>
<p>For situations where the user types a known, incorrect extension, you should display an alert. In your alert, let the user know that an incorrect extension was entered and suggest a correct extension. The dialog box should then let the user cancel the operation, change the extension, or save the filename with both extensions, that is, with the correct extension appended to the user-entered text.</p>
<p>For situations where the user types no extension or an unknown extension, add an appropriate extension to the filename and mark it as hidden. For example, if the user saves a text document as <code>MyDocument.old</code>, you would create a file named “MyDocument.old.txt” and set the file attributes to indicate the extension is hidden. Thus, the user continues to see the name <code>MyDocument.old</code> in the Finder and in Open and Save dialogs. </p>
<a name="//apple_ref/doc/uid/20002297-110671" title="Type Codes and Filename Extensions"></a><h2>Type Codes and Filename Extensions</h2>
<p>In addition to filename extensions, applications should also set a file type and optionally a creator type for any files they create. Although these type codes are not strictly necessary, they do ensure interoperability with applications in the Classic environment. If a given file already has a file type or creator type, you should preserve that information. </p>
<p>Applications may set a creator type for documents they create. Doing so creates a tight binding between the document and the application that created it. Applications should not quietly change the creator type for documents that already have one. If you want to change the creator type of documents your application opens, your application should post a Save dialog when the user saves the file. This gives the user an opportunity to rename the file as needed. You might need to do this if editing a document in your application changes the type of the file. In this case, you should also assign an appropriate filename extension to the file in the Save dialog.</p>
<p>Applications that are not a primary editor for documents of a given type should not set a creator type for those documents. For example, an Internet browser may download and save files of many different types, but that does not mean it owns all of those files. </p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="FileSystemGuidelines.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="DisplayNames.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-07-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MacOSX/Conceptual/BPFileSystem/Articles/FilenameExtensions.html%3Fid%3D10000185i-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MacOSX/Conceptual/BPFileSystem/Articles/FilenameExtensions.html%3Fid%3D10000185i-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MacOSX/Conceptual/BPFileSystem/Articles/FilenameExtensions.html%3Fid%3D10000185i-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
