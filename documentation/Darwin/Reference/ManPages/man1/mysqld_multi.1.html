<html><head><title>Mac OS X Server
 Manual Page For mysqld_multi(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/mysqld_multi" title="Mac OS X Server
 Manual Page for mysqld_multi(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/mysqld_multi"; name=mysqld_multi(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with Mac&nbsp;OS&nbsp;X&nbsp;Server.  It is
not available on standard Mac OS X (client) installations.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
<b>MYSQLD_MULTI</b>(1)                             MySQL Database System                            <b>MYSQLD_MULTI</b>(1)



<b>NAME</b>
       mysqld_multi - manage multiple MySQL servers

<b>SYNOPSIS</b>
       <b>mysqld_multi</b> <b>[</b><u>options</u><b>]</b> <b>{start|stop|report}</b> <b>[</b><u>GNR</u><b>[,</b><u>GNR</u><b>]</b> <b>...]</b>

<b>DESCRIPTION</b>
       <b>mysqld_multi</b> is designed to manage several <b>mysqld</b> processes that listen for connections on different
       Unix socket files and TCP/IP ports. It can start or stop servers, or report their current status. The
       MySQL Instance Manager is an alternative means of managing multiple servers (see <a href="../man8/mysqlmanager.8.html#//apple_ref/doc/man/8/mysqlmanager"><b>mysqlmanager</b>(8)</a>).

       <b>mysqld_multi</b> searches for groups named [mysqld<u>N</u>] in <u>my.cnf</u> (or in the file named by the <b>--config-file</b>
       option).  <u>N</u> can be any positive integer. This number is referred to in the following discussion as
       the option group number, or <u>GNR</u>. Group numbers distinguish option groups from one another and are
       used as arguments to <b>mysqld_multi</b> to specify which servers you want to start, stop, or obtain a
       status report for. Options listed in these groups are the same that you would use in the [mysqld]
       group used for starting <b>mysqld</b>. (See, for example, Section 4.15.2.2, "Starting and Stopping MySQL
       Automatically".) However, when using multiple servers, it is necessary that each one use its own
       value for options such as the Unix socket file and TCP/IP port number. For more information on which
       options must be unique per server in a multiple-server environment, see Section 10, "Running Multiple
       MySQL Servers on the Same Machine".

       To invoke <b>mysqld_multi</b>, use the following syntax:

          shell&gt; <b>mysqld_multi</b> <b>[</b><u>options</u><b>]</b> <b>{start|stop|report}</b> <b>[</b><u>GNR</u><b>[,</b><u>GNR</u><b>]</b> <b>...]</b>

       start, stop, and report indicate which operation to perform. You can perform the designated operation
       for a single server or multiple servers, depending on the <u>GNR</u> list that follows the option name. If
       there is no list, <b>mysqld_multi</b> performs the operation for all servers in the option file.

       Each <u>GNR</u> value represents an option group number or range of group numbers. The value should be the
       number at the end of the group name in the option file. For example, the <u>GNR</u> for a group named
       [mysqld17] is 17. To specify a range of numbers, separate the first and last numbers by a dash. The
       <u>GNR</u> value 10-13 represents groups [mysqld10] through [mysqld13]. Multiple groups or group ranges can
       be specified on the command line, separated by commas. There must be no whitespace characters (spaces
       or tabs) in the <u>GNR</u> list; anything after a whitespace character is ignored.

       This command starts a single server using option group [mysqld17]:

          shell&gt; <b>mysqld_multi</b> <b>start</b> <b>17</b>

       This command stops several servers, using option groups [mysqld8] and [mysqld10] through [mysqld13]:

          shell&gt; <b>mysqld_multi</b> <b>stop</b> <b>8,10-13</b>

       For an example of how you might set up an option file, use this command:

          shell&gt; <b>mysqld_multi</b> <b>--example</b>

       <b>mysqld_multi</b> supports the following options:

         <b>--help</b>

          Display a help message and exit.

         <b>--config-file=</b><u>file</u><b>_</b><u>name</u>

          Specify the name of an alternative option file. This affects where <b>mysqld_multi</b> looks for
          [mysqld<u>N</u>] option groups. Without this option, all options are read from the usual <u>my.cnf</u> file. The
          option does not affect where <b>mysqld_multi</b> reads its own options, which are always taken from the
          [mysqld_multi] group in the usual <u>my.cnf</u> file.

         <b>--example</b>

          Display a sample option file.

         <b>--log=</b><u>file</u><b>_</b><u>name</u>

          Specify the name of the log file. If the file exists, log output is appended to it.

         <b>--mysqladmin=</b><u>prog</u><b>_</b><u>name</u>

          The <b>mysqladmin</b> binary to be used to stop servers.

         <b>--mysqld=</b><u>prog</u><b>_</b><u>name</u>

          The <b>mysqld</b> binary to be used. Note that you can specify <b>mysqld_safe</b> as the value for this option
          also. If you use <b>mysqld_safe</b> to start the server, you can include the mysqld or ledir options in
          the corresponding [mysqld<u>N</u>] option group. These options indicate the name of the server that
          <b>mysqld_safe</b> should start and the pathname of the directory where the server is located. (See the
          descriptions for these options in <a href="mysqld_safe.1.html#//apple_ref/doc/man/1/mysqld_safe"><b>mysqld_safe</b>(1)</a>.) Example:

          [mysqld38]
          mysqld = mysqld-debug
          ledir  = /opt/local/mysql/libexec

         <b>--no-log</b>

          Print log information to stdout rather than to the log file. By default, output goes to the log
          file.

         <b>--password=</b><u>password</u>

          The password of the MySQL account to use when invoking <b>mysqladmin</b>. Note that the password value is
          not optional for this option, unlike for other MySQL programs.

         <b>--silent</b>

          Silent mode; disable warnings.

         <b>--tcp-ip</b>

          Connect to each MySQL server via the TCP/IP port instead of the Unix socket file. (If a socket
          file is missing, the server might still be running, but accessible only via the TCP/IP port.) By
          default, connections are made using the Unix socket file. This option affects stop and report
          operations.

         <b>--user=</b><u>user</u><b>_</b><u>name</u>

          The username of the MySQL account to use when invoking <b>mysqladmin</b>.

         <b>--verbose</b>

          Be more verbose.

         <b>--version</b>

          Display version information and exit.


       Some notes about <b>mysqld_multi</b>:

         <b>Most</b> <b>important</b>: Before using <b>mysqld_multi</b> be sure that you understand the meanings of the options
          that are passed to the <b>mysqld</b> servers and <u>why</u> you would want to have separate <b>mysqld</b> processes.
          Beware of the dangers of using multiple <b>mysqld</b> servers with the same data directory. Use separate
          data directories, unless you <u>know</u> what you are doing. Starting multiple servers with the same data
          directory does <u>not</u> give you extra performance in a threaded system. See Section 10, "Running
          Multiple MySQL Servers on the Same Machine".

         <b>Important</b>: Make sure that the data directory for each server is fully accessible to the Unix
          account that the specific <b>mysqld</b> process is started as.  <u>Do</u> <u>not</u> use the Unix <u>root</u> account for
          this, unless you <u>know</u> what you are doing. See Section 4.5, "How to Run MySQL as a Normal User".

         Make sure that the MySQL account used for stopping the <b>mysqld</b> servers (with the <b>mysqladmin</b>
          program) has the same username and password for each server. Also, make sure that the account has
          the SHUTDOWN privilege. If the servers that you want to manage have different usernames or
          passwords for the administrative accounts, you might want to create an account on each server that
          has the same username and password. For example, you might set up a common multi_admin account by
          executing the following commands for each server:

          shell&gt; <b>mysql</b> <b>-u</b> <b>root</b> <b>-S</b> <b>/tmp/mysql.sock</b> <b>-p</b>
          Enter password:
          mysql&gt; <b>GRANT</b> <b>SHUTDOWN</b> <b>ON</b> <b>*.*</b>
              -&gt; <b>TO</b> <b>'multi_admin'@'localhost'</b> <b>IDENTIFIED</b> <b>BY</b> <b>'multipass';</b>
       See Section 5.2, "How the Privilege System Works". You have to do this for each <b>mysqld</b> server. Change
       the connection parameters appropriately when connecting to each one. Note that the hostname part of
       the account name must allow you to connect as multi_admin from the host where you want to run
       <b>mysqld_multi</b>.

         The Unix socket file and the TCP/IP port number must be different for every <b>mysqld</b>.

         The <b>--pid-file</b> option is very important if you are using <b>mysqld_safe</b> to start <b>mysqld</b> (for example,
          <b>--mysqld=mysqld_safe</b>) Every <b>mysqld</b> should have its own process ID file. The advantage of using
          <b>mysqld_safe</b> instead of <b>mysqld</b> is that <b>mysqld_safe</b> monitors its <b>mysqld</b> process and restarts it if
          the process terminates due to a signal sent using kill -9 or for other reasons, such as a
          segmentation fault. Please note that the <b>mysqld_safe</b> script might require that you start it from a
          certain place. This means that you might have to change location to a certain directory before
          running <b>mysqld_multi</b>. If you have problems starting, please see the <b>mysqld_safe</b> script. Check
          especially the lines:

          ----------------------------------------------------------------<font color="#ffffff" class="whiteout">MY_PWD=`pwd`&nbsp;---------------------------------------------------------------MY_PWD=`pwd`</font>
          MY_PWD=`pwd`
          # Check if we are starting this relative (for the binary release)
          if test -d $MY_PWD/data/mysql -a -f ./share/mysql/english/errmsg.sys -a \
           -x ./bin/mysqld
          ----------------------------------------------------------------<font color="#ffffff" class="whiteout">The&nbsp;---------------------------------------------------------------The</font>
       The test performed by these lines should be successful, or you might encounter problems. See
       <a href="mysqld_safe.1.html#//apple_ref/doc/man/1/mysqld_safe"><b>mysqld_safe</b>(1)</a>.

         You might want to use the <b>--user</b> option for <b>mysqld</b>, but to do this you need to run the
          <b>mysqld_multi</b> script as the Unix root user. Having the option in the option file doesn't matter;
          you just get a warning if you are not the superuser and the <b>mysqld</b> processes are started under
          your own Unix account.


       The following example shows how you might set up an option file for use with <b>mysqld_multi</b>. The order
       in which the <b>mysqld</b> programs are started or stopped depends on the order in which they appear in the
       option file. Group numbers need not form an unbroken sequence. The first and fifth [mysqld<u>N</u>] groups
       were intentionally omitted from the example to illustrate that you can have "gaps" in the option
       file. This gives you more flexibility.

          # This file should probably be in your home dir (~/.my.cnf)
          # or /etc/my.cnf
          # Version 2.1 by Jani Tolonen
          [mysqld_multi]
          mysqld     = /usr/local/bin/mysqld_safe
          mysqladmin = /usr/local/bin/mysqladmin
          user       = multi_admin
          password   = multipass
          [mysqld2]
          socket     = /tmp/mysql.sock2
          port       = 3307
          pid-file   = /usr/local/mysql/var2/hostname.pid2
          datadir    = /usr/local/mysql/var2
          language   = /usr/local/share/mysql/english
          user       = john
          [mysqld3]
          socket     = /tmp/mysql.sock3
          port       = 3308
          pid-file   = /usr/local/mysql/var3/hostname.pid3
          datadir    = /usr/local/mysql/var3
          language   = /usr/local/share/mysql/swedish
          user       = monty
          [mysqld4]
          socket     = /tmp/mysql.sock4
          port       = 3309
          pid-file   = /usr/local/mysql/var4/hostname.pid4
          datadir    = /usr/local/mysql/var4
          language   = /usr/local/share/mysql/estonia
          user       = tonu
          [mysqld6]
          socket     = /tmp/mysql.sock6
          port       = 3311
          pid-file   = /usr/local/mysql/var6/hostname.pid6
          datadir    = /usr/local/mysql/var6
          language   = /usr/local/share/mysql/japanese
          user       = jani

       See Section 3.2, "Using Option Files".

<b>COPYRIGHT</b>
       Copyright 1997-2007 MySQL AB

       This documentation is NOT distributed under a GPL license. Use of this documentation is subject to
       the following terms: You may create a printed copy of this documentation solely for your own personal
       use. Conversion to other formats is allowed as long as the actual content is not altered or edited in
       any way. You shall not publish or distribute this documentation in any form or on any media, except
       if you distribute the documentation in a manner similar to how MySQL disseminates it (that is,
       electronically for download on a Web site with the software) or on a CD-ROM or similar medium,
       provided however that the documentation is disseminated together with the software on the same
       medium. Any other use, such as any dissemination of printed copies or use of this documentation, in
       whole or in part, in another publication, requires the prior written consent from an authorized
       representative of MySQL AB. MySQL AB reserves any and all rights to this documentation not expressly
       granted above.

       Please email &lt;docs@mysql.com&gt; for more information.

<b>SEE</b> <b>ALSO</b>
       For more information, please refer to the MySQL Reference Manual, which may already be installed
       locally and which is also available online at <a href="http://dev.mysql.com/doc/">http://dev.mysql.com/doc/</a>

<b>AUTHOR</b>
       MySQL AB (<a href="http://www.mysql.com/)">http://www.mysql.com/)</a>  This software comes with no warranty.



MySQL 5.0                                        07/04/2007                                  <b>MYSQLD_MULTI</b>(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/mysqld_multi.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/mysqld_multi.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/mysqld_multi.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
