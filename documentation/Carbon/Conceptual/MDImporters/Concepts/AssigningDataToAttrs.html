<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Spotlight Importer Programming Guide: Assigning Values to Metadata Attributes</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Assigning Values to Metadata Attributes"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001837" title="Assigning Values to Metadata Attributes"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../FileManagement-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000448" target="_top">File Management</a> &gt; <a href="../index.html" target="_top">Spotlight Importer Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="Importers.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="SchemaRef.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40001837-CJBEJBHH" title="Assigning Values to Metadata Attributes"></a><hr /><H1>Assigning Values to Metadata Attributes</H1><p>Spotlight defines standard metadata attributes that provide a wide range of options for storing your document's metadata. In order for users to be able to find data easily, it is important to use existing keys whenever possible. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="AssigningDataToAttrs.html#//apple_ref/doc/uid/TP40001837-221440">Spotlight’s Metadata Attributes</a>
				
			<br/>
			
        
			
			
				<a href="AssigningDataToAttrs.html#//apple_ref/doc/uid/TP40001837-DontLinkElementID_1">Localizing Metadata Attribute Values</a>
				
			<br/>
			
        
			
			
				<a href="AssigningDataToAttrs.html#//apple_ref/doc/uid/TP40001837-221562">Defining Custom Attributes</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001837-221440" title="Spotlight&acirc;&#128;&#153;s Metadata Attributes"></a><h2>Spotlight’s Metadata Attributes</h2><p>Spotlight provides predefined metadata attributes for the following:</p><ul class="ul"><li class="li"><p>File system attributes. For example, file size, owner, and modification date. These are extracted from the file system automatically by Spotlight.</p></li><li class="li"><p>Image related attributes. For example, bits per sample, color space, pixel height, and width.</p></li><li class="li"><p>Video related attributes. For example, codec, video bit rate, and audio bit rate.</p></li><li class="li"><p>Audio related attributes. For example, sample rate, track number, composer, and time signature.</p></li><li class="li"><p>Attributes common to many applications. For example, authors, city, organization, email addresses, and headline.</p></li></ul><p>The Spotlight provided metadata attributes are documented in <em><!--a target="_top" -->Spotlight Metadata Attributes Reference<!--/a--></em>.</p><p>In addition to the data-specific attributes Spotlight provides a general text attribute (<code>kMDItemTextContent</code>) that importers can populate with a text representation of a document's content. Applications can create queries that reference this attribute, but are not able to read the value of this attribute directly.</p><p>You should avoid creating new metadata attributes if an existing key would be appropriate. For example, if your document tracks the photographer of an image, use the <code>kMDItemAuthors</code> attribute rather than defining a custom photographer key. Or, if your document includes a company name, use the <code>kMDItemOrganizations</code> attribute.</p><p>See <span class="content_text"><a href="WritingAnImp.html#//apple_ref/doc/uid/TP40001275-208147">“Assigning Values to Metadata Attributes”</a></span> in <span class="content_text"><a href="WritingAnImp.html#//apple_ref/doc/uid/TP40001275-CJBEJBHH">“Writing a Spotlight Importer”</a></span> for an example of how to assign values to metadata attributes.</p><a name="//apple_ref/doc/uid/TP40001837-DontLinkElementID_1" title="Localizing Metadata Attribute Values"></a><h2>Localizing Metadata Attribute Values</h2><p>A Spotlight importer can provide localized values for an attribute by returning a dictionary object instead of a string value. The dictionary must contain keys that correspond to the localized languages. For example “en” for English, “fr” for French, etc. The value for each key should be the corresponding localized attribute value.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001837-DontLinkElementID_5" title="Note"></a><p><strong>Note:</strong>&nbsp;In Mac OS X v10.4 only attributes that return a single string value can provide localized attribute values. Attributes that return multiple values in an array can not be localized.</p></div><a name="//apple_ref/doc/uid/TP40001837-221562" title="Defining Custom Attributes"></a><h2>Defining Custom Attributes</h2><p>If none of the existing Spotlight attributes are appropriate or adaptable to your metadata, you can define a custom metadata attribute. An importer specifies the name of the custom attribute, as well as the type of data it contains, in its <code>schema.xml</code> file.</p><a name="//apple_ref/doc/uid/TP40001837-221599" title="Attribute Naming Conventions"></a><h3>Attribute Naming Conventions</h3><p>Custom metadata attributes must have unique names. To ensure this you use the reverse DNS naming convention as a prefix for keys that are specific to your document types, replacing “.” with “_” characters. For example, the Mail program would prefix its custom attributes with <code>com_apple_mail</code>.</p><a name="//apple_ref/doc/uid/TP40001837-221645" title="Defining the Value Object Type"></a><h3>Defining the Value Object Type</h3><p>You must specify the type of object that is returned in your custom attribute. The supported types are: CFString, CFNumber, CFBoolean, and CFDate.</p><a name="//apple_ref/doc/uid/TP40001837-221668" title="Returning Multiple Values in an Attribute"></a><h3>Returning Multiple Values in an Attribute</h3><p>Attributes that return an array of objects rather than a single object are said to be multivalued. If your custom attributes can contain multiple objects, you should declare them as multivalue in your importer's schema file and always return an array, even if it contains only a single instance.</p><a name="//apple_ref/doc/uid/TP40001837-221704" title="Attribute Display Names and Descriptions"></a><h3>Attribute Display Names and Descriptions</h3><p>Spotlight importers that declare custom metadata attributes should also provide a display name and description for each attribute. These strings are contained in the file <code>schema.strings</code> in your importer bundle.</p><p>The file must be UTF-16 text encoded formatted as a standard strings file. The display name keys correspond to the custom metadata attribute’s name. The description string is specified by appending “<code>.Description</code>” to the key name. <span class="content_text">Listing 1</span> shows a sample schema.strings file.</p><a name="//apple_ref/doc/uid/TP40001837-221737-BABFHJBG" title="Listing 1Sample importer&acirc;&#128;&#153;s schema.strings file"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40001837-221737" title="Listing 1Sample importer&acirc;&#128;&#153;s schema.strings file"></a><strong>Listing 1&nbsp;&nbsp;</strong>Sample importer’s schema.strings file</p><div class="codesample"><table><tr><td scope="row"><pre>"com_apple_myCocoaDocumentApp_myCustomDocument_notes" = "Notes";<span></span></pre></td></tr><tr><td scope="row"><pre>"com_apple_myCocoaDocumentApp_myCustomDocument_notes.Description" = "What it is you're supposed to remember.";<span></span></pre></td></tr></table></div><p>You can localize <code>schema.strings</code> files using the standard conventions.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="Importers.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="SchemaRef.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-05-27<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/MDImporters/Concepts/AssigningDataToAttrs.html%3Fid%3DTP40001267-1.9&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/MDImporters/Concepts/AssigningDataToAttrs.html%3Fid%3DTP40001267-1.9&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/MDImporters/Concepts/AssigningDataToAttrs.html%3Fid%3DTP40001267-1.9&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
