<html><head><title>Mac OS X
 Manual Page For setgroupent(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/setgroupent" title="Mac OS X
 Manual Page for setgroupent(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/setgroupent"; name=setgroupent(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
GETGRENT(3)              BSD Library Functions Manual              <!-- a -->GETGRENT(3)<!-- /a -->

<b>NAME</b>
     <b>endgrent</b>, <b>getgrent</b>, <b>getgrgid</b>, <b>getgrgid_r</b>, <b>getgrnam</b>, <b>getgrnam_r</b>, <b>setgrent</b>, <b>setgroupent</b> -- group database
     operations

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;grp.h&gt;</b>

     <u>void</u>
     <b>endgrent</b>(<u>void</u>);

     <u>struct</u> <u>group</u> <u>*</u>
     <b>getgrent</b>(<u>void</u>);

     <u>struct</u> <u>group</u> <u>*</u>
     <b>getgrgid</b>(<u>gid</u><b>_</b><u>t</u> <u>gid</u>);

     <u>int</u>
     <b>getgrgid_r</b>(<u>gid</u><b>_</b><u>t</u> <u>gid</u>, <u>struct</u> <u>group</u> <u>*grp</u>, <u>char</u> <u>*buffer</u>, <u>size</u><b>_</b><u>t</u> <u>bufsize</u>, <u>struct</u> <u>group</u> <u>**result</u>);

     <u>struct</u> <u>group</u> <u>*</u>
     <b>getgrnam</b>(<u>const</u> <u>char</u> <u>*name</u>);

     <u>int</u>
     <b>getgrnam_r</b>(<u>const</u> <u>char</u> <u>*name</u>, <u>struct</u> <u>group</u> <u>*grp</u>, <u>char</u> <u>*buffer</u>, <u>size</u><b>_</b><u>t</u> <u>bufsize</u>, <u>struct</u> <u>group</u> <u>**result</u>);

     <u>void</u>
     <b>setgrent</b>(<u>void</u>);

     <u>int</u>
     <b>setgroupent</b>(<u>int</u> <u>stayopen</u>);

<b>DESCRIPTION</b>
     These functions operate on the group database file <u>/etc/group</u>, which is described in <a href="../man5/group.5.html#//apple_ref/doc/man/5/group">group(5)</a>.  Each
     line of the database is defined by the structure <u>group</u>, found in the include file &lt;<u>grp.h&gt;</u>:

           struct group {
                   char    *gr_name;       /* group name */
                   char    *gr_passwd;     /* group password */
                   int     gr_gid;         /* group id */
                   char    **gr_mem;       /* group members */
           };

     The functions <b>getgrnam</b>() and <b>getgrgid</b>() search the group database for the given group name (pointed to
     by <u>name</u>) or the group id (pointed to by <u>gid</u>), respectively, returning the first one encountered.  Iden-<font color="#ffffff" class="whiteout">tical&nbsp;Identical</font>
     tical group names or group ids may result in undefined behavior.

     All of these routines are thread-safe.  The <b>getgrent</b>(), <b>getgrgid</b>(), and <b>getgrnam</b>() routines return a
     pointer to a result managed by the system library in a thread-specific data structure.  Every thread
     has space for a pointer to a struct group and allocates its own storage for the result.  Neither previ-<font color="#ffffff" class="whiteout">ously&nbsp;previously</font>
     ously returned values in memory nor a previously returned pointer value should be used by a thread
     after calling any one of these three routines.  Memory allocated by a thread is automatically released
     on subsequent calls by the same thread to any of these three routines, and when the thread exits.

     The functions <b>getgrgid_r</b>() and <b>getgrnam_r</b>() take additional arguments which supply storage space for
     the returned result.  The <u>grp</u> parameter is a pointer to a struct group, which must be allocated by the
     caller.  The <u>buffer</u> parameter is a pointer to a block of memory with a size specified by <u>bufsize</u>.  This
     buffer is used to hold the values which are pointed to by values filled in the <u>grp</u> structure.  Zero is
     returned on success.  If insufficient memory is supplied, these routines return ERANGE.

     The <b>getgrent</b>() function sequentially reads the group database and is intended for programs that wish to
     step through the complete list of groups.

     All three routines will open the group file for reading, if necessary.

     The <b>setgroupent</b>() function opens the file, or rewinds it if it is already open.  If <u>stayopen</u> is non-<font color="#ffffff" class="whiteout">zero,&nbsp;nonzero,</font>
     zero, file descriptors are left open, significantly speeding functions' subsequent calls.  This func-<font color="#ffffff" class="whiteout">tionality&nbsp;functionality</font>
     tionality is unnecessary for <b>getgrent</b>(), as it doesn't close its file descriptors by default.  It
     should also be noted that it is dangerous for long-running programs to use this functionality, as the
     group file may be updated.

     The <b>setgrent</b>() function is identical to <b>setgroupent</b>() with an argument of zero.

     The <b>endgrent</b>() function closes any open files.

<b>RETURN</b> <b>VALUES</b>
     The functions <b>getgrent</b>(), <b>getgrgid</b>(), and <b>getgrnam</b>() each return a pointer to the group entry if suc-<font color="#ffffff" class="whiteout">cessful;&nbsp;successful;</font>
     cessful; if end-of-file is reached or an error occurs, a null pointer is returned.  The function
     <b>setgroupent</b>() returns the value 1 if successful; otherwise, the value 0 is returned.  The functions
     <b>endgrent</b>(), <b>setgrent</b>(), and <b>setgrfile</b>() have no return value.

<b>FILES</b>
     /etc/group  group database file

<b>LEGACY</b> <b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;grp.h&gt;</b>

     <u>int</u>
     <b>setgrent</b>(<u>void</u>);

     The function <b>setgrent</b>() returns the value 1 if successful; otherwise, the value 0 is returned.

<b>SEE</b> <b>ALSO</b>
     <a href="getpwent.3.html#//apple_ref/doc/man/3/getpwent">getpwent(3)</a>, <a href="../man8/yp.8.html#//apple_ref/doc/man/8/yp">yp(8)</a>, <a href="../man5/group.5.html#//apple_ref/doc/man/5/group">group(5)</a>

<b>HISTORY</b>
     The functions <b>endgrent</b>(), <b>getgrent</b>(), <b>getgrnam</b>(), <b>getgrgid</b>(), and <b>setgrent</b>() appeared in Version 7 AT&amp;T
     UNIX.  The functions <b>setgrfile</b>() and <b>setgroupent</b>() appeared in 4.3BSD-Reno.

<b>COMPATIBILITY</b>
     The historic function <b>setgrfile</b>(), which allowed the specification of alternate password databases, has
     been deprecated and is no longer available.

<b>BUGS</b>
     The functions <b>getgrent</b>(), <b>getgrnam</b>(), and <b>getgrgid</b>(), leave their results in internal thread-specific
     memory and return a pointer to that object.  Subsequent calls to any of these three routines by the
     same thread will release the object and return a new pointer value.

BSD                           September 29, 1994                           BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/setgroupent.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/setgroupent.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/setgroupent.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
