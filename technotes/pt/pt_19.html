<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note PT19: Life With Font/DA Mover--Desk Accessories</title>                                       <meta name="categories" content="Platforms and Tools"><meta name="week-posted" content="Apr 1, 1985 - Apr 5, 1985"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002673" title="Life With Font/DA Mover--Desk Accessories"></a><a name="top"></A><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note PT19</div>
<div id="pageheadsub">Life With Font/DA Mover--Desk Accessories</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->										<p id="menutext"><A HREF="#Section1">Introduction</A><BR><BR><A HREF="#Section2">Embedded resources known by Font/DA Mover</A><BR><BR><A HREF="#Section3">By the way...</A><BR><BR><A HREF="#References">References</A><BR><BR><A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><p id="introtext">This technical note describes how to make sure that your desk accessory willwork after being moved by Font/Desk Accessory Mover.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Apr 01 1985]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR>          <!-- begin_content --><a name=Section1></A> <h2>Introduction</h2><p>If you want your desk accessory to work properly after being moved by theFont/DA Mover, there are some eccentricities that you need to be aware of. Whenthe Font/DA Mover moves a desk accessory, it renumbers to avoid conflicts in IDnumbers. It will also renumber all of your desk accessory's owned resources.See the Resource Manager chapter of <i>Inside Macintosh</i> for moreinformation on owned resources.</p><p>Since these owned resources are renumbered, your code will need to calculatethe resource ID of any owned resource it uses. For example, if your deskaccessory has an owned 'DLOG' resource, and calls <code>GetNewDialog</code> withthe ID you assigned to it originally, the Resource Manager will not find it.The solution is that every time your desk accessory references an ownedresource, it must figure out (at execution time) the ID of the resourceaccording to the current driver resource ID.</p><p>When the Font/DA Mover renumbers, it does its best to keep resources pointingto each other properly. This means that it tries to renumber resource IDsembedded in other resources as well as the resources themselves. For example,the reference to a <code>'DITL'</code> within a <code>'DLOG'</code> or <code>'ALRT'</code> resource gets changedautomatically. Font/DA Mover knows about the standard embedded resource IDs inmost of the standard resources, but if you define your own, the Font/DA Moverwon't be able to renumber them for you. The embedded resource IDs which theFont/DA Mover knows about are listed below.</p><p>Note that certain resources can never be owned, because their resource IDs arerestricted to a certain range. One such example is a WDEF. Since the ID of aWDEF is specified along with a four bit variation code, the range of WDEF IDsthat can be used is 0-16363. Since none of this falls within the owned resourceID range, WDEFs cannot be owned. For the same reason, MDEFs, CDEFs, and MBDFscan't be owned either.</p><p>As a rule of thumb, before you ship a desk accessory, move it to a disk withanother desk accessory of the same ID. This will cause the Font/DA Mover torenumber your desk accessory. If the moved copy doesn't work, then there isprobably something wrong with the way you are handling your owned resources.</p> <P><A HREF="#top">Back to top</A></p> <a name="Section2"></a><h2>Embedded resources known by Font/DA Mover</h2><p>These are all true for Font/DA Mover 3.3 and newer:</p><ul type="disc">	<li>references to <code>'DITL'</code> resources in <code>'DLOG'/'ALRT'</code> resources</li>	<li>references to <code>'ICON'</code>, <code>'PICT'</code>, <code>'CTRL'</code> in <code>'DITL'</code> resources</li>	<li>references to <code>'MENU'</code> resources inside the resources themselves (<code>menuID</code> field)</li>	<li>references to <code>'MENU'</code> resources in <code>'MBAR'</code> resources</li></ul><p>Anything not on this list has to be fixed by the desk accessory.</p> <P><A HREF="#top">Back to top</A></p> <a name="Section3"></a><h2>By the way...</h2><p>Before Font/DA Mover, desk accessories could have an ID in the range 12 to 31.Now, and in the future, desk accessories can only have IDs in the range 12 to26, because Font/DA Mover will only assign numbers in this range. Numbers 27thru 31 are reserved.</p><a name="References"></a> <P><A HREF="#top">Back to top</A></p><h2>References</h2><P>   The Resource Manager</p><P>   <A HREF = "../tb/tb_20.html">M.TB.OwnedResources    </a></p>         <a name=Downloads></A>                   <P><A HREF="#top">Back to top</A></p><h2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/pt_19.pdf">Download</A></P>               </TD>            </TR>                    </TABLE>         <BR></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/pt/pt_19.html%3Fid%3DDTS10002673-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/pt/pt_19.html%3Fid%3DDTS10002673-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/pt/pt_19.html%3Fid%3DDTS10002673-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>