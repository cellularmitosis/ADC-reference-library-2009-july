<html><head><title>Mac OS X
 Manual Page For sshd(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/sshd" title="Mac OS X
 Manual Page for sshd(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/sshd"; name=sshd(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SSHD(8)                   BSD System Manager's Manual                  SSHD(8)

<b>NAME</b>
     <b>sshd</b> -- OpenSSH SSH daemon

<b>SYNOPSIS</b>
     <b>sshd</b> [<b>-46Ddeiqt</b>] [<b>-b</b> <u>bits</u>] [<b>-f</b> <u>config</u><b>_</b><u>file</u>] [<b>-g</b> <u>login</u><b>_</b><u>grace</u><b>_</b><u>time</u>] [<b>-h</b> <u>host</u><b>_</b><u>key</u><b>_</b><u>file</u>] [<b>-k</b> <u>key</u><b>_</b><u>gen</u><b>_</b><u>time</u>]
          [<b>-o</b> <u>option</u>] [<b>-p</b> <u>port</u>] [<b>-u</b> <u>len</u>]

<b>DESCRIPTION</b>
     <b>sshd</b> (OpenSSH Daemon) is the daemon program for <a href="../man1/ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a>.  Together these programs replace rlogin and
     rsh, and provide secure encrypted communications between two untrusted hosts over an insecure network.

     <b>sshd</b> listens for connections from clients.  It is normally started at boot from <u>/etc/rc</u>.  It forks a
     new daemon for each incoming connection.  The forked daemons handle key exchange, encryption, authenti-<font color="#ffffff" class="whiteout">cation,&nbsp;authentication,</font>
     cation, command execution, and data exchange.

     <b>sshd</b> can be configured using command-line options or a configuration file (by default <a href="../man5/sshd_config.5.html#//apple_ref/doc/man/5/sshd_config">sshd_config(5)</a>);
     command-line options override values specified in the configuration file.  <b>sshd</b> rereads its configura-<font color="#ffffff" class="whiteout">tion&nbsp;configuration</font>
     tion file when it receives a hangup signal, SIGHUP, by executing itself with the name and options it
     was started with, e.g. <u>/usr/sbin/sshd</u>.

     The options are as follows:

     <b>-4</b>      Forces <b>sshd</b> to use IPv4 addresses only.

     <b>-6</b>      Forces <b>sshd</b> to use IPv6 addresses only.

     <b>-b</b> <u>bits</u>
             Specifies the number of bits in the ephemeral protocol version 1 server key (default 768).

     <b>-D</b>      When this option is specified, <b>sshd</b> will not detach and does not become a daemon.  This allows
             easy monitoring of <b>sshd</b>.

     <b>-d</b>      Debug mode.  The server sends verbose debug output to the system log, and does not put itself
             in the background.  The server also will not fork and will only process one connection.  This
             option is only intended for debugging for the server.  Multiple <b>-d</b> options increase the debug-<font color="#ffffff" class="whiteout">ging&nbsp;debugging</font>
             ging level.  Maximum is 3.

     <b>-e</b>      When this option is specified, <b>sshd</b> will send the output to the standard error instead of the
             system log.

     <b>-f</b> <u>configuration</u><b>_</b><u>file</u>
             Specifies the name of the configuration file.  The default is <u>/etc/sshd</u><b>_</b><u>config</u>.  <b>sshd</b> refuses
             to start if there is no configuration file.

     <b>-g</b> <u>login</u><b>_</b><u>grace</u><b>_</b><u>time</u>
             Gives the grace time for clients to authenticate themselves (default 120 seconds).  If the
             client fails to authenticate the user within this many seconds, the server disconnects and
             exits.  A value of zero indicates no limit.

     <b>-h</b> <u>host</u><b>_</b><u>key</u><b>_</b><u>file</u>
             Specifies a file from which a host key is read.  This option must be given if <b>sshd</b> is not run
             as root (as the normal host key files are normally not readable by anyone but root).  The
             default is <u>/etc/ssh</u><b>_</b><u>host</u><b>_</b><u>key</u> for protocol version 1, and <u>/etc/ssh</u><b>_</b><u>host</u><b>_</b><u>rsa</u><b>_</b><u>key</u> and
             <u>/etc/ssh</u><b>_</b><u>host</u><b>_</b><u>dsa</u><b>_</b><u>key</u> for protocol version 2.  It is possible to have multiple host key files
             for the different protocol versions and host key algorithms.

     <b>-i</b>      Specifies that <b>sshd</b> is being run from <!-- a -->inetd(8)<!-- /a -->.  <b>sshd</b> is normally not run from inetd because it
             needs to generate the server key before it can respond to the client, and this may take tens of
             seconds.  Clients would have to wait too long if the key was regenerated every time.  However,
             with small key sizes (e.g. 512) using <b>sshd</b> from inetd may be feasible.

     <b>-k</b> <u>key</u><b>_</b><u>gen</u><b>_</b><u>time</u>
             Specifies how often the ephemeral protocol version 1 server key is regenerated (default 3600
             seconds, or one hour).  The motivation for regenerating the key fairly often is that the key is
             not stored anywhere, and after about an hour it becomes impossible to recover the key for
             decrypting intercepted communications even if the machine is cracked into or physically seized.
             A value of zero indicates that the key will never be regenerated.

     <b>-o</b> <u>option</u>
             Can be used to give options in the format used in the configuration file.  This is useful for
             specifying options for which there is no separate command-line flag.  For full details of the
             options, and their values, see <a href="../man5/sshd_config.5.html#//apple_ref/doc/man/5/sshd_config">sshd_config(5)</a>.

     <b>-p</b> <u>port</u>
             Specifies the port on which the server listens for connections (default 22).  Multiple port
             options are permitted.  Ports specified in the configuration file with the <b>Port</b> option are
             ignored when a command-line port is specified.  Ports specified using the <b>ListenAddress</b> option
             override command-line ports.

     <b>-q</b>      Quiet mode.  Nothing is sent to the system log.  Normally the beginning, authentication, and
             termination of each connection is logged.

     <b>-t</b>      Test mode.  Only check the validity of the configuration file and sanity of the keys.  This is
             useful for updating <b>sshd</b> reliably as configuration options may change.

     <b>-u</b> <u>len</u>  This option is used to specify the size of the field in the utmp structure that holds the
             remote host name.  If the resolved host name is longer than <u>len</u>, the dotted decimal value will
             be used instead.  This allows hosts with very long host names that overflow this field to still
             be uniquely identified.  Specifying <b>-u0</b> indicates that only dotted decimal addresses should be
             put into the <u>utmp</u> file.  <b>-u0</b> may also be used to prevent <b>sshd</b> from making DNS requests unless
             the authentication mechanism or configuration requires it.  Authentication mechanisms that may
             require DNS include <b>RhostsRSAAuthentication</b>, <b>HostbasedAuthentication</b>, and using a
             <b>from="pattern-list"</b> option in a key file.  Configuration options that require DNS include using
             a USER@HOST pattern in <b>AllowUsers</b> or <b>DenyUsers</b>.

<b>AUTHENTICATION</b>
     The OpenSSH SSH daemon supports SSH protocols 1 and 2.  Both protocols are supported by default, though
     this can be changed via the <b>Protocol</b> option in <a href="../man5/sshd_config.5.html#//apple_ref/doc/man/5/sshd_config">sshd_config(5)</a>.  Protocol 2 supports both RSA and DSA
     keys; protocol 1 only supports RSA keys.  For both protocols, each host has a host-specific key, nor-<font color="#ffffff" class="whiteout">mally&nbsp;normally</font>
     mally 2048 bits, used to identify the host.

     Forward security for protocol 1 is provided through an additional server key, normally 768 bits, gener-<font color="#ffffff" class="whiteout">ated&nbsp;generated</font>
     ated when the server starts.  This key is normally regenerated every hour if it has been used, and is
     never stored on disk.  Whenever a client connects, the daemon responds with its public host and server
     keys.  The client compares the RSA host key against its own database to verify that it has not changed.
     The client then generates a 256-bit random number.  It encrypts this random number using both the host
     key and the server key, and sends the encrypted number to the server.  Both sides then use this random
     number as a session key which is used to encrypt all further communications in the session.  The rest
     of the session is encrypted using a conventional cipher, currently Blowfish or 3DES, with 3DES being
     used by default.  The client selects the encryption algorithm to use from those offered by the server.

     For protocol 2, forward security is provided through a Diffie-Hellman key agreement.  This key agree-<font color="#ffffff" class="whiteout">ment&nbsp;agreement</font>
     ment results in a shared session key.  The rest of the session is encrypted using a symmetric cipher,
     currently 128-bit AES, Blowfish, 3DES, CAST128, Arcfour, 192-bit AES, or 256-bit AES.  The client
     selects the encryption algorithm to use from those offered by the server.  Additionally, session
     integrity is provided through a cryptographic message authentication code (hmac-sha1 or hmac-md5).

     Finally, the server and the client enter an authentication dialog.  The client tries to authenticate
     itself using host-based authentication, public key authentication, challenge-response authentication,
     or password authentication.

     Regardless of the authentication type, the account is checked to ensure that it is accessible.  An
     account is not accessible if it is locked, listed in <b>DenyUsers</b> or its group is listed in <b>DenyGroups</b> .
     The definition of a locked account is system dependant. Some platforms have their own account database
     (eg AIX) and some modify the passwd field ( `*LK*' on Solaris and UnixWare, `*' on HP-UX, containing
     `Nologin' on Tru64, a leading `*LOCKED*' on FreeBSD and a leading `!!' on Linux).  If there is a
     requirement to disable password authentication for the account while allowing still public-key, then
     the passwd field should be set to something other than these values (eg `NP' or `*NP*' ).

     If the client successfully authenticates itself, a dialog for preparing the session is entered.  At
     this time the client may request things like allocating a pseudo-tty, forwarding X11 connections, for-<font color="#ffffff" class="whiteout">warding&nbsp;forwarding</font>
     warding TCP connections, or forwarding the authentication agent connection over the secure channel.

     After this, the client either requests a shell or execution of a command.  The sides then enter session
     mode.  In this mode, either side may send data at any time, and such data is forwarded to/from the
     shell or command on the server side, and the user terminal in the client side.

     When the user program terminates and all forwarded X11 and other connections have been closed, the
     server sends command exit status to the client, and both sides exit.

<b>LOGIN</b> <b>PROCESS</b>
     When a user successfully logs in, <b>sshd</b> does the following:

           1.   If the login is on a tty, and no command has been specified, prints last login time and
                <u>/etc/motd</u> (unless prevented in the configuration file or by <u>~/.hushlogin</u>; see the <u>FILES</u> sec-<font color="#ffffff" class="whiteout">tion).&nbsp;section).</font>
                tion).

           2.   If the login is on a tty, records login time.

           3.   Checks <u>/etc/nologin</u>; if it exists, prints contents and quits (unless root).

           4.   Changes to run with normal user privileges.

           5.   Sets up basic environment.

           6.   Reads the file <u>~/.ssh/environment</u>, if it exists, and users are allowed to change their envi-<font color="#ffffff" class="whiteout">ronment.&nbsp;environment.</font>
                ronment.  See the <b>PermitUserEnvironment</b> option in <a href="../man5/sshd_config.5.html#//apple_ref/doc/man/5/sshd_config">sshd_config(5)</a>.

           7.   Changes to user's home directory.

           8.   If <u>~/.ssh/rc</u> exists, runs it; else if <u>/etc/sshrc</u> exists, runs it; otherwise runs xauth.  The
                ``rc'' files are given the X11 authentication protocol and cookie in standard input.  See
                <u>SSHRC</u>, below.

           9.   Runs user's shell or command.

<b>SSHRC</b>
     If the file <u>~/.ssh/rc</u> exists, <a href="../man1/sh.1.html#//apple_ref/doc/man/1/sh">sh(1)</a> runs it after reading the environment files but before starting the
     user's shell or command.  It must not produce any output on stdout; stderr must be used instead.  If
     X11 forwarding is in use, it will receive the "proto cookie" pair in its standard input (and DISPLAY in
     its environment).  The script must call <!-- a -->xauth(1)<!-- /a --> because <b>sshd</b> will not run xauth automatically to add
     X11 cookies.

     The primary purpose of this file is to run any initialization routines which may be needed before the
     user's home directory becomes accessible; AFS is a particular example of such an environment.

     This file will probably contain some initialization code followed by something similar to:

        if read proto cookie &amp;&amp; [ -n "$DISPLAY" ]; then
                if [ `echo $DISPLAY | cut -c1-10` = 'localhost:' ]; then
                        # X11UseLocalhost=yes
                        echo add unix:`echo $DISPLAY |
                            cut -c11-` $proto $cookie
                else
                        # X11UseLocalhost=no
                        echo add $DISPLAY $proto $cookie
                fi | xauth -q -<font color="#ffffff" class="whiteout">fi&nbsp;-qfi</font>
        fi

     If this file does not exist, <u>/etc/sshrc</u> is run, and if that does not exist either, xauth is used to add
     the cookie.

<b>AUTHORIZED_KEYS</b> <b>FILE</b> <b>FORMAT</b>
     <b>AuthorizedKeysFile</b> specifies the file containing public keys for public key authentication; if none is
     specified, the default is <u>~/.ssh/authorized</u><b>_</b><u>keys</u>.  Each line of the file contains one key (empty lines
     and lines starting with a `#' are ignored as comments).  Protocol 1 public keys consist of the follow-<font color="#ffffff" class="whiteout">ing&nbsp;following</font>
     ing space-separated fields: options, bits, exponent, modulus, comment.  Protocol 2 public key consist
     of: options, keytype, base64-encoded key, comment.  The options field is optional; its presence is
     determined by whether the line starts with a number or not (the options field never starts with a num-<font color="#ffffff" class="whiteout">ber).&nbsp;number).</font>
     ber).  The bits, exponent, modulus, and comment fields give the RSA key for protocol version 1; the
     comment field is not used for anything (but may be convenient for the user to identify the key).  For
     protocol version 2 the keytype is ``ssh-dss'' or ``ssh-rsa''.

     Note that lines in this file are usually several hundred bytes long (because of the size of the public
     key encoding) up to a limit of 8 kilobytes, which permits DSA keys up to 8 kilobits and RSA keys up to
     16 kilobits.  You don't want to type them in; instead, copy the <u>identity.pub</u>, <u>id</u><b>_</b><u>dsa.pub</u>, or the
     <u>id</u><b>_</b><u>rsa.pub</u> file and edit it.

     <b>sshd</b> enforces a minimum RSA key modulus size for protocol 1 and protocol 2 keys of 768 bits.

     The options (if present) consist of comma-separated option specifications.  No spaces are permitted,
     except within double quotes.  The following option specifications are supported (note that option key-<font color="#ffffff" class="whiteout">words&nbsp;keywords</font>
     words are case-insensitive):

     <b>command="command"</b>
             Specifies that the command is executed whenever this key is used for authentication.  The com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
             mand supplied by the user (if any) is ignored.  The command is run on a pty if the client
             requests a pty; otherwise it is run without a tty.  If an 8-bit clean channel is required, one
             must not request a pty or should specify <b>no-pty</b>.  A quote may be included in the command by
             quoting it with a backslash.  This option might be useful to restrict certain public keys to
             perform just a specific operation.  An example might be a key that permits remote backups but
             nothing else.  Note that the client may specify TCP and/or X11 forwarding unless they are
             explicitly prohibited.  The command originally supplied by the client is available in the
             SSH_ORIGINAL_COMMAND environment variable.  Note that this option applies to shell, command or
             subsystem execution.

     <b>environment="NAME=value"</b>
             Specifies that the string is to be added to the environment when logging in using this key.
             Environment variables set this way override other default environment values.  Multiple options
             of this type are permitted.  Environment processing is disabled by default and is controlled
             via the <b>PermitUserEnvironment</b> option.  This option is automatically disabled if <b>UseLogin</b> is
             enabled.

     <b>from="pattern-list"</b>
             Specifies that in addition to public key authentication, the canonical name of the remote host
             must be present in the comma-separated list of patterns.  The purpose of this option is to
             optionally increase security: public key authentication by itself does not trust the network or
             name servers or anything (but the key); however, if somebody somehow steals the key, the key
             permits an intruder to log in from anywhere in the world.  This additional option makes using a
             stolen key more difficult (name servers and/or routers would have to be compromised in addition
             to just the key).

             See <u>PATTERNS</u> in <a href="../man5/ssh_config.5.html#//apple_ref/doc/man/5/ssh_config">ssh_config(5)</a> for more information on patterns.

     <b>no-agent-forwarding</b>
             Forbids authentication agent forwarding when this key is used for authentication.

     <b>no-port-forwarding</b>
             Forbids TCP forwarding when this key is used for authentication.  Any port forward requests by
             the client will return an error.  This might be used, e.g. in connection with the <b>command</b>
             option.

     <b>no-pty</b>  Prevents tty allocation (a request to allocate a pty will fail).

     <b>no-X11-forwarding</b>
             Forbids X11 forwarding when this key is used for authentication.  Any X11 forward requests by
             the client will return an error.

     <b>permitopen="host:port"</b>
             Limit local ``ssh -L'' port forwarding such that it may only connect to the specified host and
             port.  IPv6 addresses can be specified with an alternative syntax: <u>host</u>/<u>port</u>.  Multiple
             <b>permitopen</b> options may be applied separated by commas.  No pattern matching is performed on the
             specified hostnames, they must be literal domains or addresses.

     <b>tunnel="n"</b>
             Force a <!-- a -->tun(4)<!-- /a --> device on the server.  Without this option, the next available device will be
             used if the client requests a tunnel.

     An example authorized_keys file:

        # Comments allowed at start of line
        ssh-rsa AAAAB3Nza...LiPk== user@example.net
        from="*.sales.example.net,!pc.sales.example.net" ssh-rsa
        AAAAB2...19Q== john@example.net
        command="dump /home",no-pty,no-port-forwarding ssh-dss
        AAAAC3...51R== example.net
        permitopen="192.0.2.1:80",permitopen="192.0.2.2:25" ssh-dss
        AAAAB5...21S==
        tunnel="0",command="sh /etc/netstart tun0" ssh-rsa AAAA...==
        jane@example.net

<b>SSH_KNOWN_HOSTS</b> <b>FILE</b> <b>FORMAT</b>
     The <u>/etc/ssh</u><b>_</b><u>known</u><b>_</b><u>hosts</u> and <u>~/.ssh/known</u><b>_</b><u>hosts</u> files contain host public keys for all known hosts.
     The global file should be prepared by the administrator (optional), and the per-user file is maintained
     automatically: whenever the user connects from an unknown host, its key is added to the per-user file.

     Each line in these files contains the following fields: hostnames, bits, exponent, modulus, comment.
     The fields are separated by spaces.

     Hostnames is a comma-separated list of patterns (`*' and `?' act as wildcards); each pattern in turn is
     matched against the canonical host name (when authenticating a client) or against the user-supplied
     name (when authenticating a server).  A pattern may also be preceded by `!' to indicate negation: if
     the host name matches a negated pattern, it is not accepted (by that line) even if it matched another
     pattern on the line.  A hostname or address may optionally be enclosed within `[' and `]' brackets then
     followed by `:' and a non-standard port number.

     Alternately, hostnames may be stored in a hashed form which hides host names and addresses should the
     file's contents be disclosed.  Hashed hostnames start with a `|' character.  Only one hashed hostname
     may appear on a single line and none of the above negation or wildcard operators may be applied.

     Bits, exponent, and modulus are taken directly from the RSA host key; they can be obtained, for exam-<font color="#ffffff" class="whiteout">ple,&nbsp;example,</font>
     ple, from <u>/etc/ssh</u><b>_</b><u>host</u><b>_</b><u>key.pub</u>.  The optional comment field continues to the end of the line, and is
     not used.

     Lines starting with `#' and empty lines are ignored as comments.

     When performing host authentication, authentication is accepted if any matching line has the proper
     key.  It is thus permissible (but not recommended) to have several lines or different host keys for the
     same names.  This will inevitably happen when short forms of host names from different domains are put
     in the file.  It is possible that the files contain conflicting information; authentication is accepted
     if valid information can be found from either file.

     Note that the lines in these files are typically hundreds of characters long, and you definitely don't
     want to type in the host keys by hand.  Rather, generate them by a script or by taking
     <u>/etc/ssh</u><b>_</b><u>host</u><b>_</b><u>key.pub</u> and adding the host names at the front.

     An example ssh_known_hosts file:

        # Comments allowed at start of line
        closenet,...,192.0.2.53 1024 37 159...93 closenet.example.net
        cvs.example.net,192.0.2.10 ssh-rsa AAAA1234.....=
        # A hashed hostname
        |1|JfKTdBh7rNbXkVAQCRp4OQoPfmI=|USECr3SWf1JUPsms5AqfD5QfxkM= ssh-rsa
        AAAA1234.....=

<b>FILES</b>
     ~/.hushlogin
             This file is used to suppress printing the last login time and <u>/etc/motd</u>, if <b>PrintLastLog</b> and
             <b>PrintMotd</b>, respectively, are enabled.  It does not suppress printing of the banner specified by
             <b>Banner</b>.

     ~/.rhosts
             This file is used for host-based authentication (see <a href="../man1/ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a> for more information).  On some
             machines this file may need to be world-readable if the user's home directory is on an NFS par-<font color="#ffffff" class="whiteout">tition,&nbsp;partition,</font>
             tition, because <b>sshd</b> reads it as root.  Additionally, this file must be owned by the user, and
             must not have write permissions for anyone else.  The recommended permission for most machines
             is read/write for the user, and not accessible by others.

     ~/.shosts
             This file is used in exactly the same way as <u>.rhosts</u>, but allows host-based authentication
             without permitting login with rlogin/rsh.

     ~/.ssh/authorized_keys
             Lists the public keys (RSA/DSA) that can be used for logging in as this user.  The format of
             this file is described above.  The content of the file is not highly sensitive, but the recom-<font color="#ffffff" class="whiteout">mended&nbsp;recommended</font>
             mended permissions are read/write for the user, and not accessible by others.

             If this file, the <u>~/.ssh</u> directory, or the user's home directory are writable by other users,
             then the file could be modified or replaced by unauthorized users.  In this case, <b>sshd</b> will not
             allow it to be used unless the <b>StrictModes</b> option has been set to ``no''.  The recommended per-<font color="#ffffff" class="whiteout">missions&nbsp;permissions</font>
             missions can be set by executing ``chmod go-w ~/ ~/.ssh ~/.ssh/authorized_keys''.

     ~/.ssh/environment
             This file is read into the environment at login (if it exists).  It can only contain empty
             lines, comment lines (that start with `#'), and assignment lines of the form name=value.  The
             file should be writable only by the user; it need not be readable by anyone else.  Environment
             processing is disabled by default and is controlled via the <b>PermitUserEnvironment</b> option.

     ~/.ssh/known_hosts
             Contains a list of host keys for all hosts the user has logged into that are not already in the
             systemwide list of known host keys.  The format of this file is described above.  This file
             should be writable only by root/the owner and can, but need not be, world-readable.

     ~/.ssh/rc
             Contains initialization routines to be run before the user's home directory becomes accessible.
             This file should be writable only by the user, and need not be readable by anyone else.

     /etc/hosts.allow
     /etc/hosts.deny
             Access controls that should be enforced by tcp-wrappers are defined here.  Further details are
             described in <a href="../man5/hosts_access.5.html#//apple_ref/doc/man/5/hosts_access">hosts_access(5)</a>.

     /etc/hosts.equiv
             This file is for host-based authentication (see <a href="../man1/ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a>).  It should only be writable by root.

     /etc/moduli
             Contains Diffie-Hellman groups used for the "Diffie-Hellman Group Exchange".  The file format
             is described in <!-- a -->moduli(5)<!-- /a -->.

     /etc/motd
             See <a href="../man5/motd.5.html#//apple_ref/doc/man/5/motd">motd(5)</a>.

     /etc/nologin
             If this file exists, <b>sshd</b> refuses to let anyone except root log in.  The contents of the file
             are displayed to anyone trying to log in, and non-root connections are refused.  The file
             should be world-readable.

     /etc/shosts.equiv
             This file is used in exactly the same way as <u>hosts.equiv</u>, but allows host-based authentication
             without permitting login with rlogin/rsh.

     /etc/ssh_known_hosts
             Systemwide list of known host keys.  This file should be prepared by the system administrator
             to contain the public host keys of all machines in the organization.  The format of this file
             is described above.  This file should be writable only by root/the owner and should be world-<font color="#ffffff" class="whiteout">readable.&nbsp;worldreadable.</font>
             readable.

     /etc/ssh_host_key
     /etc/ssh_host_dsa_key
     /etc/ssh_host_rsa_key
             These three files contain the private parts of the host keys.  These files should only be owned
             by root, readable only by root, and not accessible to others.  Note that <b>sshd</b> does not start if
             these files are group/world-accessible.

     /etc/ssh_host_key.pub
     /etc/ssh_host_dsa_key.pub
     /etc/ssh_host_rsa_key.pub
             These three files contain the public parts of the host keys.  These files should be world-read-<font color="#ffffff" class="whiteout">able&nbsp;world-readable</font>
             able but writable only by root.  Their contents should match the respective private parts.
             These files are not really used for anything; they are provided for the convenience of the user
             so their contents can be copied to known hosts files.  These files are created using
             <a href="../man1/ssh-keygen.1.html#//apple_ref/doc/man/1/ssh-keygen">ssh-keygen(1)</a>.

     /etc/sshd_config
             Contains configuration data for <b>sshd</b>.  The file format and configuration options are described
             in <a href="../man5/sshd_config.5.html#//apple_ref/doc/man/5/sshd_config">sshd_config(5)</a>.

     /etc/sshrc
             Similar to <u>~/.ssh/rc</u>, it can be used to specify machine-specific login-time initializations
             globally.  This file should be writable only by root, and should be world-readable.

     /var/empty
             <a href="../man2/chroot.2.html#//apple_ref/doc/man/2/chroot">chroot(2)</a> directory used by <b>sshd</b> during privilege separation in the pre-authentication phase.
             The directory should not contain any files and must be owned by root and not group or world-<font color="#ffffff" class="whiteout">writable.&nbsp;worldwritable.</font>
             writable.

     /var/run/sshd.pid
             Contains the process ID of the <b>sshd</b> listening for connections (if there are several daemons
             running concurrently for different ports, this contains the process ID of the one started
             last).  The content of this file is not sensitive; it can be world-readable.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/scp.1.html#//apple_ref/doc/man/1/scp">scp(1)</a>, <a href="../man1/sftp.1.html#//apple_ref/doc/man/1/sftp">sftp(1)</a>, <a href="../man1/ssh.1.html#//apple_ref/doc/man/1/ssh">ssh(1)</a>, <a href="../man1/ssh-add.1.html#//apple_ref/doc/man/1/ssh-add">ssh-add(1)</a>, <a href="../man1/ssh-agent.1.html#//apple_ref/doc/man/1/ssh-agent">ssh-agent(1)</a>, <a href="../man1/ssh-keygen.1.html#//apple_ref/doc/man/1/ssh-keygen">ssh-keygen(1)</a>, <a href="../man2/chroot.2.html#//apple_ref/doc/man/2/chroot">chroot(2)</a>, <a href="../man5/hosts_access.5.html#//apple_ref/doc/man/5/hosts_access">hosts_access(5)</a>,
     <a href="../man5/sshd_config.5.html#//apple_ref/doc/man/5/sshd_config">sshd_config(5)</a>, <a href="sftp-server.8.html#//apple_ref/doc/man/8/sftp-server">sftp-server(8)</a>

<b>AUTHORS</b>
     OpenSSH is a derivative of the original and free ssh 1.2.12 release by Tatu Ylonen.  Aaron Campbell,
     Bob Beck, Markus Friedl, Niels Provos, Theo de Raadt and Dug Song removed many bugs, re-added newer
     features and created OpenSSH.  Markus Friedl contributed the support for SSH protocol versions 1.5 and
     2.0.  Niels Provos and Markus Friedl contributed support for privilege separation.

<b>CAVEATS</b>
     System security is not improved unless <b>rshd</b>, <b>rlogind</b>, and <b>rexecd</b> are disabled (thus completely dis-<font color="#ffffff" class="whiteout">abling&nbsp;disabling</font>
     abling rlogin and rsh into the machine).

BSD                           September 25, 1999                           BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/sshd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/sshd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/sshd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
