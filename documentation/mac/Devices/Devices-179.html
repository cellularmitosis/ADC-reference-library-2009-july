<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>SCSIResetBus(IM: D)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING179></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="Devices-178.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-180.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Devices-2.html"><B>Devices</B></A> / <BR><DD><A HREF="Devices-151.html"><B>Chapter 4 - SCSI Manager 4.3</B></A> / <A HREF="Devices-156.html"><B>SCSI Manager 4.3 Reference</B></A><BR><DL><DD><A HREF="Devices-171.html"><B>SCSI Manager 4.3 Functions</B></A> / <A HREF="Devices-172.html"><B>Client Functions</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING179-0></A>
<H3>SCSIResetBus</H3>
 <A NAME=MARKER-2-45></A>You use the <CODE>SCSIResetBus</CODE> function to reset a SCSI bus.<P>
<PRE>
OSErr SCSIAction(SCSI_PB *scsiPB);
</PRE>
<DL>
<DT><CODE>scsiPB</CODE>
<DD> A pointer to a SCSI Manager parameter block.
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD>--><TD>scsiPBLength<TD>UInt16<TD>The size of the parameter block.<TR>
<TD>--><TD>scsiFunctionCode<TD>UInt8<TD>The <CODE>SCSIResetBus</CODE> function selector code (0x11).<TR>
<TD><symbol><--<Default \xB6 Font><EM></EM><TD>scsiResult<TD>OSErr<TD>The returned result code.<TR>
<TD>--><TD>scsiDevice<TD>DeviceIdent<TD>The device identification record. Only the bus number is required.<TR>
<TD>--><TD>scsiCompletion<TD>CallbackProc<TD>A pointer to a completion routine. If set to <CODE>nil</CODE>, the function is executed synchronously.<TR>
<TD>--><TD>scsiDriverStorage<TD>UInt8 *<TD>Optional pointer to the device driver's private storage.</TABLE>
</B><P>
<A NAME=HEADING179-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>SCSIResetBus</CODE> function directs the HBA to assert the SCSI bus reset signal, causing all devices on the bus to clear pending I/O and forcing the bus into the bus free phase. In addition, the SIM calls the completion routines for all requests that were already delivered to devices. The appropriate LUN queue is frozen for each of the requests that were reset, unless the scsiSIMQNoFreeze flag is set.<P>
<A NAME=HEADING179-7></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>SCSIResetBus</CODE> function interrupts SCSI communications and can cause data loss. You should use this function only to restore operation in the event that a device refuses to release the bus. You can use the <CODE>SCSIResetDevice</CODE> function to reset a single device when the SCSI bus is operational and the device is still responding to selection.<P>
<A NAME=HEADING179-9></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>scsiBusInvalid<TD>-7869<TD>The bus ID is invalid<TR>
<TD>scsiRequestInvalid<TD>-7870<TD>The parameter block request is invalid<TR>
<TD>scsiPBLengthError<TD>-7872<TD>The parameter block is too small for this SIM<TR>
<TD>scsiQLinkInvalid<TD>-7881<TD>The <CODE>qLink</CODE> field was not 0 <A NAME=MARKER-2-62></A></TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Devices-178.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-180.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Devices-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML>  
