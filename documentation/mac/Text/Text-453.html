<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Apple Event Handlers Supplied by Client Applications(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING453></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-452.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-454.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-409.html"><B>Chapter 7 - Text Services Manager</B></A> / <A HREF="Text-425.html"><B>Text Services Manager Reference</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING453-0></A>
<H2><A NAME=MARKER-9-291></A>Apple Event Handlers Supplied by Client Applications</H2>
 <A NAME=MARKER-2-20></A>This section describes the Apple events for which client applications must install handlers. Text service components request action from and send information to client applications through these Apple events.<P>
 Your application uses these Apple events to receive text from text service components, to show or hide input windows, and to convert screen positions to text offsets--and vice versa--for text service components. The conversion operations are used to track mouse events and determine screen locations of text in the active input area.<P>
 The Apple events described in this section are all organized under the <CODE>kTextServiceClass</CODE> constant with a value of <CODE>'tsvc'</CODE>.<P>
 <A HREF=#MARKER-9-295></A><A HREF=#MARKER-9-295></A><A HREF=#MARKER-9-295></A> lists the Apple event ID constants for the Apple events described in this section.<A NAME=MARKER-9-295></A><A NAME=MARKER-2-294></A>
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-295></A><B>Table 7-1 Apple event ID constants</B><A NAME=MARKER-9-295></A><A NAME=MARKER-9-295></A></CAPTION>
<TH>Constant<TH>Value<TH>Explanation<TR>
<TD>kUpdateActiveInputArea<TD>'updt'<TD>Update Active Input Area<TR>
<TD>kPos2Offset<TD>'p2st'<TD>Position To Offset<TR>
<TD>kOffset2Pos<TD>'st2p'<TD>Offset To Position<TR>
<TD>kShowHideInputWindow<TD>'shiw'<TD>Show/Hide Input Window</TABLE>
<A NAME=MARKER-9-295></A><P>
 <A NAME=MARKER-2-296></A><A HREF=#MARKER-9-17>Table 7-2</A> shows the Apple event keyword constants used in the Apple events described in this section.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-17></A><B>Table 7-2 Apple event keyword constants</B> (Continued)</CAPTION>
<TH>Constant<TH>Value<TH>Meaning<TR>
<TD>keyAETSMDocumentRefcon<TD>'refc'<TD>TSM document reference constant<TR>
<TD>keyAEServerInstance<TD>'srvi'<TD>Component instance<TR>
<TD>keyAETheData<TD>'kdat'<TD>Text from active input area<TR>
<TD>keyAEScriptTag<TD>'sclg'<TD>Script-language record<TR>
<TD>keyAEFixLength<TD>'fixl'<TD>Length of confirmed text<TR>
<TD>keyAEHiliteRange<TD>'hrng'<TD>Highlight range in text<TR>
<TD>keyAEUpdateRange<TD>'udng'<TD>Update range in text<TR>
<TD>keyAEClauseOffsets<TD>'clau'<TD>Clause offsets array<TR>
<TD>keyAECurrentPoint<TD>'cpos'<TD>Current point<TR>
<TD>keyAEDragging<TD>'bool'<TD>Dragging flag<TR>
<TD>keyAEOffset<TD>'ofst'<TD>Byte offset in text<TR>
<TD>keyAERegionClass<TD>'rgnc'<TD>Region class<TR>
<TD>keyAEPoint<TD>'gpos'<TD>Calculated point<TR>
<TD colspan=3>optional keyword for Update Active Input Area<TR>
<TD>keyAEPinRange<TD>'pnrg'<TD>Range for scrolling<TR>
<TD colspan=3>optional keywords for Offset To Position<TR>
<TD>keyAETextFont<TD>'ktxf'<TD>Text font<TR>
<TD>keyAETextPointSize<TD>'ktps'<TD>Text size<TR>
<TD>keyAETextLineHeight<TD>'ktlh'<TD>Text line height<TR>
<TD>keyAETextLineAscent<TD>'ktas'<TD>Font ascent<TR>
<TD>keyAEAngle<TD>'kang'<TD>Text angle<TR>
<TD colspan=3><I>optional keyword for Position To Offset</I><TR>
<TD>keyAELeadingEdge<TD>'klef'<TD>Leading-edge Boolean<A NAME=MARKER-2-18></A></TABLE>
<P>
  <A NAME=MARKER-2-65></A><A HREF=#MARKER-9-20>Table 7-3</A> lists the Apple event descriptor types discussed in this section.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-20></A><B>Table 7-3 Apple event descriptor types</B><A NAME=MARKER-9-20></A></CAPTION>
<TD>Constant<TD>Value<TD>Meaning<TR>
<TD>typeComponentInstance<TD>'cmpi'<TD>Server instance<TR>
<TD>typeTextRangeArray<TD>'tray'<TD>Text range array<TR>
<TD>typeOffsetArray<TD>'ofay'<TD>Offset array<TR>
<TD>typeIntlWritingCode<TD>'intl'<TD>Script-language record<TR>
<TD>typeQDPoint<TD>'QDpt'<TD>QuickDraw point<TR>
<TD>typeAEText<TD>'tTXT'<TD>Apple event text<TR>
<TD>typeText<TD>'TEXT'<TD>Plain text<TR>
<TD>typeTextRange<TD>'txrn'<TD>A text range record<TR>
<TD>typeTSMDocumentRefcon<TD>'refc'<TD>TSM document reference constant<TR>
<TD>typeFixed<TD>'fixd'<TD>Fixed 16.16 format</TABLE>
<P>
 <A HREF=#MARKER-9-21>Table 7-4</A> lists the Apple event descriptor type constants for region class discussed in <BR>this section.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-21></A><B>Table 7-4 Apple event descriptor type constants for the Apple event region class</B></CAPTION>
<TH>Constant<TH>Value<TR>
<TD>kTSMOutsideOfBody<TD>1<TR>
<TD>kTSMInsideOfBody<TD>2<TR>
<TD>kTSMInsideOfActiveInputArea<TD>3<A NAME=MARKER-2-22></A></TABLE>
<P>
 For the values of standard Apple event constants used in the following section not listed in these tables, see the <I>Apple Event Registry: Standard Suites</I>.<P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Text-454.html#HEADING454-0">Creating and Updating an Active Input Area</A>
<DD>
<DT><A HREF="Text-455.html#HEADING455-0">Converting Global Coordinates to Text Offsets</A>
<DD>
<DT><A HREF="Text-456.html#HEADING456-0">Converting Text Offsets to Global Coordinates</A>
<DD>
<DT><A HREF="Text-457.html#HEADING457-0">Showing or Hiding the Floating Input Window</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-452.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-454.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
