<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Kit Programming Guide: Building a Simple QTKitPlayer Application</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Building a Simple QTKitPlayer Application"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001245-CH204" title="Building a Simple QTKitPlayer Application"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../Cocoa-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000495" target="_top">Cocoa</a> &gt; <a href="../Chapter01/Introduction.html#//apple_ref/doc/uid/TP40001245-CH202-TPXREF101">QuickTime Kit Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Chapter02/02WorkingWithQTKit.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Chapter04/04ExtendingSimpleQTKitApp.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001245-CH204-TPXREF101" title="Building a Simple QTKitPlayer Application"></a><h1>Building a Simple QTKitPlayer Application</h1><p>In this chapter, you’ll build QTKitPlayer, a simple application that demonstrates some of the power and flexibility of the QuickTime Kit framework. When completed, your QTKitKPlayer application will allow you to open and play QuickTime movies, as shown in <span class="content_text">Figure 2-1</span>. Amazingly, you won’t have to write a single line of code to implement this media player. </p><p>Using Xcode as your integrated development environment (IDE), you’ll see how easy it is to work with the QuickTime Kit framework. In this example, you’ll use the new QTKit palette provided in the Interface Builder collection of palettes. The QTKit palette will do a lot of the work for you in constructing this application.</p><br/><div><a name="//apple_ref/doc/uid/TP40001245-CH204-BCICDIEJ" title="Figure 2-1The completed QTKitPlayer application"></a><p><strong>Figure 2-1&nbsp;&nbsp;</strong>The completed QTKitPlayer application</p><img src = "../Art/qtmovie_qtkitplayer.jpg" alt = "The completed QTKitPlayer application" ></div><br/><p>Using the QTKit palette and Xcode, you’ll be able to build a functioning media player application that displays and controls the playback of QuickTime movies, including QuickTime movies that support sprites, QuickTime VR, Flash, and 3GPP, among other file types. You’ll even be able to add a contextual menu that includes editing commands, as shown in <span class="content_text">Figure 2-2</span>––again, without writing a single line of code. </p><br/><div><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIIIJGH" title="Figure 2-2The completed QTKitPlayer application with a contextual menu"></a><p><strong>Figure 2-2&nbsp;&nbsp;</strong>The completed QTKitPlayer application with a contextual menu</p><img src = "../Art/geri_movie_editing_enabled.jpg" alt = "The completed QTKitPlayer application with a contextual menu" ></div><br/>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="03BuildingQTKItSimpleApp.html#//apple_ref/doc/uid/TP40001245-CH204-TPXREF110">Creating the QTKitPlayer Project</a>
				
			<br/>
			
        
			
			
				<a href="03BuildingQTKItSimpleApp.html#//apple_ref/doc/uid/TP40001245-CH204-BCIFHFIF">Working With the QTKit Palette</a>
				
			<br/>
			
        
			
			
				<a href="03BuildingQTKItSimpleApp.html#//apple_ref/doc/uid/TP40001245-CH204-SW1">Extending the Functionality of QTKitPlayer</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001245-CH204-TPXREF110" title="Creating the QTKitPlayer Project"></a><h2>Creating the QTKitPlayer Project</h2><p>If you’ve worked with Cocoa and Xcode before, you know that every Cocoa application starts out as a project. A project is simply a repository for all the elements that go into the application, such as source code files, frameworks, libraries, the application’s user interface, sounds, and images. You use Xcode to create and manage your project.</p><p>The QTKitPlayer application is a good learning example for developers who may be new to Cocoa and QuickTime. If you already know Cocoa, you probably won’t be surprised at how quickly and effortlessly you can build this media player application. </p><p>To create the project, follow these steps:</p><ol class="ol"><li class="li"><p>Launch Xcode and choose File > New Project. </p></li><li class="li"><p>When the new project window appears, select Cocoa Document-based Application, as shown in <span class="content_text">Figure 2-3</span>. Click Next.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIBCDBF" title="Figure 2-3The Cocoa New Project Assistant window with the Cocoa Document-based Application option selected"></a><p><strong>Figure 2-3&nbsp;&nbsp;</strong>The Cocoa New Project Assistant window with the Cocoa Document-based Application option selected</p><img src = "../Art/newproj_cocoa_doc.jpg" alt = "The Cocoa New Project Assistant window with the Cocoa Document-based Application option selected" ></div></li><li class="li"><p>Name the project <code>QTKitPlayer</code> and place it in the directory of your choice.</p></li><li class="li"><p>The Xcode project window appears as show in <span class="content_text">Figure 2-4</span>. Verify the files shown are in your project. Note this illustration includes the QuickTime Kit framework, which you won’t see until you add it in the next step.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIBACHB" title="Figure 2-4The QTKitPlayer application in Xcode"></a><p><strong>Figure 2-4&nbsp;&nbsp;</strong>The QTKitPlayer application in Xcode</p><img src = "../Art/xcode_qtkitframework_added.jpg" alt = "The QTKitPlayer application in Xcode" ></div></li><li class="li"><p>Next, you need to add the QuickTime Kit framework to your QTKitPlayer project. Choose Project > Add to Project.</p></li><li class="li"><p>The QuickTime Kit framework resides in the <code>System/Library/Frameworks</code> directory. Select the framework, shown in <span class="content_text">Figure 2-5</span>, and click Add to add it to your QTKitPlayer project. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIGIIDG" title="Figure 2-5The QuickTime Kit framework in the Frameworks directory"></a><p><strong>Figure 2-5&nbsp;&nbsp;</strong>The QuickTime Kit framework in the Frameworks directory</p><img src = "../Art/add_qtkitframework.jpg" alt = "The QuickTime Kit framework in the Frameworks directory" ></div></li><li class="li"><p>Another sheet opens, as shown in <span class="content_text">Figure 2-6</span>. You don’t need to change any of the settings, so just click Add to add the framework to the QTKitPlayer Target.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIICHAF" title="Figure 2-6Adding QTKit.framework to the QTKitPlayer target"></a><p><strong>Figure 2-6&nbsp;&nbsp;</strong>Adding QTKit.framework to the QTKitPlayer target</p><img src = "../Art/add_target_qtkitplayer.jpg" alt = "Adding QTKit.framework to the QTKitPlayer target" ></div></li><li class="li"><p>In your QTKitPlayer Xcode project window, open Targets in the Groups &amp; Files list and then double-click QTKitPlayer. When the Target “QTKitPlayer” Info window opens, select the Properties pane, as shown in <span class="content_text">Figure 2-7</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIHDDCH" title="Figure 2-7The Target &acirc;&#128;&#156;QTKitPlayer&acirc;&#128;&#157; Info window with the Properties pane displayed"></a><p><strong>Figure 2-7&nbsp;&nbsp;</strong>The Target “QTKitPlayer” Info window with the Properties pane displayed</p><img src = "../Art/target_qtkit_mov_moov.jpg" alt = "The Target “QTKitPlayer” Info window with the Properties pane displayed" ></div></li><li class="li"><p>Select the DocumentType row and in the Extensions column, enter <code>mov</code> and in the OS Types column, enter <code>MooV</code>. Note that, strictly speaking, this step is not necessary if you use Interface Builder to specify the movie––it knows how to open movies. </p></li></ol><p>The next section discusses how to use the new QTKit palette in Interface Builder to construct the QTKitPlayer application.</p><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIFHFIF" title="Working With the QTKit Palette"></a><h2>Working With the QTKit Palette</h2><p>In this phase of constructing your QTKitPlayer application, you’ll work with the new QTKit palette in Interface Builder. After you’ve completed these steps, you’ll be able to build and run the QTKitPlayer in Xcode––without modifying any of your source files or adding any lines of code to them.</p><p>The QTKit palette resides in the <code>/Developer/Extras/Palettes</code> directory. To access the palette, you can either double-click to launch it in Interface Builder, or drag the palette into the <code>/Developer/Palettes</code> directory, in which case it will appear among the palettes in the toolbar shown in <span class="content_text">Figure 2-8</span>. You can place the QTKit palette at any position in the row of palettes, in this case next to the Sherlock icon.</p><p>To finish building your QTKitPlayer, follow these steps: </p><ol class="ol"><li class="li"><p>Open Interface Builder by double-clicking MyDocument.nib in your Xcode project window and select the blue QuickTime icon in the palettes collection at the far right, next to the Sherlock icon, as shown in <span class="content_text">Figure 2-8</span>. Note that the QuickTime icon in this palette looks like the one available in the Cocoa-GraphicsViews palette. Be sure that you select the Cocoa-QTKit palette.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCICCHHJ" title="Figure 2-8The Cocoa-QTKit palette"></a><p><strong>Figure 2-8&nbsp;&nbsp;</strong>The Cocoa-QTKit palette</p><img src = "../Art/new_qtkit_palette.jpg" alt = "The Cocoa-QTKit palette" ></div></li><li class="li"><p>Delete the “Your document contents here” text in the window object shown in <span class="content_text">Figure 2-9</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIDIBHC" title="Figure 2-9MyDocument.nib with the QTKit palette and a window selected "></a><p><strong>Figure 2-9&nbsp;&nbsp;</strong>MyDocument.nib with the QTKit palette and a window selected </p><img src = "../Art/ib_with_qtpalette.jpg" alt = "MyDocument.nib with the QTKit palette and a window selected" ></div></li><li class="li"><p>Drag the QTKit icon to the bottom-left corner of the project window, as shown in <span class="content_text">Figure 2-10</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIEDAHI" title="Figure 2-10The QTKit icon dragged to the application window"></a><p><strong>Figure 2-10&nbsp;&nbsp;</strong>The QTKit icon dragged to the application window</p><img src = "../Art/drag_qtpal_to_window.jpg" alt = "The QTKit icon dragged to the application window" ></div></li><li class="li"><p>You now have a QuickTime movie view object with a control bar in the bottom-left corner of the window. Drag the QuickTime movie view object by its corner handle to the upper-right corner of the window, filling the entire window, so the movie view object with its control bar is visible, as shown in <span class="content_text">Figure 2-11</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIBAADD" title="Figure 2-11The QuickTime movie view object enlarged to fill the entire contents of the window"></a><p><strong>Figure 2-11&nbsp;&nbsp;</strong>The QuickTime movie view object enlarged to fill the entire contents of the window</p><img src = "../Art/qtpal_changed_to_qtmovie.jpg" alt = "The QuickTime movie view object enlarged to fill the entire contents of the window" ></div></li><li class="li"><p>Click the QuickTime movie view object in the window, then press Command-1 to open the QTMovieView Info window. The Attributes pane is shown in <span class="content_text">Figure 2-12</span> with the default fill color of black and the Show Controller item selected. Note that the field that lets you select a movie from a list of files by clicking the File button is initially blank. The illustration in <span class="content_text">Figure 2-12</span> shows a partial file path for a movie to be selected. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIIDEHE" title="Figure 2-12The QTMovieView Attributes pane"></a><p><strong>Figure 2-12&nbsp;&nbsp;</strong>The QTMovieView Attributes pane</p><img src = "../Art/qtmovieview_attrib.jpg" alt = "The QTMovieView Attributes pane" ></div></li><li class="li"><p>To add editing capabilties to your QTKitPlayer, select the Is Editable item. Notice that the slider in the control bar in your player changes from a button to another shape, shown in <span class="content_text">Figure 2-13</span>, similar to )(, which allows for editing of a movie. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIDBAAD" title="Figure 2-13The Is Editable item selected and the slider changed"></a><p><strong>Figure 2-13&nbsp;&nbsp;</strong>The Is Editable item selected and the slider changed</p><img src = "../Art/qtmovieview_is_editable.jpg" alt = "The Is Editable item selected and the slider changed" ></div></li><li class="li"><p>Now you’re ready to specify a movie to play and edit. In the QTMovieView Info Attributes pane, click the File button. </p></li><li class="li"><p>In the open dialog that appears, select a QuickTime movie and click Open. Your player window will look similar to the one illustrated in <span class="content_text">Figure 2-14</span>. Note that the movie in <span class="content_text">Figure 2-14</span> has movie editing enabled, as shown by the appearance of the slider in the control bar. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIEHAAG" title="Figure 2-14A QuickTime movie in your window"></a><p><strong>Figure 2-14&nbsp;&nbsp;</strong>A QuickTime movie in your window</p><img src = "../Art/geri_movie_textured_window.jpg" alt = "A QuickTime movie in your window" ></div></li><li class="li"><p>If you want to modify the attributes of the window in any way, you can open the NSWindow Info pane. To add texture to the movie window, for example, select the Window icon in the MyDocument.nib window and press Command-1 to open the NSWindow Info window with the Attributes pane displayed. Select the “Has texture” option, as shown in <span class="content_text">Figure 2-15</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIDFHCG" title="Figure 2-15The QuickTime movie object window with texture added"></a><p><strong>Figure 2-15&nbsp;&nbsp;</strong>The QuickTime movie object window with texture added</p><img src = "../Art/geri_movie_window_options.jpg" alt = "The QuickTime movie object window with texture added" ></div></li><li class="li"><p>Save the <code>MyDocument.nib</code> file and quit Interface Builder. </p></li><li class="li"><p>In Xcode, run and build the QTKitPlayer application. When the movie runs, it will open a document-based window with the movie you’ve specified as Untitled. The movie is completely editable. Control-click anywhere in the movie. A contextual menu appears, as shown in <span class="content_text">Figure 2-16</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIJJHHF" title="Figure 2-16The QTKitPlayer with an editable movie displayed"></a><p><strong>Figure 2-16&nbsp;&nbsp;</strong>The QTKitPlayer with an editable movie displayed</p><img src = "../Art/geri_movie_editing_enabled.jpg" alt = "The QTKitPlayer with an editable movie displayed" ></div></li><li class="li"><p>To access the editing features of the player, choose from the menu options shown in <span class="content_text">Figure 2-17</span> or use the contextual menu.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH204-BCIHCFEH" title="Figure 2-17The Edit menu in QTKitPlayer"></a><p><strong>Figure 2-17&nbsp;&nbsp;</strong>The Edit menu in QTKitPlayer</p><img src = "../Art/edit_menu_enabled.jpg" alt = "The Edit menu in QTKitPlayer" ></div></li></ol><a name="//apple_ref/doc/uid/TP40001245-CH204-SW1" title="Extending the Functionality of QTKitPlayer"></a><h2>Extending the Functionality of QTKitPlayer</h2><p>If you’ve followed correctly all the steps described in the previous section of this document, you’ll have built successfully the QTKitPlayer application, which lets you display, control, and edit QuickTime movies. This is only the beginning, however. You can extend the functionality of your media player by taking advantage of the new classes and methods provided in the QuickTime Kit framework. </p><p>For example, with the addition of a few hundred lines of code, you can add import and export capabilities to your application, so it can play QuickTime VR movies, display still images, or export movies to different file formats, such as MPEG-4 and 3GPP. </p><p>If you’re a Cocoa programmer, you’ll already be able to envision the possibilities. If you’re new to Cocoa or QuickTime, you’ll be amazed how quickly and easily you can extend the functionality of your media player. The next chapter describes how you can accomplish this.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Chapter02/02WorkingWithQTKit.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Chapter04/04ExtendingSimpleQTKitApp.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-11-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/Conceptual/QTKitProgrammingGuide/Chapter03/03BuildingQTKItSimpleApp.html%3Fid%3DTP40001245-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/Conceptual/QTKitProgrammingGuide/Chapter03/03BuildingQTKItSimpleApp.html%3Fid%3DTP40001245-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/Conceptual/QTKitProgrammingGuide/Chapter03/03BuildingQTKItSimpleApp.html%3Fid%3DTP40001245-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>