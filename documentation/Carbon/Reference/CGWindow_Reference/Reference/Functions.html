<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Quartz Window Services Reference: Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40008073-CH2" title="Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxGraphicsImaging-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000450" target="_top">Graphics &amp; Imaging</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><!-- Next button --></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40008073-CH2-SW1" title="Functions"></a><h1>Functions</h1><a name="//apple_ref/c/func/CGWindowListCopyWindowInfo" title="CGWindowListCopyWindowInfo"></a><a name="//apple_ref/doc/c_ref/CGWindowListCopyWindowInfo" title="CGWindowListCopyWindowInfo"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-SW3" title="CGWindowListCopyWindowInfo"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-DontLinkElementID_49"></a><h3 class="tight">CGWindowListCopyWindowInfo</h3><p class="spaceabove">Generates and returns information about the selected windows in the current user session.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> CGWindowListCopyWindowInfo(
   <a href="../DataTypes/DataTypes.html#//apple_ref/doc/c_ref/CGWindowListOption">CGWindowListOption</a> option,
   <a href="../DataTypes/DataTypes.html#//apple_ref/doc/c_ref/CGWindowID">CGWindowID</a> relativeToWindow
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>option</em></dt><dd><p>The options describing which window dictionaries to return. Typical options let you return dictionaries for all windows or for windows above or below the window specified in the <em>relativeToWindow</em> parameter. For more information, see <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Window_List_Option_Constants">“Window List Option Constants.”</a></span> </p></dd><dt><em>relativeToWindow</em></dt><dd><p>The ID of the window to use as a reference point when determining which other window dictionaries to return. For options that do not require a reference window, this parameter can be <code><a href="../Constants/Constants.html#//apple_ref/c/macro/kCGNullWindowID">kCGNullWindowID</a></code>. </p></dd></dl><h5 class="tight">Return Value</h5><p>An array of <code><a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/c/tdef/CFDictionaryRef" target="_top">CFDictionaryRef</a></code> types, each of which contains information about one of the windows in the current user session. If there are no windows matching the desired criteria, the function returns an empty array. If you call this function from outside of a GUI security session or when no window server is running, this function returns <code>NULL</code>.</p><h5 class="tight">Discussion</h5><p>You can use this function to get detailed information about the configuration of one or more windows in the current user session. For example, you can use this function to get the bounds of the window, its window ID, and information about how it is managed by the window server. For the list of keys and values that may be present in the dictionary, see <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Required_Window_List_Keys">“Required Window List Keys”</a></span> and <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Optional_Window_List_Keys">“Optional Window List Keys.”</a></span> </p><p>Generating the dictionaries for system windows is a relatively expensive operation. As always, you should profile your code and adjust your usage of this function appropriately for your needs. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGWindow.h</code><a name="//apple_ref/c/func/CGWindowListCreate" title="CGWindowListCreate"></a><a name="//apple_ref/doc/c_ref/CGWindowListCreate" title="CGWindowListCreate"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-SW4" title="CGWindowListCreate"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-DontLinkElementID_50"></a><h3 class="tight">CGWindowListCreate</h3><p class="spaceabove">Returns the list of window IDs associated with the specified windows in the current user session. </p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> CGWindowListCreate(
   <a href="../DataTypes/DataTypes.html#//apple_ref/doc/c_ref/CGWindowListOption">CGWindowListOption</a> option,
   <a href="../DataTypes/DataTypes.html#//apple_ref/doc/c_ref/CGWindowID">CGWindowID</a> relativeToWindow
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>option</em></dt><dd><p>The options describing which window IDs to return. Typical options let you obtain IDs for all windows or for windows above or below the window specified in the <em>relativeToWindow</em> parameter. For more information, see <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Window_List_Option_Constants">“Window List Option Constants.”</a></span> </p></dd><dt><em>relativeToWindow</em></dt><dd><p>The ID of the window to use as a reference point when determining which other windows to return. For options that do not require a reference window, this parameter can be <code><a href="../Constants/Constants.html#//apple_ref/c/macro/kCGNullWindowID">kCGNullWindowID</a></code>. </p></dd></dl><h5 class="tight">Return Value</h5><p>An array of <code><a href="../DataTypes/DataTypes.html#//apple_ref/c/tdef/CGWindowID">CGWindowID</a></code> values corresponding to the desired windows. If there are no windows matching the desired criteria, the function returns an empty array. If you call this function from outside of a GUI security session or when no window server is running, this function returns <code>NULL</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGWindow.h</code><a name="//apple_ref/c/func/CGWindowListCreateDescriptionFromArray" title="CGWindowListCreateDescriptionFromArray"></a><a name="//apple_ref/doc/c_ref/CGWindowListCreateDescriptionFromArray" title="CGWindowListCreateDescriptionFromArray"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-SW5" title="CGWindowListCreateDescriptionFromArray"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-DontLinkElementID_51"></a><h3 class="tight">CGWindowListCreateDescriptionFromArray</h3><p class="spaceabove">Generates and returns information about windows with the specified window IDs.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> CGWindowListCreateDescriptionFromArray(
   <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> windowArray
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>windowArray</em></dt><dd><p>An array of <code><a href="../DataTypes/DataTypes.html#//apple_ref/c/tdef/CGWindowID">CGWindowID</a></code> types, each of which corresponds to a window whose information you want to retrieve. </p></dd></dl><h5 class="tight">Return Value</h5><p>An array of <code><a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/c/tdef/CFDictionaryRef" target="_top">CFDictionaryRef</a></code> types, each of which contains information about one of the windows in the current user session. If there are no windows matching the desired criteria, the function returns an empty array. If you call this function from outside of a GUI security session or when no window server is running, this function returns <code>NULL</code>.</p><h5 class="tight">Discussion</h5><p>This function ignores any window IDs in the <em>windowArray</em> parameter that refer to windows that no longer exist. (This can occur if the user closes a window between the time you retrieve its ID and the time you call this function.) You should therefore not assume that the returned array of dictionaries contains the same number of entries as this parameter. To make it easier to associate window IDs with the correct information, however, each dictionary does contain a <code><a href="../Constants/Constants.html#//apple_ref/c/data/kCGWindowNumber">kCGWindowNumber</a></code> key whose value is the corresponding window ID. For the list of keys and values that may be present in the dictionary, see <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Required_Window_List_Keys">“Required Window List Keys”</a></span> and <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Optional_Window_List_Keys">“Optional Window List Keys.”</a></span> </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGWindow.h</code><a name="//apple_ref/c/func/CGWindowListCreateImage" title="CGWindowListCreateImage"></a><a name="//apple_ref/doc/c_ref/CGWindowListCreateImage" title="CGWindowListCreateImage"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-SW6" title="CGWindowListCreateImage"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-DontLinkElementID_52"></a><h3 class="tight">CGWindowListCreateImage</h3><p class="spaceabove">Returns a composite image based on a dynamically generated list of windows. </p><p class="spaceabove"><pre>
<a href="../../../../GraphicsImaging/Reference/CGImage/Reference/reference.html#//apple_ref/doc/c_ref/CGImageRef" target="_top">CGImageRef</a> CGWindowListCreateImage(
   <a href="../../../../GraphicsImaging/Reference/CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGRect" target="_top">CGRect</a> screenBounds,
   <a href="../DataTypes/DataTypes.html#//apple_ref/doc/c_ref/CGWindowListOption">CGWindowListOption</a> windowOption,
   <a href="../DataTypes/DataTypes.html#//apple_ref/doc/c_ref/CGWindowID">CGWindowID</a> windowID,
   <a href="../DataTypes/DataTypes.html#//apple_ref/doc/c_ref/CGWindowImageOption">CGWindowImageOption</a> imageOption
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>screenBounds</em></dt><dd><p>The rectangle that you want to capture. The coordinates of the rectangle must be specified in screen coordinates, where the screen origin is in the upper-left corner of the main display and y-axis values increase downward. Specify <code><!--a target="_top" -->CGRectNull<!--/a--></code> to indicate the minimum rectangle that encloses the specified windows. Specify <code><!--a target="_top" -->CGRectInfinite<!--/a--></code> to capture the entire desktop area.</p></dd><dt><em>windowOption</em></dt><dd><p>The options describing which windows to include in the image. Typical options let you choose all windows or windows above or below the window specified in the <em>windowID</em> parameter. For more information, see <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Window_List_Option_Constants">“Window List Option Constants.”</a></span> </p></dd><dt><em>windowID</em></dt><dd><p>The ID of the window to use as a reference point when determining which other windows to include in the image. For options that do not require a reference window, this parameter can be <code><a href="../Constants/Constants.html#//apple_ref/c/macro/kCGNullWindowID">kCGNullWindowID</a></code>. </p></dd><dt><em>imageOption</em></dt><dd><p>The options that determine which parts of the window to capture. If you specified <code>CGRectNull</code> for the <em>screenBounds</em> parameter, these options affect the resulting bounding box used for the image. For example, if you include a window’s screen effects in the image, the bounding box may need to be slightly larger to accommodate those effects. For a list of possible options, see <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Window_Image_Types">“Window Image Types.”</a></span> </p></dd></dl><h5 class="tight">Return Value</h5><p>A composite image formed from the contents of the specified set of windows. If the windows are unreadable or no windows meet the specified criteria, this function returns an image that is either 0 by 0 pixels in size or is of the specified size but is filled with the transparent black color. If you call this function from outside of a GUI security session or when no window server is running, this function returns <code>NULL</code>. </p><h5 class="tight">Discussion</h5><p>Any windows that are onscreen but whose sharing setting is set to <code><a href="../Constants/Constants.html#//apple_ref/c/econst/kCGWindowSharingNone">kCGWindowSharingNone</a></code> are skipped and not included in the resulting image. If this results in no windows being available in the selected range, this function returns <code>NULL</code>. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGWindow.h</code><a name="//apple_ref/c/func/CGWindowListCreateImageFromArray" title="CGWindowListCreateImageFromArray"></a><a name="//apple_ref/doc/c_ref/CGWindowListCreateImageFromArray" title="CGWindowListCreateImageFromArray"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-SW7" title="CGWindowListCreateImageFromArray"></a><a name="//apple_ref/doc/uid/TP40008073-CH2-DontLinkElementID_53"></a><h3 class="tight">CGWindowListCreateImageFromArray</h3><p class="spaceabove">Returns a composite image of the specified windows.</p><p class="spaceabove"><pre>
<a href="../../../../GraphicsImaging/Reference/CGImage/Reference/reference.html#//apple_ref/doc/c_ref/CGImageRef" target="_top">CGImageRef</a> CGWindowListCreateImageFromArray(
   <a href="../../../../GraphicsImaging/Reference/CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGRect" target="_top">CGRect</a> screenBounds,
   <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> windowArray,
   <a href="../DataTypes/DataTypes.html#//apple_ref/doc/c_ref/CGWindowImageOption">CGWindowImageOption</a> imageOption
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>screenBounds</em></dt><dd><p>The rectangle that you want to capture. The coordinates of the rectangle must be specified in screen coordinates, where the screen origin is in the upper-left corner of the main display and y-axis values increase downward. Specify <code><!--a target="_top" -->CGRectNull<!--/a--></code> to indicate the minimum rectangle that encloses the specified windows. Specify <code><!--a target="_top" -->CGRectInfinite<!--/a--></code> to capture the entire desktop area.</p></dd><dt><em>windowArray</em></dt><dd><p>An array of <code><a href="../DataTypes/DataTypes.html#//apple_ref/c/tdef/CGWindowID">CGWindowID</a></code> types, each of which corresponds to a window whose information you want to retrieve. The order of the window IDs also affects the compositing order of the windows; see the discussion for more information about this behavior. </p></dd><dt><em>imageOption</em></dt><dd><p>The options that determine which parts of the window to capture. If you specified <code>CGRectNull</code> for the <em>screenBounds</em> parameter, these options help determine the resulting bounding box used for the image. For example, if you include a window’s screen effects in the image, the bounding box may need to be slightly larger to accommodate those effects. For a list of possible options, see <span class="content_text"><a href="../Constants/Constants.html#//apple_ref/doc/constant_group/Window_Image_Types">“Window Image Types.”</a></span> </p></dd></dl><h5 class="tight">Return Value</h5><p>A composite image formed from the contents of the specified set of windows. Invalid window IDs are ignored. If the windows are unreadable (because their sharing setting is set to <code><a href="../Constants/Constants.html#//apple_ref/c/econst/kCGWindowSharingNone">kCGWindowSharingNone</a></code>, for example) or if no windows meet the specified criteria, this function returns an image that is either 0 by 0 pixels in size or is of the specified size but is filled with the transparent black color. If you call this function from outside of a GUI security session or when no window server is running, this function returns <code>NULL</code>. </p><h5 class="tight">Discussion</h5><p>This function ignores any window IDs in the <em>windowArray</em> parameter that refer to windows that no longer exist. (This can occur if the user closes a window between the time you retrieve its ID and the time you call this function.) If this results in no windows being available in the selected range, this function returns <code>NULL</code>. </p><p>This function ignores the onscreen ordering of the windows and instead composites them using the order specified in the <em>windowArray</em> parameter. In other words, windows at the beginning of the array are composited in front of windows at the end of the array.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGWindow.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><!-- Next button --></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-01-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/CGWindow_Reference/Reference/Functions.html%3Fid%3DTP40008073-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/CGWindow_Reference/Reference/Functions.html%3Fid%3DTP40008073-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/CGWindow_Reference/Reference/Functions.html%3Fid%3DTP40008073-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>