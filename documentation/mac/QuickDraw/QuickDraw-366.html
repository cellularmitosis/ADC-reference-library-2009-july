<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Picture Resource (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING366></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-365.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-367.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-332.html"><B>Chapter 7 - Pictures</B></A> / <A HREF="QuickDraw-335.html"><B>Pictures Reference</B></A><BR><DL><DD><A HREF="QuickDraw-365.html"><B>Resources</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING366-0></A>
<H3><A NAME=MARKER-9-287></A>The Picture Resource</H3>
 <A NAME=MARKER-16-289></A><A NAME=MARKER-16-289></A><A NAME=MARKER-2-290></A><A NAME=MARKER-2-291></A><A NAME=MARKER-2-292></A><A NAME=MARKER-2-293></A>A picture (<CODE>'PICT'</CODE>) resource contains QuickDraw drawing instructions that can be played back using the <CODE>DrawPicture</CODE> procedure.<P>
 You may find it useful to store pictures in the resource fork of your application or document file. For example, when the user chooses the About command in the Apple menu for your application, you might wish to display a window containing your company's logo. Or, if yours is a page-layout application, you might want to store all the images created by the user for a document as resources in the document file.<P>
 You can use high-level tools like the ResEdit resource editor, available from APDA, to create and store images as <CODE>'PICT'</CODE> resources for distribution with your files. <P>
 To save a picture in a <CODE>'PICT'</CODE> resource while your application is running, you should use Resource Manager routines, such as <CODE>FSpOpenResFile</CODE> (to open your application's resource fork), <CODE>ChangedResource</CODE> (to change an existing <CODE>'PICT'</CODE> resource), <CODE>AddResource</CODE> (to add a new <CODE>'PICT'</CODE> resource), <CODE>WriteResource</CODE> (to write the data to the resource), and <CODE>CloseResFile</CODE> and <CODE>ReleaseResource</CODE> (to conclude saving the resource). These routines are described in the chapter "Resource Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>.<P>
 All <CODE>'PICT'</CODE> resources must be marked purgeable, and they must have resource IDs greater than 127.<P>
 If you examine the compiled version of a <CODE>'PICT'</CODE> resource, as represented in <A HREF=#MARKER-9-294>Figure 7-4</A>, you find that it contains the following elements:<P>
<UL>
<LI>The size of the resource--if the resource contains a picture created in the version 1 format. Because version 2 and extended version 2 pictures can be much larger than the 32 KB limit imposed by the size of this element, you should use the Resource Manager function <CODE>MaxSizeResource</CODE> (described in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>) to determine the size of a picture in version 2 and extended version 2 format.
<LI>The bounding rectangle for the picture. The <CODE>DrawPicture</CODE> procedure uses this rectangle to scale the picture when you draw it into a destination rectangle of a different size.
<LI>An array of picture opcodes. A picture opcode is a number that the <CODE>DrawPicture</CODE> procedure uses to determine what object to draw or what mode to change for subsequent drawing. For debugging purposes, picture opcodes are listed in Appendix A at the back of this book. Your application generally should not read or write this picture data directly. Instead, you should use the <CODE>OpenCPicture</CODE> (or <CODE>OpenPicture</CODE>), <CODE>ClosePicture</CODE>, and <CODE>DrawPicture</CODE> routines to process these opcodes.<P>
</UL>
<B>Figure 7-4  <A NAME=MARKER-9-294></A>Structure of a compiled picture (<CODE>'PICT'</CODE>) resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/PICT-L-02.jpg"><BR>
 To retrieve a <CODE>'PICT'</CODE> resource, specify its resource ID to the <CODE>GetPicture</CODE> function, described on <A HREF=QuickDraw-351.html#MARKER-9-208>page 7-45</A>, which returns a handle to the picture. <A HREF=QuickDraw-334.html#MARKER-9-77>Listing 7-8 on page 7-19</A> illustrates an application-defined routine that retrieves and draws a picture stored as a resource. <P>
 Appendix A, "Picture Opcodes," shows examples of disassembled picture resources.<A NAME=MARKER-2-499></A><A NAME=MARKER-2-296></A><A NAME=MARKER-2-297></A><A NAME=MARKER-2-298></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-365.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-367.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
