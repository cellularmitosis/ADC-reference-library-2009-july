<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>ModemStatus(IM: D)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING260></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="Devices-259.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-261.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Devices-2.html"><B>Devices</B></A> / <BR><DD><A HREF="Devices-230.html"><B>Chapter 6 - Power Manager</B></A> / <A HREF="Devices-233.html"><B>Power Manager Reference</B></A><BR><DL><DD><A HREF="Devices-240.html"><B>Power Manager Routines</B></A> / <A HREF="Devices-259.html"><B>Reading the Status of the Internal Modem</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING260-0></A>
<H3><A NAME=MARKER-11-229></A><A NAME=MARKER-9-230></A>ModemStatus<A NAME=MARKER-2-231></A></H3>
 You can use the <CODE>ModemStatus</CODE> function to get information about the state of the internal modem.<P>
<PRE>
FUNCTION ModemStatus (VAR Status: Byte): OSErr;
</PRE>
<DL>
<DT><CODE>Status</CODE>
<DD> On exit, a byte value whose bits encode information about the current state of the internal modem. See the description below for the meaning of each bit.
</DL>
<A NAME=HEADING260-4></A>
<H5>DESCRIPTION</H5>
 The <CODE>ModemStatus</CODE> function returns information about the internal modem in a portable Macintosh computer. Bits 0 and 2 through 5 of the <CODE>Status</CODE> parameter encode information about the state of the internal modem. (Currently, bits 6 and 7 are reserved; in addition, bit 1 is reserved and is always set.) The Power Manager recognizes the following constants for specifying bits in the <CODE>Status</CODE> parameter.<P>
<PRE>
CONST
   modemOnBit           = 0;  {1 if modem is on}
   ringWakeUpBit        = 2;  {1 if ring wakeup is enabled}
   modemInstalledBit    = 3;  {1 if internal modem is installed}
   ringDetectBit        = 4;  {1 if incoming call is detected}
   modemOnHookBit       = 5;  {1 if modem is off hook}
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-233></A><A NAME=MARKER-2-233></A>modemOnBit</CODE>
<DD> The modem's power is on or off. If this bit is set, the modem is switched on. You can use the serial power control functions to control power to the modem. See <A HREF=Devices-232.html#MARKER-9-151>"Switching Serial Power On and Off," beginning on page 6-25</A>, for information about these functions.
<DT><CODE><A NAME=MARKER-2-235></A><A NAME=MARKER-2-235></A>ringWakeUpBit</CODE>
<DD> The state of the ring-wakeup feature. If this bit is set, the ring-wakeup feature is enabled.
<DT><CODE><A NAME=MARKER-2-237></A><A NAME=MARKER-2-237></A>modemInstalledBit</CODE>
<DD> The modem is or is not installed. If this bit is set, an internal modem is installed.
<DT><CODE><A NAME=MARKER-2-239></A><A NAME=MARKER-2-239></A>ringDetectBit</CODE>
<DD> The ring-detect state. If this bit is set, the modem has detected an incoming call.
<DT><CODE><A NAME=MARKER-2-241></A><A NAME=MARKER-2-241></A>modemOnHookBit</CODE>
<DD> The modem is on or off hook. If this bit is set, the modem is off hook. The modem indicates that it is off hook whenever it is busy sending or receiving data or processing commands. The modem cannot receive an incoming call when it is off hook.
</DL>
 The Power Manager also defines these bit masks:<P>
<PRE>
CONST
   modemOnMask          = $1;    {modem on}
   ringWakeUpMask       = $4;    {ring wakeup enabled}
   modemInstalledMask   = $8;    {internal modem installed}
   ringDetectMask       = $10;   {incoming call detected}
   modemOnHookMask      = $20;   {modem off hook}
</PRE>
 The user can use the Portable or PowerBook control panel to enable or disable the ring-wakeup feature. When the ring-wakeup feature is enabled and the computer is in the sleep state, the Power Manager returns the computer to the operating state when the modem receives an incoming call.<A NAME=MARKER-2-242></A><A NAME=MARKER-2-243></A><A NAME=MARKER-2-244></A><A NAME=MARKER-2-245></A><A NAME=MARKER-2-246></A><A NAME=MARKER-2-247></A><A NAME=MARKER-2-248></A><A NAME=MARKER-2-249></A><A NAME=MARKER-2-250></A><P>
<A NAME=HEADING260-16></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error</TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Devices-259.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-261.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Devices-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML>  
