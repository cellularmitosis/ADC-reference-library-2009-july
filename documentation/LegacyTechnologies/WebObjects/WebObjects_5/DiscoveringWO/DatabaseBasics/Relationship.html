<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Relationship</title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Database_Structure.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="../EOFArchitecture/index.html" target="_top"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "BCIGHFEF"></a><h2><font face="Lucida Grande,Helvetica,Arial">Relationship</font></h2><!-- apple_doc: pageHeadingEnd --><p>Part of a database's scheme is each table's relationshipswith other tables. Each relationship has source and destinationkeys that define it.</p><p>Rows and tables can relate in many ways. Just as with object-orientedprogramming, the way you design your database tables is dependson how you intend to use them. Relationships can model ownership,where one row is a subordinate part of another row, but placed ina separate table for organization&#151;for example, each row in a PERSONtable can <em>own</em> a row in an ADDRESS table becauseevery person must have a mailing address. Relationships can be optionalor required. In the Authors database, every book must have an author,but it is conceivable that some authors are as yet unpublished (andhence would have no rows in the BOOK table).</p><p>Since a relationship leads from a source table to a destinationtable, we speak of <em>following</em> a relationship.While Enterprise Objects removes most database considerations fromusing your object's relationships, it's useful to understandhow a relationship is maintained at the database level.</p><p>Relationships are followed not from table to table but froma specific row into another row. It doesn't make any sense toask what the author of the BOOK table is, but each row of the BOOKtable has a corresponding row in the AUTHOR table.</p><p>To link table rows, <b>foreign keys</b> are used.Foreign keys are columns in the source table whose rows point tothe primary key column in the target table. For example, the BOOK tablehas a foreign key column (AUTHOR_ID) that is used to find the correspondingrow in the AUTHOR table (the author of the book). AUTHOR_ID in theBOOK table does not provide any information on a book. Its onlypurpose is to link the rows of the BOOK table with rows on the AUTHORtable.</p><p>One important attribute of a relationship is called ordinality.Ordinality is a measure of whether a relationship necessarily relatesa row to only one other row, or to multiple rows in the destinationtable. This breaks relationships into two types: <b>to-one</b> or <b>to-many</b>.</p><br><a name = "TPXREF105"></a><h3><font face="Lucida Grande,Helvetica,Arial">To-One Relationships</font></h3><p>A to-one relationship, as the name suggests, is one wherethe source row is connected to only one other row by the relationship.Each row in the BOOK table has only one author in the AUTHOR table.</p><p>The destination column (or columns) of a to-one relationshipmust be the same as the primary key columns of the destination table.This guarantees that there is only one destination row for any givensource row.</p><p>To find the row corresponding to a specific book's author,you would perform the following steps:</p><ol><li>Get the sourceand destination columns.<p>According to the definition of therelationship, the source column is AUTHOR_ID in the BOOK table,and the destination column is AUTHOR_ID in the AUTHOR table.</p></font></li><li>Get the value in the source row's AUTHOR_ID column.</font></li><li>Find the target row in the AUTHOR table (the row whose AUTHOR_IDcolumn is equal to the value of the AUTHOR_ID column in the sourcerow).<p>Since AUTHOR_ID is the primary key for the AUTHOR table,there is only one matching row. This row contains data about thebook's author.</p></font></li></ol><br><a name = "TPXREF106"></a><h3><font face="Lucida Grande,Helvetica,Arial">To-Many Relationships</font></h3><p>Alternatively, a relationship can have the ability to connectthe source row with multiple destination rows. For example, in theAuthors database, each author can have multiple books. Rememberthat the AUTHOR_ID column in the BOOK table is a foreign key, nota primary key. Therefore, that column doesn't have to have uniquevalues throughout the rows of the BOOK table.</p><p>To find the BOOK rows corresponding to an AUTHOR row, youwould perform the following steps:</p><ol><li>Get the sourceand destination columns.<p>According to the definition of therelationship, the source column is AUTHOR_ID<code></code> in theAUTHOR table, and the destination attribute is AUTHOR_ID in theBOOK table.</p></font></li><li>Get the value in the row's AUTHOR_ID column for the sourcerow.</font></li><li>Find the rows in the BOOK table whose AUTHOR_ID column'svalue is equal to the value from the AUTHOR_ID column in the sourcerow.<p>Notice that AUTHOR_ID is not the primary key for the BOOKtable. This means that the relationship could lead to more thanone row in the BOOK table. Each of these would have the same valuein their AUTHOR_ID column, meaning that the books that they representhave all been written by the same author.</p><p>Further, there'sno guarantee that there would be any rows in the BOOK table whose AUTHOR_IDcolumn's value match the value of the AUTHOR_ID column in the sourcerow at all. So the relationship could lead to no rows in the BOOKtable.</p></font></li></ol><br><a href="Database_Structure.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="../EOFArchitecture/index.html" target="_top"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<hr alt=""><p><font face="Palatino" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>