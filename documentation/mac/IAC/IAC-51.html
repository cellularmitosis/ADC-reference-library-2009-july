<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Section Record(IM:IC)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING51></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="IAC-50.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-52.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="IAC-2.html"><B>Interapplication Communication</B></A> / <BR><DD><A HREF="IAC-23.html"><B>Chapter 2 - Edition Manager</B></A> / <A HREF="IAC-48.html"><B>Edition Manager Reference</B></A><BR><DL><DD><A HREF="IAC-49.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING51-0></A>
<H3><A NAME=MARKER-9-387></A>The Section Record</H3>
 A section record identifies a specific publisher or subscriber section. It contains information to identify the section as a publisher or a subscriber, a time stamp to record the last modification of the section, and unique identification for each section. Many Edition Manager routines require a handle to a section record as a parameter. The <CODE>SectionRecord</CODE> data type defines a section record.<A NAME=MARKER-2-388></A><P>
<PRE>
TYPE SectionRecord = 
   RECORD
      version:       SignedByte;    {always 1 in 7.0}
      kind:          SectionType;   {publisher or subscriber}
      mode:          UpdateMode;    {automatic or manual}
      mdDate:        TimeStamp;     {last change in document}
      sectionID:     LongInt;       {application-specific, }
                                    { unique per document}
      refCon:        LongInt;       {application-specific}
      alias:         AliasHandle;   {handle to alias record}

      {The following fields are private and are set up by the }
      { RegisterSection function. Do not modify the private }
      { fields.}
      subPart:       LongInt;       {private}
      nextSection:   SectionHandle; {private, do not use as a }
                                    { linked list}
      controlBlock:  Handle;        {may be used for comparison }
                                    { only}
      refNum:        EditionRefNum; {private}
END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>version</CODE>
<DD> Indicates the version of the section record, currently $01.<A NAME=MARKER-2-65></A>
<DT><CODE>kind</CODE>
<DD> Defines the section type as either publisher or subscriber with the <CODE>stPublisher</CODE> or <CODE>stSubscriber</CODE> constant.<A NAME=MARKER-2-66></A><A NAME=MARKER-2-57></A><A NAME=MARKER-2-616></A>
<DT><CODE>mode</CODE>
<DD> Indicates if editions are updated automatically or manually.<A NAME=MARKER-2-611></A>
<DT><CODE>mdDate</CODE>
<DD> Indicates which version (modification date) of the section's contents is contained within the publisher or subscriber. The <CODE>mdDate</CODE> field is set to 0 when you create a new subscriber section and to the current time when you create a new publisher. Be sure to update this field each time publisher data is modified. The section's modification date is compared to the edition's modification date to determine whether the section and the edition contain the same data. The section modification date is displayed in the publisher and subscriber options dialog boxes. See <A HREF=IAC-31.html#MARKER-9-156>"Closing an Edition" on page 2-28</A> for detailed information.<A NAME=MARKER-2-58></A>
<DT><CODE>sectionID</CODE>
<DD> Provides a unique number for each section within a document. A simple way to implement this is to create a counter for each document that is saved to disk with the document. The counter should start at 1. The section ID is currently used as a tie breaker in the <CODE>GoToPublisherSection</CODE> function when there are multiple publishers to the same edition in a single document. The section ID should not be 0 or -1. See <A HREF=IAC-525.html#MARKER-9-421>"Duplicating Publishers and Subscribers" on page 2-58</A> for information on multiple publishers.<A NAME=MARKER-9-271></A><A NAME=MARKER-2-60></A>
<DT><CODE>refCon</CODE>
<DD> Reference constant available for application-specific use.<A NAME=MARKER-2-61></A>
<DT><CODE>alias</CODE>
<DD> Contains a handle to the alias record for a particular section within a document.<A NAME=MARKER-2-62></A><A NAME=MARKER-2-63></A>
</DL>
 Whenever the user creates a publisher or subscriber, call the <CODE>NewSection</CODE> function (described on <A HREF=IAC-56.html#MARKER-9-407>page 2-75</A>) to create a section record and alias record.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="IAC-50.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-52.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="IAC-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
