<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A QA1094: Intercepting movie controller actions</title><meta name="keywords" content="movie controller, actions"><meta name="Description" content="Technical Q&amp;A QA1094: This Q&amp;A demonstrates how to interceptmovie controller actions."><meta name="categories" content="QuickTime Components and QuickTime Movie Toolbox"><meta name="week-posted" content="Nov 12, 2001 - Nov 16, 2001"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001643" title="Intercepting movie controller actions"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/QuickTime/index.html">QuickTime</a> &gt; <a href="../../technicalqas/QuickTime/idxMovieBasics-date.html">Movie Basics</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A QA1094</div>
<div id="pageheadsub">Intercepting movie controller actions</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600> <TR> <td align="left"><!-- begin_content --><hr width=500 align=center>                  <P id=p2>Q:      I'd like to intercept movie controller actions, so I can      prevent the action from being handled by the movie controller      or to perform some custom action of my own in response to      a particular action. Is this possible?</p>                  <P id=p4>A:      Movie controller actions can be intercepted before being      sent to the movie controller via a movie controller action      filter function. You associate a movie controller action      filter procedure with a given movie controller by calling      the MCSetActionFilterWithRefCon functions as shown in listing 1.</p><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>MCActionFilterWithRefConUPP myFilterProcUPP;myFilterProcUPP = NewMCActionFilterWithRefConProc(myFilterProcedure);MCSetActionFilterWithRefCon(movieController,                           myFilterProcUPP,                           0);</pre></TD></TR><TR><td align="left"><P><B>Listing 1</B>.  Calling      the MCSetActionFilterWithRefCon functions.</P></TD></TR></TABLE></CENTER><BR><BR><P id=p4>      The movie controller component calls your action filter function      each time the component receives an action for its movie      controller. Your filter function is then free to handle the      action or to refer it back to the movie controller component.      If you refer it back to the movie controller component, the      component handles the action.</p><P id=p4>      Your action filter function should refer any actions that      you do not want to handle back to the calling movie controller      component. Your function refers actions back to the movie      controller component by returning a value of false. If your      function returns a value of true, the movie controller component      performs no further processing for the action.</p><P id=p4>      Note if you use any Movie Toolbox functions that modify the      movie in your action filter function, be sure to call the      MCMovieChanged function.</p><P id=p4>      As an example, listing 2 provides a sample filter function which intercepts      mouse click actions for the movie.</p><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>Boolean myFilterProcedure(MovieController mc, short action,         void*params, long refCon){        if (action == mcActionMovieClick)                return TRUE;                .                .                .        //other action handlers}</pre></TD></TR><TR><td align="left"><P><B>Listing 2</B>.  Sample action filter function</P></TD></TR></TABLE></CENTER><BR><BR>          <hr width=500 align=center> <!-- begin_date --><H4 ALIGN=center>[Nov 14 2001]</H4><!-- end_date --></TD> </TR> </TABLE></CENTER><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/qa2001/qa1094.html%3Fid%3DDTS10001643-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/qa2001/qa1094.html%3Fid%3DDTS10001643-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/qa2001/qa1094.html%3Fid%3DDTS10001643-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>