<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Data Structures for Applications (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING347></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-346.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-348.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-333.html"><B>Chapter 6 - Component Manager</B></A> / <A HREF="MoreToolbox-346.html"><B>Component Manager Reference</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING347-0></A>
<H2><A NAME=MARKER-9-149></A>Data Structures for Applications</H2>
 <A NAME=MARKER-2-393></A>This section describes the format and content of the data structures used by applications that use components.<P>
 Your application can use the component description record to find components that provide specific services or meet other selection criteria. <P>
<A NAME=HEADING347-3></A>
<H3><A NAME=MARKER-9-151></A>The Component Description Record</H3>
 <A NAME=MARKER-2-61></A>The component description record identifies the characteristics of a component, including the type of services offered by the component and its manufacturer.<P>
 Applications and components use component description records in different ways. <BR>An application that uses components specifies the selection criteria for finding a component in a component description record. A component uses the component description record to specify its registration information and capabilities. If you are developing a component, see <A HREF=MoreToolbox-365.html#MARKER-9-246>page 6-50</A> for information on how a component uses the component description record.<P>
 <A NAME=MARKER-2-205></A>The <CODE>ComponentDescription</CODE> data type defines the component description record.<P>
<PRE>
TYPE  ComponentDescription = 
      RECORD
         componentType:       OSType;     {type}
         componentSubType:    OSType;     {subtype}
         componentManufacturer:           {manufacturer}
                              OSType;     
         componentFlags:      LongInt;    {control flags}
         componentFlagsMask:  LongInt;    {mask for control }
                                          { flags}
      END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE><A NAME=MARKER-2-87></A>componentType</CODE>
<DD> <A NAME=MARKER-2-201></A>A four-character code that identifies the type of component. All components of a particular type must support a common set of interface routines. For example, drawing components all have a component type of <CODE>'draw'</CODE>.
<DT>
<DD> Your application can use this field to search for components of a given type. You specify the component type in the <CODE>componentType</CODE> field of the component description record you supply to the <CODE>FindNextComponent</CODE> or <CODE>CountComponents</CODE> routine. A value of 0 operates as a wildcard.<A NAME=MARKER-2-136></A>
<DT><CODE><A NAME=MARKER-9-246></A>componentSubType</CODE>
<DD> <A NAME=MARKER-2-144></A>A four-character code that identifies the subtype of the component. Different subtypes of a component type may support additional features or provide interfaces that extend beyond the standard routines for a given component type. For example, the subtype of drawing components indicates the type of object the component draws. Drawing components that draw ovals have a subtype <BR>of <CODE>'oval'</CODE>.
<DT>
<DD> Your application can use the <CODE>componentSubType</CODE> field to <BR>perform a more specific lookup operation than is possible using only the <CODE>componentType</CODE> field. For example, you may want your application to use only components of a certain <BR>component type (<CODE>'draw'</CODE>) that also have a specific entry <BR>in the <CODE>componentSubType</CODE> field (<CODE>'oval'</CODE>). By specifying particular values for both fields in the component description record that you supply to the <CODE>FindNextComponent</CODE> or <CODE>CountComponents</CODE> routine, your application retrieves information about only those components that meet both of these search criteria. A value of 0 operates as a wildcard.<A NAME=MARKER-2-137></A>
<DT><CODE><A NAME=MARKER-2-116></A>componentManufacturer</CODE>
<DD> <A NAME=MARKER-9-352></A>A four-character code that identifies the manufacturer of the component. This field allows for further differentiation between individual components. For example, components made by a specific manufacturer may support an extended feature set. Components provided by Apple use a manufacturer value <BR>of <CODE>'appl'</CODE>.
<DT>
<DD> Your application can use this field to find components from a certain manufacturer. Specify the appropriate manufacturer code in the <CODE>componentManufacturer</CODE> field of the component description record you supply to the <CODE>FindNextComponent</CODE> or <CODE>CountComponents</CODE> routine. A value of 0 operates as a wildcard.
<DT><CODE><A NAME=MARKER-9-76></A>componentFlags</CODE>
<DD> A 32-bit field that provides additional information about a particular component.
<DT>
<DD> The high-order 8 bits are defined by the Component Manager. You should usually set these bits to 0.
<DT>
<DD> The low-order 24 bits are specific to each component type. These flags can be used to indicate the presence of features or capabilities in a given component.
<DT>
<DD> Your application can use these flags to further narrow the search criteria applied by the <CODE>FindNextComponent</CODE> or <CODE>CountComponents</CODE> routine. If you use the <CODE>componentFlags</CODE> field in a component search, you use the <CODE>componentFlagsMask</CODE> field to indicate which flags are to be considered in the search.
<DT><CODE><A NAME=MARKER-9-164></A><A NAME=MARKER-9-295></A>componentFlagsMask</CODE>
<DD> A 32-bit field that indicates which flags in the <CODE>componentFlags</CODE> field are relevant to a particular component search operation. 
<DT>
<DD> For each flag in the <CODE>componentFlags</CODE> field that is to be considered as a search criterion by the <CODE>FindNextComponent</CODE> or <CODE>CountComponents</CODE> routine, your application should set the corresponding bit in the <CODE>componentFlagsMask</CODE> field to 1. The Component Manager considers only these flags during the search. You specify the desired flag value (either 0 or 1) in the <CODE>componentFlags</CODE> field. 
<DT>
<DD> For example, to look for a component with a specific control flag that is set to 0, set the appropriate bit in the <CODE>ComponentFlags</CODE> field to 0 and the same bit in the <CODE>ComponentFlagsMask</CODE> field to 1. To look for a component with a specific control flag that is set to 1, <BR>set the bit in the <CODE>ComponentFlags</CODE> field to 1 and the same bit in <BR>the <CODE>ComponentFlagsMask</CODE> field to 1. To ignore a flag, set the bit <BR>in the <CODE>ComponentFlagsMask</CODE> field to 0.
<DT>
<DD> <A HREF=#MARKER-9-166>Figure 6-3</A> shows how the various fields interact during a search. In the case depicted in the figure, the <CODE>componentFlagsMask</CODE> field of a component description record supplied to a search routine specifies that only the low-order four flags of the <CODE>componentFlags</CODE> field are to be examined during the search. The <CODE>componentFlags</CODE> fields in the component description records of components A and B have a number of flags set. However, in this example the mask specifies that the Component Manager examine only the low-order 4 bits, and therefore only component A meets the search criteria.
</DL>
<B>Figure 6-3  <A NAME=MARKER-9-166></A><A NAME=MARKER-21-167></A>Interaction between the <CODE>componentFlags</CODE> and <CODE>componentFlagsMask</CODE> fields<A NAME=MARKER-21-313></A><A NAME=MARKER-2-15></A><A NAME=MARKER-2-207></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/CM-L-05.jpg">
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-346.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-348.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
