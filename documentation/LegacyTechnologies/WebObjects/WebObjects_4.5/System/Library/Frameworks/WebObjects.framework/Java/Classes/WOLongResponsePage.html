<HTML>		<HEAD>		<TITLE>			WOLongResponsePage		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!-- #include virtual="/techpubs/navbar" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>WebObjects Reference</font><br><br><!--end of path --><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <BR><h1><FONT COLOR=\"#000066\"><a name="//apple_ref/java/cl/WOLongResponsePage">WOLongResponsePage</a></FONT></h1><br><blockquote><b>Inheritsfrom: </b> <a frame= "conv" href="WOComponent.html#WOComponent">WOComponent</a> <a frame= "conv" href="WOElement.html#WOElement">WOElement</a> NSObject</blockquote><blockquote><b>Package: </b>com.apple.yellow.webobjects</blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>WOLongReponsePage is an abstract subclass of WOComponent thatspawns a separate thread in which to perform the action and returnsa status page indicating that the request is being processed. UseWOLongReponsePage when a requested action will take a long timeto complete (more than 5 seconds, say).</p><p>To use WOLongResponsePage, your long-running action shoulduse WOComponent's  <a frame= "conv" href="WOComponent.html#//apple_ref/java/instm/WOComponent/pageWithName">pageWithName</a> method to instantiate andreturn a component that is a subclass of WOLongResponsePage. This subclassshould override the  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/performAction">performAction</a> methodand perform the actual computation. </p><br><table border = \"1\"><tr><td>If you access WebObjectsframework objects from within your implementation of  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/performAction">performAction</a>, youmust check out the session (using WOSessionStore's  <a frame= "conv" href="WOSessionStore.html#//apple_ref/java/instm/WOSessionStore/checkOutSessionWithID">checkOutSessionWithID</a> method)just before invoking the WebObjects framework method, and checkit back in (using WOSessionStore's  <a frame= "conv" href="WOSessionStore.html#//apple_ref/java/instm/WOSessionStore/checkInSessionForContext">checkInSessionForContext</a> method)just after.</td></tr</table><br><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Performing the computation</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/performAction">performAction</a></dd></dl><dl><dt>Returning pages</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/cancelPageForStatus">cancelPageForStatus</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/pageForException">pageForException</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/pageForResult">pageForResult</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/refreshPageForStatus">refreshPageForStatus</a></dd></dl><dl><dt>Locking</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/lock">lock</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/unlock">unlock</a></dd></dl><dl><dt>Managing refresh</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/refresh">refresh</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/refreshInterval">refreshInterval</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/setRefreshInterval">setRefreshInterval</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/setStatus">setStatus</a></dd></dl><dl><dt>Managing cancellation</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/cancel">cancel</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/isCancelled">isCancelled</a></dd></dl></blockquote><BR><BR><h2>Instance Methods</h2><hr><a name = "CBGDEEGG"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/cancel">cancel</a></h3></a><p><code>public WOComponent <b>cancel</b>()</code></p><p>Cancels the request. You should bind acancel button on the refresh page to this method.</p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/isCancelled">isCancelled</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CBGCFFHJ"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/cancelPageForStatus">cancelPageForStatus</a></h3></a><p><code>public WOComponent <b>cancelPageForStatus</b>(Object <em>status</em>)</code></p>Returns the cancel page, which is displayedwhen the request is cancelled.<hr WIDTH=25% ALIGN=LEFT><a name = "CBGBHBFG"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/isCancelled">isCancelled</a></h3></a><p><code>public boolean <b>isCancelled</b>()</code></p><p>Returns true if the request has been cancelled.The long running computation should check this value to see if itshould abort.</p><p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/cancel">cancel</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CBGCBJBA"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/lock">lock</a></h3></a><p><code>public void <b>lock</b>()</code></p><p>Locks the page.</p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/unlock">unlock</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CBGDBBIG"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/pageForException">pageForException</a></h3></a><p><code>public WOComponent <b>pageForException</b>(Throwable <em>anException</em>)</code></p>Returns the exception page, which is displayedwhen an exception occurs in  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/performAction">performAction</a>.<hr WIDTH=25% ALIGN=LEFT><a name = "CBGCEDEB"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/pageForResult">pageForResult</a></h3></a><p><code>public WOComponent <b>pageForResult</b>(Object <em>aResult</em>)</code></p>Returns the result page that is displayed when  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/performAction">performAction</a> completes.<hr WIDTH=25% ALIGN=LEFT><a name = "CBGDEHJF"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/performAction">performAction</a></h3></a><p><code>public Object <b>performAction</b>()</code></p>Override this method to perform the requestedlong computation. Returns the result of that computation as an object.<hr WIDTH=25% ALIGN=LEFT><a name = "CBGBBBDF"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/refresh">refresh</a></h3></a><p><code>public WOComponent <b>refresh</b>()</code></p>Called by the WOMetaRefresh invokeAction callback(can also be called manually if the page is not self refreshing).This method either invokes  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/pageForException">pageForException</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/pageForResult">pageForResult</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/refreshPageForStatus">refreshPageForStatus</a>,or  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/cancelPageForStatus">cancelPageForStatus</a> dependingon the state of the long response.<hr WIDTH=25% ALIGN=LEFT><a name = "CBGCAHED"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/refreshInterval">refreshInterval</a></h3></a><p><code>public double <b>refreshInterval</b>()</code></p>Returns the interval after which the refreshpage is refreshed.<hr WIDTH=25% ALIGN=LEFT><a name = "CBGCBFIE"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/refreshPageForStatus">refreshPageForStatus</a></h3></a><p><code>public WOComponent <b>refreshPageForStatus</b>(Object <em>status</em>)</code></p>Returns the page that is displayed while thelong-running computation is running. This page displays the currentstatus of the computation.<hr WIDTH=25% ALIGN=LEFT><a name = "CBGEBIEA"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/setRefreshInterval">setRefreshInterval</a></h3></a><p><code>public void <b>setRefreshInterval</b>(double <em>interval</em>)</code></p><p>Sets the refresh interval.</p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/refreshInterval">refreshInterval</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CBGBEBCI"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/setStatus">setStatus</a></h3></a><p><code>public void <b>setStatus</b>(Object <em>status</em>)</code></p>Sets the status of the computation to <em>status</em>.The long computation should send this message periodically so thatthe refresh page reflects the status of the computation.<hr WIDTH=25% ALIGN=LEFT><a name = "CBGDJIIE"><BR><h3><a name="//apple_ref/java/instm/WOLongResponsePage/unlock">unlock</a></h3></a><p><code>public void <b>unlock</b>()</code></p><p>Unlocks the page.</p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOLongResponsePage/lock">lock</a></p><hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>