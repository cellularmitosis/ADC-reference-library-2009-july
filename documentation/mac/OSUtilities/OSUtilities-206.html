<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>GetOSDefault (IM: U)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING206></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="OSUtilities-205.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-207.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="OSUtilities-2.html"><B>Operating System Utilities</B></A> / <BR><DD><A HREF="OSUtilities-188.html"><B>Chapter 9 - Start Manager</B></A> / <A HREF="OSUtilities-193.html"><B>Start Manager Reference</B></A><BR><DL><DD><A HREF="OSUtilities-198.html"><B>Routines</B></A> / <A HREF="OSUtilities-205.html"><B>Identifying and Setting the Default Operating System</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING206-0></A>
<H3>GetOSDefault</H3>
 <A NAME=MARKER-11-99></A>You can use the <CODE>GetOSDefault</CODE> procedure to identify the operating system that gets booted on the Macintosh computer.<A NAME=MARKER-2-100></A><P>
<PRE>
Procedure GetOSDefault (paramBlock: DefOSPtr);
</PRE>
<DL>
<DT><CODE>paramBlock</CODE>
<DD>  A pointer to a default operating system parameter block.
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD><EM><--</EM><TD>sdReserved<TD>byte<TD>Reserved.<TR>
<TD><EM><--</EM><TD>sdOSType<TD>byte<TD>Operating-system type.</TABLE>
</B><P>
<A NAME=HEADING206-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>GetOSDefault</CODE> procedure identifies the operating system that gets booted on the Macintosh computer. A value of 1 returned in the <CODE>sdOSType</CODE> field indicates the Macintosh Operating System. Apple Computer, Inc. reserves the numbers 0 through 15 for its use. <P>
 When the Macintosh Operating System boots, certain startup routines call <CODE>GetOSDefault</CODE> and compare the value it returns with the value in the <CODE>ddType</CODE> field of the driver's portion of the driver descriptor record. Each driver for the startup device has its own block of fields in this record. The startup routine tries to match the operating-system type returned by <CODE>GetOSDefault</CODE> with the value in one of the <CODE>ddType</CODE> fields. If it finds a match, the computer continues to boot; if it doesn't, the startup routine searches other drives attached to the computer. The boot process does not continue until the startup routine finds a <CODE>ddType</CODE> value that matches the one returned by <CODE>GetOSDefault</CODE>.<A NAME=MARKER-2-101></A><P>
<A NAME=HEADING206-8></A>
<H5>ASSEMBLY LANGUAGE INFORMATION</H5>
 The registers on entry and exit for this routine are
<TABLE BORDER="0" CELLPADDING=3><TH colspan=2>Registers on entry<TR>
<TD>A0<TD>Address of the default operating system parameter block</TABLE>

<TABLE BORDER="0" CELLPADDING=3><TH colspan=2>Registers on exit<TR>
<TD>A0<TD>Address of the default operating system parameter block</TABLE>
<P>
<A NAME=HEADING206-10></A>
<H5>SEE ALSO</H5>
 For more information about the default operating system parameter block, see <A HREF=OSUtilities-197.html#MARKER-9-80>"The Default Operating System Parameter Block" beginning on page 9-19</A>.<P>
 For information about the driver descriptor record, see the chapter "SCSI Manager" in <I><A HREF="../Devices/Devices-2.html">Inside Macintosh: Devices</A></I>.<P>
 To specify the default operating system, see the description of the <CODE>SetOSDefault</CODE> procedure described next.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="OSUtilities-205.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-207.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="OSUtilities-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
