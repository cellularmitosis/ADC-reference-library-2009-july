<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>CGLayer Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="CGLayer Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001406-DontLinkChapterID_1" title="CGLayer Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/GraphicsImaging/index.html#//apple_ref/doc/uid/TP30001281-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../../../reference/GraphicsImaging/idxQuartz-date.html#//apple_ref/doc/uid/TP30001281-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../index.html" target="_top">CGLayer Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../cglayer_rev_hx/cglayer_rev_hx.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001406-DontLinkChapterID_1-DontLinkElementID_14" title="CGLayer Reference"></a><h1>CGLayer Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Derived from</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">
<span class="content_text"><a href="../../../../CoreFoundation/Reference/CFTypeRef/index.html#//apple_ref/doc/uid/20001203" target="_top">CFType</a></span></span></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../Quartz2D_Collection/index.html#//apple_ref/doc/uid/TP40003853" target="_top">ApplicationServices</a>/ApplicationServices.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CGLayer.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40001406-CH202-DontLinkElementID_12" title="Overview"></a><h2>Overview</h2><p>CGLayer objects are useful for offscreen drawing and can be used in much the same way that a bitmap context can be used. In fact, a CGLayer object is a much better representation than a bitmap context.</p><p>Using CGLayer objects can improve performance, particularly when you need to capture a piece of drawing that you stamp repeatedly (using the same scale factor and orientation). Quartz can cache CGLayer objects to the video card, making drawing a CGLayer to a destination much faster than rendering the equivalent image constructed from a bitmap context.</p><p>A CGLayer object is created relative to a graphics context. Although layer uses this graphics context as a reference for initialization, you are not restricted to drawing the layer to this graphics context. You can draw the layer to other graphics contexts, although any limitations of the original context are imposed. For example, if you create a CGLayer object using a bitmap context, the layer is rendered as a bitmap when drawn to any other graphics context.</p><p>You can use a CGLayer when you want to apply a shadow to a group of objects (such as a group of circles) rather than to individual objects.</p><p>Use these layers in your code whenever you can, especially when:</p><ul class="ul"><li class="li"><p>You need to reuse a filled or stroked shape.</p></li>
<li class="li"><p>You are building a scene and at least some of it can be reused. Put the reusable drawing in its own CGLayer.</p></li></ul><p>Any CG object that you draw repeatedly—including CGPath, CGShading, and CGPDFPage—benefit from improved performance if you draw it to a CGLayer object.</p>








<a name="//apple_ref/doc/uid/TP40001406-DontLinkChapterID_1-DontLinkElementID_13" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_1" title="Creating Layer Objects"></a>
    
    <h3 class="tasks">Creating Layer Objects</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CGLayerCreateWithContext">CGLayerCreateWithContext</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a CGLayer object that is associated with a graphics context.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_2" title="Drawing Layer Content"></a>
    
    <h3 class="tasks">Drawing Layer Content</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CGContextDrawLayerInRect">CGContextDrawLayerInRect</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Draws the contents of a CGLayer object into the specified rectangle.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CGContextDrawLayerAtPoint">CGContextDrawLayerAtPoint</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Draws the contents of a CGLayer object at the specified point.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_5" title="Retaining and Releasing Layers"></a>
    
    <h3 class="tasks">Retaining and Releasing Layers</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CGLayerRelease">CGLayerRelease</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Decrements the retain count of a CGLayer object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CGLayerRetain">CGLayerRetain</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Increments the retain count of a CGLayer object.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_7" title="Getting the CFType ID for a Layer"></a>
    
    <h3 class="tasks">Getting the CFType ID for a Layer</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CGLayerGetTypeID">CGLayerGetTypeID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the unique type identifier used for CGLayer objects.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_9" title="Getting Layer Information"></a>
    
    <h3 class="tasks">Getting Layer Information</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CGLayerGetSize">CGLayerGetSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the width and height of a CGLayer object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CGLayerGetContext">CGLayerGetContext</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the graphics context associated with a CGLayer object.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40001406-CH1g-451759" title="Functions"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-CJBGHCJG" title="Functions"></a><h2><a name="//apple_ref/doc/uid/TP40001406-CH1g-TPXREF139" title="Functions"></a>Functions</h2>







<a name="//apple_ref/c/func/CGContextDrawLayerAtPoint" title="CGContextDrawLayerAtPoint"></a><a name="//apple_ref/doc/c_ref/CGContextDrawLayerAtPoint" title="CGContextDrawLayerAtPoint"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_4" title="CGContextDrawLayerAtPoint"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_16"></a><h3 class="tight">CGContextDrawLayerAtPoint</h3>
<p class="spaceabove">Draws the contents of a CGLayer object at the specified point.</p>
<p class="spaceabove"><pre>
void CGContextDrawLayerAtPoint (
   <a href="../../CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> context,
   <a href="../../CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGPoint" target="_top">CGPoint</a> point,
   <a href="reference.html#//apple_ref/doc/c_ref/CGLayerRef">CGLayerRef</a> layer
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>context</em></dt>
<dd><p>The graphics context associated with the layer.</p></dd>
<dt><em>point</em></dt>
<dd><p>The location, in current user space coordinates, to use as the origin for the drawing.</p></dd>
<dt><em>layer</em></dt>
<dd><p>The layer whose contents you want to draw.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Calling the function <code>CGContextDrawLayerAtPoint</code> is equivalent to calling the function <code><a href="reference.html#//apple_ref/doc/c_ref/CGContextDrawLayerInRect">CGContextDrawLayerInRect</a></code> with a rectangle that has its origin at <code>point</code> and its size equal to the size of the layer.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X version 10.4 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>CGLayer.h</code><a name="//apple_ref/c/func/CGContextDrawLayerInRect" title="CGContextDrawLayerInRect"></a><a name="//apple_ref/doc/c_ref/CGContextDrawLayerInRect" title="CGContextDrawLayerInRect"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_3" title="CGContextDrawLayerInRect"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_17"></a><h3 class="tight">CGContextDrawLayerInRect</h3>
<p class="spaceabove">Draws the contents of a CGLayer object into the specified rectangle.</p>
<p class="spaceabove"><pre>
void CGContextDrawLayerInRect (
   <a href="../../CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> context,
   <a href="../../CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGRect" target="_top">CGRect</a> rect,
   <a href="reference.html#//apple_ref/doc/c_ref/CGLayerRef">CGLayerRef</a> layer
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>context</em></dt>
<dd><p>The graphics context associated with the layer.</p></dd>
<dt><em>rect</em></dt>
<dd><p>The rectangle, in current user space coordinates, to draw to.</p></dd>
<dt><em>layer</em></dt>
<dd><p>The layer whose contents you want to draw.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The contents are scaled, if necessary, to fit into the rectangle.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X version 10.4 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>CGLayer.h</code><a name="//apple_ref/c/func/CGLayerCreateWithContext" title="CGLayerCreateWithContext"></a><a name="//apple_ref/doc/c_ref/CGLayerCreateWithContext" title="CGLayerCreateWithContext"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-SW1" title="CGLayerCreateWithContext"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_18"></a><h3 class="tight">CGLayerCreateWithContext</h3><p class="spaceabove">Creates a CGLayer object that is associated with a graphics context.</p><p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CGLayerRef">CGLayerRef</a> CGLayerCreateWithContext (
   <a href="../../CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> context,
   <a href="../../CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGSize" target="_top">CGSize</a> size,
   <a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> auxiliaryInfo
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>context</em></dt><dd><p>The graphics context you want to create the layer relative to. The layer uses this graphics context as a reference for initialization.</p></dd><dt><em>size</em></dt><dd><p>The size, in default user space units, of the layer relative to the graphics context. </p></dd><dt><em>auxiliaryInfo</em></dt><dd><p>Reserved for future use. Pass <code>NULL</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>A CGLayer object. You are responsible for releasing this object using the function <code><a href="reference.html#//apple_ref/c/func/CGLayerRelease">CGLayerRelease</a></code> when you no longer need the layer.</p><h5 class="tight">Discussion</h5><p>After you create a CGLayer object, you should reuse it whenever you can to facilitate the Quartz caching strategy. Quartz caches any objects that are reused, including CGLayer objects. Objects that are reused frequently remain in the cache. In contrast, objects that are used once in a while may be moved in and out of the cache according to their frequency of use. If you don’t reuse CGLayer objects, Quartz won’t cache them. This means that you lose an opportunity to improve the performance of your application.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGLayer.h</code><a name="//apple_ref/c/func/CGLayerGetContext" title="CGLayerGetContext"></a><a name="//apple_ref/doc/c_ref/CGLayerGetContext" title="CGLayerGetContext"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_11" title="CGLayerGetContext"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_19"></a><h3 class="tight">CGLayerGetContext</h3><p class="spaceabove">Returns the graphics context associated with a CGLayer object.</p><p class="spaceabove"><pre>
<a href="../../CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> CGLayerGetContext (
   <a href="reference.html#//apple_ref/doc/c_ref/CGLayerRef">CGLayerRef</a> layer
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>layer</em></dt><dd><p>The layer whose graphics context you want to obtain.</p></dd></dl><h5 class="tight">Return Value</h5><p>The graphics context associated with the layer.</p><h5 class="tight">Discussion</h5><p>The context that’s returned is the context for the layer itself, not the context that you specified when you created the layer.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGLayer.h</code><a name="//apple_ref/c/func/CGLayerGetSize" title="CGLayerGetSize"></a><a name="//apple_ref/doc/c_ref/CGLayerGetSize" title="CGLayerGetSize"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_10" title="CGLayerGetSize"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_20"></a><h3 class="tight">CGLayerGetSize</h3><p class="spaceabove">Returns the width and height of a CGLayer object.</p><p class="spaceabove"><pre>
<a href="../../CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGSize" target="_top">CGSize</a> CGLayerGetSize (
   <a href="reference.html#//apple_ref/doc/c_ref/CGLayerRef">CGLayerRef</a> layer
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>layer</em></dt><dd><p>The layer whose width and height you want to obtain.</p></dd></dl><h5 class="tight">Return Value</h5><p>The width and height of the layer, in default user space coordinates.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGLayer.h</code><a name="//apple_ref/c/func/CGLayerGetTypeID" title="CGLayerGetTypeID"></a><a name="//apple_ref/doc/c_ref/CGLayerGetTypeID" title="CGLayerGetTypeID"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_8" title="CGLayerGetTypeID"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_21"></a><h3 class="tight">CGLayerGetTypeID</h3><p class="spaceabove">Returns the unique type identifier used for CGLayer objects.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeID" target="_top">CFTypeID</a> CGLayerGetTypeID (
   void
);
</pre></p><h5 class="tight">Return Value</h5><p>The type identifier for CGLayer objects. </p><h5 class="tight">Discussion</h5><p>A type identifier is an integer that identifies the opaque type to which a Core Foundation object belongs. You use type IDs in various contexts, such as when you are operating on heterogeneous collections.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGLayer.h</code><a name="//apple_ref/c/func/CGLayerRelease" title="CGLayerRelease"></a><a name="//apple_ref/doc/c_ref/CGLayerRelease" title="CGLayerRelease"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-BBCDFIFI" title="CGLayerRelease"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_22"></a><h3 class="tight">CGLayerRelease</h3><p class="spaceabove">Decrements the retain count of a CGLayer object.</p><p class="spaceabove"><pre>
void CGLayerRelease (
   <a href="reference.html#//apple_ref/doc/c_ref/CGLayerRef">CGLayerRef</a> layer
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>layer</em></dt><dd><p>The layer to release.</p></dd></dl><h5 class="tight">Discussion</h5><p>This function is equivalent to calling <code>CFRelease
(layer)</code> except that it does not crash (as <code><a href="../../../../CoreFoundation/Reference/CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFRetain" target="_top">CFRetain</a></code> does) if the <code>layer</code> parameter is <code>null</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGLayer.h</code><a name="//apple_ref/c/func/CGLayerRetain" title="CGLayerRetain"></a><a name="//apple_ref/doc/c_ref/CGLayerRetain" title="CGLayerRetain"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_6" title="CGLayerRetain"></a><a name="//apple_ref/doc/uid/TP40001406-CH1g-DontLinkElementID_23"></a><h3 class="tight">CGLayerRetain</h3><p class="spaceabove">Increments the retain count of a CGLayer object.</p><p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CGLayerRef">CGLayerRef</a> CGLayerRetain (
   <a href="reference.html#//apple_ref/doc/c_ref/CGLayerRef">CGLayerRef</a> layer
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>layer</em></dt><dd><p>The layer to retain.</p></dd></dl><h5 class="tight">Return Value</h5><p>The same layer you passed in as the <code>layer</code> parameter.</p><h5 class="tight">Discussion</h5><p>This function is equivalent to calling <code>CFRetain
(layer)</code> except that it does not crash (as <code><a href="../../../../CoreFoundation/Reference/CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFRetain" target="_top">CFRetain</a></code> does) if the <code>layer</code> parameter is <code>null</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGLayer.h</code><a name="//apple_ref/doc/uid/TP40001406-CH2g-452747" title="Data Types"></a><a name="//apple_ref/doc/uid/TP40001406-CH2g-CJBEDAIC" title="Data Types"></a><h2>Data Types</h2>
<a name="//apple_ref/c/tdef/CGLayerRef" title="CGLayerRef"></a><a name="//apple_ref/doc/c_ref/CGLayerRef" title="CGLayerRef"></a><a name="//apple_ref/doc/uid/TP40001406-CH2g-CGShadingRef" title="CGLayerRef"></a><a name="//apple_ref/doc/uid/TP40001406-CH2g-DontLinkElementID_24"></a><h3 class="tight">CGLayerRef</h3>
<p class="spaceabove">An opaque type used for offscreen drawing.</p>
<p class="spaceabove"><pre>
typedef struct <!--a-->CGLayer<!--/a--> *CGLayerRef;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CGLayer.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../cglayer_rev_hx/cglayer_rev_hx.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-12-22<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Reference/CGLayer/Reference/reference.html%3Fid%3DTP40001406-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Reference/CGLayer/Reference/reference.html%3Fid%3DTP40001406-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Reference/CGLayer/Reference/reference.html%3Fid%3DTP40001406-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>