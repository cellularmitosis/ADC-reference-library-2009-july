<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Providing Help Balloons for Items in Dialog Boxes and Alert Boxes (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING148></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-147.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-149.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-138.html"><B>Chapter 3 - Help Manager</B></A> / <A HREF="MoreToolbox-143.html"><B>Using the Help Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING148-0></A>
<H2><A NAME=MARKER-9-227></A>Providing Help Balloons for Items in Dialog Boxes and Alert Boxes</H2>
 <A NAME=MARKER-21-146></A><A NAME=MARKER-2-115></A><A NAME=MARKER-9-155></A><A NAME=MARKER-2-6></A><A NAME=MARKER-2-84></A><A NAME=MARKER-2-406></A>For dialog boxes and alert boxes defined with item list (<CODE>'DITL'</CODE>) resources, you can provide help balloons for individual items in the dialog box or alert box by supplying a resource of type <CODE>'hdlg'</CODE> (dialog-item help). When an item has a help balloon associated with it, the Help Manager automatically displays and removes the help balloon as the user moves the cursor into and out of the item's display rectangle. The Help Manager can display different help balloons for various states of an item--by highlight value if the item is a control, and by enabled and disabled states for items that are not controls.<A NAME=MARKER-2-62></A><P>
<DL>
<DT><B>Note</B>
<DD>BalloonWriter, available from APDA, gives nonprogrammers an easy, intuitive way to create help balloons for dialog and alert boxes. BalloonWriter creates <CODE>'hdlg'</CODE> resources as appropriate and places them in the resource file of your application; BalloonWriter likewise creates and stores <CODE>'STR '</CODE>, <CODE>'STR#'</CODE>, and <CODE>'TEXT'</CODE> resources that contain the help messages authored by nonprogramming writers.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 You can also provide help balloons for other areas of a dialog box or alert box using the <CODE>'hwin'</CODE> (window help) resource as described in <A HREF=MoreToolbox-150.html#MARKER-9-276>"Providing Help Balloons for Static Windows" on page 3-60</A>.<P>
 To create help balloons for items in dialog boxes or alert boxes, create an <CODE>'hdlg'</CODE> resource that corresponds to an item list resource. You associate the information defined in the <CODE>'hdlg'</CODE> resource to the alert or dialog box in one of three ways:<P>
<UL>
<LI>by adding an item of type <CODE>HelpItem</CODE> to the item list resource
<LI>by supplying a resource of type <CODE>'hwin'</CODE>
<LI>by calling the <CODE>HMScanTemplateItems</CODE> function from your application<P>
</UL>
 The <CODE>'hdlg'</CODE> resource specifies the tip, the alternate rectangle, and help messages for items in a dialog box or alert box. The item list resource describes the items, and, if it includes an item of type <CODE>HelpItem</CODE>, it can contain the resource ID of a corresponding <CODE>'hdlg'</CODE> resource. The Help Manager uses the display rectangles defined in the item list resource as the hot rectangles for the items. The Help Manager uses the alternate rectangles specified in the <CODE>'hdlg'</CODE> resource for transposing help balloons' tips when trying to fit the balloons onscreen.<P>
 For those items designated in the <CODE>'hdlg'</CODE> resource, the Help Manager automatically tracks the cursor and displays help balloons when the following conditions are met: the dialog or alert box has an item of type <CODE>HelpItem</CODE> in its item list resource; your application calls the Dialog Manager routine <CODE>ModalDialog</CODE>, <CODE>IsDialogEvent</CODE>, <CODE>NoteAlert</CODE>, <CODE>StopAlert</CODE>, <CODE>CautionAlert</CODE>, or <CODE>Alert</CODE>; and help is enabled.<A NAME=MARKER-9-37></A><P>
 If the cursor passes over any active windows, including dialog or alert boxes, the Help Manager searches the current resource file for resources of type <CODE>'hwin'</CODE> (described in <A HREF=MoreToolbox-150.html#MARKER-9-276>"Providing Help Balloons for Static Windows" on page 3-60</A>). The Help Manager attempts to match either the title of the window or the <CODE>windowKind</CODE> value in its window record with the title or <CODE>windowKind</CODE> value specified in an <CODE>'hwin'</CODE> resource. The matched <CODE>'hwin'</CODE> resource, in turn, specifies the resource ID of an <CODE>'hdlg'</CODE> or <CODE>'hrct'</CODE> (rectangle help) resource that contains the relevant help message. (The <CODE>'hrct'</CODE> resource is described in <A HREF=MoreToolbox-150.html#MARKER-9-276>"Providing Help Balloons for Static Windows" on page 3-60</A>.) As described in <A HREF=MoreToolbox-149.html#MARKER-9-269>"Providing Help Balloons for Window Content" on page 3-59</A>, the <CODE>'hwin'</CODE> resource can provide help for various other interface features across the entire window as well as for items in a dialog box or an alert box.<P>
 If you prefer, you can track and display help balloons for modal dialog boxes and alert boxes yourself by using an event-filter function and calling the <CODE>HMScanTemplateItems</CODE> function. Using <CODE>HMScanTemplateItems</CODE> requires you to modify your code. For further information on <CODE>HMScanTemplateItems</CODE>, see <A HREF=MoreToolbox-178.html#MARKER-9-486>"Setting and Getting Information for Help Resources" beginning on page 3-106</A>.<P>
 <A NAME=MARKER-2-81></A>As shown here, a Rez input file for an <CODE>'hdlg'</CODE> resource contains a header component, a missing-items component, and dialog-item components. 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Component<TH>Element<TR>
<TD rowspan=5>Header<TD>Help Manager version<TR>
<TD>Index number of starting item (first item is number 0)<TR>
<TD>Options<TR>
<TD>Balloon definition function<TR>
<TD>Variation code<TR>
<TD rowspan=7>Missing items<TD>Tip's coordinates<TR>
<TD>Alternate rectangle<TR>
<TD>Identifier for help messages<TR>
<TD>Help message for missing, unselected active controls (that is, those with highlight values of 0), or for missing enabled items that are not controls<TR>
<TD>Help message for missing dimmed controls (that is, those with highlight values of 255), or for missing disabled items that are not controls <TR>
<TD>Help message for missing active controls that are "on" (that is, those with highlight values of 1)<TR>
<TD>Help message for missing active controls with highlight values other than 0, 1, and 255<TR>
<TD rowspan=7>First dialog item<TD>Tip's coordinates<TR>
<TD>Alternate rectangle<TR>
<TD>Identifier for help messages<TR>
<TD>Help message for an active, unselected control (that is, one with a highlight value of 0), or for an enabled item that is not a control<TR>
<TD>Help message for a dimmed control (that is, one with a highlight values of 255), or for a disabled item that is not a control<TR>
<TD>Help message for an active control that is "on" (that is, one with a highlight value of 1)<TR>
<TD>Help message for an active control with a highlight value other than 0, 1, and 255<TR>
<TD rowspan=4>Next dialog item<TD>(Same as for first dialog item)<TR>
<TD>.<TR>
<TD>.<TR>
<TD>.<TR>
<TD>Last dialog item<TD>(Same as for first dialog item)<A NAME=MARKER-2-119></A></TABLE>
<P>
 As described in greater detail later, the way the Help Manager interprets many of the elements depends on whether the item it describes is a control, such as a checkbox or radio button, or something else, such as static text or an icon.<P>
<A NAME=HEADING148-14></A>
<H3>Specifying Header Information for the 'hdlg' Resource</H3>
 Use the header component to specify the Help Manager version number, the starting index, options, the balloon definition function, and the variation code. As in the other help resources, specify the <CODE>HelpMgrVersion</CODE> constant for the first element of the header component of the <CODE>'hdlg'</CODE> resource. <P>
 You use the second element to associate the help messages beginning at any item number and then continuing sequentially through the item list (<CODE>'DITL'</CODE>) resource. To derive an item number to start from, the Help Manager adds the index number you specify for this element to the number of the first item in the item list resource. Thus, index number 0 starts with the item number 1 in the item list resource (because 0 plus 1 equals 1). For example, to describe help messages for only the fifth through seventh items, specify 4 as the starting index in the header component and, because 4 plus 1 equals 5, provide help messages that start with the fifth and proceed through the sixth and seventh items.<P>
 For the options element, specify a constant (normally, <CODE>hmDefaultOptions</CODE>) or the sum of several constants' values from this list. (These options are described in <A HREF=MoreToolbox-146.html#MARKER-9-146>"Specifying Options in Help Resources" beginning on page 3-22</A>.)<A NAME=MARKER-2-273></A><P>
<PRE>
CONST hmDefaultOptions     = 0;  {use defaults}
      hmUseSubID           = 1;  {use subrange resource IDs }
                                 { for owned resources}
      hmAbsoluteCoords     = 2;  {ignore coords of window }
                                 { origin and treat upper-left }
                                 { corner of window as 0,0}
      hmSaveBitsNoWindow   = 4;  {don't create window; save }
                                 { bits; no update event}
      hmSaveBitsWindow     = 8;  {save bits behind window }
                                 { and generate update event}
</PRE>
 Specify the balloon definition function and variation code (both typically 0) in the fourth and fifth elements of the header component. (These are described in detail in <A HREF=MoreToolbox-147.html#MARKER-9-171>"Specifying Header Information for the 'hmnu' Resource" beginning on page 3-29</A>.)<P>
<A NAME=HEADING148-20></A>
<H3><A NAME=MARKER-9-238></A>Specifying Missing-Item Information</H3>
 <A NAME=MARKER-2-40></A>Following the header component, you can specify the help message for items that are missing from the <CODE>'hdlg'</CODE> resource or that are present but have no help messages defined for a particular state. (The function of the missing-items component of the <CODE>'hdlg'</CODE> resource is similar to that of the missing-items component of the <CODE>'hmnu'</CODE> resource. For details, see <A HREF=MoreToolbox-147.html#MARKER-9-174>"Specifying Help for Menu Items Missing From the Resource" beginning on page 3-29</A>.)<P>
 In the missing-items component, use the first element to specify a set of tip coordinates and use the second element to specify an alternate rectangle. Both specifications apply to the help messages specified in the other elements of this component.<P>
 The tip's coordinates are always relative to the item's position in the dialog box. If you specify the point (0,0) as a default tip, then it is placed 10 pixels from the right and 10 pixels from the bottom of the item's rectangle (as specified in the item list resource) for all missing items. To move the missing item's tip relative to this default location, you can specify positive or negative integers in place of the coordinates (0,0).<P>
 <A NAME=MARKER-2-41></A>If you want an alternate rectangle that is either larger or smaller than a display rectangle, use the missing item's alternate rectangle to specify offsets that apply to the display rectangles for all items in the dialog box. (Remember that the alternate rectangle is used by the Help Manager for transposing the tip if a help balloon does not fit onscreen.) The Help Manager adds the top, left, bottom, and right offsets to the coordinates of an item's display rectangle. For example, if you specify (0,0,0,0) as the missing item's alternate rectangle offsets, the Help Manager uses the display rectangles as alternate rectangles for all missing items. You can specify positive or negative integers for these offsets to move an alternate rectangle's coordinates relative to a display rectangle's coordinates.<P>
 Use the third element of the missing-items component to supply one of these identifiers: <CODE>HMStringItem</CODE>, <CODE>HMSTRResItem</CODE>, <CODE>HMStringResItem</CODE>, <CODE>HMPictItem</CODE>, <CODE>HMTEResItem</CODE>, or <CODE>HMSkipItem</CODE>, described in <A HREF=MoreToolbox-145.html#MARKER-9-122>"Specifying the Format for Help Messages" on page 3-21</A>. In the remaining four elements of this component, supply the help messages for items <BR>in the item list resource that do not otherwise have help messages specified in this <CODE>'hdlg'</CODE> resource. You can supply either text strings for the help messages or the resource IDs of resources that contain the help messages.<P>
 <A NAME=MARKER-2-42></A><A NAME=MARKER-2-5></A>When displaying help balloons for a control, the Help Manager examines the highlight value in the <CODE>contrlHilite</CODE> field of the control record. An active control that is not selected by the user has a highlight value of 0. Specify a help message for all missing highlighted controls in the fourth element of the missing-items component of the <CODE>'hdlg'</CODE> resource. <P>
 An inactive--that is, dimmed--control has a highlight value of 255. Specify a help message for all missing dimmed controls in the fifth element of the missing-items component.<P>
<DL>
<DT><B>Note</B>
<DD>Don't confuse a disabled item with an inactive control. When you don't want the Control Manager to display visual responses to mouse events in a control, you make it inactive by using the Control Manager procedure <CODE>HiliteControl</CODE>. When you don't want the Dialog Manager to report events involving an item in a dialog box, you mark it <CODE>disabled</CODE> in the item list resource. The Dialog Manager makes no visual distinction between disabled and enabled items. See the chapters "Control Manager" and "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for more information.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 When, as with checkboxes and radio buttons, the user turns on an on-and-off control, <BR>the control has a highlight value of 1. Specify a help message for all missing, active, "on" controls in the sixth element of the missing-items component.<P>
 In addition to the values 0, 1, and 255, multipart controls--such as scroll bars--can also take highlight values between 2 and 253, signifying the part code for the part of the control that has been selected by the user. However, you can specify only one message for all possible highlight values that a control might have other than 0, 1, and 255. You can use the seventh element of the missing-items component to specify this message for missing controls.<P>
 The following section offers guidelines about what sorts of messages to provide for different types of controls according to their states. For more detailed information about controls, see the chapter "Control Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>.<P>
 When displaying help for items that are not controls, the Help Manager examines only whether the item is enabled or disabled, as specified in the item list resource. For an enabled item (other than a control), you specify a help message in the fourth element of its component in the <CODE>'hdlg'</CODE> resource. In the fifth element, you specify the help message for the item when it is disabled. The sixth and seventh elements apply only to controls. You should supply these elements with either empty strings or resource IDs of 0, depending on the format indicated by the identifier you specified in the third element of the component.<A NAME=MARKER-2-43></A><P>
<A NAME=HEADING148-33></A>
<H3><A NAME=MARKER-9-244></A>Specifying Help for Items in an Alert or Dialog Box</H3>
 After the missing-items component, create <B>dialog-item components</B> that specify help messages for the individual items. The first dialog-item component must relate to the item number indexed in the header component; list the remaining dialog-item components in the same order in which they appear in the item list resource. (See the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for information on the item list resource.)<P>
 Use the first element of a dialog-item component to specify the coordinates of the help balloon's tip for that item. Use coordinates local to the item's display rectangle (which is specified in the item list resource) to specify the tip. You can specify (0,0) to place the tip 10 pixels from the right and 10 pixels from the bottom of the item's display rectangle.<A NAME=MARKER-2-57></A><P>
 <A NAME=MARKER-2-323></A>Use the second element of a dialog-item component to specify an alternate rectangle for the item. Note that you cannot specify hot rectangles--only alternate rectangles--in an <CODE>'hdlg'</CODE> resource. This is because the Help Manager uses the display rectangles specified in the item list resource as the hot rectangles for help balloons. (If you must specify hot rectangles that are different from the items' rectangles, use the <CODE>'hrct'</CODE> resource as described in <A HREF=MoreToolbox-150.html#MARKER-9-288>"Specifying Help for Rectangles in Windows" on page 3-62</A>.) You can, however, specify alternate rectangles in <CODE>'hdlg'</CODE> resources that are different from the display rectangles defined in the item list resource. Alternate rectangles give you additional flexibility in positioning your help balloons onscreen. If you make your alternate rectangle smaller than the display rectangle, for example, you have greater assurance that the Help Manager will be able to fit the help balloon onscreen; if you specify an alternate rectangle that is larger than the display rectangle, you have greater assurance that the help balloon will not obscure some important portion within the display rectangle.<A NAME=MARKER-2-58></A><A NAME=MARKER-2-86></A><P>
 Specify offsets from the item's display rectangle if you want an alternate rectangle that is different from the display rectangle. The Help Manager adds the top, left, bottom, and right offsets that you specify to the coordinates of the item's display rectangle. For example, if you specify (0,0,0,0) as the alternate rectangle's offsets, the Help Manager uses the item's display rectangle as its alternate rectangle. You can specify positive or negative integers for these offsets to move the alternate rectangle's coordinates relative to the display rectangle's coordinates.<A NAME=MARKER-2-63></A><A NAME=MARKER-2-64></A><P>
 Use the third element of a dialog-item component to supply one of these identifiers: <CODE>HMStringItem</CODE>, <CODE>HMSTRResItem</CODE>, <CODE>HMStringResItem</CODE>, <CODE>HMPictItem</CODE>, <CODE>HMTEResItem</CODE>, or <CODE>HMSkipItem</CODE>, described in <A HREF=MoreToolbox-145.html#MARKER-9-122>"Specifying the Format for Help Messages" on page 3-21</A>. Note that in any one dialog-item component in the resource, you can specify only one format for all help messages. <P>
 The remaining elements in a dialog-item component specify help messages for the related item. As previously described in <A HREF=#MARKER-9-238>"Specifying Missing-Item Information" on page 3-50</A>, the Help Manager uses these elements differently according to whether the item is or is not a control. For elements four through seven in a dialog-item component, supply either text strings for the help messages or the resource IDs of resources that contain the help messages.<P>
 You do not have to provide a help message for every state of an item. If you do not provide a help message for a particular state, the Help Manager uses the help message specified in the missing-items component. If the missing-items component does not specify a help message for that state, then the Help Manager does not display a help balloon for that state of that item.<P>
 In your help balloons for buttons, use the construction "To [perform action], click this button." For example, the help message for the OK button in a Spell Check dialog box should state something similar to "To check the spelling of this document with the options you've chosen, click this button."<A NAME=MARKER-9-24></A><A NAME=MARKER-2-186></A><P>
 For an unselected radio button or checkbox, use the fourth element of the corresponding dialog-item component to describe what happens when the user selects the button or checkbox. For example, an unselected radio button titled "Left" might have a help balloon that states, "To align all text along the left margin of the document, click this button."<P>
 For a selected radio button (that is, one that is "on"), use the sixth element of the corresponding dialog-item component to describe what the selected button does, beginning with a verb. At the end of the message, state that the button is selected. For example, a selected radio button titled "Left" might have a help balloon that states, "Aligns all text along the left margin of the document. This option is selected."<P>
 For a selected checkbox (that is, one that is "on"), use the sixth element of the corresponding dialog-item component to describe what the selected checkbox does, then describe how to turn off the option. For example, a selected checkbox titled "On Line" might have a help balloon that states, "Your Macintosh is connected to a remote computer. To disconnect, click this box."<P>
 For a radio button or a checkbox that is dimmed, use the fifth element of the corresponding dialog-item component to describe what it does when it is selected. Use a sentence fragment that begins with a verb. Then explain why the radio button or checkbox is not available. For example, a dimmed radio button titled "Left" might have a help balloon that states, "Aligns all text along the left margin of a document. Not available because no documents are open."<P>
 For an editable text item in a dialog box, use the word "here" in your help message <BR>to describe the item. Explain what type of information the user should enter, but don't describe standard Macintosh editing procedures. For example, an editable text item identified by static text reading "Name" might have a help balloon that states, "Type your name here." Since an editable text item is typically disabled, you'll use the fifth element of that item's component to specify a help balloon.<P>
 Since users typically don't interact with your static text items, you generally shouldn't provide them with help balloons. <P>
 You can use the <CODE>HMSkipItem</CODE> identifier for an item for which you do not want to provide help. If you specify <CODE>HMSkipItem</CODE>, the Help Manager does not display help balloons for that item, even if the missing-items component specifies a help message.<P>
 In most cases, you should try to describe only the item the balloon is pointing to. It may be tempting to discuss the relationships among items, but this much information can become complex and difficult to read. Remember that the user can point at other items to find out what they are. For example, a button titled "Print" might have a help balloon that states, "To print the document with the options you've chosen, click this button." Do not complicate the message with information like "To print the number of copies of the document that you've selected to the left, using the printer named at the top of this dialog box," and so on.<P>
 <A HREF=#MARKER-9-255>Listing 3-8</A> shows a sample dialog-item help resource along with its associated item list and string list resources.<A NAME=MARKER-2-108></A><A NAME=MARKER-2-187></A><P>
<B>Listing 3-8  <A NAME=MARKER-9-255></A><A NAME=MARKER-21-256></A>Rez input for an item list resource and an <CODE>'hdlg'</CODE> resource</B><P>
<PRE>
resource 'DITL' (145, &quot;Spelling options&quot;, purgeable) {
   {  {124, 194, 144, 254},
      Button {
         enabled,
         &quot;OK&quot;
      },
      {48, 23, 67, 202},
      CheckBox {
         enabled,
         &quot;Ignore Words in All Caps&quot;
      },
      {83, 23, 101, 196},
      CheckBox {
         enabled,
         &quot;Ignore Slang Terms&quot;
      },
      {13, 23, 33, 254},
      StaticText {
         disabled,
         &quot;WipeOut typing correction options:&quot;
      },
      /*item for Cancel button goes here*/
      {0,0,0,0},        /*for help balloon: scan 'hdlg' with */
                        /* res ID 145*/
      HelpItem {
         disabled,
         HMScanhdlg     /*scan resource type 'hdlg'*/
         {145}          /*get the resource with ID 145*/
      }
   }
};
resource 'hdlg' (145, &quot;Spell options help&quot;, purgeable) {
   /*header component*/
   HelpMgrVersion,      /*version of Help Manager*/
   0,                   /*start help with first item in 'DITL'*/
   hmDefaultOptions,    /*options*/
   0,                   /*balloon definition ID*/
   3,                   /*variation code: hang left of items*/
   /*missing-items component*/
   HMSkipItem {         /*no missing-items help messages*/
      },
   {                    /*help messages for items*/
   /*first dialog-item component: OK button*/
      HMStringResItem { /*store help messages in 'STR#' 145*/
         {10, 10},      /*place tip inside left edge of button*/
         {0,0,0,0},     /*default alternate rectangle: use */
                        /* display rectangle*/
         145, 1,        /*enabled OK button*/
         0, 0,          /*OK button is never dimmed*/
         0, 0,          /*no enabled-and-checked state for */
                        /* button*/
         0, 0           /*no other marked states for button*/
      },
   /*second dialog-item component: All Caps checkbox*/
      HMStringResItem { /*store help messages in 'STR#' 145*/
         {6, 6},        /*place tip in checkbox*/
         {0,0,0,0},     /*default alternate rectangle: use */
                        /* display rectangle*/
         145, 2,        /*highlighted state of checkbox*/
         145, 3,        /*dimmed state of checkbox*/
         145, 4,        /*checkbox is checked*/
         0, 0           /*not applicable to this control*/
      },
   /*third dialog-item component: Slang Terms checkbox*/
      HMStringResItem { /*store help messages in 'STR#' 145*/
         {6, 6},        /*place tip in checkbox*/
         {0,0,0,0},     /*default alternate rectangle: use */
                        /* display rectangle*/
         145, 5,        /*highlighted state of checkbox*/
         145, 6,        /*dimmed state of checkbox*/
         145, 7,        /*checkbox is checked*/
         0, 0           /*not applicable to this control*/
      }
      /*dialog-item component for Cancel button goes here*/
   }
};
resource 'STR#' (145, &quot;Spell options help text&quot;) {
   {
   /*[1]*/
   &quot;To check the spelling of this document with the &quot; 
      &quot;options you've chosen, click this button.&quot;;
   /*[2]*/
   &quot;To prevent the spelling checker from tagging &quot;
      &quot;words--such as acronyms--that consist entirely &quot;
      &quot;of capital letters, click this option.&quot;;
   /*[3]*/
   &quot;Prevents the spelling checker from tagging &quot;
      &quot;words--such as acronyms--that consist entirely &quot;
      &quot;of capital letters. Not available until &quot;;
      &quot;you install the main dictionary.&quot;;
   /*[4]*/
   &quot;The spelling checker is not tagging &quot;
      &quot;words--such as acronyms--that consist entirely &quot;
      &quot;of capital letters. Click here to make the &quot;;
      &quot;spelling checker tag such words.&quot;;
   /*[5]*/
   &quot;To prevent the spelling checker from tagging words &quot;
      &quot;considered to be slang, click this option.&quot;;
   /*[6]*/
   &quot;Prevents the spelling checker from tagging &quot;
      &quot;words considered to be slang. &quot;
      &quot;Not available until you install the slang dictionary.&quot;;
   /*[7]*/
   &quot;The spelling checker is not tagging &quot;
      &quot;words considered to be slang. &quot;
      &quot;Click here to make the spelling checker tag such words.&quot;;
      /*help strings for Cancel button go here*/
   }
};
</PRE>
 The <CODE>'hdlg'</CODE> resource in <A HREF=#MARKER-9-255>Listing 3-8</A> specifies help messages for the first three items in the item list resource. <A HREF=#MARKER-9-257>Figure 3-17</A> shows the Help Manager displaying a help balloon for the second item.<P>
<B>Figure 3-17  <A NAME=MARKER-9-257></A><A NAME=MARKER-21-258></A>A help balloon in a modal dialog box</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/HM-S-17.jpg">
<A NAME=HEADING148-56></A>
<H3><A NAME=MARKER-9-263></A>Adding a Help Item to an Item List Resource</H3>
 In <A HREF=#MARKER-9-255>Listing 3-8 on page 3-55</A>, an item of type <CODE>HelpItem</CODE> is included in the item list (<CODE>'DITL'</CODE>) resource. This item isn't visible to the user; it's provided so that the Help Manager can find the <CODE>'hdlg'</CODE> or <CODE>'hrct'</CODE> resource in which you've specified the help messages for your dialog box or alert box.<A NAME=MARKER-21-167></A><P>
 When creating a help item in an item list resource, specify an empty rectangle--that is, one with coordinates (0,0,0,0)--for the item's display rectangle. Specify <CODE>HelpItem</CODE> for the item's type, and specify <CODE>disabled</CODE> for the item's state. Then, specify one of these three identifiers:<A NAME=MARKER-2-250></A>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Identifier<TH>Purpose<TR>
<TD>HMScanhdlg<TD>For the items in an item list resource, the Help Manager displays the help messages specified in an <CODE>'hdlg'</CODE> resource.<TR>
<TD>HMScanAppendhdlg<TD>For the items in one item list resource that are appended to those in another item list resource, the Help Manager displays help messages specified in an <CODE>'hdlg'</CODE> resource.<TR>
<TD>HMScanhrct<TD>For rectangular areas in the dialog box or alert box, the Help Manager displays help messages specified in an <CODE>'hrct'</CODE> resource. </TABLE>
<P>
 If you specify help messages for your dialog box or alert box in an <CODE>'hdlg'</CODE> resource, use either the <CODE>HMScanhdlg</CODE> or the <CODE>HMScanAppendhdlg</CODE> identifier. Use the <CODE>HMScanAppendhdlg</CODE> identifier, however, only when you use the Dialog Manager procedure <CODE>AppendDITL</CODE> to append the item list resource to another item list resource. The <CODE>AppendDITL</CODE> procedure is useful, for example, when adding your own items to the standard file dialog box or print dialog box. When you use the <CODE>AppendDITL</CODE> procedure to add items to an existing dialog box or alert box, the <CODE>HMScanAppendhdlg</CODE> identifier allows you to provide help balloons for the new items in addition to those balloons already provided for the dialog box or alert box. See the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for more information on the <CODE>AppendDITL</CODE> procedure.<P>
 As described in <A HREF=MoreToolbox-150.html#MARKER-9-288>"Specifying Help for Rectangles in Windows" on page 3-62</A>, you can also use the <CODE>'hrct'</CODE> resource to specify help balloons for areas of your dialog box or alert box. If you specify help messages for a dialog box or alert box in an <CODE>'hrct'</CODE> resource, you can use the <CODE>HMScanhrct</CODE> identifier in the help item of the box's item list resource.<A NAME=MARKER-2-18></A><P>
 Conclude a help item by specifying the resource ID of the <CODE>'hdlg'</CODE> or <CODE>'hrct'</CODE> resource that provides the help messages for the dialog box or alert box.<P>
<A NAME=HEADING148-62></A>
<H3><A NAME=MARKER-9-263></A>Using a Help Item Versus Using an 'hwin' Resource</H3>
 <A NAME=MARKER-2-403></A><A NAME=MARKER-2-265></A>Adding an item of type <CODE>HelpItem</CODE> to an item list resource is the simplest method of associating the help balloons defined in your <CODE>'hdlg'</CODE> (or <CODE>'hrct'</CODE>) resource with the item list resource. A slightly more involved method requires you to create an <CODE>'hwin'</CODE> (window help) resource. The advantages and disadvantages of the two methods are listed here.<P>
 The advantages of adding an item for help to the item list resource are that<P>
<UL>
<LI>it's simple (you have to create only one resource, the <CODE>'hdlg'</CODE> or <CODE>'hrct'</CODE> resource)
<LI>it works for dialog boxes or alert boxes that have no titles and for those whose <CODE>windowKind</CODE> values do not adequately differentiate them from other windows <BR>(the <CODE>windowKind</CODE> field of window records is described in the chapter "Window Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>)<P>
</UL>
 The disadvantage of adding an item for help to the item list resource is that it allows you to associate help balloons <I>only</I> with items listed in the item list resource.<P>
 The advantages of using <CODE>'hwin'</CODE> (window help) resources are that<P>
<UL>
<LI>you can provide a single help balloon for a group of related items (rather than having separate help balloons for all the items)
<LI>you can provide help balloons for areas instead of items inside the dialog box or alert box<P>
</UL>
 The disadvantages of using <CODE>'hwin'</CODE> resources are that<P>
<UL>
<LI>it's slightly more complex, because you must create an <CODE>'hwin'</CODE> resource in addition to either an <CODE>'hdlg'</CODE> or an <CODE>'hrct'</CODE> resource
<LI>it works only for dialog boxes and alert boxes that have titles or <CODE>windowKind</CODE> values that differentiate them from other windows in your application<A NAME=MARKER-2-18></A><P>
</UL>
 Using the <CODE>'hwin'</CODE> resource requires treating the dialog box or alert box as a static window. When the cursor passes over an active window, the Help Manager attempts to match either the title of the window or the <CODE>windowKind</CODE> value (from its window record) with a title or <CODE>windowKind</CODE> value you specify in an <CODE>'hwin'</CODE> resource. <A HREF=MoreToolbox-151.html#MARKER-9-291>"Associating Help Resources With Static Windows" beginning on page 3-63</A> describes how to use <BR><CODE>'hwin'</CODE> resources for dialog boxes, alert boxes, and other kinds of static windows you may wish to define.<A NAME=MARKER-2-114></A><A NAME=MARKER-21-286></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-147.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-149.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
