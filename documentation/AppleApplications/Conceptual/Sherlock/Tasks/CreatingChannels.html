<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Sherlock Channels (Legacy): Creating a New Channel</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating a New Channel"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001086" title="Creating a New Channel"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/InternetWeb-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000526" target="_top">Internet &amp; Web</a> &gt; <a href="../index.html" target="_top">Sherlock Channels (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Concepts/ScriptExtensions.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="InstallingAccessing.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
Sherlock is unsupported in Mac OS X v10.5 and later.</p></div></div></div>
        <a name="//apple_ref/doc/uid/20001086-SW1" title="Creating a New Channel"></a><hr /><H1><a name="//apple_ref/doc/uid/20001086-BCIIDJDC" title="Creating a New Channel"></a>Creating a New Channel</H1><p>This article takes you through the steps for creating a simple channel that displays an interface and responds to user input. The goal is to get the channel up and running quickly so that you can see how the user interface and underlying script code interact. The channel in this article does not attempt to connect to the Internet or gather information.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="CreatingChannels.html#//apple_ref/doc/uid/20001086-109777-BCIBBHCG">Installing the Sherlock Tools</a>
				
			<br/>
			
        
			
			
				<a href="CreatingChannels.html#//apple_ref/doc/uid/20001086-110465">Create the Channel Project</a>
				
			<br/>
			
        
			
			
				<a href="CreatingChannels.html#//apple_ref/doc/uid/20001086-110831">Loading the Channel</a>
				
			<br/>
			
        
			
			
				<a href="CreatingChannels.html#//apple_ref/doc/uid/20001086-110895">Debugging Tools</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20001086-109777" title="Installing the Sherlock Tools"></a><a name="//apple_ref/doc/uid/20001086-109777-BCIBBHCG" title="Installing the Sherlock Tools"></a><h2>Installing the Sherlock Tools</h2><p>Before you can begin developing Sherlock channels, you must make sure your system has the proper tools. Sherlock requires the developer tools available for Mac OS X 10.2 or later. In particular, you must have the Interface Builder application to design your channel’s interface. You must also have the Sherlock palette before you can add path information to the views and controls of your channel. </p><p>Install the developer tools for your system using either the Developer Tools CD that came with Mac OS X 10.2 or by downloading the tools from the developer section of Apple’s website. Once you have these tools installed, download the Sherlock SDK from the developer section of Apple’s website and install it. This SDK installs a Sherlock palette, documentation, and channel templates for you to use in creating channels. </p><a name="//apple_ref/doc/uid/20001086-110465" title="Create the Channel Project"></a><h2>Create the Channel Project</h2><p>The Sherlock SDK installs a Project Builder template you can use to create new Sherlock channels. This template implements a simple Internet channel that lets the user enter a search string and retrieve the results. You should use this template as the starting point for any new channels you want to create. </p><ol class="ol"><li class="li"><p>Launch Project Builder.</p></li><li class="li"><p>Select New Project from the File menu.</p></li><li class="li"><p>From the New Project window, select Sherlock Channel from the Standard Apple Plug-ins section.</p></li><li class="li"><p>Click Next.</p></li><li class="li"><p>Enter the name and location of your project.</p></li><li class="li"><p>Click Finish.</p></li></ol><p>Your new project includes a channel configuration file, a main code file, a default icon, and a nib file with a predefined window. The project also includes a Read Me file with the latest instructions on how to modify and debug your channel. You should read these instructions before deploying your channel for testing. </p><a name="//apple_ref/doc/uid/20001086-110831" title="Loading the Channel"></a><h2>Loading the Channel</h2><p>When you are ready to test your channel, you need to post it to a web server and tell Sherlock to load it. The simplest way to do this is to enable Personal Web Sharing on your local machine and place your channel files in the Sites directory of an active user. You can then load the channel from a browser address line. </p><p>The following steps show you how to load the default channel project. If you added any files to the project, you may need to copy those files to the Sites folder along with the standard channel files that came with the project:</p><ol class="ol"><li class="li"><p>In the Sharing System Preference, enable Personal Web Sharing on your test machine.</p></li><li class="li"><p>Copy the <code>SherlockChannel.xml</code> and <code>Channel.icns</code> files and the <code>Channel</code> directory to the <code>Sites</code> directory of your user home directory.</p></li><li class="li"><p>Launch Safari.</p></li><li class="li"><p>In the browser address bar, enter the path to the <code>SherlockChannel.xml</code> file of your channel. For example, if you put your channel in local user Steve’s <code>Sites</code> directory, your URL might look like the following:</p></li></ol><div class="codesample"><table><tr><td scope="row"><pre>sherlock://localhost/~steve/SherlockChannel.xml<span></span></pre></td></tr></table></div><div class="importantbox"><a name="//apple_ref/doc/uid/20001086-DontLinkElementID_8" title="Important:"></a><p><strong>Important:</strong>&nbsp;Starting with Mac OS X 10.2.4, Sherlock can access your computer (localhost) only when the <code>SHERLOCK_DEBUG_CHANNELS</code> environment variable is set to 1. (This requirement may be removed in future versions of Mac OS X). This variable is set for you automatically when you create a new Sherlock project. See <span class="content_text"><a href="CreatingChannels.html#//apple_ref/doc/uid/20001086-111135">“Debug Menu”</a></span> for more information on setting environment variables.</p><p></p></div><p>Entering the URL for your channel configuration file launches Sherlock and tells it to load your channel. However, the icon for your channel does not appear in the toolbar until you explicitly add it, either programmatically or from the Sherlock application.</p><p>To add a channel to the toolbar from the Sherlock application, you would simply select the Add Channel to Toolbar command from the Channel menu. To add your test channel to the toolbar programmatically, you would use the following URL instead of the one in the preceding step:</p><div class="codesample"><table><tr><td scope="row"><pre>sherlock://localhost/~steve/SherlockChannel.xml?action=add<span></span></pre></td></tr></table></div><p>For more information on loading channels using the <code>sherlock</code> scheme, see <span class="content_text"><a href="InstallingAccessing.html#//apple_ref/doc/uid/20001087-BCIIDJDC">“Accessing Channels.”</a></span> </p><a name="//apple_ref/doc/uid/20001086-110895" title="Debugging Tools"></a><h2>Debugging Tools</h2><p>Apple provides several tools to aid you in debugging your trigger code.</p><a name="//apple_ref/doc/uid/20001086-111083" title="Channel Tools"></a><h3>Channel Tools</h3><p> Developers can add the Channel Development Tools subscription to Sherlock to access some special channels: an XQuery code tester, a JavaScript code tester, an HTML View tool, and a XPath Finder tool. The XQuery and JavaScript code testers let you execute trigger code in a Sherlock environment and view the results. The HTML View tool lets you load and view an HTML page. The XPath Finder tool gives you the XQuery path to a specific HTML tag in a document.</p><p>To subscribe to the developer channels, go to the following URL from your browser. This URL will load the developer channels and add them to your current subscription list:</p><div class="codesample"><table><tr><td scope="row"><pre>sherlock://si.info.apple.com/sherlock3s/<span></span></pre></td></tr><tr><td scope="row"><pre>                    developerChannels.xml?action=subscribe<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001086-111135" title="Debug Menu"></a><a name="//apple_ref/doc/uid/20001086-111135-BCIGADGD" title="Debug Menu"></a><h3>Debug Menu</h3><p>Sherlock includes support for runtime debugging of your channel using the Sherlock Debug menu. You enable this feature by launching Sherlock from the Terminal application in the following way:</p><ol class="ol"><li class="li"><p>Launch the Terminal application.</p></li><li class="li"><p>In your shell, set the environment variable <code>DEBUG_SHERLOCK_CHANNELS</code> to the value 1. For example, in the <code>tcsh</code> shell, you would use the following command:</p><div class="codesample"><table><tr><td scope="row"><pre>setenv DEBUG_SHERLOCK_CHANNELS 1<span></span></pre></td></tr></table></div></li><li class="li"><p>Launch Sherlock from the command-line. You can do this by navigating to the directory containing the Sherlock application bundle and executing the following command:</p><div class="codesample"><table><tr><td scope="row"><pre>./Sherlock.app/Contents/MacOS/Sherlock<span></span></pre></td></tr></table></div></li></ol><p>Another way to enable the Debug menu is to modify the <code>SherlockDebug</code> preference in the system defaults database. When set to <code>1</code>, Sherlock displays the Debug menu; when set to <code>0</code>, Sherlock hides it. The following example shows you how to enable the Debug menu from Terminal:</p><div class="codesample"><table><tr><td scope="row"><pre>defaults write com.apple.Sherlock SherlockDebug 1<span></span></pre></td></tr></table></div><p>Launching Sherlock with either of these options adds a Debug menu to the end of the Sherlock menu bar. This menu contains commands for reloading the channel and for examining both the data store and the view hierarchy. </p><p>The Data Store command displays a browser window with which you can navigate the data store variable space. Following the path hierarchies, you can examine the data currently being managed by your channel at a specific path. You can use this tool to validate the integrity of your channel’s data. </p><p>The Examine View Hierarchy command displays a window with an outline view that shows the object hierarchy of your channel’s views. Each object is identified by its type and by the current address of the object itself. This information is read-only and cannot be permanently changed. </p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Concepts/ScriptExtensions.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="InstallingAccessing.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-04-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/Sherlock/Tasks/CreatingChannels.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/Sherlock/Tasks/CreatingChannels.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/Sherlock/Tasks/CreatingChannels.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
