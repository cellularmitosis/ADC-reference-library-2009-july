<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>RegisterComponent (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING368></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-367.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-369.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-333.html"><B>Chapter 6 - Component Manager</B></A> / <A HREF="MoreToolbox-346.html"><B>Component Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-366.html"><B>Routines for Components</B></A> / <A HREF="MoreToolbox-367.html"><B>Registering Components</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING368-0></A>
<H3><A NAME=MARKER-9-279></A>RegisterComponent</H3>
 <A NAME=MARKER-2-271></A>The <CODE>RegisterComponent</CODE> function makes a component available for use by applications (or other clients). Once the Component Manager has registered a component, applications can find and open the component using the standard Component Manager routines. To register a component, you provide information identifying the component and its capabilities. The Component Manager returns a component identifier that uniquely identifies the component to the system.<P>
 Components you register with the <CODE>RegisterComponent</CODE> function must be in memory when you call this function. If you want to register a component that is stored in the resource fork of a file, use the <CODE>RegisterComponentResource</CODE> function. Use the <CODE>RegisterComponentResourceFile</CODE> function to register all components in the resource fork of a file.<P>
 Note that a component residing in your application heap remains registered until your application unregisters it or quits. A component residing in the system heap and registered by your application remains registered until your application unregisters it or until the computer is shut down.<P>
<PRE>
FUNCTION RegisterComponent (cd: ComponentDescription; 
                            componentEntryPoint: ComponentRoutine; 
                            global: Integer; 
                            componentName: Handle;
                            componentInfo: Handle;
                            componentIcon: Handle): Component;
</PRE>
<DL>
<DT><CODE>cd </CODE>
<DD> A component description record that describes the component to be registered. You must correctly fill in the fields of this record before calling the <CODE>RegisterComponent</CODE> function. When applications search for components using the <CODE>FindNextComponent</CODE> function, the Component Manager compares the attributes you specify here with those specified by the application. If the attributes match, the Component Manager returns the component identifier to the application. 
<DT><CODE><A NAME=MARKER-21-118></A>componentEntryPoint</CODE>
<DD> The address of the main entry point of the component you are <BR>registering. The routine referred to by this parameter receives all requests for the component.
<DT><CODE><A NAME=MARKER-2-120></A>global</CODE>
<DD> A set of flags that control the scope of component registration. You can use these flags to specify a value for the <CODE>global</CODE> parameter:
<DT><CODE><A NAME=MARKER-13-283></A><A NAME=MARKER-2-284></A>registerCmpGlobal = 1;<BR></CODE>Specify this flag to indicate that this component should be made available to other applications and clients as well as the one performing the registration. If you do not specify this flag, the component is available for use only by the registering application or component (that is, the component is local to the A5 world of the registering program).
<DD>
<DT><CODE>registerCmpNoDuplicates = 2;<BR></CODE>Specify this flag to indicate that if a component with identical characteristics to the one being registered already exists, then the new one should not be registered (<CODE>RegisterComponent</CODE> returns 0 in this situation). If you do not specify this flag, the component is registered even if a component with identical characteristics to the one being registered already exists.
<DD>
<DT><CODE><A NAME=MARKER-13-285></A><A NAME=MARKER-9-23></A>registerCompAfter = 4;<BR></CODE>Specify this flag to indicate that this component should be registered after all other components with the same component type. Usually components are registered before others with identical descriptions; specifying this flag overrides that behavior. 
<DD>
<DT><CODE><A NAME=MARKER-2-209></A>componentName</CODE>
<DD> A handle to the component's name. Set this parameter to <CODE>NIL</CODE> if you do not want to assign a name to the component.
<DT><CODE><A NAME=MARKER-2-153></A>componentInfo</CODE>
<DD> A handle to the component's information string. Set this parameter to <CODE>NIL</CODE> if you do not want to assign an information string to the component.
<DT><CODE><A NAME=MARKER-2-38></A>componentIcon</CODE>
<DD> A handle to the component's icon (a 32-by-32 pixel black-and-white icon). Set this parameter to <CODE>NIL</CODE> if you do not want to supply an icon for this component. Note that this icon is not used by the Finder; you supply an icon only so that other components or applications can display your component's icon if needed.<A NAME=MARKER-2-77></A>
</DL>
<A NAME=HEADING368-14></A>
<H5>DESCRIPTION</H5>
 The <CODE>RegisterComponent</CODE> function registers the specified component, recording the information specified in the <CODE>cd</CODE>, <CODE>componentName</CODE>, <CODE>componentInfo</CODE>, and <CODE>componentIcon</CODE> parameters. The function returns the component identifier assigned to the component by the Component Manager. If it cannot register the component, the <CODE>RegisterComponent</CODE> function returns a function result of <CODE>NIL</CODE>.<P>
<A NAME=HEADING368-16></A>
<H5>SEE ALSO</H5>
 For a complete description of the component description record, see <A HREF=MoreToolbox-365.html#MARKER-9-244>"Data Structures for Components" beginning on page 6-50</A>. <A NAME=MARKER-9-219></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-367.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-369.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
