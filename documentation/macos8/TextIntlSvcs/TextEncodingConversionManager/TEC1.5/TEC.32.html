<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<script language="JavaScript" src="frametest.js"></script>
<TITLE> UpgradeScriptInfoToTextEncoding</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a>
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --><A HREF="TEC.31.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.31.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.33.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A><br>
<font face="Geneva,Helvetica,Arial" size="1"><b><br>
		PATH<spacer type="horizontal" size="5">&nbsp;</b></font><a href="../../../mac8.html"><font face="Geneva,Helvetica,Arial" size="1">Mac OS 8 and 9 Developer Documentation</a>  <b>&gt;</b> Text Encoding Conversion Manager<br>
		<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">Programming With the Text Encoding Conversion Manager</font><br>
		<br>
		<hr>

</DIV>
<H1>
<A NAME="pgfId=7147">
 </A>
<A NAME="39973">
 </A>
UpgradeScriptInfoToTextEncoding</H1>
<P>
<A NAME="pgfId=7148">
 </A>
Converts any combination of a Mac&nbsp;OS script code, a language code, a region code, and a font name to a text encoding.</P>
<TT>
<A NAME="pgfId=21090">
 </A>
pascal OSStatus UpgradeScriptInfoToTextEncoding (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ScriptCode iTextScriptID, <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LangCode iTextLanguageID,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RegionCode iRegionID,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ConstStr255Param iTextFontname, <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TextEncoding *oEncoding);</TT>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=21094">
 </A>
<TT>iTextScriptID</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=7151">
 </A>
A valid Script Manager script code. The Mac OS Script Manager defines constants for script codes using this format: <TT>sm</TT><I CLASS="italics">
Xxx</I>
. To designate the system script, specify the meta-value of <TT>smSystemScript</TT>. To designate the current script based on the font specified in the graphics port (<TT>grafPort</TT>), specify the metavalue of <TT>smCurrentScript</TT>. To indicate that you do not want to provide a script code for this parameter, specify the constant <TT>kTextScriptDontCare</TT>. See <I CLASS="italics">
<I>Inside Macintosh: Text</I></I>
 for more information on the Script Manager's script codes, language codes, and region codes. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=21104">
 </A>
<TT>iTextLanguageID</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=7152">
 </A>
 A valid Script Manager language code. The Mac OS Script Manager defines constants for language codes using this format: <TT>lang</TT><I CLASS="italics">
Xxx</I>
. To indicate that you do not want to provide a language code for this parameter, specify the constant <TT>kTextLanguageDontCare</TT>.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=21114">
 </A>
<TT>iRegionID</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=7153">
 </A>
A valid Script Manager region code. The Mac OS Script Manager defines constants for region codes using this format: <TT>ver</TT><I CLASS="italics">
Xxx</I>
. To indicate that you do not want to provide a region code for this parameter, specify the constant <TT>kTextRegionDontCare</TT>.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=21123">
 </A>
<TT>iTextFontname</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=7154">
 </A>
The name of a font associated with a particular text encoding specification, such as Symbol or Zapf Dingbats, or the name of any font that is currently installed on the system. To indicate that you do not want to provide a font name, specify a value of <TT>NULL</TT>.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=21132">
 </A>
<TT>oEncoding</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=7155">
 </A>
A pointer to a value of type <TT>TextEncoding</TT>. On output, this value holds the text encoding specification that the function created from the other values you provided. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=21141">
 </A>
<I CLASS="italics">
function result</I>
 </DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=11674">
 </A>
A result code. This function returns <TT>paramErr</TT> if two or more of the input parameter values conflict in some way--for example, the Mac OS language code does not belong to the script whose script code you specified, or if the input parameter values are invalid. The function returns a <TT>kTECTableFormatErr</TT> result code if the internal mapping tables used for translation are invalid. For a list of other possible result codes, see <A HREF="TEC.20.html" CLASS="XRef">
Text Encoding Conversion Manager Result Codes</A>
.</DD><P>

</DL COMPACT>
<DIV>
<H5 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=7157">
 </A>
DISCUSSION</H5>
<P>
<A NAME="pgfId=7158">
 </A>
The <TT>UpgradeScriptInfoToTextEncoding</TT> function allows you to derive a text encoding specification from script codes, language codes, region codes, and font names. A one-to-one correspondence exists between many of the Script Manager's script codes and a particular Mac&nbsp;OS text encoding base value. However, because text encodings are a superset of script codes, some combinations of script code, language code, region code, and font name might result in a different text encoding base value than would be the case if the translation were based on the script code alone. <P>


<A NAME="pgfId=7160">
 </A>
When you call the <TT>UpgradeScriptInfoToTextEncoding</TT> function, you can specify any combination of its parameters, but you must specify at least one. <P>


<A NAME="pgfId=7161">
 </A>
If you don't specify an explicit value for a script, language, or region code parameter, you must pass the don't-care constant appropriate to that parameter. If you don't specify an explicit value for <TT>iTextFontName</TT>, you must pass <TT>NULL</TT>. <TT>UpgradeScriptInfoToTextEncoding</TT> uses as much information as you supply to determine the equivalent text encoding or the closest approximation. If you provide more than one parameter, all parameters are checked against one another to ensure that they are valid in combination. <P>


<A NAME="pgfId=11358">
 </A>
A font name, such as <TT>'Symbol'</TT> or <TT>'Zapf Dingbats',</TT> can indicate a particular text encoding base. Other font names can indicate particular variants associated with a particular text encoding base. Otherwise, the font name is used to obtain a script code, and this script code will be checked against any script code you supply (in this case, the font must be installed; if it is not, the function returns a <TT>paramErr</TT> result code). If you do not supply either a language code or a region code and the script code you supply or the one that is derived matches the system script, then the system's localization is used to determine the appropriate region and language code. This is used for deriving text encoding base values that depend on region and language, such as <TT>kTextEncodingMacTurkish</TT>. </P>
</DIV>
<DIV>
<H5 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=7236">
 </A>
SEE ALSO</H5>
<P>
<A NAME="pgfId=7566">
 </A>
The function <A HREF="TEC.33.html" CLASS="XRef"><TT>RevertTextEncodingToScriptInfo</TT></A>
 <P>


<A NAME="pgfId=11278">
 </A>
<A HREF="TEC.1a.html" CLASS="XRef">
Text Encoding Base</A>
</P>
</DIV>
<HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 13 Dec 99)<P><A HREF="TEC.31.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.31.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.33.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A>

<!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY>
</HTML>
