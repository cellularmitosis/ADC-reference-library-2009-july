<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Printing (MacApp PG)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING68></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MacAppProgGuide-67.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MacAppProgGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MacAppProgGuide-158.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MacAppProgGuide-69.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MacAppProgGuide-2.html"><B>Programmer's Guide to MacApp</B></A> / <A HREF="MacAppProgGuide-21.html"><B>Part 1 - MacApp Theory and Architecture</B></A><BR><DD><A HREF="MacAppProgGuide-63.html"><B>Chapter 8 - Displaying, Manipulating, and Printing Data</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING68-0></A>
<H1><A NAME=MARKER-9-186></A><A NAME=MARKER-2-187></A>Printing</H1>
 MacApp applications use view objects both to display documents and to print them. You associate a print handler with a view and the print handler converts the view's drawing instructions into printable output. Print-handler objects also manage the page setup and print options dialogs, and handle printing-related menu commands, including Print, Print One, and Show Page Breaks.<P>
 To add customized page layout for your documents, you subclass one of the print-handling classes provided by MacApp and override the appropriate methods, as described in <A HREF=#MARKER-9-196>"Behind the Scenes" on page 232</A>. For additional information on printing, see <A HREF=MacAppProgGuide-118.html#MARKER-9-19>Chapter 23, "Working With Printing."</A><P>
<A NAME=HEADING68-3></A>
<H2><A NAME=MARKER-2-188></A>Print-Handling Classes</H2>
 Printing in MacApp is managed by associating a print-handler object with a view object. The view object draws the view and the print handler converts the drawn image into printable output. <P>
 MacApp provides two print-handling classes:<P>
<DL>
<DT><CODE><A NAME=MARKER-2-189></A>TPrintHandler</CODE>
<DD> The <CODE>TPrintHandler</CODE> class defines the minimal print-handler interface.
<DT><CODE><A NAME=MARKER-2-190></A>TStdPrintHandler</CODE>
<DD> The <CODE>TStdPrintHandler</CODE> class, a subclass of <CODE>TPrintHandler</CODE>, adds capabilities to print a view and handle the Page Setup and Print menu commands.
</DL>
 Because print-handling classes descend from MacApp's <CODE>TBehavior</CODE> class, they can handle events, including menu commands. When the user selects the Print command from the File menu, the print handler takes care of all the details of printing, including spooling and communicating with the Macintosh Print Manager. The print-handling object calls drawing methods in its associated view object, then directs the drawn output to the printer.<P>
 Since a print handler is always associated with a view, it is usually created at the same time as its view, in the <CODE>DoMakeViews</CODE> method of a document object. The print handler prints the view and all of the associated subviews, so you only need to create one print handler to print an entire view hierarchy.<P>
 A great deal of flexibility is built into the standard print handler, so you may not need to define a print-handling subclass. If you do need to provide custom printing, you normally do so by overriding methods of <CODE>TStdPrintHandler</CODE>. Less commonly, you may define a subclass of the simpler <CODE>TPrintHandler</CODE> class.<P>
<A NAME=HEADING68-11></A>
<H2><A NAME=MARKER-2-191></A>Recordable Printing</H2>
 MacApp's <CODE><A NAME=MARKER-2-192></A>TPrintCommand</CODE> class supports recordable printing. You initialize a print command by passing it a command number and a reference to a print-handler object. The print command's <CODE>DoIt</CODE> method calls the <CODE>Print</CODE> method of its print handler. Its <CODE><A NAME=MARKER-2-194></A>MakeAppleEvent</CODE> method creates an Apple event to describe the printing operation. If the print handler has a document object reference, the Apple event's specified object refers to the document; otherwise, it refers to the window containing the print handler's view.<P>
<A NAME=HEADING68-13></A>
<H2><A NAME=MARKER-2-195></A>Creating Views for Displaying and Printing</H2>
 When you create a window and its full view hierarchy by calling <CODE>NewTemplateWindow</CODE> <A HREF=MacAppProgGuide-101.html#MARKER-9-58>(page 217)</A>, you can use the window for displaying as well as printing.<P>
 The situation is slightly different when a user prints your application's documents from the Finder and the application is launched to do the printing. Since MacApp printing is based on views, you can create a view to print the document without the additional overhead of creating a window. To create a view hierarchy for printing without also creating a window, you call the <CODE>DoCreateViews</CODE> method instead of the <CODE>NewTemplateWindow</CODE> method.<P>
<A NAME=HEADING68-16></A>
<H2><A NAME=MARKER-9-196></A>Behind the Scenes</H2>
 Printing is a complicated process that includes page setup, page printing, maintenance of page description areas, and interaction with the Macintosh Print Manager. MacApp can handle all of these operations, but if you want to customize your printing support, you'll want to know more about how MacApp implements printing.<P>
<A NAME=HEADING68-18></A>
<H3><A NAME=MARKER-2-197></A>Initialization</H3>
 Your application calls the <CODE><A NAME=MARKER-2-198></A>InitUPrinting</CODE> method to initialize printing. <CODE>InitUPrinting</CODE> creates a printer object of type <CODE>TMacPrintPrinter</CODE> (a subclass of <CODE>TPrinter</CODE>) and stores a reference to it in the global variable <CODE><A NAME=MARKER-2-200></A>gDefaultPrinter</CODE>. MacApp's global printer object works with the <CODE><A NAME=MARKER-2-201></A>CInMacPrint</CODE> print utility class to optimize performance by minimizing calls to the printer driver.<P>
 The <CODE>TPrinter</CODE> class is a generic superclass that encapsulates a printer driver. The <CODE>TMacPrintPrinter</CODE> subclass works with normal (Macintosh Print Manager) printing. In the future, additional classes may provide drivers to support QuickDraw GX or other technologies.<P>
 The <CODE>TPrintInfo</CODE> class encapsulates a print info handle for printing with the Macintosh Print Manager. Again, a similar class (though not necessarily with a common superclass) may be added in the future to encapsulate a <CODE>GXJobinfo</CODE> record.<P>
 In addition to preparing the way for future compatibility with QuickDraw GX and minimizing calls to the printer driver, the <CODE>TPrinter</CODE>, <CODE><A NAME=MARKER-2-203></A>TMacPrintPrinter</CODE>, and <CODE>TPrintInfo</CODE> classes improve performance by caching information such as page size, rotation, resolution, and so on.<P>
<A NAME=HEADING68-23></A>
<H3><A NAME=MARKER-2-204></A>Page Setup</H3>
 The <CODE>TStdPrintHandler</CODE> class handles the Page Setup menu command and the page setup dialog. To make changes to the page setup dialog undoable, <CODE>TStdPrintHandler</CODE> creates a <CODE><A NAME=MARKER-2-206></A>TPrintStyleChangeCommand</CODE> object when the user clicks OK in the page setup dialog box. The <CODE>DoIt</CODE> method of this class sends information to the Macintosh Print Manager to configure the printer for the specified setup.<P>
<A NAME=HEADING68-25></A>
<H3><A NAME=MARKER-2-207></A>Different Setups Required for Print Commands</H3>
 A user can print a document directly by choosing the application's Print or Print One command from the File menu. A user can also select an application document in the Finder and choose the Print menu command, causing the Finder to send the application a Print Documents event. The application may also receive a Print event from a script. In each case, MacApp calls the <CODE>DoMenuCommand</CODE> method of the print handler for the view to be printed, or of a <CODE><A NAME=MARKER-2-208></A>TPrintMenuBehavior</CODE> object attached to the document to be printed. Each of these <CODE>DoMenuCommand</CODE> methods calls the <CODE><A NAME=MARKER-2-209></A>DoPrintCommand</CODE> method of the print-handler object, which handles each case in a slightly different manner:<P>
<UL>
<LI><B>Print.</B>  This menu command is handled by the standard print handler's <CODE>DoPrintCommand</CODE> method. Before posting a <CODE>TPrintCommand</CODE> object to print the document, <CODE>DoPrintCommand</CODE> calls the <CODE><A NAME=MARKER-2-210></A>PoseJobDialog</CODE> method of the handler to gather print job information by displaying the printer job dialog box.
<LI><B>Print One.</B>  This menu command is also handled by the standard print handler's <CODE>DoPrintCommand</CODE> method. No dialog box is displayed--the print job information is set up by reusing information from the previous job handled by the print handler; all pages are printed. A <CODE><A NAME=MARKER-2-211></A>TPrintCommand</CODE> is posted to print the document.
<LI><B>Print event.</B> When a Print event specifies a document object, the event is dispatched to the document's <CODE><A NAME=MARKER-2-212></A>DoScriptCommand</CODE> method, which in turn calls the <CODE><A NAME=MARKER-2-213></A>DoAEPrint</CODE> method. In the <CODE>TDocument</CODE> class, <CODE>DoAEPrint</CODE> calls the document's <CODE>HandleMenuCommand</CODE> method, specifying either <CODE><A NAME=MARKER-2-214></A>cPrint</CODE> or <CODE><A NAME=MARKER-2-215></A>cPrintOne</CODE>, which leads to the same processing described above for Print and Print One.
<LI><B>Finder printing.</B>  The Print Documents event from the Finder is handled by the application object's <CODE>DoScriptCommand</CODE> method. It creates a <CODE><A NAME=MARKER-2-216></A>TPDocCommand</CODE> object to print the selected document or documents. The print handler's <CODE>DoPrintCommand</CODE> method is called for each document to be printed. <CODE>DoPrintCommand</CODE> calls the print handler's <CODE>Print</CODE> method directly to print the document.<P>
The page setup and job dialog boxes may be displayed before printing. These dialog boxes are controlled by two Boolean fields in <CODE>TStdPrintHandler</CODE>:<P>
<UL>
<LI><CODE><A NAME=MARKER-2-217></A>fFinderSetup</CODE>: Defaults to <CODE>FALSE</CODE>. If your application sets <CODE>fFinderSetup</CODE> to <CODE>TRUE</CODE>, the print handler will display the page setup dialog before printing.
<LI><CODE><A NAME=MARKER-2-218></A>fFinderJobDialog</CODE>: Defaults to <CODE>FALSE</CODE>. Even if <CODE>fFinderJobDialog</CODE> is <CODE>FALSE</CODE>, the printer job dialog is displayed for the first document, and the information is reused for any remaining documents. If you set <CODE>fFinderJobDialog</CODE> to <CODE>TRUE</CODE>, the printer job dialog will be displayed for each document printed.<P>
</UL>
</UL>
<DL>
<DT><B>Note</B>
<DD>The Print Documents event is different from most Apple events, which don't put up a dialog box, in that it may cause MacApp to display a print dialog box. This is a result of the design of the Print event, not a limitation in MacApp.<A NAME=MARKER-2-219></A><EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<A NAME=HEADING68-35></A>
<H3>Overview of a Print Job</H3>
 The <CODE><A NAME=MARKER-2-220></A>Print</CODE> method of a <CODE>TStdPrintHandler</CODE> object controls printing. This method determines how many pages are to be printed, then enters a loop, calling the <CODE><A NAME=MARKER-2-221></A>OneSubJob</CODE> method as many times as necessary to completely print the view. If the printed output is not spooled, the entire job is accomplished with one subjob. However, for spooled output it may be necessary to use several subjobs, depending on the amount of disk space available.<P>
 The <CODE>Print</CODE> method first creates a <CODE>CInMacPrint</CODE> object. The constructor method of the <CODE>CInMacPrint</CODE> class calls the <CODE>Open</CODE> method of its printer. For the <CODE>TMacPrintPrinter</CODE> class, <CODE>Open</CODE> calls the Toolbox routine <CODE>PrOpen</CODE>, which opens the printer driver and printing resource file and initializes the Printing Manager.<P>
 The print handler's <CODE>OneSubJob</CODE> method calls the Toolbox routine <CODE><A NAME=MARKER-2-222></A>PrOpenDoc</CODE>, which initializes a graphics port to be used in subsequent calls to the Print Manager and makes it the active port. The print handler's <CODE>OneSubJob</CODE> method calls the <CODE>PrintPage</CODE> method for each page in the subjob. After printing all of the pages, the <CODE>OneSubJob</CODE> method calls the <CODE><A NAME=MARKER-2-224></A>FinishJob</CODE> method of its printer object, which in turn calls the Toolbox routine <CODE><A NAME=MARKER-2-225></A>PrCloseDoc</CODE>. The destructor method for the <CODE>CInMacPrint</CODE> object calls its <CODE>Cleanup</CODE> method. It in turn calls the Toolbox method <CODE>PrClose</CODE>, which releases the Print Manager dialog box and other resources.<P>
 <!--For more information on Macintosh printing, see <I>Inside Macintosh: Imaging</I> and <I><A HREF="../AdvancedColor/AdvancedColor-2.html">Inside Macintosh: Advanced Color Imaging</A></I>.--> <P>
<A NAME=HEADING68-40></A>
<H3><A NAME=MARKER-2-226></A>Page Printing</H3>
 The <CODE><A NAME=MARKER-2-227></A>PrintPage</CODE> method of <CODE><A NAME=MARKER-2-228></A>TStdPrintHandler</CODE> prints one page of a view by performing these steps:<P>
<OL>
<LI>It calls its own <CODE><A NAME=MARKER-2-229></A>SetPage</CODE> method to compute state information for the page.
<LI>It calls <CODE>fPrinter-&gt;<A NAME=MARKER-2-230></A>StartPage</CODE>, which in turn calls the Toolbox routine <CODE><A NAME=MARKER-2-231></A>PrOpenPage</CODE> to ready printing of the page.
<LI>It calls its own <CODE><A NAME=MARKER-2-232></A>FocusOnInterior</CODE> method, which focuses on the portion of the view that represents the page. The area to be drawn is stored in the view's <CODE>fQDRectToClipTo</CODE> field.
<LI>It calls its own <CODE><A NAME=MARKER-2-233></A>DrawPageInterior</CODE> method, which then converts <CODE>fQDRectToClipTo</CODE> to view coordinates and passes them to the <CODE>HandleDraw</CODE> method of the view. The <CODE><A NAME=MARKER-2-234></A>HandleDraw</CODE> method calls the <CODE>Draw</CODE> method to draw the specified portion of the view.
<LI> It calls its own <CODE><A NAME=MARKER-2-235></A>FocusOnBorder</CODE> method in anticipation of drawing page adornments that may be outside of the page interior. 
<LI> It calls its own <CODE><A NAME=MARKER-2-236></A>AdornPage</CODE> method, which draws any page adornments such as page numbers and borders.
<LI>It calls <CODE>fPrinter-&gt;<A NAME=MARKER-2-237></A>FinishPage</CODE>, which in turn calls the Toolbox routine <CODE><A NAME=MARKER-2-238></A>PrClosePage</CODE>.<P>
</OL>
<A NAME=HEADING68-49></A>
<H3><A NAME=MARKER-2-239></A><A NAME=MARKER-9-240></A>Page Definition Areas</H3>
 The dimensions of the physical page are maintained by the print-handler object in four <CODE>VRect</CODE> fields:<P>
<DL>
<DT><CODE><A NAME=MARKER-2-241></A>fInkRect<B></B></CODE>
<DD> The printable part of the page, defined as a rectangle. Its upper-left corner is always <CODE>(0,0)</CODE>, and its lower-right corner is <CODE>(y,x)</CODE>, where <CODE>y</CODE> is the maximum printable page height, and <CODE>x</CODE> is the maximum printable page width. 
<DT><CODE>fPaperRect<B></B></CODE>
<DD> The entire physical page, in the coordinate system of <CODE>fInkRect</CODE>. The physical page is almost always larger than its printable part; thus, its upper-left corner usually has negative coordinate values, and its lower-right corner usually has coordinate values greater than those of <CODE>fInkRect</CODE>.
<DT><CODE>fInteriorRect<B></B></CODE>
<DD> The part of the page in which the print handler draws its view image, again in the coordinate system of <CODE>fInkRect</CODE>. (The value of <CODE>fInteriorRect</CODE> is equal to <CODE>fPaperRect</CODE> minus <CODE>fMarginsRect</CODE>.)
<DT><CODE>fMarginsRect<B></B></CODE>
<DD> The top, left, bottom, and right paper margins. Although stored as a rectangle, these are really four values that define the distances from the physical page edges to the page interior, so the <CODE>fInteriorRect</CODE> rectangle can be computed by adding <CODE>fMarginsRect</CODE> to <CODE>fPaperRect</CODE>. As a result, the upper-left point of the <CODE>fMarginsRect</CODE> rectangle is positive and the lower-right point is negative.
</DL>
 <A HREF=#MARKER-9-242>Figure 8-8</A> shows the relationships between the page definition areas. The values are automatically recomputed whenever the user chooses a new printer. You can also call the <CODE>InstallMargins</CODE> method of the print handler to modify the margin values, which also results in changing the value of <CODE>fInteriorRect</CODE>, as described in <A HREF=MacAppProgGuide-121.html#MARKER-9-37>"Installing New Margins," beginning on page 536</A>.<P>
<B>Figure 8-8  <A NAME=MARKER-9-242></A>Page dimensions<A NAME=MARKER-2-243></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/MacApp_PG-L-014.gif"><P>
<A NAME=HEADING68-58></A>
<H3><A NAME=MARKER-9-244></A>Customizing the Page</H3>
 The <CODE>TStdPrintHandler</CODE> class implements several methods you can use to change the default page setup. You can modify the margin settings (described in <A HREF=MacAppProgGuide-121.html#MARKER-9-35>"Recipe--Changing Default Margin Settings," beginning on page 535</A>), customize the way in which the view is separated into page strips, or add custom handling of page breaks. Page strips and page breaks are described in the next section.<P>
<A NAME=HEADING68-60></A>
<H3><A NAME=MARKER-2-245></A><A NAME=MARKER-9-246></A>Page Strips and Page Breaks</H3>
 The extent of a view can be larger than one page, in which case it becomes necessary to divide it into pages for printing purposes. MacApp uses a model that divides a view into vertical or horizontal page strips. You can think of the view as being divided by horizontal and vertical lines, called page breaks, which produce a "checkerboard" of pages. A vertical column of these pages, one page wide, is called a <B>vertical page strip.</B> A horizontal row of these pages, one page high, is called a <B>horizontal page strip.</B><P>
 Most word-processing programs print a single vertical page strip, whereas many graphical applications print multiple page strips in both dimensions. The size of these page strips can be uniform or variable. Page strips of varying sizes are used when a different portion of a view is printed on different pages, for example, to ensure that page breaks occur on line boundaries.<P>
 Your application has a great deal of control over how pages are divided into strips and over what happens when a page break is generated. For example, MacApp's <CODE>TTEView</CODE> class implements methods to facilitate mapping a view to pages and page strips. The <CODE><A NAME=MARKER-2-247></A>DoCalcViewPerPage</CODE> method of the <CODE>TTEView</CODE> class determines the standard page strip size. Unless it is overridden, this method calls the <CODE><A NAME=MARKER-2-248></A>CalcViewPerPage</CODE> method of the print handler, which simply returns the size of the page interior. <P>
 The number of page strips is determined by calling the <CODE><A NAME=MARKER-2-249></A>DoCalcPageStrips</CODE> method of the view object. Unless overridden, this method calls the <CODE><A NAME=MARKER-2-250></A>CalcPageStrips</CODE> method of the print handler. <CODE>CalcPageStrips</CODE> uses one of two techniques to determine the number of page strips in each direction:<P>
<UL>
<LI> If the page strip size is fixed, the number of strips is computed by dividing the height of the view by the height of the page strip and by dividing the width of the view by the width of the page strip.
<LI> If the page strip size is variable, <CODE>CalcPageStrips</CODE> computes each page break, counting them as it goes.<P>
</UL>
 To determine where a page break occurs, the <CODE><A NAME=MARKER-2-251></A>DoBreakFollowing</CODE> method of the view object is called. This method returns the view coordinate at which the next page break occurs. Unless overridden, it calls the <CODE><A NAME=MARKER-2-252></A>BreakFollowing</CODE> method of the print handler, which simply adds the strip size to the last page break. To implement a view with variable-size page strips, you override the <CODE>DoBreakFollowing</CODE> method of your view class.<P>
 If each page is the same size (in view coordinates), but the page size may need to be smaller than <CODE>fInteriorRect</CODE>, it makes sense to override the <CODE><A NAME=MARKER-2-253></A>DoCalcViewPerPage</CODE> method. But if each page could have a different amount of view printed on it, you should override <CODE>DoBreakFollowing</CODE> instead.<P>
 Whenever a page break does occur, the print handler calls its own <CODE>EachBreak</CODE> method. The <CODE>TStdPrintHandler</CODE> implementation of this method computes the number of page strips for variable size strips and draws page breaks on <BR>the screen. <P>
 You can also call the <CODE><A NAME=MARKER-2-254></A>GetBreakCoord</CODE> method of the print handler. This method returns the location in your view of an arbitrary page break. For fixed-size page strips, the computation is simple--the strip size is multiplied by the page break number. For variable-size page strips, the computation involves calculating all of the breaks up to the specified one.<A NAME=MARKER-2-255></A><P>
<A NAME=HEADING68-71></A>
<H3><A NAME=MARKER-2-256></A><A NAME=MARKER-9-257></A>Screen Feedback</H3>
 Many applications need to give the user screen feedback to show where page breaks occur, to display page numbers and headers, and so on.<P>
 Screen feedback of page breaks is handled by cooperation between the print handler and the view. Recall that when the print handler is attached to the view, a print adorner is also added to the view. The feedback process starts when the view's <CODE><A NAME=MARKER-2-258></A>DrawContents</CODE> method is called:<P>
<OL>
<LI>The <CODE>DrawContents</CODE> method of the view calls the <CODE>HandleDraw</CODE> method of <BR>the view.
<LI>The view's <CODE>HandleDraw</CODE> method manages drawing of the view's contents. After all subviews have had a chance to draw, <CODE>HandleDraw</CODE> calls the view's <CODE>HighlightAdorners</CODE> method.
<LI>The <CODE><A NAME=MARKER-2-259></A>HighlightAdorners</CODE> method calls the <CODE><A NAME=MARKER-2-260></A>DoHighlightSelection</CODE> method of each adorner. For the print adorner, <CODE>DoHighlightSelection</CODE> calls the <CODE><A NAME=MARKER-2-261></A>DoDrawPrintFeedback</CODE> method of its view.
<LI>The view's <CODE>DoDrawPrintFeedback</CODE> method calls its print handler's <CODE><A NAME=MARKER-2-262></A>DrawPrintFeedback</CODE> method.
<LI> The print handler's <CODE>DrawPrintFeedback</CODE> method checks its <CODE><A NAME=MARKER-2-263></A>fShowBreaks</CODE> instance variable. If it is <CODE>TRUE</CODE>, the print handler calls the <CODE><A NAME=MARKER-2-264></A>DoDrawPageBreak</CODE> method of the view object.
<LI> The view's <CODE>DoDrawPageBreak</CODE> method calls the <CODE><A NAME=MARKER-2-265></A>DrawPageBreak</CODE> method of the print handler.
<LI>The <CODE>DrawPageBreak</CODE> method draws a 2-pixel-wide gray line along the page break in the view.<P>
</OL>
 Although this seems like a circuitous route to provide feedback, it does provide maximum flexibility, because you can fine tune the screen feedback in either the print handler or the view.<P>
 If the <CODE><A NAME=MARKER-2-266></A>gDebugPrinting</CODE> variable is <CODE>TRUE</CODE>, the print handler provides debugging help by also drawing page numbers at the intersections of the page breaks.<P>
 The user can control whether page breaks are displayed on the screen by choosing either the Show Page Breaks or Hide Page Breaks menu item. When one of these items is chosen, the print handler calls its <CODE>InvalPageFeedback</CODE> method. This method changes the screen feedback status and invalidates the view, which results in the view being redrawn with the new setting.<A NAME=MARKER-2-267></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MacAppProgGuide-67.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MacAppProgGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MacAppProgGuide-158.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MacAppProgGuide-69.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MacAppProgGuide-3.html">&copy; Apple Computer, Inc.</A><br>25 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
