<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Analyzing Drawing Problems(IM: XU)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING154></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="GXEnvironment-153.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-155.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="GXEnvironment-2.html"><B>QuickDraw GX Environment and Utilities</B></A> / <BR><DD><A HREF="GXEnvironment-145.html"><B>Chapter 4 - QuickDraw GX Debugging</B></A> / <A HREF="GXEnvironment-153.html"><B>Using QuickDraw GX Debugging</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING154-0></A>
<H2><A NAME=MARKER-9-50></A>Analyzing Drawing Problems</H2>
 <A NAME=MARKER-2-72></A><A NAME=MARKER-9-137></A><A NAME=MARKER-2-283></A>If you have run your application and a shape didn't draw as you anticipated, you can use the <CODE>GXGetShapeDrawError</CODE> function to have QuickDraw GX analyze why the shape didn't draw correctly. This function checks the content of a shape and all of the objects referenced by the shape for a condition that explains why the shape has no visible effect when drawn. As a result, <CODE>GXGetShapeDrawError</CODE> returns a single <B>drawing error</B> from the <A NAME=MARKER-2-151></A><CODE>gxDrawErrors</CODE> enumeration that may describe why the shape failed to draw correctly. The <CODE>gxDrawErrors</CODE> enumeration is listed in the section <A HREF=GXEnvironment-159.html#MARKER-9-133>"Drawing Errors" beginning on page 4-29</A>. The <CODE>GXGetShapeDrawError</CODE> function is described on <A HREF=GXEnvironment-163.html#MARKER-9-148>page 4-33</A>.These errors should not be confused with <CODE>gxGraphicsErrors</CODE>.<A NAME=MARKER-2-197></A><P>
 If the drawing was completed successfully, QuickDraw GX posts the <CODE>NoDrawError</CODE> drawing error. If you don't see the drawing, remember that it may have been drawn to a different view device or may have just redrawn over the previous shape that was drawn. The posting of a <CODE>NoDrawError</CODE> drawing error does not mean that the shape drawn is the one you expected or the correct shape. It just means that QuickDraw GX detected no drawing problems during the processing of the shape drawn.<P>
 <A NAME=MARKER-2-57></A><A NAME=MARKER-2-75></A>The drawing error QuickDraw GX posts is selected from a special subset of the QuickDraw GX error codes. This set of drawing error codes is structured with respect to the stage in the <A NAME=MARKER-8-113></A><B>drawing process sequence</B> that the drawing failed. The earliest stage of failure will be described in the posted drawing error. The single error code posted attempts to indicate the reason that you do not see the drawing that you anticipated. <P>
 Drawing errors are grouped into categories that correspond to the approximate sequence of QuickDraw GX processing, as shown in <A HREF=#MARKER-9-15>Table 4-1</A>.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-15></A><B>Table 4-1 QuickDraw GX drawing process sequence</B></CAPTION>
<TH>Drawing process<BR>sequence<TH>Object processed<TR>
<TD>1<TD>Shape type<TR>
<TD>2<TD>Style<TR>
<TD>3<TD>Ink<TR>
<TD>4<TD>Transform<TR>
<TD>5<TD>View port<TR>
<TD>6<TD>View device</TABLE>
 <P>
 The processing sequence is also the sequence of drawing errors posted. QuickDraw GX posts the first drawing error that is detected. It does not post subsequent drawing errors until the error posted earlier in the process sequence is corrected. For example, if an application attempts to draw a defective shape with a defective view port, QuickDraw GX posts a single shape type drawing error and does not post a view port drawing error. This is because QuickDraw GX analyzes the integrity of the shape earlier in the drawing process. It analyzes the integrity of the view port toward the end of the process. Once you correct the defective shape, QuickDraw GX can detect the defective view port in subsequent analysis with the <CODE>GXGetShapeDrawError</CODE> function. <A NAME=MARKER-2-60></A><A NAME=MARKER-2-131></A><P>
 <A HREF=#MARKER-9-6>Table 4-2</A> shows the <CODE>GXGetShapeDrawError</CODE> function <A NAME=MARKER-2-62></A><B>shape type</B> drawing errors that QuickDraw GX may post.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-6></A><B>Table 4-2 Shape type drawing errors</B> </CAPTION>
<TH>Error<TH>Description<TR>
<TD><CODE>shape_emptyType</CODE><TD>An empty type doesn't have an area to draw.<TR>
<TD><CODE>shape_inverse_fullType</CODE><TD>An inverse full type doesn't have an area to draw.<TR>
<TD><CODE>rectangle_zero_width</CODE><TD>The rectangle doesn't have an area to draw.<TR>
<TD><CODE>rectangle_zero_height</CODE><TD>The rectangle doesn't have an area to draw.<TR>
<TD><CODE>polygon_empty</CODE><TD>There is no contour to draw.<TR>
<TD><CODE>path_empty</CODE><TD>There is no contour to draw.<TR>
<TD><CODE>bitmap_zero_width</CODE><TD>The bitmap doesn't have an area to draw.<TR>
<TD><CODE>bitmap_zero_height</CODE><TD>The bitmap doesn't have an area to draw.<TR>
<TD><CODE>text_empty</CODE><TD>There is no character to draw.<TR>
<TD><CODE>glyph_empty</CODE><TD>There is no glyph to draw.<TR>
<TD><CODE>layout_empty</CODE><TD>There is no layout to draw.<TR>
<TD><CODE>picture_empty</CODE><TD>There is no shape in the picture.<TR>
<TD><CODE>shape_no_fill</CODE><TD>The shape fill is set to <CODE>gxNoFill</CODE>, which will not draw.<TR>
<TD><CODE>shape_no_enclosed_area</CODE><TD>There is no enclosed area to draw. <TR>
<TD><CODE>shape_no_enclosed_pixels</CODE><TD>There is an enclosed area, but it is so small that it does not cross any pixel centers.<TR>
<TD><CODE>shape_very_small</CODE><TD>There is a shape to draw, but it is extremely small (on the order of the size of a pixel).<TR>
<TD><CODE>shape_very_large</CODE><TD>Part of the shape may be drawn outside the bounds of the coordinate system (\xB132,768). <TR>
<TD><CODE>shape_contours_cancel</CODE><TD>The shapes contours overlap and cancel each other out.</TABLE>
<P>
 <A NAME=MARKER-9-180></A><A HREF=#MARKER-9-7>Table 4-3</A> shows the <CODE>GXGetShapeDrawError</CODE> function <A NAME=MARKER-2-64></A>style drawing errors.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-7></A><B>Table 4-3 Style drawing errors</B> </CAPTION>
<TH>Error<TH>Description<TR>
<TD><CODE>pen_too_small</CODE><TD>The pen width is so small that it doesn't enclose any pixels and therefore doesn't draw.<TR>
<TD><CODE>text_size_too_small</CODE><TD>The text size is so small that it doesn't enclose any pixels and therefore doesn't draw.<TR>
<TD><CODE>dash_empty</CODE><TD>The dash shape was specified as an empty type shape.<TR>
<TD><CODE>start_cap_empty</CODE><TD>The start cap shape was specified as an empty type shape. <TR>
<TD><CODE>pattern_empty</CODE><TD>The pattern shape was specified as an empty type shape. <TR>
<TD><CODE>textFace_Empty</CODE><TD>Each layer of the text face has a shape fill equal to <CODE>gxNoFill</CODE>.<TR>
<TD><CODE>shape_primitive_empty</CODE><TD>The original shape enclosed an area. There is no stylized shape to draw. An example is a pattern shape that contains overlapping patterns that cancel.<TR>
<TD><CODE>shape_primitive_very_small</CODE><TD>There is a shape to draw, but it is extremely small (on the order of the size of a pixel). An example is a scaled transform that shrinks the shape.</TABLE>
<P>
 <A NAME=MARKER-2-65></A><A HREF=#MARKER-9-8>Table 4-4</A> shows the <CODE>GXGetShapeDrawError</CODE> function <A NAME=MARKER-2-146></A>ink drawing errors<A NAME=MARKER-9-67></A>.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-8></A><B>Table 4-4 Ink drawing errors</B> </CAPTION>
<TH><CODE>Error</CODE><TH>Description<TR>
<TD><CODE>transfer_equals_noMode</CODE><TD>The transfer mode <CODE>gxNoMode</CODE> suppresses drawing.<TR>
<TD><CODE>transfer_matrix_ignores_source</CODE><TD>The transfer mode's mapping scales all values greater than 1 or less than 0 and the <CODE>overComponent</CODE> flag is not set.<TR>
<TD><CODE>transfer_matrix_ignores_device</CODE><TD>The transfer mode's mapping scales all values greater than 1 or less than 0 and the <CODE>overComponent</CODE> flag is not set.<TR>
<TD><CODE>transfer_source_reject</CODE><TD>The color is not within the source minimum and the source maximum.<TR>
<TD><CODE>transfer_mode_ineffective</CODE><TD>The transfer mode has no effect on the device. An example is a blend with an operand of 0.<TR>
<TD><CODE>colorSet_no_entries</CODE><TD>There are no colors in the color set so there is nothing to draw.<TR>
<TD><CODE>bitmap_colorSet_one_entry</CODE><TD>The bitmap drew, but it is probably not the desired result, since all colors map to the one color of the entry. An example is when the colors are off the end of the color set. </TABLE>
<P>
 <A NAME=MARKER-2-181></A><A HREF=#MARKER-9-9>Table 4-5</A> shows the <CODE>GXGetShapeDrawError</CODE> function <A NAME=MARKER-2-21></A>transform drawing errors.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-9></A><B>Table 4-5 Transform drawing errors</B> </CAPTION>
<TH>Error<TH>Description<TR>
<TD><CODE>transform_scale_too_small</CODE><TD>The transform has reduced the shape to less than 1/72 inch. You may see a few pixels drawn, depending on the resolution of your view port. <TR>
<TD><CODE>transform_map_too_large<BR></CODE>transform_move_too_large<BR> transform_scale_too_large<BR> transform_rotate_too_large<BR> transform_perspective_too_large<BR> transform_skew_too_large<TD>The transform has moved all or part of the shape outside the bounds of the coordinate system (\xB132,768). This may be the result of a move, scale, rotate, perspective, or skew transformation.<TR>
<TD><CODE>transform_clip_no_intersection</CODE><TD>The clip shape does not intersect any view port.<TR>
<TD><CODE>transform_clip_empty</CODE><TD>The transform clip is an empty type shape.<TR>
<TD><CODE>transform_no_viewPorts</CODE><TD>The number of entries in the view port list is zero.</TABLE>
<P>
 <A NAME=MARKER-2-64></A><A HREF=#MARKER-9-10>Table 4-6</A> shows the <CODE>GXGetShapeDrawError</CODE> function <A NAME=MARKER-2-22></A>view port drawing errors.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-10></A><B>Table 4-6 View port drawing errors</B> </CAPTION>
<TH>Error<TH>Description<TR>
<TD><CODE>viewPort_disposed</CODE><TD>The view port that was to be drawn to has already been disposed of. There is no view port to draw to.<TR>
<TD><CODE>viewPort_clip_empty</CODE><TD>The view port clip is an empty type shape.<TR>
<TD><CODE>viewPort_clip_no_intersection</CODE><TD>The view port clip does not intersect the view device.<TR>
<TD><CODE>viewPort_scale_too_small</CODE><TD>The map to global space has been completed. The object is less than 1/72 inch. You may see a few pixels drawn, depending on the resolution of your view port.<TR>
<TD><CODE>viewPort_map_too_large<BR></CODE>viewPort_move_too_large<BR> viewPort_scale_too_large<BR> viewPort_rotate_too_large<BR> viewPort_perspective_too_large<BR> viewPort_skew_too_large,<CODE></CODE><TD>The view port mapping has moved all or part of the shape outside the bounds of the coordinate system (\xB132,768). This may be the result of a move, scale, rotate, perspective, or skew transformation.<TR>
<TD><CODE>viewPort_viewGroup_offscreen</CODE><TD>The shape is drawn to an off-screen view device. This may be normal. This error is returned to alert you in the event that the drawing result was unexpected. </TABLE>
<P>
 <A NAME=MARKER-2-27></A><A HREF=#MARKER-9-11>Table 4-7</A> shows the <CODE>GXGetShapeDrawError</CODE> function <A NAME=MARKER-2-149></A>view device drawing errors.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-11></A><B>Table 4-7 View device drawing errors</B> </CAPTION>
<TH>Error<TH>Description<TR>
<TD><CODE>viewDevice_clip_no_intersection</CODE><TD>The view device clip does not intersect the bounds described by the view device bitmap shape.<TR>
<TD><CODE>viewDevice_scale_too_small</CODE><TD>The mapping to global space has been completed. The object is less than 1/72 inch. You may see a few pixels drawn, depending on the resolution of your draw view port.<TR>
<TD><CODE>viewDevice_map_too_large<BR></CODE>viewDevice_move_too_large<BR> viewDevice_scale_too_large<BR> viewDevice_rotate_too_large<BR> viewDevice_perspective_too_large<BR> viewDevice_skew_too_large<CODE></CODE><TD>The view port mapping has moved the shape outside the bounds of the coordinate system (\xB132,768). This may be the result of a move, scale, rotate, perspective, or skew transformation.<A NAME=MARKER-2-12></A><A NAME=MARKER-2-138></A><A NAME=MARKER-9-224></A></TABLE>
<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="GXEnvironment-153.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-155.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="GXEnvironment-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
