<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language = "JavaScript" src = "frametest.js"></script><TITLE> Hardware Initialization Code</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><A HREF="G4Rev3-80.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="G4Rev3-82.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="G4Rev3-84.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//	--></script><!-- end Show/Hide frames --></A><TABLE border="0" cellpadding="0" cellspacing="2" width="432">          <TR>        <TD><FONT face="Geneva,Helvetica,Arial" size="1">        <B>PATH<IMG src="images/space.gif" width="6" height="12"></B><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->         <B>></B> Power Mac G4 Developer Note                </FONT></TD>        </TR>        </TABLE><BR><hr></DIV><H1><A NAME="pgfId-4555"></A>Hardware Initialization Code<A NAME="marker-3350"></A></H1><P CLASS="T1-Text1"><A NAME="pgfId-3352"></A>The hardware initialization portion of the ROM contains calls to a series of Power-On Self Test (POST) routines. The principle features are a ROM checksum test, memory testing, detection of the manufacturing test pin, and test manager support. These diagnostics run in native Power PC code. </P><P CLASS="T1-Text1"><A NAME="pgfId-3353"></A>The hardware initialization code on the Power Mac G4 computer is different from that on earlier Power Macintosh models because of the new ICs (Uni-N and KeyLargo). Additional diagnostics are run out of the ROM in emulation.</P><P CLASS="T1-Text1"><A NAME="pgfId-3354"></A>Functions of the hardware initialization code include</P><UL><LI><A NAME="pgfId-3355"></A>initialization of the Uni-N bridge and memory controller IC<P><LI><A NAME="pgfId-3356"></A>memory sizing using I<EM CLASS="Superscript">2</EM>C presence detect on the memory module<P><LI><A NAME="pgfId-3357"></A>memory timing setup with support for fast SDRAM devices<P><LI><A NAME="pgfId-3358"></A>L2 cache detection and sizing<P><LI><A NAME="pgfId-3359"></A>initialization of the KeyLargo I/O controller IC<P><LI><A NAME="pgfId-3363"></A>generating diagnostic sounds, including the boot chord that is emitted when hardware initialization has been successfully completed<P></UL><P CLASS="T1-Text1"><A NAME="pgfId-3364"></A>The firmware in the boot ROM sets up and sizes memory, then stores the information in the device tree where it is available to the operating system. The firmware obtains information about the memory by way of the serial presence detect mechanism of the DIMM that is used for memory expansion. The JEDEC standard for the DIMM mandates that all DIMMs include a ROM with information about the memory. The Uni-N IC reads that information from the ROM by way of the I<EM CLASS="Superscript">2</EM>C bus. <A NAME="marker-3365"></A><A NAME="marker-3366"></A></P><HR>&#169 1999-2000 Apple Computer, Inc. &#150 (Last Updated 15 Feb 00)<P><A HREF="G4Rev3-80.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="G4Rev3-82.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="G4Rev3-84.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//	--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>