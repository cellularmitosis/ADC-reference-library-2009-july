<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Cocoa Drawing Guide: Color and Transparency</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Color and Transparency"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40003290-CH205" title="Color and Transparency"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../GraphicsImaging-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000450" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40003290-CH201-SW1">Cocoa Drawing Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Transforms/Transforms.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Paths/Paths.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40003290-CH205-BAJDFIFE" title="Color and Transparency"></a><h1>Color and Transparency</h1><p>One of the keys to creating interesting graphics is the effective use of color and transparency. In Mac OS X, both are used to convey information and provide an inherent appeal to your creations. Good color usage usually results in an interface that is pleasing to the user and helps call out information when it is needed. </p>


<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Color.html#//apple_ref/doc/uid/TP40003290-CH205-SW2">About Color and Transparency</a>
				
			<br/>
			
        
			
			
				<a href="Color.html#//apple_ref/doc/uid/TP40003290-CH205-BAJBDIFC">Creating Colors</a>
				
			<br/>
			
        
			
			
				<a href="Color.html#//apple_ref/doc/uid/TP40003290-CH205-SW10">Working with Colors</a>
				
			<br/>
			
        
			
			
				<a href="Color.html#//apple_ref/doc/uid/TP40003290-CH205-SW14">Working with Color Spaces</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40003290-CH205-SW2" title="About Color and Transparency"></a><h2>About Color and Transparency</h2>
<p>Support for color in Cocoa is built on top of Quartz. The <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColor" target="_top">NSColor</a></code> class provides the interface for creating and manipulating colors in a variety of color spaces. Other classes provide color and color space management. Cocoa also provides classes that present a user interface for selecting colors.</p>
<p>For a more thorough explanation of color, color theory, and color management in Mac OS X, see <em><a href="../../../../GraphicsImaging/Conceptual/csintro/index.html#//apple_ref/doc/uid/TP30001148" target="_top">Color Management Overview</a></em> and <em><a href="../../DrawColor/index.html#//apple_ref/doc/uid/10000082i" target="_top">Color Programming Topics for Cocoa</a></em>. </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW3" title="Color Models and Color Spaces"></a><h3>Color Models and Color Spaces</h3>
<p>The human eye <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_87"></a>perceives photons in a fairly narrow band of the electromagnetic spectrum. Each photon vibrates at a frequency that defines the color of the light represented by that photon. The biology of the eye makes it particularly receptive to red, blue, and green light and these primary colors are often mixed together to create a broad range of perceptible colors.</p>
<p>A <strong><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_88"></a>color model</strong> is a geometric or mathematical framework that attempts to describe the colors seen by the eye. Each model contains one or more dimensions, which together represent the visible spectrum of color. Numerical values are pinned to each dimension making it possible to describe colors in the color model numerically. Having a numerical representation makes it possible to describe, classify, compare, and order those colors. </p>
<p>A <strong><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_89"></a>color space</strong> is a practical adaptation of a color model. It specifies the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_90"></a>gamut (or range) of colors that can be produced using a particular color model. While the color model determines the relationship between values in each dimension, the color space defines the absolute meaning of those values as colors. Cocoa supports the same color spaces as Quartz 2D, although accessor methods of <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColor" target="_top">NSColor</a></code> focus on the following color spaces:</p>
<ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_91"></a>RGB</p></li>
<li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_92"></a>CMYK</p></li>
<li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_93"></a>Gray</p></li></ul>
<p>In Cocoa, the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_94"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColorSpace_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColorSpace" target="_top">NSColorSpace</a></code> class handles the information associated with a particular color space. You can create instances of this class to represent individual color spaces. Cocoa provides methods for retrieving <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_95"></a>color space objects representing the standard color spaces. You can also create custom color space objects using a <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_96"></a>ColorSync profile reference or International Color Consortium (<a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_97"></a>ICC) profile data. </p>
<p>For detailed information about color spaces and color models in Mac OS X, see <em><a href="../../../../GraphicsImaging/Conceptual/csintro/index.html#//apple_ref/doc/uid/TP30001148" target="_top">Color Management Overview</a></em>. </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW4" title="Color Objects"></a><h3>Color Objects</h3>
<p>The <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_98"></a><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_99"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColor" target="_top">NSColor</a></code> class in Cocoa provides the interface you need to create and manage individual colors. The <code>NSColor</code> class is itself a factory class for creating the actual color objects. The class methods of <code>NSColor</code> create color objects that are actually based on specific subclasses of <code>NSColor</code>, where each subclass implements the behavior for a specific color space. </p>
<p>Because a color object must represent a single color space, you cannot use all of the methods of <code>NSColor</code> from the same object. For a given color object, you can use only the methods that are relevant to colors in that object’s color space. For example, if you create an CMYK-based color object, you cannot use the <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/getRed:green:blue:alpha:" target="_top">getRed:green:blue:alpha:</a></code> method to retrieve RGB values. Methods that are unsupported in the current color space raise an exception.</p>
<p>For more information on how to create and use colors, see <span class="content_text"><a href="Color.html#//apple_ref/doc/uid/TP40003290-CH205-BAJBDIFC">“Creating Colors.”</a></span> </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW5" title="Color Component Values"></a><h3>Color Component Values</h3>
<p>In Cocoa, color space values, called components, are specified as floating-point values in the range 0.0 to 1.0. When working with other color values from other systems, you must convert any values that do not fall into the supported range. For example, if you use a color system whose components have values in the range 0 to 255, you must divide each component value by 255 to get the appropriate value for Cocoa. </p>
<p>You can retrieve the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_100"></a>component values of a color object using any of several methods in <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColor" target="_top">NSColor</a></code>. Several methods exist for retrieving the color values of known color spaces, such as RGB, CMYK, HSV (also known as HSB), and gray. If you do not know the number of components in the color’s color space, you can use the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_101"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/numberOfComponents" target="_top">numberOfComponents</a></code> method to find out. You can then use the <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/getComponents:" target="_top">getComponents:</a></code> method to retrieve the component values. </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW6" title="Transparency"></a><h3>Transparency</h3>
<p>In addition to the component values used to identify a particular color in a color space, Mac OS X colors also support an <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_102"></a>alpha component for identifying the transparency of that color. </p>
<p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_103"></a>Transparency is a powerful effect used to give the illusion of light passing through a particular area instead of reflecting off of it. When you render an object using a partially transparent color, the object picks up some color from the object directly underneath it. The amount of color it picks up depends on the value of the color’s alpha component and the compositing mode. </p>
<p>Like color components, the alpha component is specified as a floating-point value in the range 0.0 to 1.0. You can think of the alpha component as specifying the amount of light being reflected back from the object’s surface. An alpha value of 1.0 represents a 100% reflection of all light and is equivalent to the object being opaque. An alpha value of 0.0 represents 0% reflection of light and all color coming from the content underneath. An alpha value of 0.5 represents 50% reflection, with half the color being reflected off the object and half coming from the content underneath.</p>
<p>You specify transparency when you create a color object. If you create a color using component values, you can specify an alpha value directly. If you have an existing color object, you can use the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_104"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/colorWithAlphaComponent:" target="_top">colorWithAlphaComponent:</a></code> method to create a new color object with the same color components as the original but with the alpha value you specify. </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW7" title="Pattern Colors"></a><h3>Pattern Colors</h3>
<p>In addition to creating monochromatic <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_105"></a><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_106"></a>colors, you can also create pattern colors using images. Pattern colors are most applicable as fill colors but can be used as stroke colors as well. When rendered, the image you specify is drawn on the path or its fill area instead of a solid color. If an image is too small to fill the given area, it is tiled vertically and horizontally, as shown in <span class="content_text">Figure 4-1</span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40003290-CH205-SW1" title="Figure 4-1Drawing with a pattern"></a><p><strong>Figure 4-1&nbsp;&nbsp;</strong>Drawing with a pattern</p><img src = "../art/patterned_window.jpg" alt = "Drawing with a pattern" ></div><br/>
<p>For information on how to create pattern colors, see <span class="content_text"><a href="Color.html#//apple_ref/doc/uid/TP40003290-CH205-BAJBDIFC">“Creating Colors.”</a></span> </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW8" title="Color Lists"></a><h3>Color Lists</h3>
<p>A <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_107"></a>color list is a dictionary-like object (implemented by the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_108"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColorList_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColorList" target="_top">NSColorList</a></code> class) that contains an ordered list of <code>NSColor</code> objects, identified by keys. You can retrieve colors from the color list by key. You can also organize the colors by placing them at specific indexes in the list.</p>
<p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_109"></a>Color lists are available as a tool to help you manage any document-specific colors. They are also used to customize the list of colors displayed in a color panel. You can use the <code><a href="../../../Reference/ApplicationKit/Classes/NSColorPanel_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColorPanel/attachColorList:" target="_top">attachColorList:</a></code> method of <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_110"></a><code>NSColorPanel</code> to add any colors your application uses to the panel. </p>
<p>For more information about using color lists and color panels, see <em><a href="../../DrawColor/index.html#//apple_ref/doc/uid/10000082i" target="_top">Color Programming Topics for Cocoa</a></em>. </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW9" title="Color Matching"></a><h3>Color Matching</h3>
<p>Cocoa provides automatic <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_111"></a><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_112"></a>color matching whenever possible using ColorSync. Color matching ensures that the colors you use to draw your content look the same on different devices. </p>
<p>Cocoa provides full support for creating and getting color profile information using the <code><a href="../../../Reference/ApplicationKit/Classes/NSColorSpace_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColorSpace" target="_top">NSColorSpace</a></code> class. Cocoa supports both <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_113"></a>ColorSync profile references and <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_114"></a>ICC profiles as well as calibrated and device-specific profiles for the RGB, CMYK, and gray color spaces. Because color matching is automatic, there is nothing to do in your code except use the colors you want.</p>
<p>For information about ColorSync, see <em><a href="../../../../GraphicsImaging/Reference/ColorSync_Manager/index.html#//apple_ref/doc/uid/TP30000259" target="_top">ColorSync Manager Reference</a></em>. For information on ICC profiles, see the International Color Consortium website: <span class="content_text"><a href="http://www.color.org/" target="_blank">http://www.color.org/</a></span>. </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-BAJBDIFC" title="Creating Colors"></a><h2>Creating Colors</h2>
<p>The <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColor" target="_top">NSColor</a></code> class supports the creation of several different types of <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_115"></a>color objects:</p>
<ul class="ul"><li class="li"><p>Commonly used colors, such as red, green, black, or white</p></li>
<li class="li"><p>System colors, such as the current <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_116"></a>control color or <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_117"></a>highlight color, whose values are set by user preferences</p></li>
<li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_118"></a>Calibrated <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_119"></a>colors belonging to a designated color space</p></li>
<li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_120"></a>Device <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_121"></a>colors belonging to the designated device color space</p></li>
<li class="li"><p>Pattern colors</p></li></ul>
<p>To create most color objects, simply use the appropriate class method of <code>NSColor</code>. The class defines methods for creating preset colors or for creating colors with the values you specify. To create a pattern color, load or create the desired <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_122"></a>image and pass it to the <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/clm/NSColor/colorWithPatternImage:" target="_top">colorWithPatternImage:</a></code> method of <code>NSColor</code>.  For more information, see the <code>NSColor</code> class reference. For information on how to load and create images, see <span class="content_text"><a href="../Images/Images.html#//apple_ref/doc/uid/TP40003290-CH208-BCIBBFGJ">“Images.”</a></span></p>
<div class="importantbox"><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_3" title="Important:"></a><p><strong>Important:</strong>&nbsp;

Never allocate and initialize an <code>NSColor</code> object directly. Because it is a base class, the implementation of <code>NSColor</code> is minimal and simply throws an exception in situations where actual color information is required.</p><p></p></div><p>In Mac OS X v10.5 and later, Cocoa provides support for <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_123"></a><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_124"></a>gradient fill patterns through the <code><a href="../../../Reference/NSGradient_class/Reference/Reference.html#//apple_ref/occ/cl/NSGradient" target="_top">NSGradient</a></code> class. Prior to version 10.5, if you want to use a gradient to fill or stroke a path, you must use Quartz instead. For examples of how to create and use gradients, see <span class="content_text"><a href="../AdvancedDrawing/AdvancedDrawing.html#//apple_ref/doc/uid/TP40003290-CH207-SW9">“Creating Gradient Fills.”</a></span></p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW10" title="Working with Colors"></a><h2>Working with Colors</h2>
<p>Once you have an <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/cl/NSColor" target="_top">NSColor</a></code> object, you can apply it to the stroke or fill color color of the current context. Once set, any shapes you draw in the current context take on that color. You can also use the color component information in any calculations you might need for your program. </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-BCIDFCGD" title="Applying Colors to Drawn Content"></a><h3>Applying Colors to Drawn Content</h3>
<p>Stroke and fill <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_125"></a>colors modify the appearance of path-based shapes, such as those drawn with the <code><a href="../../../Reference/ApplicationKit/Classes/NSBezierPath_Class/Reference/Reference.html#//apple_ref/occ/cl/NSBezierPath" target="_top">NSBezierPath</a></code> class or functions such as <code><a href="../../../Reference/ApplicationKit/Miscellaneous/AppKit_Functions/Reference/reference.html#//apple_ref/c/func/NSRectFill" target="_top">NSRectFill</a></code>. The stroke color applies to the path itself, and the fill color applies to the area bounded by that path. </p>
<p>To set the current stroke or fill attributes, you use one of the <code>NSColor</code> methods listed in <span class="content_text">Table 4-1</span>. </p><a name="//apple_ref/doc/uid/TP40003290-CH205-BCIJCIHI" title="Table 4-1Methods for changing color attributes"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><strong>Table 4-1&nbsp;&nbsp;</strong>Methods for changing color attributes</caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>NSColor method</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_126"></a>set</code></p></td>
<td ><p>Sets both the stroke and fill color to the same value.</p></td>
</tr>
<tr>
<td  scope="row"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_127"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/setFill" target="_top">setFill</a></code></p></td>
<td ><p>Sets the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_128"></a>fill <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_129"></a>color.</p></td>
</tr>
<tr>
<td  scope="row"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_130"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/setStroke" target="_top">setStroke</a></code></p></td>
<td ><p>Sets the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_131"></a>stroke <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_132"></a>color.</p></td>
</tr>

</table></div>
<p>For example, the following code sets the stroke color to black and the fill color to the background color for controls.</p>
<div class="codesample"><table><tr><td scope="row"><pre>[[NSColor blackColor] setStroke];<span></span></pre></td></tr><tr><td scope="row"><pre>[[NSColor controlBackgroundColor] setFill];<span></span></pre></td></tr></table></div>
<p>All subsequent drawing operations in the current context would use the specified colors. If you do not want any color to be drawn for the stroke or fill, you can set the current stroke or fill to a completely transparent color, which you can get by calling the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_133"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/clm/NSColor/clearColor" target="_top">clearColor</a></code> method of <code>NSColor</code>. You can also create a <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_134"></a>transparent color by setting the alpha of any other color to <code>0</code>.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40003290-CH205-SW11" title="Note"></a><p><strong>Note:</strong>&nbsp;Stroke and fill colors do not affect the appearance of text. To apply color to text, you must change the attributes associated with the text. </p></div>
<a name="//apple_ref/doc/uid/TP40003290-CH205-BAJIBFGC" title="Applying Color to Text"></a><h3>Applying Color to Text</h3>
<p>Unlike many graphics operations, <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_135"></a>text is not drawn using the current stroke and fill colors. Instead, to apply color to text, you must apply color attributes to the characters of the corresponding string object. </p>
<p>To apply color to a range of characters in an <code><a href="../../../Reference/Foundation/Classes/NSAttributedString_Class/Reference/Reference.html#//apple_ref/occ/cl/NSAttributedString" target="_top">NSAttributedString</a></code> object, you apply the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_136"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/c/data/NSForegroundColorAttributeName" target="_top">NSForegroundColorAttributeName</a></code> attribute to the characters. This attribute takes a corresponding <code>NSColor</code> object as its value. </p>
<p>To apply color to the characters of an <code><a href="../../../Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/occ/cl/NSString" target="_top">NSString</a></code> object, you apply the <code>NSForegroundColorAttributeName</code> attribute just as you would for an <code>NSAttributedString</code> object. The difference in application is that attributes applied to an <code>NSString</code> object affect the entire string and not a specified range of characters. </p>
<p>The set of available attributes for both string types is listed in <span class="content_text"><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/uid/20000167" target="_top">NSAttributedString Application Kit Additions Reference</a></span> in the <em><a href="../../../Reference/ApplicationKit/ObjC_classic/index.html#//apple_ref/doc/uid/20001093" target="_top">Application Kit Framework Reference</a></em>. For an example of how to change the attributes of an attributed string, see <span class="content_text"><a href="../../TextAttributes/ChangingAttrStrings.html#//apple_ref/doc/uid/20000162" target="_top">Changing an Attributed String</a></span> in <em><a href="../../AttributedStrings/index.html#//apple_ref/doc/uid/10000036i" target="_top">Attributed Strings Programming Guide</a></em>. For more information about drawing text, see <span class="content_text"><a href="../Text/Text.html#//apple_ref/doc/uid/TP40003290-CH209-BCIEEIGC">“Text.”</a></span> </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW12" title="Getting the Components of a Color"></a><h3>Getting the Components of a Color</h3>
<p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_137"></a>If your program manipulates colors in any way, you may want to know the component values for the colors you use. <code>NSColor</code> provides the following accessor methods for retrieving component values of a color: </p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_138"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/numberOfComponents" target="_top">numberOfComponents</a></code></p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_139"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/getComponents:" target="_top">getComponents:</a></code></p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_140"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/getRed:green:blue:alpha:" target="_top">getRed:green:blue:alpha:</a></code></p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_141"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/getCyan:magenta:yellow:black:alpha:" target="_top">getCyan:magenta:yellow:black:alpha:</a></code></p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_142"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/getHue:saturation:brightness:alpha:" target="_top">getHue:saturation:brightness:alpha:</a></code></p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_143"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/getWhite:alpha:" target="_top">getWhite:alpha:</a></code></p></li></ul><p>The <code>NSColor</code> class also provides methods for accessing individual component values, rather than all of the components together. For more information, see the <code>NSColor</code> class reference.</p>
<div class="importantbox"><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_4" title="Important:"></a><p><strong>Important:</strong>&nbsp;
It is a programming error to ask an <code>NSColor</code> object for components that are not defined in the color space of its current color, and making such a request raises an exception. If you need a specific set of components, you should first convert the color to the appropriate color space using the <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/colorUsingColorSpaceName:" target="_top">colorUsingColorSpaceName:</a></code> method. For more information, see <span class="content_text"><a href="Color.html#//apple_ref/doc/uid/TP40003290-CH205-BAJIAHDJ">“Converting Between Color Spaces.”</a></span></p><p></p></div>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW13" title="Choosing Colors"></a><h3>Choosing Colors</h3>
<p>Applications that need to present a <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_144"></a>color picker interface to the user can use either a color well or a color panel. A <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_145"></a><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_146"></a>color well is a control that displays a single color. You can embed this control in your windows and use it to show a currently selected color. When clicked, a color well displays the system color panel, which provides an interface for picking a color. You can also use the color panel on its own to prompt the user for a color.</p>
<p>For information about how to use color wells and the color panel in your application, see <em><a href="../../DrawColor/index.html#//apple_ref/doc/uid/10000082i" target="_top">Color Programming Topics for Cocoa</a></em>. </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-SW14" title="Working with Color Spaces"></a><h2>Working with Color Spaces</h2>
<p>Color spaces help your program maintain color fidelity throughout the creation and rendering process. Although most programs may never need to worry about color spaces, you might need to know the current color space in some situations, such as prior to manipulating color component values.  </p>
<a name="//apple_ref/doc/uid/TP40003290-CH205-BAJIAHDJ" title="Converting Between Color Spaces"></a><h3>Converting Between Color Spaces</h3>
<p>You can convert between <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_147"></a>color spaces using the <code><a href="../../../Reference/ApplicationKit/Classes/NSColor_Class/Reference/Reference.html#//apple_ref/occ/instm/NSColor/colorUsingColorSpaceName:" target="_top">colorUsingColorSpaceName:</a></code> method of <code>NSColor</code>. This method creates a new color object representing the same color but using the color space you specify. To convert a color from RGB to CMYK, you could use code similar to the following:</p>
<div class="codesample"><table><tr><td scope="row"><pre>NSColor* rgbColor = [NSColor colorWithCalibratedRed:1.0 green: 0.5  blue: 0.5  alpha:0.75];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSColor* cmykColor = [rgbColor colorUsingColorSpace:[NSColorSpace  genericCMYKColorSpace]];<span></span></pre></td></tr></table></div>
<a name="//apple_ref/doc/uid/TP40003290-CH205-BAJEBCFF" title="Mapping Physical Colors to a Color Space"></a><h3>Mapping Physical Colors to a Color Space</h3>
<p>The range of <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_148"></a>colors (or gamut) that can be physically displayed on an output device differs from device to device. During rendering, Cocoa attempts to match the colors you specify in your code as closely as it can to the colors available in the target device. Sometimes, though, it maps colors in a different way so as to emphasize different aspects of a color that might be more important when reproducing that color. The mapping used for colors is referred to as the <strong><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_149"></a>rendering intent</strong> and it is something most developers rarely need to change. </p>
<p>Because most developers should not need to change the rendering intent, you cannot set the attribute directly from Cocoa. If your application needs more control over the color management, you must use Quartz to change the rendering intent. <span class="content_text">Table 4-2</span> lists the rendering intents supported by Quartz. </p><a name="//apple_ref/doc/uid/TP40003290-CH205-BAJGJHDA" title="Table 4-2Quartz rendering intents"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><strong>Table 4-2&nbsp;&nbsp;</strong>Quartz rendering intents</caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Rendering intent</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_150"></a><code><a href="../../../../GraphicsImaging/Reference/CGColorSpace/Reference/reference.html#//apple_ref/c/econst/kCGRenderingIntentDefault" target="_top">kCGRenderingIntentDefault</a></code></p></td>
<td ><p>Use the default rendering intent settings. In this mode, Quartz uses the relative colorimetric intent for all drawing except that of sampled images; for sampled images, Quartz uses the perceptual rendering intent.</p></td>
</tr>
<tr>
<td  scope="row"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_151"></a><code><a href="../../../../GraphicsImaging/Reference/CGColorSpace/Reference/reference.html#//apple_ref/c/econst/kCGRenderingIntentAbsoluteColorimetric" target="_top">kCGRenderingIntentAbsoluteColorimetric</a></code></p></td>
<td ><p>This rendering intent performs no <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_152"></a>white point adjustment to the colors. A color that appears to be white on a screen display may be reproduced on a printed medium as a bluish color (because a white color on a screen actually has a bluish cast). This intent is useful for simulating one device on another or for rendering logos where exact color reproduction is important. </p></td>
</tr>
<tr>
<td  scope="row"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_153"></a><code><a href="../../../../GraphicsImaging/Reference/CGColorSpace/Reference/reference.html#//apple_ref/c/econst/kCGRenderingIntentRelativeColorimetric" target="_top">kCGRenderingIntentRelativeColorimetric</a></code></p></td>
<td ><p>This rendering intent uses the white point information from the source and destination and adjusts the color information so that the white point of the source maps into the white point of the destination. In-gamut colors are also adjusted accordingly. This intent is typically used for line art graphics.</p></td>
</tr>
<tr>
<td  scope="row"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_154"></a><code><a href="../../../../GraphicsImaging/Reference/CGColorSpace/Reference/reference.html#//apple_ref/c/econst/kCGRenderingIntentPerceptual" target="_top">kCGRenderingIntentPerceptual</a></code></p></td>
<td ><p>This rendering intent produces pleasing visual results and preserves the relationship between colors at the expense of the absolute color reproduction. This intent is typically used for photographic images. </p></td>
</tr>
<tr>
<td  scope="row"><p><a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_155"></a><code><a href="../../../../GraphicsImaging/Reference/CGColorSpace/Reference/reference.html#//apple_ref/c/econst/kCGRenderingIntentSaturation" target="_top">kCGRenderingIntentSaturation</a></code></p></td>
<td ><p>This rendering intent attempts to maximize the saturation of colors. This intent is mostly used for business charts or graphics. </p></td>
</tr>

</table></div>
<p>To change the rendering intent, you must get a Quartz graphics context for the current drawing environment and call the <a name="//apple_ref/doc/uid/TP40003290-CH205-DontLinkElementID_156"></a><code><a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextSetRenderingIntent" target="_top">CGContextSetRenderingIntent</a></code> function, as shown in the following example:</p>
<div class="codesample"><table><tr><td scope="row"><pre>- (void) drawRect:(NSRect)rect<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextRef theCG = [[NSGraphicsContext currentContext] graphicsPort];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Change the rendering intent.<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextSetRenderingIntent(theCG, kCGRenderingIntentPerceptual);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Draw your content.<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Transforms/Transforms.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Paths/Paths.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-01-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CocoaDrawingGuide/Color/Color.html%3Fid%3DTP40003290-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CocoaDrawingGuide/Color/Color.html%3Fid%3DTP40003290-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CocoaDrawingGuide/Color/Color.html%3Fid%3DTP40003290-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>