<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Speech Attributes (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING190></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-189.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-191.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-187.html"><B>Chapter 4 - Speech Manager</B></A> / <A HREF="Sound-188.html"><B>About the Speech Manager</B></A></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="../../../referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING190-0></A>
<H2><A NAME=MARKER-9-93></A>Speech Attributes</H2>
 <A NAME=MARKER-2-94></A><A NAME=MARKER-2-95></A>Any given person has only one voice, but can alter the characteristics of his or her speech in a number of different ways. For example, a person can speak slowly or quickly and with a low or a high pitch. Similarly, the Speech Manager provides routines that allow you to modify these and other speech attributes, regardless of which voice is in use. A <B>speech attribute</B> is a setting defined for a class of voices or for all voices that affects the quality of speech produced by the Speech Manager. The Speech Manager provides routines to directly alter two speech attributes--speech rate and speech pitch. These routines are described in the section <A HREF=Sound-239.html#MARKER-9-501>"Changing Speech Attributes" beginning on page 4-73</A>. You can change two other speech attributes--pitch modulation and speech volume--by using the mechanism of speech information selectors, which is described in the section <A HREF=Sound-205.html#MARKER-9-285>"Speech Information Selectors" beginning on page 4-39</A>.<P>
 <A NAME=MARKER-2-201></A>The <B>speech rate</B> of a speech channel is the approximate number of words of text that the synthesizer should say in one minute. Slower speech rates make the speech easier to understand, but can be annoyingly tedious to listen to. Some applications, such as aids for the visually impaired, require very fast speech rates. Speech rates are expressed as fixed-point values. Each speech synthesizer determines it own range of speech rates. The <B>speech pitch</B> of a speech channel represents the middle pitch of the voice, roughly corresponding to the key in which a song is played. It is a fixed-point value in the range of 0.000 through 127.000, where 60.000 corresponds to middle C on a conventional piano. Each 1.000-unit change in a value corresponds to a musical half step. This is the same scale used in specifying MIDI note values, as described in the chapter "Sound Manager" in this book. <A HREF=Sound-264.html#MARKER-9-570>Figure 4-3</A> shows a piano keyboard with the corresponding MIDI note values.<A NAME=MARKER-2-97></A><A NAME=MARKER-2-98></A><P>
<B>Figure 4-3  <A NAME=MARKER-9-570></A>MIDI note values and corresponding piano keys</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/SP-L-02.jpg"><P>
 MIDI note values differ from speech pitch values in that they are always integral and have a wider range than speech pitch values. On the scale used to measure both MIDI note values and speech pitches, a change of +12 units corresponds to doubling the frequency (an increase of one octave), while a change of -12 units corresponds to halving the frequency (a decrease of one octave). A <B>frequency</B> is a precise indication of the number of hertz of a sound wave at any instant. If you need to convert between speech pitches and hertz, note that a speech pitch of 60.000 corresponds to 261.625 Hz. Meanwhile, when a speech pitch value rises by one unit, the corresponding hertz value is multiplied by the twelfth root of 2, defined by the Sound Manager constant <CODE>twelfthRootTwo</CODE>. The following formula thus converts a speech pitch into hertz:<A NAME=MARKER-4-100></A><A NAME=MARKER-2-101></A><P>
 hertz = <CODE>twelfthRootTwo</CODE> <EM>(pitch - 60.000)</EM> * 261.625<A NAME=MARKER-2-102></A><A NAME=MARKER-2-103></A><P>
 In order to calculate speech pitch in terms of hertz, you can use the following formula:<P>
 pitch = 60 + (ln(hertz) - ln(261.625))/ln(<CODE>twelfthRootTwo</CODE>)<P>
 Typical voice frequencies might range from around 90 hertz for a low-pitched male voice to about 300 hertz for a high-pitched child's voice. These frequencies correspond to approximate pitch values in the ranges of 30.000 to 40.000 and 55.000 to 65.000, respectively.<A NAME=MARKER-2-104></A><P>
 You can determine the current speech pitch on a speech channel by calling the <CODE>GetSpeechPitch</CODE> function, described on <A HREF=Sound-242.html#MARKER-9-509>page 4-75</A>. You can change the current pitch by calling the <CODE>SetSpeechPitch</CODE> function, described on <A HREF=Sound-243.html#MARKER-9-512>page 4-76</A>. You can also determine the current speech rate and change it by using the <CODE>GetSpeechRate</CODE> function, described on <A HREF=Sound-240.html#MARKER-9-502>page 4-73</A> and the <CODE>SetSpeechRate</CODE> function, described on <A HREF=Sound-241.html#MARKER-9-505>page 4-74</A>. Changes in speech pitch and speech rate are effective immediately (as soon as the synthesizer can respond), even if they occur in the middle of a word.<A NAME=MARKER-2-105></A><P>
 Pitch is the listener's subjective interpretation of speech's average frequency. The speech pitch specified is a baseline value corresponding to a particular frequency, from which the actual frequency of generated speech varies with the rises and falls of the intonation of speech. When a person speaks, there is a tune to the speech. Often you are more aware of the singsong quality, or change in the range of speech pitch, of a language that you don't know rather than one that you speak. The synthesizer must generate this tune in order to sound more human-like. Speech pitch is always described by a set of numbers that specify the range of pitch of the tune a synthesizer generates. This set of numbers can be the middle pitch and how far to deviate from that pitch or it can be the set of pitches within which the semi-tones of the tune can vary. <A HREF=#MARKER-9-108>Figure 4-4</A> shows an example of the range of pitches produced as the phrase "The cat sat on the mat." is spoken.<A NAME=MARKER-2-106></A><A NAME=MARKER-2-107></A><P>
<B>Figure 4-4  <A NAME=MARKER-9-108></A>An example of pitch range for a voice </B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/SP-L-07.jpg"><P>
 To simulate the variability in frequency of human speech, the Speech Manager defines the speech attribute of pitch modulation. The <B>pitch modulation</B> of a speech channel is the maximum amount by which the actual frequency of speech generated may deviate from the speech pitch.<A NAME=MARKER-2-109></A><P>
 Pitch modulation is also expressed as a fixed-point value in the range of 0.000 to 100.000. A pitch modulation value of 0.000 corresponds to a monotone in which all speech is generated at the frequency corresponding to the speech pitch. Speech generated at this pitch modulation would sound unnaturally robotic. Given a speech pitch value of 46.000, a pitch modulation of 2.000 would mean that the widest possible range of pitches corresponding to the actual frequency of generated text would be 44.000 to 48.000.<A NAME=MARKER-2-110></A><P>
 In some synthesizers, the actual pitch modulation may be restricted to a certain range. For example, if a synthesizer supported the full range of pitch modulations, a pitch modulation of 100.000 would result in unintelligible speech. In fact, however, some synthesizers, even with such a setting, produce speech that sounds virtually monotone. Even within a synthesizer, different voices might have different valid pitch modulation ranges. The Speech Manager provides no mechanism for obtaining the range of valid pitch modulations, although some synthesizers may allow applications designed to work with those synthesizers to obtain such ranges.<A NAME=MARKER-2-111></A><P>
 You can obtain the pitch modulation by using the <CODE>GetSpeechInfo</CODE> function with the <CODE>soPitchMod</CODE> speech information selector, and you can change the pitch modulation by using the <CODE>SetSpeechInfo</CODE> function with the same selector. Speech information selectors are described in <A HREF=Sound-205.html#MARKER-9-285>"Speech Information Selectors" beginning on page 4-39</A>.<P>
 The <B>speech volume</B> of a speech channel is the average amplitude at which the channel generates speech. Volumes are expressed in fixed-point units ranging from 0.0 through 1.0. A value of 0.0 corresponds to silence, and a value of 1.0 corresponds to the maximum possible volume. Volume units lie on a scale that is linear with amplitude or voltage. A doubling of perceived loudness corresponds to a doubling of the volume.<A NAME=MARKER-2-112></A><P>
 Note that just as a speech synthesizer does not generate speech at a constant frequency, it does not generate speech at a constant amplitude. Even when the speech rate is high, brief pauses break up a steady stream of speech. The speech volume is, like speech pitch, an indicator of an average. There is no way to determine or change the modulation of speech volume.<P>
 A final speech attribute is <B>prosody,</B> the rhythm, modulation, and emphasis patterns of speech.There is no simple mechanism for your application to determine what rhythmic patterns a speech synthesizer is applying to speech. However, you can exert some control over prosody by using prosodic control symbols, discussed in <A HREF=Sound-201.html#MARKER-9-255>"Prosodic Control Symbols" on page 4-34</A>. Also, you can disable <B>ending prosody,</B> the modulation that distinguishes the end of a sentence or statement in normal speech, by using the <CODE>SpeakBuffer</CODE> function, described on <A HREF=Sound-221.html#MARKER-9-444>page 4-57</A>.<A NAME=MARKER-2-113></A><A NAME=MARKER-2-114></A><A NAME=MARKER-2-115></A><A NAME=MARKER-2-116></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-189.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-191.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
