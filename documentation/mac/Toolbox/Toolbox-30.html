<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Low-Level Events(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING30></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-29.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-31.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-28.html"><B>Chapter 2 - Event Manager</B></A> / <A HREF="Toolbox-29.html"><B>Introduction to Events</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING30-0></A>
<H2>Low-Level Events</H2>
 <A NAME=MARKER-2-26></A>The Event Manager uses<B> low-level events</B> to report very low-level hardware and software occurrences. Low-level events report<P>
<UL>
<LI>actions by the user (such as pressing the mouse button, typing on the keyboard, or inserting a disk)
<LI>changes in windows on the screen
<LI>that the Event Manager has no other events to report <P>
</UL>
 Low-level events that report actions by the user include mouse-down, mouse-up, key-down, key-up, auto-key, and disk-inserted events. The Event Manager reports any of these events when the user performs the action associated with each event. <P>
 <B>Mouse-down</B> and <B>mouse-up events</B> report that the user pressed or released the mouse button. For these events the Event Manager returns the location of the cursor at the time the mouse button was pressed or released. <B>Key-down</B> and <B>key-up</B> <B>events</B> report that the user pressed or released a key. <B>Auto-key</B> <B>events</B> report that the user has held a key down for a certain amount of time. For keyboard-related events, the Event Manager reports which key was pressed. For mouse-related and keyboard-related events, the Event Manager also reports the state of the <B>modifier keys</B> (the Option, Command, Caps Lock, Control, and Shift keys) at the time of the event. <A NAME=MARKER-2-26></A><A NAME=MARKER-2-156></A><A NAME=MARKER-2-29></A><P>
 When the user inserts a disk, the Operating System attempts to mount the volume on the disk by calling the File Manager function <CODE>PBMountVol</CODE>. The Operating System Event Manager then generates a <B>disk-inserted event.</B> If the user is interacting with a standard file dialog box, the Standard File Package intercepts the disk-inserted event and handles it. Otherwise, the event is left in the event queue for your application to retrieve.  In most cases your application can handle unexpected disk-inserted events by simply checking to see if the volume was successfully mounted.<P>
 Update events and activate events are two types of low-level events that the Event Manager can report as a result of changes in the appearance of windows on the screen. For example, if a user is working with several open documents belonging to your application, you can allow the user to switch from one document to another when the user clicks in the appropriate window. You can determine whether the user clicked in another window by using the Window Manager function <CODE>FindWindow</CODE>; if the user clicked in another window, you can then use the Window Manager procedure <CODE>SelectWindow</CODE> to generate the necessary activate events. Before the Event Manager sends your application any activate events relating to this occurrence, the Window Manager does some work for you, such as unhighlighting the deactivated window and highlighting the newly activated window. At your application's next request for an event, the Event Manager returns an activate event. <A NAME=MARKER-2-571></A><P>
 An <B>activate event</B> indicates the window involved and whether the window is becoming activated or deactivated. Your application should perform any other necessary actions to complete the transformation of the window from active to inactive or vice versa. For example, when a window becomes active, your application should show any scroll bars and restore any selections. <A NAME=MARKER-2-572></A><P>
 Your application typically receives an activate event for the window being deactivated, followed by an activate event for the window becoming active at your application's next request for an event.<P>
<DL>
<DT><B>Note</B>
<DD>If the user switches between your application and another application (by clicking in the window of another application, for example), your application is responsible for activating or deactivating any windows <BR>as appropriate. Your application is notified of this occurrence <BR>through operating-system events. If your application has the acceptSuspendResumeEvents and doesActivateOnFGSwitch flags set in its <CODE>'SIZE'</CODE> resource, your application is notified of the switch through an operating-system event and does not receive a separate activate event when the user switches between applications.<A NAME=MARKER-2-106></A><EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 The Window Manager generates <B>update events</B> to control the appearance of windows on the screen. The Window Manager keeps track of the front-to-back ordering of windows and allows windows to overlap other windows. The Window Manager coordinates the display of windows. When one window covers another window and then the user moves the first window, the Window Manager generates an update event so that the contents of the newly exposed area can be updated. The Event Manager reports update events as needed to the applications whose windows need updating. Unlike other low-level events, update events can be directed to the foreground process or background processes. <A NAME=MARKER-2-221></A><A NAME=MARKER-2-226></A><P>
 Activate and update events generated by the Window Manager are not placed into the Operating System event queue but are sent directly to the Event Manager.<A NAME=MARKER-2-5></A><P>
 The Event Manager reports a <B>null event</B> when your application requests an event and your application's event stream does not contain any of the requested event types. By using the <CODE>WaitNextEvent</CODE> function, you can yield time to other processes when null events are the only pending events for your application. <A NAME=MARKER-9-49></A><P>
 When your application receives a null event, your application can do idle processing (such as blinking the caret) if it is in the foreground or do other tasks if it is in the background. If you want your application to receive null events when it is in the background, you must set the <CODE>canBackground</CODE> flag in your application's <CODE>'SIZE'</CODE> resource. If your application does not perform any processing in response to null events when it is in the background, then set the <CODE>cannotBackground</CODE> flag. If you set the <CODE>cannotBackground</CODE> flag, the Event Manager does not report null events to your application when it is in the background. However, the Event Manager still reports update events (and high-level events if the <CODE>isHighLevelEventAware</CODE> flag is set in the <CODE>'SIZE'</CODE> resource) to your application when it is in the background regardless of how the background flag is set.<P>
 <A HREF=#MARKER-9-39>Figure 2-2</A> shows the various kinds of low-level events your application can receive. See <A HREF=Toolbox-40.html#MARKER-9-137>"Handling Low-Level Events"</A> beginning on <A HREF=Toolbox-40.html#MARKER-9-137>page 2-32</A> for complete details of how your application should respond to low-level events.<A NAME=MARKER-2-25></A><P>
<B>Figure 2-2  <A NAME=MARKER-9-39></A>Low-level events</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-2_EV-01.jpg"><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-29.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-31.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
