<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> 802.2 </TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.231.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.232.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.234.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2.Heading2"><A NAME="pgfId=3624"> </A>802.2 </H1><P CLASS="T1.Text1"><A NAME="pgfId=3625"> </A>To bind to an 802.2 address, the client sends a <TT CLASS="cv">DL_BIND_REQ</TT> with the <TT CLASS="cv">dl_sap</TT> field set to the SSAP. This is an even value in the range 0 to 254 (0x0 to 0xFE). The <TT CLASS="cv">dl_xidtst_flg</TT> field may optionally have either or both of the <TT CLASS="cv">DL_AUTO_XID</TT> or <TT CLASS="cv">DL_AUTO_TEST</TT> bits set.</P><P CLASS="T1.Text1"><A NAME="pgfId=3626"> </A>If the SSAP is 0xAA, then the client should follow the acknowledgment of the bind with a <TT CLASS="cv">DL_SUBS_BIND_REQ</TT> with a 5-byte SNAP. The <TT CLASS="cv">dl_subs_bind_class</TT> field should be set to <TT CLASS="cv">DL_HIERARCHICAL_BIND</TT>. The message for enabling a SNAP is shown in <A HREF="PCI_BOOK.233.html#26533" CLASS="XRef">Figure&nbsp;14-2</A>.</P><P CLASS="Fg.Figure"><B><A NAME="pgfId=3634"> </A>Figure&nbsp;14-2	<A NAME="26533"> </A>Message for enabling a SNAP</B></P><DIV><IMG SRC="PCI_BOOK-35.gif"></DIV><DIV><blockquote><p CLASS="NoteHead"><b><A NAME="pgfId=14617"> </A>Note</b></p><P CLASS="Note"><A NAME="pgfId=3635"> </A>Attempting to perform a hierarchical <TT CLASS="cv">subs_bind</TT> operation to any service access point (SAP) value other than 0xAA will cause an error. </P></blockquote><P CLASS="T1.Text1"><A NAME="pgfId=3639"> </A>After successfully binding to an 802.2 SAP, the client may enable a group SAP by sending a <TT CLASS="cv">DL_SUBS_BIND_REQ</TT> with a 2-byte DLSAP containing the group SAP. Valid group SAPs are odd numbers in the range 1 to 253 (0x1 to 0xFD). In this case, the <TT CLASS="cv">dl_subs_bind_class</TT> field should be set to <TT CLASS="cv">DL_PEER_BIND</TT>. Note that SAP 255 (0xFF) is the global (broadcast) SAP and is always enabled. The message for enabling a group SAP is shown in <A HREF="PCI_BOOK.233.html#23182" CLASS="XRef">Figure&nbsp;14-3</A>.</P><P CLASS="Fg.Figure"><B><A NAME="pgfId=3647"> </A>Figure&nbsp;14-3	<A NAME="23182"> </A>Message for enabling a group SAP</B></P><DIV><IMG SRC="PCI_BOOK-36.gif"></DIV></DIV><DIV><blockquote><p CLASS="NoteHead"><b><A NAME="pgfId=14619"> </A>Note</b></p><P CLASS="Note"><A NAME="pgfId=3648"> </A>For a description of group and global SAPs, see ANSI/IEEE Standard 802.2-1985. </P></blockquote><P CLASS="T1.Text1"><A NAME="pgfId=3652"> </A>As a special case, a client may request that it receive all 802.2 packets that come in. It does so by sending a <TT CLASS="cv">DL_SUBS_BIND_REQ</TT> with a 2-byte DLSAP set to 0. The <TT CLASS="cv">dl_subs_bind_class</TT> field should be set to <TT CLASS="cv">DL_PEER_BIND</TT>.</P></DIV><DIV><blockquote><p CLASS="NoteHead"><b><A NAME="pgfId=14621"> </A>Note</b></p><P CLASS="Note"><A NAME="pgfId=3653"> </A>When sending packets to DLSAP 0xFF, it is ambiguous whether the packet is destined for an 802.2 global SAP or an IPX SAP. The ambiguity is resolved by declaring that only an IPX endpoint can send to another IPX endpoint and an IPX endpoint cannot send to a global SAP. </P></blockquote></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.231.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.232.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.234.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>