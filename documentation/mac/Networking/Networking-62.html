<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>About NBP(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING62></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-61.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-63.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-61.html"><B>Chapter 3 - Name-Binding Protocol (NBP)</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING62-0></A>
<H1>About NBP</H1>
 <A NAME=MARKER-2-68></A>NBP allows you to bind a name to the internal storage address for your entity and register this mapping so that other entities can look it up. Applications can display NBP names to users and use addresses internally to locate entities. When you register your entity's name and address pair, NBP validates its uniqueness.<P>
 An <B>entity name</B> consists of three fields: <B>object,</B> <B>type,</B> and <B>zone.</B> The value for each of these fields can be an alphanumeric string of up to 31 characters. The entity name is not case sensitive. You specify the value for the object and type fields. <P>
 The<B> </B>object field typically identifies the user of the system, or the system itself, in the case of a server. Applications commonly set this value to the owner name, which the user specifies through the Sharing Setup control panel. <P>
 The type field generally identifies the type of service that the entity provides, for example, "Mailbox" for an electronic mailbox on a server. Entities of the same type can find one another and identify potential partners by looking up addresses based on the type portion of the name alone. <P>
 The zone field identifies the zone to which the node belongs. You do not specify this value; when you register your process, you specify an asterisk (<CODE>*</CODE>) for this field. NBP interprets the asterisk to mean the current zone or no zone, in the case of a simple network configuration not divided into <A NAME=MARKER-2-24></A>zones.<P>
 The mapping of names to addresses that NBP maintains is important for AppleTalk because the addressing numbers that AppleTalk uses are not fixed. AppleTalk assigns <BR>an address dynamically to a node when the node first joins the network and whenever the node is rebooted. Because of this, the address of a <A NAME=MARKER-2-99></A>node on an AppleTalk network <BR>can change from time to time. Although a network number corresponds to a particular wire and the network number portion of an address is relatively stable, the socket number that is assigned to an entity is usually randomly generated. (For an overview <BR>of AppleTalk addresses and the addressing scheme, see the chapter "Introduction to AppleTalk" in this book.) Although NBP is not a transport protocol, that is, you do not use it to send and receive data, NBP is a client of DDP. <A HREF=Networking-85.html#MARKER-9-14>Figure 3-1</A> shows NBP and its underlying protocols. <P>
<B>Figure 3-1  The Name-Binding Protocol and the underlying AppleTalk protocols<A NAME=MARKER-9-14></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/NBP-L-06.jpg"><P>
 NBP provides network entities with access to current addresses of other entities. The name part of an NBP mapping is also important in identifying and locating an entity on the network. The NBP <A NAME=MARKER-2-17></A>entity name is different from the application name. An application can display entity names to users and look up addresses based on names. <P>
 For example, an entity name can include a portion that identifies that entity type. An application can request NBP to return the names of all of the registered entities of a certain type, such as a particular type of game. The application can then display those entity names to a user to allow the user to select a partner. When the user selects <BR>an entity name, the application can request NBP to return the address that is mapped to <BR>the entity name. <P>
 When you register your entity with NBP, it is made visible to other entities throughout the network. A network entity that is registered with NBP is referred to as a <B><A NAME=MARKER-2-58></A>network-<BR>visible entity.</B> A mail server application is an example of a network-visible entity. When a mail server is registered with NBP, workstation clients with mailboxes can access the mail server program to send and receive mail. <P>
 A server application might call NBP to register itself at initialization time so that its clients can access the server when they come online. However, a game application <BR>might register itself when a user launches it so that partner applications of the same <BR>type can locate it, then remove its entry from the NBP names directory when the user quits the application. <P>
 You use the NBP routines to register your entity so that other entities can find it and <BR>to retrieve the addresses of other entities with which you want to communicate. You specify an entity name that adheres to a defined format and register that name with <BR>NBP in conjunction with the socket number that your entity uses. NBP then makes your entity's complete address available to other entities. To retrieve the address of another entity that is registered with NBP, you supply that entity's NBP name. You can retrieve the addresses of more than one entity by using wildcards instead of a fully qualified NBP name.<P>
 Although you register your entity's NBP name in association with the socket that it uses, NBP maintains an entry that contains your entity's complete internet socket address. The <B>in<A NAME=MARKER-2-205></A>ternet socket address,</B> also called the <I>internet address</I>, includes the socket number, the node ID, and the network number. All network-visible entities on an internet are <A NAME=MARKER-9-24></A><B>socket clients,</B> which means that each one is associated with a socket. Each socket has a unique number, and every entity has a unique internet socket address that identifies it. The socket number part of the internet address ensures that data intended for an entity is delivered to that particular entity.<P>
 The link-access protocol dynamically assigns a unique <A NAME=MARKER-2-50></A>node ID to each node when it joins the network. When the user reboots the system, sometimes the same node ID is available and sometimes a new node ID is assigned. The network number is the number of the network to which the node is directly connected, and it remains the same as <BR>long as the node is physically connected to that network. NBP fills in the node ID <BR>and the network number in a names table entry. You don't supply these parts of the <BR>internet address.<P>
 <A NAME=MARKER-2-189></A>NBP maintains a <B>names table</B> in each node that contains the name and internet address of each registered entity in that node. Each name and address pair is called a <A NAME=MARKER-2-101></A><B>tuple.</B> When you register your process with NBP, you provide a <A NAME=MARKER-2-40></A>names table entry. NBP builds its names table on a node from the entries that entities supply.<P>
 The NBP routines include a procedure, <CODE>NPBSetNTE</CODE>, that you can use to fill in a names table entry that is in the format that NBP expects. The <CODE>NPBSetNTE</CODE> procedure takes the name and the socket ID that you specify and builds a names table entry in the buffer that you provide. (For information on using <CODE>NPBSetNTE</CODE>, see <A HREF=Networking-64.html#MARKER-9-24>"Registering Your Entity With NBP" beginning on page 3-7</A>.)<P>
 To form a names table for a node, NBP connects together as a linked list the names table entries of all the registered entities on that node. The collection of names tables on all the nodes in an internet is known as the<A NAME=MARKER-2-19></A> <B>NBP names directory.</B> <A HREF=#MARKER-9-20>Figure 3-2</A> shows a number of nodes on a network, each with its own names table; each names table contains an entry for each registered entity on its node. <P>
<B>Figure 3-2  <A NAME=MARKER-9-20></A>The NBP names table on each node, collectively forming an NBP names directory</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/NBP-L-02.jpg"><P>
 Whenever a node receives an NBP lookup request, NBP searches through its names table for a match and, if it finds a match, returns the information to the requester<A NAME=MARKER-2-96></A>.<P>



</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-61.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-63.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
