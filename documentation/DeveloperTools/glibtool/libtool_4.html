<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on February, 19 2008 by texi2html 1.70 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>GNU Libtool: 4. Invoking libtool</title>

<meta name="description" content="GNU Libtool: 4. Invoking libtool">
<meta name="keywords" content="GNU Libtool: 4. Invoking libtool">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.70">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="NOD16"></a>
<a name="SEC15"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="libtool_3.html#SEC14" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC16" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool_3.html#SEC7" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 4. Invoking <code>libtool</code> </h1>

<p>The <code>libtool</code> program has the following synopsis:

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example">libtool [<var>option</var>]&hellip; [<var>mode-arg</var>]&hellip;
</pre></td></tr></table>

<p>and accepts the following options:

</p><dl compact="compact">
<dt>`<samp> --config</samp>'</dt>
<dd><p>Display libtool configuration variables and exit.

</p></dd>
<dt>`<samp> --debug</samp>'</dt>
<dd><p>Dump a trace of shell script execution to standard output.  This
produces a lot of output, so you may wish to pipe it to <code>less</code> (or
<code>more</code>) or redirect to a file.

</p></dd>
<dt>`<samp> -n</samp>'</dt>
<dt>`<samp> --dry-run</samp>'</dt>
<dd><p>Don't create, modify, or delete any files, just show what commands would
be executed by libtool.

</p></dd>
<dt>`<samp> --features</samp>'</dt>
<dd><p>Display basic configuration options.  This provides a way for packages
to determine whether shared or static libraries will be built.

</p></dd>
<dt>`<samp> --preserve-dup-deps</samp>'</dt>
<dd><p>Do not remove duplicate dependencies in libraries.  When building packages
with static libraries, the libraries may depend circularly on each other
(shared libs can too, but for those it doesn't matter), so there are
situations, where -la -lb -la is required, and the second -la may not be
stripped or the link will fail.  In cases where these duplications are
required, this option will preserve them, only stripping the libraries
that libtool knows it can safely.

</p></dd>
<dt>`<samp> --finish</samp>'</dt>
<dd><p>Same as `<samp>--mode=finish</samp>'.

</p></dd>
<dt>`<samp> --help</samp>'</dt>
<dd><p>Display a help message and exit.  If `<samp>--mode=<var>mode</var></samp>' is
specified, then detailed help for <var>mode</var> is
displayed.

</p></dd>
<dt>`<samp> --mode=<var>mode</var></samp>'</dt>
<dd><p>Use <var>mode</var> as the operation mode.  If not specified, an attempt is
made to infer the operation mode from the <var>mode-args</var>.  Not specifying
the <var>mode</var> is currently deprecated, as there are too many situations
where it is not possible to guess.  Future versions of Libtool will require
that <var>mode</var> be explicitly set.

</p><p><var>mode</var> must be set to one of the following:

</p><dl compact="compact">
<dt>`<samp> compile</samp>'</dt>
<dd><p>Compile a source file into a libtool object.

</p></dd>
<dt>`<samp> execute</samp>'</dt>
<dd><p>Automatically set the library path so that another program can use
uninstalled libtool-generated programs or libraries.

</p></dd>
<dt>`<samp> finish</samp>'</dt>
<dd><p>Complete the installation of libtool libraries on the system.

</p></dd>
<dt>`<samp> install</samp>'</dt>
<dd><p>Install libraries or executables.

</p></dd>
<dt>`<samp> link</samp>'</dt>
<dd><p>Create a library or an executable.

</p></dd>
<dt>`<samp> uninstall</samp>'</dt>
<dd><p>Delete installed libraries or executables.

</p></dd>
<dt>`<samp> clean</samp>'</dt>
<dd><p>Delete uninstalled libraries or executables.
</p></dd>
</dl>

</dd>
<dt>`<samp> --version</samp>'</dt>
<dd><p>Print libtool version information and exit.
</p></dd>
</dl>

<p>The <var>mode-args</var> are a variable number of arguments, depending on the
selected operation mode.  In general, each <var>mode-arg</var> is interpreted
by programs libtool invokes, rather than libtool itself.

</p><table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top" scope="row"><a href="#SEC16">4.1 Compile mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Creating library object files.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC17">4.2 Link mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Generating executables and libraries.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC18">4.3 Execute mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Debugging libtool-generated programs.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC19">4.4 Install mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Making libraries and executables public.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC20">4.5 Finish mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Completing a library installation.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC21">4.6 Uninstall mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Removing installed executables and libraries.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC22">4.7 Clean mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Removing uninstalled executables and libraries.
</td></tr>
</table>

<hr size="6">
<a name="NOD17"></a>
<a name="SEC16"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC15" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC15" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.1 Compile mode </h2>

<p>For <em>compile</em> mode, <var>mode-args</var> is a compiler command to be used
in creating a `standard' object file.  These arguments should begin with
the name of the C compiler, and contain the `<samp>-c</samp>' compiler flag so
that only an object file is created.

</p><p>Libtool determines the name of the output file by removing the directory
component from the source file name, then substituting the source code
suffix (e.g. `<samp>.c</samp>' for C source code) with the library object suffix,
`<samp>.lo</samp>'.

</p><p>If shared libraries are being built, any necessary PIC generation flags
are substituted into the compilation command.  You can pass link specific
flags to the compiler driver using `<samp>-XCClinker <var>flag</var></samp>' or pass
linker flags with `<samp>-Wl,<var>flag</var></samp>' and `<samp>-Xlinker <var>flag</var></samp>'.
You can also pass compile specific flags using `<samp>-Wc,<var>flag</var></samp>'
and `<samp>-Xcompiler <var>flag</var></samp>'.

</p><p>If both PIC and non-PIC objects are being built, libtool will normally
suppress the compiler output for the PIC object compilation to save
showing very similar, if not identical duplicate output for each
object.  If the `<samp>-no-suppress</samp>' option is given in compile mode,
libtool will show the compiler output for both objects.

</p><p>If the `<samp>-static</samp>' option is given, then a `<samp>.o</samp>' file is built,
even if libtool was configured with `<samp>--disable-static</samp>'.

</p><p>Note that the `<samp>-o</samp>' option is now fully supported.  It is emulated
on the platforms that don't support it (by locking and moving the
objects), so it is really easy to use libtool, just with minor
modifications to your Makefiles. Typing for example
</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example">libtool gcc -c foo/x.c -o foo/x.lo
</pre></td></tr></table><p>will do what you expect.

</p><p>Note, however, that, if the compiler does not support `<samp>-c</samp>' and
`<samp>-o</samp>', it is impossible to compile `<tt>foo/x.c</tt>' without
overwriting an existing `<tt>./x.o</tt>'.  Therefore, if you do have a
source file `<tt>./x.c</tt>', make sure you introduce dependencies in your
`<tt>Makefile</tt>' to make sure `<tt>./x.o</tt>' (or `<tt>./x.lo</tt>') is
re-created after any sub-directory's `<tt>x.lo</tt>':
</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example">x.o x.lo: foo/x.lo bar/x.lo
</pre></td></tr></table><p>This will also ensure that make won't try to use a temporarily corrupted
`<tt>x.o</tt>' to create a program or library.  It may cause needless
recompilation on platforms that support `<samp>-c</samp>' and `<samp>-o</samp>'
together, but it's the only way to make it safe for those that don't.

</p><hr size="6">
<a name="NOD18"></a>
<a name="SEC17"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC16" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC15" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.2 Link mode </h2>

<p><em>Link</em> mode links together object files (including library
objects) to form another library or to create an executable program.

</p><p><var>mode-args</var> consist of a command using the C compiler to create an
output file (with the `<samp>-o</samp>' flag) from several object files.

</p><p>The following components of <var>mode-args</var> are treated specially:

</p><dl compact="compact">
<dd><a name="IDX30"></a>
<a name="IDX31"></a>
</dd>
<dt>`<samp> -all-static</samp>'</dt>
<dd><p>If <var>output-file</var> is a program, then do not link it against any
shared libraries at all.  If <var>output-file</var> is a library, then only
create a static library.

</p></dd>
<dt>`<samp> -avoid-version</samp>'</dt>
<dd><p>Tries to avoid versioning (see section <a href="libtool_6.html#SEC32">Library interface versions</a>) for libraries and modules,
i.e. no version information is stored and no symbolic links are created.
If the platform requires versioning, this option has no effect.

</p></dd>
<dt>`<samp> -dlopen <var>file</var></samp>'</dt>
<dd><p>Same as `<samp>-dlpreopen <var>file</var></samp>', if native dlopening is not
supported on the host platform (see section <a href="libtool_9.html#SEC40">Dlopened modules</a>) or if
the program is linked with `<samp>-static</samp>' or `<samp>-all-static</samp>'.
Otherwise, no effect.  If <var>file</var> is <code>self</code> libtool will make
sure that the program can <code>dlopen</code> itself, either by enabling
<code>-export-dynamic</code> or by falling back to `<samp>-dlpreopen self</samp>'.

</p></dd>
<dt>`<samp> -dlpreopen <var>file</var></samp>'</dt>
<dd><p>Link <var>file</var> into the output program, and add its symbols to
<var>lt_preloaded_symbols</var> (see section <a href="libtool_9.html#SEC42">Dlpreopening</a>).  If <var>file</var> is
<code>self</code>, the symbols of the program itself will be added to
<var>lt_preloaded_symbols</var>.
If <var>file</var> is <code>force</code> libtool will make sure that
<var>lt_preloaded_symbols</var> is always <em>defined</em>, regardless of whether
it's empty or not.

</p></dd>
<dt>`<samp> -export-dynamic</samp>'</dt>
<dd><p>Allow symbols from <var>output-file</var> to be resolved with <code>dlsym</code>
(see section <a href="libtool_9.html#SEC40">Dlopened modules</a>).

</p></dd>
<dt>`<samp> -export-symbols <var>symfile</var></samp>'</dt>
<dd><p>Tells the linker to export only the symbols listed in <var>symfile</var>.
The symbol file should end in `<samp>.sym</samp>' and must contain the name of one
symbol per line. This option has no effect on some platforms.
By default all symbols are exported.

</p></dd>
<dt>`<samp> -export-symbols-regex <var>regex</var></samp>'</dt>
<dd><p>Same as `<samp>-export-symbols</samp>', except that only symbols matching
the regular expression <var>regex</var> are exported.
By default all symbols are exported.

</p></dd>
<dt>`<samp> -L<var>libdir</var></samp>'</dt>
<dd><p>Search <var>libdir</var> for required libraries that have already been
installed.

</p></dd>
<dt>`<samp> -l<var>name</var></samp>'</dt>
<dd><p><var>output-file</var> requires the installed library `<tt>lib<var>name</var></tt>'.
This option is required even when <var>output-file</var> is not an
executable.

</p></dd>
<dt>`<samp> -module</samp>'</dt>
<dd><p>Creates a library that can be dlopened (see section <a href="libtool_9.html#SEC40">Dlopened modules</a>).
This option doesn't work for programs.
Module names don't need to be prefixed with 'lib'.
In order to prevent name clashes, however, 'libname' and 'name'
must not be used at the same time in your package.

</p></dd>
<dt>`<samp> -no-fast-install</samp>'</dt>
<dd><p>Disable fast-install mode for the executable <var>output-file</var>.  Useful
if the program won't be necessarily installed.

</p></dd>
<dt>`<samp> -no-install</samp>'</dt>
<dd><p>Link an executable <var>output-file</var> that can't be installed and
therefore doesn't need a wrapper script.  Useful if the program is only
used in the build tree, e.g., for testing or generating other files.

</p></dd>
<dt>`<samp> -no-undefined</samp>'</dt>
<dd><p>Declare that <var>output-file</var> does not depend on any other libraries.
Some platforms cannot create shared libraries that depend on other
libraries (see section <a href="libtool_8.html#SEC39">Inter-library dependencies</a>).

</p></dd>
<dt>`<samp> -o <var>output-file</var></samp>'</dt>
<dd><p>Create <var>output-file</var> from the specified objects and libraries.

</p></dd>
<dt>`<samp> -objectlist <var>file</var></samp>'</dt>
<dd><p>Use a list of object files found in <var>file</var> to specify objects.

</p></dd>
<dt>`<samp> -precious-files-regex <var>regex</var></samp>'</dt>
<dd><p>Prevents removal of files from the temporary output directory whose
names match this regular expression.  You might specify `<samp>\.bbg?$</samp>'
to keep those files created with <code>gcc -ftest-coverage</code> for example.

</p></dd>
<dt>`<samp> -release <var>release</var></samp>'</dt>
<dd><p>Specify that the library was generated by release <var>release</var> of your
package, so that users can easily tell which versions are newer than
others.  Be warned that no two releases of your package will be binary
compatible if you use this flag.  If you want binary compatibility, use
the `<samp>-version-info</samp>' flag instead (see section <a href="libtool_6.html#SEC32">Library interface versions</a>).

</p></dd>
<dt>`<samp> -rpath <var>libdir</var></samp>'</dt>
<dd><p>If <var>output-file</var> is a library, it will eventually be installed in
<var>libdir</var>.  If <var>output-file</var> is a program, add <var>libdir</var> to
the run-time path of the program.

</p></dd>
<dt>`<samp> -shrext <var>suffix</var></samp>'</dt>
<dd><p>If <var>output-file</var> is a libtool library, replace the system's standard
file name extension for shared libraries with <var>suffix</var> (most systems
use `<tt>.so</tt>' here).  This option is helpful in certain cases where an
application requires that shared libraries (typically modules) have an
extension other than the default one.  Please note you must supply the
full file name extension including any leading dot.

</p></dd>
<dt>`<samp> -R <var>libdir</var></samp>'</dt>
<dd><p>If <var>output-file</var> is a program, add <var>libdir</var> to its run-time
path.  If <var>output-file</var> is a library, add -R<var>libdir</var> to its
<var>dependency_libs</var>, so that, whenever the library is linked into a
program, <var>libdir</var> will be added to its run-time path.

</p></dd>
<dt>`<samp> -static</samp>'</dt>
<dd><p>If <var>output-file</var> is a program, then do not link it against any
uninstalled shared libtool libraries.  If <var>output-file</var> is a
library, then only create a static library.

</p></dd>
<dt>`<samp> -version-info <var>current</var>[:<var>revision</var>[:<var>age</var>]]</samp>'</dt>
<dd><p>If <var>output-file</var> is a libtool library, use interface version
information <var>current</var>, <var>revision</var>, and <var>age</var> to build it
(see section <a href="libtool_6.html#SEC32">Library interface versions</a>).  Do <strong>not</strong> use this flag to specify package
release information, rather see the `<samp>-release</samp>' flag.

</p></dd>
<dt>`<samp> -version-number <var>major</var>[:<var>minor</var>[:<var>revision</var>]]</samp>'</dt>
<dd><p>If <var>output-file</var> is a libtool library, compute interface version
information so that the resulting library uses the specified major, minor and
revision numbers.  This is designed to permit libtool to be used with
existing projects where identical version numbers are already used across
operating systems.  New projects should use the `<samp>-version-info</samp>' flag
instead.

</p></dd>
<dt>`<samp> -Wl,<var>flag</var></samp>'</dt>
<dt>`<samp> -Xlinker <var>flag</var></samp>'</dt>
<dd><p>Pass a linker specific flag directly to the linker.

</p></dd>
<dt>`<samp> -XCClinker <var>flag</var></samp>'</dt>
<dd><p>Pass a link specific flag to the compiler driver (<var>CC</var>) during linking.
</p></dd>
</dl>

<p>If the <var>output-file</var> ends in `<samp>.la</samp>', then a libtool library is
created, which must be built only from library objects (`<samp>.lo</samp>' files).
The `<samp>-rpath</samp>' option is required.  In the current implementation,
libtool libraries may not depend on other uninstalled libtool libraries
(see section <a href="libtool_8.html#SEC39">Inter-library dependencies</a>).

</p><p>If the <var>output-file</var> ends in `<samp>.a</samp>', then a standard library is
created using <code>ar</code> and possibly <code>ranlib</code>.

</p><a name="IDX32"></a>
<a name="IDX33"></a>
<p>If <var>output-file</var> ends in `<samp>.o</samp>' or `<samp>.lo</samp>', then a reloadable object
file is created from the input files (generally using `<samp>ld -r</samp>').
This method is often called <em>partial linking</em>.

</p><p>Otherwise, an executable program is created.

</p><hr size="6">
<a name="NOD19"></a>
<a name="SEC18"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC17" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC19" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC15" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.3 Execute mode </h2>

<p>For <em>execute</em> mode, the library path is automatically set, then a
program is executed.

</p><p>The first of the <var>mode-args</var> is treated as a program name, with the
rest as arguments to that program.

</p><p>The following components of <var>mode-args</var> are treated specially:

</p><dl compact="compact">
<dt>`<samp> -dlopen <var>file</var></samp>'</dt>
<dd><p>Add the directory containing <var>file</var> to the library path.
</p></dd>
</dl>

<p>This mode sets the library path environment variable according to any
`<samp>-dlopen</samp>' flags.

</p><p>If any of the <var>args</var> are libtool executable wrappers, then they are
translated into the name of their corresponding uninstalled binary, and
any of their required library directories are added to the library path.

</p><hr size="6">
<a name="NOD20"></a>
<a name="SEC19"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC18" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC20" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC15" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.4 Install mode </h2>

<p>In <em>install</em> mode, libtool interprets most of the elements of
<var>mode-args</var> as an installation command beginning with
<code>cp</code>, or a BSD-compatible <code>install</code> program.

</p><p>The following components of <var>mode-args</var> are treated specially:

</p><dl compact="compact">
<dt>`<samp> -inst-prefix <var>inst-prefix-dir</var></samp>'</dt>
<dd><p>When installing into a temporary staging area, rather than the
final <var>prefix</var>, this argument is used to reflect the
temporary path, in much the same way <code>automake</code> uses
<var>DESTDIR</var>.  For instance, if <var>prefix</var> is <code>/usr/local</code>,
but <var>inst-prefix-dir</var> is <code>/tmp</code>, then the object will be
installed under <code>/tmp/usr/local/</code>.  If the installed object
is a libtool library, then the internal fields of that library
will reflect only <var>prefix</var>, not <var>inst-prefix-dir</var>:

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example"># Directory that this library needs to be installed in:
libdir='/usr/local/lib'
</pre></td></tr></table>
<p>not

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example"># Directory that this library needs to be installed in:
libdir='/tmp/usr/local/lib'
</pre></td></tr></table>
<p><code>inst-prefix</code> is also used to insure that if the installed
object must be relinked upon installation, that it is relinked
against the libraries in <var>inst-prefix-dir</var>/<var>prefix</var>,
not <var>prefix</var>.

</p><p>In truth, this option is not really intended for use when calling
libtool directly; it is automatically used when <code>libtool --mode=install</code>
calls <code>libtool --mode=relink</code>.  Libtool does this by
analyzing the destination path given in the original
<code>libtool --mode=install</code> command and comparing it to the
expected installation path established during <code>libtool --mode=link</code>.

</p><p>Thus, end-users need change nothing, and <code>automake</code>-style
<code>make install DESTDIR=/tmp</code> will Just Work(tm).
</p></dd>
</dl>

<p>The rest of the <var>mode-args</var> are interpreted as arguments to the
<code>cp</code> or <code>install</code> command.

</p><p>The command is run, and any necessary unprivileged post-installation
commands are also completed.

</p><hr size="6">
<a name="NOD21"></a>
<a name="SEC20"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC19" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC21" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC15" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.5 Finish mode </h2>

<p><em>Finish</em> mode helps system administrators install libtool libraries
so that they can be located and linked into user programs.

</p><p>Each <var>mode-arg</var> is interpreted as the name of a library directory.
Running this command may require superuser privileges, so the
`<samp>--dry-run</samp>' option may be useful.

</p><hr size="6">
<a name="NOD22"></a>
<a name="SEC21"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC20" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC22" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC15" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.6 Uninstall mode </h2>

<p><em>Uninstall</em> mode deletes installed libraries, executables and objects.

</p><p>The first <var>mode-arg</var> is the name of the program to use to delete
files (typically `<tt>/bin/rm</tt>').

</p><p>The remaining <var>mode-args</var> are either flags for the deletion program
(beginning with a `-'), or the names of files to delete.

</p><hr size="6">
<a name="NOD23"></a>
<a name="SEC22"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC21" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC15" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 4.7 Clean mode </h2>

<p><em>Clean</em> mode deletes uninstalled libraries, executables, objects
and libtool's temporary files associated with them.

</p><p>The first <var>mode-arg</var> is the name of the program to use to delete
files (typically `<tt>/bin/rm</tt>').

</p><p>The remaining <var>mode-args</var> are either flags for the deletion program
(beginning with a `-'), or the names of files to delete.

</p><hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC15" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="libtool_5.html#SEC23" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>System Administrator</em> on <em>February, 19 2008</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.70</em></a>.
 </font>
 <br>

</p>
</body>
</html>
