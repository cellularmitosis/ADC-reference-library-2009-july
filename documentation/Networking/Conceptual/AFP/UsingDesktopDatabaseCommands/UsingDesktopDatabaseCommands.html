<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Apple Filing Protocol Programming Guide: Using Desktop Database Commands</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Using Desktop Database Commands"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000854-CH226" title="Using Desktop Database Commands"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000429" target="_top">Networking</a> &gt; <a href="../../../MacOSXServer-date.html#//apple_ref/doc/uid/TP30000440-TP30000429-TP30000542" target="_top">Mac OS X Server</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40000854-CH1-DontLinkElementID_18">Apple Filing Protocol Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../UsingForkCommands/UsingForkCommands.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000854-CH226-SW1" title="Using Desktop Database Commands"></a><h1>Using Desktop Database Commands</h1><p>An AFP client uses the following commands to read and write information stored in the server’s Desktop database:</p><ul class="ul"><li class="li"><p><code>FPOpenDT</code></p></li><li class="li"><p><code>FPCloseDT</code></p></li><li class="li"><p><code>FPAddIcon</code></p></li><li class="li"><p><code>FPGetIcon</code></p></li><li class="li"><p><code>FPGetIconInfo</code></p></li><li class="li"><p><code>FPAddAPPL</code></p></li><li class="li"><p><code></code><code>FPRemoveAPPL</code></p></li><li class="li"><p><code></code><code>FPGetAPPL</code></p></li><li class="li"><p><code>FPAddComment</code></p></li><li class="li"><p><code>FPRemoveComment</code><code></code></p></li><li class="li"><p><code></code><code>FPGetComment</code></p></li></ul><p>Before any other Desktop database commands can be sent, the AFP client must send an <code>FPOpenDT</code> command. This command returns a reference number to be used in all subsequent commands on the Desktop database.</p><p>When access to the Desktop database is no longer needed, the AFP client makes an <code>FPCloseDT</code> command.</p><p><code>FPAddIcon</code> adds a new icon to the Desktop database, and <code>FPGetIcon</code> retrieves the bitmap for a given icon as specified by its file creator and type. <code>FPGetIconInfo</code> retrieves a description of an icon. This command can be used to determine the set of icons associated with a given application. Successive <code>FPGetIconInfo</code> commands return information on all icons associated with a given file creator.</p><p><code>FPAddAPPL</code> adds an APPL mapping for the specified application and its file creator. <code>FPRemoveAPPL</code> removes the specified application from the list of APPL mappings corresponding to its file creator. It is the AFP client’s responsibility to add and remove APPL mappings for applications that are added to or removed from the volume, respectively. For applications that are moved or renamed, the AFP client should remove the old APPL mapping before the operation and add a new APPL mapping with the updated information after the operation has been completed successfully.</p><p><code>FPGetAPPL</code> returns the next APPL mapping in the Desktop database’s list of applications that correspond to a given file creator.</p><p><code>FPAddComment</code> stores a comment string associated with a particular file or directory on the volume. When adding a comment for a file or directory that already has an associated comment, the existing comment is replaced.</p><p><code>FPRemoveComment</code> removes the comment associated with a particular file or directory. <code>FPGetComment</code> retrieves the comment associated with a particular file or directory.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../UsingForkCommands/UsingForkCommands.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-04-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Networking/Conceptual/AFP/UsingDesktopDatabaseCommands/UsingDesktopDatabaseCommands.html%3Fid%3DTP40000854-4.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Networking/Conceptual/AFP/UsingDesktopDatabaseCommands/UsingDesktopDatabaseCommands.html%3Fid%3DTP40000854-4.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Networking/Conceptual/AFP/UsingDesktopDatabaseCommands/UsingDesktopDatabaseCommands.html%3Fid%3DTP40000854-4.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>