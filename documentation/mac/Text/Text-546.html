<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Itl1ExtRec Data Type(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING546></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-545.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-547.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-531.html"><B>Appendix B - International Resources</B></A> / <A HREF="Text-544.html"><B>Long-Date-Format Resource (Type 'itl1')</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING546-0></A>
<H2><A NAME=MARKER-9-239></A>The Itl1ExtRec Data Type</H2>
 <A NAME=MARKER-2-112></A>The standard long-date-format resource has several limitations. First, it assumes that seven day names and 12 month names are sufficient, which is not true for some calendars. For example, the Jewish calendar can have 13 months in some years. Second, it assumes that day and month names can be abbreviated by simply truncating them to a fixed length, but this not true in many languages.<P>
 An optional extension to the long-date-format resource provides additional information that solves these problems. The Text Utilities routines that generate date strings use information in the <CODE>'itl1'</CODE> extension if it is present.<P>
 The standard long-date-format resource ends with a variable-length field (<CODE>localRtn</CODE>) originally intended to be used for code that alters the built-in U.S. sorting behavior. This field is no longer needed, because code for changing the sorting behavior is now in the string-manipulation (<CODE>'itl2'</CODE>) resource.<P>
 In existing unextended long-date-format resources, the <CODE>localRtn</CODE> field contains a single <CODE>RTS</CODE> instruction (hexadecimal $4E75). In extended long-date-format resources, the hexadecimal value $A89F is the first word in the<CODE>localRtn</CODE> field. (This is the unimplemented trap instruction, which could not have been the first word of any valid local routine.) The resource extension follows immediately after that word.<P>
 You can access the contents of the <CODE>'itl1'</CODE> resource extension through the <CODE>Itl1ExtRec</CODE> data type.<P>
<PRE>
TYPE Itl1ExtRec = 
RECORD
   base:                   Intl1Rec;{un-extended Intl1Rec}
   version:                Integer; {version number}
   format:                 Integer; {format code}
   calendarCode:           Integer; {calendar code for 'itl1'}
   extraDaysTableOffset:   LongInt; {offset to extra days table}
   extraDaysTableLength:   LongInt; {length of extra days table}
   extraMonthsTableOffset: LongInt; {offset to extra months table}
   extraMonthsTableLength: LongInt; {length of extra months table}
   abbrevDaysTableOffset:  LongInt; {offset to abbrev. days table}
   abbrevDaysTableLength:  LongInt; {length of abbrev. days table}
   abbrevMonthsTableOffset:LongInt; {offset to abbr. months table}
   abbrevMonthsTableLength:LongInt; {length of abbr. months table}
   extraSepsTableOffset:   LongInt; {offset to extra seps table}
   extraSepsTableLength:   LongInt; {length of extra seps table}
   tables:                 ARRAY[0..0] OF Integer; 
                                    {the tables; variable-length}
END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>base</CODE>
<DD> A standard (unextended) long-date-format resource.
<DT><CODE>version</CODE>
<DD> The version number of this extension. Unlike the <CODE>intl1Vers</CODE> field in the unextended <CODE>'itl1'</CODE> resource, this field contains nothing but the version number.
<DT><CODE>format</CODE>
<DD> A number that identifies the format of this resource. The current extended long-date-format resource format has a format code of 0.
<DT><CODE><A NAME=MARKER-2-241></A>calendarCode</CODE>
<DD> <CODE><A NAME=MARKER-2-242></A></CODE>Multiple calendars may be available on some systems, and it is necessary to identify the particular calendar for use with this long-date-format resource. Constants for the currently defined calendars are as follows:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Constant<TH>Value<TH>Explanation<TR>
<TD>&nbsp;<TD><A NAME=MARKER-9-9></A>calGregorian<TD>0<TD>Gregorian calendar<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-45></A>calArabicCivil<TD>1<TD>Arabic civil calendar<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-46></A>calArabicLunar<TD>2<TD>Arabic lunar calendar<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-47></A>calJapanese<TD>3<TD>Japanese calendar<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-48></A>calJewish<TD>4<TD>Jewish calendar<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-49></A>calCoptic<TD>5<TD>Coptic calendar<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-50></A>calPersian<TD>6<TD>Persian calendar</TABLE>

<DT>
<DD> The Script Manager initializes part of the script variable accessed through the selector <CODE>smScriptNumDate</CODE> with the value in this field.
<DT><A NAME=MARKER-2-243></A>extraDaysTableOffset
<DD> The offset from the beginning of the long-date-format resource to the extra days table.
<DT><A NAME=MARKER-2-244></A>extraDaysTableLength
<DD> The length in bytes of the extra days table.
<DT><A NAME=MARKER-2-245></A>extraMonthsTableOffset
<DD> The offset from the beginning of the long-date-format resource to the extra months table.
<DT><A NAME=MARKER-2-246></A>extraMonthsTableLength
<DD> The length in bytes of the extra months table.
<DT><A NAME=MARKER-2-247></A>abbrevDaysTableOffset
<DD> The offset from the beginning of the long-date-format resource to the abbreviated days table.
<DT><A NAME=MARKER-2-248></A>abbrevDaysTableLength
<DD> The length in bytes of the abbreviated days table.
<DT><A NAME=MARKER-2-249></A>abbrevMonthsTableOffset
<DD> The offset from the beginning of the long-date-format resource to the abbreviated months table.
<DT><A NAME=MARKER-2-250></A>abbrevMonthsTableLength
<DD> The length in bytes of the abbreviated months table.
<DT><A NAME=MARKER-2-251></A>extraSepsTableOffset
<DD> The offset from the beginning of the long-date-format resource to the extra separators table.
<DT><A NAME=MARKER-2-252></A>extraSepsTableLength
<DD> The length in bytes of the extra separators table.
<DT><CODE>tables</CODE>
<DD> The tables that make up the rest of the <CODE>'itl1'</CODE> resource extension.
</DL>
 Each table in the <CODE>'itl1'</CODE> resource extension is an array consisting of an integer <BR>count followed by a list of Pascal strings specifying names of days, names of months, <BR>or separators.<P>
<UL>
<LI><A NAME=MARKER-2-253></A>Extra days table. A list of names. This format is for those calendars with more than 7 day names.
<LI><A NAME=MARKER-2-254></A>Extra months table. A list of names. This format is for those calendars with more than 12 months.
<LI><A NAME=MARKER-2-255></A>Abbreviated days table. A table of abbreviations. If the header specifies an offset to and length of the abbreviated days table, the Text Utilities routines that create date strings use this table instead of truncating day names to the number of characters specified in the <CODE>abbrevLen</CODE> field of the standard <CODE>'itl1'</CODE> resource.
<LI><A NAME=MARKER-2-256></A>Abbreviated months table. A table of abbreviations. If the header specifies an offset to and length of the abbreviated months table, the Text Utilities routines that create date strings use this table instead of truncating month names to the number of characters specified in the <CODE>abbrevLen</CODE> field of the standard <CODE>'itl1'</CODE> resource.
<LI><A NAME=MARKER-2-257></A>Extra separators table. A list of additional date separators. When parsing date strings, the Text Utilities <CODE>StringToDate</CODE> and <CODE>StringToTime</CODE> functions permit the separators in this list to be used in addition to the date separators specified elsewhere in the numeric-format and long-date-format resources.<A NAME=MARKER-2-258></A>   <A NAME=MARKER-2-259></A><P>
</UL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-545.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-547.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
