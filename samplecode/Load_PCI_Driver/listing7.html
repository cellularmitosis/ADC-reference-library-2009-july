<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>Load PCI Driver - /MoreFiles/IterateDirectory.h</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../samplecode/LegacyTechnologies/idxHardwareDrivers-date.html">Hardware & Drivers</a> &gt; <A HREF="javascript:location.replace('index.html');">Load PCI Driver</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/HardwareDrivers/index.html" target="_blank">Reference Library > Hardware & Drivers</a></li>
	</ul>
</div>




</div></div></div>

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">Load PCI Driver</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/MoreFiles/IterateDirectory.h</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/FullPath.c</option>
<option value="listing2.html">/FullPath.h</option>
<option value="listing3.html">/Load PCI Driver.c</option>
<option value="listing4.html">/MoreFiles/DirectoryCopy.h</option>
<option value="listing5.html">/MoreFiles/FileCopy.h</option>
<option value="listing6.html">/MoreFiles/FSpCompat.h</option>
<option value="listing7.html">/MoreFiles/IterateDirectory.h</option>
<option value="listing8.html">/MoreFiles/MoreDesktopMgr.h</option>
<option value="listing9.html">/MoreFiles/MoreFiles.h</option>
<option value="listing10.html">/MoreFiles/MoreFilesExtras.h</option>
<option value="listing11.html">/MoreFiles/Optimization.h</option>
<option value="listing12.html">/MoreFiles/OptimizationEnd.h</option>
<option value="listing13.html">/MoreFiles/Search.h</option>
<option value="listing14.html">/SimpleApp/SimpleApp.h</option></select>
				</p>
				</form>
				<p><strong><a href="Load_PCI_Driver.zip">Download Sample</a></strong> (&#147;Load_PCI_Driver.zip&#148;, 340.5K)<BR>
<strong><a href="Load_PCI_Driver.dmg">Download Sample</a></strong> (&#147;Load_PCI_Driver.dmg&#148;, 445.4K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">/*  File:    IterateDirectory.h    Description:File Manager directory iterator routines.  Author:    JL  Copyright:   Copyright: &copy; 1995-1999 by Apple Computer, Inc.        all rights reserved.    Disclaimer:  You may incorporate this sample code into your applications without        restriction, though the sample code has been provided &quot;AS IS&quot; and the        responsibility for its operation is 100% yours.  However, what you are        not permitted to do is to redistribute the source as &quot;DSC Sample Code&quot;        after having made changes. If you're going to re-distribute the source,        we require that you make it clear in the source that the code was        descended from Apple Sample Code, but that you've made changes.    Change History (most recent first):        6/25/99  Updated for Metrowerks Codewarror Pro 2.1(KG)*/#ifndef __ITERATEDIRECTORY__#define __ITERATEDIRECTORY__#include &lt;Types.h&gt;#include &lt;Files.h&gt;#include &quot;Optimization.h&quot;#ifdef __cplusplusextern &quot;C&quot; {#endif/*****************************************************************************/typedef  pascal  void (*IterateFilterProcPtr) (const CInfoPBRec * const cpbPtr,                        Boolean *quitFlag,                        void *yourDataPtr);/*  &brvbar; Prototype for the IterateFilterProc function IterateDirectory calls.  This is the prototype for the IterateFilterProc function which is  called once for each file and directory found by IterateDirectory. The  IterateFilterProc gets a pointer to the CInfoPBRec that IterateDirectory  used to call PBGetCatInfo. The IterateFilterProc can use the read-only  data in the CInfoPBRec for whatever it wants.    If the IterateFilterProc wants to stop IterateDirectory, it can set  quitFlag to true (quitFlag will be passed to the IterateFilterProc  false).    The yourDataPtr parameter can point to whatever data structure you might  want to access from within the IterateFilterProc.  cpbPtr    input:  A pointer to the CInfoPBRec that IterateDirectory            used to call PBGetCatInfo. The CInfoPBRec and the            data it points to must not be changed by your            IterateFilterProc.  quitFlag  output:  Your IterateFilterProc can set quitFlag to true            if it wants to stop IterateDirectory.  yourDataPtr  input:  A pointer to whatever data structure you might            want to access from within the IterateFilterProc.    __________    Also see:  IterateDirectory, FSpIterateDirectory*/#define CallIterateFilterProc(userRoutine, cpbPtr, quitFlag, yourDataPtr) \    (*(userRoutine))((cpbPtr), (quitFlag), (yourDataPtr))/*****************************************************************************/pascal  OSErr  IterateDirectory(short vRefNum,                 long dirID,                 ConstStr255Param name,                 unsigned short maxLevels,                 IterateFilterProcPtr iterateFilter,                 void *yourDataPtr);/*  &brvbar; Iterate (scan) through a directory's content.  The IterateDirectory function performs a recursive iteration (scan) of  the specified directory and calls your IterateFilterProc function once  for each file and directory found.    The maxLevels parameter lets you control how deep the recursion goes.  If maxLevels is 1, IterateDirectory only scans the specified directory;  if maxLevels is 2, IterateDirectory scans the specified directory and  one subdirectory below the specified directory; etc. Set maxLevels to  zero to scan all levels.    The yourDataPtr parameter can point to whatever data structure you might  want to access from within the IterateFilterProc.  vRefNum      input:  Volume specification.  dirID      input:  Directory ID.  name      input:  Pointer to object name, or nil when dirID              specifies a directory that's the object.  maxLevels    input:  Maximum number of directory levels to scan or              zero to scan all directory levels.  iterateFilter  input:  A pointer to the routine you want called once              for each file and directory found by              IterateDirectory.  yourDataPtr    input:  A pointer to whatever data structure you might              want to access from within the IterateFilterProc.    Result Codes    noErr        0    No error    nsvErr        -35    No such volume    ioErr        -36    I/O error    bdNamErr      -37    Bad filename    fnfErr        -43    File not found    paramErr      -50    No default volume or iterateFilter was NULL    dirNFErr      -120  Directory not found or incomplete pathname                  or a file was passed instead of a directory    afpAccessDenied    -5000  User does not have the correct access    afpObjectTypeErr  -5025  Directory not found or incomplete pathname      __________    See also:  IterateFilterProcPtr, FSpIterateDirectory*//*****************************************************************************/pascal  OSErr  FSpIterateDirectory(const FSSpec *spec,                  unsigned short maxLevels,                  IterateFilterProcPtr iterateFilter,                  void *yourDataPtr);/*  &brvbar; Iterate (scan) through a directory's content.  The FSpIterateDirectory function performs a recursive iteration (scan)  of the specified directory and calls your IterateFilterProc function once  for each file and directory found.    The maxLevels parameter lets you control how deep the recursion goes.  If maxLevels is 1, FSpIterateDirectory only scans the specified directory;  if maxLevels is 2, FSpIterateDirectory scans the specified directory and  one subdirectory below the specified directory; etc. Set maxLevels to  zero to scan all levels.    The yourDataPtr parameter can point to whatever data structure you might  want to access from within the IterateFilterProc.  spec      input:  An FSSpec record specifying the directory to scan.  maxLevels    input:  Maximum number of directory levels to scan or              zero to scan all directory levels.  iterateFilter  input:  A pointer to the routine you want called once              for each file and directory found by              FSpIterateDirectory.  yourDataPtr    input:  A pointer to whatever data structure you might              want to access from within the IterateFilterProc.    Result Codes    noErr        0    No error    nsvErr        -35    No such volume    ioErr        -36    I/O error    bdNamErr      -37    Bad filename    fnfErr        -43    File not found    paramErr      -50    No default volume or iterateFilter was NULL    dirNFErr      -120  Directory not found or incomplete pathname    afpAccessDenied    -5000  User does not have the correct access    afpObjectTypeErr  -5025  Directory not found or incomplete pathname      __________    See also:  IterateFilterProcPtr, IterateDirectory*//*****************************************************************************/#ifdef __cplusplus}#endif#include &quot;OptimizationEnd.h&quot;#endif  /* __ITERATEDIRECTORY__ */</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/Load_PCI_Driver/listing7.html%3Fid%3DDTS10000439-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/Load_PCI_Driver/listing7.html%3Fid%3DDTS10000439-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/Load_PCI_Driver/listing7.html%3Fid%3DDTS10000439-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>