<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>The VBL Task Record (IM: Pr)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING89></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Processes-88.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Processes-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Processes-171.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Processes-90.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="Processes-2.html"><B>Processes</B></A><BR><DD><A HREF="Processes-74.html"><B>Chapter 4 - Vertical Retrace Manager</B></A> / <A HREF="Processes-87.html"><B>Vertical Retrace Manager Reference</B></A><BR><DL><DD><A HREF="Processes-88.html"><B>Data Structure</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING89-0></A>
<H3>The VBL Task Record</H3>
 <A NAME=MARKER-2-83></A>A VBL task record describes a vertical retrace task. It indicates which task record (if any) comes next in the vertical retrace queue, what procedure to use for the task, how many interrupts to wait before the task is executed, and in what phase to execute the task. The <CODE>VBLTask</CODE> data type defines a VBL task record.<P>
<PRE>
TYPE VBLTask = 
RECORD
   qLink:      QElemPtr;   {next entry in vertical retrace queue}
   qType:      Integer;    {queue type}
   vblAddr:    ProcPtr;    {pointer to task procedure}
   vblCount:   Integer;    {interrupts until next execution}
   vblPhase:   Integer;    {task phase}
END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>qLink<DFN></DFN></CODE>
<DD> A pointer to the next entry in the task's vertical retrace queue.<A NAME=MARKER-2-87></A>
<DT><CODE>qType</CODE>
<DD> The queue type. This field must be set to <CODE>ORD(vType)</CODE>.<A NAME=MARKER-2-90></A>
<DT><CODE>vblAddr</CODE>
<DD> A pointer to the VBL task.<A NAME=MARKER-2-91></A>
<DT><CODE>vblCount</CODE>
<DD> The number of interrupts between successive calls to the VBL task specified in the <CODE>vblAddr</CODE> field. If the value of <CODE>vblCount</CODE> is 0, the task will never be executed. The Vertical Retrace Manager decrements the value of this field after each interrupt. If decrementing <CODE>vblCount</CODE> produces a value of 0, the Vertical Retrace Manager executes the task. The task must then reset <CODE>vblCount</CODE>, or its entry will be removed from the queue after it has been executed.<A NAME=MARKER-2-120></A>
<DT><CODE>vblPhase</CODE>
<DD> The phase count of the VBL task. In most cases, you can set this field to 0. However, if you install multiple tasks with the same <CODE>vblCount</CODE> at the same time, you can assign them different <CODE>vblPhase</CODE> values so that the tasks are not executed during the same interrupt. The value of the <CODE>vblPhase</CODE> field must be less than the value of the <CODE>vblCount</CODE> field.<A NAME=MARKER-2-140></A>
</DL>
 For more information about using the <CODE>vblCount</CODE> and <CODE>vblPhase</CODE> fields, see <A HREF=Processes-78.html#MARKER-9-51>"The VBL Task Record" on page 4-6</A>.<A NAME=MARKER-2-141></A><A NAME=MARKER-2-124></A><A NAME=MARKER-2-58></A><P>
 </DL>
<HR>
<center>
<A HREF="Processes-88.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Processes-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Processes-171.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Processes-90.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Processes-3.html">&copy; Apple Computer, Inc.</A><br>17 JUN 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
