<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>CloseConnection (IM: PS)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING56></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCSoftware-55.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-57.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCSoftware-2.html"><B>PowerPC System Software</B></A> / <BR><DD><A HREF="PPCSoftware-40.html"><B>Chapter 3 - Code Fragment Manager</B></A> / <A HREF="PPCSoftware-43.html"><B>Code Fragment Manager Reference</B></A><BR><DL><DD><A HREF="PPCSoftware-50.html"><B>Code Fragment Manager Routines</B></A> / <A HREF="PPCSoftware-55.html"><B>Unloading Fragments</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING56-0></A>
<H3>CloseConnection<A NAME=MARKER-2-109></A></H3>
 You can use the <CODE>CloseConnection</CODE> function to close a connection to a fragment.<P>
<PRE>
OSErr CloseConnection (ConnectionID *connID);
</PRE>
<DL>
<DT>connID
<DD> A connection ID.
</DL>
<A NAME=HEADING56-4></A>
<H5>DESCRIPTION</H5>
 The <CODE>CloseConnection</CODE> function closes the connection to a fragment indicated by the <CODE>connID</CODE> parameter. <CODE>CloseConnection</CODE> decrements the count of existing connections to the specified fragment and, if the resulting count is 0, calls the fragment's termination routine and releases the memory occupied by the code and data sections of the fragment. If the resulting count is not 0, any per-connection data is released but the code section remains in memory.<P>
 When a fragment is unloaded as a result of its final connection having been closed, all libraries that depend on that fragment are also released, provided that their usage counts are also 0.<P>
 The Code Fragment Manager automatically closes any connections that remain <BR>open at the time <CODE>ExitToShell</CODE> is called for your application, so you need to call <CODE>CloseConnection</CODE> only for fragments you wish to unload before your application terminates.<P>
<A NAME=HEADING56-8></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 You can close a connection only to the root of a loading sequence (that is, the fragment whose loading triggered the entire load chain).<P>
<A NAME=HEADING56-10></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>fragNoErr<TD>0<TD>No error<TR>
<TD>fragConnectionIDNotFound<TD>-2801<TD>Connection ID is not valid<A NAME=MARKER-2-1></A><A NAME=MARKER-2-110></A><A NAME=MARKER-2-3></A></TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="PPCSoftware-55.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-57.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="PPCSoftware-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
