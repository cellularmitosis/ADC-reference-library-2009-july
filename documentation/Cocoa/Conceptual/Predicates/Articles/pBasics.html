<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Predicate Programming Guide: Predicates Overview</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Predicates Overview"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001792" title="Predicates Overview"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../DataManagement-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000445" target="_top">Data Management</a> &gt; <a href="../index.html" target="_top">Predicate Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../predicates.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="pCreating.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40001792-CJBDBHCB" title="Predicates Overview"></a><hr /><H1>Predicates Overview</H1><p>This article provides an overview of predicates and expressions, and how you represent them in Cocoa.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="pBasics.html#//apple_ref/doc/uid/TP40001792-DontLinkElementID_1">Basics</a>
				
			<br/>
			
        
			
			
				<a href="pBasics.html#//apple_ref/doc/uid/TP40001792-249999">Predicate Classes</a>
				
			<br/>
			
        
			
			
				<a href="pBasics.html#//apple_ref/doc/uid/TP40001792-249799">Constraints and Limitations</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001792-DontLinkElementID_1" title="Basics"></a><h2>Basics</h2><p>A <strong>predicate</strong> is a logical operator that returns a Boolean value (true or false). There are two types of predicate; comparison predicates, and compound predicates:</p><ul class="ul"><li class="li"><p>A <strong>comparison predicate</strong> compares two <strong>expressions</strong> using an <strong>operator</strong>. The expressions are referred to as the left hand side and the right hand side of the predicate (with the operator in the middle). A comparison predicate returns the result of invoking the operator with the results of evaluating the expressions.</p></li><li class="li"><p>A <strong>compound predicate</strong> compares the results of evaluating two or more other other predicates, or negates another predicate.</p></li></ul><p>Cocoa supports a wide range of types of predicate, including the following:</p><ul class="ul"><li class="li"><p>Simple comparisons, such as <code>grade == 7</code> or <code>firstName like 'Mark'</code></p></li><li class="li"><p>Case or diacritic insensitive lookups, such as <code>name contains[cd] 'citroen'</code></p></li><li class="li"><p>Logical operations, such as <code>(firstName beginswith 'M') AND (lastName like 'Adderley')</code></p></li></ul><p>You can also create predicates for relationships—such as <code>group.name matches 'work.*'</code>, <code>ALL children.age > 12</code>, and <code>ANY children.age > 12</code>—and for operations such as <code>@sum.items.price &lt; 1000</code>. </p><p>Cocoa predicates provide a means of encoding queries in a manner that is independent of the store used to hold the data being searched. You use predicates to represent logical conditions used for constraining the set of objects retrieved by Spotlight and Core Data, and for in-memory filtering of objects.</p><p>You can use predicates with any class of object, but note that a class must be key-value coding compliant for the keys you want to use in a predicate (see <em><a href="../../KeyValueCoding/index.html#//apple_ref/doc/uid/10000107i" target="_top">Key-Value Coding Programming Guide</a></em>).</p><a name="//apple_ref/doc/uid/TP40001792-249999" title="Predicate Classes"></a><h2>Predicate Classes</h2><p>Cocoa provides three predicate classes: <code>NSPredicate</code>, and two subclasses of <code>NSPredicate</code>, <code>NSComparisonPredicate</code> and <code>NSCompoundPredicate</code>.</p><p><code>NSPredicate</code> provides—amongst others—methods to evaluate a predicate, and to create a predicate from a string (such as <code>firstName like 'Mark'</code>). In many cases you simply use <code>NSPredicate</code>. When you create a predicate using a string,  <code>NSPredicate</code> creates the appropriate predicate and expression instances for you. In some situations, you want to create comparison or compound predicates yourself, in which case you can use <code>NSComparisonPredicate</code> and <code>NSCompoundPredicate</code> directly.</p><p>Predicate expressions in Cocoa are represented by instances of <code>NSExpression</code>. The simplest expression simply represents a constant value. Frequently, though, you use expressions that retrieve the value for a key path of the object currently being evaluated in the predicate. You can also create an expression to represent the object currently being evaluated in the predicate, to serve as a placeholder for a variable, or to return the result of performing an operation on an array.</p><p>How you create predicates and expressions is discussed in more detail in <span class="content_text"><a href="pCreating.html#//apple_ref/doc/uid/TP40001793-CJBDBHCB">“Creating Predicates.”</a></span></p><a name="//apple_ref/doc/uid/TP40001792-249799" title="Constraints and Limitations"></a><h2>Constraints and Limitations</h2><p>If you use predicates with Core Data or Spotlight, you should take care that they will work with the data store. There is no specific implementation language for predicate queries—a predicate query may be translated into SQL, XML, or another format, depending on the requirements of the backing store (if indeed there is one). </p><p>The predicate system is intended to support a useful range of operators, so provides neither the set union nor the set intersection of all operators supported by all backing stores. Therefore, not all possible predicate queries are supported by all backing stores, and not all operations supported by all backing stores can be expressed with <code>NSPredicate</code> and <code>NSExpression</code>. The back end may downgrade the predicate (for example it may make a case-sensitive comparison case-insensitive) or raise an exception if you try to use an unsupported operator. For example:</p><ul class="ul"><li class="li"><p>The <code>matches</code> operator uses <code>regex</code>, so is not supported by Core Data’s SQL store— although it does work with in-memory filtering.</p></li><li class="li"><p>The Core Data SQL store supports only one to-many operation per query; therefore in any predicate sent to the SQL store, there may be only one operator (and one instance of that operator) from <code>ALL</code>, <code>ANY</code>, and <code>IN</code>.</p></li><li class="li"><p>You cannot necessarily translate “arbitrary” SQL queries into predicates.</p></li><li class="li"><p>The <code>ANYKEY</code> operator can only be used with Spotlight.</p></li><li class="li"><p>Spotlight does not support relationships.</p></li></ul>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../predicates.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="pCreating.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-05-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/Predicates/Articles/pBasics.html%3Fid%3DTP40001789-1.11&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/Predicates/Articles/pBasics.html%3Fid%3DTP40001789-1.11&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/Predicates/Articles/pBasics.html%3Fid%3DTP40001789-1.11&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
