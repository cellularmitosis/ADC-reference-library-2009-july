<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>GetNewCWindow(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING225></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-224.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-226.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-188.html"><B>Chapter 4 - Window Manager</B></A> / <A HREF="Toolbox-213.html"><B>Window Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-221.html"><B>Window Manager Routines</B></A> / <A HREF="Toolbox-224.html"><B>Creating Windows</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING225-0></A>
<H3><A NAME=MARKER-9-352></A>GetNewCWindow</H3>
 <A NAME=MARKER-11-353></A><A NAME=MARKER-2-354></A>Use the <CODE>GetNewCWindow</CODE> function to create a color window with the properties defined in the <CODE>'WIND'</CODE> resource with a specified resource ID. <P>
<PRE>
FUNCTION GetNewCWindow (windowID: Integer; wStorage: Ptr;
                        behind: WindowPtr): WindowPtr;
</PRE>
<DL>
<DT>windowID
<DD> The resource ID of the <CODE>'WIND'</CODE> resource that defines the properties of <BR>the window.
<DT>wStorage
<DD> A pointer to memory space for the window record.
<DT>
<DD> If you specify a value of <CODE>NIL</CODE> for <CODE>wStorage</CODE>, the <CODE>GetNewCWindow</CODE> function allocates the window record as a nonrelocatable object in the heap. You can reduce the chances of heap fragmentation by allocating the memory your application needs for window records early in your initialization code. Whenever you need to create a window, you can allocate memory from your own block and pass a pointer to it in the <CODE>wStorage</CODE> parameter.
<DT><CODE>behind</CODE>
<DD> A pointer to the window that appears immediately in front of the new window on the desktop.
<DT>
<DD> To place a new window in front of all other windows on the desktop, specify a value of <CODE>Pointer(-1)</CODE>.<DFN> When you place a window in front of all others, <CODE>GetNewCWindow</CODE></DFN> removes the highlighting from the previously active window, highlights the newly created window, and generates the appropriate activate events. Note that if you create an invisible window in front of all others on the desktop, the user sees no active window until you make the new window visible (or make another window active).
<DT>
<DD> To place a new window behind all other windows, specify a value of <CODE>NIL</CODE>.
</DL>
<A NAME=HEADING225-9></A>
<H5>DESCRIPTION</H5>
 The <CODE>GetNewCWindow</CODE> function creates a new color window from the specified window resource and returns a pointer to the newly created window record. You can use the returned window pointer to refer to this window in most Window Manager routines. If <CODE>GetNewCWindow</CODE> is unable to read the window or window definition function from the resource file, it returns <CODE>NIL</CODE>.<P>
 The <CODE>GetNewCWindow</CODE> function looks for a <CODE>'wctb'</CODE> resource with the same resource ID as that of the <CODE>'WIND'</CODE> resource. If it finds one, it uses the window color information in the<CODE> 'wctb'</CODE> resource for coloring the window frame and highlighting selected text.<P>
 If the window's definition function (specified in the window resource) is not already in memory, <CODE>GetNewCWindow</CODE> reads it into memory and stores a handle to it in the window record. It allocates space in the application heap for the structure and content regions of the window and asks the window definition function to calculate those regions.<P>
 To create the window, <CODE>GetNewCWindow</CODE> retrieves the window characteristics from the window resource and then calls the <CODE>NewCWindow</CODE> function, passing the characteristics <BR>as parameters.<P>
 The <CODE>GetNewCWindow</CODE> function creates a window in a color graphics port. Before calling <CODE>GetNewCWindow</CODE>, verify that Color QuickDraw is available. Your application typically sets up its own global variables reflecting the system setup during initialization by calling the <CODE>Gestalt</CODE> function. <!--See <I><A HREF="../IMOverview/IMOverview-2.html">Inside Macintosh: Overview</A></I> for more information about establishing the local configuration.--><A NAME=MARKER-2-355></A><P>
<A NAME=HEADING225-15></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Note that the <CODE>GetNewCWindow</CODE> function returns a value of type <CODE>WindowPtr</CODE>, not <CODE>CWindowPtr</CODE>.<P>
 If you let the Window Manager create the window record in your application's heap, call <CODE>DisposeWindow</CODE> to dispose of the window's window record. If you allocated the memory for the window record yourself and passed a pointer to the storage to <CODE>GetNewCWindow</CODE>, use the procedure <CODE>CloseWindow</CODE> to close the window and the procedure <CODE>DisposePtr</CODE>, documented in <I><A HREF="../Memory/Memory-2.html">Inside Macintosh: Memory</A></I>, to dispose of the window record.<A NAME=MARKER-2-356></A><P>
<A NAME=HEADING225-18></A>
<H5>SEE ALSO</H5>
 See <A HREF=Toolbox-203.html#MARKER-9-153>Listing 4-3</A> on <A HREF=Toolbox-203.html#MARKER-9-153>page 4-28</A> for an example that calls <CODE>GetNewCWindow</CODE> to create a new window from a window resource.<P>
 For more information about window characteristics and the window resource, see the description of <CODE>NewCWindow</CODE> beginning on <A HREF=Toolbox-227.html#MARKER-9-361>page 4-72</A> and the description of the <CODE>'WIND'</CODE> resource in the section <A HREF=Toolbox-293.html#MARKER-9-629>"The Window Resource" beginning on page 4-116</A>.<P>
 <EM>For the procedures for closing a window and removing the structures from memory, see the descriptions of the DisposeWindow procedure on <A HREF=Toolbox-258.html#MARKER-9-489>page 4-97</A>, the CloseWindow procedure on <A HREF=Toolbox-257.html#MARKER-9-483>page 4-96</A>, and the DisposePtr procedure in <I>Inside Macintosh: Memory.</I> </EM>See <A HREF=Toolbox-211.html#MARKER-9-248>Listing 4-17 on page 4-61</A> for an example of closing a document window.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-224.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-226.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
