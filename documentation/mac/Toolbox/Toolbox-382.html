<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Manipulating Items(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING382></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-381.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-383.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-370.html"><B>Chapter 6 - Dialog Manager</B></A> / <A HREF="Toolbox-378.html"><B>Using the Dialog Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING382-0></A>
<H2><A NAME=MARKER-9-194></A>Manipulating Items</H2>
 <A NAME=MARKER-2-211></A>In many cases, you won't have to make any changes to alerts or dialog boxes after you define them in your resource file. However, if you should want to modify an item, you can use several Dialog Manager routines to do so.<P>
<B>Figure 6-25  <A NAME=MARKER-9-196></A>A selected scrolling list</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/DM-S-34.jpg"><P>
 For example, you can use the <CODE>ParamText</CODE> procedure to supply text strings (such as document titles) to alert and dialog boxes dynamically. For most other types of item manipulation, you must first call the <CODE>GetDialogItem</CODE> procedure to get the information about the item. You then use other routines to manipulate that item. For example, you can use the <CODE>SetDialogItem</CODE> procedure to change the item, or--to get a text string that the user has entered in an editable text item after clicking the OK button--you can use the <CODE>GetDialogItemText</CODE> procedure.<P>
 The Dialog Manager routines for manipulating items are summarized in the <BR>following list.
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Routine<TH>Description<TR>
<TD>AppendDITL<TD>Adds items to a dialog box.<TR>
<TD>CountDITL<TD>Counts the number of items in a dialog box.<TR>
<TD>FindDialogItem<TD>Finds an item that contains a specified point within a dialog box.<TR>
<TD>GetAlertStage<TD>Returns the stage of the last occurrence of an alert.<TR>
<TD>GetDialogItem<TD>Returns the item type, the display rectangle, and the control handle or application-defined procedure of a given item in a dialog box.<TR>
<TD>GetDialogItemText<TD>Returns the text of a given editable text or static <BR>text item.<TR>
<TD>HideDialogItem<TD>Hides the given item.<TR>
<TD>ParamText<TD>Substitutes up to four different text strings in static <BR>text items.<TR>
<TD>ResetAlertStage<TD>Resets the stage of the last occurrence of an alert.<TR>
<TD>SelectDialogItemText<TD>Selects the text of an editable text item.<TR>
<TD>SetDialogItem<TD>Sets the item type and the display rectangle of an item, or (for application-defined items) the draw procedure <BR>of an item.<TR>
<TD>ShortenDITL<TD>Removes items from a dialog box.<TR>
<TD>ShowDialogItem<TD>Redisplays the item previously hidden by <CODE>HideDialogItem</CODE>.</TABLE>
<P>
 The next several sections describe the most frequently used of these routines. The next section, <A HREF=#MARKER-9-197>"Changing Static Text,"</A> explains the use of the <CODE>ParamText</CODE> procedure to manipulate the text in static text items. <A HREF=#MARKER-9-202>"Getting Text From Editable Text Items" beginning on page 6-44</A> describes how to use the <CODE>GetDialogItemText</CODE> procedure <BR>to determine what the user types in an editable text item. Using the <CODE>AppendDITL</CODE> procedure is explained in <A HREF=#MARKER-9-209>"Adding Items to an Existing Dialog Box" beginning on page 6-46</A>. <A HREF=Toolbox-383.html#MARKER-9-223>"Using an Application-Defined Item to Draw the Bold Outline for a Default Button" beginning on page 6-50</A> describes how to use<DFN> <CODE>SetDialogItem</CODE></DFN> to install application-defined items. For additional information about all of the previously listed routines, see <A HREF=Toolbox-407.html#MARKER-9-466>"Manipulating Items in Alert and Dialog Boxes" beginning on page 6-120</A> and <A HREF=Toolbox-416.html#MARKER-9-506>"Handling Text in Alert and Dialog Boxes" beginning on page 6-129</A>.<P>
<A NAME=HEADING382-7></A>
<H3><A NAME=MARKER-9-197></A>Changing Static Text</H3>
 <A NAME=MARKER-2-198></A>As previously explained, it is often useful to state the name of a document in an alert box or a dialog box. For example, <A HREF=#MARKER-9-199>Figure 6-26</A> shows an alert box that an application might display when the user closes a window that contains unsaved changes.<P>
<B>Figure 6-26  <A NAME=MARKER-9-199></A>An alert box that displays a document name</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/DM-S-11.jpg"><P>
 You can use the <CODE>ParamText</CODE> procedure to supply the names of document windows to your alert and dialog boxes dynamically, as illustrated in the application-defined routine <CODE>MyCloseDocument</CODE> shown in <A HREF=#MARKER-9-200>Listing 6-9</A>.<P>
<B>Listing 6-9  <A NAME=MARKER-9-200></A>Using the <CODE>ParamText</CODE> procedure to substitute text strings</B><P>
<PRE>
PROCEDURE MyCloseDocument (myData: MyDocRecHnd);
VAR
   title:      Str255;
   item:       Integer;
   docWindow:  WindowPtr;
   event:      EventRecord;   {dummy parameter for calling DialogSelect}
   myErr:      OSErr;
BEGIN
   docWindow := FrontWindow;     {point to active window}
   IF (myData^^.windowDirty) THEN   {document has been changed}
   BEGIN
      GetWTitle(docWindow, title);  {get title of window}
      MyStringCheck(title);
      ParamText(title, '', '', ''); {pass the title in 1st parameter}
      DoActivate(docWindow, FALSE, event);   {deactivate the active window}
      item := CautionAlert(kSaveAlertID, @MyEventFilter); {display alert box}
      IF item = kCancel THEN
         Exit(MyCloseDocument);
      IF item = kSave THEN
         DoSaveCmd;        {save the document}
      myErr := DoCloseFile(myData);    {close the file}
   END;                 {let click in Don't Save fall through}
   CloseWindow(docWindow);
   DisposPtr(Ptr(docWindow));
END;
</PRE>
 In this example, the Window Manager function <CODE>FrontWindow</CODE> returns a pointer to <BR>the active window. Another Window Manager function, <CODE>GetWTitle</CODE>, returns the title <BR>of that window. The MyCloseDocument routine passes this string to the <CODE>ParamText</CODE> procedure, which takes four text strings as parameters. In this example, only one string is needed (the window title), which is passed in the first parameter; empty strings are passed for the remaining three parameters.<P>
 You can use <CODE>ParamText</CODE> to supply up to four text strings for a single alert or dialog box. In the item list resource for the alert or dialog box, specify where each of these strings should go by inserting the special characters <CODE>^0</CODE> through <CODE>^3</CODE> in any of the items where you can specify text. The <CODE>ParamText</CODE> procedure dynamically replaces <CODE>^0</CODE> with the string you pass in its first parameter, <CODE>^1</CODE> with the string in the second parameter, and so forth, when you display the alert or dialog box. <P>
<DL>
<DT><B>IMPORTANT</B>
<DD>To avoid recursion problems in versions of system sofware earlier than 7.1, you have to ensure that you do not include the characters <CODE>^0</CODE> through <CODE>^3</CODE> in any strings you pass to <CODE>ParamText</CODE>. This is why MyCloseDocument uses another application-defined routine, <CODE>MyStringCheck</CODE>, to filter these characters out of the window titles passed to <CODE>ParamText</CODE>.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 <A HREF=#MARKER-9-201>Listing 6-10</A> shows a portion of an item list resource. When the application calls <CODE>CautionAlert</CODE>, the Dialog Manager uses the first parameter passed previously to the <CODE>ParamText</CODE> procedure to replace the characters <CODE>^0</CODE> in the static text with the title of the <BR>document window.<P>
<B>Listing 6-10  <A NAME=MARKER-9-201></A>Specifying where <CODE>ParamText</CODE> should substitute text in an alert box message</B><P>
<PRE>
resource 'DITL' (kSaveAlertID, purgeable) {
   {        /*Save button information goes here*/
            /*Cancel button information goes here*/
            /*Don't Save button information goes here*/
      {10, 75, 42, 348},
      StaticText {      /*ask the user to save changes to the document--*/
            disabled,   /* filename inserted with ParamText*/
            &quot;Save changes to the SurfWriter document "^0" before closing?&quot;
      },
            /*help item information goes here*/
   }
};
</PRE>
<A NAME=HEADING382-20></A>
<H3><A NAME=MARKER-9-202></A>Getting Text From Editable Text Items</H3>
 <A NAME=MARKER-2-203></A>The application displaying the modeless dialog box shown in <A HREF=#MARKER-9-204>Figure 6-27</A> uses the <CODE>GetDialogItem</CODE> and <CODE>GetDialogItemText</CODE> procedures after the user clicks the Change button.<P>
<B>Figure 6-27  <A NAME=MARKER-9-204></A>Two editable text items in a modeless dialog box</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/DM-S-36.jpg"><P>
 This dialog box prompts the user for two text strings: one to search for and another <BR>to take the place of the first string. <A HREF=#MARKER-9-205>Listing 6-11</A> shows the item list resource for this <BR>dialog box. The fifth item in the list is the editable text item where the user enters the text string being sought; the sixth item is the item where the user enters the replacement <BR>text string.<P>
<B>Listing 6-11  <A NAME=MARKER-9-205></A>Specifying editable text items in an item list</B><P>
<PRE>
resource 'DITL' (kGlobalChangesDITL, purgeable) {
   {  /*ITEM NO. 1*/
      {70, 213, 90, 271},  Button      {enabled,&quot;Change&quot;},
      /*ITEM NO. 2*/
      {70, 142, 90, 200},  Button      {enabled,&quot;Stop&quot;},
      /*ITEM NO. 3*/
      {10, 23, 27, 98},    StaticText  {disabled, &quot;Find What:&quot;},
      /*ITEM NO. 4*/
      {40, 23, 57, 98},    StaticText  {disabled,&quot;Change To:&quot;},
      /*ITEM NO. 5*/
      {10, 117, 27, 271},  EditText    {disabled, &quot;&quot;},
      /*ITEM NO. 6*/
      {40, 117, 57, 271},  EditText    {disabled, &quot;&quot;}
      /*ITEM NO. 7: for drawing outline around Change button*/
      {63, 205, 97, 278},  UserItem    {disabled, },
      /*ITEM NO. 8: help item goes here*/
   }
};
</PRE>
 <A HREF=#MARKER-9-206>Listing 6-12</A> shows how the application handles a click in the Change button. (Subsequent sections of this chapter explain how to handle events in a modeless <BR>dialog box.)<P>
<B>Listing 6-12  <A NAME=MARKER-9-206></A>Getting the text entered by the user in an editable text item</B><P>
<PRE>
PROCEDURE MyHandleModelessDialogs(theEvent: EventRecord);
VAR
   myDialog:            DialogPtr;
   itemHit, itemType:   Integer;
   searchStringHandle:  Handle;
   replaceStringHandle: Handle;
   searchString:        Str255;
   replaceString:       Str255;
   itemRect:            Rect;

BEGIN
   {use DialogSelect, then determine whether the event occurred }
   { in the Global Changes dialog box; if so, respond to mouse }
   { clicks as follows}
   CASE itemHit OF
      kChange:       {user clicked the Change button}
         BEGIN
            GetDialogItem(myDialog, kFind, itemType, 
                          searchStringHandle, itemRect);
            GetDialogItemText(searchStringHandle, searchString);
            GetDialogItem(myDialog, kReplace, itemType,
                          replaceStringHandle, itemRect);
            GetDialogItemText(replaceStringHandle, replaceString);
            {get a handle to the Stop button}
            GetDialogItem(myDialog, kStop, itemType, 
                          itemHandle, itemRect);
            {make the Stop button active during the operation}
            HiliteControl(ControlHandle(itemHandle), 0);
            {get a handle to the Change button}
            GetDialogItem(myDialog, kChange, itemType, 
                          itemHandle, itemRect);
            {make the Change button inactive during the operation}
            HiliteControl(ControlHandle(itemHandle), 255);
            DoReplace(searchString, replaceString);
            {when the operation is complete, dim Stop and make }
            { Change active here}
         END;
      kStop:      {user clicked the Stop button}
         BEGIN
                  {cancel operation, then make Stop button }
                  { inactive and Change button active again}
         END;
   END;
END;
</PRE>
 In <A HREF=#MARKER-9-206>Listing 6-12</A>, when the user clicks the Change button, the <CODE>GetDialogItem</CODE> procedure returns a handle to the item containing the search string. Because this is a handle to an editable text item, the application can pass the handle to the <CODE>GetDialogItemText</CODE> procedure, which then returns the item's text string in its second parameter. These two procedures are then used to get the string in the item containing the replacement string. These two strings are then passed to an application-defined routine that replaces all instances of the first string with the characters of the second string. Note that when the user clicks Change, the Control Manager procedure <CODE>HiliteControl</CODE> is used to make the Stop button active and to make the Change button inactive--that is, dimmed. This indicates that the user can use the Stop button but not the Change button while the change operation is taking place.<A NAME=MARKER-2-474></A><A NAME=MARKER-2-208></A><P>
<A NAME=HEADING382-31></A>
<H3><A NAME=MARKER-9-209></A>Adding Items to an Existing Dialog Box</H3>
 <A NAME=MARKER-9-570></A>You can dynamically add items to and remove items from a dialog box by using the <CODE>AppendDITL</CODE> and <CODE>ShortenDITL</CODE> procedures. When you create a dialog box, the Dialog Manager creates a <I>dialog record.</I> The Dialog Manager then reads in the item list resource and stores a handle to it in the <CODE>items</CODE> field of the dialog record. Because every dialog box you create has its own dialog record, you can define dialog boxes whose items are defined by the same item list resource. The <CODE>AppendDITL</CODE> and <CODE>ShortenDITL</CODE> procedures are especially useful if several dialog boxes share the same item list resource and you want to add or remove items as appropriate for individual dialog boxes.<P>
 When you call the <CODE>AppendDITL</CODE> procedure, you specify a dialog box, and you specify a new item list resource to append to the dialog box's existing item list resource. You also specify where the Dialog Manager should display the new items. You can use one of these constants to designate where <CODE>AppendDITL</CODE> should display the appended items:<P>
<PRE>
CONST overlayDITL       = 0;     {overlay existing items}
      appendDITLRight   = 1;     {append at right}
      appendDITLBottom  = 2;     {append at bottom}
TYPE DITLMethod = Integer;
</PRE>
 <A HREF=#MARKER-9-211>Figure 6-28</A> illustrates an existing dialog box and a pair of items to be appended.<P>
<B>Figure 6-28  <A NAME=MARKER-9-211></A>An existing dialog box and items to append</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/DM-SL-37.jpg"><P>
 If you specify the <CODE>overlayDITL</CODE> constant, <CODE>AppendDITL</CODE> superimposes the appended items over the dialog box. That is, <CODE>AppendDITL</CODE> interprets the coordinates of the display rectangles for the appended items (as specified in their item list resource) as local coordinates within the dialog box. <A HREF=#MARKER-9-213>Figure 6-29</A> shows the result of overlaying the items upon the dialog box illustrated in <A HREF=#MARKER-9-211>Figure 6-28</A>.<A NAME=MARKER-2-212></A><P>
<B>Figure 6-29  <A NAME=MARKER-9-213></A>The dialog box after items are overlaid</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/DM-SL-38.jpg"><P>
 If you specify the <CODE>appendDITLRight</CODE> constant, <CODE>AppendDITL</CODE> appends the items to the right side of the dialog box, as illustrated in <A HREF=#MARKER-9-215>Figure 6-30</A>, by positioning the display rectangles of the appended items relative to the upper-right coordinate of the dialog box. The <CODE>AppendDITL</CODE> procedure automatically expands the dialog box to accommodate the new dialog items.<A NAME=MARKER-2-214></A><P>
<B>Figure 6-30  <A NAME=MARKER-9-215></A>The dialog box after items are appended to the right</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/DM-SL-39.jpg"><P>
 If you specify the <CODE>appendDITLBottom</CODE> constant, <CODE>AppendDITL</CODE> appends the items to the bottom of the dialog box, as illustrated in <A HREF=#MARKER-9-217>Figure 6-31</A>, by positioning the display rectangles of the appended items relative to the lower-left coordinate of the dialog box. The <CODE>AppendDITL</CODE> procedure automatically expands the dialog box to accommodate the new dialog items.<A NAME=MARKER-2-216></A><P>
<B>Figure 6-31  <A NAME=MARKER-9-217></A>The dialog box after items are appended to the bottom</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/DM-SL-40.jpg"><P>
 As an alternative to passing the <CODE>overlayDITL</CODE>, <CODE>appendDITLRight<DFN>, or appendDITLBottom</DFN></CODE> constant, you can pass a negative number to <CODE>AppendDITL</CODE>, which appends the items relative to an existing item in the dialog box. The absolute value of this number is interpreted as the item in the dialog box relative to which the new items are to be positioned. For example, if you pass <DFN>-2</DFN> to <CODE>AppendDITL</CODE>, the display rectangles of the appended items are offset from the upper-left corner of item number 2 in the dialog box. <A HREF=Toolbox-380.html#MARKER-9-113>Figure 6-12 on page 6-22</A> shows a simple dialog box with two checkboxes. <A HREF=#MARKER-9-218>Figure 6-32</A> shows the same dialog box after an additional item is appended relative to the first checkbox, so that the new item appears between the two existing checkboxes.<P>
<B>Figure 6-32  <A NAME=MARKER-9-218></A>A dialog box with an item appended relative to an existing item</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/DM-S-41.jpg"><P>
 The application-defined routine called <CODE>DoSpellBoxWithSpanish</CODE>, which is shown in <A HREF=#MARKER-9-219>Listing 6-13</A> on the next page, illustrates the use of the <CODE>AppendDITL<DFN> procedure to add </DFN></CODE>the new item.<P>
<B>Listing 6-13  <A NAME=MARKER-9-219></A>Appending an item to an existing dialog box</B><P>
<PRE>
FUNCTION DoSpellBoxWithSpanish: OSErr;
VAR
   theDialog:        DialogPtr;
   myNewItem:        Handle;
   docWindow:        WindowPtr;
   event:            EventRecord;
BEGIN
   theDialog := GetNewDialog(kSpellCheckID, NIL, Pointer(-1));
   IF theDialog &lt;&gt; NIL THEN
   BEGIN
      myNewItem := GetResource('DITL', kSpanishDITL);
      IF myNewItem &lt;&gt; NIL THEN
      BEGIN
         AppendDITL(theDialog, myNewItem, kAppendItem);  {kAppendItem = -3}
         ReleaseResource(myNewItem);
         docWindow := FrontWindow;     {get the front window}
         {if there's a front window, deactivate it}
         IF docWindow &lt;&gt; NIL THEN 
            DoActivate(docWindow, FALSE, event);
         ShowWindow(theDialog);  {show dialog box with appended item}
         MyAdjustMenus;             {adjust menus as needed}
         REPEAT
            ModalDialog(@MyEventFilter, itemHit);
               {handle clicks in checkboxes here}
         UNTIL ((itemHit = kSpellCheck) OR (itemHit = kCancel));
               {handle clicks in buttons here}
         DisposeDialog(theDialog);
         DoSpellBoxWithSpanish := kSuccess;
      END
      ELSE
         DoSpellBoxWithSpanish := kFailed;
   END
   ELSE DoSpellBoxWithSpanish := kFailed;
END;
</PRE>
 The <CODE>DoSpellBoxWithSpanish</CODE> routine uses <CODE>GetNewDialog</CODE> to create a dialog box. <BR>As you'll see in <A HREF=#MARKER-9-220>Listing 6-14</A>, the dialog resource passed to <CODE>GetNewDialog</CODE> has a resource ID of 402, and this dialog resource in turn specifies an item list resource with resource ID 402. The <CODE>DoSpellBoxWithSpanish</CODE> routine then uses the Resource Manager function <CODE>GetResource</CODE> to obtain a handle to a second item list resource; this item list resource contains the "Include Spanish Dictionary" checkbox. By setting a value of -3 in the last parameter of <CODE>AppendDITL</CODE>, the <CODE>DoSpellBoxWithSpanish</CODE> routine appends the items in the second item list resource relative to item number 3 (the "Ignore Words in All Caps" checkbox) in the dialog box. <A HREF=#MARKER-9-220>Listing 6-14</A> shows the dialog resource for the dialog box, its regular item list resource, and the item list resource that <CODE>AppendDITL</CODE> adds to it.<P>
<B>Listing 6-14  <A NAME=MARKER-9-220></A>Rez input for a dialog box and the item appended to it</B><P>
<PRE>
# define kSpellCheckID 402    /*resource ID for Spell Check dialog box*/
# define kSpellCheckDITL 402  /*resource ID for item list resource*/
# define kSpanishDITL 257     /*resource ID for item list resource to append*/
# define kAppendHelp 257      /*resource ID for 'hdlg' for appended item*/

resource 'DLOG' (kSpellCheckID, purgeable) {/*Spell Check dialog box*/
   {62, 184, 216, 448},
   dBoxProc,               /*make it modal*/
   invisible,              /*make it initially invisible*/
   noGoAway, 0x0, kSpellCheckDITL, &quot;Spellcheck Options&quot;,
   alertPositionParentWindow     /*place over the document window*/
};
resource 'DITL' (kSpellCheckDITL, purgeable) {
   /*items for Spell Check dialog box*/
   /*ITEM NO. 1, the &quot;Spell Check&quot; button, goes here*/
   /*ITEM NO. 2, the &quot;Cancel&quot; button, goes here*/
   /*ITEM NO. 3*/
   {48, 23, 67, 202}, CheckBox {enabled, &quot;Ignore Words in All Caps&quot;},
   /*ITEM NO. 4*/
   {83, 23, 101, 196}, CheckBox {enabled, &quot;Ignore Slang Terms&quot;},
      /*static text, help item, etc. go here*/
};
   /*add this item list resource to Spell Check dialog box only when */
   /* Spanish language dictionary is installed*/
resource 'DITL' (kSpanishDITL, purgeable) {
   {  {18, 0, 36, 209},CheckBox {enabled,&quot;Include Spanish Dictionary&quot;},
      {0,0,0,0}, HelpItem {disabled, HMScanAppendhdlg{kAppendHelp}} /*help*/
   }
};
</PRE>
 The dialog resource specifies that the dialog box is invisible so that the application <BR>can add the new item to the dialog box before displaying it. In <A HREF=#MARKER-9-219>Listing 6-13</A>, the <CODE>DoSpellBoxWithSpanish</CODE> routine uses the Window Manager procedure <BR><CODE>ShowWindow</CODE> to display the dialog box after its new item has been appended. (<A HREF=Toolbox-384.html#MARKER-9-231>"Displaying Alert and Dialog Boxes" beginning on page 6-61</A> describes more fully <BR>how to display dialog boxes.)<P>
 The appended item list resource includes a help item that causes the Help Manager to use the help resource associated with that item list resource in addition to the help resource originally associated with the dialog box. See the chapter "Help Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I> for information about using the <CODE>HMScanAppendhdlg</CODE> identifier in a help item.<P>
 <A HREF=#MARKER-9-219>Listing 6-13</A> uses the Resource Manager procedure <CODE>ReleaseResource</CODE>. The <CODE>AppendDITL</CODE> procedure modifies the contents of the dialog box (for instance, by enlarging it). To use an unmodified version of the dialog box at a later time, your application needs to use <CODE>ReleaseResource</CODE> to release the memory occupied by the appended item list. Otherwise, if your application calls <CODE>AppendDITL</CODE> to add items to that dialog box again, the dialog box will remain modified by your previous call--for example, it will still be longer at the bottom if you previously used the <CODE>appendDITLBottom<DFN> constant</DFN></CODE>.<P>
 When you can call the <CODE>ShortenDITL</CODE> procedure to remove items from the end of a dialog item list, you specify a pointer to the dialog box and the number of items to remove from the end of the item list. Note that <CODE>ShortenDITL</CODE> does not automatically resize the dialog box; you can use the Window Manager procedure <CODE>SizeWindow</CODE> if you need to resize the dialog box. You can use the <CODE>CountDITL</CODE> function to determine the number of items in the item list resource for a dialog box.<A NAME=MARKER-2-221></A><A NAME=MARKER-2-209></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-381.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-383.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
