<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Core Data Programming Guide: Using a Managed Object Model</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Using a Managed Object Model"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005190" title="Using a Managed Object Model"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../DesignGuidelines-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000556" target="_top">Design Guidelines</a> &gt; <a href="../index.html" target="_top">Core Data Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="cdMOM.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="cdManagedObjects.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40005190-SW1" title="Using a Managed Object Model"></a><hr /><H1>Using a Managed Object Model</H1><p>This article describes how you use a managed object model in your application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="cdUsingMOM.html#//apple_ref/doc/uid/TP40005190-SW8">Creating and Loading a Managed Object Model</a>
				
			<br/>
			
        
			
			
				<a href="cdUsingMOM.html#//apple_ref/doc/uid/TP40005190-SW9">Changing a Model</a>
				
			<br/>
			
        
			
			
				<a href="cdUsingMOM.html#//apple_ref/doc/uid/TP40005190-SW7">Accessing and Using a Managed Object Model at Runtime</a>
				
			<br/>
			
        
			
			
				<a href="cdUsingMOM.html#//apple_ref/doc/uid/TP40005190-SW13">Localizing a Managed Object Model</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40005190-SW8" title="Creating and Loading a Managed Object Model"></a><h2>Creating and Loading a Managed Object Model</h2><p>You usually create a model in Xcode, as described in <em><a href="../../CreatingMOMWithXcode/index.html#//apple_ref/doc/uid/TP40006311" target="_top">Creating a Managed Object Model with Xcode</a></em>. You can also create a model entirely in code, as show in <span class="content_text"><a href="cdUsingMOM.html#//apple_ref/doc/uid/TP40005190-SW4">Listing 3</a></span> and described in <em><a href="../../CoreDataUtilityTutorial/index.html#//apple_ref/doc/uid/TP40001800" target="_top">Core Data Utility Tutorial</a></em>—typically, however, this is too long-winded to consider in anything but the most trivial application. (You are nevertheless encouraged to review the tutorial to gain an understanding of what the modeling tool does, and in particular to gain an appreciation that the model is simply a collection of objects.)</p><a name="//apple_ref/doc/uid/TP40005190-SW5" title="Compiling a Data Model"></a><h3>Compiling a Data Model</h3><p>A data model is a deployment resource. In addition to details of the entities and properties in the model, a model you create in Xcode contains information about the diagram—its layout, colors of elements, and so on. This latter information is not needed at runtime. The model file is compiled to remove the extraneous information and make runtime loading of the resource as efficient as possible. The <code>xcdatamodel</code> "source" file is compiled into a <code>mom</code> deployment file using the model compiler, <code>momc</code>.</p><p><code>momc</code> is located in <code>/Library/Application Support/Apple/Developer Tools/Plug-ins/XDCoreDataModel.xdplugin/Contents/Resources/</code>. If you want to use it in your own build scripts, its usage is  <code>momc source destination</code>, where <em>source</em> is the path of the Core Data model to compile and <em>destination</em> is the path of the output <code>mom</code> file.</p><a name="//apple_ref/doc/uid/TP40005190-SW6" title="Loading a Data Model"></a><h3>Loading a Data Model</h3><p>In many cases, you do not have to write any code to load a model. If you use a document-based application, <code>NSPersistentDocument</code> manages the task of finding and loading your application's model for you. If you use the Core Data Application template, the application delegate includes code to retrieve the model. Note that the name of a model—as represented by the filename used to store it on disk—is not relevant at runtime. Once the model is loaded by Core Data, the filename is meaningless and has no use, so you can name the model file whatever you like.</p><p>If you want to load a model yourself, there are two mechanisms you can use, each with its own benefits:</p><ul class="spaceabove"><li class="li"><p>You can create a merged model from a specific collection of bundles, using the class method <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObjectModel_Class/Reference/Reference.html#//apple_ref/occ/clm/NSManagedObjectModel/mergedModelFromBundles:" target="_top">mergedModelFromBundles:</a></code>.</p></li><li class="li"><p>You can load a single model from a specific URL, using the instance method <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObjectModel_Class/Reference/Reference.html#//apple_ref/occ/instm/NSManagedObjectModel/initWithContentsOfURL:" target="_top">initWithContentsOfURL:</a></code>.</p></li></ul><p>The class method is useful in cases where segregation of models is not important—for example, you may know your application and a framework it links to both have models you need or want to load. The class method allows you to easily load all of the models at once without having to consider what the names are, or put in specialized initialization code to ensure all of your models are found</p><p>In cases where you have more than one model, however—and particularly in cases where the models represent different versions of the same schema—knowing which model to load is essential (merging together models with the same entities at runtime into a single collection would cause naming collisions and errors). In these situations, you use the instance method. Additionally, there may be situations when you want to store the model outside of the bundle for your application, thus requiring the need to reference it via a file-system URL.</p><p>Note there is also a class method, <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObjectModel_Class/Reference/Reference.html#//apple_ref/occ/clm/NSManagedObjectModel/modelByMergingModels:" target="_top">modelByMergingModels:</a></code>, which merges a given array of models much like the <code>mergedModelFromBundles:</code> method does. Thus, you can still load individual models via URLs and then unify them before instantiating a coordinator with them. </p><a name="//apple_ref/doc/uid/TP40005190-SW9" title="Changing a Model"></a><h2>Changing a Model</h2><p>Since a model describes the structure of the data in a persistent store, changing any parts of a model that alters the schema renders it incompatible with (and so unable to open) the stores it previously created. If you change your schema, you therefore need to migrate the data in existing stores to new version (see <span class="content_text"><a href="cdZ104Versioning.html#//apple_ref/doc/uid/TP40002989-SW1">“Mac OS X v10.4: Versioning”</a></span>). For example, if you add a new entity or a new attribute to an existing entity, you will not be able to open old stores; if you add a validation constraint or set a new default value for an attribute, you will be able to open old stores.</p><a name="//apple_ref/doc/uid/TP40005190-SW7" title="Accessing and Using a Managed Object Model at Runtime"></a><h2>Accessing and Using a Managed Object Model at Runtime</h2><p>It is important to realize that, at runtime, a managed object model is simply a graph of objects. This knowledge is especially useful if you need to gain access to details of the model programmatically. You might need to do this either to modify the model (you can do this only before it is used at runtime, see <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObjectModel_Class/Reference/Reference.html#//apple_ref/occ/cl/NSManagedObjectModel" target="_top">NSManagedObjectModel</a></code>), or to retrieve information such as a localized entity name, the data type of an attribute, or a fetch request template.</p><p>There are a number of ways you can access a managed object model at runtime. Through the persistence stack you ultimately get the model from the persistent store coordinator. Thus to get the model from a managed object context, you use the following code:</p><div class="codesample"><table><tr><td scope="row"><pre>[[aManagedObjectContext persistentStoreCoordinator] managedObjectModel];<span></span></pre></td></tr></table></div><p>You can also retrieve the model from an entity description, so given a managed object you can retrieve its entity description and hence the model, as shown in the following example.</p><div class="codesample"><table><tr><td scope="row"><pre>[[aManagedObject entity] managedObjectModel];<span></span></pre></td></tr></table></div><p>In some cases, you maintain a "direct" reference to the model—that is, a method that returns the model directly. <code>NSPersistentDocument</code> provides <code><a href="../../../Reference/ApplicationKit/Classes/NSPersistentDocument_Class/Reference/Reference.html#//apple_ref/occ/instm/NSPersistentDocument/managedObjectModel" target="_top">managedObjectModel</a></code> that returns the model associated with the persistent store coordinator used by the document's managed object context. If you use the Core Data Application template, the application delegate maintains a reference to the model.</p><a name="//apple_ref/doc/uid/TP40005190-SW10" title="Creating Fetch Request Templates Programmatically"></a><h3>Creating Fetch Request Templates Programmatically</h3><p>You can create fetch request templates programmatically and associate them with a model using <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObjectModel_Class/Reference/Reference.html#//apple_ref/occ/instm/NSManagedObjectModel/setFetchRequestTemplate:forName:" target="_top">setFetchRequestTemplate:forName:</a></code> as illustrated in <span class="content_text">Listing 1</span>. Recall, though, that you can only modify the model before it has been used by a store coordinator.</p><a name="//apple_ref/doc/uid/TP40005190-SW2" title="Listing 1Creating a fetch request template programmatically"></a><p class="codesample"><strong>Listing 1&nbsp;&nbsp;</strong>Creating a fetch request template programmatically</p><div class="codesample"><table><tr><td scope="row"><pre>NSManagedObjectModel *model = ...;<span></span></pre></td></tr><tr><td scope="row"><pre>NSFetchRequest *requestTemplate = [[NSFetchRequest alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>NSEntityDescription *publicationEntity =<span></span></pre></td></tr><tr><td scope="row"><pre>    [[model entitiesByName] objectForKey:@"Publication"];<span></span></pre></td></tr><tr><td scope="row"><pre>[requestTemplate setEntity:publicationEntity];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSPredicate *predicateTemplate = [NSPredicate predicateWithFormat:<span></span></pre></td></tr><tr><td scope="row"><pre>    @"(mainAuthor.firstName like[cd] $FIRST_NAME) AND \<span></span></pre></td></tr><tr><td scope="row"><pre>        (mainAuthor.lastName like[cd] $LAST_NAME) AND \<span></span></pre></td></tr><tr><td scope="row"><pre>        (publicationDate > $DATE)"];<span></span></pre></td></tr><tr><td scope="row"><pre>[requestTemplate setPredicate:predicateTemplate];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>[model setFetchRequestTemplate:requestTemplate<span></span></pre></td></tr><tr><td scope="row"><pre>    forName:@"PublicationsForAuthorSinceDate"];<span></span></pre></td></tr><tr><td scope="row"><pre>[requestTemplate release];<span></span></pre></td></tr></table></div>	<a name="//apple_ref/doc/uid/TP40005190-SW11" title="Accessing Fetch Request Templates"></a><h3>Accessing Fetch Request Templates</h3><p>You can retrieve and use a fetch request template as illustrated in the code fragment in <span class="content_text">“Accessing and Using a Managed Object Model at Runtime.”</span> The substitution dictionary must contain keys for all the variables defined in the template; if you want to test for a null value, you must use an <code>NSNull</code> object—see <span class="content_text"><a href="../../Predicates/Articles/pUsing.html#//apple_ref/doc/uid/TP40001794" target="_top">Using Predicates</a></span>.</p><a name="//apple_ref/doc/uid/TP40005190-SW12" title="Listing 2Using a fetch request template"></a><p class="codesample"><strong>Listing 2&nbsp;&nbsp;</strong>Using a fetch request template</p><div class="codesample"><table><tr><td scope="row"><pre>NSManagedObjectModel *model = ...;<span></span></pre></td></tr><tr><td scope="row"><pre>NSError *error = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>NSDictionary *substitutionDictionary = [NSDictionary dictionaryWithObjectsAndKeys:<span></span></pre></td></tr><tr><td scope="row"><pre>    @"Fiona", @"FIRST_NAME", @"Verde", @"LAST_NAME",<span></span></pre></td></tr><tr><td scope="row"><pre>    [NSDate dateWithTimeIntervalSinceNow:-31356000], @"DATE", nil];<span></span></pre></td></tr><tr><td scope="row"><pre>NSFetchRequest *fetchRequest =<span></span></pre></td></tr><tr><td scope="row"><pre>    [model fetchRequestFromTemplateWithName:@"PublicationsForAuthorSinceDate"<span></span></pre></td></tr><tr><td scope="row"><pre>            substitutionVariables:substitutionDictionary];<span></span></pre></td></tr><tr><td scope="row"><pre>NSArray *results =<span></span></pre></td></tr><tr><td scope="row"><pre>    [aManagedObjectContext executeFetchRequest:fetchRequest error:&amp;error];<span></span></pre></td></tr></table></div>	<p>If the template does not have substitution variables, you must either:</p><ol class="ol"><li class="li"><p>Use <code>fetchRequestFromTemplateWithName:substitutionVariables:</code> and pass <code>nil</code> as the variables argument; or</p></li><li class="li"><p>Use <code>fetchRequestTemplateForName:</code> and <code>copy</code> the result.</p><p>If you try to use the fetch request returned by <code>fetchRequestTemplateForName:</code>, this generates an exception ("<code>Can't modify a named fetch request in an immutable model</code>").</p></li></ol><a name="//apple_ref/doc/uid/TP40005190-SW13" title="Localizing a Managed Object Model"></a><h2>Localizing a Managed Object Model</h2><p>You can localize most aspects of a managed object model, including entity and property names and error messages. It is important to consider that localization also includes "localization into your own language." Even if you do not plan to provide foreign-language versions of your application, you can provide a better experience for your users if error messages show "natural language" names rather than "computer language" names (for example, "First Name is a required property" rather than "firstName is a required property").</p><p>You localize a model by providing a localization dictionary that follows the pattern shown in the table below.</p><a name="//apple_ref/doc/uid/TP40005190-SW3" title="Table 1Keys and values in a localization dictionary for a managed object model"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 1&nbsp;&nbsp;</strong>Keys and values in a localization dictionary for a managed object model</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Value</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Note</p></th></tr><tr><td  scope="row"><p><code>"Entity/</code>NonLocalizedEntityName<code>"</code></p></td><td ><p><code>"</code>LocalizedEntityName<code>"</code></p></td><td ><p></p></td></tr><tr><td  scope="row"><p><code>"Property/</code>NonLocalizedPropertyName<code>/Entity/</code>EntityName<code>"</code></p></td><td ><p><code>"</code>LocalizedPropertyName<code>"</code></p></td><td ><p>1</p></td></tr><tr><td  scope="row"><p><code>"Property/</code>NonLocalizedPropertyName<code>"</code></p></td><td ><p><code>"</code>LocalizedPropertyName<code>"</code></p></td><td ><p></p></td></tr><tr><td  scope="row"><p><code>"ErrorString/</code>NonLocalizedErrorString<code>"</code></p></td><td ><p><code>"</code>LocalizedErrorString<code>"</code></p></td><td ><p></p></td></tr></table></div><p>Note: (1) For properties in different entities with the same non-localized name but which should have different localized names.</p><p>You can access the localization dictionary using the method <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObjectModel_Class/Reference/Reference.html#//apple_ref/occ/instm/NSManagedObjectModel/localizationDictionary" target="_top">localizationDictionary</a></code>. Note, however, that in the implementation in Mac OS X version 10.4, <code>localizationDictionary</code> may return <code>nil</code> until Core Data lazily loads the dictionary for its own purposes (for example, reporting a localized error). </p><a name="//apple_ref/doc/uid/TP40005190-SW14" title="Strings File"></a><h3>Strings File</h3><p>The easiest way to localize a model is to create a corresponding strings file—the strings file name is the same as the model file name, but with a <code>.strings</code> rather than a <code>.xcdatamodel</code> extension (for example, for a model file named <code>MyDocument.xcdatamodel</code> the corresponding strings file is <code>MyDocumentModel.strings</code>—if your model file name already includes the suffix "Model", you must append a further "Model", so the strings file corresponding to <code>JimsModel.xcdatamodel</code> would be the rather unlikely-looking <code>JimsModelModel.strings</code>). The file format is similar to a standard strings file you use for localization (see <span class="content_text"><a href="../../../../MacOSX/Conceptual/BPInternational/Articles/StringsFiles.html#//apple_ref/doc/uid/20000005" target="_top">Strings Files</a></span>) but the key and value pattern follows that shown in <span class="content_text"><a href="cdUsingMOM.html#//apple_ref/doc/uid/TP40005190-SW3">Table 1</a></span>.</p><p>A strings file for a model that includes an employee entity might contain the following:</p><div class="codesample"><table><tr><td scope="row"><pre>"Entity/Emp" = "Employee";<span></span></pre></td></tr><tr><td scope="row"><pre>"Property/firstName" = "First Name";<span></span></pre></td></tr><tr><td scope="row"><pre>"Property/lastName" = "Last Name";<span></span></pre></td></tr><tr><td scope="row"><pre>"Property/salary" = "Salary";<span></span></pre></td></tr></table></div>	<p>A further example is given in <em><a href="../../NSPersistentDocumentTutorial/index.html#//apple_ref/doc/uid/TP40001799" target="_top">NSPersistentDocument Core Data Tutorial</a></em>.</p><a name="//apple_ref/doc/uid/TP40005190-SW15" title="Setting a Localization Dictionary Programmatically"></a><h3>Setting a Localization Dictionary Programmatically</h3><p>You can set a localization dictionary at runtime using the <code>NSManagedObjectModel</code> method <code>setLocalizationDictionary:</code>. You must create a dictionary with keys and values as shown in <span class="content_text"><a href="cdUsingMOM.html#//apple_ref/doc/uid/TP40005190-SW3">Table 1</a></span>, and associate it with the model. You must ensure you do this before the model is used to fetch or create managed objects, as the model is uneditable thereafter. The listing shown in <span class="content_text"><a href="cdUsingMOM.html#//apple_ref/doc/uid/TP40005190-SW4">Listing 3</a></span> illustrates the creation in code of a managed object model including a localization dictionary. The entity is named "Run" and is represented at runtime by the Run class. The entity has two attributes, "date" and "processID"—a date and an integer respectively. The process ID has a constraint that its value must not be less than zero.</p><a name="//apple_ref/doc/uid/TP40005190-SW4" title="Listing 3Creating a managed object model in code"></a><p class="codesample"><strong>Listing 3&nbsp;&nbsp;</strong>Creating a managed object model in code</p><div class="codesample"><table><tr><td scope="row"><pre>NSManagedObjectModel *mom = [[NSManagedObjectModel alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>NSEntityDescription *runEntity = [[NSEntityDescription alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>[runEntity setName:@"Run"];<span></span></pre></td></tr><tr><td scope="row"><pre>[runEntity setManagedObjectClassName:@"Run"];<span></span></pre></td></tr><tr><td scope="row"><pre>[mom setEntities:[NSArray arrayWithObject:runEntity]];<span></span></pre></td></tr><tr><td scope="row"><pre>[runEntity release];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSMutableArray *runProperties = [NSMutableArray array];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSAttributeDescription *dateAttribute = [[NSAttributeDescription alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>[runProperties addObject:dateAttribute];<span></span></pre></td></tr><tr><td scope="row"><pre>[dateAttribute release];<span></span></pre></td></tr><tr><td scope="row"><pre>[dateAttribute setName:@"date"];<span></span></pre></td></tr><tr><td scope="row"><pre>[dateAttribute setAttributeType:NSDateAttributeType];<span></span></pre></td></tr><tr><td scope="row"><pre>[dateAttribute setOptional:NO];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSAttributeDescription *idAttribute= [[NSAttributeDescription alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>[runProperties addObject:idAttribute];<span></span></pre></td></tr><tr><td scope="row"><pre>[idAttribute release];<span></span></pre></td></tr><tr><td scope="row"><pre>[idAttribute setName:@"processID"];<span></span></pre></td></tr><tr><td scope="row"><pre>[idAttribute setAttributeType:NSInteger32AttributeType];<span></span></pre></td></tr><tr><td scope="row"><pre>[idAttribute setOptional:NO];<span></span></pre></td></tr><tr><td scope="row"><pre>[idAttribute setDefaultValue:[NSNumber numberWithInt:0]];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSPredicate *validationPredicate = [NSPredicate predicateWithFormat:@"SELF >= 0"];<span></span></pre></td></tr><tr><td scope="row"><pre>NSString *validationWarning = @"Process ID &lt; 0";<span></span></pre></td></tr><tr><td scope="row"><pre>[idAttribute setValidationPredicates:[NSArray arrayWithObject:validationPredicate]<span></span></pre></td></tr><tr><td scope="row"><pre>    withValidationWarnings:[NSArray arrayWithObject:validationWarning]];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>[runEntity setProperties:runProperties];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSMutableDictionary *localizationDictionary = [NSMutableDictionary dictionary];<span></span></pre></td></tr><tr><td scope="row"><pre>[localizationDictionary setObject:@"Process ID"<span></span></pre></td></tr><tr><td scope="row"><pre>    forKey:@"Property/processID/Entity/Run"];<span></span></pre></td></tr><tr><td scope="row"><pre>[localizationDictionary setObject:@"Date"<span></span></pre></td></tr><tr><td scope="row"><pre>    forKey:@"Property/date/Entity/Run"];<span></span></pre></td></tr><tr><td scope="row"><pre>[localizationDictionary setObject:@"Process ID must not be less than 0"<span></span></pre></td></tr><tr><td scope="row"><pre>    forKey:@"ErrorString/Process ID &lt; 0"];<span></span></pre></td></tr><tr><td scope="row"><pre>[mom setLocalizationDictionary:localizationDictionary];<span></span></pre></td></tr></table></div>	

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="cdMOM.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="cdManagedObjects.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-03-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CoreData/Articles/cdUsingMOM.html%3Fid%3DTP40001075-5.6&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CoreData/Articles/cdUsingMOM.html%3Fid%3DTP40001075-5.6&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CoreData/Articles/cdUsingMOM.html%3Fid%3DTP40001075-5.6&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
