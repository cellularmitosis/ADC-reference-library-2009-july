<HTML>		<HEAD>		<TITLE>			EOQualifier		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "BBIDFIHI"><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/occ/cl/EOQualifier">EOQualifier</a></FONT></h1><br></a><blockquote><dl><dt><b>Inheritsfrom: </b></dt><dd> NSObject</dd></dl></blockquote><blockquote><dl><dt><b>Conforms to: </b></dt><dd> NSCopying</dd></dl></blockquote><blockquote><dl><b>Declared in: </b><dd>EOControl/EOQualifier.h </dd></dl></blockquote><br><br><HR SIZE=4><br><h2>Class Description</h2><hr><p>EOQualifier is an abstract class for objects that hold informationused to restrict selections on objects or database rows accordingto specified criteria. With the exception of EOSQLQualifier (EOAccess), qualifiersaren't based on SQL and they don't rely upon an EOModel (EOAccess).Thus, the same qualifier can be used both to perform in-memory searchesand to fetch from the database. </p><p>You never instantiate an instance of EOQualifier. Rather,you use one of its subclasses-one of the following or your owncustom EOQualifier subclass:</p><br><table border = "1"><tr><td scope="row"><b>Subclass</b></td><td><b>Purpose</b></td></tr><tr><td scope="row"> <a frame= "conv" href="../Classes/EOKeyValueQualifier.html#KeyValueQualifier">EOKeyValueQualifier</a></td><td>Compares the named property of an object to a supplied value,for example, "weight &gt; 150". </td></tr><tr><td scope="row"> <a frame= "conv" href="../Classes/EOKeyComparisonQlfr.html#KeyComparisonQualifier">EOKeyComparisonQualifier</a></td><td>Compares the named property of one object with the namedproperty of another, for example "name = wife.name".</td></tr><tr><td scope="row"> <a frame= "conv" href="../Classes/EOAndQualifier.html#AndQualifier">EOAndQualifier</a> </td><td>Contains multiple qualifiers, which it conjoins. For example,"name = 'Fred' AND age &lt; 20".</td></tr><tr><td scope="row"> <a frame= "conv" href="../Classes/EOOrQualifier.html#EOOrQualifier">EOOrQualifier</a></td><td>Contains multiple qualifiers, which it disjoins. For example,"name = 'Fred' OR name = 'Ethel'".</td></tr><tr><td scope="row"> <a frame= "conv" href="../Classes/EONotQualifier.html#EONotQualifier">EONotQualifier</a></td><td>Contains a single qualifier, which it negates. For example, "NOT(name = 'Fred')".</td></tr><tr><td scope="row">EOSQLQualifier</td><td>Contains unstructured text that can be transformed intoa SQL expression. EOSQLQualifier provides a way to create SQL expressionswith any arbitrary SQL. Because EOSQLQualifiers can't be evaluatedagainst objects in memory and because they contain database and SQL-specificcontent, you should use EOQualifier wherever possible.</td></tr></table><br><p>The protocol EOQualifierEvaluation defines how qualifiersare evaluated in memory. To evaluate qualifiers in a database, methodsin EOSQLExpression (EOAccess) and EOEntity (EOAccess) are used togenerate SQL for qualifiers. Note that all of the SQL generationfunctionality is contained in the access layer.</p><p>For more information on using EOQualifiers, see the sections</p><ul><li> <a frame= "conv" href="../Classes/More/EOQualifier.html#BCCBFIFH">"Creating a Qualifier" </a></li><li> <a frame= "conv" href="../Classes/More/EOQualifier.html#BBICFCJF">"Constructing Format Strings" </a></li><li> <a frame= "conv" href="../Classes/More/EOQualifier.html#BCCDHDCI">"Checking for NULL Values" </a></li><li> <a frame= "conv" href="../Classes/More/EOQualifier.html#BBIBIBAB">"Using Wildcards and the like Operator" </a></li><li> <a frame= "conv" href="../Classes/More/EOQualifier.html#BCCDDGCJ">"Using Selectors in Qualifier Expressions" </a></li><li> <a frame= "conv" href="../Classes/More/EOQualifier.html#BBIDFEAF">"Using Different Data Types in Format Strings" </a></li><li> <a frame= "conv" href="../Classes/More/EOQualifier.html#BCCBHHGC">"Using EOQualifier's Subclasses" </a></li><li> <a frame= "conv" href="../Classes/More/EOQualifier.html#BCCDDGCH">"Creating Subclasses" </a></li></ul><br><br><br><h2>Constants</h2><hr><p>In <tt>EOQualifier.h</tt>, EOControl defines thefollowing selector constants to represent the qualifier operators:</p><br><table border = "1"><tr><td scope="row"><a name = "BBIBDHCA"><tt>EOQualifierOperatorEqual</tt></a></td><td><a name = "BBIDJEGE"><tt>EOQualifierOperatorGreaterThanOrEqualTo</tt></a></td></tr><tr><td scope="row"><a name = "BBICBFCH"><tt>EOQualifierOperatorNotEqual</tt></a></td><td><a name = "BBIDFJGF"><tt>EOQualifierOperatorContains</tt></a></td></tr><tr><td scope="row"><a name = "BBICEDDI"><tt>EOQualifierOperatorLessThan</tt></a></td><td><a name = "BBICCEAA"><tt>EOQualifierOperatorLike</tt></a></td></tr><tr><td scope="row"><a name = "BBICDDBJ"><tt>EOQualifierOperatorGreaterThan</tt></a></td><td><a name = "BBICJCBE"><tt>EOQualifierOperatorCaseInsensitiveLike</tt></a></td></tr><tr><td scope="row"><a name = "BBIDDGEB"><tt>EOQualifierOperatorLessThanOrEqualTo</tt></a></td><td>&nbsp;</td></tr></table><br><br><br><h2>Adopted Protocols</h2><hr><blockquote><dl> NSCopying </dl></blockquote><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Creating a qualifier</dt><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/qualifierWithQualifierFormat:">+ qualifierWithQualifierFormat:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/stringForOperatorSelector:">+ stringForOperatorSelector:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/qualifierToMatchAllValues:">+ qualifierToMatchAllValues:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/qualifierToMatchAnyValue:">+ qualifierToMatchAnyValue:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOQualifier/qualifierWithBindings:requiresAllVariables:">- qualifierWithBindings:requiresAllVariables:</a></dd></dl><dl><dt>In-memory filtering</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOQualifier/evaluateWithObject:">- evaluateWithObject:</a></dd></dl><dl><dt>Converting strings andoperators</dt><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/operatorSelectorForString:">+ operatorSelectorForString:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/stringForOperatorSelector:">+ stringForOperatorSelector:</a></dd></dl><dl><dt>Get EOQualifier operators</dt><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/allQualifierOperators">+ allQualifierOperators</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/relationalQualifierOperators">+ relationalQualifierOperators</a></dd></dl><dl><dt>Accessing a qualifierskeys</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOQualifier/allQualifierKeys">- allQualifierKeys</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOQualifier/addQualifierKeysToSet:">- addQualifierKeysToSet:</a></dd></dl><dl><dt>Accessing a qualifier'sbinding keys</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOQualifier/bindingKeys">- bindingKeys</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOQualifier/keyPathForBindingKey:">- keyPathForBindingKey:</a></dd></dl><dl><dt>Validating a qualifier'skeys</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOQualifier/validateKeysWithRootClassDescription:">- validateKeysWithRootClassDescription:</a></dd></dl></blockquote><br><br><h2>Class Methods</h2><hr><a name = "BFCCIIHI"><BR><h3><a name="//apple_ref/occ/clm/EOQualifier/allQualifierOperators">allQualifierOperators</a></h3></a><p><code>+ (NSArray *)<b>allQualifierOperators</b></code></p>Returns an NSArray containing all of the operatorssupported by EOQualifier: =, !=, &lt;, &lt;=, &gt;, &gt;=, "like", and"caseInsensitiveLike".<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/relationalQualifierOperators">+ relationalQualifierOperators</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "operatorSelectorForString_"><BR><h3><a name="//apple_ref/occ/clm/EOQualifier/operatorSelectorForString:">operatorSelectorForString:</a></h3></a><p><code>+ (SEL)<b>operatorSelectorForString:</b>(NSString*)<em>aString</em></code></p>Returns an operator selector based on the string <em>aString</em>.This method is used in parsing a qualifier. For example, the followingstatement returns the selector <b>isNotEqualTo:</b>.<blockquote><pre>selector = [EOQualifier operatorSelectorForString:@"!="];</pre></blockquote><br><p>Thepossible values of <em>aString</em> are  =,==, !=, &lt;, &gt;, &lt;=, &gt;=, "like", and "caseInsensitiveLike".</p><p>You'dprobably only use this method if you were writing your own qualifierparser.</p><p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/stringForOperatorSelector:">+ stringForOperatorSelector:</a> </p><hr WIDTH=25% ALIGN=LEFT><a name = "BFCBEABA"><BR><h3><a name="//apple_ref/occ/clm/EOQualifier/qualifierToMatchAllValues:">qualifierToMatchAllValues:</a></h3></a><p><code>+ (EOQualifier *)<b>qualifierToMatchAllValues:</b>(NSDictionary*)<em>values</em></code></p>Takes a dictionary of search criteria, fromwhich the method creates EOKeyValueQualifiers (one for each dictionaryentry). The method ANDs these qualifiers together, and returns theresulting EOAndQualifier.<hr WIDTH=25% ALIGN=LEFT><a name = "BFCDHHJF"><BR><h3><a name="//apple_ref/occ/clm/EOQualifier/qualifierToMatchAnyValue:">qualifierToMatchAnyValue:</a></h3></a><p><code>+ (EOQualifier *)<b>qualifierToMatchAnyValue:</b>(NSDictionary*)<em>values</em></code></p>Takes a dictionary of search criteria, fromwhich the method creates EOKeyValueQualifiers (one for each dictionaryentry). The method ORs these qualifiers together, and returns theresulting EOOrQualifier.<hr WIDTH=25% ALIGN=LEFT><a name = "qualifierWithQualifierFormat_"><BR><h3><a name="//apple_ref/occ/clm/EOQualifier/qualifierWithQualifierFormat:">qualifierWithQualifierFormat:</a></h3></a><p><code>+ (EOQualifier *)<b>qualifierWithQualifierFormat:</b>(NSString*)<em>qualifierFormat,</em><em>...</em></code></p>Parses the format string <em>qualifierFormat</em>,uses it to create an EOQualifier, and returns the EOQualifier. <p>Basedon the content of <em>qualifierFormat</em>,this method generates a tree of the basic qualifier types. For example,the format string "firstName = 'Joe' AND department = 'Facilities'"generates an EOAndQualifier that contains two "sub" EOKeyValueQualifiers.The following code excerpt shows a typical way to use the <b>qualifierWithQualifierFormat:</b> method.The excerpt constructs an EOFetchSpecification, which includes anentity name and a qualifier. It then applies the EOFetchSpecificationto the EODisplayGroup's data source and tells the EODisplayGroupto fetch.</p><blockquote><pre>EODisplayGroup *displayGroup;     /* Assume this exists.*/EOFetchSpecification *fetchSpec;EODatabaseDataSource *dataSource;    dataSource = [displayGroup dataSource];    fetchSpec = [EOFetchSpecification     fetchSpecificationWithEntityName:@"Member"    qualifier:[EOQualifier qualifierWithQualifierFormat:            @"cardType = 'Visa' "]    sortOrderings:nil];    [dataSource setFetchSpecification:fetchSpec];[displayGroup fetch];</pre></blockquote><br><p><b>qualifierWithQualifierFormat</b> performsno verification to ensure that keys referred to by the format string <em>qualifierFormat</em> exist.It raises an NSInvalidArgumentException if <em>qualifierFormat</em> containsany syntax errors.</p><hr WIDTH=25% ALIGN=LEFT><BR><h3><a name="//apple_ref/occ/clm/EOQualifier/qualifierWithQualifierFormat:arguments:">qualifierWithQualifierFormat:arguments:</a></h3><p><code>+ (EOQualifier *)<b>qualifierWithQualifierFormat:</b>(NSString*)<em>qualifierFormat</em><b>arguments:</b>(NSArray *)<em>arguments</em></code></p>Parses the format string <em>qualifierFormat</em> andthe specified <em>arguments</em>, uses themto create an EOQualifier, and returns the EOQualifier. This methodis equivalent to <b>qualifierWithQualifierFormat:</b> exceptthat format characters (for example, %@, %d, %f) in <em>qualifierFormat</em> causethe method to search in the arguments array for values rather thanin a variable argument list. Note that although %d and %f can beused when constructing qualifiers, they don't work with most otherstring formatting methods such as NSString's <b>stringWithFormat:</b>.<hr WIDTH=25% ALIGN=LEFT><BR><h3><b><a name="//apple_ref/occ/clm/EOQualifier/qualifierWithQualifierFormat:varargList:">qualifierWithQualifierFormat:varargList:</a></b></h3><p><code>+ (EOQualifier *)<b>qualifierWithQualifierFormat:</b>(NSString*)<em>format</em><b>varargList:</b>(va_list)<em>args</em></code></p>Parses the format string <em>qualifierFormat</em> andthe corresponding arguments in <em>args</em>,uses the arguments to create an EOQualifier, and returns the EOQualifier.This method is equivalent to <b>qualifierWithQualifierFormat:</b>.<hr WIDTH=25% ALIGN=LEFT><a name = "BFCEADAB"><BR><h3><a name="//apple_ref/occ/clm/EOQualifier/relationalQualifierOperators">relationalQualifierOperators</a></h3></a><p><code>+ (NSArray *)<b>relationalQualifierOperators</b></code></p>Returns an NSArray containing all of the relationaloperators supported by EOQualifier: =, !=, &lt;, &lt;=, &gt;, and&gt;=. In other words, returns all of the EOQualifier operatorsexcept for the ones that work exclusively on strings: "like"and "caseInsensitiveLike".<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/allQualifierOperators">+ allQualifierOperators</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "stringForOperatorSelector_"><BR><h3><a name="//apple_ref/occ/clm/EOQualifier/stringForOperatorSelector:">stringForOperatorSelector:</a></h3></a><p><code>+ (NSString *)<b>stringForOperatorSelector:</b>(SEL)<em>aSelector</em></code></p>Returns a string representation of the selector <em>aSelector</em>.For example, the following statement returns the string "!=":<blockquote><pre>operator = [EOQualifier stringForOperatorSelector:EOQualifierOperatorNotEqual];</pre></blockquote><br><p>Thepossible values for <em>selector</em> areas follows:</p><ul><li> <a frame= "conv" href="#BBIBDHCA">EOQualifierOperatorEqual</a></li><li> <a frame= "conv" href="#BBICBFCH">EOQualifierOperatorNotEqual</a></li><li> <a frame= "conv" href="#BBICEDDI">EOQualifierOperatorLessThan</a></li><li> <a frame= "conv" href="#BBICDDBJ">EOQualifierOperatorGreaterThan</a></li><li> <a frame= "conv" href="#BBIDDGEB">EOQualifierOperatorLessThanOrEqualTo</a></li><li> <a frame= "conv" href="#BBIDJEGE">EOQualifierOperatorGreaterThanOrEqualTo</a></li><li> <a frame= "conv" href="#BBIDFJGF">EOQualifierOperatorContains</a></li><li> <a frame= "conv" href="#BBICCEAA">EOQualifierOperatorLike</a></li><li> <a frame= "conv" href="#BBICJCBE">EOQualifierOperatorCaseInsensitiveLike</a></li></ul><p>You'dprobably use this method only if you were writing your own parser.</p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/clm/EOQualifier/operatorSelectorForString:">+ operatorSelectorForString:</a> </p><hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Instance Methods</h2><hr><a name = "BCCBCJDB"><BR><h3><a name="//apple_ref/occ/instm/EOQualifier/addQualifierKeysToSet:">addQualifierKeysToSet:</a></h3></a><p><code>- (void)<b>addQualifierKeysToSet:</b>(NSMutableSet*)<em>qualKeys</em></code></p>Adds the receiver's qualifier keys to <em>qualKeys</em>.The subclasses in the EOControl framework do this by traversingthe tree of qualifiers. Node qualifiers (such as EOAndQualifier)recursively invoke this method until they reach a leaf qualifier(such as EOKeyValueQualifier) which adds its key to the set. <p>Subclassesof EOQualifier must implement this method.</p><hr WIDTH=25% ALIGN=LEFT><a name = "BCCBCIEG"><BR><h3><a name="//apple_ref/occ/instm/EOQualifier/allQualifierKeys">allQualifierKeys</a></h3></a><p><code>- (NSSet *)<b>allQualifierKeys</b></code></p>Returns an NSSet of strings, which are the left-handsides of all the qualifiers in the receiver. For example, if youhave a qualifier<p> salary &gt; 10000 AND manager.lastName ='smith'</p><p><b>allQualifierKeys</b> returnsan array containing the strings "salary" and "manager.lastName".</p><p>Subclassesshould not override this method, instead they should override  <a frame= "conv" href="#//apple_ref/occ/instm/EOQualifier/addQualifierKeysToSet:">addQualifierKeysToSet:</a>.</p><hr WIDTH=25% ALIGN=LEFT><a name = "BFCBHGIH"><BR><h3><a name="//apple_ref/occ/instm/EOQualifier/bindingKeys">bindingKeys</a></h3></a><p><code>- (NSArray *)<b>bindingKeys</b></code></p>Returns an array of strings which are the namesof the known variables. Multiple occurrences of the same variablewill only appear once in this list.<hr WIDTH=25% ALIGN=LEFT><a name = "BCCDCHEC"><BR><h3><a name="//apple_ref/occ/instm/EOQualifier/evaluateWithObject:">evaluateWithObject:</a></h3></a><p><code>- (BOOL)<b>evaluateWithObject:</b>(id)<em>object</em></code></p>Implemented by subclasses to return <code>YES</code> if <em>object</em> matchesthe criteria specified in the receiver, <code>NO</code> otherwise.The argument, object, should be an enterprise object, a snapshotdictionary, or something that implements key-value coding.<hr WIDTH=25% ALIGN=LEFT><a name = "BFCCAAHE"><BR><h3><a name="//apple_ref/occ/instm/EOQualifier/keyPathForBindingKey:">keyPathForBindingKey:</a></h3></a><p><code>- (NSString *)<b>keyPathForBindingKey:</b>(NSString*)<em>key</em></code></p>Returns a string which is the "left-hand-side"of the variable in the qualifier. e.g. If you have a qualifier "salary&gt; $amount and manager.lastName = $manager", then calling bindingKeyswould return the array ("amount", "manager"). Calling <b>keyPathForBindingKey</b> wouldreturn salary for amount, and manager.lastname for manager.<hr WIDTH=25% ALIGN=LEFT><a name = "BFCEAGDH"><BR><h3><a name="//apple_ref/occ/instm/EOQualifier/qualifierWithBindings:requiresAllVariables:">qualifierWithBindings:requiresAllVariables:</a></h3></a><p><code>- (EOQualifier *)<b>qualifierWithBindings:</b>(NSDictionary*)<em>bindings</em><b>requiresAllVariables:</b>(BOOL)<em>requiresAll</em></code></p>Returns a new qualifier substituting all variableswith values found in <em>bindings</em>. If <em>requiresAll</em> is YES, anyvariable not found in <em>bindings</em> raisesan EOQualifierVariableSubstitutionException. If <em>requiresAll</em> is NO,missing variable values cause the qualifier node to be pruned fromthe tree.<hr WIDTH=25% ALIGN=LEFT><a name = "validateKeysWithRootClassDescription_"><BR><h3><a name="//apple_ref/occ/instm/EOQualifier/validateKeysWithRootClassDescription:">validateKeysWithRootClassDescription:</a></h3></a><p><code>- (NSException *)<b>validateKeysWithRootClassDescription:</b>(EOClassDescription*)<em>classDesc</em></code></p>Ensures that the receiver contains keys andkey paths that belong to or originate from <em>classDesc</em>.This method returns an NSInternalInconsistencyException if an unknownkey is found, otherwise it returns <code>nil</code> toindicate that the keys contained by the qualifier are valid.<hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>