<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>HIToolbar Programming Guide: HIToolbar Concepts</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="HIToolbar Concepts"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000958-CH201" title="HIToolbar Concepts"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../HumanInterfaceToolbox-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000516" target="_top">Human Interface Toolbox</a> &gt; <a href="HIToolbar_concept.html#//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_2">HIToolbar Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../HIToolbar_tasks/HIToolbar_tasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_2" title="HIToolbar Concepts"></a><h1><a name="//apple_ref/doc/uid/TP40000958-CH201-TPXREF101" title="HIToolbar Concepts"></a>HIToolbar Concepts</h1><div class="notebox"><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_3" title="Note"></a><p><strong>Note:</strong>&nbsp;This document was previously titled <em>Using HIToolbar</em>.</p></div><p>This chapter explains the concepts behind the Carbon HIToolbar. It describes the basic look and feel of a toolbar from a user’s perspective, as well as “under-the-hood” details of how toolbars fit into the HIObject model. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_4" title="Note"></a><p><strong>Note:</strong>&nbsp;This document assumes you are familiar with the basics of Carbon event handling and manipulating HIObjects. If you are not familiar with these topics, see the documents <em><a href="../../Carbon_Event_Manager/index.html#//apple_ref/doc/uid/TP30000989" target="_top">Carbon Event Manager Programming Guide</a></em> and <em><a href="../../HIViewDoc/index.html#//apple_ref/doc/uid/TP30000923" target="_top">HIView Programming Guide</a></em>. </p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="HIToolbar_concept.html#//apple_ref/doc/uid/TP40000958-CH201-TPXREF102">What Is a Toolbar?</a>
				
			<br/>
			
        
			
			
				<a href="HIToolbar_concept.html#//apple_ref/doc/uid/TP40000958-CH201-TPXREF114">The Toolbar as HIObject</a>
				
			<br/>
			
        
			
			
				<a href="HIToolbar_concept.html#//apple_ref/doc/uid/TP40000958-CH201-TPXREF115">Built-In Functionality</a>
				
			<br/>
			
        
			
			
				<a href="HIToolbar_concept.html#//apple_ref/doc/uid/TP40000958-CH201-TPXREF116">System Requirements</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000958-CH201-TPXREF102" title="What Is a Toolbar?"></a><h2>What Is a Toolbar?</h2><p>A toolbar is a special container displayed directly underneath a window’s title bar as shown in <span class="content_text">Figure 1-1</span>. A toolbar can contain multiple toolbar items, which act as buttons or other controls. The user can show or hide the toolbar by clicking on the clear oblong “toolbar button” in the upper right corner of the window. A typical toolbar item displays an icon and is activated by a user click. While some items may simply mimic a simple push button, others may contain controls such as pop-up menus and search fields. </p><br/><div><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_5" title="Figure 1-1A toolbar"></a><p><a name="//apple_ref/doc/uid/TP40000958-CH201-CJBEEBFF" title="Figure 1-1A toolbar"></a><strong>Figure 1-1&nbsp;&nbsp;</strong>A toolbar</p><img src = "../art/simpletoolbar.gif" alt = "A toolbar" width="416" height="116"></div><br/><p>A toolbar can display its items as a combination of graphical image and text, text only, or graphics only, with two different sizes. The user can select view modes using a contextual menu displayed by control-clicking in the toolbar or cycle through all available modes by command-clicking the toolbar button. The user can also choose view modes while in the configuration sheet (as shown in <span class="content_text"><a href="HIToolbar_concept.html#//apple_ref/doc/uid/TP40000958-CH201-TPXREF117">Figure 1-3</a></span>. </p><p>The same toolbar can appear in multiple windows, providing a convenient way to access application features from a document. An application can also have multiple toolbars. For example, the Mail application has different toolbars for mail documents and viewer windows. </p><p>One advantage of a toolbar over a standard floating palette or other application-defined window is that the contents are user-configurable. The user has three ways to customize a toolbar’s contents: </p><ul class="ul"><li class="li"><p>The user can rearrange items in the toolbar (in Mac OS X v. 10.2.4 and later) by command-dragging them around, as shown in <span class="content_text">Figure 1-2</span>. The user can also remove items entirely by command-dragging and releasing them outside the toolbar.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_6" title="Figure 1-2Dragging toolbar items"></a><p><a name="//apple_ref/doc/uid/TP40000958-CH201-CJBFJGAJ" title="Figure 1-2Dragging toolbar items"></a><strong>Figure 1-2&nbsp;&nbsp;</strong>Dragging toolbar items</p><img src = "../art/toolbardrag.gif" alt = "Dragging toolbar items" width="416" height="114"></div></li><li class="li"><p>If the toolbar supports drag-and-drop, the user may be able to create toolbar items by dragging specific data to the toolbar. For example, in Finder windows, a user can create folder items by dragging a folder into the toolbar. Another application could create a special URL item when the user drags text into the toolbar from a browser. </p></li><li class="li"><p>If the toolbar is configurable, the user can bring up a sheet containing all the toolbar items supported by the application (excluding drag-and-drop items). The user can view the configuration sheet by choosing Customize Toolbar in the contextual menu brought up by control clicking in the toolbar or by command-option-clicking in the toolbar button. </p></li></ul><br/><div><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_7" title="Figure 1-3The toolbar configuration sheet"></a><p><a name="//apple_ref/doc/uid/TP40000958-CH201-TPXREF117" title="Figure 1-3The toolbar configuration sheet"></a><strong>Figure 1-3&nbsp;&nbsp;</strong>The toolbar configuration sheet</p><img src = "../art/customizesheet.gif" alt = "The toolbar configuration sheet" width="385" height="360"></div><br/><p>Changes made to the toolbar in one window automatically propagate to other windows sharing the same toolbar. The toolbar configuration is automatically stored in the user’s Preferences folder when the application quits. </p><p>The toolbar can support any number of toolbar items. If there are more items than can be displayed in the window, the user can select the excess items using an overflow pop-up menu., as shown in <span class="content_text">Figure 1-4</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_8" title="Figure 1-4The toolbar overflow menu"></a><p><a name="//apple_ref/doc/uid/TP40000958-CH201-CJBEFEEB" title="Figure 1-4The toolbar overflow menu"></a><strong>Figure 1-4&nbsp;&nbsp;</strong>The toolbar overflow menu</p><img src = "../art/toolbaroverflow.gif" alt = "The toolbar overflow menu" width="403" height="186"></div><br/><a name="//apple_ref/doc/uid/TP40000958-CH201-TPXREF114" title="The Toolbar as HIObject"></a><h2>The Toolbar as HIObject</h2><p>In Carbon, the HIToolbar class is a subclass of HIObject (also introduced with Mac OS X v.10.2), which is the base class for all user interface objects in Carbon. <span class="content_text"><a href="HIToolbar_concept.html#//apple_ref/doc/uid/TP40000958-CH201-CJBCJHGJ">Figure 1-5</a></span> shows how toolbars and toolbar items fit into the HIObject class hierarchy.</p><br/><div><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_9" title="Figure 1-5The HIObject class hierarchy"></a><p><a name="//apple_ref/doc/uid/TP40000958-CH201-CJBCJHGJ" title="Figure 1-5The HIObject class hierarchy"></a><strong>Figure 1-5&nbsp;&nbsp;</strong>The HIObject class hierarchy</p><img src = "../art/hiviewhierarchy.gif" alt = "The HIObject class hierarchy" width="389" height="187"></div><br/><p>The HIToolbar object is not associated with any window, and as such is not part of the standard event containment hierarchy. However, for each window in which a toolbar is to appear, the toolbar object creates toolbar views and toolbar item views and embeds them in that window’s root view. These views are automatically updated when the toolbar contents change. </p><a name="//apple_ref/doc/uid/TP40000958-CH201-CJBEGAEF" title="Model-View-Controller for HIToolbar"></a><h3>Model-View-Controller for HIToolbar</h3><p>The Carbon toolbar follows the model-view controller convention as follows:</p><ul class="spaceabove"><li class="li"><p>The model is the list of toolbar items in a toolbar as well as the data each toolbar item displays or alters. In the HIToolbar API, these elements correspond to the HIToolbar and HIToolbarItem objects. </p></li><li class="li"><p>The view is the visual representation of the toolbar and its items. A toolbar often has multiple views (one for each window that displays it), each of which shows a custom display of the HIToolbar model (depending on the size of the window and toolbar items, visibility of individual items, and so on). In the HIToolbar API, the view corresponds to the various HIViews created by the toolbar and its toolbar items. </p></li><li class="li"><p>The controller is the code that determines how the view displays the model. For HIToolbar, all of the following correspond to the controller:</p><ul class="nested"><li class="nested li"><p>application-defined code that creates and manages views in custom toolbar items </p></li><li class="nested li"><p>code that modifies application data in response to clicks in toolbar items</p></li><li class="nested li"><p>code contained in any of the HIToolbar standard event handlers. </p></li></ul></li></ul><a name="//apple_ref/doc/uid/TP40000958-CH201-TPXREF119" title="The Delegate"></a><h3>The Delegate</h3><p>Associated with every HIToolbar object is a delegate, which is an event target containing a set of Carbon event handlers that enable the creation of toolbar items. While the toolbar is, by default, its own delegate, you can specify a different event target if you wish. </p><p>The delegate handles three basic requests, sent as Carbon events: </p><ul class="spaceabove"><li class="li"><p>A query for a list of default items. These are the initial items that appear in the toolbar.</p></li><li class="li"><p>A query for a list of allowable items. This is the set of items that appear in the configuration sheet. </p></li><li class="li"><p>A request to create a particular toolbar item. </p></li></ul><a name="//apple_ref/doc/uid/TP40000958-CH201-CJBECDEI" title="Toolbar Items"></a><h3>Toolbar Items</h3><p>Toolbar items are HIToolbarItem objects subclassed from HIObject. These objects are associated with HIToolbar objects, but are not embedded in the manner of HIViews. </p><p>You identify toolbar items using a unique identifier. The system defines a number of standard toolbar items (such as Print, Customize, Separator, and so on) that you can create simply by specifying the proper identifier.</p><p>Most toolbar items act as buttons, performing a simple action when pressed. If you want a more sophisticated toolbar item, you can subclass the toolbar item HIObject class and implement your own behavior. </p><p>Toolbar items typically have the following data associated with them:</p><ul class="spaceabove"><li class="li"><p>An icon reference, which determines which icon to display for the item. </p></li><li class="li"><p>A label, which appears below the icon, (and represents the item when in text-only mode).</p></li><li class="li"><p>A help tag, which appears when the user hovers the cursor on the item for a few seconds. </p></li><li class="li"><p>A command ID, which is sent in a <code>kEventCommandProcess</code> event when the user clicks on the toolbar item. </p></li></ul><br/><div><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_10" title="Figure 1-6Toolbar item parts"></a><p><a name="//apple_ref/doc/uid/TP40000958-CH201-TPXREF118" title="Figure 1-6Toolbar item parts"></a><strong>Figure 1-6&nbsp;&nbsp;</strong>Toolbar item parts</p><img src = "../art/toolbarwithhelp.gif" alt = "Toolbar item parts" width="416" height="152"></div><br/><p>Toolbar items also have attributes that govern their behavior. See <span class="content_text"><a href="../HIToolbar_tasks/HIToolbar_tasks.html#//apple_ref/doc/uid/TP30000310-BAJHAABG">“Toolbar Item Attributes”</a></span> for more information. </p><p>The HIToolbar object creates toolbar items in a lazy fashion. That is, no request is sent until the toolbar item needs to become visible. </p><a name="//apple_ref/doc/uid/TP40000958-CH201-TPXREF115" title="Built-In Functionality"></a><h2>Built-In Functionality</h2><p>The toolbar is designed to be as easy to use as possible. To this end, much of the basic implementation is done for you. For example, doing any of the following requires no additional work on your part:</p><ul class="ul"><li class="li"><p>Displaying the configuration sheet</p></li><li class="li"><p>Saving the current toolbar setting to the user’s preferences</p></li><li class="li"><p>Showing and hiding the toolbar</p></li><li class="li"><p>Drag tracking and drag rearranging of toolbar items</p></li><li class="li"><p>Displaying contextual menus</p></li><li class="li"><p>Moving items into the overflow menu when the toolbar runs out of space</p></li></ul><p>In most cases all you need to worry about is creating the toolbar and any nonstandard toolbar items. The rest is done for you. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000958-CH201-DontLinkElementID_11" title="Note"></a><p><strong>Note:</strong>&nbsp;Much of the “free” functionality comes from the standard window handler, so you should specify the standard handler for any window that contains a toolbar.</p></div><a name="//apple_ref/doc/uid/TP40000958-CH201-TPXREF116" title="System Requirements"></a><h2>System Requirements</h2><p>HIToolbar is available to Carbon applications in Mac OS X v.10.2 and later . Note that windows that contain toolbars do not have to support HIView compositing. </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../HIToolbar_tasks/HIToolbar_tasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-07-07<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/UsingHIToolbar/HIToolbar_concept/HIToolbar_concept.html%3Fid%3DTP40000958-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/UsingHIToolbar/HIToolbar_concept/HIToolbar_concept.html%3Fid%3DTP40000958-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/UsingHIToolbar/HIToolbar_concept/HIToolbar_concept.html%3Fid%3DTP40000958-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>