<HTML>
	<HEAD>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="generator" content="XML_Publisher">
		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">
        <title>Loading
the Image</title>
		</HEAD>
	<BODY bgcolor="#ffffff">
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --> <!-- insert Show/Hide frames -->
<script type="text/javascript" language="JavaScript"><!--
function loadFrames(){
if (top == self || (parent.frames[1].name != content))
    top.location.href = 'index.html?' + location.href;
}

if (self != top) {
  // loaded in frames
  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');
  }
else {
  // not loaded frames
	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');
}
//--></script>
<!-- end Show/Hide frames -->
<a href="Connecting_the_Outlet.html" target="content"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="../T12PopUpMenus/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerTop -->  
<!-- apple_doc: pageHeadingStart --><a name = "BIHIFADB"></a><a name="-637727"></a><h2><font face="Lucida Grande,Helvetica,Arial">Loading
the Image</font></h2><!-- apple_doc: pageHeadingEnd -->

<p>The image view widget you placed in the interface file did
not specify a particular image. Rather, it specified an area in
the window where an image can be displayed. You now need to add
some code to retrieve the image and load it in the image view widget.</p>
<p>In Project Builder, open the Java class for the interface
file you just edited. Before modifications, it should look something
like this:</p>
<pre>package mycompany.client;

import com.webobjects.foundation.*;
import com.webobjects.eocontrol.*;
import com.webobjects.eoapplication.*;

public class MyInterfaceController extends EOInterfaceController {

    public MyInterfaceController() {
        super();
    }

    public MyInterfaceController(EOEditingContext substitutionEditingContext) {
        super(substitutionEditingContext);
    }
}</pre>
<p>To load and place the image, you'll use the EOInterface
Swing package (com.webobjects.eointerface.swing.*).
So, add the import statement:</p>
<pre>import com.webobjects.eointerface.swing.*;</pre>
<p>Next, you need to add an instance variable to get access to
the outlet you defined in the interface file. The variable's type
is EOImageView, defined in com.webobjects.eointerface.swing.*.
You named the outlet "imageview" so add an instance variable
of the same name:</p>
<pre>public EOImageView imageview;</pre>
<p>To load an image into the EOImageView object, you need to
make sure that the interface controller has finished loading. The
method <code>controllerDidLoadArchive</code> is invoked
when the controller is finished loading. You can override it to
perform certain initializations, such as loading an image into an
image view. Add the method as shown in  <a href="#BABIHDDA">Listing 18-1</a>.</p>
<a name = "BABIHDDA"></a><a name="-637890"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Listing 18-1 Overriding <code>controllerDidLoadArchive</code></font></b></p>
<pre>    protected void controllerDidLoadArchive(NSDictionary namedObjects) {
		
        ImageIcon iIcon =
        (ImageIcon)EOUserInterfaceParameters.localizedIcon(&quot;iMac&quot;);		//1

        Image newImage = iIcon.getImage();		//2

        imageview.setImage(newImage);		//3
    }</pre>
<p>Code line 1 attempts to retrieve an image that is associated
with the Web Server target. Specify the image name without including
the suffix.</p><br><table border = "0" BGCOLOR="#E6E6E6">

<tr>
<td scope="row"><b>Note: </b>As
of WebObjects 5.1, <code>EOUserInterfaceParameters.localizedIcon</code> retrieves images
with extensions <code>gif</code>, <code>jpeg</code>,
and <code>png</code> only.</td>
</tr>

</table><br>
<p>Code line 1 casts the retrieved object into an object of type
ImageIcon. <code>localizedIcon</code> returns an object
of type Icon, so casting the retrieved object into an ImageIcon
allows you to retrieve the image data in the form of an Image object
that the <code>setImage</code> method on EOImageView
accepts. Code line 2 retrieves the image's data from the ImageIcon
object and code line 3 sets the image in the image view object to
the image retrieved in codeline 1.</p>
<p>If successful, your interface file should load and display
the specified image as shown in  <a href="#BIHDAEFI">Figure 18-6</a>.</p>
<br><a name = "BIHDAEFI"></a><a name="-637996"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
18-6 Image in image view</font></b></p>
 <img src = "../Art/image_in_client.gif" alt = "[image: ../Art/image_in_client.gif]">

<br><br><br>
<!-- insert Show/Hide frames -->
<script type="text/javascript" language="JavaScript"><!--
function loadFrames(){
if (top == self || (parent.frames[1].name != content))
    top.location.href = 'index.html?' + location.href;
}

if (self != top) {
  // loaded in frames
  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');
  }
else {
  // not loaded frames
	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');
}
//--></script>
<!-- end Show/Hide frames -->
<a href="Connecting_the_Outlet.html" target="content"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="../T12PopUpMenus/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerBottom --> <br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated May 1, 2002)</font></p><!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->
</body>
</html>
