<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>DrawPicture (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING350></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-349.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-351.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-332.html"><B>Chapter 7 - Pictures</B></A> / <A HREF="QuickDraw-335.html"><B>Pictures Reference</B></A><BR><DL><DD><A HREF="QuickDraw-342.html"><B>QuickDraw and Picture Utilities Routines</B></A> / <A HREF="QuickDraw-349.html"><B>Drawing Pictures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING350-0></A>
<H3><A NAME=MARKER-9-202></A>DrawPicture</H3>
 <A NAME=MARKER-11-204></A><A NAME=MARKER-11-204></A><A NAME=MARKER-2-205></A>To draw a picture on any type of output device, use the <CODE>DrawPicture</CODE> procedure.<P>
<PRE>
PROCEDURE DrawPicture (myPicture:\xDDPicHandle; dstRect:\xDDRect);
</PRE>
<DL>
<DT><CODE>myPicture</CODE>
<DD> A handle to the picture to be drawn.
<DT><CODE>dstRect</CODE>
<DD> A destination rectangle, specified in coordinates local to the current graphics port, in which to draw the picture. The <CODE>DrawPicture</CODE> procedure shrinks or expands the picture as necessary to align the borders of its bounding rectangle with the rectangle you specify in this parameter. To display a picture at a resolution other than that at which it was created, your application should compute an appropriate destination rectangle by scaling its width and height by the following factor:
<DT>
<DD> scale factor = destination resolution / source resolution
<DT>
<DD> For example, if a picture was created at 300 dpi and you want to display it at 75 dpi, then your application should compute the destination rectangle width and height as 1/4 of those of the picture's bounding rectangle. Your application can use the <CODE>GetPictInfo</CODE> function (described on <A HREF=QuickDraw-353.html#MARKER-9-226>page 7-46</A>) to gather information about a picture. The <CODE>PictInfo</CODE> record (described on <A HREF=QuickDraw-341.html#MARKER-9-137>page 7-31</A>) returned by <CODE>GetPictInfo</CODE> returns the picture's resolution in its <CODE>hRes</CODE> and <CODE>vRes</CODE> fields. The <CODE>sourceRect</CODE> field contains the bounding rectangle for displaying the image at its optimal resolution. 
</DL>
<A NAME=HEADING350-7></A>
<H5>DESCRIPTION</H5>
 Within the rectangle that you specify in the <CODE>dstRect</CODE> parameter, the <CODE>DrawPicture</CODE> procedure draws the picture that you specify in the <CODE>myPicture</CODE> parameter. <P>
 The <CODE>DrawPicture</CODE> procedure passes any picture comments to the <CODE>StdComment</CODE> procedure pointed to by the <CODE>commentProc</CODE> field of the <CODE>CQDProcs</CODE> or <CODE>QDProcs</CODE> record, which in turn is pointed to by the <CODE>grafProcs</CODE> field of a <CODE>CGrafPort</CODE> or <CODE>GrafPort</CODE> record. The default <CODE>StdComment</CODE> procedure provided by QuickDraw does no comment processing whatsoever. If you want to process picture comments when drawing a picture, you can use the <CODE>SetStdCProcs</CODE> procedure to assist you in changing the <CODE>CQDProcs</CODE> record, and you can use the <CODE>SetStdProcs</CODE> procedure to assist you in changing the <CODE>QDProcs</CODE> record. <P>
<A NAME=HEADING350-10></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Always use the <CODE>ClipRect</CODE> procedure to specify a clipping region appropriate for your picture before defining it with the <CODE>OpenCPicture</CODE> (or <CODE>OpenPicture</CODE>) function. If you do not use <CODE>ClipRect</CODE> to specify a clipping region, <CODE>OpenCPicture</CODE> uses the clipping region specified in the current graphics port. If the clipping region is very large (as it is when a graphics port is initialized) and you want to scale the picture, the clipping region can become invalid when <CODE>DrawPicture</CODE> scales the clipping region--in which case, your picture will not be drawn. On the other hand, if the graphics port specifies a small clipping region, part of your drawing may be clipped when <CODE>DrawPicture</CODE> draws it. Setting a clipping region equal to the port rectangle of the current graphics port, as shown in <A HREF=QuickDraw-334.html#MARKER-9-44>Listing 7-1 on page 7-10</A>, always sets a valid clipping region.<P>
 When it scales, <CODE>DrawPicture</CODE> changes the size of the font instead of scaling the bits. However, the widths used by bitmap fonts are not always linear. For example, the 12-point width isn't exactly 1/2 of the 24-point width. This can cause lines of text to become slightly longer or shorter as the picture is scaled. The difference is often insignificant, but if you are trying to draw a line of text that fits exactly into a box (a spreadsheet cell, for example), the difference can become noticeable to the user--most typically, at print time. The easiest way to avoid such problems is to specify a destination rectangle that is the same size as the bounding rectangle for the picture. Otherwise, your application may need to directly process the opcodes in the picture instead of using <CODE>DrawPicture</CODE>.<P>
 You may also have disappointing results if the fonts contained in an image are not available on the user's system. Before displaying a picture, your application may want to use the Picture Utilities to determine what fonts are contained in the picture, and then use Font Manager routines to determine whether the fonts are available on the user's system. If they are not, you can use Dialog Manager routines to display an alert box warning the user of display problems.<P>
 If there is insufficient memory to draw a picture in Color QuickDraw, the <CODE>QDError</CODE> function (described in the chapter "Color QuickDraw" in this book) returns the result code <CODE>noMemForPictPlaybackErr</CODE>.<P>
 The <CODE>DrawPicture</CODE> procedure may move or purge memory.<P>
<A NAME=HEADING350-16></A>
<H5>SEE ALSO</H5>
 <A HREF=QuickDraw-334.html#MARKER-9-44>Listing 7-1 on page 7-10</A> illustrates how to use <CODE>DrawPicture</CODE> after creating a picture while your application is running; <A HREF=QuickDraw-334.html#MARKER-9-60>Listing 7-2 on page 7-13</A> illustrates how to use <CODE>DrawPicture</CODE> after reading in a picture stored in a <CODE>'PICT'</CODE> file; <A HREF=QuickDraw-334.html#MARKER-9-69>Listing 7-6 on page 7-16</A> illustrates how to use <CODE>DrawPicture</CODE> after reading in a picture stored in the scrap; and <A HREF=QuickDraw-334.html#MARKER-9-77>Listing 7-8 on page 7-19</A> illustrates how to use <CODE>DrawPicture</CODE> after reading in a picture stored in a <CODE>'PICT'</CODE> resource.<P>
 See the chapter "Font Manager" in <I><A HREF="../Text/Text-2.html">Inside Macintosh: Text</A></I> for information about Font Manager routines; see the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for information about Dialog Manager routines.<A NAME=MARKER-2-223></A><A NAME=MARKER-2-207></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-349.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-351.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
