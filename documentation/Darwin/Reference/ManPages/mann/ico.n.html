<html><head><title>Mac OS X
 Manual Page For ico(n)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/n/ico" title="Mac OS X
 Manual Page for ico(n)"><a name="//apple_ref/doc/man/n/ico" title="Mac OS X
 Manual Page for ico(n)"><!-- headerDoc=man; indexgroup=Section n; uid="//apple_ref/doc/man/n/ico"; name=ico(n) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ico(n)                                      Windows ICO handling                                      ico(n)



____________________________________________________________________________________________________________

<b>NAME</b>
       ico - Reading and writing windows icons

<b>SYNOPSIS</b>
       package require <b>Tcl</b>  <b>8.4</b>

       package require <b>ico</b>  <b>?0.3?</b>

       <b>::ico::getIconList</b> <u>file</u> ?<u>option</u> <u>value</u>...?

       <b>::ico::getIcon</b> <u>file</u> <u>index</u> ?<u>option</u> <u>value</u>...?

       <b>::ico::writeIcon</b> <u>file</u> <u>index</u> <u>depth</u> <u>data</u> ?<u>option</u> <u>value</u>...?

       <b>::ico::copyIcon</b> <u>file</u> <u>index</u> <u>file2</u> <u>index2</u> ?<u>option</u> <u>value</u>...?

       <b>::ico::EXEtoICO</b> <u>file</u> <u>file2</u>

       <b>::ico::clearCache</b> ?file?

       <b>::ico::transparentColor</b> <u>image</u> <u>color</u>

       <b>::ico::Show</b> <u>file</u> ?<u>option</u> <u>value</u>...?

____________________________________________________________________________________________________________

<b>DESCRIPTION</b>
       This  package  provides  functions for reading and writing Windows icons from ICO, EXE, DLL, ICL, and
       BMP files.

<b>API</b>
       <b>::ico::getIconList</b> <u>file</u> ?<u>option</u> <u>value</u>...?
              Returns a list of icons found in <u>file</u> where each element has the format {width height  depth}.
              Recognizes the following <u>option</u>s.

              <b>-type</b> fileFormat


       <b>::ico::getIcon</b> <u>file</u> <u>index</u> ?<u>option</u> <u>value</u>...?
              Extracts the icon at <u>index</u> from <u>file</u>.  The default <b>-format</b> is <b>image</b> which will return the name
              of a Tk image containing the icon. Optionally <b>-name</b> may be used to specify the name of the  Tk
              image  that  is created. If <b>-format</b> is <b>colors</b> then a list of color names in the #RRGGBB format
              is returned. Each list element is a horizontal row. Each horizontal row  contains  a  list  of
              colors for all the pixels in that row from left to right.  Recognizes the following <u>option</u>s.

              <b>-type</b> fileFormat

              <b>-format</b> value

              <b>-name</b> value


       <b>::ico::writeIcon</b> <u>file</u> <u>index</u> <u>depth</u> <u>data</u> ?<u>option</u> <u>value</u>...?

              <u>file</u> fileName (in)

              <u>index</u> integer (in)
                     This  is  the  0-based  index of the icon to write. When writing to an EXE, DLL, or ICL
                     file you may only overwrite existing icons with an icon  of  the  same  dimensions  and
                     color depth.  When writing to an ICO, <u>index</u> may be one greater than the last icon. This
                     will append a new icon to the file.  When writing to an ICO,  <u>index</u>  will  accept  <b>end</b>.
                     This  will  also cause the new icon to be appended to the file.  When writing the other
                     types <b>end</b> will refer to the last existing icon.

              <u>depth</u> integer (in)
                     This argument must have a value of <b>1</b>, <b>4</b>, <b>8</b>, <b>24</b>, or <b>32</b>. If <u>data</u> has more colors than the
                     color depth allows an error will be generated.

              <u>data</u> options (in)
                     This argument is either a list of colors in the format returned by <b>::ico::getIcon</b> <b>-for</b>-<font color="#ffffff" class="whiteout">mat&nbsp;-format</font>
                     <b>mat</b> <b>colors</b> or the name of a Tk image.

       Recognizes the following <u>option</u>s.

              <b>-type</b> fileFormat


       <b>::ico::copyIcon</b> <u>file</u> <u>index</u> <u>file2</u> <u>index2</u> ?<u>option</u> <u>value</u>...?
              Copies the icon at <u>index</u> in <u>file</u> to <u>index2</u> in <u>file2</u>.

              <b>-fromtype</b> fileFormat

              <b>-totype</b> fileFormat


       <b>::ico::EXEtoICO</b> <u>file</u> <u>file2</u>
              Extracts all icons from the executable <u>file</u> to the ICO file <u>file2</u>.

              <b>-type</b> fileFormat


       <b>::ico::clearCache</b> ?file?
              The <b>::ico::getIconList</b> command caches icon offsets inside EXE, DLL, and ICL files in order  to
              speed up extraction.  This command clears that cache for the specific ?file? or all files.

       <b>::ico::transparentColor</b> <u>image</u> <u>color</u>
              If  <u>image</u>  is  a  single word it is assumed to be the name of a Tk image.  All pixels matching
              <u>color</u> in the <u>image</u> will be set transparent.  Alternatively, <u>image</u> may be a color list in which
              case a modified list is returned.

       <b>::ico::Show</b> <u>file</u> ?<u>option</u> <u>value</u>...?
              Application  level command which displays a window showing all the icons in <u>file</u> with informa-<font color="#ffffff" class="whiteout">tion&nbsp;information</font>
              tion about them.

              <b>-type</b> fileFormat

              <b>-parent</b> pathName

<b>EXAMPLE</b>
           button .explore -image [::ico::getIcon explorer.exe 0 -name explore]
           set i [lsearch [::ico::getIconList tclkit.exe] {32 32 8}]]
           set colorlist [::ico::getIcon tclkit.exe $i -format colors -type EXE]


<b>LIMITATIONS</b>
       Icons may not be added or removed from file types other than ICO. Icons in these files  may  only  be
       replaced with icons of the same dimensions and color depth.

       Icons of 8bpp or lower must include black in the pallete, this means if your icon does not have black
       in it, you will need to leave a color free so that it may be included by writeIcon.

       There is currently no way to read alpha channel information from 32bpp icons.

       Tk images do not have an alpha channel so the only way to write a true 32bpp icon  is  from  a  color
       list. writing a 32bpp icon from a Tkimage is identical to writing a 24bpp icon.


           button .explore -image [::ico::getIcon explorer.exe 0 -name explore]
           set i [lsearch [::ico::getIconList tclkit.exe] {32 32 8}]]
           set colorlist [::ico::getIcon tclkit.exe $i -format colors -type EXE]


<b>KEYWORDS</b>
       dll, entry, exe, ico, icon



ico                                                  0.3                                              ico(n)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/mann/ico.n.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/mann/ico.n.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/mann/ico.n.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
