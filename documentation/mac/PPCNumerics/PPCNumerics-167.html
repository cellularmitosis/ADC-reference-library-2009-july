<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Comparison of SANE and PowerPC Numerics(IM:PN)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<A NAME="HEADING167"></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCNumerics-166.html"><IMG ALIGN="BOTTOM" SRC="prev.gif" BORDER="none" HSPACE="20" ALT="Previous"></A> <A HREF="PPCNumerics-2.html"><IMG ALIGN="BOTTOM" SRC="content.gif" BORDER="none" HSPACE="20" ALT="Book Contents"></A> <A HREF="PPCNumerics-192.html"><IMG ALIGN="BOTTOM" SRC="index.gif" BORDER="none" HSPACE="20" ALT="Book Index"></A> <A HREF="PPCNumerics-168.html"><IMG ALIGN="BOTTOM" SRC="next.gif" BORDER="none" HSPACE="20" ALT="Next"></A> </CENTER><P>
<FONT SIZE="-1"><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCNumerics-2.html"><B>PowerPC Numerics </B></A> / <A HREF="PPCNumerics-165.html"><B>Part 3 - Appendixes</B></A><BR><DD><A HREF="PPCNumerics-166.html"><B>Appendix A - SANE Versus PowerPC  Numerics</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME="HEADING167-0"></A>
<H1>Comparison of SANE and PowerPC Numerics</H1>
 This section goes chapter by chapter through Part 1 of the <I>Apple Numerics Manual</I>, second edition, and tells where the two environments are alike and where they differ.<P>
<A NAME="HEADING167-2"></A>
<H2>Floating-Point Data Formats </H2>
 <A NAME="MARKER-2-53"></A>The single and double data formats supported by PowerPC Numerics are identical to the single and double data formats supported by SANE. PowerPC Numerics adds the double-double format not supported in SANE. PowerPC Numerics does not support the SANE floating-point formats comp (<B>integral value</B>) and 80-bit (and 96-bit) extended. <A NAME="MARKER-2-55"></A><P>
<A NAME="HEADING167-4"></A>
<H2>Conversions </H2>
 <A NAME="MARKER-2-48"></A>PowerPC Numerics converts any floating-point format or integer format to any other floating-point format. SANE supports only conversions to and from the extended data format because it performs all floating-point operations in extended precision. <P>
 Conversions between binary and decimal in SANE are accurate up to a certain number of decimal digits for each floating-point data format. All conversions in PowerPC Numerics except conversions to or from double-double are correctly rounded.<A NAME="MARKER-2-49"></A><P>
<A NAME="HEADING167-7"></A>
<H2>Expression Evaluation </H2>
 <A NAME="MARKER-2-18"></A>SANE uses the extended data format as the minimum evaluation format for all floating-point operations. All operations are evaluated with the greatest amount of precision possible, which ensures against midexpression overflow and underflow. <P>
 PowerPC Numerics does not specify one evaluation method but strongly recommends a single or double minimum evaluation format with widest-need evaluation. This method permits all expressions to be evaluated in as wide a format as is necessary without forcing a wider format on expressions that could be done more quickly and as accurately with a narrower format.<P>
 Note that with PowerPC Numerics, you are not ensured against midexpression overflow and underflow as you are with SANE. For example, suppose you have the following expression:<P>
<PRE>
double d1, d2, d3, result;

d1 = d2 = d3 =  1.7E308;   /* maximum number in double */
result = (d1 + d2) / d3;
</PRE>
 With PowerPC Numerics, the expression d1 + d2 will overflow the double format, thus producing + <IMG BORDER="NONE" SRC="graphics/infinity.gif"> . Infinity divided by the variable <CODE>d3</CODE> will still be + <IMG BORDER="NONE" SRC="graphics/infinity.gif"> , and so the variable <CODE>result</CODE> will be assigned + <IMG BORDER="NONE" SRC="graphics/infinity.gif"> . With SANE, <CODE>d1</CODE>, <CODE>d2</CODE>, and <CODE>d3</CODE> are converted to extended format. The expression d1 + d2 will not overflow the extended format, and so the variable <CODE>result</CODE> will be assigned the value 2. <A NAME="MARKER-2-7"></A><P>
<A NAME="HEADING167-13"></A>
<H2>Infinities, NaNs, and Denormalized Numbers</H2>
 <A NAME="MARKER-9-1"></A>Infinities, NaNs, and denormalized numbers are represented and used identically in SANE and PowerPC Numerics.<A NAME="MARKER-2-60"></A><P>
<A NAME="HEADING167-15"></A>
<H2>Arithmetic and Comparison Operations</H2>
 <A NAME="MARKER-2-13"></A>SANE and PowerPC Numerics support the same seven basic arithmetic operations (add, subtract, multiply, divide, square root, remainder, and round-to-integer). SANE has only one version of the remainder and round-to-integer functions. PowerPC Numerics has two versions of the remainder function and several round-to-integer functions.<P>
<DL>
<DT><B>Note</B>
<DD>SANE's square root, remainder, and round-to-integer functions return type <CODE>extended</CODE> and take type <CODE>extended</CODE> as input. PowerPC Numerics uses type <CODE>double</CODE> instead.<EM></EM>  <IMG ALIGN="BOTTOM" SRC="graphics/diamond.gif">
</DL>
 Both SANE and PowerPC Numerics support the following comparison operators: &lt;, &lt;=, &gt;=, &gt;, ==, and !=. All other comparison operators shown in <A HREF="PPCNumerics-37.html#MARKER-9-1">Table 6-1 on page 6-4</A> in this book are not supported by SANE.<A NAME="MARKER-2-55"></A><P>
<A NAME="HEADING167-19"></A>
<H2>Environmental Controls</H2>
 <A NAME="MARKER-2-56"></A>SANE and PowerPC Numerics support the same rounding direction modes and the same floating-point exception flags.<P>
 SANE supports dynamic rounding precision modes because it performs all operations in extended and is therefore required by IEEE to support dynamic rounding precision modes. PowerPC Numerics does not support rounding precision modes. <P>
 SANE supports halts for each of the five floating-point exceptions. PowerPC Numerics does not currently support halts, although it might in the future. <A NAME="MARKER-10-57"></A><A NAME="MARKER-2-61"></A><P>
<A NAME="HEADING167-23"></A>
<H2><A NAME="MARKER-9-59"></A>Transcendental (Elementary) Functions</H2>
 <A NAME="MARKER-2-8"></A>In SANE, all transcendental functions are in extended format. That is, all of them take type <CODE>extended</CODE> for floating-point input and all of them return type <CODE>extended</CODE>. In PowerPC Numerics, all transcendental functions take double for floating-point input and return type <CODE>double</CODE>. Some of the functions have a version that performs the same operation in double-double precision.<P>
 SANE supports a subset of the transcendental functions that PowerPC Numerics supports. The functions not supported by SANE are
<TABLE BORDER="0" CELLPADDING="3"><TD>erf<TD>erfc<TD>fdim<TR>
<TD>fmax<TD>fmin<TD>gamma<TR>
<TD>lgamma<TD>nearbyint<TD>rinttol<TR>
<TD>round<TD>roundtol<TD>trunc</TABLE>
<P>
 Of the functions supported by both SANE and PowerPC Numerics, a few are implemented differently in the two environments. See the section <A HREF="PPCNumerics-168.html#MARKER-9-72">"Differences in Transcendental Functions" on page A-5</A> for details.<A NAME="MARKER-2-9"></A><P>

</BLOCKQUOTE>
<HR>
<CENTER>
<A HREF="PPCNumerics-166.html"><IMG ALIGN="BOTTOM" SRC="prev.gif" BORDER="none" HSPACE="20" ALT="Previous"></A> <A HREF="PPCNumerics-2.html"><IMG ALIGN="BOTTOM" SRC="content.gif" BORDER="none" HSPACE="20" ALT="Book Contents"></A> <A HREF="PPCNumerics-192.html"><IMG ALIGN="BOTTOM" SRC="index.gif" BORDER="none" HSPACE="20" ALT="Book Index"></A> <A HREF="PPCNumerics-168.html"><IMG ALIGN="BOTTOM" SRC="next.gif" BORDER="none" HSPACE="20" ALT="Next"></A> </CENTER><P>
<CENTER><FONT SIZE="-1"><A HREF="PPCNumerics-3.html">&copy; Apple Computer, Inc.</A><BR>13 JUL 1996</CENTER></FONT><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
