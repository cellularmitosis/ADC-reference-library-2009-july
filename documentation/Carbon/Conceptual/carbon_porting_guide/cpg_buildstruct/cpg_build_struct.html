<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Carbon Porting Guide (Legacy): Building Carbon Applications</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Building Carbon Applications"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000991-CH203" title="Building Carbon Applications"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/Carbon-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000494" target="_top">Carbon</a> &gt; <a href="../cpg_intro_struct/cpg_intro_struct.html#//apple_ref/doc/uid/TP30000991-CH201-TPXREF101">Carbon Porting Guide (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../cpg_prepstruct/cpg_prep_struct.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../cpg_portexampstruct/cpg_portexamp_struct.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF101" title="Building Carbon Applications"></a><h1>Building Carbon Applications</h1><p>This chapter describes how to use the tools and libraries provided with the Mac OS X Developer Tools CD to build Carbon applications for both Mac OS 9 and Mac OS X. You can also install the Carbon system extension, <code>CarbonLib</code>, to run Carbon applications on Mac OS versions 8.1 and later.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="cpg_build_struct.html#//apple_ref/doc/uid/TP30000991-CH203-BBGDIBJA">Native Mac OS 9 Versus Mac OS X’s Classic Environment</a>
				
			<br/>
			
        
			
			
				<a href="cpg_build_struct.html#//apple_ref/doc/uid/TP30000991-CH203-TPXREF104">Development Scenarios</a>
				
			<br/>
			
        
			
			
				<a href="cpg_build_struct.html#//apple_ref/doc/uid/TP30000991-CH203-TPXREF107">Building a CFM Carbon Application With CodeWarrior</a>
				
			<br/>
			
        
			
			
				<a href="cpg_build_struct.html#//apple_ref/doc/uid/TP30000991-CH203-TPXREF112">Building a Mach-O Carbon Application With CodeWarrior</a>
				
			<br/>
			
        
			
			
				<a href="cpg_build_struct.html#//apple_ref/doc/uid/TP30000991-CH203-TPXREF116">Building a Mach-O Carbon Application With Project Builder</a>
				
			<br/>
			
        
			
			
				<a href="cpg_build_struct.html#//apple_ref/doc/uid/TP30000991-CH203-BBGBDEBC">Building Applications Using MPW</a>
				
			<br/>
			
        
			
			
				<a href="cpg_build_struct.html#//apple_ref/doc/uid/TP30000991-CH203-BBGCECHI">Debugging Your Application</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000991-CH203-BBGDIBJA" title="Native Mac OS 9 Versus Mac OS X&acirc;&#128;&#153;s Classic Environment"></a><h2>Native Mac OS 9 Versus Mac OS X’s Classic Environment</h2><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_42"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_43"></a>If you plan to build, run, and debug Carbon applications for both Mac OS 9 and Mac OS X on a single system, the Mac OS X application <code>Classic.app</code> provides a convenient environment for running your development system. You can easily switch between the two environments, and launch applications in either.</p><p>If you prefer to develop on a native Mac OS 9 system (that is, on a computer running Mac OS 9 instead of Mac OS X), you’ll need to reboot to run Mac OS X and test your Carbon application in that environment.</p><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_44"></a>If you have two computers, you might want to run Mac OS 9 on one computer and Mac OS X on the other. To transfer files between them, you can use one of the following methods:</p><ul class="ul"><li class="li"><p>Enable file sharing on one of the machines and copy the files directly.</p></li><li class="li"><p>Copy the files using FTP. </p></li><li class="li"><p>Activate the Metrowerks remote debugger and select “Debug”. (Doing so transfers the file to Mac OS X and begins a debugging session. After transfer, you can quit the debugging session, leaving the file ready for launch, or perhaps GDB debugging.) </p></li></ul><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF104" title="Development Scenarios"></a><h2>Development Scenarios</h2><p>There are a number of tools and processes you can use to build and debug Carbon applications. This section describes three scenarios that Apple recommends, and the advantages of each.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-BBGBDIDE" title="Using CodeWarrior to Build a CFM Carbon Application"></a><h3>Using CodeWarrior to Build a CFM Carbon Application</h3><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_45"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_46"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_47"></a>This is the most likely scenario if you’re porting an existing Mac OS 9 application to Carbon, especially if you’re already using CodeWarrior. You’ll continue to use the Mac OS development tools and processes you’re familiar with, and you’ll create CFM applications that can run on both Mac OS 9 and Mac OS X. The only difference is that you’ll include the <code>CarbonLib</code> stub library in your CodeWarrior project.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF105" title="Using CodeWarrior to Build a Mach-O Carbon Application"></a><h3>Using CodeWarrior to Build a Mach-O Carbon Application</h3><p>Metrowerks CodeWarrior Pro version 8.0 and later has support to build Mach-O applications on Mac OS 9, as well as build and debug applications on Mac OS X. If you have a second computer, you may also want to investigate whether Metrowerks’ two-machine debugger suits your needs, as it can debug CFM applications on both platforms. Contact Metrowerks for information about these products.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF106" title="Using Project Builder to Build a Mach-O Carbon Application"></a><h3>Using Project Builder to Build a Mach-O Carbon Application</h3><p>Project Builder is Apple’s integrated development environment (IDE) for Mac OS X. It offers a comprehensive feature set that includes source-level debugging. Project Builder is a good choice if your application will run only on Mac OS X, and you want to take advantage of features available only on that platform. However, you can’t use Project Builder to build a CFM application, so if you want your program to run on both platforms you’ll either need to use CodeWarrior or other tools to create a CFM version for Mac OS 9.</p><p>See the Project Builder online help documentation for more information about creating Mach-O Carbon applications.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF107" title="Building a CFM Carbon Application With CodeWarrior"></a><h2>Building a CFM Carbon Application With CodeWarrior</h2><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_48"></a>If you plan to use Metrowerks CodeWarrior, CodeWarrior Pro version 8.0 or later is recommended. You can run CodeWarrior natively on Mac OS 9 or Mac OS X.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF108" title="Preparing Your Development Environment"></a><h3>Preparing Your Development Environment</h3><p>Before you start Carbon development with CodeWarrior, you’ll need to install the tools and libraries provided with the Mac OS X Developer Tools CD or the Carbon SDK.</p><ol class="ol"><li class="li"><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_49"></a>Copy the Carbon Support folder to the Metrowerks CodeWarrior folder on your hard disk. The Carbon Support folder should reside in the same folder as the CodeWarrior IDE application.</p></li><li class="li"><p>Copy the appropriate Carbon system extension (<code>CarbonLib</code> or <code>DebuggingCarbonLib</code>) from the Carbon Support:CarbonLib folder to your Extensions folder. You should keep only one Carbon extension in your Extensions folder at any time.</p><ul class="ul"><li class="li"><p><code>CarbonLib</code> is the standard implementation of Carbon for Mac OS 8.1 or later.</p></li><li class="li"><p><code>DebuggingCarbonLib</code> is a debugging version of CarbonLib.</p></li></ul></li><li class="li"><p><code>CarbonLib</code> is included in all versions of Mac OS 9 as well as the Classic environment on Mac OS X. However, to make sure you are using the latest version, you should replace the default <code>CarbonLib</code> with the latest one available (in this case version 1.6).</p></li><li class="li"><p>To avoid the potential for data loss in the event that you need to reinstall Mac OS X, ensure that your CodeWarrior project files and source code reside on a separate hard disk.</p></li></ol><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF109" title="Building Your Application"></a><h3>Building Your Application</h3><p>To build a Carbon version of your application, you’ll need to make the following changes to your CodeWarrior project.</p><ol class="ol"><li class="li"><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_50"></a>Add the following statement to one of your source files before including any of the Carbon headers:</p><div class="codesample"><table><tr><td scope="row"><pre>#define TARGET_API_MAC_CARBON 1<span></span></pre></td></tr></table></div><p>This conditional specifies that the included header files should allow only Carbon-compatible APIs and data structures. You can include the conditional in a prefix file if you wish.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_2" title="Note"></a><p><strong>Note:</strong>&nbsp;<a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_51"></a>Moving a project from CodeWarrior Pro 8.0 to an earlier CodeWarrior version may result in the loss of prefix file information in the C/C++ Language Preferences panel. Many of the code samples on the Mac OS X Developer Tools CD make use of a prefix file (usually <code>CarbonPrefix.h</code>) to define <code>TARGET_API_MAC_CARBON</code>, so if you try to build a sample on an older CodeWarrior system, you may need to reinstate the prefix file information.</p></div></li><li class="li"><p>Add the <code>CarbonLibStub</code> stub file to your project.</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_52"></a>Ensure that your project is not linking to any libraries that are not Carbon compatible. For example, the MPW ANSI C library is not Carbon compatible. Note that you should not directly link to <code>InterfaceLib</code> when you are linking with <code>CarbonLib</code>. On Classic Mac OS, <code>CarbonLib</code> will return an error to the Code Fragment Manager if your application attempts to link to both <code>CarbonLib</code> and <code>InterfaceLib</code>, causing the application launch to fail. </p></li><li class="li"><p>Ensure that your CodeWarrior access paths and other target settings are correctly specified. See the sample code included with the Carbon SDK for examples of how to do this. </p></li></ol><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF110" title="Running Your Application on Mac OS 9"></a><h3>Running Your Application on Mac OS 9</h3><p>You can launch your application from the Finder on a Mac OS 9 system by double-clicking its icon. To run Carbon applications on Mac OS 8 (version 8.1 or later), you must install the <code>CarbonLib</code> or <code>DebugCarbonLib</code> extension in the Extensions folder.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF111" title="Running Your Application on Mac OS X"></a><h3>Running Your Application on Mac OS X</h3><p>As long as your application resides on an HFS Plus disk, you can launch it by double-clicking its icon.You cannot launch applications from a standard HFS format disk on Mac OS X.</p><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_53"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_54"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_55"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_56"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_57"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_58"></a>You can also use the command-line tool LaunchCFMApp to launch CFM applications from a terminal window in Mac OS X. If the CFM application is in the current working directory, the command is:</p><p><code>/System/Library/Frameworks/Carbon.framework/Versions/A/Support/LaunchCFMApp</code><em>filename</em></p><p>If the application is in a different directory, you must specify the path.</p><p>Note that if your application does not contain a <code>'plst'</code> resource, a bundled <code>Info.plist</code> file, or a <code>'carb'</code> resource, Mac OS X opens the application in the Classic compatibility environment. To ensure that Mac OS X properly recognizes your application, it must include a resource of type <code>'plst'</code> with ID 0, a bundled <code>Info.plist</code> file, or a resource of type <code>'carb'</code> with ID 0. </p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF112" title="Building a Mach-O Carbon Application With CodeWarrior"></a><h2>Building a Mach-O Carbon Application With CodeWarrior</h2><p>Before building a Mach-O version of your application with CodeWarrior, you should follow the instructions in the previous section for building a CFM Carbon application. After you’ve successfully built and tested a CFM version of your application on Mac OS 9, you can use CodeWarrior to build a Mach-O version for debugging on Mac OS X.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF113" title="Preparing Your Development Environment"></a><h3>Preparing Your Development Environment</h3><p>Metrowerks CodeWarrior Pro 8.0 and later has support for Mach-O applications. See the Metrowerks documentation for more information. </p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF114" title="Building Your Application"></a><h3>Building Your Application</h3><p>Refer to your Metrowerks CodeWarrior documentation for instructions on building Mach-O versions of your application. </p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF115" title="Running Your Application on Mac OS X"></a><h3>Running Your Application on Mac OS X</h3><p>CodeWarrior creates an executable Mach-O binary that includes a resource fork. As long as this file resides on an HFS Plus disk, the resource fork remains intact and you can launch the application by double-clicking its icon.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-TPXREF116" title="Building a Mach-O Carbon Application With Project Builder"></a><h2>Building a Mach-O Carbon Application With Project Builder</h2><p>Project Builder is included on the Mac OS X Developer Tools CD. Instructions for building Mach-O Carbon applications are available in Project Builder’s online help documentation.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-BBGBDEBC" title="Building Applications Using MPW"></a><h2>Building Applications Using MPW</h2><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_59"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_60"></a>An alternative to using CodeWarrior or ProjectBuilder for CFM applications is to use Apple’s MPW development environment, which is now available as a free download from the following website:</p><p><span class="content_text"><a href="http://developer.apple.com/tools/mpw-tools/" target="_top">http://developer.apple.com/tools/mpw-tools/</a></span></p><p>You should place the <code>CarbonLibStub</code> stub file in the folder <code>Interfaces and Libraries:Libraries:SharedLibraries</code>, while the Carbon version of the Universal Headers should be placed in <code>Interfaces and Libraries:Interfaces:CIncludes</code>.</p><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_61"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_62"></a>You compile your application and link against <code>CarbonLibStub</code> just as you would when using CodeWarrior. Note however that Carbon applications must contain a <code>‘SIZE’</code> resource, and the resource must have the <code>acceptSuspendResumeEvents</code> flag set. While CodeWarrior adds a <code>‘SIZE’</code> resource automatically, you must create your own when building with MPW.</p><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_63"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_64"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_65"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_66"></a>In addition, you need to override your default entry point (by using the <code>-m</code> option in PPCLink) with one of the following:</p><ul class="ul"><li class="li"><p><code>main</code> if your application does not call <code>exit()</code> and does not expect any exit procedures to run. </p></li><li class="li"><p><code>__appstart</code> if you want the functionality previously supplied by <code>__start</code>. <code>__appstart</code> is a stripped-down version of <code>__start</code> that initializes the environment, but does not provide support for MPW tools. To use <code>__appstart</code>, you need to link with <code>StdCRuntime.o</code> and <code>StdCLib</code> in addition to CarbonLib. </p></li></ul><p>The version of <code>StdCRuntime.o</code> containing <code>__appstart</code>, as well as a Carbon-friendly version of the CreateMake tool, will be available from the following web site: </p><p><span class="content_text"><a href="http://developer.apple.com/tools/mpw-tools/updates.html" target="_top">http://developer.apple.com/tools/mpw-tools/updates.html</a></span></p><p>You should also examine the PackageTool sample application in the Sample Code folder of the CarbonLib SDK and the MPW release notes for more specifics about the build process.</p><a name="//apple_ref/doc/uid/TP30000991-CH203-BBGCECHI" title="Debugging Your Application"></a><h2>Debugging Your Application</h2><p><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_67"></a><a name="//apple_ref/doc/uid/TP30000991-CH203-DontLinkElementID_68"></a>You can debug Carbon applications on Mac OS 9 or Mac OS X using the Metrowerks debugger. You can use also this debugger with two networked machines (for example, one running Mac OS 9 and the other running Mac OS X). Contact Metrowerks for more information.</p><p>You can also debug Carbon applications on Mac OS X using GDB, which you can run from a terminal window. Although GDB cannot directly debug a CFM application at this time, there is a workaround that lets you perform low-level debugging on a CFM application. You’ll use GDB to debug LaunchCFMApp, a Mach-O program that launches CFM applications. </p><p>This workaround has the following features and limitations:</p><ul class="ul"><li class="li"><p>You can set breakpoints at Mach-O functions. Since the Carbon library is Mach-O code, you can set breakpoints at Carbon functions. However, you cannot set breakpoints at CFM functions, including those in your application.</p></li><li class="li"><p>You can examine the memory contents at any address with the <code>x</code> command. However, you cannot view variables or expressions, since GDB cannot use the symbol names in a CFM application.</p></li><li class="li"><p>You cannot step through your application’s code.</p></li></ul><p>To debug your CFM application:</p><ol class="ol"><li class="li"><p>Launch the Terminal application: <code>/Applications/Utilities/Terminal.app</code>.</p></li><li class="li"><p>Enter <code>gdb /System/Library/Frameworks/Carbon.framework/Versions/A/Support/LaunchCFMApp</code>. </p><p>GDB loads the LaunchCFMApp program. </p></li><li class="li"><p>If you want, set breakpoints at any Carbon function with the <code>br</code> command.</p><p>For example, you may want to set a breakpoint at the <code>DebugStr</code> function, because <code>DebugStr</code> prints its argument without stopping the program’s execution. Enter<code> br DebugStr</code> at the GDB prompt. </p></li><li class="li"><p>At the GDB prompt, enter <code>r &lt;app-pathname></code>, where <code>&lt;app-pathname></code> is the full pathname for your CFM application. </p><p>To enter the application’s pathname, drag the application’s icon to the Terminal window.</p><p>LaunchCFMApp launches your application. </p></li></ol><p>To pause your application’s execution at any time, press Control-C in the Terminal application. To continue your application, enter <code>cont</code>. For more information on GDB, enter <code>help</code>.</p><p>Here are some additional hints that you might find useful:</p><ul class="ul"><li class="li"><p>From the terminal window, entering <code>setenv CFMDebugFull 1</code> directs LaunchCFMApp to display debugging information at application launch time. </p></li><li class="li"><p>Entering <code>setenv USERBREAK 1</code> enables GDB to catch C++ exceptions. </p></li><li class="li"><p>You can set the environment variable <code>DYLD_IMAGE_SUFFIX</code> to specify an optional suffix to add to Mach-O libraries when they are loaded. For example, entering <code>setenv DYLD_IMAGE_SUFFIX _debug</code> provides an easy way to link to the debug versions of the various frameworks. You can easily toggle between the normal and debug versions of these libraries without having to rebuild your application each time. The debug versions often perform more assertions, parameter checks, and so on, which may simplify debugging. </p></li><li class="li"><p>You can call functions in Mach-O libraries directly from the GDB command line, as long as they were explicitly or implicitly loaded. For example, you could call the <code>CFShow</code> function, which shows the contents of various Core Foundation and Cocoa objects. Because the Carbon framework is built as Mach-O binaries, you can call Carbon functions from GDB, even those not directly called by your application. </p></li><li class="li"><p>The remote debugger nub has some command line options which you can view by entering <code>/usr/libexec/gdb/DebugNub -help</code></p></li><li class="li"><p>If you want to examine parameter values for CFM applications in GDB, you can do so by examining register values. For example, given a function </p><div class="codesample"><table><tr><td scope="row"><pre>void loofah (int x, int y, int z);<span></span></pre></td></tr></table></div><p>then <code>print $r3</code> from the GDB command line obtains the value of x (passed in GPR3). Remember that the usual calling conventions apply in determining which parameters are passed in which registers. See <em>Mac OS Runtime Architectures</em> for more information about PowerPC calling conventions. </p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../cpg_prepstruct/cpg_prep_struct.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../cpg_portexampstruct/cpg_portexamp_struct.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2002-12-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/carbon_porting_guide/cpg_buildstruct/cpg_build_struct.html%3Fid%3DTP30000991-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/carbon_porting_guide/cpg_buildstruct/cpg_build_struct.html%3Fid%3DTP30000991-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/carbon_porting_guide/cpg_buildstruct/cpg_build_struct.html%3Fid%3DTP30000991-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>