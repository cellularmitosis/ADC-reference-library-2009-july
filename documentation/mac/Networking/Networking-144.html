<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>About ATP(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING144></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-143.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-145.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-143.html"><B>Chapter 6 - AppleTalk Transaction Protocol (ATP)</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING144-0></A>
<H1>About ATP</H1>
 The <A NAME=MARKER-2-64></A>AppleTalk Transaction Protocol offers a simple, efficient means of transferring <BR><I>small</I> amounts of data across a network; it lets one network entity request information <BR>of another entity that possesses only the ability to respond to the request. ATP ensures that data is delivered without error or packet loss. <P>
 ATP communication is based on the concept of a<A NAME=MARKER-2-41></A> <B>transaction:</B> one party, the <B>requester,</B> makes a request of another party, the <B>responder,</B> to perform a service and return a response. This discussion uses the term <A NAME=MARKER-2-25></A><I>requester<B> </B></I>to refer to an application that uses ATP to make a request and <A NAME=MARKER-2-26></A><I>responder</I> to refer to an application that uses ATP to respond to <BR>a request.<P>
 When it receives a request, the responder application performs the necessary processing to service it and sends a response message back to the requester, completing the transaction. The response message can be data that reports the result of the trans-<BR>action or information produced as a result of the processing. Here is how a basic transaction occurs:<P>
<UL>
<LI>The requester application calls the .ATP interface, and the .ATP driver on the requester side sends the request to the .ATP driver on the responder side. 
<LI>The .ATP driver on the responder side passes the request to the responder application, which is listening for incoming .ATP requests. 
<LI>The responder application satisfies the request and prepares a response, then calls <BR>the ATP interface to transmit the response via the .ATP driver back to the requester application.<A NAME=MARKER-9-33></A><P>
</UL>
 <A HREF=#MARKER-9-34>Figure 6-1</A> shows this interaction. <P>
<B>Figure 6-1  <A NAME=MARKER-9-34></A>An ATP transaction</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/ATP-L-01.jpg"><P>
 The amount of data that a requester application <A NAME=MARKER-9-47></A>can send is limited to <A NAME=MARKER-2-204></A>578 bytes; the amount of data that a responder application can return is limited to 4624 bytes. The ATP programming interface includes a function that lets you add one or more single packets to follow the initial response, up to a total of eight packets including the initial number of packets sent, if you do not send eight packets in the initial response. <P>
<DL>
<DT><B>Note</B>
<DD>Although you can use the ATP add-<A NAME=MARKER-2-90></A>response function to extend the amount of response data, if you intend for your application to transfer large amounts of data, you should choose a transport protocol other than ATP. For example, you can use ADSP, which allows you to send and receive continuous streams of data.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 You can implement applications that use ATP to perform network-based transactions in the following two ways: <P>
<UL>
<LI>You can write a single application that handles both the responder and requester actions of an ATP transaction and run that application on two networked nodes. This method allows each application to act as either the requester or the responder. The interaction remains asymmetric; only one side can control the communication during a single transaction. However, each side has the capacity to initiate a transaction by sending a request to the other side. 
<LI>You can write two distinct applications, one application that implements only the requester part of a transaction and another application that implements only the responder side. This scenario lends itself to a client-server model in which many nodes on a network run the requester application (client), while one or more nodes run the responder application (server); one server can respond to transaction requests from various clients. <P>
</UL>
 ATP is a direct client of DDP, and it adds reliable delivery of data to the transport delivery services that DDP provides. <A HREF=#MARKER-9-38>Figure 6-2</A> shows ATP and the underlying <BR>protocol stack. <P>
<B>Figure 6-2  <A NAME=MARKER-9-38></A>ATP and its underlying protocols</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/ATP-L-02.jpg"><P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Networking-145.html#HEADING145-0">The ATP Packet Format</A>
<DD>
<DT><A HREF="Networking-146.html#HEADING146-0">At-Least-Once and Exactly-Once Transactions</A>
<DD>
<DT><A HREF="Networking-147.html#HEADING147-0">The Buffer Data Structure</A>
<DD>
<DT><A HREF="Networking-148.html#HEADING148-0">ATP Flags</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-143.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-145.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
