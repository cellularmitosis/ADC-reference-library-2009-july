<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><TITLE>Technical Q&amp;A PPCSYS07: PowerPC &amp; Writing Info to the Data Fork</TITLE><meta name="keywords" content="Mac OS 8 PowerPC writing info Data Fork cfrg MergeFragment"><meta name="Description" content="Q&amp;A describes how to write info into the data fork using the cfrg resource, on the PowerPC."><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001548" title="PowerPC & Writing Info to the Data Fork"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalqas/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Carbon/idxRuntimeArchitecture-date.html" target="_blank">Carbon > Runtime Architecture</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A PPCSYS07</div>
<div id="pageheadsub">PowerPC &amp; Writing Info to the Data Fork</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->						<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <TD align="left"><HR ALIGN="center" WIDTH="550"><p id = p2>Q:  I'm developing a PowerPC version of my application. In the current version ofmy app, I write info into the data fork. What is the recommended way to do thisfor the Power PC?<p id=p2>In the documentation it talks about offsetting the data using the cfrgresource. Would this help? If so, can this be done using MetrowerksCodeWarrior?</p><p id=p4>A:  Yes. Writing information to the data fork of a PowerPC-native application issupported. You can actually write the code fragment and update the <code>'cfrg'</code> using<code>MergeFragment</code>. <code>MergeFragment</code> takes two files and catenates them. It alsoupdates the offset and length fields for the code fragment's <code>'cfrg'</code> resource,which doesn't necessarily have to start at the beginning of the fork. In fact,it's easier to read the serial information if you write the code fragment afterthe serial information.<p id=p4>A caveat: You need to make sure the offset written to the <code>'cfrg'</code> is an evenvalue, and optimally, a multiple of four. <code>MergeFragment</code> should take care ofthis, but we recommend checking it in your final build to make sure your <code>'cfrg'</code>and data fork are correct. If the offset is not an even value, VM'sfile-mapping won't work, and you won't notice a problem unless running yourapplication on a system with VM enabled.</p><p id=p4>You can use <code>MergeFragment</code> with Metrowerks' Toolserver interface. Check out theMetrowerks documentation for more details.</p></td></tr></table></CENTER><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[May 01 1995]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/ppcsys/ppcsys07.html%3Fid%3DDTS10001548-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/ppcsys/ppcsys07.html%3Fid%3DDTS10001548-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/ppcsys/ppcsys07.html%3Fid%3DDTS10001548-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --> <HR width=550 align=center> </BODY> </HTML>