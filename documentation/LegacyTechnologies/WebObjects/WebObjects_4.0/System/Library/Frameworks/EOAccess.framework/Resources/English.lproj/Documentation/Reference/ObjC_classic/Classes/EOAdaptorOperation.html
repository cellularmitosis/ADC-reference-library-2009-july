<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>EOAdaptorOperation</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">EOAccess Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="More/EOAdaptorContext_more.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="EOAttribute.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/occ/cl/EOAdaptorOperation">EOAdaptorOperation</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
NSObject

<p><B>Conforms To:</B>
NSObject (NSObject)

<p><B>Declared in:</B>
EOAccess/EODatabaseOperation.h

<p><a name="236">
<hr width=50% align=left>
<h2>Class Description </h2>
</a>An EOAdaptorOperation object represents a primitive operation in a database server-lock, insert, update, or delete a row; or execute a stored procedure-and all the necessary information required by the operation. An EOAdaptorOperation is processed by an EOAdaptorChannel object in the method <a href="EOAdaptorChannel.html#1066"><code>performAdaptorOperation:</code></a>. You don't ordinarily create instances of EOAdaptorOperation; rather, the Framework automatically creates an EOAdaptorOperation object and sends it to an adaptor channel when your application needs the database server to perform an operation. You generally interact with EOAdaptorOperation objects only if you need to specify the order in which a set of operations are carried out (see the description for the EODatabaseContext delegate method <B>databaseContext:willOrderAdaptorOperationsFromDatabaseOperations: </B>).<p>
An EOAdaptorOperation has an entity and an operator (the type of operation the object represents). An adaptor operation's operator (EOAdaptorLockOperator, EOAdaptorInsertOperator, EOAdaptorUpdateOperator, EOAdaptorDeleteOperator, or EOAdaptorStoredProcedureOperator) determines additional, operator-dependent information used by the EOAdaptorOperation object. For example, only a stored procedure operation has an EOStoredProcedure object. The operator-dependent information is accessible using the methods described below.<p>
<a name="239">
<hr width=50% align=left>
<h2>Method Types </h2>
</a><dl><dt>Creating a new EOAdaptorOperation
<dl><dt><a href="EOAdaptorOperation.html#6125">- initWithEntity:</a>
</dl><dt>Accessing the entity
<dl><dt><a href="EOAdaptorOperation.html#3279">- entity</a>
</dl><dt>Accessing the operator
<dl><dt><a href="EOAdaptorOperation.html#2629">- setAdaptorOperator:</a>
<dt><a href="EOAdaptorOperation.html#258">- adaptorOperator</a>
</dl><dt>Accessing the qualifier
<dl><dt><a href="EOAdaptorOperation.html#3056">- setStoredProcedure:</a>
<dt><a href="EOAdaptorOperation.html#2178">- qualifier</a>
</dl><dt>Accessing locking attributes
<dl><dt><a href="EOAdaptorOperation.html#2660">- setAttributes:</a>
<dt><a href="EOAdaptorOperation.html#2231">- attributes</a>
</dl><dt>Accessing operation values
<dl><dt><a href="EOAdaptorOperation.html#2687">- setChangedValues:</a>
<dt><a href="EOAdaptorOperation.html#2239">- changedValues</a>
</dl><dt>Accessing a stored procedure
<dl><dt><a href="EOAdaptorOperation.html#3056">- setStoredProcedure:</a>
<dt><a href="EOAdaptorOperation.html#2098">- storedProcedure</a>
</dl><dt>Handling errors during the operation
<dl><dt><a href="EOAdaptorOperation.html#2884">- setException:</a>
<dt><a href="EOAdaptorOperation.html#2189">- exception</a>
</dl><dt>Comparing operations
<dl><dt><a href="EOAdaptorOperation.html#2493">- compareAdaptorOperation:</a>
</dl></dl><a name="2259">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="258">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/adaptorOperator">adaptorOperator</a></h3>
</a>- (EOAdaptorOperator)<B>adaptorOperator </B> <p>
Returns the receiver's adaptor operator. The operator indicates which of the other adaptor operation attributes are valid. For example, an adaptor operation whose operator is EOAdaptorInsertOperator uses <code><a href="EOAdaptorOperation.html#2239">changedValues</a></code>, but not <code><a href="EOAdaptorOperation.html#2231">attributes</a></code>, <code><a href="EOAdaptorOperation.html#2178">qualifier</a></code>, or <code><a href="EOAdaptorOperation.html#2098">storedProcedure</a></code>.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2629"><code>setAdaptorOperator:</code></a>
<p><a name="2231">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/attributes">attributes</a></h3>
</a>- (NSArray *)<B>attributes </B> <p>
Returns the array of attributes to select when locking the row. If attributes have not been assigned to the receiver, the primary key attributes are selected. Only valid for adaptor operations with the EOAdaptorLockOperator.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2660">- <code>setAttributes:</code></a>
<p><a name="2239">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/changedValues">changedValues</a></h3>
</a>- (NSDictionary *)<B>changedValues </B> <p>
Returns the dictionary of values that need to be updated, inserted, or compared for locking purposes.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2687">- <code>setChangedValues:</code></a>
<p><a name="2493">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/compareAdaptorOperation:">compareAdaptorOperation:</a></h3>
</a>- (NSComparisonResult)<B>compareAdaptorOperation: </B>(EOAdaptorOperation *)<em>operation</em> <p>
Orders adaptor operations alphabetically by entity name and by adaptor operator within the same entity. The adaptor operators are ordered as follows:<p>
<ul><li>EOAdaptorLockOperator
<li>EOAdaptorInsertOperator
<li>EOAdaptorUpdateOperator
<li>EOAdaptorDeleteOperator
<li>EOAdaptorStoredProcedureOperator
</ul>EOAdaptorLockOperator precedes EOAdaptorInsertOperator, EOAdaptorInsertOperator precedes EOAdaptorUpdateOperator, and so on.<p>
An EODatabaseContext uses <code>compareAdaptorOperation:</code> to order adaptor operations before invoking EOAdaptorChannel's <a href="EOAdaptorChannel.html#1071"><code>performAdaptorOperations:</code></a> method.<p>
<a name="3279">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/entity">entity</a></h3>
</a>- (EOEntity *)<B>entity </B> <p>
Returns the entity to which the operation will be applied.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#6125">- <code>initWithEntity:</code></a>
<p><a name="2189">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/exception">exception</a></h3>
</a>- (NSException *)<B>exception </B> <p>
Returns the exception that was raised when an adaptor channel attempted to process the receiver. Returns <code>nil</code> if no exception was raised or if the receiver hasn't been processed yet.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2884">- <code>setException:</code></a>
<p><a name="2178">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/qualifier">qualifier</a></h3>
</a>- (EOQualifier *)<B>qualifier </B> <p>
Returns the qualifier that identifies the specific row to which the operation applies. Not valid with adaptor operations with the operators EOAdaptorInsertOperator and EOAdaptorStoredProcedureOperator.<p>
<a name="6125">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/initWithEntity:">initWithEntity:</a></h3>
</a>- <B>initWithEntity: </B>(EOEntity *)<em>entity</em> <p>
The designated initializer, initializes a new EOAdaptorOperation instance, and sets the entity to which the operation will be applied. Returns <code>self</code>.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#3279">- <code>entity</code></a>
<p><a name="2629">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/setAdaptorOperator:">setAdaptorOperator:</a></h3>
</a>- (void)<B>setAdaptorOperator: </B>(EOAdaptorOperator)<em>adaptorOperator</em> <p>
Sets the receiver's operator to <em>adaptorOperator</em>, which is one of the following:<p>
<ul><li>EOAdaptorLockOperator
<li>EOAdaptorInsertOperator
<li>EOAdaptorUpdateOperator
<li>EOAdaptorDeleteOperator
<li>EOAdaptorStoredProcedureOperator
</ul>For more information, see the discussion on adaptor operators in the class description above.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#258">- <code>adaptorOperator</code></a>
<p><a name="2660">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/setAttributes:">setAttributes:</a></h3>
</a>- (void)<B>setAttributes: </B>(NSArray *)<em>attributes</em> <p>
Sets the array of attributes to select when locking the row. The selected values are compared in memory to the corresponding snapshot values to determine if a row has changed since the application last fetched it. <em>attributes</em> is an array of EOAttribute objects that can't be compared in a qualifier (generally BLOB types); it should not be <code>nil</code> or empty. Generally, an adaptor operation's qualifier contains all the comparisons needed to verify that a row hasn't changed since the application last fetched, inserted, or updated it. In this case (if there aren't any attributes that can't be compared in a qualifier), <em>attributes</em> should contain primary key attributes. This method is only valid for adaptor operations with the EOAdaptorLockOperator.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2231">- <code>attributes</code></a>, <a href="EOAdaptorOperation.html#3279">- <code>entity</code></a>
<p><a name="2687">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/setChangedValues:">setChangedValues:</a></h3>
</a>- (void)<B>setChangedValues: </B>(NSDictionary *)<em>changedValues</em> <p>
Sets the dictionary of values that need to be updated, inserted, or compared for locking purposes. <em>changedValues</em> is a dictionary object whose keys are attribute names and whose values are the values for those attributes. As summarized in the following table, the contents of <em>changedValues</em> depends on the receiver's operator:<p>
<Table Border="3">
<caption></caption>
<tr><th><b>Operator
</b></th><th><b>Contents of changedValues Dictionary
</b></th></tr>
<tr><td scope="row">EOAdaptorLockOperator
</td><td>snapshot values used to verify that the database row hasn't 
changed since this application last fetched it
</td></tr>
<tr><td scope="row">EOAdaptorInsertOperator
</td><td>the values to insert
</td></tr>
<tr><td scope="row">EOAdaptorUpdateOperator
</td><td>the new values for the columns to update
</td></tr>
<tr><td scope="row">EOAdaptorDeleteOperator
</td><td>snapshot values (<em>changedValues</em> is only valid for 
AdaptorDeleteOperation if the receiver's entity uses a stored 
procedure to perform delete operations.)
</td></tr>
<tr><td scope="row">EOAdaptorStoredProcedureOperator
</td><td>snapshot values
</td></tr>

</Table>

<Table>
<tr><td>
</Table>
<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2239">- <code>changedValues</code></a>
<p><a name="2884">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/setException:">setException:</a></h3>
</a>- (void)<B>setException: </B>(NSException *)<em>exception</em> <p>
Sets the receiver's exception to <em>exception</em>. This method is typically invoked from EOAdaptorChannel's <a href="EOAdaptorChannel.html#1071"><code>performAdaptorOperations:</code></a> method. If a database error occurs while processing an adaptor operation, the adaptor channel creates an exception and assigns it to the adaptor operation.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2189">- <code>exception</code></a>
<p><a name="2909">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/setQualifier:">setQualifier:</a></h3>
</a>- (void)<B>setQualifier: </B>(EOQualifier *)<em>qualifier</em> <p>
Sets the qualifier that identifies the row to which the adaptor operation is to be applied to <em>qualifier</em>.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2178">- <code>qualifier</code></a>
<p><a name="3056">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/setStoredProcedure:">setStoredProcedure:</a></h3>
</a>- (void)<code>setStoredProcedure:</code>(EOStoredProcedure *)<em>storedProcedure</em> <p>
Sets the receiver's stored procedure to <em>storedProcedure</em>.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#2098">- <code>storedProcedure</code></a>
<p><a name="2098">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/storedProcedure">storedProcedure</a></h3>
</a>- (EOStoredProcedure *)<code>storedProcedure</code> <p>
Returns the receiver's stored procedure. Only valid with adaptor operations with the EOAdaptorStoredProcedureOperation.<p>
<B>See also: </B>  
<a href="EOAdaptorOperation.html#3056">- <code>setStoredProcedure:</code></a>
<p><a name="2957">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorOperation/"></a></h3>
</a>
<hr><br>
<a href="More/EOAdaptorContext_more.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="EOAttribute.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/17/98 17:37:10 -->

</body>
</html>
