<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>System Startup Programming Topics: Creating a Startup Item</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating a Startup Item"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002132" title="Creating a Startup Item"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index-date.html#//apple_ref/doc/uid/TP30000440-TP30000471" target="_top">Mac OS X</a> &gt; <a href="../index.html" target="_top">System Startup Programming Topics</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="LaunchOnDemandDaemons.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="LoggingErrorsandWarnings.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002132-CJBBHDII" title="Creating a Startup Item"></a><hr /><H1>Creating a Startup Item</H1><p>A startup item is a specialized bundle whose code is executed during the final phase of the boot process, and at other predetermined times (see <span class="content_text"><a href="StartupItems.html#//apple_ref/doc/uid/20002132-107434">“Managing Startup Items”</a></span>). The startup item typically contains a shell script or other executable file along with configuration information used by the system to determine the execution order for all startup items. </p><p>The <code>/System/Library/StartupItems</code> directory is reserved for startup items that ship with Mac OS X. All other startup items should be placed in the <code>/Library/StartupItems</code> directory. Note that this directory does not exist by default and may need to be created during installation of the startup item.</p><div class="notebox"><a name="//apple_ref/doc/uid/20002132-SW1" title="Note"></a><p><strong>Note:</strong>&nbsp;The <code><a href="../../../../Darwin/Reference/ManPages/man8/launchd.8.html#//apple_ref/doc/man/8/launchd" target="_top">launchd</a></code> facility is he preferred mechanism for launching daemons in Mac OS X v10.4 and higher. Unless your software requires compatibility with Mac OS X v10.3 or earlier, you should use the <code>launchd</code> facility instead of writing a startup item. For more information, see <span class="content_text"><a href="DesigningDaemons.html#//apple_ref/doc/uid/TP40001791-BBCBHBFB">“Guidelines for Creating and Launching Daemons.”</a></span></p></div><div class="importantbox"><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_12" title="Important:"></a><p><strong>Important:</strong>&nbsp;A startup item is <em>not</em> an application. You cannot display windows or do anything else that you can’t do while logged in via ssh. If you want to launch an application after login, you should install a login item instead. For more information, see <span class="content_text"><a href="CustomLogin.html#//apple_ref/doc/uid/20002134-BAJCGEGG">“Customizing Login and Logout.”</a></span></p><p></p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="StartupItems.html#//apple_ref/doc/uid/20002132-105987">Anatomy of a Startup Item</a>
				
			<br/>
			
        
			
			
				<a href="StartupItems.html#//apple_ref/doc/uid/20002132-105996-TPXREF113">Creating the Startup Item Executable</a>
				
			<br/>
			
        
			
			
				<a href="StartupItems.html#//apple_ref/doc/uid/20002132-106927-BAJEDAFH">Specifying the Startup Item Properties</a>
				
			<br/>
			
        
			
			
				<a href="StartupItems.html#//apple_ref/doc/uid/20002132-107434-BBCCJIIJ">Managing Startup Items</a>
				
			<br/>
			
        
			
			
				<a href="StartupItems.html#//apple_ref/doc/uid/20002132-SW5">Displaying and Localizing a Startup Message</a>
				
			<br/>
			
        
			
			
				<a href="StartupItems.html#//apple_ref/doc/uid/20002132-114886-BBCDDJIC">Startup Item Permissions</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002132-105987" title="Anatomy of a Startup Item"></a><h2>Anatomy of a Startup Item</h2><p>Unlike many other bundled structures, a startup item does not appear as an opaque file in the Finder. A startup item is a directory whose executable and configuration property list reside in the top-level directory. The name of the startup item executable must match the name of the startup item itself. The name of the configuration property list is always <code>StartupParameters.plist</code>. Depending on your needs, you may also include other files in your startup item bundle directory. </p><div class="codesample"><table><tr><td scope="row"><pre>MyStartupItem/<span></span></pre></td></tr><tr><td scope="row"><pre>    MyStartupItem<span></span></pre></td></tr><tr><td scope="row"><pre>    StartupParameters.plist<span></span></pre></td></tr></table></div><p>To create your startup item:</p><ol class="ol"><li class="li"><p>Create the startup item directory. The directory name should correspond to the behavior you’re providing. </p><p>Example: <code>MyDBServer</code></p></li><li class="li"><p>Add your executable to the directory. The name of your executable should be exactly the same as the directory name. For more information, see <span class="content_text"><a href="StartupItems.html#//apple_ref/doc/uid/20002132-105996">“Creating the Startup Item Executable.”</a></span> </p></li><li class="li"><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_96"></a><p>Create a property list with the name <code>StartupParameters.plist</code> and add it to the directory. For information on the keys to include in this property list, see <span class="content_text"><a href="StartupItems.html#//apple_ref/doc/uid/20002132-106927">“Specifying the Startup Item Properties .”</a></span> </p><p>Example: <code>MyDBServer/StartupParameters.plist</code></p></li><li class="li"><p>Create an installer to place your startup item in the <code>/Library/StartupItems</code> directory of the target system. (Your installer may need to create this directory first.) </p><p>Your installer script should set the permissions of the startup item directory to prevent non-root users from modifying the startup item or its contents. For more information, see <span class="content_text"><a href="StartupItems.html#//apple_ref/doc/uid/20002132-114886">“Startup Item Permissions.”</a></span> </p></li></ol><a name="//apple_ref/doc/uid/20002132-105996" title="Creating the Startup Item Executable"></a><a name="//apple_ref/doc/uid/20002132-105996-TPXREF113" title="Creating the Startup Item Executable"></a><h2>Creating the Startup Item Executable</h2><p><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_97"></a>The startup item executable can be a binary executable file or an executable shell script. Shell scripts are more commonly used because they are easier to create and modify. </p><p>If you are implementing your startup-item executable as a shell script, Mac OS X provides some code to simplify the process of creating your script. The file <code>/etc/rc.common</code> defines routines for processing command-line arguments and for gathering system settings. In your shell script, source the <code>rc.common</code> file and call the <code>RunService</code> routine, passing it the first command-line argument, as shown in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>#!/bin/sh<span></span></pre></td></tr><tr><td scope="row"><pre>. /etc/rc.common<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre># The start subroutine<span></span></pre></td></tr><tr><td scope="row"><pre>StartService() {<span></span></pre></td></tr><tr><td scope="row"><pre>    # Insert your start command below.  For example:<span></span></pre></td></tr><tr><td scope="row"><pre>    mydaemon -e -i -e -i -o<span></span></pre></td></tr><tr><td scope="row"><pre>    # End example.<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre># The stop subroutine<span></span></pre></td></tr><tr><td scope="row"><pre>StopService() {<span></span></pre></td></tr><tr><td scope="row"><pre>    # Insert your stop command(s) below.  For example:<span></span></pre></td></tr><tr><td scope="row"><pre>    killall -TERM mydaemon<span></span></pre></td></tr><tr><td scope="row"><pre>    sleep 10<span></span></pre></td></tr><tr><td scope="row"><pre>    killall -9 mydaemon<span></span></pre></td></tr><tr><td scope="row"><pre>    # End example.<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre># The restart subroutine<span></span></pre></td></tr><tr><td scope="row"><pre>RestartService() {<span></span></pre></td></tr><tr><td scope="row"><pre>    # Insert your start command below.  For example:<span></span></pre></td></tr><tr><td scope="row"><pre>    killall -HUP mydaemon<span></span></pre></td></tr><tr><td scope="row"><pre>    # End example.<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>RunService "$1"<span></span></pre></td></tr></table></div><p>The <code>RunService</code> routine looks for <code>StartService</code>, <code>StopService</code>, and <code>RestartService</code> functions in your shell script and calls them to start, stop, or restart your services as needed. You must provide implementations for all three routines, although the implementations can be empty for routines whose commands your service does not support. </p><p>If your startup-item executable contains code that might take a long time to finish, consider spawning off a background process to run that code. Performing lengthy startup tasks directly from your scripts delays system startup. Your startup item script should execute as quickly as possible and then exit.</p><p>For more information about writing shell scripts, see <em><a href="../../../../OpenSource/Conceptual/ShellScripting/index.html#//apple_ref/doc/uid/TP40004268" target="_top">Shell Scripting Primer</a></em>.</p><div class="notebox"><a name="//apple_ref/doc/uid/20002132-SW2" title="Note"></a><p><strong>Note:</strong>&nbsp;Most apple-provided startup items have a test in the script to check to see if a particular variable is set to prevent automatic starting of daemons unless they are enabled (usually in the System Preference sharing pane).</p>To enable or disable a daemon that does not have a GUI checkbox, you must add or modify these variables directly by editing the file <code>/etc/hostconfig</code>.</p></div><a name="//apple_ref/doc/uid/20002132-106927" title="Specifying the Startup Item Properties "></a><a name="//apple_ref/doc/uid/20002132-106927-BAJEDAFH" title="Specifying the Startup Item Properties "></a><h2>Specifying the Startup Item Properties </h2><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_98"></a><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_99"></a><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_100"></a><p>The configuration property list of a startup item provides descriptive information about the startup item, lists the services it provides, and lists its <a name="//apple_ref/doc/uid/20002132-DontLinkElementID_101"></a>dependencies on other services. Mac OS X uses the service and dependency information to determine the launch order for startup items. This property list is stored in ASCII format (as opposed to XML) and can be created using the Property List Editor application. </p><div class="notebox"><a name="//apple_ref/doc/uid/20002132-SW3" title="Note"></a><p><strong>Note:</strong>&nbsp;In Mac OS X v10.4 and later, the dependency information for many stubbed-out system startup items is still present in case other startup items depend on it. </p></div><p><span class="content_text"><a href="StartupItems.html#//apple_ref/doc/uid/20002132-107251-CJBDCDEC">Table 1</a></span> lists the key-value pairs you can include in your startup item’s <code>StartupParameters.plist</code> file. Each of the listed arrays contains string values. You can use the <a name="//apple_ref/doc/uid/20002132-DontLinkElementID_102"></a>Property List Editor application that comes with the Xcode Tools to create this property list. When saving your property-list file, be sure to save it as an ASCII property-list file. </p><a name="//apple_ref/doc/uid/20002132-107251-CJBDCDEC" title="Table 1StartupParameters.plist key-value pairs"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20002132-107251" title="Table 1StartupParameters.plist key-value pairs"></a><strong>Table 1&nbsp;&nbsp;</strong>StartupParameters.plist key-value pairs</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Type</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Value</p></th></tr><tr><td  scope="row"><p>Description</p></td><td ><p>String</p></td><td ><p>A short description of the startup item, used by administrative tools.</p></td></tr><tr><td  scope="row"><p>Provides</p></td><td ><p>Array</p></td><td ><p>The names of the services provided by this startup item. Although a startup item can potentially provide multiple services, it is recommended that you limit your startup items to only one service each. </p></td></tr><tr><td  scope="row"><p>Requires</p></td><td ><p>Array</p></td><td ><p>The services provided by other startup items that must be running before this startup item can be started. If the required services are not available, this startup item is not run.</p></td></tr><tr><td  scope="row"><p>Uses</p></td><td ><p>Array</p></td><td ><p>The services provided by other startup items that should be started before this startup item, but which are not required. The startup item should be able to start without the availability of these services.</p></td></tr></table></div><p>For example, here is an old-style plist:</p><div class="codesample"><table><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>  Description     = "Software Update service";<span></span></pre></td></tr><tr><td scope="row"><pre>  Provides        = ("SoftwareUpdateServer");<span></span></pre></td></tr><tr><td scope="row"><pre>  Requires        = ("Network");<span></span></pre></td></tr><tr><td scope="row"><pre>  Uses            = ("Network");<span></span></pre></td></tr><tr><td scope="row"><pre>  OrderPreference = "Late";<span></span></pre></td></tr><tr><td scope="row"><pre>  Messages =<span></span></pre></td></tr><tr><td scope="row"><pre>  {<span></span></pre></td></tr><tr><td scope="row"><pre>    start = "Starting Software Update service";<span></span></pre></td></tr><tr><td scope="row"><pre>    stop  = "Stopping Software Update service";<span></span></pre></td></tr><tr><td scope="row"><pre>  };<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>And here is an XML plist example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!DOCTYPE plist SYSTEM "file://localhost/System/Library/DTDs/PropertyList.dtd"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;plist version="0.9"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Description&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>Apple Serial Terminal Support&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>OrderPreference&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>Late&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Provides&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>Serial Terminal Support&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Uses&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>SystemLog&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/plist><span></span></pre></td></tr></table></div><p>The service names you specify in the <code>Requires</code> and <code>Uses</code> arrays may not always correspond directly to the name of the startup item that provides that service. The <code>Provides</code> property specifies the actual name of the service provided by a startup item, and while this name usually matches the name of the startup item, it is not required to do so. For example, if the startup item launches multiple services, only one of those services can have the same name as the startup item.</p><p>If two startup items<a name="//apple_ref/doc/uid/20002132-DontLinkElementID_103"></a> provide a service with the same name, the system runs only the first startup item it finds with that name. This is one of the reasons why your own startup items should launch only one service. If the name of only one of the services matches the name of another service, the entire startup item might not be executed and neither service would be launched. </p><p>The values of the <code>Requires</code> and <code>Uses</code> keys do not guarantee a particular launch order.<a name="//apple_ref/doc/uid/20002132-DontLinkElementID_104"></a></p><p>In Mac OS X v10.4 and later, most low-level services are started with <code><a href="../../../../Darwin/Reference/ManPages/man8/launchd.8.html#//apple_ref/doc/man/8/launchd" target="_top">launchd</a></code>. By the time your startup item starts executing, <code>launchd</code> is running, and any attempt to access any of the services provided by a <code>launchd</code> daemon will result in that daemon starting. Thus, you can safely assume (or at least pretend) that any of these services are running by the time your startup item is called.</p><p>For this reason, with few exceptions, the <code>Requires</code> and <code>Uses</code> keys are largely irrelevant after Mac OS X v10.3 except to support service dependencies between two or more third-party startup items.</p><a name="//apple_ref/doc/uid/20002132-107434" title="Managing Startup Items"></a><a name="//apple_ref/doc/uid/20002132-107434-BBCCJIIJ" title="Managing Startup Items"></a><h2>Managing Startup Items</h2><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_105"></a><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_106"></a><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_107"></a><p>During the boot process, the system launches the available startup items, passing a <code>start</code> argument to the startup item executable. After the boot process, the system may run the startup item executable again, this time passing it a <code>restart</code> or <code>stop</code> argument. Your startup item executable should check the supplied argument and act accordingly to start, restart, or stop the corresponding services.</p><div class="notebox"><a name="//apple_ref/doc/uid/20002132-SW4" title="Note"></a><p><strong>Note:</strong>&nbsp;In general, with the exception of daemons provided with Mac OS X, the system will only run your startup script with <code>start</code> or <code>stop</code> arguments (at boot and shutdown, respectively). Users, however, may elect to use the <code>restart</code> argument.</p>You should not make any assumptions about the order in which daemons will be shut down.</p></div><p>If you want to start, restart, or stop startup items from your own scripts, you can do so using the <code>SystemStarter</code> program. To use <code>SystemStarter</code>, you must execute it with two parameters: the desired action and the name of the service provided by the startup item. For example, to restart the Apache Web server, you would execute the following command:</p><div class="codesample"><table><tr><td scope="row"><pre>/sbin/SystemStarter restart "Web Server"<span></span></pre></td></tr></table></div><div class="importantbox"><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_13" title="Important:"></a><p><strong>Important:</strong>&nbsp;You must have root authority to start, restart, or stop startup items. </p><p></p></div><p>Startup items should always respect the arguments passed in by <code>SystemStarter</code>. However, the response to those arguments is dependent on the startup item. The stop and restart options may not make sense in all cases. Your startup item could also support the restart option using the existing code for stopping and starting its service. </p><a name="//apple_ref/doc/uid/20002132-SW5" title="Displaying and Localizing a Startup Message"></a><h2>Displaying and Localizing a Startup Message</h2><p>When your startup item starts at boot time, you may (if desired) display a message to the user. To do this, use the <code><!--a target="_top" -->ConsoleMessage<!--/a--></code> command. (You can use this command even if the computer is not starting up, but the user will not see it unless the Console application is running.)</p><p>For example:</p><div class="codesample"><table><tr><td scope="row"><pre>ConsoleMessage "MyDaemon is running.  Better go catch it."<span></span></pre></td></tr></table></div><p>If you want to localize the message displayed when a startup item starts, you must create a series of property list files with localized versions of the strings. Each of these files must be named <code>Localizable.strings</code>, and must be in a localized project directory whose name is based on the name of a language or locale code for the desired language. These folders, in turn, must be in a folder called <code>Resources</code> in the startup item folder.</p><p>For example, you might create a tree structure that looks like this:</p><div class="codesample"><table><tr><td scope="row"><pre>MyDaemon<span></span></pre></td></tr><tr><td scope="row"><pre>    |<span></span></pre></td></tr><tr><td scope="row"><pre>    |- MyDaemon<span></span></pre></td></tr><tr><td scope="row"><pre>    |- StartupParameters.plist<span></span></pre></td></tr><tr><td scope="row"><pre>    |- Resources<span></span></pre></td></tr><tr><td scope="row"><pre>            |<span></span></pre></td></tr><tr><td scope="row"><pre>            |- English.lproj<span></span></pre></td></tr><tr><td scope="row"><pre>            |- French.lproj<span></span></pre></td></tr><tr><td scope="row"><pre>            |- German.lproj<span></span></pre></td></tr><tr><td scope="row"><pre>            |- zh_CN.lproj<span></span></pre></td></tr></table></div><p>Within each of these localizable strings files, you must include a dictionary whose keys map an English string to a string in another language. For example, the French version of the <code>PrintingServices</code> localization file looks like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;plist version="1.0"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Starting printing services&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>Démarrage des services d’impression&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/plist><span></span></pre></td></tr></table></div><p>Whenever the <code><!--a target="_top" -->ConsoleMessage<!--/a--></code> command is passed the string “Starting printing services”, if the user’s language preference is French, the user will instead see “Démarrage des services d’impression” at startup. C’est très bien!</p><p>The value of the <em>key</em> field must precisely match the english string printed by your startup item using <code>ConsoleMessage</code>.</p><p>See the manual page for <code><a href="../../../../Darwin/Reference/ManPages/man1/locale.1.html#//apple_ref/doc/man/1/locale" target="_top">locale</a></code> for more information about locale codes.</p><a name="//apple_ref/doc/uid/20002132-114886" title="Startup Item Permissions"></a><a name="//apple_ref/doc/uid/20002132-114886-BBCDDJIC" title="Startup Item Permissions"></a><h2>Startup Item Permissions</h2><p>Because startup items run with root authority, you must make sure your startup item directory permissions are set correctly. For security reasons, your startup item directory should be owned by root, the group should be set to wheel, and the permissions for the directory should be 755 (rwxr-xr-x). This means that only the root user can modify the directory contents; other users can examine the directory view its contents but not modify them. The files inside the directory should have similar permissions and ownership. Thus, the file listing for the Apache startup item directory is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>./Apache:<span></span></pre></td></tr><tr><td scope="row"><pre>total 16<span></span></pre></td></tr><tr><td scope="row"><pre>drwxr-xr-x    4 root  wheel   136 Feb 14 14:33 .<span></span></pre></td></tr><tr><td scope="row"><pre>drwxr-xr-x   21 root  wheel   714 Feb 14 15:03 ..<span></span></pre></td></tr><tr><td scope="row"><pre>-rwxr-xr-x    1 root  wheel  1253 Feb 10 19:31 Apache<span></span></pre></td></tr><tr><td scope="row"><pre>-rw-r--r--    1 root  wheel   152 Feb 10 19:31 StartupParameters.plist<span></span></pre></td></tr></table></div><div class="importantbox"><a name="//apple_ref/doc/uid/20002132-DontLinkElementID_14" title="Important:"></a><p><strong>Important:</strong>&nbsp;In Mac OS X version 10.4 and later, the system asks the user what to do about startup items with incorrect permissions. At this point, the user may choose to disable the startup item, which could have unexpected results for your software. To avoid this, be sure to set the permissions during installation. </p><p></p></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="LaunchOnDemandDaemons.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="LoggingErrorsandWarnings.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-11-19<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MacOSX/Conceptual/BPSystemStartup/Articles/StartupItems.html%3Fid%3D10000172i-3.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MacOSX/Conceptual/BPSystemStartup/Articles/StartupItems.html%3Fid%3D10000172i-3.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MacOSX/Conceptual/BPSystemStartup/Articles/StartupItems.html%3Fid%3D10000172i-3.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
