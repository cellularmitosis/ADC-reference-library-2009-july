<html><head><title>Mac OS X
 Manual Page For dsconfigad(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/dsconfigad" title="Mac OS X
 Manual Page for dsconfigad(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/dsconfigad"; name=dsconfigad(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
dsconfigad(8)             BSD System Manager's Manual            dsconfigad(8)

<b>NAME</b>
     <b>dsconfigad</b> -- retrieves/changes configuration for Directory Services Active Directory Plugin.

<b>SYNOPSIS</b>
     <b>dsconfigad</b> <b>-h</b>
     <b>dsconfigad</b> <b>-show</b> [<b>-lu</b> <u>username</u>] [<b>-lp</b> <u>password</u>]
     <b>dsconfigad</b> [<b>-f</b>] [<b>-a</b> <u>computerid</u>] <b>-domain</b> <u>fqdn</u> <b>-u</b> <u>username</u> [<b>-p</b> <u>password</u>] [<b>-lu</b> <u>username</u>] [<b>-lp</b> <u>password</u>]
                [<b>-ou</b> <u>dn</u>] [<b>-status</b>]
     <b>dsconfigad</b> <b>-r</b> <b>-u</b> <u>username</u> [<b>-p</b> <u>password</u>] [<b>-lu</b> <u>username</u>] [<b>-lp</b> <u>password</u>]
     <b>dsconfigad</b> [<b>-lu</b> <u>username</u>] [<b>-lp</b> <u>password</u>] [<b>-mobile</b> <u>enable</u> | <u>disable</u>] [<b>-mobileconfirm</b> <u>enable</u> | <u>disable</u>]
                [<b>-localhome</b> <u>enable</u> | <u>disable</u>] [<b>-useuncpath</b> <u>enable</u> | <u>disable</u>] [<b>-protocol</b> <u>afp</u> | <u>smb</u>]
                [<b>-shell</b> <u>value</u>] [<b>-uid</b> <u>attribute</u> | <b>-nouid</b>] [<b>-gid</b> <u>attribute</u> | <b>-nogid</b>]
                [<b>-ggid</b> <u>attribute</u> | <b>-noggid</b>] [<b>-preferred</b> <u>server</u> | <b>-nopreferred</b>]
                [<b>-groups</b> "<u>group1,group2,...</u>" | <b>-nogroups</b>] [<b>-alldomains</b> <u>enable</u> | <u>disable</u>]
                [<b>-packetsign</b> <u>allow</u> | <u>disable</u> | <u>require</u>] [<b>-packetencrypt</b> <u>allow</u> | <u>disable</u> | <u>require</u>]
                [<b>-passinterval</b> <u>value</u>] [<b>-namespace</b> <u>forest</u> | <u>domain</u>] [<b>-enableSSO</b>]
     <b>dsconfigad</b> <b>-staticmap</b> <u>attribute-type</u> <u>attribute-value</u> [<b>-lu</b> <u>username</u>] [<b>-lp</b> <u>password</u>]

<b>DESCRIPTION</b>
     This tool allows command-line configuration of the Active Directory Plugin.  <b>dsconfigad</b> has the same
     functionality for configuring the Active Directory plugin as the Directory Access application.  It
     requires "admin" privileges to the local workstation and to the Directory to make changes.

     A list of flags and their descriptions:

     <b>-h</b>       Lists the options for calling <b>dsconfigad</b>

     <b>-show</b>    Shows the current configuration of the Active Directory Plugin

     <b>-f</b>       Force the process (i.e., join the existing account or remove the binding)

     <b>-a</b> <u>computerid</u>
              Add "computerid" to the specified Domain

     <b>-r</b>       Remove this computer from the current Domain

     <b>-status</b>  Print status information while adding computer to domain.

     <b>-u</b> <u>username</u>
              Username of a Network account that has administrative privileges to add/remove this computer
              to/from the specified Domain

     <b>-p</b> <u>password</u>
              Password to use in conjunction with the specified username.  If this is not specified, you
              will be prompted for entry.

     <b>-lu</b> <u>username</u>
              Username of a local account that has administrative privileges to this computer

     <b>-lp</b> <u>password</u>
              Password to use in conjunction with the specified local username.  If this is not specified,
              you will be prompted for entry.

     <b>-domain</b> <u>fqdn</u>
              The fully-qualified DNS name of the Domain to be used when adding the computer to the Direc-<font color="#ffffff" class="whiteout">tory&nbsp;Directory</font>
              tory (e.g., domain.ads.demo.com).

     <b>-ou</b> <u>dn</u>   The LDAP DN of the container to use for adding the computer.  If this is not specified, it
              will default to the container "CN=Computers" within the domain that was specified (e.g.,
              "CN=Computers,DC=domain,DC=ads,DC=demo,DC=com"

     <b>-mobile</b> <u>enable</u> | <u>disable</u>
              This flag determines whether the plugin will enable mobile account support for offline logon
              (disabled by default).  This flag is a hint.  If the appopriate Workgroup Management settings
              exist for a user, this will not override, as directory settings for the user take precendence.

     <b>-mobileconfirm</b> <u>enable</u> | <u>disable</u>
              This flag determines whether the plugin will warn the user when a mobile account is going to
              be created.  This flag is a hint as discussed in <b>-mobile</b>

     <b>-localhome</b> <u>enable</u> | <u>disable</u>
              This flag determines whether the plugin forces all home directories to be local to the com-<font color="#ffffff" class="whiteout">puter&nbsp;computer</font>
              puter (i.e., /Users/username) (enabled by default).

     <b>-useuncpath</b> <u>enable</u> | <u>disable</u>
              This flag determines whether the plugin uses the UNC specified in the Active Directory when
              mounting the network home.  If this is disabled, the plugin will look for Apple schema exten-<font color="#ffffff" class="whiteout">sions&nbsp;extensions</font>
              sions to mount the home directory.

     <b>-protocol</b> <u>afp</u> | <u>smb</u>
              This flag determines how a home directory is mounted on the desktop.  By default SMB is used,
              but AFP can be used for use with Mac OS X Server or 3rd Party AFP solutions on Windows Servers
              (previously known as mountstyle)

     <b>-shell</b> <u>value</u>
              Use the specified shell (e.g., "/bin/bash") if a shell attribute does not exist in the direc-<font color="#ffffff" class="whiteout">tory&nbsp;directory</font>
              tory for the user logging into this computer.  Use a shell value of "none" to disable use of a
              default shell, preserving values that are only specified in the directory.

     <b>-uid</b> <u>attribute</u>
              This specifies the attribute to be used for the UID of the user.  By default, a UID is gener-<font color="#ffffff" class="whiteout">ated&nbsp;generated</font>
              ated from the Active Directory GUID.

     <b>-nouid</b>   Turn off any previously mapped attribute and generate the UID from the Active Directory GUID.

     <b>-gid</b> <u>attribute</u>
              This specifies the attribute to be used for the GID of the user.  By default, a GID is derived
              from the primaryGroupID of the user (typically Domain Users).

     <b>-nogid</b>   Turn off any previously mapped attribute and use the GID from the directory.

     <b>-ggid</b> <u>attribute</u>
              This specifies the attribute to be used for the GID of the group.  By default, a group GID is
              generated from the Active Directory GUID of the group.

     <b>-noggid</b>  Turn off any previously mapped attribute and generate the group GID from the Active Directory
              GUID.

     <b>-preferred</b> <u>server</u>
              Use the specified server for all Directory lookups and authentications.  If the server is no
              longer available, it will fail-over to other servers.

     <b>-nopreferred</b>
              Turn off any previously specified server and default to dynamic server discovery.

     <b>-groups</b> <u>group1,group2,...</u>
              Use the listed groups to determine who has local administrative privileges on this computer.
              Groups can be specified by domain to ensure security is not compromised, e.g., "domain
              admins@domain.ads.demo.com"

     <b>-nogroups</b>
              Disable use of the current groups for determining administrative privileges on this computer.

     <b>-alldomains</b> <u>enable</u> | <u>disable</u>
              This flag determines whether the plugin allows authentication from any domain in the forest.
              When this is enabled, individual domains will not be visible, only "All Domains". If it is
              disabled, you will have the ability to select the specific domains that can authenticate to
              this computer. Enabled by default.

     <b>-staticmap</b> <u>attribute-type</u> <u>attribute-value</u>
              Enable static mapping of an attribute-type to a specific attribute-value for User records.  Do
              not static map values such as UID, RecordName and GeneratedUID as unexpected behavior will
              occur.  This is for use in other attributes that are not typically searched.  Attribute types
              are Directory Service types (i.e., "dsAttrTypeStandard:State"), see <a href="../man7/DirectoryServiceAttributes.7.html#//apple_ref/doc/man/7/DirectoryServiceAttributes">DirectoryServiceAt</a>-<font color="#ffffff" class="whiteout">tributes(7).&nbsp;DirectoryServiceAttributes(7).</font>
              <a href="../man7/DirectoryServiceAttributes.7.html#//apple_ref/doc/man/7/DirectoryServiceAttributes">tributes(7)</a>.

     <b>-packetsign</b> <u>allow</u> | <u>disable</u> | <u>require</u>
              By default packet signing is allowed but not required, but can be required or disabled (for
              example if debugging a problem).  This ensures that the data to/from the server is not tam-<font color="#ffffff" class="whiteout">pered&nbsp;tampered</font>
              pered with by another computer before received it is received.

     <b>-packetencrypt</b> <u>allow</u> | <u>disable</u> | <u>require</u>
              By default packet encryption is allowed but not required, but can be required or disabled (for
              example if debugging a problem).  This ensures that the data to/from the server is encrypted
              and signed guaranteeing the content was not tampered with and cannot be seen by other comput-<font color="#ffffff" class="whiteout">ers&nbsp;computers</font>
              ers on the network.

     <b>-passinterval</b> <u>value</u>
              Set how often the computer trust account password should be changed (default 14).

     <b>-namespace</b> <u>forest</u> | <u>domain</u>
              Sets the primary account username naming convention.  By default it is set to "domain" naming
              which assumes no conflicting user accounts across all domains.  If your Active Directory for-<font color="#ffffff" class="whiteout">est&nbsp;forest</font>
              est has conflicts setting this to "forest" will prefix all usernames with "DOMAIN\" to ensure
              unique naming between domains (e.g., "ADDOMAIN\user1").  Warning:  this will change the pri-<font color="#ffffff" class="whiteout">mary&nbsp;primary</font>
              mary name of the user for all logins.  Changing this setting on an existing system will cause
              any existing homes to be unused on the local machine.

     <b>-enableSSO</b>
              (Server Only) When using MacOS X Server with Active Directory, this enables SSO for all sup-<font color="#ffffff" class="whiteout">ported&nbsp;supported</font>
              ported services.

<b>EXAMPLES</b>
     Adding a computer to a Directory:

     <b>dsconfigad</b> -a ThisComputer -u "administrator" -ou "CN=Computers,OU=Engineering,DC=ads,DC=demo,DC=com"
     -domain domain.ads.apple.com

     Giving a set of groups administrative access to the local computer:

     <b>dsconfigad</b> -groups "DOMAIN\domain admins,FOREST\enterprise admins,DOMAIN\desktop techs"

<b>SEE</b> <b>ALSO</b>
     <a href="DirectoryService.8.html#//apple_ref/doc/man/8/DirectoryService">DirectoryService(8)</a>, <a href="../man7/DirectoryServiceAttributes.7.html#//apple_ref/doc/man/7/DirectoryServiceAttributes">DirectoryServiceAttributes(7)</a>

Darwin                           April 2, 2008                          Darwin
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/dsconfigad.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/dsconfigad.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/dsconfigad.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
