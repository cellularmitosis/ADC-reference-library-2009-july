<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html><head>
    <title>IOBluetoothHandsFreeGateway</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta name="generator" content="HeaderDoc" />
<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style></head><body bgcolor="#ffffff">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/HardwareDrivers/index.html#//apple_ref/doc/uid/TP30001281-TP40003576" target="_top">Hardware & Drivers</a> <b>&gt;</b> <a href="../../../../../../../reference/HardwareDrivers/idxBluetooth-date.html#//apple_ref/doc/uid/TP30001281-TP40003576-TP30000490" target="_top">Bluetooth</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/bluetooth_fw" target="_top">Bluetooth Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>


<!-- end of header -->
<a name="top"></a>
<a name="//apple_ref/doc/class/IOBluetoothHandsFreeGateway" title="IOBluetoothHandsFreeGateway"></a>
<hr><table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h1><a name="IOBluetoothHandsFreeGateway">IOBluetoothHandsFreeGateway</a></h1>
</td></tr></table><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr><td scope="row"><b>Inherits from:</b></td><td><div style="margin-bottom:1px"><div class="content_text"><!-- a --><p>IOBluetoothRFCOMMAudioController<!-- /a --></div></div></td></tr>
<tr><td scope="row"><b>Declared In:</b></td><td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IOBluetoothHandsFreeGateway.h</a></div></div></td></tr>
</table></div>
<h2>Overview</h2>
</h5><!-- begin discussion --><p>In order to use this object with a Bluetooth Handsfree device, developers need to publish a Handsfree
Audio Gateway SDP service.  Some devices will be fine without seeing a published HF Gateway service
on your machine/device, but a majority of them will not like it and will behave sporadically. Fields
in the SDP record are used to tell the device about what features the Gateway supports so its required
to have it published.
</p>
<p>There are some suggested error checks developers should provide before using this object.  When 
connecting out to a remote device developers need to check that the device has the Handsfree service in 
its SDP records. Use the provided class method in this object.
</p>
<p>To attach to a device that has connected into the machine, developers need to check for the existence of 
the service (using the provided class method in this object), that the device is attaching to the RFCOMM 
channel associated with the Handsfree Gateway SDP record published on the machine, and that the device 
that is connecting is configured as a headset with the machine.  Developers will need to search the local
SDP records to find the Gateway record for the machine, the provided APIs are only for the target device.
<!-- end discussion -->
<hr><br><h2>Methods</h2>
<a name="HeaderDoc_methods"></a>
<dl>
<dt><tt><a href="CompositePage.html#//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/getDeviceSupportedFeatures" target="doc">-getDeviceSupportedFeatures</a></tt></dt>
<dd><p>Get the supported device features
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/getGatewaySupportedFeatures" target="doc">-getGatewaySupportedFeatures</a></tt></dt>
<dd><p>Get the supported gateway features
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/occ/clm/IOBluetoothHandsFreeGateway/getRequiredSDPRFCOMMChannelIDForDevice:" target="doc">+getRequiredSDPRFCOMMChannelIDForDevice:</a></tt></dt>
<dd><p>Return the rfcomm channel ID as specified in the Handsfree SDP record of the device.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/occ/clm/IOBluetoothHandsFreeGateway/getRequiredSDPServiceRecordForDevice:" target="doc">+getRequiredSDPServiceRecordForDevice:</a></tt></dt>
<dd><p>Returns the Handsfree SDP service record for the device.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/initForConnectionToDevice:supportedFeatures:delegate:" target="doc">-initForConnectionToDevice:supportedFeatures:delegate:</a></tt></dt>
<dd><p>Create a new IOBluetoothHandsFreeGateway for outgoing connect to a device
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/initWithIncomingDevice:incomingRFCOMMChannelID:supportedFeatures:delegate:" target="doc">-initWithIncomingDevice:incomingRFCOMMChannelID:supportedFeatures:delegate:</a></tt></dt>
<dd><p>Create a new IOBluetoothHandsFreeGateway for a device that is trying to connect in
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/setGatewaySupportedFeatures:" target="doc">-setGatewaySupportedFeatures:</a></tt></dt>
<dd><p>Set the supported gateway features
</dd>
</dl>
<hr><!-- headerDoc=instm;  uid=//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/getDeviceSupportedFeatures;   name=IOBluetoothHandsFreeGateway::getDeviceSupportedFeatures -->
<a name="//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/getDeviceSupportedFeatures"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="getDeviceSupportedFeatures">getDeviceSupportedFeatures</a></h3>
</td></tr></table><hr><p><!-- begin abstract --><p>Get the supported device features
<!-- end abstract --></p>
<p></p><pre>- (<!-- a --><span class="type">UInt32</span><!-- /a -->) <!-- a --><span class="var">getDeviceSupportedFeatures</span><!-- /a -->; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A mask of feature values from the IOBluetoothHandsFreeFeatures enum

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><!-- begin discussion --><p>Get the device features  set during the connection setup process with the device.
<!-- end discussion -->
<p></p><hr><!-- headerDoc=instm;  uid=//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/getGatewaySupportedFeatures;   name=IOBluetoothHandsFreeGateway::getGatewaySupportedFeatures -->
<a name="//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/getGatewaySupportedFeatures"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="getGatewaySupportedFeatures">getGatewaySupportedFeatures</a></h3>
</td></tr></table><hr><p><!-- begin abstract --><p>Get the supported gateway features
<!-- end abstract --></p>
<p></p><pre>- (<!-- a --><span class="type">UInt32</span><!-- /a -->) <!-- a --><span class="var">getGatewaySupportedFeatures</span><!-- /a -->; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A mask of feature values from the IOBluetoothHandsFreeFeatures enum

<!-- end return value --></p><p></p><hr><!-- headerDoc=clm;  uid=//apple_ref/occ/clm/IOBluetoothHandsFreeGateway/getRequiredSDPRFCOMMChannelIDForDevice:;   name=IOBluetoothHandsFreeGateway::getRequiredSDPRFCOMMChannelIDForDevice: -->
<a name="//apple_ref/occ/clm/IOBluetoothHandsFreeGateway/getRequiredSDPRFCOMMChannelIDForDevice:"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="getRequiredSDPRFCOMMChannelIDForDevice:">getRequiredSDPRFCOMMChannelIDForDevice:</a></h3>
</td></tr></table><hr><p><!-- begin abstract --><p>Return the rfcomm channel ID as specified in the Handsfree SDP record of the device.
<!-- end abstract --></p>
<p></p><pre>+ (<!-- a --><span class="type">BluetoothRFCOMMChannelID</span><!-- /a -->) 
        <!-- a --><span class="function">getRequiredSDPRFCOMMChannelIDForDevice</span><!-- /a -->:(<a href="../../../IOBluetoothDevice_h/Classes/IOBluetoothDevice/index.html#//apple_ref/occ/cl/IOBluetoothDevice" target="_top" class="type"><span class="type">IOBluetoothDevice</span></a><span class="type">*</span>)<!-- a --><span class="var">device</span><!-- /a -->; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>device</code></dt><dd><p>A valid IOBluetoothDevice</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->The SDP specified RFCOMM channel ID for the device on success, 0 on failure

<!-- end return value --></p><p></p><hr><!-- headerDoc=clm;  uid=//apple_ref/occ/clm/IOBluetoothHandsFreeGateway/getRequiredSDPServiceRecordForDevice:;   name=IOBluetoothHandsFreeGateway::getRequiredSDPServiceRecordForDevice: -->
<a name="//apple_ref/occ/clm/IOBluetoothHandsFreeGateway/getRequiredSDPServiceRecordForDevice:"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="getRequiredSDPServiceRecordForDevice:">getRequiredSDPServiceRecordForDevice:</a></h3>
</td></tr></table><hr><p><!-- begin abstract --><p>Returns the Handsfree SDP service record for the device.
<!-- end abstract --></p>
<p></p><pre>+ (<a href="../../../IOBluetoothSDPServiceRecord_h/Classes/IOBluetoothSDPServiceRecord/index.html#//apple_ref/occ/cl/IOBluetoothSDPServiceRecord" target="_top" class="type"><span class="type">IOBluetoothSDPServiceRecord</span></a> <span class="type">*</span>) 
        <!-- a --><span class="function">getRequiredSDPServiceRecordForDevice</span><!-- /a -->:(<a href="../../../IOBluetoothDevice_h/Classes/IOBluetoothDevice/index.html#//apple_ref/occ/cl/IOBluetoothDevice" target="_top" class="type"><span class="type">IOBluetoothDevice</span></a><span class="type">*</span>)<!-- a --><span class="var">device</span><!-- /a -->; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>device</code></dt><dd><p>A valid IOBluetoothDevice</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->The Handsfree SDP record for the device on success, nil on failure

<!-- end return value --></p><p></p><hr><!-- headerDoc=instm;  uid=//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/initForConnectionToDevice:supportedFeatures:delegate:;   name=IOBluetoothHandsFreeGateway::initForConnectionToDevice:supportedFeatures:delegate: -->
<a name="//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/initForConnectionToDevice:supportedFeatures:delegate:"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="initForConnectionToDevice:supportedFeatures:delegate:">initForConnectionToDevice:supportedFeatures:delegate:</a></h3>
</td></tr></table><hr><p><!-- begin abstract --><p>Create a new IOBluetoothHandsFreeGateway for outgoing connect to a device
<!-- end abstract --></p>
<p></p><pre>- (<a href="../../../../../../Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/c/tdef/id" target="_top" class="type"><span class="type">id</span></a>) <!-- a --><span class="function">initForConnectionToDevice</span><!-- /a -->: (<a href="../../../IOBluetoothDevice_h/Classes/IOBluetoothDevice/index.html#//apple_ref/occ/cl/IOBluetoothDevice" target="_top" class="type"><span class="type">IOBluetoothDevice</span></a> <span class="type">*</span>)<span class="param">device</span> <!-- a --><span class="function">supportedFeatures</span><!-- /a -->: (<!-- a --><span class="type">UInt32</span><!-- /a -->)<span class="param">supportedFeatures</span> <!-- a --><span class="function">delegate</span><!-- /a -->: (<a href="../../../../../../Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/c/tdef/id" target="_top" class="type"><span class="type">id</span></a>)<!-- a --><span class="var">inDelegate</span><!-- /a -->; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>device</code></dt><dd><p>A valid IOBluetoothDevice</dd>
<dt><code>supportedFeatures</code></dt><dd><p>A bitmask of IOBluetoothHandsFreeFeatures values.  This object does not support any features</dd>
<dt><code>inDelegate</code></dt><dd><p>An object to act as delegate</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A newly created IOBluetoothHandsFreeGateway object on success, nil on failure

<!-- end return value --></p><p></p><hr><!-- headerDoc=instm;  uid=//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/initWithIncomingDevice:incomingRFCOMMChannelID:supportedFeatures:delegate:;   name=IOBluetoothHandsFreeGateway::initWithIncomingDevice:incomingRFCOMMChannelID:supportedFeatures:delegate: -->
<a name="//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/initWithIncomingDevice:incomingRFCOMMChannelID:supportedFeatures:delegate:"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="initWithIncomingDevice:incomingRFCOMMChannelID:supportedFeatures:delegate:">initWithIncomingDevice:incomingRFCOMMChannelID:supportedFeatures:delegate:</a></h3>
</td></tr></table><hr><p><!-- begin abstract --><p>Create a new IOBluetoothHandsFreeGateway for a device that is trying to connect in
<!-- end abstract --></p>
<p></p><pre>- (<a href="../../../../../../Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/c/tdef/id" target="_top" class="type"><span class="type">id</span></a>) <!-- a --><span class="function">initWithIncomingDevice</span><!-- /a -->: (<a href="../../../IOBluetoothDevice_h/Classes/IOBluetoothDevice/index.html#//apple_ref/occ/cl/IOBluetoothDevice" target="_top" class="type"><span class="type">IOBluetoothDevice</span></a> <span class="type">*</span>)<span class="param">device</span> <!-- a --><span class="function">incomingRFCOMMChannelID</span><!-- /a -->: (<!-- a --><span class="type">BluetoothRFCOMMChannelID</span><!-- /a -->)<span class="param">incomingRFCOMMChannelID</span> <!-- a --><span class="function">supportedFeatures</span><!-- /a -->: (<!-- a --><span class="type">UInt32</span><!-- /a -->)<span class="param">supportedFeatures</span> <!-- a --><span class="function">delegate</span><!-- /a -->: (<a href="../../../../../../Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/c/tdef/id" target="_top" class="type"><span class="type">id</span></a>)<!-- a --><span class="var">inDelegate</span><!-- /a -->; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>device</code></dt><dd><p>A valid IOBluetoothDevice with baseband connection</dd>
<dt><code>incomingRFCOMMChannelID</code></dt><dd><p>The RFCOMM ID the device is trying to connect to</dd>
<dt><code>supportedFeatures</code></dt><dd><p>A bitmask of IOBluetoothHandsFreeFeatures values.  This object does not support any features</dd>
<dt><code>inDelegate</code></dt><dd><p>An object to act as delegate</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A newly created IOBluetoothHandsFreeGateway object on success, nil on failure

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><!-- begin discussion --><p>An incoming connection from a Headset/Handsfree device must be validated against the local Gateway service records 
to find out what the device is trying to connect to. For example, headsets must be connecting over RFCOMM to a  
corresponding headset audio gateway rfcomm channel published in the service, handsfree to a handsfree audio gateway 
service.  If this were L2CAP we could just look at the PSM, but these devices use RFCOMM.  This method will do the 
proper check internally and will return nil if the incoming channel does not match with a published Handsfree AG record.
<!-- end discussion -->
<p></p><hr><!-- headerDoc=instm;  uid=//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/setGatewaySupportedFeatures:;   name=IOBluetoothHandsFreeGateway::setGatewaySupportedFeatures: -->
<a name="//apple_ref/occ/instm/IOBluetoothHandsFreeGateway/setGatewaySupportedFeatures:"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="setGatewaySupportedFeatures:">setGatewaySupportedFeatures:</a></h3>
</td></tr></table><hr><p><!-- begin abstract --><p>Set the supported gateway features
<!-- end abstract --></p>
<p></p><pre>- (<a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a>) <!-- a --><span class="function">setGatewaySupportedFeatures</span><!-- /a -->:(<!-- a --><span class="type">UInt32</span><!-- /a -->)<!-- a --><span class="var">gatewaySupportedFeatures</span><!-- /a -->; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>gatewaySupportedFeatures</code></dt><dd><p>A mask of feature values from the IOBluetoothHandsFreeFeatures enum</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><!-- begin discussion --><p>Sets the class variable which is sent to the remote device during connection and setup. 
Once the setup process is complete, shortly after connecting, calling this method will do 
nothing. Also note that this object does not support any features, so developers will need to subclass 
this object, override the rfcomm delegate method from the baseclass, and handle the feature setup on their
own to make the features work.
<!-- end discussion -->
<p></p><p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeviceDrivers/Reference/IOBluetooth/IOBluetoothHandsFreeGateway_h/Classes/IOBluetoothHandsFreeGateway/CompositePage.html%3Fid%3DTP30000814-4.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeviceDrivers/Reference/IOBluetooth/IOBluetoothHandsFreeGateway_h/Classes/IOBluetoothHandsFreeGateway/CompositePage.html%3Fid%3DTP30000814-4.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeviceDrivers/Reference/IOBluetooth/IOBluetoothHandsFreeGateway_h/Classes/IOBluetoothHandsFreeGateway/CompositePage.html%3Fid%3DTP30000814-4.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

<p>&nbsp;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-08-07
</p></body></html>
