<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>IsDialogEvent(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING427></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-426.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-428.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-370.html"><B>Chapter 6 - Dialog Manager</B></A> / <A HREF="Toolbox-386.html"><B>Dialog Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-389.html"><B>Dialog Manager Routines</B></A> / <A HREF="Toolbox-425.html"><B>Handling Events in Dialog Boxes </B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING427-0></A>
<H3><A NAME=MARKER-9-555></A>IsDialogEvent</H3>
 <A NAME=MARKER-11-556></A><A NAME=MARKER-2-557></A><A NAME=MARKER-2-558></A>To determine whether a modeless dialog box or a movable modal dialog box is active when an event occurs, you can use the <CODE>IsDialogEvent</CODE> function.<P>
<PRE>
FUNCTION IsDialogEvent (theEvent: EventRecord): Boolean;
</PRE>
<DL>
<DT><CODE>theEvent</CODE>
<DD> An event record returned by an Event Manager function such as <CODE>WaitNextEvent</CODE>.
</DL>
<A NAME=HEADING427-4></A>
<H5>DESCRIPTION</H5>
 If any event, including a null event, occurs when your dialog box is active, <CODE>IsDialogEvent</CODE> returns <CODE>TRUE</CODE>; otherwise, it returns <CODE>FALSE</CODE>. When <CODE>IsDialogEvent</CODE> returns <CODE>FALSE</CODE>, pass the event to the rest of your event-handling code. When <CODE>IsDialogEvent</CODE> returns <CODE>TRUE</CODE>, pass the event to <CODE>DialogSelect</CODE> after testing for the events that <CODE>DialogSelect</CODE> does not handle.<P>
 A dialog record includes a window record. When you use the <CODE>GetNewDialog</CODE>, <CODE>NewDialog</CODE>, or <CODE>NewColorDialog</CODE> function to create a dialog box, the Dialog Manager sets the <CODE>windowKind</CODE> field in the window record to <CODE>dialogKind</CODE>. To determine whether the active window is a dialog box, <CODE>IsDialogEvent</CODE> checks the <CODE>windowKind</CODE> field.<P>
 Before passing the event to <CODE>DialogSelect</CODE>, you should perform the following tests whenever <CODE>IsDialogEvent</CODE> returns <CODE>TRUE</CODE>:<P>
<UL>
<LI>Check whether the event is a key-down event for the Return, Enter, Esc, or Command-period keystrokes. When the user presses the Return or Enter key, your application should respond as if the user had clicked the default button; when the user presses Esc or Command-period, your application should respond as if the user had clicked the Cancel button. Use the Control Manager procedure <CODE>HiliteControl</CODE> to highlight the applicable button for 8 ticks.
<LI>At this point, you may also want to check for and respond to any special events that you do not wish to pass to <CODE>DialogSelect</CODE> or that require special processing before you pass them to <CODE>DialogSelect</CODE>. You would need to do this, for example, if the dialog box needs to respond to disk-inserted events.
<LI>Check whether the event is an update event for a window other than the dialog box and, if it is, update your window.
<LI>For complex items that you create, such as pictures or application-defined items that emulate complex controls, test for and respond to mouse events inside those items as appropriate. When <CODE>DialogSelect</CODE> calls <CODE>TrackControl</CODE>, it does not allow you to specify the action procedure necessary for anything more complex than a button, radio button, or checkbox. If you need a more complex control (for example, one that measures how long the user holds down the mouse button or how far the user has moved an indicator), you can create your own control or a picture or an application-defined item that draws a control-like object in your dialog box. You must then test for and respond to those events yourself.<P>
</UL>
 If your application uses <CODE>IsDialogEvent</CODE> to help handle events when you display a movable modal dialog box, perform the following additional tests before passing events to <CODE>DialogSelect</CODE>:<P>
<UL>
<LI>Test for mouse-down events in the title bar of the movable modal dialog box and respond by dragging the dialog box accordingly.
<LI>Test for and respond to mouse-down events in the Apple menu and, if the movable modal dialog box includes editable text items, in the Edit menu. (You should disable all other menus when you display a movable modal dialog box.)
<LI>Play the system alert sound for every other mouse-down event outside the movable modal dialog box.<P>
</UL>
<A NAME=HEADING427-16></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Both <CODE>IsDialogEvent</CODE> and <CODE>DialogSelect</CODE> are unreliable when running in versions of system software earlier than System 7. You shouldn't use these routines if you expect your application to run in earlier versions of system software.<P>
<A NAME=HEADING427-18></A>
<H5>SEE ALSO</H5>
 The <CODE>WaitNextEvent</CODE> function is described in the chapter "Event Manager" in this book. See <I><A HREF="../Sound/Sound-2.html">Inside Macintosh: Sound</A></I> for a description of the <CODE>SysBeep</CODE> procedure. The <CODE>FrontWindow<DFN> function is described in the chapter "Window Manager" in this book.<A NAME=MARKER-2-559></A></DFN></CODE><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-426.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-428.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
