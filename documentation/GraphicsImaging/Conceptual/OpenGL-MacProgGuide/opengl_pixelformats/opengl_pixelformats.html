<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>OpenGL Programming Guide for Mac OS X: Techniques for Choosing Attributes</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Techniques for Choosing Attributes"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001987-CH214" title="Techniques for Choosing Attributes"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../OpenGL-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000549" target="_top">OpenGL</a> &gt; <a href="../opengl_intro/opengl_intro.html#//apple_ref/doc/uid/TP40001987-CH207-TP9">OpenGL Programming Guide for Mac OS X</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../opengl_contexts/opengl_contexts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../opengl_vertexdata/opengl_vertexdata.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001987-CH214-SW9" title="Techniques for Choosing Attributes"></a><h1>Techniques for Choosing Attributes</h1><p>Renderer and buffer attributes determine the renderers that the system chooses for your application. Each of the Apple-specific OpenGL APIs provides constants that specify a variety of renderer and buffer attributes. You supply a list of attribute constants to one of the Apple OpenGL functions for choosing a pixel format object. The pixel format object maintains a list of appropriate renderers. In previous chapters, you saw how to set up an attributes array that contains a small set of attributes. </p><p>In a real-world application, selecting attributes is an art because you don't know the exact combination of hardware and software that your application will run on. An attribute list that is too restrictive could miss out on future capabilities or not be able to run on many systems. For example, if you specify a buffer of a specific depth, your application won't be able to take advantage of a larger buffer when more memory is available in the future. In this case, you might specify a required minimum and direct OpenGL to use the maximum available.</p><p>Although you might want to specify attributes that make your OpenGL content look and run its best, you also need to consider whether you'll allow your application to run on a less-capable system at the expense of speed or detail. If tradeoffs are acceptable, you'll need to set the attributes accordingly. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="opengl_pixelformats.html#//apple_ref/doc/uid/TP40001987-CH214-SW6">Buffer Size Attribute Selection Tips</a>
				
			<br/>
			
        
			
			
				<a href="opengl_pixelformats.html#//apple_ref/doc/uid/TP40001987-CH214-SW5">Attributes that are not Recommended</a>
				
			<br/>
			
        
			
			
				<a href="opengl_pixelformats.html#//apple_ref/doc/uid/TP40001987-CH214-SW4">Ensuring that Back Buffer Contents Remain the Same</a>
				
			<br/>
			
        
			
			
				<a href="opengl_pixelformats.html#//apple_ref/doc/uid/TP40001987-CH214-SW10">Ensuring a Valid Pixel Format Object</a>
				
			<br/>
			
        
			
			
				<a href="opengl_pixelformats.html#//apple_ref/doc/uid/TP40001987-CH214-SW8">Ensuring a Specific Type of Renderer</a>
				
			<br/>
			
        
			
			
				<a href="opengl_pixelformats.html#//apple_ref/doc/uid/TP40001987-CH214-SW11">Ensuring a Single Renderer for a Display</a>
				
			<br/>
			
        
			
			
				<a href="opengl_pixelformats.html#//apple_ref/doc/uid/TP40001987-CH214-SW13">See Also</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001987-CH214-SW6" title="Buffer Size Attribute Selection Tips"></a><h2>Buffer Size Attribute Selection Tips</h2><p>Follow these guidelines to choose buffer attributes that specify buffer size:</p><ul class="ul"><li class="li"><p>To choose color, depth, and accumulation buffers that are greater than or equal to a size you specify, use the minimum policy attribute  (<code>NSOpenGLPFAMinimumPolicy</code>, <code>AGL_MINIMUM_POLICY</code>, and  <code>kCGLPFAMinimumPolicy</code>). </p></li><li class="li"><p>To choose color, depth, and accumulation buffers that are closest in size to a size you specify, use the closest policy attribute  (<code>NSOpenGLPFAClosestPolicy</code>, <code>AGL_CLOSEST_POLICY</code>, and  <code>kCGLPFAClosestPolicy</code>). </p></li><li class="li"><p>To choose the largest color, depth, and accumulation buffers available, use the  maximum policy attribute (<code>NSOpenGLPFAMaximumPolicy</code>, <code>AGL_MAXIMUM_POLICY</code>, and  <code>kCGLPFAMaximumPolicy</code>). As long as you pass a value that is greater than <code>0</code>, this attribute specifies the use of color, depth, and accumulation buffers that are the largest size possible.</p></li></ul><a name="//apple_ref/doc/uid/TP40001987-CH214-SW5" title="Attributes that are not Recommended"></a><h2>Attributes that are not Recommended</h2><p>There are several renderer and buffer attributes that are no longer recommended either because they are too narrowly focused or no longer useful:</p><ul class="ul"><li class="li"><p>The robust attribute (<code>NSOpenGLPFARobust</code>, <code>AGL_ROBUST</code>, and <code>kCGLPFARobust</code>) specifies only those renderers that do not have any failure modes associated with a lack of video card resources.</p></li><li class="li"><p>The multiple-screen attribute (<code>NSOpenGLPFAMultiScreen</code>, <code>AGL_MULTISCREEN</code>, and <code>kCGLPFAMultiScreen</code>) specifies only those renderers that can drive more than one screen at a time.</p></li><li class="li"><p>The multiprocessing-safe attribute (<code>AGL_MP_SAFE</code> and <code>kCGLPFAMPSafe</code>) specifies only those renderers that are thread safe. This attribute is deprecated in Mac OS X because all renderers can accept commands for threads running on a second processor. However, this does not mean that all renderers are thread safe or reentrant. See <span class="content_text"><a href="../opengl_threading/opengl_threading.html#//apple_ref/doc/uid/TP40001987-CH409-SW1">“Multithreading and OpenGL.”</a></span></p></li><li class="li"><p>The compliant attribute (<code>NSOpenGLPFACompliant</code>, <code>AGL_COMPLIANT</code>, and <code>kCGLPFACompliant</code>) specifies only OpenGL-compliant renderers. All Mac OS X renderers are OpenGL-compliant, so this attribute is no longer useful.</p></li></ul><a name="//apple_ref/doc/uid/TP40001987-CH214-SW4" title="Ensuring that Back Buffer Contents Remain the Same"></a><h2>Ensuring that Back Buffer Contents Remain the Same</h2><p>A backing store attribute (<code>NSOpenGLPFABackingStore</code>, <code>AGL_BACKING_STORE</code>, or <code>kCGLPFABackingStore</code>) is required whenever an application depends on the back buffer contents remaining the same after a swap buffer call.</p><a name="//apple_ref/doc/uid/TP40001987-CH214-SW10" title="Ensuring a Valid Pixel Format Object"></a><h2>Ensuring a Valid Pixel Format Object</h2><p>The pixel format routines (the <code><!--a-->initWithAttributes<!--/a--></code> method of the <code>NSOpenGLPixelFormat</code> class, <code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/aglChoosePixelFormat" target="_top">aglChoosePixelFormat</a></code>, and  <code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/CGLChoosePixelFormat" target="_top">CGLChoosePixelFormat</a></code>) return a pixel format object to your application that  you use to create a rendering context. The buffer and renderer attributes that you supply to the pixel format routine determine the characteristics of the OpenGL drawing sent to the rendering context. If the system can't find at least one pixel format that satisfies the constraints specified by the attribute array, it returns <code><!--a  -->NULL<!--/a--></code> for the pixel format object. In this case, your application should have an alternative that ensures it can obtain a valid object.</p><p>One alternative is to set up your attribute array with the least restrictive attribute first and the most restrictive attribute last. Then, it is fairly easy to adjust the attribute list and make another request for a pixel format object. The code in <span class="content_text">Listing 7-1</span> illustrates this technique using the CGL API, but you can just as easily use Cocoa or the AGL API. Notice that the initial attributes list is set up with the supersample attribute last in the list. If the function <code>CGLChoosePixelFormat</code> returns <code>NULL</code> the first time it's called, the code sets the supersample attribute to <code>NULL</code> and once again requests a pixel format object. </p><a name="//apple_ref/doc/uid/TP40001987-CH214-SW7" title="Listing 7-1Using the CGL API to create a pixel format object"></a><p class="codesample"><strong>Listing 7-1&nbsp;&nbsp;</strong>Using the CGL API to create a pixel format object</p><div class="codesample"><table><tr><td scope="row"><pre>int last_attribute = 6;<span></span></pre></td></tr><tr><td scope="row"><pre>CGLPixelFormatAttribute attribs[] =<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    kCGLPFAAccelerated,<span></span></pre></td></tr><tr><td scope="row"><pre>    kCGLPFAColorSize, 24<span></span></pre></td></tr><tr><td scope="row"><pre>    kCGLPFADepthSize, 16,<span></span></pre></td></tr><tr><td scope="row"><pre>    kCGLPFADoubleBuffer,<span></span></pre></td></tr><tr><td scope="row"><pre>    kCGLPFASupersample,<span></span></pre></td></tr><tr><td scope="row"><pre>    0<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>CGLPixelFormatObj pixelFormatObj;<span></span></pre></td></tr><tr><td scope="row"><pre>long numPixelFormats;<span></span></pre></td></tr><tr><td scope="row"><pre>long value;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>CGLChoosePixelFormat (attribs, &amp;pixelFormatObj, &amp;numPixelFormats);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>if( pixelFormatObj == NULL ) {<span></span></pre></td></tr><tr><td scope="row"><pre>    attribs[last_attribute] = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>    CGLChoosePixelFormat (attribs, &amp;pixelFormatObj, &amp;numPixelFormats);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>if( pixelFormatObj == NULL ) {<span></span></pre></td></tr><tr><td scope="row"><pre>    // Your code to notify the user and take action.<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001987-CH214-SW8" title="Ensuring a Specific Type of Renderer"></a><h2>Ensuring a Specific Type of Renderer</h2><p>There are times when you'll want to ensure that you obtain a pixel format that supports a specific renderer type, such as a hardware-accelerated renderer. <span class="content_text">Table 7-1</span> lists attributes that support specific types of renderers. The table reflects the following tips for setting up pixel formats: </p><ul class="ul"><li class="li"><p>To select only hardware-accelerated renderers, use both the accelerated and no recovery attributes. </p></li><li class="li"><p>To use only the floating point software renderer, use the appropriate generic floating-point constant. </p></li><li class="li"><p>To render to system memory, use the offscreen pixel attribute. Note that this rendering option does not use hardware acceleration. </p></li><li class="li"><p>To render offscreen with hardware acceleration, specify a pixel buffer attribute. (See  <span class="content_text"><a href="../opengl_offscreen/opengl_offscreen.html#//apple_ref/doc/uid/TP40001987-CH403-SW3">“Rendering to a Pixel Buffer.”</a></span>)</p></li></ul><a name="//apple_ref/doc/uid/TP40001987-CH214-SW12" title="Table 7-1Renderer types and pixel format attributes"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 7-1&nbsp;&nbsp;</strong>Renderer types and pixel format attributes</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Renderer type</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>CGL </p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>AGL</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Cocoa</p></th></tr><tr><td  scope="row"><p>Hardware-accelerated onscreen</p></td><td ><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLPFAAccelerated" target="_top">kCGLPFAAccelerated</a></code></p><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLPFANoRecovery" target="_top">kCGLPFANoRecovery</a></code></p></td><td ><p><code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/AGL_ACCELERATED" target="_top">AGL_ACCELERATED</a></code></p><p><code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/AGL_NO_RECOVERY" target="_top">AGL_NO_RECOVERY</a></code></p></td><td ><p><code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSOpenGLPFAAccelerated" target="_top">NSOpenGLPFAAccelerated</a></code></p><p><code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSOpenGLPFANoRecovery" target="_top">NSOpenGLPFANoRecovery</a></code></p></td></tr><tr><td  scope="row"><p>Software (floating-point)</p></td><td ><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLPFARendererID" target="_top">kCGLPFARendererID</a></code></p><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLRendererGenericFloatID" target="_top">kCGLRendererGenericFloatID</a></code></p></td><td ><p><code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/AGL_RENDERER_ID" target="_top">AGL_RENDERER_ID</a></code></p><p><code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/AGL_RENDERER_GENERIC_FLOAT_ID" target="_top">AGL_RENDERER_GENERIC_FLOAT_ID</a></code></p></td><td ><p><code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSOpenGLPFARendererID" target="_top">NSOpenGLPFARendererID</a></code></p><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLRendererGenericFloatID" target="_top">kCGLRendererGenericFloatID</a></code></p></td></tr><tr><td  scope="row"><p>Software (deprecated on Intel-based Macs)</p></td><td ><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLPFARendererID" target="_top">kCGLPFARendererID</a></code></p><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLRendererGenericID" target="_top">kCGLRendererGenericID</a></code></p></td><td ><p><code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/AGL_RENDERER_ID" target="_top">AGL_RENDERER_ID</a></code></p><p><code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/AGL_RENDERER_GENERIC_ID" target="_top">AGL_RENDERER_GENERIC_ID</a></code></p></td><td ><p><code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSOpenGLPFARendererID" target="_top">NSOpenGLPFARendererID</a></code></p><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLRendererGenericID" target="_top">kCGLRendererGenericID</a></code></p></td></tr><tr><td  scope="row"><p>System memory (not accelerated)</p></td><td ><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLPFAOffScreen" target="_top">kCGLPFAOffScreen</a></code></p></td><td ><p><code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/AGL_OFFSCREEN" target="_top">AGL_OFFSCREEN</a></code></p></td><td ><p><code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSOpenGLPFAOffScreen" target="_top">NSOpenGLPFAOffScreen</a></code></p></td></tr><tr><td  scope="row"><p>Hardware-accelerated offscreen </p></td><td ><p><code><a href="../../../Reference/CGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/kCGLPFAPBuffer" target="_top">kCGLPFAPBuffer</a></code></p></td><td ><p><code><a href="../../../Reference/AGL_OpenGL/Reference/reference.html#//apple_ref/doc/c_ref/AGL_PBUFFER" target="_top">AGL_PBUFFER</a></code></p></td><td ><p><code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSOpenGLPFAPixelBuffer" target="_top">NSOpenGLPFAPixelBuffer</a></code></p></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001987-CH214-SW11" title="Ensuring a Single Renderer for a Display"></a><h2>Ensuring a Single Renderer for a Display</h2><p>In some cases you may want to use a specific hardware renderer and nothing else. Since the OpenGL framework normally provides a software renderer as a fallback in addition to whatever hardware renderer it chooses, you need to prevent OpenGL from choosing the software renderer as an option. You either need to specify the no recovery attribute for a windowed drawable object or use a full-screen drawable object. (The full-screen attribute always implies not to use the software renderer as an option.) </p><p>Limiting a context to use a specific display, and thus a single renderer, has its risks. If your application runs on a system that uses more than one display, then dragging a windowed drawable object from one display to the other will likely yield a less than satisfactory result. Either the rendering will fail, or OpenGL uses the specified renderer to copy the drawing to the second display. The same unsatisfactory result happens when attaching a full-screen context to another display. If you choose to use the hardware renderer associated with a specific display, you need to add code that detects and handles display changes.</p><p>The three code examples that follow show how to use each of the Apple-specific OpenGL APIs to set up a context that uses a single renderer. <span class="content_text">Listing 7-2</span> shows how to set up an <code>NSOpenGLPixelFormat</code> object that supports a single renderer. The attribute <code>NSOpenGLPFANoRecovery</code> specifies to OpenGL not to provide the fallback option of the software renderer. </p><a name="//apple_ref/doc/uid/TP40001987-CH214-SW2" title="Listing 7-2Setting an NSOpenGLContext object to use a  specific display"></a><p class="codesample"><strong>Listing 7-2&nbsp;&nbsp;</strong>Setting an <code>NSOpenGLContext</code> object to use a  specific display</p><div class="codesample"><table><tr><td scope="row"><pre>#import &lt;Cocoa/Cocoa.h><span></span></pre></td></tr><tr><td scope="row"><pre>+ (NSOpenGLPixelFormat*)defaultPixelFormat<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSOpenGLPixelFormatAttribute attributes [] = {<span></span></pre></td></tr><tr><td scope="row"><pre>                        NSOpenGLPFAScreenMask, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>                        NSOpenGLPFANoRecovery,<span></span></pre></td></tr><tr><td scope="row"><pre>                        NSOpenGLPFADoubleBuffer,<span></span></pre></td></tr><tr><td scope="row"><pre>                        (NSOpenGLPixelFormatAttribute)nil };<span></span></pre></td></tr><tr><td scope="row"><pre>CGDirectDisplayID display = CGMainDisplayID ();<span></span></pre></td></tr><tr><td scope="row"><pre>// Adds the  display mask attrib for selected display<span></span></pre></td></tr><tr><td scope="row"><pre>attributes[1] = (NSOpenGLPixelFormatAttribute)<span></span></pre></td></tr><tr><td scope="row"><pre>                    CGDisplayIDToOpenGLDisplayMask (display);<span></span></pre></td></tr><tr><td scope="row"><pre>return [[(NSOpenGLPixelFormat *)[NSOpenGLPixelFormat alloc] initWithAttributes:attributes]<span></span></pre></td></tr><tr><td scope="row"><pre>                                       autorelease];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p><span class="content_text">Listing 7-3</span> shows how to use AGL to set up a context  that uses a single renderer. The attribute  <code>AGL_NO_RECOVERY</code>  specifies to OpenGL  not to provide the fallback option of the software renderer. </p><a name="//apple_ref/doc/uid/TP40001987-CH214-SW3" title="Listing 7-3Setting an AGL context to use a  specific display"></a><p class="codesample"><strong>Listing 7-3&nbsp;&nbsp;</strong>Setting an AGL context to use a  specific display</p><div class="codesample"><table><tr><td scope="row"><pre>#include &lt;AGL/agl.h><span></span></pre></td></tr><tr><td scope="row"><pre>GLint attrib[] = {AGL_RGBA, AGL_DOUBLEBUFFER, AGL_NO_RECOVERY, AGL_NONE};<span></span></pre></td></tr><tr><td scope="row"><pre>GDHandle display = GetMainDevice ();<span></span></pre></td></tr><tr><td scope="row"><pre>AGLPixelFormat aglPixFmt = aglChoosePixelFormat (&amp;display, 1, attrib);<span></span></pre></td></tr></table></div><p><span class="content_text">Listing 7-4</span> shows how to use CGL to set up a context  that uses a single renderer. The attribute  <code>kCGLPFAFullScreen</code> ensures that OpenGL does not provide the fallback option of the software renderer. </p><a name="//apple_ref/doc/uid/TP40001987-CH214-SW1" title="Listing 7-4Setting a CGL context to use a specific display"></a><p class="codesample"><strong>Listing 7-4&nbsp;&nbsp;</strong>Setting a CGL context to use a specific display</p><div class="codesample"><table><tr><td scope="row"><pre>#include &lt;OpenGL/OpenGL.h><span></span></pre></td></tr><tr><td scope="row"><pre>CGLPixelFormatAttribute attribs[] = { kCGLPFADisplayMask, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>                                 kCGLPFAFullScreen,<span></span></pre></td></tr><tr><td scope="row"><pre>                                 kCGLPFADoubleBuffer,<span></span></pre></td></tr><tr><td scope="row"><pre>                                  0 };<span></span></pre></td></tr><tr><td scope="row"><pre>CGLPixelFormatObj pixelFormat = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>long numPixelFormats = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>CGLContextObj cglContext = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>CGDirectDisplayID display = CGMainDisplayID ();<span></span></pre></td></tr><tr><td scope="row"><pre>// Adds the  display mask attrib for selected display<span></span></pre></td></tr><tr><td scope="row"><pre>attribs[1] = CGDisplayIDToOpenGLDisplayMask (display);<span></span></pre></td></tr><tr><td scope="row"><pre>CGLChoosePixelFormat (attribs, &amp;pixelFormat, &amp;numPixelFormats);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001987-CH214-SW13" title="See Also"></a><h2>See Also</h2><p>Reference documentation for buffer and renderer attributes in the Constants sections of:</p><ul class="ul"><li class="li"><p><em><a href="../../../Reference/AGL_OpenGL/index.html#//apple_ref/doc/uid/TP30001068" target="_top">AGL Reference</a></em></p></li><li class="li"><p><em><a href="../../../Reference/CGL_OpenGL/index.html#//apple_ref/doc/uid/TP40001186" target="_top">CGL Reference</a></em></p></li><li class="li"><p><em><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/index.html#//apple_ref/doc/uid/TP40004076" target="_top">NSOpenGLPixelFormat Class Reference</a></em></p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../opengl_contexts/opengl_contexts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../opengl_vertexdata/opengl_vertexdata.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-06-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Conceptual/OpenGL-MacProgGuide/opengl_pixelformats/opengl_pixelformats.html%3Fid%3DTP40001987-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Conceptual/OpenGL-MacProgGuide/opengl_pixelformats/opengl_pixelformats.html%3Fid%3DTP40001987-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Conceptual/OpenGL-MacProgGuide/opengl_pixelformats/opengl_pixelformats.html%3Fid%3DTP40001987-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>