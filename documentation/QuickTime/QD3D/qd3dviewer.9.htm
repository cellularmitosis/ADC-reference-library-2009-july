<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Creating a Viewer</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3155"> </A><A NAME="26210"> </A>Creating a Viewer</H1><P CLASS="T1.Text1"><A NAME="pgfId=3156"> </A><A NAME="marker=2148"> </A>You can create a viewer object by calling the <TT CLASS="cv">Q3ViewerNew</TT> function. You pass <TT CLASS="cv">Q3ViewerNew</TT> a pointer to the window in which you want the viewer to appear, the rectangle that is to contain the viewer pane, and a selector indicating which viewer features to enable. <TT CLASS="cv">Q3ViewerNew</TT> returns a reference to a viewer object. <A HREF="qd3dviewer.9.htm#17785" CLASS="XRef">Listing&nbsp;14</A> illustrates one way to call <TT CLASS="cv">Q3ViewerNew</TT>. The function <TT CLASS="cv">MyCreateViewer</TT> defined in <A HREF="qd3dviewer.9.htm#17785" CLASS="XRef">Listing&nbsp;14</A> creates a viewer pane that occupies the entire content region of the window whose address is passed to it as a parameter.</P><P CLASS="L.Listing"><A NAME="pgfId=3164"> </A>Listing&nbsp;14<A NAME="17785"> </A>Creating a viewer object</P><CODE CLASS="CvF.CodeFull"><A NAME="pgfId=11405"> </A>TQ3ViewerObject MyCreateViewer (WindowPtr myWindow)<BR>{<BR>&nbsp;&nbsp;&nbsp;&nbsp;TQ3ViewerObject&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myViewer;<BR>&nbsp;&nbsp;&nbsp;&nbsp;Rect&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myRect;<BR></CODE><CODE CLASS="CvF.CodeFull"><A NAME="pgfId=11411"> </A>&nbsp;&nbsp;&nbsp;&nbsp;/*Get rectangle enclosing the window's content region.*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;myRect = myWindow-&gt;portRect;<BR>&nbsp;&nbsp;&nbsp;&nbsp;if (EmptyRect(&amp;myRect))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*make sure we got a nonempty rect*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto bail;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;/*Create a new viewer object in entire content region.*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;myViewer = Q3ViewerNew((CGrafPtr)myWindow, &amp;myRect, kQ3ViewerDefault);<BR>&nbsp;&nbsp;&nbsp;&nbsp;if (myViewer == NULL)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto bail;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;return(myViewer);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*return new viewer object*/<BR><BR>bail:<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*If any of the above failed, return an empty viewer object.*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;return(NULL);<BR>}<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=3167"> </A><A NAME="marker=11413"> </A>The third parameter to the call to <TT CLASS="cv">Q3ViewerNew</TT> is a set of <B CLASS="bold">viewer flags</B> that specify information about the appearance and behavior of the new viewer object. In <A HREF="qd3dviewer.9.htm#17785" CLASS="XRef">Listing&nbsp;14</A>, the viewer flag parameter is set to the value <TT CLASS="cv">kQ3ViewerDefault</TT>, indicating that the default values of the viewer flags are to be used. See <A HREF="qd3dviewer.f.htm#40868" CLASS="XRef">&quot;Viewer Flags&quot;</A> for a complete description of the available viewer flags.<A NAME="marker=3174"> </A><A NAME="marker=2149"> </A></P><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>