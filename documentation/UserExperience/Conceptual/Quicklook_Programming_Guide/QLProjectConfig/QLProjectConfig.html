<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Quick Look Programming Guide: Creating and Configuring a Quick Look Project</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating and Configuring a Quick Look Project"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005020-CH5" title="Creating and Configuring a Quick Look Project"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000437" target="_top">User Experience</a> &gt; <a href="../../../FilesSoftwareInstallation-date.html#//apple_ref/doc/uid/TP30000440-TP30000437-TP30000524" target="_top">Files &amp; Software Installation</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40005020-CH1-DontLinkElementID_5">Quick Look Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../QLArchitecture/QLArchitecture.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../QLImplementationOverview/QLImplementationOverview.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005020-CH5-SW5" title="Creating and Configuring a Quick Look Project"></a><h1>Creating and Configuring a Quick Look Project</h1><p>Xcode projects for Quick Look generators originate from a special template that sets up important aspects of the project. However, you still must specify generator-specific configuration information and add any resources for the generator, typically before you write any code.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="QLProjectConfig.html#//apple_ref/doc/uid/TP40005020-CH5-SW6">Creating and Setting Up the Project</a>
				
			<br/>
			
        
			
			
				<a href="QLProjectConfig.html#//apple_ref/doc/uid/TP40005020-CH5-SW7">Project Configuration</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40005020-CH5-SW6" title="Creating and Setting Up the Project"></a><h2>Creating and Setting Up the Project</h2><p>To create a Quick Look generator project, start by choosing New Project from the File menu in the Xcode application. In the project-creation assistant, select Quick Look Plug-In in the list of project templates (as shown in <span class="content_text">Figure 3-1</span>) and click Next.</p><br/><div><a name="//apple_ref/doc/uid/TP40005020-CH5-SW1" title="Figure 3-1Choosing the Quick Look plug-in template"></a><p><strong>Figure 3-1&nbsp;&nbsp;</strong>Choosing the Quick Look plug-in template</p><img src = "../Art/ql_xcode_template.jpg" alt = "Choosing the Quick Look plug-in template" ></div><br/><p>After you specify a name and location for the project, Xcode displays a project window similar to the example in <span class="content_text">Figure 3-2</span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40005020-CH5-SW2" title="Figure 3-2Default items in a Quick Look plug-in project"></a><p><strong>Figure 3-2&nbsp;&nbsp;</strong>Default items in a Quick Look plug-in project</p><img src = "../Art/ql_project_files.jpg" alt = "Default items in a Quick Look plug-in project" ></div><br/><p>The following items in this window have some special relevance to Quick Look:</p><ul class="ul"><li class="li"><p><code>QuickLook.framework</code>—The Quick Look framework, which includes both consumer and producer parts of the architecture.</p><p>If you want additional frameworks, add them to the project and insert the appropriate <code>#include</code> or <code>#import</code> directives. For example, if you want to write code using Cocoa API, add <code>Cocoa.framework</code> to the project.</p></li><li class="li"><p><code>main.c </code>— This file contains all of the code required for a <code>CFPlugin</code>-based plug-in. You should not have to add or modify any of this code.</p></li><li class="li"><p><code>GeneratePreviewForURL.c</code> and <code>GenerateThumbnailForURL.c</code> — The first file contains code templates for the callbacks <code><a href="../../../Reference/QLPreviewRequest_Ref/Reference/reference.html#//apple_ref/doc/c_ref/GeneratePreviewForURL" target="_top">GeneratePreviewForURL</a></code> and <code><a href="../../../Reference/QLPreviewRequest_Ref/Reference/reference.html#//apple_ref/doc/c_ref/CancelPreviewGeneration" target="_top">CancelPreviewGeneration</a></code>; the second file contains code templates for the callbacks <code><a href="../../../Reference/QLThumbnailRequest_Ref/Reference/reference.html#//apple_ref/doc/c_ref/GenerateThumbnailForURL" target="_top">GenerateThumbnailForURL</a></code> and <code><a href="../../../Reference/QLThumbnailRequest_Ref/Reference/reference.html#//apple_ref/doc/c_ref/CancelThumbnailGeneration" target="_top">CancelThumbnailGeneration</a></code>.</p><p>If your implementation code is going to be Objective-C, be sure to change the extensions of these files from <code>c</code> to <code>m</code> <em>in</em> Xcode (that is, by selecting the file and choosing Rename from the File menu).</p></li></ul><p>Although a Quick Look generator does not (and should not) have nib files as resources, you can add other resources if necessary.</p><a name="//apple_ref/doc/uid/TP40005020-CH5-SW7" title="Project Configuration"></a><h2>Project Configuration</h2><p>The information property list (<code>Info.plist</code>) of a Quick Look generator project includes some special properties whose values you should set in addition to standard properties such as <code>CFBundleIdentifier</code> and <code>CFBundleVersion</code>.  The following sections describe these properties.</p><a name="//apple_ref/doc/uid/TP40005020-CH5-SW8" title="The Content-Type UTI and CFPlugIn Properties"></a><h3>The Content-Type UTI and CFPlugIn Properties</h3><p>One important property for Quick Look generators is <code>LSItemContentTypes</code>, a subproperty of <code>CFBundleDocumentTypes</code>. <span class="content_text">Listing 3-1</span> shows the <code>CFBundleDocumentTypes</code> property when unedited. (Note that the Quick Look project template specifies the value (<code>QLGenerator</code>) of the <code>CFBundleTypeRole</code> property for you.)</p><a name="//apple_ref/doc/uid/TP40005020-CH5-SW3" title="Listing 3-1The subproperties of CFBundleDocumentTypes"></a><p class="codesample"><strong>Listing 3-1&nbsp;&nbsp;</strong>The subproperties of <code>CFBundleDocumentTypes</code></p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;key>CFBundleDocumentTypes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>CFBundleTypeRole&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>QLGenerator&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>LSItemContentTypes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>SUPPORTED_UTI_TYPE&lt;/string> // change this!<span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr></table></div><p>Replace the string “<code>SUPPORTED_UTI_TYPE</code>” with one or more UTI s identifying the content types of the documents for which this generator generates thumbnails and previews. For example, the QuickLookSketch example project specifies the UTIs for Sketch documents:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>CFBundleDocumentTypes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>CFBundleTypeRole&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>QLGenerator&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>LSItemContentTypes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>com.apple.sketch2&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>com.apple.sketch1&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr></table></div><p>For more information on Uniform Type Identifiers (UTIs) for document-content types, see <em><a href="../../../../Carbon/Conceptual/understanding_utis/index.html#//apple_ref/doc/uid/TP40001319" target="_top">Uniform Type Identifiers Overview</a></em>.</p><p>As <span class="content_text">Listing 3-2</span> shows, a large segment of the <code>Info.plist</code> in a Quick Look generator project are properties related to <code>CFPlugIn</code>. You should not have to edit these properties.</p><a name="//apple_ref/doc/uid/TP40005020-CH5-SW4" title="Listing 3-2CFPlugIn properties"></a><p class="codesample"><strong>Listing 3-2&nbsp;&nbsp;</strong>CFPlugIn properties</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;key>CFPlugInDynamicRegisterFunction&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFPlugInDynamicRegistration&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>NO&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFPlugInFactories&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>27EB40F9-21D6-4438-9395-692B52DB53FB&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>QuickLookGeneratorPluginFactory&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFPlugInTypes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>5E2D9680-5022-40FA-B806-43349622E5B9&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>27EB40F9-21D6-4438-9395-692B52DB53FB&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFPlugInUnloadFunction&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>&lt;/string><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40005020-CH5-SW9" title="Other Property List Keys"></a><h3>Other Property List Keys</h3><p>You can specify these additional key-value pairs in the information property list (<code>Info.plist</code>) of a Quick Look generator:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Allowed value</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>QLThumbnailMinimumSize</code></p></td><td ><p>Real number <code>&lt;real></code><em>n</em><code>&lt;/real></code></p></td><td ><p>Specifies the minimum use size along one dimension (in points) of thumbnails for the generator. Quick Look does not call the <code><a href="../../../Reference/QLThumbnailRequest_Ref/Reference/reference.html#//apple_ref/c/tdef/GenerateThumbnailForURL" target="_top">GenerateThumbnailForURL</a></code> callback function for thumbnail sizes less than this value. The default size is 17. If your generator is fast enough, you can remove this property so the thumbnail image can appear in standard lists.</p></td></tr><tr><td  scope="row"><p><code>QLPreviewWidth</code></p></td><td ><p>Real number <code>&lt;real></code><em>n</em><code>&lt;/real></code></p></td><td ><p>This number gives Quick Look a hint for the width (in points) of previews. It uses these values if the generator takes too long to produce the preview.</p></td></tr><tr><td  scope="row"><p><code>QLPreviewHeight</code></p></td><td ><p>Real number <code>&lt;real></code><em>n</em><code>&lt;/real></code></p></td><td ><p>This number gives Quick Look a hint for the height (in points) of previews. It uses these values if the generator takes too long to produce the preview.</p></td></tr><tr><td  scope="row"><p><code>QLSupportsConcurrentRequests</code></p></td><td ><p><code>YES</code> or <code>NO</code></p></td><td ><p>Controls whether the generator can handle concurrent thumbnail and preview requests.</p></td></tr><tr><td  scope="row"><p><code>QLNeedsToBeRunInMainThread</code></p></td><td ><p><code>YES</code> or <code>NO</code></p></td><td ><p>Controls whether the generator can be run in threads other than the main thread</p></td></tr></table></div><p>The properties <code>QLSupportsConcurrentRequests</code> and <code>QLNeedsToBeRunInMainThread</code> are Quick Look properties that affect the multithreaded characteristics of the generator. They are discussed in <span class="content_text"><a href="../QLImplementationOverview/QLImplementationOverview.html#//apple_ref/doc/uid/TP40005020-CH6-SW1">“Generators and Thread Safety.”</a></span> </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../QLArchitecture/QLArchitecture.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../QLImplementationOverview/QLImplementationOverview.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-02-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/UserExperience/Conceptual/Quicklook_Programming_Guide/QLProjectConfig/QLProjectConfig.html%3Fid%3DTP40005020-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/UserExperience/Conceptual/Quicklook_Programming_Guide/QLProjectConfig/QLProjectConfig.html%3Fid%3DTP40005020-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/UserExperience/Conceptual/Quicklook_Programming_Guide/QLProjectConfig/QLProjectConfig.html%3Fid%3DTP40005020-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>