<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Media Types and Media Handlers Guide: Using Tween Components</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Using Tween Components"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents" title="Using Tween Components"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../MediaTypesMediaHandlers-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000543" target="_top">Media Types &amp; Media Handlers</a> &gt; <a href="../A-Intro/1Introduction.html#//apple_ref/doc/uid/TP40000899-IntroductiontoQuickTimeMediaTypesandMediaHandlersGuide-DontLinkElementID_81">QuickTime Media Types and Media Handlers Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../G-Chapter copy 3/7TweenMediaHandlers.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../I-Chapter copy 1/9TweenComponentsandN.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-SW1" title="Using Tween Components"></a>
<h1>Using Tween Components</h1>

<p>This chapter describes how to create tween containers that the tween media handler uses. Several utility routines are also discussed.</p>
<p>The tween media handler uses tween components to perform tween operations (other than simple ones built into QuickTime). The components use containers to define their tween operations, and the containers are constructed from QT atoms. The tween media handler is discussed in <span class="content_text"><a href="../G-Chapter%20copy%203/7TweenMediaHandlers.html#//apple_ref/doc/uid/TP40000899-TweenMediaHandlers-SW1">Tween Media Handlers</a></span>.</p>



<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_22">Creating a Single Tween Container</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_23">Using Path Tween Components</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_24">Using a List Tween Component</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_25">Utility Routines</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_31">Using a Polygon Tween Component</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_32">Specifying an Offset for a Tween Operation</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_33">Specifying a Duration for a Tween</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_34">Creating a Tween Sequence</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_35">Naming Tweens</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_36">CreateSampleVectorData Utility</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_37">CreateSamplePathTweenContainer Utility</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_38">Using a kTweenTypePathToMatrixTranslation Tween Component</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_39">Using a kTweenTypePathToFixedPoint Tween Component</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_40">Using a kTweenTypePathToMatrixRotation Tween Component</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_41">Using a kTweenTypePathToMatrixTranslationAndRotation Tween Component</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_42">Using a kTweenTypePathXtoY Tween Component</a>
				
			<br/>
			
        
			
			
				<a href="8UsingTweenComponent.html#//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_43">Using a kTweenTypePathYtoX Tween Component</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_22" title="Creating a Single Tween Container"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-CreatingaSingleTweenContainer" title="Creating a Single Tween Container"></a>Creating a Single Tween Container</h2>
<p>To create a single tween container, do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween. A <code>kTweenEntry</code> atom contains the atoms that define the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom that contains the data for the tween into the <code>kTweenEntry</code> atom.</p></li>
</ol>
<p>Listing&#160;7-1 shows how to create a single <code>kTweenTypeLong</code> tween container that a component could use to interpolate two long integers.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_90" title="Listing 7-1Creating a single kTweenTypeLong tween container"></a>
<p class="codesample"><strong>Listing 7-1&nbsp;&nbsp;</strong>Creating a single kTweenTypeLong tween container</p>
<div class="codesample"><table><tr><td scope="row"><pre>QTAtomContainer container = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>long tweenDataLong[2];<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtomType tweenType;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtom tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>tweenDataLong[0] = EndianU32_NtoB(512);<span></span></pre></td></tr><tr><td scope="row"><pre>tweenDataLong[1] = EndianU32_NtoB(0);<span></span></pre></td></tr><tr><td scope="row"><pre>// create a new atom container<span></span></pre></td></tr><tr><td scope="row"><pre>QTNewAtomContainer (&#38;container);<span></span></pre></td></tr><tr><td scope="row"><pre>// create the parent tween entry atom<span></span></pre></td></tr><tr><td scope="row"><pre>tweenType = kTweenTypeLong;<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild (container, kParentAtomIsContainer, kTweenEntry, 1, 0, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nil, &#38;tweenAtom);<span></span></pre></td></tr><tr><td scope="row"><pre>// add two child atoms to the tween entry atom --<span></span></pre></td></tr><tr><td scope="row"><pre>// * the type atom, kTweenType<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild (container, tweenAtom, kTweenType, 1, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(tweenType), &#38;tweenType, nil);<span></span></pre></td></tr><tr><td scope="row"><pre>// * the data atom, kTweenData<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild (container, tweenAtom, kTweenData, 1, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(long) * 2, tweenDataLong, nil);<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_23" title="Using Path Tween Components"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingPathTweenComponents" title="Using Path Tween Components"></a>Using Path Tween Components</h2>
<p>The following sections describe how to use a variety of path tween components. All path tween operations have as input a QuickTime vector data stream for a path. Path tweeners interpret their time input in one of these ways:</p>
<ul class="ul">
<li class="li"><p>As a percentage of path&#8217;s length. For these types, either a point on the path or a <code><!--a target="_top" -->MatrixRecord<!--/a--></code> data structure is returned.</p></li>
<li class="li"><p>As a function. One operation returns the <code>y</code> value of the point on the path with a given <code>x</code> value, and the other returns the <code>x</code> value of the point on the path with a given <code>y</code> value.</p></li>
</ul>
<p>If the <code>kTweenReturnDelta</code> flag (in an optional <code>kTweenFlags</code> atom in the <code>kTweenEntry</code> atom) is set, a path tween returns the change in value from the last time it was invoked. If the flag is not set, or if the component has not previously been invoked, the component returns the normal result for the tween.</p>

<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_24" title="Using a List Tween Component"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingaListTweenComponent" title="Using a List Tween Component"></a>Using a List Tween Component</h2>
<p>To use a list tween component (of type <code>kTweenTypeAtomList</code>), do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom into the <code>kTweenEntry</code> atom. Unlike the previous example, this <code>kTweenData</code> atom is not a leaf atom.</p></li>
<li class="li"><p>Insert a <code>kListElementType</code> atom that specifies the atom type of the list entries into the <code>kTweenData</code> atom. The list entries must be leaf atoms.</p></li>
<li class="li"><p>Insert leaf atoms of the type specified by the <code>kListElementType</code> atom into the <code>kTweenData</code> atom.</p></li>
</ol>
<p>The duration of the tween operation is divided by the number of leaf atoms of the specified type. For time points within the first time division (from the start of the duration up to an including the time (<em>total</em> <em>time</em> <em>/</em> <em>number</em> <em>of</em> <em>atoms</em> )), the data for the first leaf atom is returned; for the second time division, the data for the second leaf atom is returned; and so on.</p>
<p>Listing&#160;7-2 shows how to create a list tween.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_91" title="Listing 7-2Creating a kTweenTypeAtomList tween container"></a>
<p class="codesample"><strong>Listing 7-2&nbsp;&nbsp;</strong>Creating a kTweenTypeAtomList tween container</p>
<div class="codesample"><table><tr><td scope="row"><pre>QTAtomContainer container = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>long tweenDataLong[2];<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtomType tweenType;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtom tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>tweenDataLong[0] = EndianU32_NtoB(512);<span></span></pre></td></tr><tr><td scope="row"><pre>tweenDataLong[1] = EndianU32_NtoB(0);<span></span></pre></td></tr><tr><td scope="row"><pre>// create a new atom container to hold the sample<span></span></pre></td></tr><tr><td scope="row"><pre>QTNewAtomContainer (&#38;container);<span></span></pre></td></tr><tr><td scope="row"><pre>// create the parent tween entry atom<span></span></pre></td></tr><tr><td scope="row"><pre>tweenType = EndianU32_NtoB(kTweenTypeLong);<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild (container, kParentAtomIsContainer, kTweenEntry, 1, 0, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nil, &#38;tweenAtom);<span></span></pre></td></tr><tr><td scope="row"><pre>// add two child atoms to the tween entry atom --<span></span></pre></td></tr><tr><td scope="row"><pre>// * the type atom, kTweenType<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild (container, tweenAtom, kTweenType, 1, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(tweenType), &#38;tweenType, nil);<span></span></pre></td></tr><tr><td scope="row"><pre>// * the data atom, kTweenData<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild (container, tweenAtom, kTweenData, 1, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(short) * 2, tweenDataLong, nil);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>OSErr &#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>QTTweener tween;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtomContainer container = nil, listContainer = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>OSType&#160;&#160;&#160;&#160;&#160;&#160;tweenerType;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue&#160;&#160;&#160;offset, duration, tweenTime;<span></span></pre></td></tr><tr><td scope="row"><pre>Handle&#160;&#160;&#160;&#160;&#160;&#160;result;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtom&#160;&#160;&#160;&#160;&#160;&#160;tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>tweenerType = EndianU32_NtoB(kTweenTypeAtomList);<span></span></pre></td></tr><tr><td scope="row"><pre>offset &#160;= 0;<span></span></pre></td></tr><tr><td scope="row"><pre>duration = 3;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewAtomContainer( &#38;container );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = AddTweenAtom( container, kParentAtomIsContainer, 1, tweenerType,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;offset, duration, 0, 0, nil, &#38;tweenAtom );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>listContainer = CreateSampleAtomListTweenData( 1 );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( listContainer == nil ) { err = memFullErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>err = AddDataAtom( container, tweenAtom, 1, 0, nil,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;listContainer, 0, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>result = NewHandle( 0 );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err = MemError() ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// exercise the AtomListTweener<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;for ( tweenTime = 1; tweenTime &#60;= duration; tweenTime += 1 ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;long pictureID;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// the pictureID from the atomDataList corresponding to tweenTime<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pictureID = *(long *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( listContainer ) QTDisposeAtomContainer( listContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return err;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_25" title="Utility Routines"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UtilityRoutines" title="Utility Routines"></a>Utility Routines</h2>
<p>The examples in the next sections use several utility routines to modularize their code. These routines are the following:</p>
<ul class="ul">
<li class="li"><p><code>AddTweenAtom</code> adds an atom of type <code>kTweenEntry</code> plus its standard child atoms (other than the <code>kTweenDataAtom</code>) to a container.</p></li>
<li class="li"><p><code>AddDataAtom</code> adds a data atom with an ID of <code>dataAtomID</code> as a child atom of <code>tweenAtom</code>.</p></li>
<li class="li"><p><code>AddSequenceTweenAtom</code> adds a <code>kTweenEntry</code> atom for a sequenced tween.</p></li>
<li class="li"><p><code>AddSequenceElement</code> adds a leaf atom of type <code>kTweenSequenceElement</code> to a container.</p></li>
</ul>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_26" title="AddTweenAtom"></a>
<h3><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-AddTweenAtom" title="AddTweenAtom"></a>AddTweenAtom</h3>
<p>Listing&#160;7-3 shows <code>AddTweenAtom</code>, a routine that adds an atom of type <code>kTweenEntry</code> plus its standard child atoms (other than the <code>kTweenDataAtom</code>) to a container. Only the <code>tweenAtomID</code> and <code>tweenerType</code> parameters are required; you may pass 0 for the other parameters to avoid using them.</p>
<p>The <code>minOutput</code> and <code>maxOutput</code> atom parameters are necessary only if the tweener is being used as an interpolator. Passing a <code>tweenAtomID</code> value of 0 means that the routine can assign any unique ID.</p>
<p>If you use <code>AddTweenAtom</code> to add a nonsequenced tween entry to a container, the <code>kTweenEntry</code> atom it creates is the atom you pass to <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTNewTween" target="_top">QTNewTween</a></code> and the sequenceAtom you pass in may be <code>kParentAtomIsContainerTween</code> Components and Tween Media. In this case the <code>tweenAtomID</code> value should be 1.</p>
<p>If you use <code>AddTweenAtom</code> to add a sequenced tween entry to a container, the <code>newSequenceAtom</code> returned by <code>AddSequenceTweenAtom</code> is its <code>sequenceAtom</code> parameter and will also be the atom you pass to <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTNewTween" target="_top">QTNewTween</a></code>. Note that in most cases a sequenced tween contains only one tween entry but may contain multiple data atoms.</p>
<p>All tween atoms within same <code>sequenceAtom</code> must have same tween type. It is unlikely that you would want to change the duration or offset values within the same <code>sequenceAtom</code>.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_92" title="Listing 7-3Utility routine AddTweenAtom"></a>
<p class="codesample"><strong>Listing 7-3&nbsp;&nbsp;</strong>Utility routine AddTweenAtom</p>
<div class="codesample"><table><tr><td scope="row"><pre>OSErr AddTweenAtom( QTAtomContainer container, QTAtom sequenceAtom,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtomID tweenAtomID, OSType tweenerType, TimeValue offset,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;TimeValue duration, Fixed minOutput, Fixed maxOutput, StringPtr name,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtom *newTweenAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSErr&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtom&#160;&#160;&#160;&#160;&#160;&#160;tweenAtom = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( ! container )&#160;&#160;&#160;&#160;&#160;&#160;{ err = paramErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTInsertChild( container, sequenceAtom, kTweenEntry,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtomID, 0, 0, nil, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTInsertChild( container, tweenAtom, kTweenType, 1, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(tweenerType), &#38;tweenerType, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( offset ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( container, tweenAtom, kTweenStartOffset, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1, sizeof(offset), &#38;offset, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( duration ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( container, tweenAtom, kTweenDuration, 1, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(duration), &#38;duration, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// default minOutput is zero, so this is OK<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( minOutput ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( container, tweenAtom, kTweenOutputMin, 1, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(minOutput), &#38;minOutput, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( maxOutput ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( container, tweenAtom, kTweenOutputMax, 1, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(maxOutput), &#38;maxOutput, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( name ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( container, tweenAtom, kNameAtom, 1, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;name[0] + 1, name, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( newTweenAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*newTweenAtom = tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return err;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_27" title="AddDataAtom"></a>
<h3><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-AddDataAtom" title="AddDataAtom"></a>AddDataAtom</h3>
<p>Listing&#160;7-4 shows <code>AddDataAtom</code>, a routine that adds a data atom with an ID of <code>dataAtomID</code> as a child atom of <code>tweenAtom</code>. If <code>dataSize</code> is nonzero, then leaf data is copied from <code>dataPtr</code> to <code>dataAtom</code>. Otherwise (if <code>dataContainer</code> in not <code>nilTween</code> Components and Tween Media), child atoms are copied from <code>dataContainer</code>. If you wish to add the actual data by using another routine, you may pass 0 in <code>dataSize</code> and <code>nil</code> in both <code>dataPtr</code> and <code>dataContainer</code>.</p>
<p>You can associate a tweener to be used as an interpolator for each <code>dataAtom</code> value. The <code>interpolationTweenID</code> parameter specifies the ID of a <code>kTweenEntry</code> atom that is a child of the <code>newSequenceAtom</code> returned by <code>AddSequenceTweenAtom</code>. If you specify an interpolation tweener, then the <code>atTime</code> parameter of the <code>DoTween</code> routine is first fed as an input to the interpolation tweener. The <code>tweenResult</code> of the interpolation tweener becomes the <code>atTime</code> parameter of the succeeding tweener. Note that the <code>kTweenData</code> atom and the <code>kTweenInterpolationID</code> atom have the same ID; this is how QuickTime groups them together.</p>
<p>For best performance, the output range of an interpolation tweener should be from 0 to the duration of the regular tweener. However, you may specify the minimum and maximum values that the interpolation tweener returns; this lets the tweener be shared. The minimum and maximum values are used to scale <code>tweenResult</code>, and are added as child atoms of a <code>kTweenEntry</code> in <code>AddTweenAtom</code>.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_93" title="Listing 7-4Utility routine AddDataAtom"></a>
<p class="codesample"><strong>Listing 7-4&nbsp;&nbsp;</strong>Utility routine AddDataAtom</p>
<div class="codesample"><table><tr><td scope="row"><pre>OSErr AddDataAtom( QTAtomContainer container, QTAtom tweenAtom,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtomID dataAtomID, long dataSize, Ptr dataPtr,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtomContainer dataContainer, QTAtomID interpolationTweenID,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtom *newDataAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSErr&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtom&#160;&#160;&#160;&#160;&#160;&#160;dataAtom = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( (! container) || (dataAtomID == 0) || (dataSize &#38;&#38;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(dataContainer || !dataPtr)) ) &#160;{ err = paramErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTInsertChild( container, tweenAtom, kTweenData, dataAtomID, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataSize, dataPtr, &#38;dataAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( dataSize ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTSetAtomData( container, dataAtom, dataSize, dataPtr );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;else if ( dataContainer ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChildren( container, dataAtom, dataContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( interpolationTweenID ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( container, tweenAtom, kTweenInterpolationID,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataAtomID, 0, sizeof(interpolationTweenID), <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#38;interpolationTweenID, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( newDataAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*newDataAtom = dataAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return err;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_28" title="AddSequenceTweenAtom"></a>
<h3><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-AddSequenceTweenAtom" title="AddSequenceTweenAtom"></a>AddSequenceTweenAtom</h3>
<p>Listing&#160;7-5 shows <code>AddSequenceTweenAtom</code>, a routine that adds a <code>kTweenEntry</code> atom for a sequenced tween. The <code>newSequenceAtom</code> returned may be passed into the <code>AddTweenAtom</code> and <code>AddSequenceElement</code> routines as their <code>sequenceAtom</code> parameter.</p>
<p>To create a nonsequenced tween, use <code>AddTweenAtom</code> instead.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_94" title="Listing 7-5Utility routine AddSequenceTweenAtom"></a>
<p class="codesample"><strong>Listing 7-5&nbsp;&nbsp;</strong>Utility routine AddSequenceTweenAtom</p>
<div class="codesample"><table><tr><td scope="row"><pre>OSErr AddSequenceTweenAtom( QTAtomContainer container, QTAtom parentAtom,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;QTAtomID sequenceAtomID, QTAtom *newSequenceAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( (! container) || (sequenceAtomID == 0) ) &#160;{ return paramErr; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return QTInsertChild( container, parentAtom, kTweenEntry,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sequenceAtomID, 0, 0, nil, newSequenceAtom );<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_29" title="AddSequenceElement"></a>
<h3><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-AddSequenceElement" title="AddSequenceElement"></a>AddSequenceElement</h3>
<p>Listing&#160;7-6 shows <code>AddSequenceElement</code>, a routine that adds a leaf atom of type <code>kTweenSequenceElement</code> to a container. The <code>sequenceAtom</code> that you pass in is the <code>newSequenceAtom</code> parameter returned by <code>AddSequenceTweenAtom</code>. Each time you call <code>AddSequenceElement</code>, a sequence tween element is added to the end of the list of elements. The tween toolbox organizes the list in index order, with IDs ignored.</p>
<p>Each element has a duration that is some percentage of the tween&#8217;s duration. The element&#8217;s duration is its <code>endPercent</code> value minus the previous element&#8217;s <code>endPercent</code> value. For example, if you wanted three elements to last 0.25, 0.25, and 0.5 of the tween&#8217;s duration, then the elements' <code>endPercent</code> values should be set to 0.25, 0.5, and 1. The elements tell the tween toolbox which <code>tweenAtom</code> and <code>dataAtom</code> to switch to.</p>
<p>The <code>tweenAtomID</code> is the ID of a <code>kTweenEntry</code> atom within the <code>sequenceAtom</code>. The <code>dataAtomID</code> is the ID of a <code>kTweenData</code> atom. The <code>kTweenData</code> atom is a child atom of the specified <code>tweenAtom</code>. Usually you only need to create one <code>tweenAtom</code> with multiple data atoms. Some tweener types (such as 3D tweeners) use child atoms of the <code>tweenEntry</code> atom for initialization, so in these cases you usually create a <code>tweenAtom</code> with one <code>dataAtom</code> per sequence entry.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_95" title="Listing 7-6Utility routine AddSequenceElement"></a>
<p class="codesample"><strong>Listing 7-6&nbsp;&nbsp;</strong>Utility routine AddSequenceElement</p>
<div class="codesample"><table><tr><td scope="row"><pre>OSErr AddSequenceElement( QTAtomContainer container, QTAtom sequenceAtom,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Fixed endPercent, QTAtomID tweenAtomID, QTAtomID dataAtomID,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtom *newSequenceElementAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;TweenSequenceEntryRecord&#160;&#160;&#160;&#160;entry;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( (! container) || (endPercent &#62; (1L&#60;&#60;16)) || (tweenAtomID == 0)<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|| (dataAtomID == 0) ){ return paramErr; }  <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;entry.endPercent &#160;&#160;&#160;&#160;&#160;&#160;&#160;= endPercent;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;entry.tweenAtomID &#160;&#160;&#160;&#160;&#160;&#160;= tweenAtomID;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;entry.dataAtomID&#160;&#160;&#160;&#160; &#160;&#160;&#160;= dataAtomID;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// adds at end of list by index, with any unique atom id<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return QTInsertChild( container, sequenceAtom, kTweenSequenceElement,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 0, sizeof(entry), &#38;entry, newSequenceElementAtom );<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_30" title="CreateSampleAtomListTweenData"></a>
<h3><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-CreateSampleAtomListTweenData" title="CreateSampleAtomListTweenData"></a>CreateSampleAtomListTweenData</h3>
<p>Listing&#160;7-7 shows the <code>CreateSampleAtomListTweenData</code> routine.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_96" title="Listing 7-7Utility routine CreateSampleAtomListTweenData"></a>
<p class="codesample"><strong>Listing 7-7&nbsp;&nbsp;</strong>Utility routine CreateSampleAtomListTweenData</p>
<div class="codesample"><table><tr><td scope="row"><pre>QTAtomContainer CreateSampleAtomListTweenData( long whichOne )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSErr&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtomContainer&#160;&#160;&#160;&#160;&#160;atomListContainer;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtomType&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtomType;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;UInt32&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;elementDataType;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;UInt16&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resourceID;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTNewAtomContainer( &#38;atomListContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// kListElementDataType atom specifies the data type of the elements<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;elementDataType = kTweenTypeShort;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTInsertChild( atomListContainer, kParentAtomIsContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kListElementDataType, 1, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(tweenAtomType),<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#38;tweenAtomType, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// kListElementType atom tells which type of atoms to look for<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;tweenAtomType = 'pcid';<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTInsertChild( atomListContainer, kParentAtomIsContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kListElementType, 1, 1, sizeof(tweenAtomType),<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#38;tweenAtomType, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;switch ( whichOne ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case 1:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resourceID = 1000;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( atomListContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kParentAtomIsContainer, 'pcid', 1, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(resourceID), &#38;resourceID, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resourceID = 1001;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( atomListContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kParentAtomIsContainer, 'pcid', 2, 2,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(resourceID), &#38;resourceID, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resourceID = 1002;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( atomListContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kParentAtomIsContainer, 'pcid', 3, 3,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(resourceID), &#38;resourceID, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case 2:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resourceID = 1003;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( atomListContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kParentAtomIsContainer, 'pcid', 1, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(resourceID), &#38;resourceID, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resourceID = 1004;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( atomListContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kParentAtomIsContainer, 'pcid', 2, 2,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(resourceID), &#38;resourceID, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;resourceID = 1005;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = QTInsertChild( atomListContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kParentAtomIsContainer, 'pcid', 3, 3,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sizeof(resourceID), &#38;resourceID, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err &#38;&#38; atomListContainer )<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{ QTDisposeAtomContainer( atomListContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;atomListContainer = nil; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return atomListContainer;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>



<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_31" title="Using a Polygon Tween Component"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingaPolygonTweenComponent" title="Using a Polygon Tween Component"></a>Using a Polygon Tween Component</h2>
<p>A polygon tweener maps a four-sided polygon, such as the boundary of a sprite or track, into another. It can be used to create perspective effects, in which the shape of the destination polygon changes over time. The range of polygons into which the source polygon is mapped is defined by two additional four-sided polygons, which are interpolated to specify a destination polygon for any time point in the tween duration.</p>
<p>To use a polygon tween component (of type <code>kTweenTypePolygonTween</code> Components and Tween Media), do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom into the <code>kTweenEntry</code> atom.</p></li>
</ol>
<p>The data is an array of 27 fixed-point values (<code>Fixed[27]Tween</code> Components and Tween Media) that specifies the three four-sided polygons. Each polygon is specified by 9 consecutive array elements. The first element is each set of 9 contains the number of points used to specify the polygon; this value is coerced to a long integer, and it must always be 4 after coercion. The following 8 values in each set of nine are four <code>x</code>, <code>y</code> pairs that specify the corners of the polygon.</p>
<p>The first set of 9 elements specifies the dimensions of a sprite or track to be mapped. For example, if the object is a sprite, the four points are (0,0), (<em>spriteWidth,</em> <em>0</em> ), (<em>spriteWidth,</em> <em>spriteHeight),</em> (0, <em>spriteHeight).</em> The next set of 9 elements specifies the initial polygon into which the sprite or track is mapped. The next set of 9 elements specifies the final polygon into which the sprite or track is mapped.</p>
<p>The output is a <code><!--a target="_top" -->MatrixRecord<!--/a--></code> data structure that you use to map the sprite or track into a four-sided polygon.</p>
<p>Listing&#160;7-8 shows how to create a polygon tween.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_97" title="Listing 7-8Creating a polygon tween container"></a>
<p class="codesample"><strong>Listing 7-8&nbsp;&nbsp;</strong>Creating a polygon tween container</p>
<div class="codesample"><table><tr><td scope="row"><pre>OSErr CreateSamplePolygonTweenContainer( QTAtomContainer container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;TimeValue duration, QTAtom *newTweenAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSErr &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;TimeValue&#160;&#160;&#160;&#160;&#160;&#160;&#160;offset;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Handle&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;thePolygonData = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtom&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTRemoveChildren( container, kParentAtomIsContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;offset = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddTweenAtom( container, kParentAtomIsContainer, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTweenTypePolygon, offset, duration, 0, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nil, &#38;tweenAtom );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;thePolygonData = CreateSamplePolygonData();<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( thePolygonData == nil ) { err = memFullErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;HLock( thePolygonData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddDataAtom( container, tweenAtom, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;GetHandleSize( thePolygonData ),<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*thePolygonData, nil, 0, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( thePolygonData ) DisposeHandle( thePolygonData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( newTweenAtom ) *newTweenAtom = tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return err;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Handle CreateSamplePolygonData( void )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSErr &#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Handle&#160;&#160;&#160;&#160;&#160;&#160;polygonData;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Fixed&#160;&#160;&#160;&#160;&#160;&#160;&#160;*poly;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;polygonData = NewHandle( 27 * sizeof(Fixed) );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( polygonData == nil ) { err = memFullErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly = (Fixed *)*polygonData;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[0] = EndianU32_NtoB(4);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// source dimensions<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[1] = EndianU32_NtoB(Long2Fix( 0 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[2] = EndianU32_NtoB(Long2Fix( 0 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[3] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[4] = EndianU32_NtoB(Long2Fix( 0 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[5] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[6] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[7] = EndianU32_NtoB(Long2Fix( 0 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[8] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[9] = EndianU32_NtoB(4);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// tween from polygon<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[10] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[11] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[12] = EndianU32_NtoB(Long2Fix( 200 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[13] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[14] = EndianU32_NtoB(Long2Fix( 200 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[15] = EndianU32_NtoB(Long2Fix( 200 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[16] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[17] = EndianU32_NtoB(Long2Fix( 200 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[18] = EndianU32_NtoB(4);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// tween to polygon<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[19] = EndianU32_NtoB(Long2Fix( 140 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[20] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[21] = EndianU32_NtoB(Long2Fix( 160 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[22] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[23] = EndianU32_NtoB(Long2Fix( 200 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[24] = EndianU32_NtoB(Long2Fix( 200 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[25] = EndianU32_NtoB(Long2Fix( 100 ));<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;poly[26] = EndianU32_NtoB(Long2Fix( 200 ));<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return polygonData;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_32" title="Specifying an Offset for a Tween Operation"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-SpecifyinganOffsetforaTweenOperation" title="Specifying an Offset for a Tween Operation"></a>Specifying an Offset for a Tween Operation</h2>
<p>You can start a tween operation after a tween media sample begins by including an optional <code>kTweenStartOffset</code> atom in the <code>kTweenEntry</code> atom for the tween. This atom specifies a time interval, beginning at the start of the tween media sample, after which the tween operation begins. If this atom is not included, the tween operation begins at the start of the tween media sample.</p>

<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_33" title="Specifying a Duration for a Tween"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-SpecifyingaDurationforaTween" title="Specifying a Duration for a Tween"></a>Specifying a Duration for a Tween</h2>
<p>You can specify the duration of a tween operation by including an optional <code>kTweenDuration</code> atom in the <code>kTweenEntry</code> atom for the tween. When a QuickTime movie includes a tween track, the time units for the duration are those of the tween track&#8217;s time scale. If a tween component is used outside of a movie, the application using the tween data determines how the duration value and values returned by the component are interpreted.</p>

<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_34" title="Creating a Tween Sequence"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-CreatingaTweenSequence" title="Creating a Tween Sequence"></a>Creating a Tween Sequence</h2>
<p><span class="content_text"><a href="../F-Chapter%20copy%204/6TweensandTweenOpera.html#//apple_ref/doc/uid/TP40000899-TweensandTweenOperations-SingleTweensandTweenSequences">Single Tweens and Tween Sequences</a></span> discussed tween sequences, in which different tween operations of the same type may be applied sequentially. The type <code>kTweenSequenceElement</code> specifies an entry in a tween sequence. Its parent is the tween QT atom container (which you specify with the constant <code>kParentAtomIsContainerTween</code> Components and Tween Media).</p>
<p>The ID of a <code>kTweenSequenceElement</code> atom must be unique among the <code>kTweenSequenceElement</code> atoms in the same QT atom container. The index of a <code>kTweenSequenceElement</code> atom specifies its order in the sequence; the first entry in the sequence has the index 1, the second 2, and so on.</p>
<p>This atom is a leaf atom. The data type of its data is <code><!--a target="_top" -->TweenSequenceEntryRecord<!--/a--></code>, a data structure that contains the following fields:</p>
<ul class="ul">
<li class="li"><p><code>endPercent</code>, a value of type <code>Fixed</code> that specifies the point in the duration of the tween media sample at which the sequence entry ends. This is expressed as a fraction; for example, if the value is 0.75, the sequence entry ends after three-quarters of the total duration of the tween media sample has elapsed. The sequence entry begins after the end of the previous sequence entry or, for the first entry in the sequence, at the beginning of the tween media sample.</p></li>
<li class="li"><p><code>tweenAtomID</code>, a value of type <code>QTAtomID</code> that specifies the <code>kTweenEntry</code> atom containing the tween for the sequence element. The <code>kTweenEntry</code> atom and the <code>kTweenSequenceElement</code> atom must both be child atoms of the same tween QT atom container.</p></li>
<li class="li"><p><code>dataAtomID</code>, a value of type <code>QTAtomID</code> that specifies the <code>kTweenData</code> atom containing the data for the tween. This atom must be a child atom of the atom specified by the <code>tweenAtomID</code> field.</p></li>
</ul>
<p>Listing&#160;7-9 shows how to create a tween sequence.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_98" title="Listing 7-9Creating a tween sequence"></a>
<p class="codesample"><strong>Listing 7-9&nbsp;&nbsp;</strong>Creating a tween sequence</p>
<div class="codesample"><table><tr><td scope="row"><pre>OSErr CreateSampleSequencedTweenContainer( QTAtomContainer container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;TimeValue duration, QTAtom *newTweenAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSErr&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtomContainer&#160;&#160;&#160;&#160;&#160;dataContainer = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSType&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenerType;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtom&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sequenceAtom, tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;TimeValue&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;offset;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Handle&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;result;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtomID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtomID, dataAtomID;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Fixed&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;endPercent;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTRemoveChildren( container, kParentAtomIsContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;tweenerType = kTweenTypeAtomList;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;offset &#160;= 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddSequenceTweenAtom( container, kParentAtomIsContainer,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1, &#38;sequenceAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;offset = 0;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddTweenAtom( container, sequenceAtom, 1, tweenerType, offset,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;duration, 0, 0, nil, &#38;tweenAtom );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// add first data atom (id 1) to tween atom<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;dataAtomID = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;dataContainer = CreateSampleAtomListTweenData( dataAtomID );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( ! dataContainer ) { err = memFullErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddDataAtom( container, tweenAtom, dataAtomID, 0, nil,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataContainer, 0, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTDisposeAtomContainer( dataContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// add second data atom (id 2) to tween atom<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;dataAtomID = 2;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;dataContainer = CreateSampleAtomListTweenData( dataAtomID );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( ! dataContainer ) { err = memFullErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddDataAtom( container, tweenAtom, dataAtomID, 0, nil,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataContainer, 0, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTDisposeAtomContainer( dataContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// now create a sequence with four elements; the first three are data<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;// atom 1, the last is data atom 2<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;endPercent = FixDiv( Long2Fix(25), Long2Fix(100) );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;tweenAtomID = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;dataAtomID = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddSequenceElement( container, sequenceAtom, endPercent,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtomID, dataAtomID, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;endPercent = FixDiv( Long2Fix(50), Long2Fix(100) );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;tweenAtomID = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;dataAtomID = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddSequenceElement( container, sequenceAtom, endPercent,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtomID, dataAtomID, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;endPercent = FixDiv( Long2Fix(75), Long2Fix(100) );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;tweenAtomID = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;dataAtomID = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddSequenceElement( container, sequenceAtom, endPercent,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtomID, dataAtomID, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;endPercent = FixDiv( Long2Fix(100), Long2Fix(100) );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;tweenAtomID = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;dataAtomID = 2;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddSequenceElement( container, sequenceAtom, endPercent,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtomID, dataAtomID, nil ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( container )<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;QTRemoveChildren( container, kParentAtomIsContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*newTweenAtom = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;else<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*newTweenAtom = sequenceAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_35" title="Naming Tweens"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-NamingTweens" title="Naming Tweens"></a>Naming Tweens</h2>
<p>You can use the <code>kNameAtom</code> atom to store a string value containing a name (or any other information) in a tween container. This atom is not required and is not routinely accessed by QuickTime. It is available for use by your authoring tools or other software.</p>

<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_36" title="CreateSampleVectorData Utility"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-CreateSampleVectorDataUtility" title="CreateSampleVectorData Utility"></a>CreateSampleVectorData Utility</h2>
<p>Listing&#160;7-10 shows the <code>CreateSampleVectorData</code> routine.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_99" title="Listing 7-10Utility routine CreateSampleVectorData"></a>
<p class="codesample"><strong>Listing 7-10&nbsp;&nbsp;</strong>Utility routine CreateSampleVectorData</p>
<div class="codesample"><table><tr><td scope="row"><pre>Handle CreateSampleVectorData( long whichOne )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSErr&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Handle&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pathData = nil, vectorData = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;ComponentInstance&#160;&#160;&#160;ci = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;gxPoint&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = OpenADefaultComponent( decompressorComponentType,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kVectorCodecType, &#38;ci ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = CurveNewPath( ci, &#38;pathData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( pathData == nil )<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{ err = memFullErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;switch ( whichOne ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case 1:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = Long2Fix( 0 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = Long2Fix( 100 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 0, false ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = Long2Fix( 100 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = Long2Fix( 0 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 1, false ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = Long2Fix( 200 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = Long2Fix( 100 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 2, false ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = Long2Fix( 100 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = Long2Fix( 200 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 3, false ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case 2:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = 100;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 0, false ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = 100;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 1, false ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = 200;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = 100;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 2, false ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = 100;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = 200;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 3, false ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case 3:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 0, true ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = 200;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = 50;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 1, true ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = 400;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = 400;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 2, true ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;case 4:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = Long2Fix( 0 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = Long2Fix( 0 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 0, true ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = Long2Fix( 200 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = Long2Fix( 50 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 1, true ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.x = Long2Fix( 400 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;aPoint.y = Long2Fix( 400 );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = CurveInsertPointIntoPath( ci, &#38;aPoint, pathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0, 2, true ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;break;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = CurveCreateVectorStream( ci, &#38;vectorData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = CurveAddPathAtomToVectorStream( ci, pathData, vectorData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = CurveAddZeroAtomToVectorStream( ci, vectorData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( pathData ) DisposeHandle( pathData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( ci ) CloseComponent( ci );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err != noErr ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if ( vectorData ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DisposeHandle( vectorData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;vectorData = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return vectorData;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_37" title="CreateSamplePathTweenContainer Utility"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-CreateSamplePathTweenContainerUtility" title="CreateSamplePathTweenContainer Utility"></a>CreateSamplePathTweenContainer Utility</h2>
<p>Listing&#160;7-11 shows how to use the <code>CreateSamplePathTweenContainer</code> utility routine.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_100" title="Listing 7-11Utility routine CreateSamplePathTweenContainer"></a>
<p class="codesample"><strong>Listing 7-11&nbsp;&nbsp;</strong>Utility routine CreateSamplePathTweenContainer</p>
<div class="codesample"><table><tr><td scope="row"><pre>OSErr CreateSamplePathTweenContainer( QTAtomContainer container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSType tweenerType, long whichSamplePath, Boolean returnDelta,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;TimeValue duration, Fixed initialRotation, QTAtom *newTweenAtom )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;OSErr &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;TimeValue&#160;&#160;&#160;&#160;&#160;&#160;&#160;offset;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Handle&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;thePathData = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;QTAtom&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTRemoveChildren( container, kParentAtomIsContainer );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;offset = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddTweenAtom( container, kParentAtomIsContainer, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenerType, offset, duration, 0, 0, nil,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#38;tweenAtom );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;thePathData = CreateSampleVectorData( whichSamplePath );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( thePathData == nil ) { err = memFullErr; goto bail; }<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;HLock( thePathData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = AddDataAtom( container, tweenAtom, 1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;GetHandleSize( thePathData ), *thePathData,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nil, 0, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( returnDelta ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = AddPathTweenFlags( container, tweenAtom,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTweenReturnDelta ); <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( initialRotation )<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;QTInsertChild( container, tweenAtom, kInitialRotationAtom,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1, 1, sizeof(initialRotation), &#38;initialRotation, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( thePathData ) DisposeHandle( thePathData );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( newTweenAtom ) *newTweenAtom = tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;return err;<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_38" title="Using a kTweenTypePathToMatrixTranslation Tween Component"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingakTweenTypePathToMatrixTranslationTweenComponent" title="Using a kTweenTypePathToMatrixTranslation Tween Component"></a>Using a kTweenTypePathToMatrixTranslation Tween Component</h2>
<p>To use a <code>kTweenTypePathToMatrixTranslation</code> tween component, do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Perform the tweening operation, using <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTDoTween" target="_top">QTDoTween</a></code>.</p></li>
</ol>
<p>Listing&#160;7-12 shows how to create a <code>kTweenTypePathToMatrixTranslation</code> tween.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_101" title="Listing 7-12Creating a kTweenTypePathToMatrixTranslation tween container"></a>
<p class="codesample"><strong>Listing 7-12&nbsp;&nbsp;</strong>Creating a kTweenTypePathToMatrixTranslation tween container</p>
<div class="codesample"><table><tr><td scope="row"><pre>OSErr &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;err = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenTime, duration;<span></span></pre></td></tr><tr><td scope="row"><pre>Handle&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;result = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtomContainer&#160;&#160;&#160;&#160;&#160;container = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>QTTweener&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tween = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtom&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tweenAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>duration = 8;<span></span></pre></td></tr><tr><td scope="row"><pre>result = NewHandle( 0 );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err = MemError() ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewAtomContainer( &#38;container );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTweenTypePathToMatrixTranslation, 1, <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;false, duration, 0, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;MatrixRecord absoluteMatrix;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;absoluteMatrix = *(MatrixRecord *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr></table></div>

<p>Listing&#160;7-13 shows how to create a <code>kTweenTypePathToMatrixTranslation</code> tween in which the the <code>kTweenReturnDelta</code> flag is set.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_102" title="Listing 7-13Creating a kTweenTypePathToMatrixTranslation tween"></a>
<p class="codesample"><strong>Listing 7-13&nbsp;&nbsp;</strong>Creating a kTweenTypePathToMatrixTranslation tween</p>
<div class="codesample"><table><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTweenTypePathToMatrixTranslation, 1, <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;true, duration, 0, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;MatrixRecord deltaMatrix;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;deltaMatrix = *(MatrixRecord *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_39" title="Using a kTweenTypePathToFixedPoint Tween Component"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingakTweenTypePathToFixedPointTweenComponent" title="Using a kTweenTypePathToFixedPoint Tween Component"></a>Using a kTweenTypePathToFixedPoint Tween Component</h2>
<p>To use a <code>kTweenTypePathToFixedPoint</code> tween component, do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Perform the tweening operation, using <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTDoTween" target="_top">QTDoTween</a></code>.</p></li>
</ol>
<p>Listing&#160;7-14 shows how to create a <code>kTweenTypePathToFixedPoint</code> tween.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_103" title="Listing 7-14Creating a kTweenTypePathToFixedPoint tween container"></a>
<p class="codesample"><strong>Listing 7-14&nbsp;&nbsp;</strong>Creating a kTweenTypePathToFixedPoint tween container</p>
<div class="codesample"><table><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTweenTypePathToFixedPoint, 2, false, <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;duration, 0, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;gxPoint absolutePoint;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;absolutePoint = *(gxPoint *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr></table></div>

<p>Listing&#160;7-15 shows how to create a <code>kTweenTypePathToFixedPoint</code> tween in which the <code>kTweenReturnDelta</code> flag is set.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_104" title="Listing 7-15Creating a kTweenTypePathToFixedPoint tween container"></a>
<p class="codesample"><strong>Listing 7-15&nbsp;&nbsp;</strong>Creating a kTweenTypePathToFixedPoint tween container</p>
<div class="codesample"><table><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTweenTypePathToFixedPoint, 2, true, <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;duration, 0, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;gxPoint deltaPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;deltaPoint = *(gxPoint *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_40" title="Using a kTweenTypePathToMatrixRotation Tween Component"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingakTweenTypePathToMatrixRotationTweenComponent" title="Using a kTweenTypePathToMatrixRotation Tween Component"></a>Using a kTweenTypePathToMatrixRotation Tween Component</h2>
<p>To use a <code>kTweenTypePathToMatrixRotation</code> tween component, do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Perform the tweening operation, using <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTDoTween" target="_top">QTDoTween</a></code>.</p></li>
</ol>
<p>Listing&#160;7-16 shows how to create a <code>kTweenTypePathToMatrixRotation</code> tween.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_105" title="Listing 7-16Creating a kTweenTypePathToMatrixRotation tween container"></a>
<p class="codesample"><strong>Listing 7-16&nbsp;&nbsp;</strong>Creating a kTweenTypePathToMatrixRotation tween container</p>
<div class="codesample"><table><tr><td scope="row"><pre>// kTweenTypePathToMatrixRotation<span></span></pre></td></tr><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTweenTypePathToMatrixRotation, 1, false, <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;duration, X2Fix(0.5), &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;MatrixRecord absoluteMatrix;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;absoluteMatrix = *(MatrixRecord *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_41" title="Using a kTweenTypePathToMatrixTranslationAndRotation Tween Component"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingakTweenTypePathToMatrixTranslationAndRotationTweenComponent" title="Using a kTweenTypePathToMatrixTranslationAndRotation Tween Component"></a>Using a kTweenTypePathToMatrixTranslationAndRotation Tween Component</h2>
<p>To use a <code>kTweenTypePathToMatrixTranslationAndRotation</code> tween component, do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Perform the tweening operation, using <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTDoTween" target="_top">QTDoTween</a></code>.</p></li>
</ol>
<p>Listing&#160;7-17 shows how to create a <code>kTweenTypePathToMatrixTranslationAndRotation</code> tween.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_106" title="Listing 7-17Creating a kTweenTypePathToMatrixTranslationAndRotation tween container"></a>
<p class="codesample"><strong>Listing 7-17&nbsp;&nbsp;</strong>Creating a kTweenTypePathToMatrixTranslationAndRotation tween container</p>
<div class="codesample"><table><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;kTweenTypePathToMatrixTranslationAndRotation, <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;1, false, duration, X2Fix(0.5), &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;MatrixRecord absoluteMatrix;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;absoluteMatrix = *(MatrixRecord *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_42" title="Using a kTweenTypePathXtoY Tween Component"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingakTweenTypePathXtoYTweenComponent" title="Using a kTweenTypePathXtoY Tween Component"></a>Using a kTweenTypePathXtoY Tween Component</h2>
<p>To use <code>kTweenTypePathXtoY</code> tween components, either absolute or delta, do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Perform the tweening operation, using <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTDoTween" target="_top">QTDoTween</a></code>.</p></li>
</ol>
<p>Listing&#160;7-18 shows how to create both kinds of <code>kTweenTypePathXtoY</code> tweens.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_107" title="Listing 7-18Creating kTweenTypePathXtoY tweens container"></a>
<p class="codesample"><strong>Listing 7-18&nbsp;&nbsp;</strong>Creating kTweenTypePathXtoY tweens container</p>
<div class="codesample"><table><tr><td scope="row"><pre>// kTweenTypePathXtoY - normal<span></span></pre></td></tr><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container, kTweenTypePathXtoY, 3,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;false, duration, 0, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Fixed absoluteYvalue;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;absoluteYvalue = *(Fixed *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// kTweenTypePathXtoY - delta<span></span></pre></td></tr><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container, kTweenTypePathXtoY, 3,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;true, duration, 0, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Fixed deltaYalue;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;deltaYalue = *(Fixed *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_43" title="Using a kTweenTypePathYtoX Tween Component"></a>
<h2><a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-UsingakTweenTypePathYtoXTweenComponent" title="Using a kTweenTypePathYtoX Tween Component"></a>Using a kTweenTypePathYtoX Tween Component</h2>
<p>To use <code>kTweenTypePathYtoX</code> tween components, either absolute or delta, do the following:</p>
<ol class="ol">
<li class="li"><p>Create a QT atom container.</p></li>
<li class="li"><p>Insert a <code>kTweenEntry</code> atom into the QT atom container for the tween.</p></li>
<li class="li"><p>Insert a <code>kTweenType</code> atom that specifies the tween type into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Insert a <code>kTweenData</code> atom into the <code>kTweenEntry</code> atom.</p></li>
<li class="li"><p>Perform the tweening operation, using <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTDoTween" target="_top">QTDoTween</a></code>.</p></li>
</ol>
<p>Listing&#160;7-19 shows how to create both kinds of <code>kTweenTypePathYtoX</code> tweens.</p>
<a name="//apple_ref/doc/uid/TP40000899-UsingTweenComponents-DontLinkElementID_108" title="Listing 7-19Creating kTweenTypePathYtoX tweens container"></a>
<p class="codesample"><strong>Listing 7-19&nbsp;&nbsp;</strong>Creating kTweenTypePathYtoX tweens container</p>
<div class="codesample"><table><tr><td scope="row"><pre>// kTweenTypePathYtoX - normal<span></span></pre></td></tr><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container, kTweenTypePathYtoX, 4,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;false, duration, 0, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Fixed absoluteXvalue;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;absoluteXvalue = *(Fixed *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>// kTweenTypePathYtoX - delta<span></span></pre></td></tr><tr><td scope="row"><pre>err = CreateSamplePathTweenContainer( container, kTweenTypePathYtoX, 4,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;true, duration, 0, &#38;tweenAtom ); <span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTNewTween( &#38;tween, container, tweenAtom, duration );<span></span></pre></td></tr><tr><td scope="row"><pre>if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>for ( tweenTime = 0; tweenTime &#60;= duration; tweenTime++ ) {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Fixed deltaXvalue;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;err = QTDoTween( tween, tweenTime, result, nil, nil, nil );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( err ) goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;deltaXvalue = *(Fixed *)*result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>err = QTDisposeTween( tween );<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( container ) QTDisposeAtomContainer( container );<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;if ( result ) DisposeHandle( result );<span></span></pre></td></tr></table></div>





        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../G-Chapter copy 3/7TweenMediaHandlers.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../I-Chapter copy 1/9TweenComponentsandN.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-01-10<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/RM/MediaTypesAndHandlers/MHFundamentals/H-Chapter copy 2/8UsingTweenComponent.html%3Fid%3DTP40000899-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/RM/MediaTypesAndHandlers/MHFundamentals/H-Chapter copy 2/8UsingTweenComponent.html%3Fid%3DTP40000899-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/RM/MediaTypesAndHandlers/MHFundamentals/H-Chapter copy 2/8UsingTweenComponent.html%3Fid%3DTP40000899-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>