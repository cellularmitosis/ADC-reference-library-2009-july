<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Safari Visual Effects Guide: Transitions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Transitions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40008032-CH4" title="Transitions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000469" target="_top">Internet &amp; Web</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40008032-CH1-SW1">Safari Visual Effects Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Animations/Animations.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40008032-CH4-SW1" title="Transitions"></a><h1>Transitions</h1><p>Transitions are implicit animations that occur when you change an animatable CSS property. Normally when the value of a CSS property changes, the affected elements are rendered immediately using the new property value. Using CSS transitions, the element automatically transitions from its current state to its new state when you set the property value. </p><p>To create a transition, you first create a style that sets up a transition—for example, you specify the element’s property that triggers the transition and the duration of the transition. Then you apply the style to an element and set the element’s property value. Changing the property value starts the transition from the old to the new value. </p><p>Not all element properties are animatable. In general, any CSS property that accepts values that are numbers, lengths, percentages, or colors is animatable. Some CSS properties that accept discrete values, such as the <code>visibility</code> property, are animatable too, but they display a jump between values rather than a smooth transition when changed. See <em><a href="../../../../AppleApplications/Reference/SafariCSSRef/index.html#//apple_ref/doc/uid/TP40002050" target="_top">Safari CSS Reference</a></em> for which properties are animatable.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40008032-CH4-SW12" title="Note"></a><p><strong>Note:</strong>&nbsp;There are actually two types of animations: declared animations and implicit animations. This article describes implicit animations, which are called <strong>transitions</strong>. Read <span class="content_text"><a href="../Animations/Animations.html#//apple_ref/doc/uid/TP40008032-CH6-SW1">“Animations”</a></span> for details on declared animations.</p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Transitions.html#//apple_ref/doc/uid/TP40008032-CH4-SW15">How Transitions Work</a>
				
			<br/>
			
        
			
			
				<a href="Transitions.html#//apple_ref/doc/uid/TP40008032-CH4-SW8">Setting Transition Properties</a>
				
			<br/>
			
        
			
			
				<a href="Transitions.html#//apple_ref/doc/uid/TP40008032-CH4-SW4">Using Timing Functions</a>
				
			<br/>
			
        
			
			
				<a href="Transitions.html#//apple_ref/doc/uid/TP40008032-CH4-SW6">Starting Transitions</a>
				
			<br/>
			
        
			
			
				<a href="Transitions.html#//apple_ref/doc/uid/TP40008032-CH4-SW5">Handling Transition Events</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40008032-CH4-SW15" title="How Transitions Work"></a><h2>How Transitions Work</h2><p>Normally when the value of a CSS property changes, the result is rendered immediately. When applying a transition to an element’s property, the change animates smoothly from the old value to the new value over time. The property values are computed over time. Therefore, if you query the value of a property during a transition, you may get an intermediate value that is the current animated value, not the old or new value.</p><p>For example, suppose you define a transition for the <code>left</code> and <code>background-color</code> properties and then set both property values of an element at the same time. The element’s old position and color transitions to the new position and color over time as illustrated in <span class="content_text">Figure 1</span>. If you query the properties in the middle of the transition, you get an intermediate location and color for the element. </p><br/><div><a name="//apple_ref/doc/uid/TP40008032-CH4-SW10" title="Figure 1Transition of two properties"></a><p><strong>Figure 1&nbsp;&nbsp;</strong>Transition of two properties</p><img src = "../Art/transition1.jpg" alt = "Transition of multiple properties" ></div><br/><p>You can also control how these intermediate values are computed over time using a timing function. Read <span class="content_text"><a href="Transitions.html#//apple_ref/doc/uid/TP40008032-CH4-SW4">“Using Timing Functions”</a></span> to learn more about timing functions.</p><p>Transitions are powerful if you combine them with 2D and 3D transforms. For example, <span class="content_text">Figure 2</span> shows the results of applying a transition to an element in 3D space. See the <em><!--a target="_top" -->CardFlip<!--/a--></em> sample code project for the complete source code for this example.</p><br/><div><a name="//apple_ref/doc/uid/TP40008032-CH4-SW7" title="Figure 2Card Flip example"></a><p><strong>Figure 2&nbsp;&nbsp;</strong>Card Flip example</p><object alt = "Card Flip example" width="320" height="372"><param name="src" value="../Art/clubs.mp4"><param name="autoplay" value="false"></object><br/><br/><img src = "../Art/clubs.jpg" alt = "Card Flip example" ></div><br/><a name="//apple_ref/doc/uid/TP40008032-CH4-SW8" title="Setting Transition Properties"></a><h2>Setting Transition Properties</h2><p>You use the CSS transition properties to set parameters of a transition. Typically, you need to set the element’s property that the transition applies to and the duration of the transition. You don’t need to set the element’s property if you want the transition to apply to all properties. In addition, you can set a timing function (how intermediate values are distributed over the duration) and a delay before the transition begins.</p><p>Each parameter has a corresponding CSS property beginning with <code><a href="../../../../AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/css/property/-webkit-transition" target="_top">-webkit-transition</a></code>.  Use the <code><a href="../../../../AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/css/property/-webkit-transition-property" target="_top">-webkit-transition-property</a></code> property to set the element’s property and the <code><a href="../../../../AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/css/property/-webkit-transition-duration" target="_top">-webkit-transition-duration</a></code> property to set the duration of the transition. In addition, you can use the <code><a href="../../../../AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/css/property/-webkit-transition" target="_top">-webkit-transition</a></code> property as a shorthand to set all the transition parameters using one style rule. </p><p>For example, <span class="content_text">Listing 1</span> defines a simple 2 second transition when the <code>opacity</code> property of an element is set.</p><a name="//apple_ref/doc/uid/TP40008032-CH4-SW2" title="Listing 1Setting transition properties"></a><p class="codesample"><strong>Listing 1&nbsp;&nbsp;</strong>Setting transition properties</p><div class="codesample"><table><tr><td scope="row"><pre>div {<span></span></pre></td></tr><tr><td scope="row"><pre>  -webkit-transition-property: opacity;<span></span></pre></td></tr><tr><td scope="row"><pre>  -webkit-transition-duration: 2s;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>You can also pass multiple comma-separated parameters to the <code>-webkit-transition-...</code> properties to set up multiple transitions at once. The order of the parameters determines which transition the settings apply to. For example, in <span class="content_text">Listing 2</span>, the first parameter of each line applies to a <code>-webkit-transform</code> transition and the second parameter applies to an <code>opacity</code> transition.</p><a name="//apple_ref/doc/uid/TP40008032-CH4-SW14" title="Listing 2Creating multiple transitions at once"></a><p class="codesample"><strong>Listing 2&nbsp;&nbsp;</strong>Creating multiple transitions at once</p><div class="codesample"><table><tr><td scope="row"><pre>div.zoom-fade {<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-property: -webkit-transform, opacity;<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-duration: 4s, 2s;<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-delay: 2s, 0;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p><span class="content_text">Listing 3</span> creates a 500 millisecond transition for the <code>opacity</code> property in one style rule using the <code>-webkit-transition</code> shorthand.</p><a name="//apple_ref/doc/uid/TP40008032-CH4-SW19" title="Listing 3Setting all transition properties at once"></a><p class="codesample"><strong>Listing 3&nbsp;&nbsp;</strong>Setting all transition properties at once</p><div class="codesample"><table><tr><td scope="row"><pre>div.sliding {<span></span></pre></td></tr><tr><td scope="row"><pre> -webkit-transition: opacity 500ms ease-out 100ms;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40008032-CH4-SW4" title="Using Timing Functions"></a><h2>Using Timing Functions</h2><p>Timing functions allow a transition to change speed over its duration. The timing function is a mathematical function that provides a smooth curve or path for the transition. These effects are commonly called <strong>easing</strong> functions. </p><p>You set a timing function using the <code>-webkit-transition-timing-function</code> property. For example, you can define a timing function that starts out slowly, speeds up, and slows down at the end. The timing function is specified using a cubic Bezier curve, which is defined by four control points, as illustrated in <span class="content_text">Figure 3</span>. The first and last control points are always set to (0,0) and (1,1), so you just need to specify the two in-between control points. The points are specified as a percentage of the overall duration.</p><br/><div><a name="//apple_ref/doc/uid/TP40008032-CH4-SW11" title="Figure 3Cubic Bezier timing function"></a><p><strong>Figure 3&nbsp;&nbsp;</strong>Cubic Bezier timing function</p><img src = "../Art/timingfunction.jpg" alt = "Cubic Bezier timing function" ></div><br/><p>You can set your control points by passing the <code><!--a-->cubic-bezier()<!--/a--></code> function as the parameter with your custom control points as arguments or by using constants for common timing effects. For example, in <span class="content_text">Listing 4</span>, transitions are created for the <code><a href="../../../../AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/css/property/-webkit-transform" target="_top">-webkit-transform</a></code> and <code>opacity</code> properties. The <code>-webkit-transform</code> transition is 4 seconds and uses an <code>ease-out</code> timing function. The <code>opacity</code> transition is 2 seconds and uses a custom Bezier path. </p><a name="//apple_ref/doc/uid/TP40008032-CH4-SW13" title="Listing 4Setting a transition&acirc;&#128;&#153;s timing function"></a><p class="codesample"><strong>Listing 4&nbsp;&nbsp;</strong>Setting a transition’s timing function</p><div class="codesample"><table><tr><td scope="row"><pre>div.zoom-fade {<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-property: -webkit-transform, opacity;<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-duration: 4s, 2s;<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-timing-function: ease-out, cubic-bezier(0.5, 0.2, 0.3, 1.0);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The default value for the timing function is <code>ease</code>, where the control points are <code>(0.25, 0.1)</code> and <code>(0.25, 1.0)</code> respectively.</p><a name="//apple_ref/doc/uid/TP40008032-CH4-SW6" title="Starting Transitions"></a><h2>Starting Transitions</h2><p>Once you define a transition, you need to apply it to an element to start the transition. For example, normally, changing the value of an element’s <code>left</code> style property causes the element to jump to the new location. Although this is fine for static pages, it provides for a limited user-interface experience for rich web applications. A JavaScript function could be used to iterate over an array of intermediate values, constantly updating the <code>left</code> property with new values, but this is computationally expensive and requires significantly more code. Instead you define a transition as described in <span class="content_text"><a href="Transitions.html#//apple_ref/doc/uid/TP40008032-CH4-SW8">“Setting Transition Properties”</a></span> and apply it to an element as follows.</p><ol class="ol"><li class="li"><p>Define the transition in CSS.</p><p>This code fragment defines a 2 second opacity transition.</p><div class="codesample"><table><tr><td scope="row"><pre>div {<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-property: opacity;<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-duration: 2s;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Create a corresponding style in CSS that can be applied to an element.</p><p>This code fragment sets the <code>opacity</code> property to <code>0</code> causing a fade away effect.</p><div class="codesample"><table><tr><td scope="row"><pre>div.fadeAway {<span></span></pre></td></tr><tr><td scope="row"><pre>    opacity:0;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Apply the style to an element in HTML.</p><p>This code fragment uses the <code>onclick</code> handler to trigger the fade away effect on the element.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;div style="width:100px;<span></span></pre></td></tr><tr><td scope="row"><pre>            height:100px;<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color:blue;"<span></span></pre></td></tr><tr><td scope="row"><pre>            onclick="className = 'fadeAway'"><span></span></pre></td></tr></table></div></li></ol><p><span class="content_text">Listing 5</span> shows the complete HTML for this simple web application that displays a 100 x 100 box that fades away when clicked.</p><a name="//apple_ref/doc/uid/TP40008032-CH4-SW3" title="Listing 5Simple fade away effect"></a><p class="codesample"><strong>Listing 5&nbsp;&nbsp;</strong>Simple fade away effect</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;html><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;style type="text/css" media="screen"><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>div {<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-property: opacity;<span></span></pre></td></tr><tr><td scope="row"><pre>    -webkit-transition-duration: 2s;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>div.fadeAway {<span></span></pre></td></tr><tr><td scope="row"><pre>    opacity:0;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/style><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;body><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;div style="width:100px;<span></span></pre></td></tr><tr><td scope="row"><pre>            height:100px;<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color:blue;"<span></span></pre></td></tr><tr><td scope="row"><pre>            onclick="className = 'fadeAway'"><span></span></pre></td></tr><tr><td scope="row"><pre>Tap to fade<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/div><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/html><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40008032-CH4-SW5" title="Handling Transition Events"></a><h2>Handling Transition Events</h2><p>You can set a handler for a DOM event that is sent at the end of a transition. The event is an instance of <code><!--a target="_top" -->WebKitTransitionEvent<!--/a--></code> and its type is <code>webKitTransitionEnd</code> in JavaScript. </p><p>For example, the JavaScript code in <span class="content_text">Listing 6</span> displays an alert panel whenever a transition ends.</p><a name="//apple_ref/doc/uid/TP40008032-CH4-SW9" title="Listing 6Handling transition end event"></a><p class="codesample"><strong>Listing 6&nbsp;&nbsp;</strong>Handling transition end event</p><div class="codesample"><table><tr><td scope="row"><pre>box.addEventListener( 'webkitTransitionEnd', function( event ) { alert( "Finished transition!" ); }, false );<span></span></pre></td></tr></table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Animations/Animations.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-11-19<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/InternetWeb/Conceptual/SafariVisualEffectsProgGuide/Transitions/Transitions.html%3Fid%3DTP40008032-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/InternetWeb/Conceptual/SafariVisualEffectsProgGuide/Transitions/Transitions.html%3Fid%3DTP40008032-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/InternetWeb/Conceptual/SafariVisualEffectsProgGuide/Transitions/Transitions.html%3Fid%3DTP40008032-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>