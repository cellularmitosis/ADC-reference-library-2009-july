<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Cocoa Application Tutorial Using Bindings: Creating an Object Controller</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating an Object Controller"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001095-CH205" title="Creating an Object Controller"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../DesignGuidelines-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000556" target="_top">Design Guidelines</a> &gt; <a href="../01introduction/introduction.html#//apple_ref/doc/uid/TP40001095-CH202-TP1">Cocoa Application Tutorial Using Bindings</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../03creatingmodel/creatingthemodel.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../05bindingviews/bindingviews.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001095-CH205-TP9" title="Creating an Object Controller"></a><h1>Creating an Object Controller</h1><p></p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="buildingrelations.html#//apple_ref/doc/uid/TP40001095-CH205-DontLinkElementID_2">Add a Controller</a>
				
			<br/>
			
        
			
			
				<a href="buildingrelations.html#//apple_ref/doc/uid/TP40001095-CH205-BAJDFJJG">Establish the Model-Controller Relationship</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001095-CH205-DontLinkElementID_2" title="Add a Controller"></a><h2>Add a Controller</h2><p>To start using Cocoa bindings, you need to add a controller object to the nib file. This controller object is associated with the application’s model object and provides data to the application’s view objects. As <span class="content_text"><a href="../02creatingproj/creatingproj.html#//apple_ref/doc/uid/TP40001095-CH203-BAJBJDGC">Figure 1-2</a></span> shows, the Controller palette provides various controller objects, including NSObjectController, NSArrayController, and NSUserDefaultsController. Each controller provides specialized functionality: NSObjectController manages a single object, NSArrayController manages an array of objects, and NSUserDefaultsController interacts with the user defaults database.</p><p>The Currency Converter application has a single model object, so NSObjectController is the appropriate choice. You add an object controller as follows:</p><ol class="ol"><li class="li"><p>Drag NSObjectController from the Controller palette to the nib file window, which should then appear as shown in <span class="content_text">Figure 3-1</span>.</p></li><li class="li"><p>Optionally, rename the controller by double-clicking its label in the <code>MainMenu.nib</code> window, and entering a new name. For this example, the object controller’s name is left unchanged.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40001095-CH205-BAJCGIDC" title="Figure 3-1Create an instance of NSObjectController"></a><p><strong>Figure 3-1&nbsp;&nbsp;</strong>Create an instance of <code>NSObjectController</code></p><img src = "../art/cc_objectcontroller.jpg" alt = "Instantiate an NSObjectController" ></div><br/><a name="//apple_ref/doc/uid/TP40001095-CH205-BAJDFJJG" title="Establish the Model-Controller Relationship"></a><h2>Establish the Model-Controller Relationship</h2><p>Now that you’ve instantiated an object controller by dragging it from the Controller palette, you need to associate it with a model object by specifying which model object it controls. You can connect the controller to the model object, the instance of Converter you created above, as follows: </p><ol class="ol"><li class="li"><p>Control-drag a connection from the object controller to the <code>Converter</code> object in the <code>MainMenu.nib</code> window.</p></li><li class="li"><p>Connect the controller’s <code>content</code> outlet, as <span class="content_text">Figure 3-2</span> shows.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40001095-CH205-BAJBHCAG" title="Figure 3-2Connect the controller&acirc;&#128;&#153;s content outlet"></a><p><strong>Figure 3-2&nbsp;&nbsp;</strong>Connect the controller’s content outlet</p><img src = "../art/cc_connect_content.jpg" alt = "Connect the controller’s content outlet" ></div><br/><p>There are a number of ways to set a controller’s content, the easiest of which is to set its <code>content</code> outlet, as you did here. When you set a controller’s <code>content</code> outlet to another object, you are telling the controller to use the data that object provides and also to provide that object with data. You are telling the controller to invoke key-value coding operations on the target of the content outlet. Controllers provide a two-way binding between model and view objects by tying together the data represented by both so that changes to the data in either object changes the data in the other object.</p><p>Now that you’ve instantiated a controller and associated it with the application’s model object, you need to help the controller identify the keys in the model object with which it interacts. Simply setting a controller’s <code>content</code> outlet to a model object does not provide the controller with enough information to know how to access the data in the model object. The most important attributes of a controller are the model keys it exposes to the views. These keys match the keys in the model class with which the controller is associated. You expose model keys as follows:</p><ol class="ol"><li class="li"><p>Select the object controller in the nib file window and choose the Attributes pane in the inspector, as shown in <span class="content_text">Figure 3-3</span>.</p></li><li class="li"><p>Add three keys to the object controller by clicking the Add button: <code>dollarsToConvert</code>, <code>exchangeRate</code>, and <code>amountInOtherCurrency</code>. </p></li><li class="li"><p>The pane in <span class="content_text">Figure 3-3</span> should now look like <span class="content_text">Figure 3-4</span>.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40001095-CH205-BAJBCEDI" title="Figure 3-3Attributes pane for the NSObjectController instance"></a><p><strong>Figure 3-3&nbsp;&nbsp;</strong>Attributes pane for the <code>NSObjectController</code> instance</p><img src = "../art/cc_objctlr_attrpane1.jpg" alt = "Attributes pane for NSObjectController" ></div><br/><br/><div><a name="//apple_ref/doc/uid/TP40001095-CH205-BAJCHJAC" title="Figure 3-4Attributes pane for the NSObjectController instance with keys"></a><p><strong>Figure 3-4&nbsp;&nbsp;</strong>Attributes pane for the <code>NSObjectController</code> instance with keys</p><img src = "../art/cc_objctlr_attrpane2.jpg" alt = "Attributes pane for NSObjectController with keys" ></div><br/>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../03creatingmodel/creatingthemodel.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../05bindingviews/bindingviews.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-10<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CurrencyConverterBindings/04buildingrel/buildingrelations.html%3Fid%3DTP40001095-3.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CurrencyConverterBindings/04buildingrel/buildingrelations.html%3Fid%3DTP40001095-3.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CurrencyConverterBindings/04buildingrel/buildingrelations.html%3Fid%3DTP40001095-3.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>