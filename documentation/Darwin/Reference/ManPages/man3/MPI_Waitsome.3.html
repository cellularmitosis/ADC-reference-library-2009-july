<html><head><title>Mac OS X
 Manual Page For MPI_Waitsome(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/MPI_Waitsome" title="Mac OS X
 Manual Page for MPI_Waitsome(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/MPI_Waitsome"; name=MPI_Waitsome(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
MPI_Waitsome(3OpenMPI)                                                                MPI_Waitsome(3OpenMPI)



<b>NAME</b>
       <b>MPI_Waitsome</b> - Waits for some given communications to complete.


<b>SYNTAX</b>
<b>C</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       int MPI_Waitsome(int <u>incount</u>, MPI_Request <u>*array</u><b>_</b><u>of</u><b>_</b><u>requests</u>,
            int <u>*outcount</u>, int <u>*array</u><b>_</b><u>of</u><b>_</b><u>indices</u>,
            MPI_Status <u>*array</u><b>_</b><u>of</u><b>_</b><u>statuses</u>)


<b>Fortran</b> <b>Syntax</b>
       INCLUDE 'mpif.h'
       MPI_WAITSOME(<u>INCOUNT,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>REQUESTS,</u> <u>OUTCOUNT,</u>
                 <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>INDICES,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>STATUSES,</u> <u>IERROR</u>)
            INTEGER   <u>INCOUNT,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>REQUESTS(*),</u> <u>OUTCOUNT</u>
            INTEGER   <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>INDICES(*)</u>
            INTEGER   <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>STATUSES(MPI</u><b>_</b><u>STATUS</u><b>_</b><u>SIZE*)</u>
            INTEGER   <u>IERROR</u>


<b>C++</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       static int Request::Waitsome(int <u>incount</u>, Request
            <u>array</u><b>_</b><u>of</u><b>_</b><u>requests</u>[], int <u>array</u><b>_</b><u>of</u><b>_</b><u>indices</u>[], Status <u>array</u><b>_</b><u>of</u><b>_</b><u>statuses</u>[])

       static int Request::Waitsome(int <u>incount</u>, Request
            <u>array</u><b>_</b><u>of</u><b>_</b><u>requests</u>[], int <u>array</u><b>_</b><u>of</u><b>_</b><u>indices</u>[])


<b>INPUT</b> <b>PARAMETERS</b>
       incount   Length of array_of_requests (integer).

       array_of_requests
                 Array of requests (array of handles).


<b>OUTPUT</b> <b>PARAMETERS</b>
       outcount  Number of completed requests (integer).

       array_of_indices
                 Array of indices of operations that completed (array of integers).

       array_of_statuses
                 Array of status objects for operations that completed (array of status).

       IERROR    Fortran only: Error status (integer).


<b>DESCRIPTION</b>
       Waits until at least one of the operations associated with active handles in the list have completed.
       Returns in outcount the number of requests from  the  list  array_of_requests  that  have  completed.
       Returns in the first outcount locations of the array array_of_indices the indices of these operations
       (index within the array array_of_requests; the array is indexed from 0 in C and from 1  in  Fortran).
       Returns  in  the first outcount locations of the array array_of_status the status for these completed
       operations. If a request that completed was allocated by a nonblocking communication call, then it is
       deallocated, and the associated handle is set to MPI_REQUEST_NULL.

       If  the  list contains no active handles, then the call returns immediately with outcount = MPI_UNDE-<font color="#ffffff" class="whiteout">FINED.&nbsp;MPI_UNDEFINED.</font>
       FINED.

       When one or more of the communications completed by MPI_Waitsome  fails,  then  it  is  desirable  to
       return  specific  information  on  each  communication. The arguments outcount, array_of_indices, and
       array_of_statuses will be adjusted to indicate completion of all communications that  have  succeeded
       or  failed.  The call will return the error code MPI_ERR_IN_STATUS and the error field of each status
       returned will be set to indicate success or to indicate the specific error that  occurred.  The  call
       will  return MPI_SUCCESS if no request resulted in an error, and will return another error code if it
       failed for other reasons (such as invalid arguments). In such cases, it will  not  update  the  error
       fields of the statuses.

       If  your  application does not need to examine the <u>array</u><b>_</b><u>of</u><b>_</b><u>statuses</u> field, you can save resources by
       using  the  predefined  constant  MPI_STATUSES_IGNORE  can  be  used  as  a  special  value  for  the
       <u>array</u><b>_</b><u>of</u><b>_</b><u>statuses</u> argument.

       <b>Example:</b> Same code as the example in the MPI_Waitany man page, but using MPI_Waitsome.

           CALL MPI_COMM_SIZE(comm, size, ierr)
           CALL MPI_COMM_RANK(comm, rank, ierr)
           IF(rank .GT. 0) THEN         ! client code
               DO WHILE(.TRUE.)
                  CALL MPI_ISEND(a, n, MPI_REAL, 0, tag, comm, request, ierr)
                  CALL MPI_WAIT(request, status, ierr)
               END DO
           ELSE         ! rank=0 -- server code
               DO i=1, size-1
                  CALL MPI_IRECV(a(1,i), n, MPI_REAL, i, tag,
                                 comm, <!-- a -->requests(i)<!-- /a -->, ierr)
               END DO
               DO WHILE(.TRUE.)
                  CALL MPI_WAITSOME(size, request_list, numdone,
                                   indices, statuses, ierr)
                  DO i=1, numdone
                     CALL DO_SERVICE(a(1, <!-- a -->indices(i)<!-- /a -->))
                     CALL MPI_IRECV(a(1, <!-- a -->indices(i)<!-- /a -->), n, MPI_REAL, 0, tag,
                                  comm, requests(indices(i)), ierr)
                  END DO
               END DO
           END IF


<b>NOTES</b>
       The array of indices are in the range 0 to incount-1 for C and in the range 1 to incount for Fortran.


<b>ERRORS</b>
       For each invocation of MPI_Waitsome, if one or more requests generate  an  MPI  exception,  only  the
       <u>first</u>  MPI  request  that  caused an exception will be passed to its corresponding error handler.  No
       other error handlers will be invoked (even if multiple requests generated exceptions).  However,  <u>all</u>
       requests  that  generate  an  exception will have a relevant error code set in the corresponding sta-<font color="#ffffff" class="whiteout">tus.MPI_ERROR&nbsp;status.MPI_ERROR</font>
       tus.MPI_ERROR field (unless MPI_IGNORE_STATUSES was used).

       The default error handler aborts the MPI job, except for I/O function errors. The error  handler  may
       be  changed with MPI_Comm_set_errhandler, MPI_File_set_errhandler, or MPI_Win_set_errhandler (depend-<font color="#ffffff" class="whiteout">ing&nbsp;(depending</font>
       ing on the type of MPI  handle  that  generated  the  MPI  request);  the  predefined  error  handler
       MPI_ERRORS_RETURN  may be used to cause error values to be returned. Note that MPI does not guarantee
       that an MPI program can continue past an error.

       If the invoked error handler allows MPI_Waitsome to return to the caller, the value MPI_ERR_IN_STATUS
       will  be  returned  in  the  C  and  Fortran  bindings.   In  C++,  if  the  predefined error handler
       MPI::ERRORS_THROW_EXCEPTIONS  is  used,  the  value  MPI::ERR_IN_STATUS  will  be  contained  in  the
       MPI::Exception object.  The MPI_ERROR field can then be examined in the array of returned statuses to
       determine exactly which <!-- a -->request(s)<!-- /a --> generated an exception.


<b>SEE</b> <b>ALSO</b>
       MPI_Comm_set_errhandler
       MPI_File_set_errhandler
       MPI_Test
       MPI_Testall
       MPI_Testany
       MPI_Testsome
       MPI_Wait
       MPI_Waitall
       MPI_Waitany
       MPI_Win_set_errhandler




Open MPI 1.2                                   September 2006                         MPI_Waitsome(3OpenMPI)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Waitsome.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Waitsome.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Waitsome.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
