<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Drawing a Viewer and its Contents</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=3809"> </A>Drawing a Viewer and its Contents</H1><P CLASS="T1.Text1"><A NAME="pgfId=3810"> </A>This section describes the routines you can use to draw a viewer object and its contents.</P><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3279"> </A>Q3ViewerDraw</H2><P CLASS="T1.Text1"><A NAME="pgfId=3281"> </A><A NAME="marker=3280"> </A><A NAME="marker=605"> </A>You can use the <TT CLASS="cv">Q3ViewerDraw</TT> function to draw a viewer object.</P><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6810"> </A>MAC OS VERSION</H3><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=11943"> </A>OSErr Q3ViewerDraw (TQ3ViewerObject theViewer);<BR></CODE></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6911"> </A>WINDOWS VERSION</H3><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=11947"> </A>TQ3Status Q3WinViewerDraw (TQ3ViewerObject viewer);<BR></CODE></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=7161"> </A>PARAMETER</H3><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=11951"> </A><TT CLASS="cv">theViewer</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3283"> </A>A viewer object.</DD></DL COMPACT></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3284"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=3285"> </A>The <TT CLASS="cv">Q3ViewerDraw</TT> function draws the viewer object specified by the <TT CLASS="cv">theViewer</TT> parameter. You need to call this function only if the viewer flags or other visible features of a viewer have changed. For example, to change a viewer's pane, you need to call <TT CLASS="cv">Q3ViewerSetBounds</TT> followed by <TT CLASS="cv">Q3ViewerDraw</TT>. Similarly, if the viewer flags of a new viewer object have the <TT CLASS="cv">kQ3ViewerActive</TT> flag clear, then to make the viewer object active you need to set that flag by calling <TT CLASS="cv">Q3ViewerSetFlags</TT> and then draw the viewer object by calling <TT CLASS="cv">Q3ViewerDraw</TT>.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3869"> </A>Q3ViewerDrawContent</H2><P CLASS="T1.Text1"><A NAME="pgfId=3874"> </A>You can use the <TT CLASS="cv">Q3ViewerDrawContent</TT> function to draw the content region of a viewer object.</P><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6812"> </A>MAC OS VERSION</H3><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=11962"> </A>OSErr Q3ViewerDrawContent (TQ3ViewerObject theViewer);<BR></CODE></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6914"> </A>WINDOWS VERSION</H3><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=11966"> </A>TQ3Status Q3WinViewerDrawContent (TQ3ViewerObject viewer);<BR></CODE></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=7163"> </A>PARAMETER</H3><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=11970"> </A><TT CLASS="cv">theViewer</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3881"> </A>A viewer object.</DD></DL COMPACT></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3892"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=4000"> </A>The <TT CLASS="cv">Q3ViewerDrawContent</TT> function forces the 3D&nbsp;Viewer to rerender and redraw the 3D data displayed in the content region of the viewer object specified by the <TT CLASS="cv">theViewer</TT> parameter. You should call <TT CLASS="cv">Q3ViewerDrawContent</TT> only if you have directly modified the model associated with that viewer object using QuickDraw&nbsp;3D functions. <TT CLASS="cv">Q3ViewerDrawContent</TT> redraws only the content region of the viewer object and is preferable to calling <TT CLASS="cv">Q3ViewerDraw</TT>, which also redraws the controller strip and other user interface elements.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3989"> </A>SPECIAL CONSIDERATIONS</H3><P CLASS="T1.Text1"><A NAME="pgfId=3996"> </A>The <TT CLASS="cv">Q3ViewerDrawContent</TT> function is available only in versions 1.1 and later of the 3D&nbsp;Viewer.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3900"> </A>Q3ViewerDrawControlStrip</H2><P CLASS="T1.Text1"><A NAME="pgfId=4030"> </A>You can use the <TT CLASS="cv">Q3ViewerDrawControlStrip</TT> function to draw the controller strip and other user interface elements of a viewer object.</P><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6814"> </A>MAC OS VERSION</H3><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=11981"> </A>OSErr Q3ViewerDrawControlStrip (TQ3ViewerObject theViewer);<BR></CODE></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6917"> </A>WINDOWS VERSION</H3><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=11985"> </A>TQ3Status Q3WinViewerDrawControlStrip (TQ3ViewerObject viewer);<BR></CODE></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=7165"> </A>PARAMETER</H3><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=11989"> </A><TT CLASS="cv">theViewer</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4006"> </A>A viewer object.</DD></DL COMPACT></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3923"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=4056"> </A>The <TT CLASS="cv">Q3ViewerDrawControlStrip</TT> function forces the 3D&nbsp;Viewer to redraw the controller strip and other user interface elements of the viewer object specified by the <TT CLASS="cv">theViewer</TT> parameter. (The user interface elements of a viewer object are its controller strip, its badge, and its drag border.) You might use <TT CLASS="cv">Q3ViewerDrawControlStrip</TT> when you want to update the controller strip but do not want to rerender and redraw the model in the content region of the viewer object.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4042"> </A>SPECIAL CONSIDERATIONS</H3><P CLASS="T1.Text1"><A NAME="pgfId=4043"> </A>The <TT CLASS="cv">Q3ViewerDrawControlStrip</TT> function is available only in versions 1.1 and later of the 3D&nbsp;Viewer.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3935"> </A>Q3ViewerSetDrawingCallbackMethod</H2><P CLASS="T1.Text1"><A NAME="pgfId=4027"> </A>You can use the <TT CLASS="cv">Q3ViewerSetDrawingCallbackMethod</TT> function to set a drawing completion callback routine for a viewer object. This function has no equivalent in the Windows environment.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=12000"> </A>OSErr Q3ViewerSetDrawingCallbackMethod (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3ViewerObject theViewer,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3ViewerDrawingCallbackMethod callbackMethod,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const void *data);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=12002"> </A><TT CLASS="cv">theViewer</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4008"> </A>A viewer object.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=12011"> </A><TT CLASS="cv">callbackMethod</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3952"> </A> A pointer to the drawing completion callback routine for the specified viewer object. See <A HREF="qd3dviewer.20.htm#42555" CLASS="XRef">TQ3ViewerDrawingCallbackMethod</A> for a description of this routine.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=12021"> </A><TT CLASS="cv">data</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3957"> </A>A pointer to an application-defined block of data. This pointer is passed to the callback routine when it is called.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4109"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=4110"> </A>The <TT CLASS="cv">Q3ViewerSetDrawingCallbackMethod</TT> function registers the function pointed to by the <TT CLASS="cv">callbackMethod</TT> parameter as a drawing completion callback routine for the viewer object specified by the <TT CLASS="cv">theViewer</TT> parameter. This callback routine is called each time the 3D&nbsp;Viewer completes a drawing operation requested by a call to <TT CLASS="cv">Q3ViewerDraw</TT>, <TT CLASS="cv">Q3ViewerDrawContent</TT>, or <TT CLASS="cv">Q3ViewerDrawControlStrip</TT>.</P><P CLASS="T1.Text1"><A NAME="pgfId=4131"> </A>You can use a callback routine to perform any operations that should follow a completed drawing operation. For instance, if a viewer is associated with an offscreen graphics world, you can use the drawing completion callback routine to copy the rendered image to its final destination.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4051"> </A>SPECIAL CONSIDERATIONS</H3><P CLASS="T1.Text1"><A NAME="pgfId=4052"> </A>The <TT CLASS="cv">Q3ViewerSetDrawingCallbackMethod</TT> function is available only in versions 1.1 and later of the 3D&nbsp;Viewer.</P></DIV></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>