<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>ValidDate (IM: U)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING120></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="OSUtilities-119.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-121.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="OSUtilities-2.html"><B>Operating System Utilities</B></A> / <BR><DD><A HREF="OSUtilities-93.html"><B>Chapter 4 - Date, Time, and Measurement Utilities</B></A> / <A HREF="OSUtilities-96.html"><B>Date, Time, and Measurement Utilities Reference</B></A><BR><DL><DD><A HREF="OSUtilities-104.html"><B>Routines</B></A> / <A HREF="OSUtilities-118.html"><B>Modifying and Verifying Long Date-Time Records</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING120-0></A>
<H3><A NAME=MARKER-11-161></A><A NAME=MARKER-2-162></A>ValidDate</H3>
 You can use the <CODE>ValidDate</CODE> function to verify specific date and time values in a long date-time record. <P>
<PRE>
FUNCTION ValidDate (VAR vDate: LongDateRec; flags: LongInt;
                    VAR newSecs: LongDateTime): Integer;
</PRE>
<DL>
<DT><CODE>vDate</CODE>
<DD> The long date-time record whose fields you want to verify.
<DT><CODE>flags</CODE>
<DD> The fields that you want to verify in the long date-time record. 
<DT><CODE>newSecs</CODE>
<DD> The date-time information, passed by the <CODE>ToggleDate</CODE> function, that you want to verify.
</DL>
<A NAME=HEADING120-6></A>
<H5>DESCRIPTION</H5>
 The <CODE>ValidDate</CODE> function verifies the fields, specified by the <CODE>flags</CODE> parameter, in the long date-time record specified by the <CODE>vDate</CODE> parameter. If any of the specified fields contain invalid values, the <CODE>ValidDate</CODE> function returns a <CODE>LongDateField</CODE> value indicating the field in error. Otherwise, it returns the constant <CODE>validDateFields</CODE>. Note that <CODE>ValidDate</CODE> reports only the least significant erroneous field. <P>
 The following constants specify the <CODE>LongDateRec</CODE> fields for the <CODE>ValidDate</CODE> function to check:<P>
<PRE>
CONST
   eraMask              = $0001;    {verify the era}
   yearMask             = $0002;    {verify the year}
   monthMask            = $0004;    {verify the month}
   dayMask              = $0008;    {verify the day}
   hourMask             = $0010;    {verify the hour}
   minuteMask           = $0020;    {verify the minute}
   secondMask           = $0040;    {verify the second}
   dateStdMask          = $007F;    {verify the era through }
                                    { second}
   dayOfWeekMask        = $0080;    {verify the day of the week}
   dayOfYearMask        = $0100;    {verify the day of the year}
   weekOfYearMask       = $0200;    {verify the week of the year}
   pmMask               = $0400;    {verify the evening (P.M.)}
</PRE>
<A NAME=HEADING120-10></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Although <CODE>ValidDate</CODE> does not move or purge memory, you should not call it at interrupt time. <P>
<A NAME=HEADING120-12></A>
<H5>SEE ALSO</H5>
 To learn more about the <CODE>LongDateTime</CODE> data type, see <A HREF=OSUtilities-99.html#MARKER-9-89>page 4-25</A>. For more information on the long date-time record, see <A HREF=OSUtilities-100.html#MARKER-9-92>page 4-26</A>. The <CODE>ToggleDate</CODE> function is described on <A HREF=OSUtilities-119.html#MARKER-9-158>page 4-42</A>. The enumerated type <CODE>LongDateField</CODE> is described on <A HREF=OSUtilities-101.html#MARKER-9-98>page 4-29</A>.<A NAME=MARKER-2-163></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="OSUtilities-119.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-121.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="OSUtilities-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
