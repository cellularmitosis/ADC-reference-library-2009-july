<HTML>		<HEAD>		<TITLE>					</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../webobjects.html" target="_top">WebObjects 4.5 Documentation</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../../EOControlTOC.html"><img src="../../../../../../../images/up.gif" border="0" alt="Table of Contents"></a><h1><FONT COLOR="#000066"><a name="//apple_ref/java/intf/EOEnterpriseObject">EOEnterpriseObject</a></FONT></h1><br><br><a name = "BABCHFDF"></a><h2>Initialization</h2><p>The Framework creates enterprise objects with a constructorof the following form:</p><blockquote><pre>public MyClass(EOEditingContext anEditingContext,EOClassDescription classDescription,<code></code>EOGlobalID globalID)</pre></blockquote><br><p>This constructor should create a new instance of your enterpriseobject class with the provided arguments and it can perform anycustom initialization that you require. Enterprise objects createdin a Java client (with Java Client) and enterprise objects createdon the server (with Yellow Box) require this constructor.</p><p>After an enterprise object is created, it receives an <code>awake...</code> message.The particular message depends on whether the object has been fetchedfrom a database or created anew in the application. In the former case,it receives an  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/awakeFromFetch">awakeFromFetch</a> message. In the latter,it receives an  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/awakeFromInsertion">awakeFromInsertion</a> message. The receivercan override either method to perform extra initialization-suchas setting default values-based on how it was created.</p><br><a name = "BABBHHAJ"></a><h2>Change Notification</h2><p>For the Framework to keep all areas of an application synchronized,enterprise objects must notify their observers when their statechanges. Objects do this by invoking  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/willChange">willChange</a> before altering any instance variableor other kind of state. This method informs all observers that theinvoker is about to change. See the  <a href="../../Classes/EOObserverCenter.html#EOObserverCenter">EOObserverCenter</a> class specificationfor more information on change notification.</p><p>The primary observer of changes in an object is the object'sEOEditingContext. EOEditingContext is a subclass of EOObjectStorethat manages collections of objects in memory, tracking inserts,deletes, and updates, and propagating changes to the persistentstore as needed. You can get the EOEditingContext that containsan object by sending the object an  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/editingContext">editingContext</a> message.</p><br><a name = "BABDBHAD"></a><h2>Object and Class MetadataAccess</h2><p>One of the larger groups of methods in the EOEnterpriseObjectinterface provides information about an object's properties. Mostof these methods consult an EOClassDescription to provide theiranswers. An object's  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/classDescription">classDescription</a> method returns it'sclass description. See the  <a href="../../Classes/EOClassDescription.html#EOClassDescription">EOClassDescription</a> class specificationfor the methods it implements. Methods you can send directly toan enterprise object include  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/entityName">entityName</a>, which provides the nameof the entity mapped to the receiver's class;  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/allPropertyKeys">allPropertyKeys</a>, which returns thenames of all the receiver's class properties, attributes and relationshipsalike; and  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/attributeKeys">attributeKeys</a>, which returns justthe names of the attributes.</p><p>Some methods return information about relationships.  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/toOneRelationshipKeys">toOneRelationshipKeys</a> and  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/toManyRelationshipKeys">toManyRelationshipKeys</a> return thenames of the receiver's relationships, while  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/isToManyKey">isToManyKey</a> tells which kind a particularrelationship is.  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/deleteRuleForRelationshipKey">deleteRuleForRelationshipKey</a> indicateswhat should happen to the receiver's relationships when it'sdeleted. Similarly,  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/ownsDestinationObjectsForRelationshipKey">ownsDestinationObjectsForRelationshipKey</a> indicateswhat should happen when another object is added to or removed fromthe receiver's relationship. Another method,  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/classDescriptionForDestinationKey">classDescriptionForDestinationKey</a>,returns the EOClassDescription for the objects at the destinationof a relationship.</p><br><a name = "BABDABAA"></a><h2>Snapshots</h2><p>The key-value coding methods define a general mechanism foraccessing an object's properties, but you first have to know whatthose properties are. Sometimes, however, the Framework needs topreserve an object's entire state for later use, whether to undochanges to the object, compare the values that have changed, orjust keep a record of the changes. The snapshotting methods providethis service, extracting or setting all properties at once and performingthe necessary conversions for proper behavior.  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/snapshot">snapshot</a> returns a dictionary containingall the receiver's properties, and  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/updateFromSnapshot">updateFromSnapshot</a> sets propertiesof the receiver to the values in a snapshot.</p><p>A special kind of snapshot is also used to merge an object'suncommitted changes with changes that have been committed to theexternal store since the object was fetched (in Yellow Box only).These methods are  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/changesFromSnapshot">changesFromSnapshot</a> and  <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/reapplyChangesFromDictionary">reapplyChangesFromDictionary</a>.</p><br><a name = "BABBHJJC"></a><h2>Writing an Enterprise ObjectClass</h2><p>Some of the EOEnterpriseObject methods are for enterpriseobjects to implement or override, and some are meant to be usedas defined by the Framework. Many methods are used internally bythe Framework and rarely invoked by application code. The tablesin this section highlight the methods that you typically overrideor implement in a custom enterprise object.</p><br><table border = "1"><tr><td scope="row"><b>Creation</b></td></tr><tr><td scope="row"><code><em> MyClass</em> (    EOEditingContext,    EOClassDescription,    EOGlobalID)</code></td><td>Theframework creates enterprise objects with this method if it exists. YellowBox resorts to the empty constructor if this constructor doesn'texist, but Java Client requires this constructor.</td></tr><tr><td scope="row"> <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/awakeFromFetch">awakeFromFetch</a></td><td>Performsadditional initialization after the object is fetched.</td></tr><tr><td scope="row"> <a href="../EOEnterpriseObject.html#//apple_ref/java/intfm/EOEnterpriseObject/awakeFromInsertion">awakeFromInsertion</a></td><td>Performsadditional initialization after the object is created in memory.</td></tr></table><br><br><table border = "1"><tr><td scope="row"><b>Key-ValueCoding: Accessing Properties and Relationships</b></td></tr><tr><td scope="row"><code>set<em> Key</em> </code></td><td>Setsthe value for the property named <em>key.</em> </td></tr><tr><td scope="row"><code><em> key</em> </code></td><td>Retrievesthe value for the property named <em>key.</em> </td></tr><tr><td scope="row"><code>addTo<em> Key</em> </code></td><td>Addsan object to a relationship property named <em>key.</em> </td></tr><tr><td scope="row"><code>removeFrom<em> Key</em> </code></td><td>Removesan object from the property named <em>key.</em> </td></tr><tr><td scope="row"> <a href="../EOKeyValueCoding.html#//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a></td><td>Handlesa failure of  <a href="../EOKeyValueCoding.html#//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a> to find a property.</td></tr><tr><td scope="row"> <a href="../EOKeyValueCoding.html#//apple_ref/java/intfm/EOKeyValueCoding/handleQueryWithUnboundKey">handleQueryWithUnboundKey</a></td><td>Handlesa failure of  <a href="../EOKeyValueCoding.html#//apple_ref/java/intfm/EOKeyValueCoding/valueForKey">valueForKey</a> to find a property.</td></tr><tr><td scope="row"> <a href="../EOKeyValueCoding.html#//apple_ref/java/intfm/EOKeyValueCoding/unableToSetNullForKey">unableToSetNullForKey</a></td><td>Handlesan attempt to set a non-object property's value to <code>null</code>.</td></tr></table><br><br><table border = "1"><tr><td scope="row"><b>Validation</b></td></tr><tr><td scope="row"><code>validate<em> Key</em> </code></td><td>Validatesa value for the property named <em>key.</em> </td></tr><tr><td scope="row"> <a href="../EOValidation.html#//apple_ref/java/intfm/EOValidation/validateForDelete">validateForDelete</a></td><td>Validatesall properties before deleting the receiver.</td></tr><tr><td scope="row"> <a href="../EOValidation.html#//apple_ref/java/intfm/EOValidation/validateForInsert">validateForInsert</a></td><td>Validatesall properties before inserting the receiver.</td></tr><tr><td scope="row"> <a href="../EOValidation.html#//apple_ref/java/intfm/EOValidation/validateForSave">validateForSave</a></td><td>Validatesall properties before saving the receiver.</td></tr><tr><td scope="row"> <a href="../EOValidation.html#//apple_ref/java/intfm/EOValidation/validateForUpdate">validateForUpdate</a></td><td>Validatesall properties before updating the receiver.</td></tr></table><br><br><a href="../../EOControlTOC.html"><img src="../../../../../../../images/up.gif" border="0" alt="Table of Contents"></a></BODY></HTML>