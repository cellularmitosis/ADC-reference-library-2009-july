<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>kern_control.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/header/kern_control.h" title="kern_control.h"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="kern_control.h">kern_control.h</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr>
<td scope="row"><b>Includes:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!-- a -->&lt;sys/appleapiopts.h&gt;<!-- /a --><br><a href="../kpi_mbuf_h/index.html#//apple_ref/doc/header/kpi_mbuf.h" target="_top">&lt;sys/kpi_mbuf.h&gt;</a>
</div></div></td>
</tr></table></div>
<h2>Overview</h2>
<!-- begin discussion --><p>This header defines an API to communicate between a kernel
extension and a process outside of the kernel.<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/ctl_deregister" target="_top">ctl_deregister</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/ctl_enqueuedata" target="_top">ctl_enqueuedata</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/ctl_enqueuembuf" target="_top">ctl_enqueuembuf</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/ctl_getenqueuespace" target="_top">ctl_getenqueuespace</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/ctl_register" target="_top">ctl_register</a></tt></dt>
<dd></dd>
</dl>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/ctl_deregister;   name=ctl_deregister --><a name="//apple_ref/c/func/ctl_deregister"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_deregister">ctl_deregister</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/ctl_deregister" target="_top" class="function"><span class="function">ctl_deregister</span></a>(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control reference of the control to unregister.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 - Kernel control was unregistered.
EINVAL - The kernel control reference was invalid.
EBUSY - The kernel control has clients still attached.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Unregister a kernel control. A kernel extension must
unregister it's kernel control(s) before unloading. If a kernel
control has clients attached, this call will fail.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/ctl_enqueuedata;   name=ctl_enqueuedata --><a name="//apple_ref/c/func/ctl_enqueuedata"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_enqueuedata">ctl_enqueuedata</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/ctl_enqueuedata" target="_top" class="function"><span class="function">ctl_enqueuedata</span></a>(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">unit</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">data</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">len</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">flags</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control reference of the kernel control.</p></dd>
<dt><code>unit</code></dt>
<dd><p>The unit number of the kernel control instance.</p></dd>
<dt><code>data</code></dt>
<dd><p>A pointer to the data to send.</p></dd>
<dt><code>len</code></dt>
<dd><p>The length of data to send.</p></dd>
<dt><code>flags</code></dt>
<dd><p>Send flags. CTL_DATA_NOWAKEUP is currently the only
supported flag.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 - Data was enqueued to be read by the client.
EINVAL - Invalid parameters.
EMSGSIZE - The buffer is too large.
ENOBUFS - The queue is full or there are no free mbufs.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Send data from the kernel control to the client.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/ctl_enqueuembuf;   name=ctl_enqueuembuf --><a name="//apple_ref/c/func/ctl_enqueuembuf"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_enqueuembuf">ctl_enqueuembuf</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/ctl_enqueuembuf" target="_top" class="function"><span class="function">ctl_enqueuembuf</span></a>(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">unit</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">m</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">flags</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control reference of the kernel control.</p></dd>
<dt><code>unit</code></dt>
<dd><p>The unit number of the kernel control instance.</p></dd>
<dt><code>m</code></dt>
<dd><p>An mbuf chain containing the data to send to the client.</p></dd>
<dt><code>flags</code></dt>
<dd><p>Send flags. CTL_DATA_NOWAKEUP is currently the only
supported flag.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 - Data was enqueued to be read by the client.
EINVAL - Invalid parameters.
ENOBUFS - The queue is full.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Send data stored in an mbuf chain from the kernel
control to the client. The caller is responsible for freeing
the mbuf chain if ctl_enqueuembuf returns an error.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/ctl_getenqueuespace;   name=ctl_getenqueuespace --><a name="//apple_ref/c/func/ctl_getenqueuespace"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_getenqueuespace">ctl_getenqueuespace</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/ctl_getenqueuespace" target="_top" class="function"><span class="function">ctl_getenqueuespace</span></a>(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">unit</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="type">*</span><span class="param">space</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control reference of the kernel control.</p></dd>
<dt><code>unit</code></dt>
<dd><p>The unit number of the kernel control instance.</p></dd>
<dt><code>space</code></dt>
<dd><p>The address where to return the current space available</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 - Success; the amount of space is returned to caller.
EINVAL - Invalid parameters.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Retrieve the amount of space currently available for data to be sent 
from the kernel control to the client.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/ctl_register;   name=ctl_register --><a name="//apple_ref/c/func/ctl_register"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_register">ctl_register</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/ctl_register" target="_top" class="function"><span class="function">ctl_register</span></a>(
    <span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/kern_ctl_reg" target="_top" class="type"><span class="type">kern_ctl_reg</span></a> <span class="type">*</span><span class="param">userkctl</span>,
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="type">*</span><span class="param">kctlref</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>userkctl</code></dt>
<dd><p>A structure defining the kernel control to be
attached. The ctl_connect callback must be specified, the other callbacks 
are optional. If ctl_connect is set to zero, ctl_register fails with 
the error code EINVAL.</p></dd>
<dt><code>kctlref</code></dt>
<dd><p>Upon successful return, the kctlref will contain a
reference to the attached kernel control. This reference is used
to unregister the kernel control. This reference will also be
passed in to the callbacks each time they are called.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 - Kernel control was registered.
EINVAL - The registration structure was not valid.
ENOMEM - There was insufficient memory.
EEXIST - A controller with that id/unit is already registered.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Register a kernel control. This will enable clients to
connect to the kernel control using a PF_SYSTEM socket.
<!-- end discussion -->
</p>
<p></p>
<h2>Typedefs</h2>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/ctl_connect_func;   name=ctl_connect_func --><a name="//apple_ref/c/tdef/ctl_connect_func"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_connect_func">ctl_connect_func</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">typedef</span> <!-- a --><span class="type">errno_t</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">ctl_connect_func</span><!-- /a -->)(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>, 
    <span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/sockaddr_ctl" target="_top" class="type"><span class="type">sockaddr_ctl</span></a> <span class="type">*</span><span class="param">sac</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="type">*</span><span class="param">unitinfo</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control ref for the kernel control the client is
connecting to.</p></dd>
<dt><code>sac</code></dt>
<dd><p>The address used to connect to this control. The field sc_unit 
contains the unit number of the kernel control instance the client is
connecting to. If CTL_FLAG_REG_ID_UNIT was set when the kernel control 
was registered, sc_unit is the ctl_unit of the kern_ctl_reg structure. 
If CTL_FLAG_REG_ID_UNIT was not set when the kernel control was 
registered, sc_unit is the dynamically allocated unit number of 
the new kernel control instance that is used for this connection.</p></dd>
<dt><code>unitinfo</code></dt>
<dd><p>A placeholder for a pointer to the optional user-defined
private data associated with this kernel control instance.  This
opaque info will be provided to the user when the rest of the
callback routines are executed.  For example, it can be used
to pass a pointer to an instance-specific data structure in
order for the user to keep track of the states related to this
kernel control instance.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The ctl_connect_func is used to receive
notification of a client connecting to the kernel control.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/ctl_disconnect_func;   name=ctl_disconnect_func --><a name="//apple_ref/c/tdef/ctl_disconnect_func"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_disconnect_func">ctl_disconnect_func</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">typedef</span> <!-- a --><span class="type">errno_t</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">ctl_disconnect_func</span><!-- /a -->)(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">unit</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">unitinfo</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control ref for the kernel control instance the client has
disconnected from.</p></dd>
<dt><code>unit</code></dt>
<dd><p>The unit number of the kernel control instance the client has
disconnected from.</p></dd>
<dt><code>unitinfo</code></dt>
<dd><p>The user-defined private data initialized by the
ctl_connect_func callback.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The ctl_disconnect_func is used to receive notification
that a client has disconnected from the kernel control. This
usually happens when the socket is closed. If this is the last
socket attached to your kernel control, you may unregister your
kernel control from this callback.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/ctl_getopt_func;   name=ctl_getopt_func --><a name="//apple_ref/c/tdef/ctl_getopt_func"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_getopt_func">ctl_getopt_func</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">typedef</span> <!-- a --><span class="type">errno_t</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">ctl_getopt_func</span><!-- /a -->)(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">unit</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">unitinfo</span>, 
    <!-- a --><span class="type">int</span><!-- /a --> <span class="param">opt</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">data</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="type">*</span><span class="param">len</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control ref of the kernel control.</p></dd>
<dt><code>unit</code></dt>
<dd><p>The unit number of the kernel control instance.</p></dd>
<dt><code>unitinfo</code></dt>
<dd><p>The user-defined private data initialized by the
ctl_connect_func callback.</p></dd>
<dt><code>opt</code></dt>
<dd><p>The socket option.</p></dd>
<dt><code>data</code></dt>
<dd><p>A buffer to copy the results in to. May be NULL, see
discussion.</p></dd>
<dt><code>len</code></dt>
<dd><p>A pointer to the length of the buffer. This should be set
to the length of the buffer used before returning.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The ctl_getopt_func is used to handle client get socket
option requests for the SYSPROTO_CONTROL option level. A buffer
is allocated for storage and passed to your function. The length
of that buffer is also passed. Upon return, you should set *len
to length of the buffer used. In some cases, data may be NULL.
When this happens, *len should be set to the length you would
have returned had data not been NULL. If the buffer is too small,
return an error.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/ctl_send_func;   name=ctl_send_func --><a name="//apple_ref/c/tdef/ctl_send_func"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_send_func">ctl_send_func</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">typedef</span> <!-- a --><span class="type">errno_t</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">ctl_send_func</span><!-- /a -->)(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">unit</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">unitinfo</span>, 
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">m</span>,
    <!-- a --><span class="type">int</span><!-- /a --> <span class="param">flags</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control ref of the kernel control.</p></dd>
<dt><code>unit</code></dt>
<dd><p>The unit number of the kernel control instance the client has
connected to.</p></dd>
<dt><code>unitinfo</code></dt>
<dd><p>The user-defined private data initialized by the
ctl_connect_func callback.</p></dd>
<dt><code>m</code></dt>
<dd><p>The data sent by the client to the kernel control in an
mbuf chain.</p></dd>
<dt><code>flags</code></dt>
<dd><p>The flags specified by the client when calling
send/sendto/sendmsg (MSG_OOB/MSG_DONTROUTE).</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The ctl_send_func is used to receive data sent from
the client to the kernel control.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/ctl_setopt_func;   name=ctl_setopt_func --><a name="//apple_ref/c/tdef/ctl_setopt_func"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_setopt_func">ctl_setopt_func</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">typedef</span> <!-- a --><span class="type">errno_t</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">ctl_setopt_func</span><!-- /a -->)(
    <a href="index.html#//apple_ref/c/tdef/kern_ctl_ref" target="_top" class="type"><span class="type">kern_ctl_ref</span></a> <span class="param">kctlref</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">unit</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">unitinfo</span>, 
    <!-- a --><span class="type">int</span><!-- /a --> <span class="param">opt</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">data</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">len</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>kctlref</code></dt>
<dd><p>The control ref of the kernel control.</p></dd>
<dt><code>unit</code></dt>
<dd><p>The unit number of the kernel control instance.</p></dd>
<dt><code>unitinfo</code></dt>
<dd><p>The user-defined private data initialized by the
ctl_connect_func callback.</p></dd>
<dt><code>opt</code></dt>
<dd><p>The socket option.</p></dd>
<dt><code>data</code></dt>
<dd><p>A pointer to the socket option data. The data has
already been copied in to the kernel for you.</p></dd>
<dt><code>len</code></dt>
<dd><p>The length of the socket option data.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The ctl_setopt_func is used to handle set socket option
calls for the SYSPROTO_CONTROL option level.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/kern_ctl_ref;   name=kern_ctl_ref --><a name="//apple_ref/c/tdef/kern_ctl_ref"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kern_ctl_ref">kern_ctl_ref</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">typedef</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span> <!-- a --><span class="var">kern_ctl_ref</span><!-- /a -->;  </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>A control reference is used to track an attached kernel
control. Registering a kernel control will create a kernel
control reference. This reference is required for sending data
or removing the kernel control. This reference will be passed to
callbacks for that kernel control.
<!-- end discussion -->
</p>
<p></p>
<h2>Structs and Unions</h2>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/ctl_event_data;   name=ctl_event_data --><a name="//apple_ref/c/tag/ctl_event_data"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_event_data">ctl_event_data</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/ctl_event_data" target="_top" class="type"><span class="type">ctl_event_data</span></a> { 
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">ctl_id</span><!-- /a -->; <span class="comment">/* Kernel Controller ID */</span>
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">ctl_unit</span><!-- /a -->; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>ctl_id</code></dt>
<dd><p>The kernel control id.</p></dd>
<dt><code>ctl_unit</code></dt>
<dd><p>The kernel control unit.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This structure is used for KEV_CTL_SUBCLASS kernel
events.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/ctl_info;   name=ctl_info --><a name="//apple_ref/c/tag/ctl_info"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ctl_info">ctl_info</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/ctl_info" target="_top" class="type"><span class="type">ctl_info</span></a> { 
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">ctl_id</span><!-- /a -->; <span class="comment">/* Kernel Controller ID  */</span>
    <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="type">ctl_name</span><!-- /a -->[ <span class="number">96</span>]; <span class="comment">/* Kernel Controller Name (a C string) */</span>
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>ctl_id</code></dt>
<dd><p>The kernel control id, filled out upon return.</p></dd>
<dt><code>ctl_name</code></dt>
<dd><p>The kernel control name to find.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This structure is used with the CTLIOCGINFO ioctl to
translate from a kernel control name to a control id.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/kern_ctl_reg;   name=kern_ctl_reg --><a name="//apple_ref/c/tag/kern_ctl_reg"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kern_ctl_reg">kern_ctl_reg</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/kern_ctl_reg" target="_top" class="type"><span class="type">kern_ctl_reg</span></a> { 
    <span class="comment">/* control information */</span>
    <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="type">ctl_name</span><!-- /a -->[ <span class="number">96</span>]; 
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">ctl_id</span><!-- /a -->; 
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">ctl_unit</span><!-- /a -->;  
    <span class="comment">/* control settings */</span>
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">ctl_flags</span><!-- /a -->; 
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">ctl_sendsize</span><!-- /a -->; 
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">ctl_recvsize</span><!-- /a -->;  
    <span class="comment">/* Dispatch functions */</span>
    <a href="index.html#//apple_ref/c/tdef/ctl_connect_func" target="_top" class="type"><span class="type">ctl_connect_func</span></a> <!-- a --><span class="var">ctl_connect</span><!-- /a -->; 
    <a href="index.html#//apple_ref/c/tdef/ctl_disconnect_func" target="_top" class="type"><span class="type">ctl_disconnect_func</span></a> <!-- a --><span class="var">ctl_disconnect</span><!-- /a -->; 
    <a href="index.html#//apple_ref/c/tdef/ctl_send_func" target="_top" class="type"><span class="type">ctl_send_func</span></a> <!-- a --><span class="var">ctl_send</span><!-- /a -->; 
    <a href="index.html#//apple_ref/c/tdef/ctl_setopt_func" target="_top" class="type"><span class="type">ctl_setopt_func</span></a> <!-- a --><span class="var">ctl_setopt</span><!-- /a -->; 
    <a href="index.html#//apple_ref/c/tdef/ctl_getopt_func" target="_top" class="type"><span class="type">ctl_getopt_func</span></a> <!-- a --><span class="var">ctl_getopt</span><!-- /a -->; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>ctl_name</code></dt>
<dd><p>A Bundle ID string of up to MAX_KCTL_NAME bytes (including the ending zero).
This string should not be empty.</p></dd>
<dt><code>ctl_id</code></dt>
<dd><p>The control ID may be dynamically assigned or it can be a
32-bit creator code assigned by DTS. 
For a DTS assigned creator code the CTL_FLAG_REG_ID_UNIT flag must be set. 
For a dynamically assigned control ID, do not set the CTL_FLAG_REG_ID_UNIT flag.
The  value of the dynamically assigned control ID is set to this field 
when the registration succeeds.</p></dd>
<dt><code>ctl_unit</code></dt>
<dd><p>A separate unit number to register multiple units that 
share the same control ID with DTS assigned creator code when 
the CTL_FLAG_REG_ID_UNIT flag is set.
This field is ignored for a dynamically assigned control ID.</p></dd>
<dt><code>ctl_flags</code></dt>
<dd><p>CTL_FLAG_PRIVILEGED and/or CTL_FLAG_REG_ID_UNIT.</p></dd>
<dt><code>ctl_sendsize</code></dt>
<dd><p>Override the default send size. If set to zero,
the default send size will be used, and this default value 
is set to this field to be retrieved by the caller.</p></dd>
<dt><code>ctl_recvsize</code></dt>
<dd><p>Override the default receive size. If set to
zero, the default receive size will be used, and this default value 
is set to this field to be retrieved by the caller.</p></dd>
<dt><code>ctl_connect</code></dt>
<dd><p>Specify the  function to be called whenever a client
connects to the kernel control. This field must be specified.</p></dd>
<dt><code>ctl_disconnect</code></dt>
<dd><p>Specify a function to be called whenever a
client disconnects from the kernel control.</p></dd>
<dt><code>ctl_send</code></dt>
<dd><p>Specify a function to handle data send from the
client to the kernel control.</p></dd>
<dt><code>ctl_setopt</code></dt>
<dd><p>Specify a function to handle set socket option
operations for the kernel control.</p></dd>
<dt><code>ctl_getopt</code></dt>
<dd><p>Specify a function to handle get socket option
operations for the kernel control.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This structure defines the properties of a kernel
control being registered.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/sockaddr_ctl;   name=sockaddr_ctl --><a name="//apple_ref/c/tag/sockaddr_ctl"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="sockaddr_ctl">sockaddr_ctl</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/sockaddr_ctl" target="_top" class="type"><span class="type">sockaddr_ctl</span></a> { 
    <!-- a --><span class="type">u_char</span><!-- /a --> <!-- a --><span class="var">sc_len</span><!-- /a -->; <span class="comment">/* depends on size of bundle ID string */</span>
    <!-- a --><span class="type">u_char</span><!-- /a --> <!-- a --><span class="var">sc_family</span><!-- /a -->; <span class="comment">/* AF_SYSTEM */</span>
    <!-- a --><span class="type">u_int16_t</span><!-- /a --> <!-- a --><span class="var">ss_sysaddr</span><!-- /a -->; <span class="comment">/* AF_SYS_KERNCONTROL */</span>
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">sc_id</span><!-- /a -->; <span class="comment">/* Controller unique identifier  */</span>
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="var">sc_unit</span><!-- /a -->; <span class="comment">/* Developer private unit number */</span>
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <!-- a --><span class="type">sc_reserved</span><!-- /a -->[<span class="number">5</span>]; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>sc_len</code></dt>
<dd><p>The length of the structure.</p></dd>
<dt><code>sc_family</code></dt>
<dd><p>AF_SYSTEM.</p></dd>
<dt><code>ss_sysaddr</code></dt>
<dd><p>AF_SYS_KERNCONTROL.</p></dd>
<dt><code>sc_id</code></dt>
<dd><p>Controller unique identifier.</p></dd>
<dt><code>sc_unit</code></dt>
<dd><p>Kernel controller private unit number.</p></dd>
<dt><code>sc_reserved</code></dt>
<dd><p>Reserved, must be set to zero.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The controller address structure is used to establish
contact between a user client and a kernel controller. The
sc_id/sc_unit uniquely identify each controller. sc_id is a
unique identifier assigned to the controller. The identifier can
be assigned by the system at registration time or be a 32-bit
creator code obtained from Apple Computer. sc_unit is a unit
number for this sc_id, and is privately used by the kernel
controller to identify several instances of the controller.
<!-- end discussion -->
</p>
<p></p>
<h2>#defines</h2>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CTL_DATA_EOR;   name=CTL_DATA_EOR --><a name="//apple_ref/c/macro/CTL_DATA_EOR"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CTL_DATA_EOR">CTL_DATA_EOR</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CTL_DATA_EOR" target="_top" class="preprocessor"><span class="preprocessor">CTL_DATA_EOR</span></a><span class="preprocessor"> </span><span class="preprocessor">0x2</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The CTL_DATA_EOR flag can be used for the enqueue
data and enqueue mbuf functions to mark the end of a record.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CTL_DATA_NOWAKEUP;   name=CTL_DATA_NOWAKEUP --><a name="//apple_ref/c/macro/CTL_DATA_NOWAKEUP"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CTL_DATA_NOWAKEUP">CTL_DATA_NOWAKEUP</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CTL_DATA_NOWAKEUP" target="_top" class="preprocessor"><span class="preprocessor">CTL_DATA_NOWAKEUP</span></a><span class="preprocessor"> </span><span class="preprocessor">0x1</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The CTL_DATA_NOWAKEUP flag can be used for the enqueue
data and enqueue mbuf functions to indicate that the process
should not be woken up yet. This is useful when you want to
enqueue data using more than one call but only want to wake up
the client after all of the data has been enqueued.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CTL_FLAG_PRIVILEGED;   name=CTL_FLAG_PRIVILEGED --><a name="//apple_ref/c/macro/CTL_FLAG_PRIVILEGED"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CTL_FLAG_PRIVILEGED">CTL_FLAG_PRIVILEGED</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CTL_FLAG_PRIVILEGED" target="_top" class="preprocessor"><span class="preprocessor">CTL_FLAG_PRIVILEGED</span></a><span class="preprocessor"> </span><span class="preprocessor">0x1</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The CTL_FLAG_PRIVILEGED flag is passed in ctl_flags. If
this flag is set, only privileged processes may attach to this
kernel control.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CTL_FLAG_REG_ID_UNIT;   name=CTL_FLAG_REG_ID_UNIT --><a name="//apple_ref/c/macro/CTL_FLAG_REG_ID_UNIT"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CTL_FLAG_REG_ID_UNIT">CTL_FLAG_REG_ID_UNIT</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CTL_FLAG_REG_ID_UNIT" target="_top" class="preprocessor"><span class="preprocessor">CTL_FLAG_REG_ID_UNIT</span></a><span class="preprocessor"> </span><span class="preprocessor">0x2</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The CTL_FLAG_REG_ID_UNIT flag is passed to indicate that
the ctl_id specified should be used. If this flag is not
present, a unique ctl_id will be dynamically assigned to your
kernel control. The CTLIOCGINFO ioctl can be used by the client
to find the dynamically assigned id based on the control name
specified in ctl_name.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CTL_FLAG_REG_SOCK_STREAM;   name=CTL_FLAG_REG_SOCK_STREAM --><a name="//apple_ref/c/macro/CTL_FLAG_REG_SOCK_STREAM"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CTL_FLAG_REG_SOCK_STREAM">CTL_FLAG_REG_SOCK_STREAM</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CTL_FLAG_REG_SOCK_STREAM" target="_top" class="preprocessor"><span class="preprocessor">CTL_FLAG_REG_SOCK_STREAM</span></a><span class="preprocessor"> </span><span class="preprocessor">0x4</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Use the CTL_FLAG_REG_SOCK_STREAM flag when client need to open 
socket of type SOCK_STREAM to communicate with the kernel control. 
By default kernel control sockets are of type SOCK_DGRAM.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CTLIOCGCOUNT;   name=CTLIOCGCOUNT --><a name="//apple_ref/c/macro/CTLIOCGCOUNT"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CTLIOCGCOUNT">CTLIOCGCOUNT</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CTLIOCGCOUNT" target="_top" class="preprocessor"><span class="preprocessor">CTLIOCGCOUNT</span></a><span class="preprocessor"> </span><!-- a --><span class="preprocessor">_IOR</span><!-- /a --><span class="preprocessor">(</span><span class="preprocessor">'</span><!-- a --><span class="preprocessor">N</span><!-- /a --><span class="preprocessor">'</span><span class="preprocessor">,</span><span class="preprocessor"> </span><span class="preprocessor">2</span><span class="preprocessor">,</span><span class="preprocessor"> </span><!-- a --><span class="preprocessor">int</span><!-- /a --><span class="preprocessor">)</span><span class="preprocessor"> </span><span class="comment"><span class="comment">/*</span><span class="comment"></span><span class="comment"> </span><span class="comment">get number of control structures registered </span><span class="comment">*/</span></span></pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The CTLIOCGCOUNT ioctl can be used to determine the
number of kernel controllers registered.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CTLIOCGINFO;   name=CTLIOCGINFO --><a name="//apple_ref/c/macro/CTLIOCGINFO"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CTLIOCGINFO">CTLIOCGINFO</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CTLIOCGINFO" target="_top" class="preprocessor"><span class="preprocessor">CTLIOCGINFO</span></a><span class="preprocessor"> </span><!-- a --><span class="preprocessor">_IOWR</span><!-- /a --><span class="preprocessor">(</span><span class="preprocessor">'</span><!-- a --><span class="preprocessor">N</span><!-- /a --><span class="preprocessor">'</span><span class="preprocessor">,</span><span class="preprocessor"> </span><span class="preprocessor">3</span><span class="preprocessor">,</span><span class="preprocessor"> </span><!-- a --><span class="preprocessor">struct</span><!-- /a --><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/tag/ctl_info" target="_top" class="preprocessor"><span class="preprocessor">ctl_info</span></a><span class="preprocessor">)</span><span class="preprocessor"> </span><span class="comment"><span class="comment">/*</span><span class="comment"></span><span class="comment"> </span><span class="comment">get id from name </span><span class="comment">*/</span></span></pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The CTLIOCGINFO ioctl can be used to convert a kernel
control name to a kernel control id.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/KEV_CTL_DEREGISTERED;   name=KEV_CTL_DEREGISTERED --><a name="//apple_ref/c/macro/KEV_CTL_DEREGISTERED"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="KEV_CTL_DEREGISTERED">KEV_CTL_DEREGISTERED</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/KEV_CTL_DEREGISTERED" target="_top" class="preprocessor"><span class="preprocessor">KEV_CTL_DEREGISTERED</span></a><span class="preprocessor"> </span><span class="preprocessor">2</span><span class="preprocessor"> </span><span class="comment"><span class="comment">/*</span><span class="comment"></span><span class="comment"> </span><span class="comment">a controller disappears </span><span class="comment">*/</span></span></pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The event code indicating a controller was unregistered.
The data portion will contain a ctl_event_data.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/KEV_CTL_REGISTERED;   name=KEV_CTL_REGISTERED --><a name="//apple_ref/c/macro/KEV_CTL_REGISTERED"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="KEV_CTL_REGISTERED">KEV_CTL_REGISTERED</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/KEV_CTL_REGISTERED" target="_top" class="preprocessor"><span class="preprocessor">KEV_CTL_REGISTERED</span></a><span class="preprocessor"> </span><span class="preprocessor">1</span><span class="preprocessor"> </span><span class="comment"><span class="comment">/*</span><span class="comment"></span><span class="comment"> </span><span class="comment">a new controller appears </span><span class="comment">*/</span></span></pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The event code indicating a new controller was
registered. The data portion will contain a ctl_event_data.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/KEV_CTL_SUBCLASS;   name=KEV_CTL_SUBCLASS --><a name="//apple_ref/c/macro/KEV_CTL_SUBCLASS"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="KEV_CTL_SUBCLASS">KEV_CTL_SUBCLASS</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/KEV_CTL_SUBCLASS" target="_top" class="preprocessor"><span class="preprocessor">KEV_CTL_SUBCLASS</span></a><span class="preprocessor"> </span><span class="preprocessor">2</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The kernel event subclass for kernel control events.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/MAX_KCTL_NAME;   name=MAX_KCTL_NAME --><a name="//apple_ref/c/macro/MAX_KCTL_NAME"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="MAX_KCTL_NAME">MAX_KCTL_NAME</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/MAX_KCTL_NAME" target="_top" class="preprocessor"><span class="preprocessor">MAX_KCTL_NAME</span></a><span class="preprocessor"> </span><span class="preprocessor">96</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Kernel control names must be no longer than
MAX_KCTL_NAME.
<!-- end discussion -->
</p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/kern_control_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/kern_control_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/kern_control_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</div>
<!-- headerDoc=Header;  uid=//apple_ref/doc/header/kern_control.h;   name=kern_control.h --><a name="//apple_ref/doc/header/kern_control.h"></a>
</body>
</html>
