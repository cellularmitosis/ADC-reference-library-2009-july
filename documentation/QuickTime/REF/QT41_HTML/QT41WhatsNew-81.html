<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><head><script language="JavaScript" src="../../frametest.js"></script><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><!-- Link line removed --><TITLE> Introduction of Asynchronous Movie Loading </TITLE><script language=javascript> window.parent.focus(); </script></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="QT41WhatsNew-80.html">Previous</A> | <A HREF="QT41WhatsNew-1.html">Chapter Contents</A> | <A HREF="QT41WhatsNew.html">Chapter Top</A> | <A HREF="QT41WhatsNew-82.html">Next</A> |</P><!-- QTnavbar end --><H1 CLASS="H1-Heading1"><A NAME="pgfId-30075"></A>Introduction of Asynchronous Movie Loading </H1><P CLASS="T1-Text1"><A NAME="pgfId-30076"></A>QuickTime 4.1 introduces <A NAME="marker-41371"></A>asynchronous movie loading. </P><P CLASS="T1-Text1"><A NAME="pgfId-30077"></A>With <A NAME="marker-46083"></A>asynchronous movie loading, a call to <TT>NewMovieFromDataRef</TT> or <TT>NewMovieFromFile</TT>, for example, returns immediately, even if you're opening a large movie over a slow connection, such as a dial-up modem. This allows your application to make use of the download time for user interaction, housekeeping, or whatever you like. Then, as the data becomes available, the movie becomes playable. To the user, the introduction of asynchronous movie loading can mean a more responsive system. To the developer, it can mean more time to do things while a movie loads.</P><P CLASS="T1-Text1"><A NAME="pgfId-30079"></A>With movies loading asynchronously, the difference in user experience centers on the time before the movie data has actually been located and processed. Instead of a fully formed movie being immediately available and playable, the Player window displays the message <TT>Loading...</TT> until the movie resource is located or the file has been imported. At that point, the window can resize, auto play can occur if necessary, and other choices about the movie and the controller can be made.</P><P CLASS="T1-Text1"><A NAME="pgfId-30080"></A>The <A NAME="marker-43911"></A>Movie Media Handler also takes advantage of this feature. </P><P CLASS="T1-Text1"><A NAME="pgfId-30081"></A>In the context of <A NAME="marker-46108"></A>asynchronous movie loading, the following items should be noted:</P><UL><LI><A NAME="pgfId-30082"></A>Only movies that are opened over slow connections will perform <A NAME="marker-46113"></A>asynchronous loading. The user experience remains unchanged for completely local content or content over a sufficiently fast connection. Note that to enable this functionality, you have to pass <TT>newMovieAsyncOK</TT>. <P><LI><A NAME="pgfId-30083"></A>During the time that the movie is loading, the machine should remain responsive. This does not affect fast-starting a movie. This only affects the time period between when a movie is chosen and when the movie resource has been found or the movie is imported.<P><LI><A NAME="pgfId-30084"></A>It is possible to have local movies that are either data rate alternate or shortcut movies which themselves reference files over slow connections. While the loading of the local reference movie is quick, the total movie loading process will use <A NAME="marker-46118"></A>asynchronous loading, since portions of the loading process require it.<P></UL><P CLASS="T1-Text1"><A NAME="pgfId-30086"></A>Aside from a more responsive system, the fundamental change for the developer that <A NAME="marker-46123"></A>asynchronous loading brings is that the <TT>NewMovieFrom</TT>... function will return a valid movie, but that movie may be completely empty, i.e., it may contain no tracks, user data, and so on. At some point, when the movie resource is found or the file has been imported all of this information is then available. A developer may need to defer querying of the movie for properties, Userdata, and other characteristics until that time.</P><P CLASS="T1-Text1"><A NAME="pgfId-30087"></A>To enable <A NAME="marker-46130"></A>asynchronous loading when opening a movie, you pass the additional flag</P><TT><A NAME="pgfId-55569"></A>newMovieAsyncOK = 1 &lt;&lt; 8</TT><P CLASS="T1-Text1"><A NAME="pgfId-30089"></A>to <TT>NewMovieFromDataRef</TT>, <TT>NewMovieFromFile</TT>, and so on. Passing this flag does not require that the loading be performed asynchronously, but only allows it to be so.</P><P CLASS="T1-Text1"><A NAME="pgfId-30090"></A>Without <TT>newMovieAsyncOK</TT>, calling one of the <TT>NewMovieFrom</TT>... calls either returns a fully formed movie or an error -- blocking until either can be satisfied. </P><H4><A HREF="QT41WhatsNew-82.html" CLASS="Hypertext">A Change in the Loading Model</A></H4><hr>&#169; 2000 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="QT41WhatsNew-80.html">Previous</A> | <A HREF="QT41WhatsNew-1.html">Chapter Contents</A> | <A HREF="QT41WhatsNew.html">Chapter Top</A> | <A HREF="QT41WhatsNew-82.html">Next</A> |</P><!-- QTnavbar end --></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>