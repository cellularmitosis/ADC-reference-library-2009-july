<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Testing for the Presence and Version of QuickDraw GX (IM: XU)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING20></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="GXEnvironment-19.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-21.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="GXEnvironment-2.html"><B>QuickDraw GX Environment and Utilities</B></A> / <BR><DD><A HREF="GXEnvironment-15.html"><B>Chapter 1 - QuickDraw GX and the Macintosh Environment</B></A> / <A HREF="GXEnvironment-19.html"><B>Using QuickDraw GX in the Macintosh Environment</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING20-0></A>
<H2><A NAME=MARKER-9-28></A>Testing for the Presence and Version of QuickDraw GX </H2>
 <A NAME=MARKER-9-68></A>You can use the <CODE>Gestalt</CODE> function in your application to determine which parts of QuickDraw GX are installed and their version numbers. The <CODE>Gestalt</CODE> function returns a 32-bit value that indicates the version of QuickDraw GX that is installed. The graphics and typography part of QuickDraw GX has one version number, the printing part of QuickDraw GX has another, and there is an overall version number that applies to all of QuickDraw GX. In addition, you can determine if the debugging version or the non-debugging version of QuickDraw GX is installed, and if the installed version is native to PowerPC system software.<P>
 To determine the current version of QuickDraw GX in general, you call the <CODE>Gestalt</CODE> function with the <CODE>gestaltGXVersion</CODE> selector. The function returns a value indicating the version of QuickDraw GX printing currently installed. For version 1.0, the value returned is 0x00010000. <P>
 To determine the current version of the graphics and typography parts of QuickDraw GX, you call the <CODE>Gestalt</CODE> function with the <CODE>gestaltGraphicsVersion</CODE> selector. The function returns a value indicating the version of QuickDraw GX graphics and typography currently installed. For version 1.0, the value returned is 0x00010000.<P>
 To determine the current version of the printing part of QuickDraw GX, you call the <CODE>Gestalt</CODE> function with the <CODE>gestaltPrintingMgrVersion</CODE> selector. The function returns a value indicating the version of QuickDraw GX printing currently installed. For version 1.0, the value returned is 0x00010000. <P>
 To determine if the debugging or non-debugging version of QuickDraw GX is currently installed, or if the installed version is native to PowerPC system software, you call the <CODE>Gestalt</CODE> function with the <CODE>gestaltGraphicsAttr</CODE> selector. The <CODE>gestaltGraphicsisDebugging</CODE> attribute value is returned if the debugging version of QuickDraw GX is installed. The <CODE>gestaltGraphicsisLoaded</CODE> attribute value is returned if the non-debugging version of QuickDraw GX is installed. The gestaltGraphicsIsPowerPC attribute value is returned if the installed version of QuickDraw GX is PowerPC-native. The return value can be any combination of those attributes.<P>
 <A HREF=#MARKER-9-30>Listing 1-1</A> uses the <CODE>gestaltGraphicsVersion</CODE> and <CODE>gestaltPrintingMgrVersion</CODE> selectors to determine whether QuickDraw GX graphics and typography as well as QuickDraw GX printing are installed. This listing also uses the <CODE>gestaltGraphicsAttr</CODE> selector to determine whether the installed version of QuickDraw GX is the debugging or non-debugging version.<B></B><P>
<B>Listing 1-1  <A NAME=MARKER-9-30></A>Determining the presence and features of QuickDraw GX</B><P>
<PRE>
Boolean QuickDrawGXAvailable(Boolean *pIsDebugging)
{
   Boolean returnValue = false;
   long theFeature, flags;
   if(Gestalt(gestaltGraphicsVersion, &amp;theFeature) == noErr)
      {
         returnValue = true;
         if (Gestalt(gestaltPrintingMgrVersion, &amp;theFeature) == 
                                                         noErr)
            gQDGXPrintingInstalled = true;
      }
   else
      returnValue = false;
   if (Gestalt(gestaltGraphicsAttr, &amp;theFeature) == noErr)
      {
         if (flags &amp; gestaltGraphicsisDebugging)
            pIsDebugging = true; 
         else
            pIsDebugging = false;
      }
   return returnValue;
}
</PRE>
 For additional details concerning the use of the <CODE>Gestalt</CODE> function to determine features of the QuickDraw GX environment, see the chapter "Gestalt Manager" in <I><A HREF="../../OSUtilities/OSUtilities-2.html">Inside Macintosh: Operating System Utilities</A></I>. <A NAME=MARKER-2-287></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="GXEnvironment-19.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-21.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="GXEnvironment-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
