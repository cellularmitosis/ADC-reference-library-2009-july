<html><head><title>Creating a WebObjects Database Application</title></head>
<body bgcolor="#ffffff">

<!--start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../GettingStartedTOC.html" target="_top">Getting Started With WebObjects</a>
</font>
<br><br>
<!--end of path -->

 
<a href="Movies.html"><IMG SRC="../ArrowUp.gif">Table of Contents</a> <a href="Movies31.html"><IMG SRC="../ArrowLeft.gif">Previous Section</a>
 
<a name="13905">
<h2> Adding Relationships to Your Model</h2>
</a><a name="13796">
The Movies application uses two pairs of inverse relationships. The first pair defines the relationship between the Movie and MovieRole entities, while the second pair defines the relationship between the MovieRole and Talent entities. An Enterprise Objects Framework relationship is <em>directed</em>; that is, a relationship has a source and a destination. Generally models define a relationship for each direction.<p>
</a><ol>
<a name="13797">
<P><li>Select the Movie entity.
</a><a name="15616">
<p>The right frame of the Model Editor shows the Movie's relationships as well as its attributes.&gt;<p>
</a><a name="24974">
<p><img src="Movies54.gif"><p>
</a><a name="24975">
<p>Your model's Movie entity might have a different name than the <strong>toMovieRole</strong> relationship shown above. That's because the wizard created your relationship, and the relationship's name is dependent on the adaptor the wizard used. Adaptors don't all have &#32;the same naming convention for to-many relationships. For &#32;example, the Oracle adaptor names Movie's relationship <strong>movieRoleArray</strong> instead of <strong>toMovieRole</strong>. <p>
</a><a name="15621">
<p>If your Movie entity doesn't have a <strong>toMovieRole</strong> relationship, it means that the database server's schema information for your database didn't have enough information for the wizard to create them. You need to create them by hand now. The next several steps explain how.<p>
</a><a name="13810">
<P><li>Choose Property <img src="../arrow.gif"> Add Relationship.
</a><a name="13823">
<p>A new relationship named "Relationship" is added in the table view at the bottom of the Model Editor. The new relationship is &#32;already selected.<p>
</a><a name="13824">
<P><li>With the relationship selected in the right frame of the Model &#32;Editor, click the <img src="Movies55.gif"> button (in the toolbar) to inspect the &#32;relationship.
</a><a name="18683">
<p><img src="Movies56.gif"><p>
</a><a name="13826">
<P><li>In the Inspector, select the To Many option.
</a><a name="13827">
<P><li>Select MovieRole as the destination entity.
</a><a name="13828">
<P><li>Select <strong>movieId</strong> in the Source Attributes list.
</a><a name="13829">
<P><li>Select <strong>movieId</strong> in the Destination Attributes list.
</a><a name="13830">
<P><li>Click Connect.
</a><a name="22802">
<p>EOModeler automatically renames the relationship based on the name of the destination entity. For example, after connecting a <br>to-many relationship from Movie to MovieRole, EOModeler names the relationship "toMovieRole." To-one relationships are named with the singular form of the destination entity's name. For &#32;example, EOModeler names the inverse to-one relationship (from &#32;MovieRole to Movie) "toMovie."<p>
</a><a name="22803">
<p>If the wizard created your relationship and used a name other than "toMovieRole," consider renaming the relationship. The rest of this tutorial assumes that your relationships are named using EOModeler's naming convention.<p>
</a><a name="13860">
<P><li>Repeat the steps above to create the following relationships (if they do not already exist):
</a><a name="13861">
<p>A to-one relationship named "toMovie" in the MovieRole entity where:<p>
</a><ul>
<a name="13862">
<li>The destination entity is Movie.
</a><a name="13863">
<li>The source attribute is <strong>movieId</strong>.
</a><a name="13864">
<li>The destination attribute is <strong>movieId</strong>.
</a></ul>
<a name="13865">
<p>A to-one relationship named "toTalent" in the MovieRole entity where:<p>
</a><ul>
<a name="13866">
<li>The destination entity is Talent.
</a><a name="13867">
<li>The source attribute is <strong>talentId</strong>.
</a><a name="13868">
<li>The destination attribute is <strong>talentId</strong>.
</a></ul>
<a name="13869">
<p>A to-many relationship named "toMovieRole" in the Talent entity where:<p>
</a><ul>
<a name="13870">
<li>The destination entity is MovieRole.
</a><a name="13871">
<li>The source attribute is <strong>talentId</strong>.
</a><a name="13872">
<li>The destination attribute is <strong>talentId</strong>.
</a></ul>
<a name="21008">
<P><li>Choose <img src="Movies57.gif"> in the toolbar pop-up list to switch the Model Editor to Diagram View.
</a><a name="24956">
<p><img src="Movies58.gif"><p>
</a></ol>
<a name="21009">
At this point your model has all the relationships it needs. The Diagram &#32;View gives you an overview of the entities in the model and &#32;their relationships to other entities.<p>
</a><a name="24957">
<p><img src="Movies59.gif"><p>
</a><a name="21718">
You can also use the Diagram View to edit your model. Double-click an attribute or relationship to change its name. To create a relationship and its inverse, Control-drag from the relationship's source attribute to its destination attribute. <p>
</a>
<P>
 
<a href="Movies.html"><IMG SRC="../ArrowUp.gif">Table of Contents</a> <a href="Movies33.html"><IMG SRC="../ArrowRight.gif">Next Section</a>
<P>


</body>
</html>
