<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Optional Request Codes (IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING317></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-316.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-318.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-314.html"><B>Chapter 4 - ColorSync Manager Reference for Color Management Modules</B></A> / <A HREF="ACIReference-315.html"><B>Constants</B></A><BR><DL><DD><A HREF="ACIReference-308.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING317-0></A>
<H3><A NAME=MARKER-9-14></A>Optional Request Codes <A NAME=MARKER-2-15></A></H3>
 Your CMM should respond to the ColorSync Manager request codes defined by the following enumeration, but it is not required to do so. For a description of how your CMM can respond to ColorSync Manager requests from the Component Manager, see <A HREF=#nonexistent-marker>"Developing Color Management Modules"</A> in <I>Advanced Color Imaging on the Mac OS</I>. <P>
 The ColorSync Manager defines the following optional request codes:<P>
<PRE>
enum {
   kCMMMatchPixMap         = 3,  /* match colors of pixel map image */
   kCMMCheckPixMap         = 4,  /* gamut-check pixel map colors */
   kCMMConcatenateProfiles = 5,  /* concatenate profiles (for backward
                                    compatibility with ColorSync 1.0) */
   kCMMConcatInit          = 7,  /* init prior to concat color worlds */
   kCMMValidateProfile     = 8,  /* validate profile elements */
   kCMMMatchBitmap         = 9,  /* match colors of bit map image */
   kCMMCheckBitmap         = 10, /* gamut-check bit map colors */ 
   kCMMGetPS2ColorSpace    = 11, /* get PostScript color space */
   kCMMGetPS2ColorRenderingIntent= 12,/* get PostScript rendering intent */
   kCMMGetPS2ColorRendering= 13, /* get PostScript color rendering
                                    dictionary */
   kCMMFlattenProfile      = 14, /* extract data from profile */
   kCMMUnflattenProfile    = 15, /* create file for unflattened data */
   kCMMNewLinkProfile      = 16, /* create linked profile */
   kCMMGetPS2ColorRenderingVMSize= 17,/* get PostScript version 2 color rendering
                                    dictionary virtual memory size */
   kCMMGetNamedColorInfo   = 70, /* get named color information */
   kCMMGetNamedColorValue  = 71, /* get color values for a named color */
   kCMMGetIndNamedColorValue= 72,/* get index for a named color */
   kCMMGetNamedColorIndex  = 73, /* get named color index from name */
   kCMMGetNamedColorName   = 74  /* get named color name from index */
};
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-13-16></A>kCMMMatchPixMap</CODE>
<DD> In response to this request code, your CMM must match the colors of the pixel map image pointed to by the <CODE>myPixMap</CODE> parameter to the gamut of the destination device, replacing the original pixel colors with their corresponding colors as specified in the data color space of the destination device's color gamut. To perform the matching, you use the profiles specified by a previous <CODE>kNCMMInit</CODE>, <CODE>kCMMInit</CODE>, or <CODE>kCMMConcatInit </CODE>request to your CMM. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMatchPixMap</CODE> function <A HREF=ACIReference-327.html#MARKER-9-56>(page 4-27)</A>.
<DT><CODE><A NAME=MARKER-13-17></A>kCMMCheckPixMap</CODE>
<DD> In response to this request code, your CMM must check the colors of the pixel map image pointed to by the <CODE>myPixMap</CODE> parameter against the gamut of the destination device to determine if the pixel colors are within the gamut of the destination device and report the results. To perform the check, you use the profiles specified by a previous <CODE>kNCMMInit</CODE>, <CODE>kCMMInit</CODE>, or <CODE>kCMMConcatInit</CODE> request to your CMM. For more information about how your CMM should respond to this request code, see the <CODE>MyCMCheckPixMap</CODE> function <A HREF=ACIReference-328.html#MARKER-9-59>(page 4-30)</A>.
<DT><CODE><A NAME=MARKER-13-18></A>kCMMConcatenateProfiles</CODE>
<DD> This request code is for backward compatibility with ColorSync 1.0.
<DT><CODE><A NAME=MARKER-13-19></A>kCMMConcatInit</CODE>
<DD> In response to this request code, your CMM should initialize any private data your CMM will need for a color session involving the set of profiles specified by the profile array pointed to by the <CODE>profileSet</CODE> parameter. Your function should also initialize any additional private data needed in handling subsequent calls pertaining to this component instance. For more information about how your CMM should respond to this request code, see the <CODE>MyCMConcatInit</CODE> function <A HREF=ACIReference-326.html#MARKER-9-54>(page 4-25)</A>.
<DT><CODE><A NAME=MARKER-13-20></A>kCMMValidateProfile</CODE>
<DD> In response to this request code, your CMM should test the profile whose reference is passed in the <CODE>prof</CODE> parameter to determine if the profile contains the minimum set of elements required for a profile of its type. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMValidateProfile</CODE> function <A HREF=ACIReference-323.html#MARKER-9-44>(page 4-17)</A>.
<DT><CODE><A NAME=MARKER-13-21></A>kCMMMatchBitmap</CODE>
<DD> In response to this request code, your CMM must match the colors of the source image bitmap pointed to by the <CODE>bitmap</CODE> parameter to the gamut of the destination device using the profiles specified by a previous <CODE>kNCMMInit</CODE>, <CODE>kCMMInit</CODE>, or <CODE>kCMMConcatInit </CODE>request to your CMM. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMatchBitmap</CODE> function <A HREF=ACIReference-324.html#MARKER-9-47>(page 4-18)</A>.
<DT><CODE><A NAME=MARKER-13-22></A>kCMMCheckBitmap</CODE>
<DD> In response to this request code, your CMM must check the colors of the source image bitmap pointed to by the <CODE>bitmap</CODE> parameter against the gamut of the destination device using the profiles specified by a previous <CODE>kNCMMInit</CODE>, <CODE>kCMMInit</CODE>, or <CODE>kCMMConcatInit</CODE> request to your CMM. For more information about how your CMM should respond to this request code, see the <CODE>MyCMCheckBitmap</CODE> function <A HREF=ACIReference-325.html#MARKER-9-50>(page 4-22)</A>.
<DT><CODE><A NAME=MARKER-13-23></A>kCMMGetPS2ColorSpace</CODE>
<DD> In response to this request code, your CMM must obtain or derive the color space element data from the source profile whose reference is passed to your function in the <CODE>srcProf</CODE> parameter and pass the data to a low-level data-transfer function supplied by the calling application or device driver. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMGetPS2ColorSpace</CODE> function <A HREF=ACIReference-330.html#MARKER-9-65>(page 4-34)</A>.
<DT><CODE><A NAME=MARKER-13-24></A>kCMMGetPS2ColorRenderingIntent</CODE>
<DD> In response to this request code, your CMM must obtain the color-rendering intent from the header of the source profile whose reference is passed to your function in the <CODE>srcProf</CODE> parameter and then pass the data to a low-level data-transfer function supplied by the calling application or device driver. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMGetPS2ColorRenderingIntent</CODE> function <A HREF=ACIReference-331.html#MARKER-9-69>(page 4-37)</A>.
<DT><CODE><A NAME=MARKER-13-25></A>kCMMGetPS2ColorRendering</CODE>
<DD> In response to this request code, your CMM must obtain the rendering intent from the source profile's header and generate the color rendering dictionary (CRD) data from the destination profile, and then pass the data to a low-level data-transfer function supplied by the calling application or device driver. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMGetPS2ColorRendering</CODE> function <A HREF=ACIReference-332.html#MARKER-9-72>(page 4-39)</A>.
<DT><CODE><A NAME=MARKER-13-26></A>kCMMFlattenProfile</CODE>
<DD> In response to this request code, your CMM must extract the profile data from the profile to flatten, identified by the <CODE>prof</CODE> parameter, and pass the profile data to the function specified in the <CODE>proc</CODE> parameter. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMFlattenProfile</CODE> function <A HREF=ACIReference-334.html#MARKER-9-77>(page 4-45)</A>.
<DT><CODE><A NAME=MARKER-13-27></A>kCMMUnflattenProfile</CODE>
<DD> In response to this request code, your CMM must create a temporary file in which to store the profile data you receive from the low-level data-transfer function supplied by the calling application or driver. Your function must return the file specification. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMUnflattenProfile</CODE> function <A HREF=ACIReference-335.html#MARKER-9-80>(page 4-47)</A>.
<DT><CODE><A NAME=MARKER-13-28></A>kCMMNewLinkProfile</CODE>
<DD> In response to this request code, your CMM must create a single device-linked profile of type <CODE>DeviceLink</CODE> that includes the profiles passed to you in the array pointed to by the <CODE>profileSet</CODE> parameter. For more information about how your CMM should respond to this request code, see the <CODE>MyCMNewLinkProfile</CODE> function <A HREF=ACIReference-329.html#MARKER-9-62>(page 4-33)</A>.
<DT><CODE><A NAME=MARKER-13-29></A>kCMMGetPS2ColorRenderingVMSize</CODE>
<DD> In response to this request code, your CMM must obtain or assess the maximum virtual memory (VM) size of the color rendering dictionary (CRD) specified by the destination profile. You must return the size of the CRD for the rendering intent specified by the source profile. For more information about how your CMM should respond to this request code, see the <CODE>MyCMMGetPS2ColorRenderingVMSize</CODE> function <A HREF=ACIReference-333.html#MARKER-9-75>(page 4-42)</A>.
<DT><A NAME=MARKER-13-30></A>kCMMGetNamedColorInfo
<DD> In response to this request code, your CMM extracts named color data from the profile whose reference is passed in the <CODE>srcProf</CODE> parameter. For more information, see the <CODE>MyCMMGetNamedColorInfo</CODE> function <A HREF=ACIReference-336.html#MARKER-9-84>(page 4-50)</A>.
<DT><A NAME=MARKER-13-31></A>kCMMGetNamedColorValue
<DD> In response to this request code, your CMM extracts device and profile connection space (PCS) color values for a specific color name from the profile whose reference is passed in the <CODE>prof</CODE> parameter. For more information, see the MyCMMGetNamedColorValue function <A HREF=ACIReference-337.html#MARKER-9-88>(page 4-51)</A>.
<DT><A NAME=MARKER-13-32></A>kCMMGetIndNamedColorValue
<DD> In response to this request code, your CMM extracts device and PCS color values for a specific named color index from the profile whose reference is passed in the <CODE>prof</CODE> parameter. For more information, see the MyCMMGetIndNamedColorValue function <A HREF=ACIReference-338.html#MARKER-9-92>(page 4-53)</A>.
<DT><A NAME=MARKER-13-33></A>kCMMGetNamedColorIndex
<DD> In response to this request code, your CMM extracts a named color index for a specific color name from the profile whose reference is passed in the <CODE>prof</CODE> parameter. For more information, see the MyCMMGetNamedColorIndex function <A HREF=ACIReference-339.html#MARKER-9-96>(page 4-54)</A>.
<DT><A NAME=MARKER-13-34></A>kCMMGetNamedColorName
<DD> In response to this request code, your CMM extracts a named color name for a specific named color index from the profile whose reference is passed in the <CODE>prof</CODE> parameter. For more information, see the MyCMMGetNamedColorName function <A HREF=ACIReference-340.html#MARKER-9-99>(page 4-55)</A>.
</DL>
</BLOCKQUOTE><HR>
<center>
<A HREF="ACIReference-316.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-318.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
