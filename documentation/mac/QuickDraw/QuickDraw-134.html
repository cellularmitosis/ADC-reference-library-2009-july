<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>CloseRgn (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING134></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-133.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-135.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-58.html"><B>Chapter 3 - QuickDraw Drawing</B></A> / <A HREF="QuickDraw-61.html"><B>QuickDraw Drawing Reference</B></A><BR><DL><DD><A HREF="QuickDraw-67.html"><B>Routines</B></A> / <A HREF="QuickDraw-131.html"><B>Creating and Managing Regions</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING134-0></A>
<H3><A NAME=MARKER-9-550></A>CloseRgn</H3>
 <A NAME=MARKER-11-552></A><A NAME=MARKER-11-552></A><A NAME=MARKER-2-317></A>To organize a collection of lines and shapes into a region definition, use the <CODE>CloseRgn</CODE> procedure. <P>
<PRE>
PROCEDURE CloseRgn (dstRgn: rgnHandle);
</PRE>
<DL>
<DT><CODE>dstRgn</CODE> 
<DD> The handle to the region to close.
</DL>
<A NAME=HEADING134-4></A>
<H5>DESCRIPTION</H5>
 The <CODE>CloseRgn</CODE> procedure<CODE> stops the collection of lines and framed shapes, organizes them into a region definition, and saves the result in the region whose handle you pass in the dstRgn</CODE> parameter<CODE>. The</CODE> <CODE>handle you </CODE>pass in the <CODE>dstRgn</CODE> parameter should be a region handle<CODE> returned by </CODE>the <CODE>NewRgn function. </CODE><P>
 The <CODE>CloseRgn</CODE> procedure does not create the destination region; you must have already allocated space for it by using the <CODE>OpenRgn </CODE>procedure<CODE>.</CODE> The <CODE>CloseRgn</CODE> procedure calls the <CODE>ShowPen</CODE> procedure, balancing the call to the <CODE>HidePen</CODE> procedure made by <CODE>OpenRgn.</CODE><P>
 When you no longer need the memory occupied by the region, use the <CODE>DisposeRgn</CODE> procedure, described next.<P>
<A NAME=HEADING134-8></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Regions are limited to 32 KB in size in basic QuickDraw and 64 KB in Color QuickDraw. When you record drawing operations in an open region, the resulting region description may overflow this limit. Should this happen in Color QuickDraw, the <CODE>QDError</CODE> function (described in the chapter "Color QuickDraw" in this book) returns the result code <CODE>regionTooBigError</CODE>. Since the resulting region is potentially corrupt, the <CODE>CloseRgn</CODE> procedure returns an empty region if it detects <CODE>QDError</CODE> has returned <CODE>regionTooBigError</CODE>.<P>
 The <CODE>CloseRgn</CODE> procedure may move or purge memory blocks in the application heap. Your application should not call this procedure at interrupt time.<P>
<A NAME=HEADING134-11></A>
<H5>SEE ALSO</H5>
 <A HREF=QuickDraw-60.html#MARKER-9-120>Listing 3-8 on page 3-24</A> illustrates how to use this procedure.<A NAME=MARKER-2-554></A><A NAME=MARKER-2-68></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-133.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-135.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
