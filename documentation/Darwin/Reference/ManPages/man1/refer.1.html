<html><head><title>Mac OS X
 Manual Page For refer(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/refer" title="Mac OS X
 Manual Page for refer(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/refer"; name=refer(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
REFER(1)                                                                                            REFER(1)



<b>NAME</b>
       refer - preprocess bibliographic references for groff

<b>SYNOPSIS</b>
       <b>refer</b> [ <b>-benvCPRS</b> ] [ <b>-a</b><u>n</u> ] [ <b>-c</b><u>fields</u> ] [ <b>-f</b><u>n</u> ] [ <b>-i</b><u>fields</u> ] [ <b>-k</b><u>field</u> ] [ <b>-l</b><u>m,n</u> ] [ <b>-p</b><u>filename</u> ]
             [ <b>-s</b><u>fields</u> ] [ <b>-t</b><u>n</u> ] [ <b>-B</b><u>field.macro</u> ] [ <u>filename</u>... ]

       It is possible to have whitespace between a command line option and its parameter.

<b>DESCRIPTION</b>
       This file documents the GNU version of <b>refer</b>, which is part of the groff document formatting  system.
       <b>refer</b>  copies the contents of <u>filename</u>... to the standard output, except that lines between <b>.[</b> and <b>.]</b>
       are interpreted as citations, and lines between <b>.R1</b> and <b>.R2</b> are interpreted  as  commands  about  how
       citations are to be processed.

       Each  citation  specifies  a  reference.  The citation can specify a reference that is contained in a
       bibliographic database by giving a set of keywords that only that reference contains.   Alternatively
       it  can  specify  a reference by supplying a database record in the citation.  A combination of these
       alternatives is also possible.

       For each citation, <b>refer</b> can produce a mark in the text.  This mark consists of some label which  can
       be separated from the text and from other labels in various ways.  For each reference it also outputs
       <b>groff</b> commands that can be used by a macro package to produce a formatted reference  for  each  cita-<font color="#ffffff" class="whiteout">tion.&nbsp;citation.</font>
       tion.   The  output of <b>refer</b> must therefore be processed using a suitable macro package.  The <b>-ms</b> and
       <b>-me</b> macros are both suitable.  The commands to format a citation's reference can  be  output  immedi-<font color="#ffffff" class="whiteout">ately&nbsp;immediately</font>
       ately after the citation, or the references may be accumulated, and the commands output at some later
       point.  If the references are accumulated, then multiple citations of the same reference will produce
       a single formatted reference.

       The interpretation of lines between <b>.R1</b> and <b>.R2</b> as commands is a new feature of GNU <b>refer</b>.  Documents
       making use of this feature can still be processed by Unix refer just by adding the lines

              <b>.de</b> <b>R1</b>
              <b>.ig</b> <b>R2</b>
              <b>..</b>
       to the beginning of the document.  This will cause <b>troff</b> to ignore everything between  <b>.R1</b>  and  <b>.R2</b>.
       The  effect of some commands can also be achieved by options.  These options are supported mainly for
       compatibility with Unix refer.  It is usually more convenient to use commands.

       <b>refer</b> generates <b>.lf</b> lines so that filenames and line numbers in messages produced  by  commands  that
       read  <b>refer</b> output will be correct; it also interprets lines beginning with <b>.lf</b> so that filenames and
       line numbers in the messages and <b>.lf</b> lines that it produces will be accurate even if  the  input  has
       been preprocessed by a command such as <a href="soelim.1.html#//apple_ref/doc/man/1/soelim"><b>soelim</b>(1)</a>.

<b>OPTIONS</b>
       Most options are equivalent to commands (for a description of these commands see the <b>Commands</b> subsec-<font color="#ffffff" class="whiteout">tion):&nbsp;subsection):</font>
       tion):

       <b>-b</b>     <b>no-label-in-text;</b> <b>no-label-in-reference</b>

       <b>-e</b>     <b>accumulate</b>

       <b>-n</b>     <b>no-default-database</b>

       <b>-C</b>     <b>compatible</b>

       <b>-P</b>     <b>move-punctuation</b>

       <b>-S</b>     <b>label</b> <b>"(A.n|Q)</b> <b>',</b> <b>'</b> <b>(D.y|D)";</b> <b>bracket-label</b> <b>"</b> <b>("</b> <b>)</b> <b>";</b> <b>"</b>

       <b>-a</b><u>n</u>    <b>reverse</b> <b>A</b><u>n</u>

       <b>-c</b><u>fields</u>
              <b>capitalize</b> <u>fields</u>

       <b>-f</b><u>n</u>    <b>label</b> <b>%</b><u>n</u>

       <b>-i</b><u>fields</u>
              <b>search-ignore</b> <u>fields</u>

       <b>-k</b>     <b>label</b> <b>L~%a</b>

       <b>-k</b><u>field</u>
              <b>label</b> <u>field</u><b>~%a</b>

       <b>-l</b>     <b>label</b> <b>A.nD.y%a</b>

       <b>-l</b><u>m</u>    <b>label</b> <b>A.n+</b><u>m</u><b>D.y%a</b>

       <b>-l,</b><u>n</u>   <b>label</b> <b>A.nD.y-</b><u>n</u><b>%a</b>

       <b>-l</b><u>m</u><b>,</b><u>n</u>  <b>label</b> <b>A.n+</b><u>m</u><b>D.y-</b><u>n</u><b>%a</b>

       <b>-p</b><u>filename</u>
              <b>database</b> <u>filename</u>

       <b>-s</b><u>spec</u> <b>sort</b> <u>spec</u>

       <b>-t</b><u>n</u>    <b>search-truncate</b> <u>n</u>

       These options are equivalent to the following commands with the addition that the filenames specified
       on the command line are processed as if they were arguments to the <b>bibliography</b> command instead of in
       the normal way:

       <b>-B</b>     <b>annotate</b> <b>X</b> <b>AP;</b> <b>no-label-in-reference</b>

       <b>-B</b><u>field</u><b>.</b><u>macro</u>
              <b>annotate</b> <u>field</u> <u>macro</u><b>;</b> <b>no-label-in-reference</b>

       The following options have no equivalent commands:

       <b>-v</b>     Print the version number.

       <b>-R</b>     Don't recognize lines beginning with <b>.R1</b>/<b>.R2</b>.

<b>USAGE</b>
   <b>Bibliographic</b> <b>databases</b>
       The bibliographic database is a text file consisting of records separated by one or more blank lines.
       Within  each record fields start with a <b>%</b> at the beginning of a line.  Each field has a one character
       name that immediately follows the <b>%</b>.  It is best to use only upper and lower  case  letters  for  the
       names of fields.  The name of the field should be followed by exactly one space, and then by the con-<font color="#ffffff" class="whiteout">tents&nbsp;contents</font>
       tents of the field.  Empty fields are ignored.  The conventional meaning of each field is as follows:

       <b>A</b>      The name of an author.  If the name contains a title such as <b>Jr.</b> at the end, it should be sep-<font color="#ffffff" class="whiteout">arated&nbsp;separated</font>
              arated from the last name by a comma.  There can be multiple occurrences of the <b>A</b> field.   The
              order is significant.  It is a good idea always to supply an <b>A</b> field or a <b>Q</b> field.

       <b>B</b>      For an article that is part of a book, the title of the book.

       <b>C</b>      The place (city) of publication.

       <b>D</b>      The  date  of  publication.  The year should be specified in full.  If the month is specified,
              the name rather than the number of the month should be used, but only the first three  letters
              are  required.   It is a good idea always to supply a <b>D</b> field; if the date is unknown, a value
              such as <b>in</b> <b>press</b> or <b>unknown</b> can be used.

       <b>E</b>      For an article that is part of a book, the name of an editor of the book.  Where the work  has
              editors  and  no  authors,  the names of the editors should be given as <b>A</b> fields and <b>,</b> <b>(ed)</b> or
              <b>,</b> <b>(eds)</b> should be appended to the last author.

       <b>G</b>      US Government ordering number.

       <b>I</b>      The publisher (issuer).

       <b>J</b>      For an article in a journal, the name of the journal.

       <b>K</b>      Keywords to be used for searching.

       <b>L</b>      Label.

       <b>N</b>      Journal issue number.

       <b>O</b>      Other information.  This is usually printed at the end of the reference.

       <b>P</b>      Page number.  A range of pages can be specified as <u>m</u><b>-</b><u>n</u>.

       <b>Q</b>      The name of the author, if the author is not a person.  This will only be used if there are no
              <b>A</b> fields.  There can only be one <b>Q</b> field.

       <b>R</b>      Technical report number.

       <b>S</b>      Series name.

       <b>T</b>      Title.  For an article in a book or journal, this should be the title of the article.

       <b>V</b>      Volume number of the journal or book.

       <b>X</b>      Annotation.

       For  all  fields  except  <b>A</b>  and  <b>E</b>,  if there is more than one occurrence of a particular field in a
       record, only the last such field will be used.

       If accent strings are used, they should follow the character to be accented.  This means that the  <b>AM</b>
       macro  must  be used with the <b>-ms</b> macros.  Accent strings should not be quoted: use one <b>\</b> rather than
       two.

   <b>Citations</b>
       The format of a citation is
              <b>.[</b><u>opening-text</u>
              <u>flags</u> <u>keywords</u>
              <u>fields</u>
              <b>.]</b><u>closing-text</u>

       The <u>opening-text</u>, <u>closing-text</u> and <u>flags</u> components are optional.   Only  one  of  the  <u>keywords</u>  and
       <u>fields</u> components need be specified.

       The  <u>keywords</u>  component says to search the bibliographic databases for a reference that contains all
       the words in <u>keywords</u>.  It is an error if more than one reference if found.

       The <u>fields</u> components specifies additional fields to replace or supplement  those  specified  in  the
       reference.  When references are being accumulated and the <u>keywords</u> component is non-empty, then addi-<font color="#ffffff" class="whiteout">tional&nbsp;additional</font>
       tional fields should be specified only on the first occasion that a particular  reference  is  cited,
       and will apply to all citations of that reference.

       The <u>opening-text</u> and <u>closing-text</u> component specifies strings to be used to bracket the label instead
       of the strings specified in the <b>bracket-label</b> command.  If either of these components  is  non-empty,
       the  strings  specified  in the <b>bracket-label</b> command will not be used; this behaviour can be altered
       using the <b>[</b> and <b>]</b> flags.  Note that leading and trailing spaces are significant for these components.

       The  <u>flags</u> component is a list of non-alphanumeric characters each of which modifies the treatment of
       this particular citation.  Unix refer will treat these flags as part of  the  keywords  and  so  will
       ignore them since they are non-alphanumeric.  The following flags are currently recognized:

       <b>#</b>      This  says to use the label specified by the <b>short-label</b> command, instead of that specified by
              the <b>label</b> command.  If no short label has been specified, the normal label will be used.  Typ-<font color="#ffffff" class="whiteout">ically&nbsp;Typically</font>
              ically  the short label is used with author-date labels and consists of only the date and pos-<font color="#ffffff" class="whiteout">sibly&nbsp;possibly</font>
              sibly a disambiguating letter; the <b>#</b> is supposed to be suggestive of a numeric type of  label.

       <b>[</b>      Precede <u>opening-text</u> with the first string specified in the <b>bracket-label</b> command.

       <b>]</b>      Follow <u>closing-text</u> with the second string specified in the <b>bracket-label</b> command.

       One  advantages  of  using  the  <b>[</b> and <b>]</b> flags rather than including the brackets in <u>opening-text</u> and
       <u>closing-text</u> is that you can change the style of bracket used in the document just  by  changing  the
       <b>bracket-label</b> command.  Another advantage is that sorting and merging of citations will not necessar-<font color="#ffffff" class="whiteout">ily&nbsp;necessarily</font>
       ily be inhibited if the flags are used.

       If a label is to be inserted into the text, it will be attached to the line preceding  the  <b>.[</b>  line.
       If  there  is no such line, then an extra line will be inserted before the <b>.[</b> line and a warning will
       be given.

       There is no special notation for making a citation to multiple references.  Just use  a  sequence  of
       citations, one for each reference.  Don't put anything between the citations.  The labels for all the
       citations will be attached to the line preceding the first citation.  The labels may also  be  sorted
       or  merged.   See  the  description  of  the <b>&lt;&gt;</b> label expression, and of the <b>sort-adjacent-labels</b> and
       <b>abbreviate-label-ranges</b> command.  A label will not be merged if its citation has a non-empty <u>opening</u>-<font color="#ffffff" class="whiteout">text&nbsp;openingtext</font>
       <u>text</u>  or  <u>closing-text</u>.  However, the labels for a citation using the <b>]</b> flag and without any <u>closing</u>-<font color="#ffffff" class="whiteout">text&nbsp;closingtext</font>
       <u>text</u> immediately followed by a citation using the <b>[</b> flag and without any <u>opening-text</u> may  be  sorted
       and  merged  even  though  the first citation's <u>opening-text</u> or the second citation's <u>closing-text</u> is
       non-empty.  (If you wish to prevent this just make the first citation's <u>closing-text</u> <b>\&amp;</b>.)

   <b>Commands</b>
       Commands are contained between lines starting with <b>.R1</b> and <b>.R2</b>.  Recognition of these  lines  can  be
       prevented  by  the  <b>-R</b>  option.  When a <b>.R1</b> line is recognized any accumulated references are flushed
       out.  Neither <b>.R1</b> nor <b>.R2</b> lines, nor anything between them is output.

       Commands are separated by newlines or <b>;</b>s.  <b>#</b> introduces a comment that extends to the end of the line
       (but  does  not  conceal the newline).  Each command is broken up into words.  Words are separated by
       spaces or tabs.  A word that begins with <b>"</b> extends to the next <b>"</b> that is not followed by  another  <b>"</b>.
       If there is no such <b>"</b> the word extends to the end of the line.  Pairs of <b>"</b> in a word beginning with <b>"</b>
       collapse to a single <b>"</b>.  Neither <b>#</b> nor <b>;</b> are recognized inside <b>"</b>s.  A line can be continued by ending
       it with <b>\</b>; this works everywhere except after a <b>#</b>.

       Each  command  <u>name</u>  that is marked with * has an associated negative command <b>no-</b><u>name</u> that undoes the
       effect of <u>name</u>.  For example, the <b>no-sort</b> command specifies that references  should  not  be  sorted.
       The negative commands take no arguments.

       In the following description each argument must be a single word; <u>field</u> is used for a single upper or
       lower case letter naming a field; <u>fields</u> is used for a sequence of such letters; <u>m</u> and <u>n</u> are used for
       a  non-negative  numbers;  <u>string</u> is used for an arbitrary string; <u>filename</u> is used for the name of a
       file.

       <b>abbreviate</b>* <u>fields</u> <u>string1</u> <u>string2</u> <u>string3</u> <u>string4</u>
                                Abbreviate the first names of <u>fields</u>.  An initial letter will  be  separated
                                from  another  initial letter by <u>string1</u>, from the last name by <u>string2</u>, and
                                from anything else (such as a <b>von</b> or <b>de</b>) by <u>string3</u>.   These  default  to  a
                                period  followed by a space.  In a hyphenated first name, the initial of the
                                first part of the name will be separated from the hyphen  by  <u>string4</u>;  this
                                defaults  to  a  period.   No attempt is made to handle any ambiguities that
                                might result from abbreviation.  Names are abbreviated  before  sorting  and
                                before label construction.

       <b>abbreviate-label-ranges</b>* <u>string</u>
                                Three  or  more adjacent labels that refer to consecutive references will be
                                abbreviated to a label consisting of the first  label,  followed  by  <u>string</u>
                                followed  by the last label.  This is mainly useful with numeric labels.  If
                                <u>string</u> is omitted it defaults to <b>-</b>.

       <b>accumulate</b>*              Accumulate references instead of writing out each reference as it is encoun-<font color="#ffffff" class="whiteout">tered.&nbsp;encountered.</font>
                                tered.   Accumulated  references will be written out whenever a reference of
                                the form

                                       <b>.[</b>
                                       <b>$LIST$</b>
                                       <b>.]</b>

                                is encountered, after all input files hve been processed, and  whenever  <b>.R1</b>
                                line is recognized.

       <b>annotate</b>* <u>field</u> <u>string</u>   <u>field</u>  is an annotation; print it at the end of the reference as a paragraph
                                preceded by the line

                                       <b>.</b><u>string</u>

                                If <u>macro</u> is omitted it will default to <b>AP</b>; if <u>field</u> is also omitted it  will
                                default to <b>X</b>.  Only one field can be an annotation.

       <b>articles</b> <u>string</u>...       <u>string</u>...  are definite or indefinite articles, and should be ignored at the
                                beginning of <b>T</b> fields when sorting.  Initially, <b>the</b>, <b>a</b> and <b>an</b> are recognized
                                as articles.

       <b>bibliography</b> <u>filename</u>... Write  out all the references contained in the bibliographic databases <u>file</u>-<font color="#ffffff" class="whiteout">name...&nbsp;filename...</font>
                                <u>name</u>...  This command should come last in a <b>.R1</b>/<b>.R2</b> block.

       <b>bracket-label</b> <u>string1</u> <u>string2</u> <u>string3</u>
                                In the text, bracket each label with <u>string1</u> and <u>string2</u>.  An occurrence  of
                                <u>string2</u>  immediately  followed  by <u>string1</u> will be turned into <u>string3</u>.  The
                                default behaviour is

                                       <b>bracket-label</b> <b>\*([.</b> <b>\*(.]</b> <b>",</b> <b>"</b>

       <b>capitalize</b> <u>fields</u>        Convert <u>fields</u> to caps and small caps.

       <b>compatible</b>*              Recognize <b>.R1</b> and <b>.R2</b> even when followed by a character other than space  or
                                newline.

       <b>database</b> <u>filename</u>...     Search  the  bibliographic  databases  <u>filename</u>...   For each <u>filename</u> if an
                                index <u>filename</u><b>.i</b> created by <a href="indxbib.1.html#//apple_ref/doc/man/1/indxbib"><b>indxbib</b>(1)</a> exists,  then  it  will  be  searched
                                instead; each index can cover multiple databases.

       <b>date-as-label</b>* <u>string</u>    <u>string</u>  is  a label expression that specifies a string with which to replace
                                the <b>D</b> field after constructing the label.  See the <b>Label</b> <b>expressions</b> subsec-<font color="#ffffff" class="whiteout">tion&nbsp;subsection</font>
                                tion  for a description of label expressions.  This command is useful if you
                                do not want explicit labels in the reference list, but instead want to  han-<font color="#ffffff" class="whiteout">dle&nbsp;handle</font>
                                dle  any  necessary  disambiguation by qualifying the date in some way.  The
                                label used in the text would typically be some combination of the author and
                                date.   In most cases you should also use the <b>no-label-in-reference</b> command.
                                For example,

                                       <b>date-as-label</b> <b>D.+yD.y%a*D.-y</b>

                                would attach a disambiguating letter to the year part of the <b>D</b> field in  the
                                reference.

       <b>default-database</b>*        The  default database should be searched.  This is the default behaviour, so
                                the negative version of this  command  is  more  useful.   <b>refer</b>  determines
                                whether  the  default database should be searched on the first occasion that
                                it needs to do a search.  Thus a <b>no-default-database</b> command must  be  given
                                before then, in order to be effective.

       <b>discard</b>* <u>fields</u>          When  the  reference  is read, <u>fields</u> should be discarded; no string defini-<font color="#ffffff" class="whiteout">tions&nbsp;definitions</font>
                                tions for <u>fields</u> will be output.  Initially, <u>fields</u> are <b>XYZ</b>.

       <b>et-al</b>* <u>string</u> <u>m</u> <u>n</u>        Control use of <b>et</b> <b>al</b> in the evaluation of <b>@</b>  expressions  in  label  expres-<font color="#ffffff" class="whiteout">sions.&nbsp;expressions.</font>
                                sions.   If  the  number of authors needed to make the author sequence unam-<font color="#ffffff" class="whiteout">biguous&nbsp;unambiguous</font>
                                biguous is <u>u</u> and the total number of authors is <u>t</u> then the last <u>t</u>-<u>u</u>  authors
                                will be replaced by <u>string</u> provided that <u>t</u>-<u>u</u> is not less than <u>m</u> and <u>t</u> is not
                                less than <u>n</u>.  The default behaviour is

                                       <b>et-al</b> <b>"</b> <b>et</b> <b>al"</b> <b>2</b> <b>3</b>

       <b>include</b> <u>filename</u>         Include <u>filename</u> and interpret the contents as commands.

       <b>join-authors</b> <u>string1</u> <u>string2</u> <u>string3</u>
                                This says how authors should be joined together.  When there are exactly two
                                authors,  they  will  be  joined with <u>string1</u>.  When there are more than two
                                authors, all but the last two will be joined with <u>string2</u>, and the last  two
                                authors will be joined with <u>string3</u>.  If <u>string3</u> is omitted, it will default
                                to <u>string1</u>; if <u>string2</u> is also omitted it will also default to <u>string1</u>.  For
                                example,

                                       <b>join-authors</b> <b>"</b> <b>and</b> <b>"</b> <b>",</b> <b>"</b> <b>",</b> <b>and</b> <b>"</b>

                                will restore the default method for joining authors.

       <b>label-in-reference</b>*      When  outputting  the  reference, define the string <b>[F</b> to be the reference's
                                label.  This is the default behaviour; so the negative version of this  com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
                                mand is more useful.

       <b>label-in-text</b>*           For  each reference output a label in the text.  The label will be separated
                                from the surrounding text as described in the <b>bracket-label</b>  command.   This
                                is  the  default  behaviour; so the negative version of this command is more
                                useful.

       <b>label</b> <u>string</u>             <u>string</u> is a label expression describing how to label each reference.

       <b>separate-label-second-parts</b> <u>string</u>
                                When merging two-part labels, separate the second part of the  second  label
                                from  the  first  label  with  <u>string</u>.   See the description of the <b>&lt;&gt;</b> label
                                expression.

       <b>move-punctuation</b>*        In the text, move any punctuation at the end of line past the label.  It  is
                                usually  a good idea to give this command unless you are using superscripted
                                numbers as labels.

       <b>reverse</b>* <u>string</u>          Reverse the fields whose names are in <u>string</u>.  Each field name can  be  fol-<font color="#ffffff" class="whiteout">lowed&nbsp;followed</font>
                                lowed by a number which says how many such fields should be reversed.  If no
                                number is given for a field, all such fields will be reversed.

       <b>search-ignore</b>* <u>fields</u>    While searching for keys in databases for which no index exists, ignore  the
                                contents of <u>fields</u>.  Initially, fields <b>XYZ</b> are ignored.

       <b>search-truncate</b>* <u>n</u>       Only  require  the  first  <u>n</u> characters of keys to be given.  In effect when
                                searching for a given key words in the database are truncated to the maximum
                                of <u>n</u> and the length of the key.  Initially <u>n</u> is 6.

       <b>short-label</b>* <u>string</u>      <u>string</u> is a label expression that specifies an alternative (usually shorter)
                                style of label.  This is used when the <b>#</b> flag  is  given  in  the  citation.
                                When  using  author-date style labels, the identity of the author or authors
                                is sometimes clear from the context, and so it may be desirable to omit  the
                                author or authors from the label.  The <b>short-label</b> command will typically be
                                used to specify a label containing just a date and possibly a disambiguating
                                letter.

       <b>sort</b>* <u>string</u>             Sort references according to <b>string</b>.  References will automatically be accu-<font color="#ffffff" class="whiteout">mulated.&nbsp;accumulated.</font>
                                mulated.  <u>string</u> should be a list of field names, each followed by a number,
                                indicating  how many fields with the name should be used for sorting.  <b>+</b> can
                                be used to indicate that all the fields with the name should be used.   Also
                                <b>.</b>  can be used to indicate the references should be sorted using the (tenta-<font color="#ffffff" class="whiteout">tive)&nbsp;(tentative)</font>
                                tive) label.  (The <b>Label</b> <b>expressions</b> subsection describes the concept  of  a
                                tentative label.)

       <b>sort-adjacent-labels</b>*    Sort labels that are adjacent in the text according to their position in the
                                reference list.  This command should usually be  given  if  the  <b>abbreviate</b>-<font color="#ffffff" class="whiteout">label-ranges&nbsp;abbreviatelabel-ranges</font>
                                <b>label-ranges</b>  command  has been given, or if the label expression contains a
                                <b>&lt;&gt;</b> expression.  This will have no effect unless references are being accumu-<font color="#ffffff" class="whiteout">lated.&nbsp;accumulated.</font>
                                lated.

   <b>Label</b> <b>expressions</b>
       Label expressions can be evaluated both normally and tentatively.  The result of normal evaluation is
       used for output.  The result of tentative evaluation, called the <u>tentative</u> <u>label</u>, is used  to  gather
       the  information that normal evaluation needs to disambiguate the label.  Label expressions specified
       by the <b>date-as-label</b> and <b>short-label</b> commands are not evaluated tentatively.   Normal  and  tentative
       evaluation are the same for all types of expression other than <b>@</b>, <b>*</b>, and <b>%</b> expressions.  The descrip-<font color="#ffffff" class="whiteout">tion&nbsp;description</font>
       tion below applies to normal evaluation, except where otherwise specified.

       <u>field</u>
       <u>field</u> <u>n</u>
              The <u>n</u>-th part of <u>field</u>.  If <u>n</u> is omitted, it defaults to 1.

       <b>'</b><u>string</u><b>'</b>
              The characters in <u>string</u> literally.

       <b>@</b>      All the authors joined as specified by the <b>join-authors</b> command.  The whole of  each  author's
              name will be used.  However, if the references are sorted by author (that is the sort specifi-<font color="#ffffff" class="whiteout">cation&nbsp;specification</font>
              cation starts with <b>A+</b>), then authors' last names will be used instead, provided that this does
              not introduce ambiguity, and also an initial subsequence of the authors may be used instead of
              all the authors, again provided that this does not introduce ambiguity.  The use of  only  the
              last name for the <u>i</u>-th author of some reference is considered to be ambiguous if there is some
              other reference, such that the first <u>i</u>-1 authors of the references  are  the  same,  the  <u>i</u>-th
              authors  are  not  the  same, but the <u>i</u>-th authors' last names are the same.  A proper initial
              subsequence of the sequence of authors for some reference is considered  to  be  ambiguous  if
              there  is a reference with some other sequence of authors which also has that subsequence as a
              proper initial subsequence.  When an initial subsequence of authors  is  used,  the  remaining
              authors are replaced by the string specified by the <b>et-al</b> command; this command may also spec-<font color="#ffffff" class="whiteout">ify&nbsp;specify</font>
              ify additional requirements that must be met before an initial subsequence  can  be  used.   <b>@</b>
              tentatively  evaluates  to  a  canonical representation of the authors, such that authors that
              compare equally for sorting purpose will have the same representation.

       <b>%</b><u>n</u>
       <b>%a</b>
       <b>%A</b>
       <b>%i</b>
       <b>%I</b>     The serial number of the reference formatted according to the character following the <b>%</b>.   The
              serial  number  of  a reference is 1 plus the number of earlier references with same tentative
              label as this reference.  These expressions tentatively evaluate to an empty string.

       <u>expr</u><b>*</b>  If there is another reference with the same tentative label as this reference, then <u>expr</u>, oth-<font color="#ffffff" class="whiteout">erwise&nbsp;otherwise</font>
              erwise an empty string.  It tentatively evaluates to an empty string.

       <u>expr</u><b>+</b><u>n</u>
       <u>expr</u><b>-</b><u>n</u> The  first  (<b>+</b>)  or  last  (<b>-</b>) <u>n</u> upper or lower case letters or digits of <u>expr</u>.  Troff special
              characters (such as <b>\('a</b>) count as a single letter.  Accent strings are retained  but  do  not
              count towards the total.

       <u>expr</u><b>.l</b> <u>expr</u> converted to lowercase.

       <u>expr</u><b>.u</b> <u>expr</u> converted to uppercase.

       <u>expr</u><b>.c</b> <u>expr</u> converted to caps and small caps.

       <u>expr</u><b>.r</b> <u>expr</u> reversed so that the last name is first.

       <u>expr</u><b>.a</b> <u>expr</u>  with  first names abbreviated.  Note that fields specified in the <b>abbreviate</b> command are
              abbreviated before any labels are evaluated.  Thus <b>.a</b> is useful only when you want a field  to
              be abbreviated in a label but not in a reference.

       <u>expr</u><b>.y</b> The year part of <u>expr</u>.

       <u>expr</u><b>.+y</b>
              The part of <u>expr</u> before the year, or the whole of <u>expr</u> if it does not contain a year.

       <u>expr</u><b>.-y</b>
              The part of <u>expr</u> after the year, or an empty string if <u>expr</u> does not contain a year.

       <u>expr</u><b>.n</b> The last name part of <u>expr</u>.

       <u>expr1</u><b>~</b><u>expr2</u>
              <u>expr1</u> except that if the last character of <u>expr1</u> is <b>-</b> then it will be replaced by <u>expr2</u>.

       <u>expr1</u> <u>expr2</u>
              The concatenation of <u>expr1</u> and <u>expr2</u>.

       <u>expr1</u><b>|</b><u>expr2</u>
              If <u>expr1</u> is non-empty then <u>expr1</u> otherwise <u>expr2</u>.

       <u>expr1</u><b>&amp;</b><u>expr2</u>
              If <u>expr1</u> is non-empty then <u>expr2</u> otherwise an empty string.

       <u>expr1</u><b>?</b><u>expr2</u><b>:</b><u>expr3</u>
              If <u>expr1</u> is non-empty then <u>expr2</u> otherwise <u>expr3</u>.

       <b>&lt;</b><u>expr</u><b>&gt;</b> The  label  is  in two parts, which are separated by <u>expr</u>.  Two adjacent two-part labels which
              have the same first part will be merged by appending the second part of the second label  onto
              the  first  label separated by the string specified in the <b>separate-label-second-parts</b> command
              (initially, a comma followed by a space); the resulting label will also be  a  two-part  label
              with  the  same  first part as before merging, and so additional labels can be merged into it.
              Note that it is permissible for the first part to be empty; this maybe desirable  for  expres-<font color="#ffffff" class="whiteout">sions&nbsp;expressions</font>
              sions used in the <b>short-label</b> command.

       <b>(</b><u>expr</u><b>)</b> The same as <u>expr</u>.  Used for grouping.

       The above expressions are listed in order of precedence (highest first); <b>&amp;</b> and <b>|</b> have the same prece-<font color="#ffffff" class="whiteout">dence.&nbsp;precedence.</font>
       dence.

   <b>Macro</b> <b>interface</b>
       Each reference starts with a call to the macro <b>]-</b>.  The string <b>[F</b> will be defined to be the label for
       this reference, unless the <b>no-label-in-reference</b> command has been given.  There then follows a series
       of string definitions, one for each field: string <b>[</b><u>X</u> corresponds to field <u>X</u>.  The number register  <b>[P</b>
       is  set  to 1  if  the <b>P</b> field contains a range of pages.  The <b>[T</b>, <b>[A</b> and <b>[O</b> number registers are set
       to 1 according as the <b>T</b>, <b>A</b> and <b>O</b> fields end with one of the characters <b>.?!</b>.  The <b>[E</b>  number  register
       will  be  set to 1 if the <b>[E</b> string contains more than one name.  The reference is followed by a call
       to the <b>][</b> macro.  The first argument to this macro gives a number representing the type of the refer-<font color="#ffffff" class="whiteout">ence.&nbsp;reference.</font>
       ence.  If a reference contains a <b>J</b> field, it will be classified as type 1, otherwise if it contains a
       <b>B</b> field, it will type 3, otherwise if it contains a <b>G</b> or <b>R</b> field it will be type 4, otherwise if con-<font color="#ffffff" class="whiteout">tains&nbsp;contains</font>
       tains  a  <b>I</b>  field it will be type 2, otherwise it will be type 0.  The second argument is a symbolic
       name for the type: <b>other</b>, <b>journal-article</b>, <b>book</b>, <b>article-in-book</b> or <b>tech-report</b>.   Groups  of  refer-<font color="#ffffff" class="whiteout">ences&nbsp;references</font>
       ences  that  have been accumulated or are produced by the <b>bibliography</b> command are preceded by a call
       to the <b>]&lt;</b> macro and followed by a call to the <b>]&gt;</b> macro.

<b>FILES</b>
       <b>/usr/dict/papers/Ind</b>  Default database.

       <u>file</u><b>.i</b>                Index files.

<b>ENVIRONMENT</b>
       <b>REFER</b>  If set, overrides the default database.

<b>SEE</b> <b>ALSO</b>
       <a href="indxbib.1.html#//apple_ref/doc/man/1/indxbib"><b>indxbib</b>(1)</a>, <a href="lookbib.1.html#//apple_ref/doc/man/1/lookbib"><b>lookbib</b>(1)</a>, <a href="lkbib.1.html#//apple_ref/doc/man/1/lkbib"><b>lkbib</b>(1)</a>

<b>BUGS</b>
       In label expressions, <b>&lt;&gt;</b> expressions are ignored inside <b>.</b><u>char</u> expressions.



Groff Version 1.19.2                             6 May 2005                                         REFER(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/refer.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/refer.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/refer.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
