<HTML>		<HEAD>		<TITLE>			EOEventCenter		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a><a name = "CAHBICFD"></a><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/java/cl/EOEventCenter">EOEventCenter</a></FONT></h1><br><blockquote><dl><dt><b>Inheritsfrom: </b></dt><dd> NSObject</dd></dl></blockquote><blockquote><dl><dt><b>Package: </b></dt><dd>com.apple.yellow.eocontrol</dd></dl></blockquote><HR SIZE=4><a name = "CAHBGFAE"></a><br><h2>Class Description</h2><hr><p>EOEventCenter collects and manages EOEventsto allow you to measure the duration of operations in your applications.Measurements allow you to profile an application and optimize itsexecution time. For this, Enterprise Objects Framework and WebObjectsinstrument key portions of their code to measure the elapsed timeof functions and methods.</p><br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Thisclass doesn't exist in the com.apple.client.eocontrol package.The event logging system is not available for Java Client. In aJava Client application, you can view event logging informationfor the server side of the application, but not on the client side.</td></tr></table><br><p>For more information on the event logging feature and on instrumentingyour own code for event logging, see the following sections:</p><ul><li> <a href="More/EOEventCenter.html#CBGCFGEE">"Event Logging Overview"</a></li><li> <a href="More/EOEventCenter.html#CBGCAACH">"WOEventSetup page"</a></li><li> <a href="More/EOEventCenter.html#CAHGDEGG">"WOEventDisplay page"</a></li><li> <a href="More/EOEventCenter.html#CAHJJFFF">"Custom Event Logging"</a></li></ul><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Registering event classesfor logging</dt><dd> <a href="#//apple_ref/java/clm/EOEventCenter/registerEventClass">registerEventClass</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/registeredEventClasses">registeredEventClasses</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/setRecordsEvents">setRecordsEvents</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/recordsEventsForClass">recordsEventsForClass</a></dd></dl><dl><dt>Logging events</dt><dd> <a href="#//apple_ref/java/clm/EOEventCenter/newEventOfClass">newEventOfClass</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/markAtomicEvent">markAtomicEvent</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/markStartOfEvent">markStartOfEvent</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/markEndOfEvent">markEndOfEvent</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/cancelEvent">cancelEvent</a></dd></dl><dl><dt>Accessing event centers</dt><dd> <a href="#//apple_ref/java/clm/EOEventCenter/currentCenter">currentCenter</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/allCenters">allCenters</a></dd></dl><dl><dt>Accessing events</dt><dd> <a href="#//apple_ref/java/clm/EOEventCenter/globalAllEvents">globalAllEvents</a></dd><dd> <a href="#//apple_ref/java/instm/EOEventCenter/allEvents">allEvents</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/globalEventsOfClass">globalEventsOfClass</a></dd><dd> <a href="#//apple_ref/java/instm/EOEventCenter/eventsOfClass">eventsOfClass</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/globalRootEvents">globalRootEvents</a></dd><dd> <a href="#//apple_ref/java/instm/EOEventCenter/rootEvents">rootEvents</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/rootEventsByDuration">rootEventsByDuration</a></dd></dl><dl><dt>Resetting and suspendingevent logging</dt><dd> <a href="#//apple_ref/java/clm/EOEventCenter/globalResetLogging">globalResetLogging</a></dd><dd> <a href="#//apple_ref/java/instm/EOEventCenter/resetLogging">resetLogging</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/suspendLogging">suspendLogging</a></dd><dd> <a href="#//apple_ref/java/clm/EOEventCenter/resumeLogging">resumeLogging</a></dd></dl></blockquote><br><br><h2>Static Methods</h2><hr><a name = "CAHCJIJB"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/allCenters">allCenters</a></h3><p><code>public static NSArray <code>allCenters</code>()</code></p>Returns all event centers. Typicallyused only for post-processing of events and statistics gathering. Notethat there is one event center per thread.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBEHJF"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/cancelEvent">cancelEvent</a></h3><p><code>public static void <code>cancelEvent</code>(EOEvent <em>event</em>)</code></p>Cancels the recording of anin-progress event. This method doesn't workwith atomic events or with events that have already been ended with  <a href="#//apple_ref/java/clm/EOEventCenter/markEndOfEvent">markEndOfEvent</a>.<p>Generallyyou cancel an event when the operation being logged is aborted.For example, the ODBCAdaptorChannel cancels an "Open Channel"event if the <code>openChannel</code> method doesn't successfullyopen a connection to the database.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHDHCJA"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/currentCenter">currentCenter</a></h3><p><code>public static EOEventCenter <code>currentCenter</code>()</code></p>Returns the event center forthe calling thread.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHCBCEA"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/globalAllEvents">globalAllEvents</a></h3><p><code>public static NSArray <code>globalAllEvents</code>()</code></p>Returns an array of all theevents logged in all the event centers. The eventsin the returned array are in no particular order.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/instm/EOEventCenter/allEvents">allEvents</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBBGBD"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/globalEventsOfClass">globalEventsOfClass</a></h3><p><code>public static NSArray <code>globalEventsOfClass</code>(Class <em>aClass,</em> String <em>type</em>)</code></p>Returns an array of all events(from all the event centers) that are instances of <em>aClass</em>  andwhose type is <em>type.</em>  Specifying <code>null</code> forthe class returns events of any class. Similarly, specifying null forthe type returns events of any type.<p><b>See Also: </b>  <a href="#//apple_ref/java/instm/EOEventCenter/eventsOfClass">eventsOfClass</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBACIG"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/globalResetLogging">globalResetLogging</a></h3><p><code>public static void <code>globalResetLogging</code>()</code></p>Discards all events in all event centers, restartingevent collection for the entire application.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/instm/EOEventCenter/resetLogging">resetLogging</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBBFIC"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/globalRootEvents">globalRootEvents</a></h3><p><code>public static NSArray <code>globalRootEvents</code>()</code></p>Returns allevents from all event centers that are recorded at the root level;that is, it returns the events that don't have parent events.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/instm/EOEventCenter/rootEvents">rootEvents</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBFHEG"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/markAtomicEvent">markAtomicEvent</a></h3><p><code>public static void <code>markAtomicEvent</code>(EOEvent <em>event,</em> Object <em>info</em>)</code></p>Initializes <em>event,</em> a newly allocated event, as an atomic event, and assigns it's  <a href="EOEvent.html#//apple_ref/java/instm/EOEvent/info">info</a> to <em>info.</em>  Thenewly allocated event is usually created with the EOEventCentermethod  <a href="#//apple_ref/java/clm/EOEventCenter/newEventOfClass">newEventOfClass</a>.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHDDFAI"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/markEndOfEvent">markEndOfEvent</a></h3><p><code>public static void <code>markEndOfEvent</code>(EOEvent <em>event</em>)</code></p>Marks the time <em>event</em>  ended.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHCDJDA"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/markStartOfEvent">markStartOfEvent</a></h3><p><code>public static void <code>markStartOfEvent</code>(EOEvent <em>event,</em> Object <em>info</em>)</code></p>Marks <em>event,</em> a newly allocated event, to be a branch event (that possibly hasnested subevents), and assigns it's  <a href="EOEvent.html#//apple_ref/java/instm/EOEvent/info">info</a> to <em>info.</em>  Thenewly allocated event is usually created with  <a href="#//apple_ref/java/clm/EOEventCenter/newEventOfClass">newEventOfClass</a>.<p>There is alimit on the number of events the event logging system logs-200,000by default. You can change the limit using the user default <b>EOEventLoggingLimit</b>.When the logging limit is reached, the logging system attempts topurge old events before logging new ones. If the system is unableto purge old events, event logging is aborted.</p><p>The system'sattempt to purge events can fail if the event logging limit is toosmall. This happens because the event system can't purge the firstevent logged, and it can't purge unclosed branch events.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHCGFFD"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/newEventOfClass">newEventOfClass</a></h3><p><code>public static Object <code>newEventOfClass</code>(Class <em>aClass,</em> String <em>aType</em>)</code></p>Creates an event of the desiredclass and type. <hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBDABA"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/recordsEventsForClass">recordsEventsForClass</a></h3><p><code>public static boolean <code>recordsEventsForClass</code>(Class <em>eventClass</em>)</code></p>Returns true if the applicationlogs events of the <em>eventClass</em>  class.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHCEDFH"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/registerEventClass">registerEventClass</a></h3><p><code>public static void <code>registerEventClass</code>(Class <em>aClass,</em> EOEventCenter.EventRecordingHandler <em>handler</em>)</code></p>Registers <em>aClass</em>  asan event class. The <em>handler</em>  argumentis an object that the event logging system notifies when event loggingis enabled or disabled for <em>aClass.</em>  <p>Ifthe <code>EOEventLoggingEnabled</code> userdefault is set to true, this method enables logging for <em>aClass.</em>  Programmatically,you can selectively enable or disable logging for a specific classwith  <a href="#//apple_ref/java/clm/EOEventCenter/setRecordsEvents">setRecordsEvents</a>.It is more common, however, for users to enable and disable loggingof a particular class through the WOEventSetup page-for more information,see  <a href="More/EOEventCenter.html#CBGCAACH">"WOEventSetup page"</a>.</p><p>Whenthe event logging system enables logging for the ODBCAdaptorEventclass, it sends <em>handler</em>  a  <a href="../Protocols/EOEventRecordingHandler.html#//apple_ref/java/intfm/EOEventCenter.EventRecordingHandler/setLoggingEnabled">setLoggingEnabled</a> messagewith true as the flag and ODBCAdaptorEvent as the event class. <em>handler</em>  is responsiblefor enabling logging in the instrumented code.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBCGCJ"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/registeredEventClasses">registeredEventClasses</a></h3><p><code>public static NSArray <code>registeredEventClasses</code>()</code></p>Returns all the event classesregistered in the application.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHCBBGE"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/resumeLogging">resumeLogging</a></h3><p><code>public static void <code>resumeLogging</code>()</code></p>Resumes eventlogging in all centers. However, logging doesn't actually resumeuntil each invocation of  <a href="#//apple_ref/java/clm/EOEventCenter/suspendLogging">suspendLogging</a> ispaired with an invocation of <code>resumeLogging</code>.Invoking <code>resumeLogging</code> without a corresponding <code>suspendLogging</code> isn'tharmful.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHDFAIE"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/rootEventsByDuration">rootEventsByDuration</a></h3><p><code>public static NSArray <code>rootEventsByDuration</code>()</code></p>Returns all root events fromall event centers, sorted by decreasing duration.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/clm/EOEventCenter/globalRootEvents">globalRootEvents</a>,  <a href="#//apple_ref/java/instm/EOEventCenter/rootEvents">rootEvents</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHDDGFB"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/setRecordsEvents">setRecordsEvents</a></h3><p><code>public static void <code>setRecordsEvents</code>(boolean <em>flag,</em> Class <em>eventClass</em>)</code></p>Sets accordingto <em>flag</em>  whether event centers recordevents of the <em>eventClass</em>  class (andits subclasses). By default, event centers don't record eventsof any class. You can selectively enable logging for a particularevent class with this method. To enable event logging for all eventclasses, set the user default EOEventLoggingEnabled. Then, you canselectively disable logging for a particular event with this method.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHDGFEH"></a><BR><h3><a name="//apple_ref/java/clm/EOEventCenter/suspendLogging">suspendLogging</a></h3><p><code>public static void <code>suspendLogging</code>()</code></p>Suspends event logging in allevent centers. Each invocation of <code>suspendLogging</code> mustbe paired with an invocation of  <a href="#//apple_ref/java/clm/EOEventCenter/resumeLogging">resumeLogging</a> to resume event logging.<hr WIDTH="25%" ALIGN="LEFT"><BR><BR><h2>Instance Methods</h2><hr><a name = "CAHEADJG"></a><BR><h3><a name="//apple_ref/java/instm/EOEventCenter/allEvents">allEvents</a></h3><p><code>public NSArray <code>allEvents</code>()</code></p>Returns thereceiver's events (in no particular order).<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHDJGGG"></a><BR><h3><a name="//apple_ref/java/instm/EOEventCenter/eventsOfClass">eventsOfClass</a></h3><p><code>public NSArray <code>eventsOfClass</code>(Class <em>aClass,</em> String <em>type</em>)</code></p>Returns the subset of the receiver'sevents that are instances of <em>aClass</em>  andthat have the type <em>type.</em>  Specifying <code>null</code> forthe class returns events of any class. Similarly, specifying null forthe type returns events of any type.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBAHGD"></a><BR><h3><a name="//apple_ref/java/instm/EOEventCenter/resetLogging">resetLogging</a></h3><p><code>public void <code>resetLogging</code>()</code></p>Discards all events in the event center forthe calling thread.<p><b>See Also: </b>  <a href="#//apple_ref/java/clm/EOEventCenter/globalResetLogging">globalResetLogging</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CAHBGCGB"></a><BR><h3><a name="//apple_ref/java/instm/EOEventCenter/rootEvents">rootEvents</a></h3><p><code>public NSArray <code>rootEvents</code>()</code></p>Returns the receiver's eventsthat were recorded at root level; that is, returns the events thatdon't have a parent event.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/clm/EOEventCenter/globalRootEvents">globalRootEvents</a>,  <a href="#//apple_ref/java/clm/EOEventCenter/rootEventsByDuration">rootEventsByDuration</a></p><hr WIDTH="25%" ALIGN="LEFT"><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a></BODY></HTML>