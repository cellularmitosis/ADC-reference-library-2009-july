<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>ODBCAdaptor</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">ODBCEOAdaptor Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="ODBCEOAdaptor.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="ODBCChannel.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/occ/cl/ODBCAdaptor">ODBCAdaptor</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
EOAdaptor : NSObject<em> 
</em>
<p><B>Declared in:</B>
ODBCEOAdaptor/ODBCAdaptor.h<em> 
</em>
<p><a name="32">
<hr width=50% align=left>
<h2>Class Description  </h2>
</a>An ODBCAdaptor represents a single connection to an ODBC database server, and is responsible for keeping login and model information, performing ODBC-specific formatting of SQL expressions, and reporting errors.<p>
ODBC (Open Data Base Connectivity) defines a standard interface that Windows applications can use to access any data source. Unlike the other Enterprise Objects Frameworks adaptors that support a single type of database, the ODBC adaptor supports any data source that has an ODBC driver. Consequently, in addition to having standard adaptor features, the ODBC adaptor also manages information relating to the driver and to the data types defined by the data source the driver supports.<p>
The ODBCAdaptor class doesn't support nested transactions.<p>
<a name="36">
<hr width=50% align=left>
<h2>Method Types </h2>
</a><dl><dt>Mapping external types to internal types
<dl><dt><a href="ODBCAdaptor.html#2282">+ assignExternalTypeForAttribute:</a>
<dt><a href="ODBCAdaptor.html#47">+ externalTypeForOdbcType:model:</a>
<dt><a href="ODBCAdaptor.html#2310">+ externalTypesWithModel:</a>
<dt><a href="ODBCAdaptor.html#55">+ getOdbcInfoWithConnectionDictionary:</a>
<dt><a href="ODBCAdaptor.html#2329">+ internalTypeForExternalType:model:</a>
<dt><a href="ODBCAdaptor.html#63">+ odbcTypeForExternalType:model:</a>
<dt><a href="ODBCAdaptor.html#67">+ odbcTypeForStringRepresentation:</a>
<dt><a href="ODBCAdaptor.html#71">+ resetOdbcInfoWithConnectionDictionary:</a>
<dt><a href="ODBCAdaptor.html#75">+ stringRepresentationForOdbcType:</a>
</dl><dt>Access information in the connection dictionary
<dl><dt><a href="ODBCAdaptor.html#43">+ driverInfoForModel:</a>
<dt><a href="ODBCAdaptor.html#79">+ typeInfoForModel:</a>
<dt><a href="ODBCAdaptor.html#95">- driverInfo</a>
<dt><a href="ODBCAdaptor.html#111">- typeInfo</a>
</dl><dt>Testing the connection dictionary	
<dl><dt><a href="ODBCAdaptor.html#2388">- assertConnectionDictionaryIsValid</a>
<dt><a href="ODBCAdaptor.html#2397">- defaultExpressionClass</a>
<dt>
<dt><a href="ODBCAdaptor.html#2426">- isValidQualifierType:model:</a>
<dt><a href="ODBCAdaptor.html#103">- odbcConnectionString</a>
<dt><a href="ODBCAdaptor.html#2439">- odbcEnvironment</a>
</dl></dl><a name="2280">
<hr width=50% align=left>
<h2>Class Methods </h2>
</a><a name="2282">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/assignExternalTypeForAttribute:">assignExternalTypeForAttribute:</a></h3>
</a>+ (void)<code>assignExternalTypeForAttribute:</code>(EOAttribute *)<em>attribute</em> <p>
Sets the external information for <em>attribute</em> based on the internal type, precision, and width.<p>
<a name="43">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/driverInfoForModel:">driverInfoForModel:</a></h3>
</a>+ (NSDictionary *)<code>driverInfoForModel:</code>(EOModel *)<em>model</em> <p>
Returns an NSDictionary containing the driver information cached in the connection dictionary of <em>model</em>. If the information is not yet cached in <em>model</em>, connects to the database to get it.<p>
<B>See also: </B>  
<code>typeInfoForModel:</code>, - <code>driverInfo</code>, - <code>typeInfo</code>
<p><a name="47">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/externalTypeForOdbcType:model:">externalTypeForOdbcType:model:</a></h3>
</a>+ (NSString *)<code>externalTypeForOdbcType:</code>(int)<em>type </em><code>model:</code>(EOModel *)<em>model</em> <p>
Returns the external type that represents the best match for an ODBC <em>type</em> in <em>model</em>.<p>
<a name="2310">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/externalTypesWithModel:">externalTypesWithModel:</a></h3>
</a>+ (NSArray *)<code>externalTypesWithModel:</code>(EOModel *)<em>model</em> <p>
Overrides the EOAdaptor method <code>externalTypesWithModel:</code> to return the ODBC database types.<p>
<B>See also: </B>  
<code>internalTypeForExternalType:model:</code>
<p><a name="55">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/getOdbcInfoWithConnectionDictionary:">getOdbcInfoWithConnectionDictionary:</a></h3>
</a>+ (NSDictionary *)<code>getOdbcInfoWithConnectionDictionary:</code>(NSDictionary *)<em>connectionDictionary</em> <p>
Sets up the typeInfo and driverInfo dictionaries in <em>connectionDictionary</em>, and returns an updated connection dictionary. Creates an ODBCAdaptor, ODBCContext, and ODBCChannel, and connects to the database to get the information for the typeInfo and driverInfo dictionaries.<p>
<a name="2329">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/internalTypeForExternalType:model:">internalTypeForExternalType:model:</a></h3>
</a>+ (NSString *)<code>internalTypeForExternalType:</code>(NSString *)<em>externalType </em><code>model:</code>(EOModel *)<em>model</em> <p>
Overrides the EOAdaptor method <code>internalTypeForExternalType:model:</code> to return the name of the Objective-C class used to represent values stored in the database as <em>externalType</em>.<p>
<B>See also: </B>  
<code>externalTypesWithModel:</code>
<p><a name="63">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/odbcTypeForExternalType:model:">odbcTypeForExternalType:model:</a></h3>
</a>+ (NSString *)<code>odbcTypeForExternalType:</code>(NSString *)<em>externalType </em><code>model:</code>(EOModel *)<em>model</em> <p>
Returns the ODBC type for <em>externalType</em>, as defined in the typeInfo dictionary in <em>model</em>'s connection dictionary.<p>
<a name="67">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/odbcTypeForStringRepresentation:">odbcTypeForStringRepresentation:</a></h3>
</a>+ (int)<code>odbcTypeForStringRepresentation:</code>(NSString *)<em>type</em> <p>
Returns the ODBC type (such as SQL_CHAR) for <em>type</em> (such as @"CHAR"). The method <code>stringRepresentationForOdbcType:</code> performs the opposite function: returning a string for a specified ODBC type. These methods are used in conjunction to encode ODBC types in the typeInfo dictionary.<p>
<a name="71">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/resetOdbcInfoWithConnectionDictionary:">resetOdbcInfoWithConnectionDictionary:</a></h3>
</a>+ (NSDictionary *)<code>resetOdbcInfoWithConnectionDictionary:</code>(NSDictionary *)<em>connectionDictionary</em> <p>
Removes the typeInfo and driverInfo dictionaries from a copy of <em>connectionDictionary</em> and returns the modified connection dictionary.<p>
<a name="75">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/stringRepresentationForOdbcType:">stringRepresentationForOdbcType:</a></h3>
</a>+ (NSString *)<code>stringRepresentationForOdbcType:</code>(int)<em>type</em> <p>
Returns the string representation of <em>type</em>-for example, for the type SQL_CHAR this method would return the string @"CHAR". The method <code>odbcTypeForStringRepresentation:</code> performs the opposite function: returning the ODBC type for a specified string. These methods are used in conjunction to encode ODBC types in the typeInfo dictionary. <p>
<a name="79">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/ODBCAdaptor/typeInfoForModel:">typeInfoForModel:</a></h3>
</a>+ (NSDictionary *)<code>typeInfoForModel:</code>(EOModel *)<em>model</em> <p>
Returns an NSDictionary containing the type information cached in the connection dictionary of <em>model</em>. If the information is not yet cached in <em>model</em>, connects to the database to get it.<p>
<B>See also: </B>  
<code>driverInfoForModel:</code>, - <code>driverInfo</code>, - <code>typeInfo</code>
<p><a name="862">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="2388">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/ODBCAdaptor/assertConnectionDictionaryIsValid">assertConnectionDictionaryIsValid</a></h3>
</a>- (void)<code>assertConnectionDictionaryIsValid</code> <p>
Determines whether the receiver's connection dictionary is valid. The adaptor uses this method in conjunction with displaying a server login panel. Raises an exception if an error occurs.<p>
Note that this method doesn't open a connection to the database-that happens when the first adaptor channel is sent an <code>openChannel</code> message.    <p>
<a name="2397">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/ODBCAdaptor/defaultExpressionClass">defaultExpressionClass</a></h3>
</a>- (Class)<code>defaultExpressionClass</code> <p>
Returns the ODBCSQLExpression class. <p>
<a name="95">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/ODBCAdaptor/driverInfo">driverInfo</a></h3>
</a>- (NSDictionary *)<code>driverInfo</code> <p>
Returns an NSDictionary containing the driver information cached in the receiver's model's connection dictionary. If the information is not yet cached in the model, connects to the database to get it.<p>
<B>See also: </B>  
- <code>typeInfo</code>
<p><a name="2426">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/ODBCAdaptor/isValidQualifierType:model:">isValidQualifierType:model:</a></h3>
</a>- (BOOL)<code>isValidQualifierType:</code>(NSString *)<em>typeName </em><code>model:</code>(EOModel *)<em>model</em> <p>
Returns YES if <em>model</em>'s attribute of the type <em>typeName</em> can be used in a qualifier, otherwise returns NO.<p>
<a name="103">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/ODBCAdaptor/odbcConnectionString">odbcConnectionString</a></h3>
</a>- (NSString *)<code>odbcConnectionString</code> <p>
Returns the user name, password, and data source as a string that's used to connect to the database.<p>
<a name="2439">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/ODBCAdaptor/odbcEnvironment">odbcEnvironment</a></h3>
</a>- (void *)<code>odbcEnvironment</code> <p>
Returns the ODBC Environment Handle HENV as a<code> void*</code>; to work with it, you must cast it to HENV.<p>
<a name="111">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/ODBCAdaptor/typeInfo">typeInfo</a></h3>
</a>- (NSDictionary *)<code>typeInfo</code> <p>
Returns an NSDictionary containing the type information cached in the receiver's model's connection dictionary. If the information is not yet cached in the model, connects to the database to get it.<p>
<B>See also: </B>  
- <code>driverInfo</code>, <code>driverInfoForModel:</code>, <code>typeInfoForModel:</code>
<p>
<hr><br>
<a href="ODBCEOAdaptor.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="ODBCChannel.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/15/98 12:03:55 -->

</body>
</html>
