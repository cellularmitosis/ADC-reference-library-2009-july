<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Using the Parameter RAM Utilities (IM: U)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING160></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="OSUtilities-159.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-161.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="OSUtilities-2.html"><B>Operating System Utilities</B></A> / <BR><DD><A HREF="OSUtilities-158.html"><B>Chapter 7 - Parameter RAM Utilities</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING160-0></A>
<H1><A NAME=MARKER-2-44></A>Using the Parameter RAM Utilities</H1>
 <A NAME=MARKER-9-11></A><A NAME=MARKER-9-85></A>The Parameter RAM Utilities provide two functions--<CODE>GetSysPPtr</CODE> and <CODE>WriteParam</CODE>--that allow you to directly manipulate parameter RAM. The <CODE>GetSysPPtr</CODE> function lets you access the low-memory copy of the parameter RAM, and the <CODE>WriteParam</CODE> function lets you write the modified low-memory copy back to parameter RAM. A third function, <CODE>InitUtil</CODE>, is used by the system software only. At system startup, this function reads the values from parameter RAM into low memory.<A NAME=MARKER-2-52></A><P>
 You may find it necessary to read the values in parameter RAM or even change them. You read from and write to parameter RAM using the <CODE>GetSysPPtr</CODE> and <CODE>WriteParam</CODE> functions.<P>
 Many of the values held in parameter RAM are also copied at system startup into other low-memory locations. Therefore, to change a value in parameter RAM, you must change all low-memory copies representing the value before you call <CODE>WriteParam</CODE> to write the values back to the clock chip. For example, the global variable <CODE>SPVolCtl</CODE> points to the location within the system parameters record that stores the speaker volume, and the global variable <CODE>SdVolume</CODE> references a copy of this information stored elsewhere in low memory. You could change one without changing the other, although ordinarily you change both simultaneously.<P>
<DL>
<DT><B>WARNING</B>
<DD>It is not recommended that you directly manipulate parameter RAM. Your application should, if at all possible, use the routines provided by the Toolbox to read the information stored in parameter RAM.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 The global variable <CODE>SysParam</CODE> points to the beginning of the system parameters record stored in low memory. You can access the system parameters record directly by using this global variable, or you can use the <CODE>GetSysPPtr</CODE> routine to return a pointer to the system parameters record. Thus, you can access the low-memory system parameters record like this:<A NAME=MARKER-2-51></A><P>
<PRE>
WITH GetSysPPtr^ DO
BEGIN
   ...   {access the system parameters record directly here}
END;
</PRE>
<DL>
<DT><B>IMPORTANT</B>
<DD>Though system software automatically copies parameter RAM into low memory at startup, it does not automatically do the reverse. Therefore, after you make a change to the information in the low-memory system parameters record, you must use the <CODE>WriteParam</CODE> function to copy values from that record back to the clock chip to make the change permanent.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 At startup, system software calls the <CODE>InitUtil</CODE> function (which you should never need to call yourself) to copy the values stored in parameter RAM into low memory. (It then copies those values into other appropriate global variables.) When you make changes to the low-memory copy of parameter RAM, you must call the <CODE>WriteParam</CODE> function to record your changes in the clock chip<A NAME=MARKER-9-50></A><A NAME=MARKER-2-52></A><A NAME=MARKER-2-114></A><A NAME=MARKER-2-50></A><A NAME=MARKER-2-51></A>.<P>



</BLOCKQUOTE>
<HR>
<center>
<A HREF="OSUtilities-159.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-161.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="OSUtilities-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
