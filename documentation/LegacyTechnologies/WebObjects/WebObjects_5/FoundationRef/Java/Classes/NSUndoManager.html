<html>	<head>		<title>NSUndoManager (Java) </title>	</head>	<body bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="BBIDFCBG"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/NSUndoManager">NSUndoManager</a></font></h1>		<br>		<blockquote>			<dl>				<dt><b>Inherits from: </b>				<dd>Object 			</dl>		</blockquote>		<blockquote>			<dl>				<dt><b>Implements: </b>				<dd>NSDisposable 				<dd>Serializable 			</dl>		</blockquote>		<blockquote>			<dl>				<dt><b>Package: </b>				<dd>com.webobjects.foundation 			</dl>		</blockquote>		<hr size="4">		<br>		<h2>Class Description</h2>		<hr alt="">		<p>NSUndoManager is a general-purpose recorder of operations for undo and redo. You register an undo operation by specifying the object that's changing (or the owner of that object), along with a method to invoke to revert its state, and the arguments for that method. NSUndoManager groups all operations within a single cycle of the run loop, so that performing an undo reverts all changes that occurred during the loop. Also, when performing undo an NSUndoManager saves the operations reverted so that you can redo the undos.</p>		<p>NSUndoManager is implemented as a class of the Foundation framework because executables other than applications might want to revert changes to their states. For example, you might have an interactive command-line tool with undo and redo commands. However, users typically see undo and redo as application features. WebObjects applications can use NSUndoManagers to undo and redo user operations. Typically a session's editing context has an undo manager that provides undo and redo operations on enterprise objects. For more information, see the class specification for EOEditingContext (eocontrol package).</p>		<br>		<h2>Operations and Groups</h2>		<p>An undo operation is a method for reverting a change to an object, along with the arguments needed to revert the change (for example, its state before the change). Undo operations are typically collected in undo groups, which represent whole revertible actions, and are stored on a stack. Redo operations and groups are simply undo operations stored on a separate stack (described below). When an NSUndoManager performs undo or redo, it's actually undoing or redoing an entire group of operations. For example, a user could change the first name and the last name of an employee. An application might package both operations as a group, so when the user chooses Undo, both the first and last names are reverted. To undo a single operation, the operation must be packaged alone in a group. </p>		<p>NSUndoManager normally creates undo groups automatically during the run loop. The first time it's asked to record an undo operation in the run loop, it creates a new group. Then, at the end of the loop, it closes the group. You can create additional, nested undo groups within these default groups using the <a href="#//apple_ref/java/instm/NSUndoManager/beginUndoGrouping">beginUndoGrouping</a> and <a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a> methods. You can also turn off the default grouping behavior using <a href="#//apple_ref/java/instm/NSUndoManager/setGroupsByEvent">setGroupsByEvent</a>.</p>		<br>		<h2>The Undo and Redo Stacks</h2>		<p>Undo groups are stored on a stack, with the oldest groups at the bottom and the newest at the top. The undo stack is unlimited by default, but you can restrict it to a maximum number of groups using the <a href="#//apple_ref/java/instm/NSUndoManager/setLevelsOfUndo">setLevelsOfUndo</a> method. When the stack exceeds the maximum, the oldest undo groups are dropped from the bottom. </p>		<p>Initially, both stacks are empty. Recording undo operations adds to the undo stack, but the redo stack remains empty until an undo is performed. Performing an undo causes the reverting operations in the latest group to be applied to their objects. Since these operations cause changes to the objects' states, the objects presumably register new operations with the NSUndoManager, this time in the reverse direction from the original operations. Since the NSUndoManager is in the process of performing undo, it records these operations as redo operations on the redo stack. Consecutive undos add to the redo stack. Subsequent redo operations pull the operations off the redo stack, apply them to the objects, and push them back onto the undo stack. </p>		<p>The redo stack's contents last as long as undo and redo are performed successively. However, because applying a new change to an object invalidates the previous changes, as soon as a new undo operation is registered, the redo stack is cleared. This prevents redo from returning objects to an inappropriate prior state. You can check for the ability to undo and redo with the <a href="#//apple_ref/java/instm/NSUndoManager/canUndo">canUndo</a> and <a href="#//apple_ref/java/instm/NSUndoManager/canRedo">canRedo</a> methods.</p>		<br>		<a name="BIECIABH"></a>		<h2>Registering Undo Operations</h2>		<p>To add an undo operation to the undo stack, you must register it with the object that will perform the undo operation. To register the undo operation you specify a selector with a single object argument. When an object changes, the object itself (or another object acting on its behalf) records its attributes prior to the change in the argument object. (This argument is frequently an NSDictionary object, but it can be any object.) Performing the undo then involves resetting the object with these attributes.</p>		<p>To record a simple undo operation, you need only invoke <a href="#//apple_ref/java/instm/NSUndoManager/registerUndoWithTarget">registerUndoWithTarget</a>, giving the object to be sent the undo operation selector, the selector to invoke, and an argument to pass with that message. The target object is usually not the actual object whose state is changing; instead, it's the client object, a document or container that holds many undoable objects. The argument is an object that captures the state of the object before the change is made. If you have multiple arguments, use <a href="#//apple_ref/java/instm/NSUndoManager/registerUndoWithTargetAndArguments">registerUndoWithTargetAndArguments</a>.</p>		<p>In most applications a single instance of NSUndoManager belongs to an object that contains or manages other objects. This is particularly the case with document-based applications, where a single object is responsible for all undo and redo operations for a document. An object such as this is often called the NSUndoManager's client. Each client object has its own NSUndoManager. The client claims exclusive right to alter its undoable objects so that it can record undo operations for all changes. In the specific case of documents, this scheme keeps each pair of undo and redo stacks separate so that when an undo is performed, it applies to the focal document in the application (typically the one displayed in the key window). It also relieves the individual objects in a document from having to know the identity of their NSUndoManager or from having to track changes to themselves.</p>		<p>However, an object that is changed can have its own NSUndoManager and perform its own undo and redo operations. For example, you could have a custom view that displays images dragged into it; with each successful drag operation, it registers a new undo group. If the view is then selected (that is, made first responder) and the Undo command applied, the previously displayed image would be redisplayed. </p>		<br>		<h2>Performing Undo and Redo</h2>		<p>Performing undo and redo is usually as simple as sending <a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> and <a href="#//apple_ref/java/instm/NSUndoManager/redo">redo</a> messages to the NSUndoManager. <b>undo</b> closes the last open undo group and then applies all the undo operations in that group (recording any undo operations as redo operations instead). <b>redo</b> likewise applies all the redo operations on the top redo group.</p>		<p><b>undo</b> is intended for undoing top-level groups, and shouldn't be used for nested undo groups. If any unclosed, nested undo groups are on the stack when <b>undo</b> is invoked, it throws an exception. To undo nested groups, you must explicitly close the group with an <a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a> message, then use <a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a> to undo it. Note also that if you turn off automatic grouping by event with <a href="#//apple_ref/java/instm/NSUndoManager/setGroupsByEvent">setGroupsByEvent</a>, you must explicitly close the current undo group with <a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a> before invoking either undo method.</p>		<br>		<h2>Undo Notifications</h2>		<p>An NSUndoManager regularly posts checkpoint notifications to synchronize the inclusion of undo operations in undo groups. Objects sometimes delay performing changes, for various reasons. This means they may also delay registering undo operations for those changes. Because NSUndoManager collects individual operations into groups, it must be sure to synchronize its client with the creation of these groups so that operations are entered into the proper undo groups. To this end, whenever an NSUndoManager opens or closes a new undo group (except when it opens a top-level group), it posts an <a href="#CJBDCHDG">CheckpointNotification</a> so observers can apply their pending undo operations to the group in effect. The NSUndoManager's client should register itself as an observer for this notification and record undo operations for all pending changes upon receiving it.</p>		<p>NSUndoManager also posts a number of other notifications at specific intervals: when a group is created, when a group is closed, and just before and just after both undo and redo operations. For more on notifications, see <a href="#CJBGADBA">&quot;Notifications&quot; (page 335)</a>.</p>		<br>		<br>		<br>		<h2>Constants</h2>		<hr alt="">		<p>NSUndoManager provides the following constant to specify the priority of closing an undo group compared to other operations that take place after the current event ends. Undo groups are automatically closed at the end of the event. The priority specified by this constant is lower than the priority for an EOEditingContext to flush its changes.</p>		<br>		<table border="1">			<tr>				<td scope="row"><b>Constant</b></td>				<td><b>Type</b></td>				<td><b>Description</b></td>			</tr>			<tr>				<td scope="row"><tt>UndoCloseGroupingRunLoopOrdering</tt></td>				<td>int</td>				<td>Specifies the priority for closing the current undo group compared to other operations in the delayed callback queue.</td>			</tr>		</table><br>		<br>		<br>		<h2>Interfaces Implemented</h2>		<hr alt="">		<blockquote>			<dl>				<dd>NSDisposable 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/dispose">dispose</a> 				</dl>				<dd>			</dl>		</blockquote>		<br>		<br>		<h2>Method Types</h2>		<hr alt="">		<blockquote>			<dl>				<dt>Registering undo operations 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/registerUndoWithTarget">registerUndoWithTarget</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/registerUndoWithTargetAndArguments">registerUndoWithTargetAndArguments</a> 				</dl>			</dl>			<dl>				<dt>Checking undo ability 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/canUndo">canUndo</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/canRedo">canRedo</a> 				</dl>			</dl>			<dl>				<dt>Performing undo and redo 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/redo">redo</a> 				</dl>			</dl>			<dl>				<dt>Limiting the undo stack 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/setLevelsOfUndo">setLevelsOfUndo</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/levelsOfUndo">levelsOfUndo</a> 				</dl>			</dl>			<dl>				<dt>Creating undo groups 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/beginUndoGrouping">beginUndoGrouping</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/endUndoGrouping">endUndoGrouping</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/setGroupsByEvent">setGroupsByEvent</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/groupsByEvent">groupsByEvent</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/groupingLevel">groupingLevel</a> 				</dl>			</dl>			<dl>				<dt>Disabling undo 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/disableUndoRegistration">disableUndoRegistration</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/isUndoRegistrationEnabled">isUndoRegistrationEnabled</a> 				</dl>			</dl>			<dl>				<dt>Checking whether undo or redo is being performed 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/isUndoing">isUndoing</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/isRedoing">isRedoing</a> 				</dl>			</dl>			<dl>				<dt>Clearing undo operations 				<dl>					<dd><a href="#//apple_ref/java/instm/NSUndoManager/removeAllActions">removeAllActions</a> 					<dd><a href="#//apple_ref/java/instm/NSUndoManager/removeAllActionsWithTarget">removeAllActionsWithTarget</a> 				</dl>			</dl>		</blockquote>		<br>		<br>		<h2>Constructors</h2>		<hr alt="">		<br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/NSUndoManager">NSUndoManager</a></h3>		<p><code>public <b>NSUndoManager</b>()</code></p>		Creates an NSUndoManager object. 		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="beginUndoGrouping_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/beginUndoGrouping">beginUndoGrouping</a></h3>		<p><code>public void <b>beginUndoGrouping</b>()</code></p>		Marks the beginning of an undo group. All individual undo operations before a subsequent <a href="#//apple_ref/java/instm/NSUndoManager/endUndoGrouping">endUndoGrouping</a> message are grouped together and reversed by a later <a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> message. By default undo groups are begun automatically at the start of the event loop, but you can begin your own undo groups with this method, and nest them within other groups. 		<p>This method posts an <a href="#CJBDCHDG">CheckpointNotification</a> unless a top-level undo is in progress. It posts a <a href="#CJBGEEBJ">DidOpenUndoGroupNotification</a> if a new group was successfully created.</p>		<hr width="25%" align="LEFT">		<a name="canRedo_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/canRedo">canRedo</a></h3>		<p><code>public boolean <b>canRedo</b>()</code></p>		Returns <code>true</code> if the receiver has any actions to redo, <code>false</code> if it doesn't. 		<p>Because any undo operation registered clears the redo stack, this method posts an <a href="#CJBDCHDG">CheckpointNotification</a> to allow clients to apply their pending operations before testing the redo stack.</p>		<hr width="25%" align="LEFT">		<a name="canUndo_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/canUndo">canUndo</a></h3>		<p><code>public boolean <b>canUndo</b>()</code></p>		Returns <code>true</code> if the receiver has any actions to undo, <code>false</code> if it doesn't. This does not mean you can safely invoke <a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> or <a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a>-you may have to close open undo groups first. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a>, <a href="#//apple_ref/java/instm/NSUndoManager/registerUndoWithTarget">registerUndoWithTarget</a></p>		<hr width="25%" align="LEFT">		<a name="disableUndoRegistration_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/disableUndoRegistration">disableUndoRegistration</a></h3>		<p><code>public void <b>disableUndoRegistration</b>()</code></p>		Disables the recording of undo operations, whether by <a href="#//apple_ref/java/instm/NSUndoManager/registerUndoWithTarget">registerUndoWithTarget</a> or by invocation-based undo. This method can be invoked multiple times by multiple clients. <a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a> must be invoked an equal number of times to re-enable undo registration. 		<hr width="25%" align="LEFT">		<a name="dispose_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/dispose">dispose</a></h3>		<p><code>public void <b>dispose</b>()</code></p>		Conformance to <a href="../Interfaces/NSDisposable.html#BBICFCIA">NSDisposable</a>. See the method description of <a href="../Interfaces/NSDisposable.html#//apple_ref/java/intfm/NSDisposable/dispose">dispose</a> in the interface specification for NSDisposable. 		<hr width="25%" align="LEFT">		<a name="enableUndoRegistration_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a></h3>		<p><code>public void <b>enableUndoRegistration</b>()</code></p>		Enables the recording of undo operations. Because undo registration is enabled by default, it is often used to balance a prior <a href="#//apple_ref/java/instm/NSUndoManager/disableUndoRegistration">disableUndoRegistration</a> message. Undo registration isn't actually re-enabled until an enable message balances the last disable message in effect. Throws an IllegalStateException if invoked while no <a href="#//apple_ref/java/instm/NSUndoManager/disableUndoRegistration">disableUndoRegistration</a> message is in effect. 		<hr width="25%" align="LEFT">		<a name="endUndoGrouping_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/endUndoGrouping">endUndoGrouping</a></h3>		<p><code>public void <b>endUndoGrouping</b>()</code></p>		Marks the end of an undo group. All individual undo operations back to the matching <a href="#//apple_ref/java/instm/NSUndoManager/beginUndoGrouping">beginUndoGrouping</a> message are grouped together and reversed by a later <a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> or <a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a> message. Undo groups can be nested, thus providing functionality similar to nested transactions. Throws an IllegalStateException if there's no <b>beginUndoGrouping</b> message in effect. 		<p>This method posts an <a href="#CJBDCHDG">CheckpointNotification</a> and an <a href="#CJBEHIDA">WillCloseUndoGroupNotification</a> just before the group is closed.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/levelsOfUndo">levelsOfUndo</a></p>		<hr width="25%" align="LEFT">		<a name="groupingLevel_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/groupingLevel">groupingLevel</a></h3>		<p><code>public int <b>groupingLevel</b>()</code></p>		Returns the number of nested undo groups (or redo groups, if Redo was last invoked) in the current event loop. If zero is returned, there is no open undo or redo group. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/levelsOfUndo">levelsOfUndo</a>, <a href="#//apple_ref/java/instm/NSUndoManager/setLevelsOfUndo">setLevelsOfUndo</a></p>		<hr width="25%" align="LEFT">		<a name="groupsByEvent_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/groupsByEvent">groupsByEvent</a></h3>		<p><code>public boolean <b>groupsByEvent</b>()</code></p>		Returns <code>true</code> if the receiver automatically creates undo groups around each pass of the run loop, <code>false</code> if it doesn't. The default is <code>true</code>. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/beginUndoGrouping">beginUndoGrouping</a></p>		<hr width="25%" align="LEFT">		<a name="isRedoing_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/isRedoing">isRedoing</a></h3>		<p><code>public boolean <b>isRedoing</b>()</code></p>		Returns <code>true</code> if the receiver is in the process of performing its <a href="#//apple_ref/java/instm/NSUndoManager/redo">redo</a> method, <code>false</code> otherwise. 		<hr width="25%" align="LEFT">		<a name="isUndoRegistrationEnabled_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/isUndoRegistrationEnabled">isUndoRegistrationEnabled</a></h3>		<p><code>public boolean <b>isUndoRegistrationEnabled</b>()</code></p>		Returns whether the recording of undo operations is enabled. Undo registration is enabled by default. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/disableUndoRegistration">disableUndoRegistration</a>, <a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a></p>		<hr width="25%" align="LEFT">		<a name="isUndoing_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/isUndoing">isUndoing</a></h3>		<p><code>public boolean <b>isUndoing</b>()</code></p>		Returns <code>true</code> if the receiver is in the process of performing an <a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> or <a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a>, <code>false</code> otherwise. 		<hr width="25%" align="LEFT">		<a name="levelsOfUndo_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/levelsOfUndo">levelsOfUndo</a></h3>		<p><code>public int <b>levelsOfUndo</b>()</code></p>		Returns the maximum number of top-level undo groups the receiver will hold. If ending the current undo group will result in the number of groups exceeding this limit, the oldest groups are dropped from the stack. A limit of zero indicates no limit, so old undo groups are never dropped. The default is zero. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a>, <a href="#//apple_ref/java/instm/NSUndoManager/setLevelsOfUndo">setLevelsOfUndo</a></p>		<hr width="25%" align="LEFT">		<a name="redo_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/redo">redo</a></h3>		<p><code>public void <b>redo</b>()</code></p>		Performs the operations in the last group on the redo stack, if there are any, recording them on the undo stack as a single group. Throws an IllegalStateException if the method is invoked during an undo operation. 		<p>This method posts an <a href="#CJBDCHDG">CheckpointNotification</a> and <a href="#CJBEIJEB">WillRedoChangeNotification</a> before it performs the redo operation, and it posts the <a href="#CJBJEGFD">DidRedoChangeNotification</a> after it performs the redo operation.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/registerUndoWithTarget">registerUndoWithTarget</a></p>		<hr width="25%" align="LEFT">		<a name="registerUndoWithTarget_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/registerUndoWithTarget">registerUndoWithTarget</a></h3>		<p><code>public void <b>registerUndoWithTarget</b>( Object <em>target</em>, NSSelector <em>aSelector</em>, Object <em>anObject</em>)</code></p>		Records a single undo operation for <em>target</em>, so that when undo is performed it's sent <em>aSelector</em> with <em>anObject</em> as the sole argument. Also clears the redo stack. See <a href="#BIECIABH">&quot;Registering Undo Operations&quot; (page 325)</a> in the class description for more information. 		<p>Throws an IllegalStateException if invoked when no undo group has been established using <a href="#//apple_ref/java/instm/NSUndoManager/beginUndoGrouping">beginUndoGrouping</a>. Undo groups are normally set by default, so you should rarely need to begin a top-level undo group explicitly.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a>, <a href="#//apple_ref/java/instm/NSUndoManager/groupingLevel">groupingLevel</a></p>		<hr width="25%" align="LEFT">		<a name="registerUndoWithTargetAndArguments_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/registerUndoWithTargetAndArguments">registerUndoWithTargetAndArguments</a></h3>		<p><code>public void <b>registerUndoWithTargetAndArguments</b>( Object <em>target</em>, NSSelector <em>selector</em>, Object[] <em>parameters[]</em>)</code></p>		<hr width="25%" align="LEFT">		<a name="removeAllActions_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/removeAllActions">removeAllActions</a></h3>		<p><code>public void <b>removeAllActions</b>()</code></p>		Clears the undo and redo stacks and reenables the receiver. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a>, <a href="#//apple_ref/java/instm/NSUndoManager/removeAllActionsWithTarget">removeAllActionsWithTarget</a></p>		<hr width="25%" align="LEFT">		<a name="removeAllActionsWithTarget_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/removeAllActionsWithTarget">removeAllActionsWithTarget</a></h3>		<p><code>public void <b>removeAllActionsWithTarget</b>(Object <em>target</em>)</code></p>		Clears the undo and redo stacks of all operations involving <em>target</em> as the recipient of the undo message. Doesn't re-enable the receiver if it's disabled. An object that shares an NSUndoManager with other clients should invoke this message in its implementation of <b>finalize</b>. &lt;&lt;True?&gt;&gt; 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a>, <a href="#//apple_ref/java/instm/NSUndoManager/removeAllActions">removeAllActions</a></p>		<hr width="25%" align="LEFT">		<a name="setGroupsByEvent_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/setGroupsByEvent">setGroupsByEvent</a></h3>		<p><code>public void <b>setGroupsByEvent</b>(boolean <em>flag</em>)</code></p>		Sets whether the receiver automatically groups undo operations during the run loop. If <em>flag</em> is <code>true</code>, the receiver creates undo groups around each pass through the run loop; if flag is <code>false</code> it doesn't. The default is <code>true</code>. 		<p>If you turn automatic grouping off, you must close groups explicitly before invoking either <a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> or <a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a>.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/groupingLevel">groupingLevel</a>, <a href="#//apple_ref/java/instm/NSUndoManager/groupsByEvent">groupsByEvent</a></p>		<hr width="25%" align="LEFT">		<a name="setLevelsOfUndo_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/setLevelsOfUndo">setLevelsOfUndo</a></h3>		<p><code>public void <b>setLevelsOfUndo</b>(int <em>levels</em>)</code></p>		Sets the maximum number of top-level undo groups the receiver will hold to <em>levels</em>. When ending an undo group results in the number of groups exceeding this limit, the oldest groups are dropped from the stack. A limit of zero indicates no limit, so that old undo groups are never dropped. The default is zero. 		<p>If invoked with a limit below the prior limit, old undo groups are immediately dropped.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a>, <a href="#//apple_ref/java/instm/NSUndoManager/levelsOfUndo">levelsOfUndo</a></p>		<hr width="25%" align="LEFT">		<a name="undo_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/undo">undo</a></h3>		<p><code>public void <b>undo</b>()</code></p>		Closes the top-level undo group if necessary and invokes <a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a>. It also invokes <a href="#//apple_ref/java/instm/NSUndoManager/endUndoGrouping">endUndoGrouping</a> if the nesting level is 1. Throws an InternalInconsistencyException if more than one undo group is open (that is, if the last group isn't at the top level). 		<p>This method posts an <a href="#CJBDCHDG">&quot;CheckpointNotification&quot; (page 336)</a>.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a>, <a href="#//apple_ref/java/instm/NSUndoManager/groupingLevel">groupingLevel</a></p>		<hr width="25%" align="LEFT">		<a name="undoNestedGroup_NSUndoManager"></a><br>		<h3><a name="//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a></h3>		<p><code>public void <b>undoNestedGroup</b>()</code></p>		Performs the undo operations in the last undo group (whether top-level or nested), recording the operations on the redo stack as a single group. Throws an InternalInconsistencyException if any undo operations have been registered since the last <a href="#//apple_ref/java/instm/NSUndoManager/enableUndoRegistration">enableUndoRegistration</a> message. 		<p>This method posts an <a href="#CJBDCHDG">&quot;CheckpointNotification&quot; (page 336)</a> and <a href="#CJBIAEFB">&quot;WillUndoChangeNotification&quot; (page 338)</a> before it performs the undo operation, and it posts the <a href="#CJBHGJCC">&quot;DidUndoChangeNotification&quot; (page 337)</a> after it performs the undo operation.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a></p>		<hr width="25%" align="LEFT">		<a name="CJBGADBA"></a><br>		<br>		<h2>Notifications</h2>		<hr alt="">		<a name="CJBDCHDG"></a>		<h3>CheckpointNotification</h3>		<p><code>public static final String CheckpointNotification</code></p>		<p>Posted whenever an NSUndoManager opens or closes an undo group (except when it opens a top-level group), and when an NSUndoManager checks the redo stack in <a href="#//apple_ref/java/instm/NSUndoManager/canRedo">canRedo</a>. The notification contains:</p>		<dl>			<dt>notification object 			<dd>The NSUndoManager 		</dl>		<dl>			<dt><em>userInfo</em> 			<dd><code>null</code> 		</dl>		<a name="CJBGEEBJ"></a>		<h3>DidOpenUndoGroupNotification</h3>		<p><code>public static final String DidOpenUndoGroupNotification</code></p>		<p>Posted whenever an NSUndoManager opens an undo group, which occurs in an invocation of <a href="#//apple_ref/java/instm/NSUndoManager/beginUndoGrouping">beginUndoGrouping</a>. The notification contains:</p>		<dl>			<dt>notification object 			<dd>The NSUndoManager 		</dl>		<dl>			<dt><em>userInfo</em> 			<dd><code>null</code> 		</dl>		<a name="CJBJEGFD"></a>		<h3>DidRedoChangeNotification</h3>		<p><code>public static final String DidRedoChangeNotification</code></p>		<p>Posted just after an NSUndoManager performs a redo operation ( <a href="#//apple_ref/java/instm/NSUndoManager/redo">redo</a>). The notification contains:</p>		<dl>			<dt>notification object 			<dd>The NSUndoManager 		</dl>		<dl>			<dt><em>userInfo</em> 			<dd><code>null</code> 		</dl>		<a name="CJBHGJCC"></a>		<h3>DidUndoChangeNotification</h3>		<p><code>public static final String DidUndoChangeNotification</code></p>		<p>Posted just after an NSUndoManager performs an undo operation. If you invoke <a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> or <a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a>, this notification will be posted. The notification contains:</p>		<dl>			<dt>notification object 			<dd>The NSUndoManager 		</dl>		<dl>			<dt><em>userInfo</em> 			<dd><code>null</code> 		</dl>		<a name="CJBEHIDA"></a>		<h3>WillCloseUndoGroupNotification</h3>		<p><code>public static final String WillCloseUndoGroupNotification</code></p>		<p>Posted whenever an NSUndoManager closes an undo group, which occurs in an invocation of <a href="#//apple_ref/java/instm/NSUndoManager/endUndoGrouping">endUndoGrouping</a>. The notification contains:</p>		<dl>			<dt>notification object 			<dd>The NSUndoManager 		</dl>		<dl>			<dt><em>userInfo</em> 			<dd><code>null</code> 		</dl>		<a name="CJBEIJEB"></a>		<h3>WillRedoChangeNotification</h3>		<p><code>public static final String WillRedoChangeNotification</code></p>		<p>Posted just before an NSUndoManager performs a redo operation ( <a href="#//apple_ref/java/instm/NSUndoManager/redo">redo</a>). The notification contains:</p>		<dl>			<dt>notification object 			<dd>The NSUndoManager 		</dl>		<dl>			<dt><em>userInfo</em> 			<dd><code>null</code> 		</dl>		<a name="CJBIAEFB"></a>		<h3>WillUndoChangeNotification</h3>		<p><code>public static final String WillUndoChangeNotification</code></p>		<p>Posted just before an NSUndoManager performs an undo operation. If you invoke <a href="#//apple_ref/java/instm/NSUndoManager/undo">undo</a> or <a href="#//apple_ref/java/instm/NSUndoManager/undoNestedGroup">undoNestedGroup</a>, this notification will be posted. The notification contains:</p>		<dl>			<dt>notification object 			<dd>The NSUndoManager 		</dl>		<dl>			<dt><em>userInfo</em> 			<dd><code>null</code> 		</dl>		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 17, 2001)</p>		<br>		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>