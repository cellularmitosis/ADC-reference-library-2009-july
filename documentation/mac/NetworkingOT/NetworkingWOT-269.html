<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>The Port Structure</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING269></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-268.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-270.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-263.html"><B>Chapter 26 - Ports Reference</B></A> / <A HREF="NetworkingWOT-264.html"><B>Constants and Data Types</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING269-0></A>
<H2><A NAME=MARKER-9-63></A>The <A NAME=MARKER-13-64></A>Port Structure</H2>
 Open Transport uses a port structure to describe a port's characteristics, such as its port name, its child ports, whether it is active or disabled, whether it is private or shareable, and the kind of framing it can use. <P>
 The port structure is defined by the <A NAME=MARKER-13-65></A><CODE>OTPortRecord</CODE> data type.<P>
<PRE>
<A NAME=MARKER-0-95></A>struct OTPortRecord {
   OTPortRef   fRef;
   UInt32      fPortFlags;
   UInt32      fInfoFlags;
   UInt32      fCapabilities;
   size_t      fNumChildPorts;
   OTPortRef*  fChildPorts;
   char        fPortName[kMaxProviderNameSize];
   char        fModuleName[kMaxModuleNameSize];
   char        fSlotID[kMaxSlotIDSize];
   char        fResourceInfo[kMaxResourceInfoSize];
   char        fReserved[164];
};
typedef struct OTPortRecord OTPortRecord;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>fRef</CODE>
<DD> The port reference; a 32-bit value encoding the port's device type, bus type, slot number, and multiport identifier. For more details, see.
<DT><CODE>fPortFlags</CODE>
<DD> Flags describing the port's status. If no bits are set, the port is currently inactive--that is, it is not in use at this time. 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Flag<TH> Value<TH>Description<TR>
<TD><CODE><A NAME=MARKER-13-1></A>kOTPortIsActive</CODE><TD><CODE>0x00000001</CODE><TD>The port is in use.<TR>
<TD><CODE><A NAME=MARKER-13-2></A>kOTPortIsDisabled</CODE><TD><CODE>0x00000002</CODE><TD>The port may or may not be in use, but no other client can use it. <TR>
<TD><CODE><A NAME=MARKER-13-3></A>kOTPortIsUnavailable</CODE>&nbsp;&nbsp;<TD><CODE>0x00000004</CODE>&nbsp;&nbsp;<TD>The port is not available for use.<TR>
<TD><CODE><A NAME=MARKER-13-4></A>kOTPortIsOffline</CODE><TD><CODE>0x00000008</CODE><TD>The port is off-line. This bit is typically only set when the port is active, the port autoconnects, and it is currently not connected.</TABLE>

<DT><CODE>fInfoFlags</CODE>
<DD> Flags providing additional information about the port. 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Flag<TH> Value<TH>Description<TR>
<TD><CODE><A NAME=MARKER-13-5></A>kOTPortIsDLPI</CODE><TD><CODE>0x00000001</CODE><TD>The port driver is a DLPI STREAMS module. <TR>
<TD><CODE><A NAME=MARKER-13-6></A>kOTPortIsTPI</CODE><TD><CODE>0x00000002</CODE><TD>The port driver is a TPI STREAMS module. <TR>
<TD><CODE><A NAME=MARKER-13-7></A>kOTPortCanYield</CODE><TD><CODE>0x00000004</CODE><TD>The port can yield when requested.<TR>
<TD><CODE>kOTPortCanArbitrate</CODE><TD><CODE>0x00000008</CODE><TD>Reserved<TR>
<TD><CODE><A NAME=MARKER-13-8></A>kOTPortIsTransitory</CODE><TD><CODE>0x00000010</CODE><TD>The port has off-line/on-line status.<TR>
<TD><CODE><A NAME=MARKER-13-9></A>kOTPortAutoConnects</CODE><TD><CODE>0x00000020</CODE><TD>The port auto connects. The port goes on-line and off-line on demand. ISDN is a typical example.<TR>
<TD><CODE><A NAME=MARKER-13-10></A>kOTPortIsSystemRegistered</CODE>&nbsp;&nbsp;<TD><CODE>0x00004000</CODE>&nbsp;&nbsp;<TD>The port was registered by the system from the Name Registry.<TR>
<TD><CODE><A NAME=MARKER-13-11></A>kOTPortIsPrivate</CODE><TD><CODE>0x00008000</CODE><TD>The port is a private port.<TR>
<TD><CODE><A NAME=MARKER-13-12></A>kOTPortIsAlias</CODE><TD><CODE>0x80000000</CODE><TD>The port is an alias for another port. </TABLE>

<DT><CODE>fCapabilities</CODE>
<DD> Flags indicating the type of framing capability that a port has. If the port can handle only one type of framing, this field is 0. This field is dependent on the ports device type. For example, Ethernet framing uses the following values:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Flag<TH>Value&nbsp;&nbsp;<TH>Description<TR>
<TD><CODE><A NAME=MARKER-13-13></A>kOTFramingEthernet</CODE><TD><CODE>0x01</CODE><TD>The port can use standard Ethernet framing.<TR>
<TD><CODE><A NAME=MARKER-13-14></A>kOTFramingEthernetIPX</CODE>&nbsp;&nbsp;<TD><CODE>0x02</CODE><TD>The port can use IPX Ethernet framing.<TR>
<TD><CODE><A NAME=MARKER-13-15></A>kOTFraming8023</CODE><TD><CODE>0x04</CODE><TD>The port can use 802.3 Ethernet framing.<TR>
<TD><CODE><A NAME=MARKER-13-16></A>kOTFraming8022</CODE><TD><CODE>0x08</CODE><TD>The port can use 802.2 Ethernet framing.</TABLE>

<DT><CODE>fNumChildPorts</CODE>
<DD> The number of child ports associated with this port.
<DT><CODE>fChildPorts</CODE>
<DD> An array of the port references for the child ports associated with this port. When you get a Port Record, this pointer typically points into the SReserved field at the end of the record.
<DT><CODE>fPortName</CODE>
<DD> A unique name for this port. The port name is a zero-terminated string that can have a maximum length as indicated by the constant <CODE>kMaxProviderNameSize</CODE>. 
<DT><CODE>fModuleName</CODE>
<DD> The name of the actual STREAMS module that implements the driver for this port. Open Transport uses this name internally; applications rarely need to use this name. 
<DT><CODE>fSlotID</CODE>
<DD> An 8-byte identifier for a port's slot that contains a 7-byte character string plus a zero for termination. This identifier is typically available only for PCI cards. 
<DT><CODE>fResourceInfo</CODE>
<DD> A zero-terminated string that describes a shared library that can handle configuration information for the device. This field contains an identifier that allows Open Transport to access auxiliary information about the driver (Open Transport creates shared library IDs from this string to be able to find these extra shared libraries). This string should either be unique to the driver or should be set to a <CODE>NULL</CODE> string. 
<DT><CODE>fReserved</CODE>
<DD> Reserved. 
</DL>
</BLOCKQUOTE><HR>
<center>
<A HREF="NetworkingWOT-268.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-270.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
