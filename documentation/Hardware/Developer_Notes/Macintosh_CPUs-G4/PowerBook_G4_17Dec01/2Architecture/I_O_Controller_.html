<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>I/O Controller </title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><a href="Memory_Cont_Bus_Bridge_.html" target="content"><img src="../images/previous.gif" border="0"></a><a href="../3Input-Output/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF114"></a><h2><font face="Lucida Grande,Helvetica,Arial">I/O Controller </font></h2><!-- apple_doc: pageHeadingEnd --><p>The I/O controller IC in the PowerBook G4 computer is a customIC called KeyLargo. It provides the interface and control signalsfor the following devices: </p><br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b> Inthe device tree, the I/O controller is named "mac-io".</td></tr></table><br><dl><dd> <a href="#TPXREF115">"DMA Support"</a></dd><dd> <a href="#TPXREF116">"Interrupt Support"</a></dd><dd> <a href="#TPXREF117">"USB Interface"</a></dd><dd> <a href="#TPXREF118">"Ultra ATA/66 Interface"</a></dd><dd> <a href="#TPXREF119">"EIDE Interface"</a></dd><dd> <a href="#TPXREF120">"Modem Support"</a></dd><dd> <a href="#TPXREF121">"Sound Circuitry"</a></dd><dd> <a href="#TPXREF122">"Power Controller"</a></dd><dd> <a href="#TPXREF123">"Infrared Link Interface"</a></dd><dd> <a href="#TPXREF124">"Wireless LAN Interface"</a></dd><dd> <a href="#TPXREF125">"CardBus Controller IC"</a></dd></dl><br><a name = "TPXREF115"></a><h3><font face="Lucida Grande,Helvetica,Arial">DMA Support</font></h3><p>The KeyLargo IC provides DB-DMA (descriptor-based direct memoryaccess) support for the following I/O channels: </p><ul><li>Ultra DMAATA interface to the the internal hard drive</font></li><li>modem slot interface to the built-in modem</font></li><li>I2S channel to the sound IC</font></li></ul><p>The DB-DMA system provides a scatter-gather process basedon memory resident data structures that describe the data transfers.The DMA engine is enhanced to allow bursting of data files for improvedperformance. </p><br><a name = "TPXREF116"></a><h3><font face="Lucida Grande,Helvetica,Arial">Interrupt Support</font></h3><p>The KeyLargo IC has an interrupt controller (MPIC) that handlesinterrupts generated within the IC as well as external interrupts,such as those from the Ethernet and FireWire controllers. </p><br><a name = "TPXREF117"></a><h3><font face="Lucida Grande,Helvetica,Arial">USB Interface</font></h3><p>The KeyLargo IC implements two independent USB controllers(root hubs), each of which is connected to one of the ports on theback panel of the computer. The use of two independent controllersallows both USB ports to support high data rate devices at the sametime with no degradation of their performance. If a user connectsa high-speed (12 Mbps) device to one port and another high-speeddevice to the other, both devices can operate at their full datarates. </p><p>The two external USB connectors support USB devices with datatransfer rates of 1.5 Mbps or 12 Mbps. For more information aboutthe connectors, see  <a sector="mod" href="../3Input-Output/iUSB_Ports.html" target="_top">"USB Connectors"</a>. </p><p>USB devices connected to the PowerBook G4 computer are requiredto support USB-suspend mode as defined in the USB specification.Information about the operation of USB-suspend mode on Macintoshcomputers is included in the Mac OS USB DDK API Reference. To obtainit, see the reference at  <a sector="mod" href="../aReferences/iUSB_Interface.html" target="_top">"USB Interface"</a>. </p><p>The USB ports on the PowerBook G4 computer comply with theUniversal Serial Bus Specification 1.1 Final Draft Revision. TheUSB controllers comply with the Open Host Controller Interface (OHCI)specification. </p><br><a name = "TPXREF118"></a><h3><font face="Lucida Grande,Helvetica,Arial">Ultra ATA/66 Interface </font></h3><p>The KeyLargo IC provides an Ultra ATA/66 channel that is connectedto the internal hard disk drive. The KeyLargo IC provides DB-DMA(descriptor-based direct memory access) support for the Ultra DMAinterface. </p><p>The internal hard disk drive is connected as device 0 (master)in an ATA Device 0/1 configuration. </p><br><a name = "TPXREF119"></a><h3><font face="Lucida Grande,Helvetica,Arial">EIDE Interface</font></h3><p>The KeyLargo IC provides an EIDE interface (ATA bus) thatsupports the the DVD-ROM/CD-RW drive and the wireless LAN module.The DVD-ROM/CD-RW Combo drive is an ATAPI drive and is connectedas device 0 (master) in an ATA Device 0/1 configuration. </p><br><a name = "TPXREF120"></a><h3><font face="Lucida Grande,Helvetica,Arial">Modem Support </font></h3><p>Unlike earlier Macintosh models which used serial-port modems,the internal modem is connected to an internal USB port. The KeyLargoIC provides DB-DMA support for the modem interface. The modem providesdigital call progress signals to the Tumbler sound circuitry. </p><p>The internal modem is a separate module that contains thedatapump IC and the interface to the telephone line (DAA). For moreinformation about the modem, see  <a sector="mod" href="../3Input-Output/iInternal_Modem_.html" target="_top">"Internal Modem"</a>. </p><br><a name = "TPXREF121"></a><h3><font face="Lucida Grande,Helvetica,Arial">Sound Circuitry </font></h3><p>The sound circuitry, called Tumbler, is connected to the KeyLargoIC by a standard I2S bus. The KeyLargo IC provides DB-DMA (descriptor-baseddirect memory access) support for the I2S port. </p><br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b> Inthe device tree, the sound circuitry is named "sound".</td></tr></table><br><p>The Tumbler circuitry includes a signal processing IC thathandles the equalization and volume control functions, a codec ICthat performs A-to-D and D-to-A conversion, and a power amplifierthat drives the headphone jack. </p><p>All audio is handled digitally inside the computer. The Tumblercircuitry performs digital-to-analog conversion for the audio signalsto the internal speakers and the headphone jack. </p><p>For a description of the features of the sound system, see  <a sector="mod" href="../3Input-Output/iSound_System.html" target="_top">"Sound System"</a></p><br><a name = "TPXREF122"></a><h3><font face="Lucida Grande,Helvetica,Arial">Power Controller</font></h3><p>The power management controller in the PowerBook G4 computeris a custom IC called the PMU99. It supports several power-savingmodes of operation, including idle, doze, and sleep. For more information,see  <a sector="mod" href="../1Introduction/iSystem_Software.html" target="_top">"Power Saving Modes"</a>.</p><br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b> Inthe device tree, the power controller is named "via-pmu".</td></tr></table><br><br><a name = "TPXREF123"></a><h3><font face="Lucida Grande,Helvetica,Arial">Infrared Link Interface</font></h3><p>The controller for the infrared link is part of the KeyLargoIC. The IR transceiver is connected to a serial port on the KeyLargoIC. For information about the operation of the infrared link, see  <a sector="mod" href="../3Input-Output/iInfrared_Co_ation_Link_.html" target="_top">"Infrared Communication Link"</a>.</p><br><a name = "TPXREF124"></a><h3><font face="Lucida Grande,Helvetica,Arial">Wireless LAN Interface</font></h3><p>The interface between the AirPort Card wireless LAN moduleand the KeyLargo IC is a subset of the PCMCIA interface. </p><p>The AirPort Card contains a media access controller (MAC),a digital signal processor (DSP), and a radio-frequency (RF) section.The card has a connector for the cable to the antennas. </p><p>Two antennas are built into the computer's case. To improvereception, a diversity module between the antennas and the connectormeasures the signal strength from both antennas and sends the strongerone to the card. </p><p>The design of the AirPort Card is based on the IEEE 802.11standard. The card transmits and receives data at up to 11 Mbpsand is compatible with older systems that operate at 1 or 2 Mbps.For information about its operation, see  <a sector="mod" href="../3Input-Output/iAirPort_Card.html" target="_top">"AirPort Card"</a>. </p><br><a name = "TPXREF125"></a><h3><font face="Lucida Grande,Helvetica,Arial">CardBus Controller IC</font></h3><p>The interface to the PC Card slot is connected to the PCIbus. The CardBus controller IC is a PCI1410A device made by TexasInstruments. It supports both 16-bit PC Cards and 32-bit CardBusCards. </p><br><a href="Memory_Cont_Bus_Bridge_.html" target="content"><img src="../images/previous.gif" border="0"></a><a href="../3Input-Output/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2001 Apple Computer, Inc. (Last Updated December 17, 2001)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter-front" --><!-- end of footer --></body></html>