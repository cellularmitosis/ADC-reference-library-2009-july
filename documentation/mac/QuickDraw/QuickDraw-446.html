<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PrError (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING446></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-445.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-447.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-406.html"><B>Chapter 9 - Printing Manager</B></A> / <A HREF="QuickDraw-409.html"><B>Printing Manager Reference</B></A><BR><DL><DD><A HREF="QuickDraw-423.html"><B>Printing Manager Routines</B></A> / <A HREF="QuickDraw-445.html"><B>Handling Printing Errors</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING446-0></A>
<H3><A NAME=MARKER-9-548></A>PrError</H3>
 <A NAME=MARKER-11-550></A><A NAME=MARKER-11-550></A><A NAME=MARKER-2-551></A>You can use the <CODE>PrError</CODE> function to get the result code returned by the last Printing Manager routine. <P>
<PRE>
FUNCTION PrError: Integer;
</PRE>
<A NAME=HEADING446-3></A>
<H5>DESCRIPTION</H5>
 The <CODE>PrError</CODE> function returns the error reported by the last Printing Manager routine. If an error that does not belong to the Printing Manager occurs during the printing process, the Printing Manager puts it into low memory, where it can be retrieved with a call to <CODE>PrError</CODE>. The Printing Manager then terminates the printing loop if necessary. If you encounter an error in the middle of a printing loop, do not end printing abruptly; call the close routines for any open routines you have already made and let the Printing Manager terminate properly. <P>
 Do not display any alert or dialog boxes to report an error until the end of the printing loop. Once at the end, check for the error again; if there is no error, assume that printing completed normally. If the error is still present, then you can alert the user.<P>
 The most common error encountered is <CODE>PAPNoPrinter</CODE>, which is usually generated if no printer is selected. Since this error is so common, it is a good idea to create and display an alert box asking the user to select a printer from the Chooser when this error is encountered. <P>
<A NAME=HEADING446-7></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for the <CODE>PrError</CODE> function are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_PrGlue<TD>$BA000000</TABLE>
<P>
<A NAME=HEADING446-9></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>iPrAbort<TD>128<TD>Application or user requested cancel<TR>
<TD>opNotImpl<TD>2<TD>Requested <CODE>PrGeneral</CODE> opcode not implemented in the current printer driver<TR>
<TD>noSuchRsl<TD>1<TD>Resolution requested with the <CODE>PrGeneral</CODE> procedure is not supported<TR>
<TD>noErr<TD>0<TD>No error<TR>
<TD>iPrSavPFil<TD>-1<TD>Problem saving print file<TR>
<TD>controlErr<TD>-17<TD>Unimplemented control instructions; the Device Manager returns this result code<TR>
<TD>iIOAbort<TD>-27<TD>I/O error<TR>
<TD>iMemFullErr<TD>-108<TD>There is not enough room in the heap zone<TR>
<TD>resNotFound<TD>-192<TD>The current printer driver does not support <CODE>PrGeneral</CODE> (described on <A HREF=QuickDraw-444.html#MARKER-9-523>page 9-69</A>); you should clear this error with a call to <CODE>PrSetError</CODE> (described in the next section) with a parameter value of 0; otherwise, <CODE>PrError</CODE> might still contain this error the next time you check it</TABLE>
</H5>
 The following result codes are specific to the LaserWriter 8 printer driver:<A NAME=MARKER-2-552></A>
<TABLE BORDER="0" CELLPADDING=3><TD>PAPNoCCBs<TD>-4096<TD>There are no free connect control blocks (CCBs) available<TR>
<TD>PAPBadRefnum<TD>-4097<TD>Bad connection reference number<TR>
<TD>PAPActive<TD>-4098<TD>The request is already active<TR>
<TD>PAPTooBig<TD>-4099<TD>The write request is too big<TR>
<TD>PAPConnClosed<TD>-4100<TD>The connection is closed<TR>
<TD>PAPNoPrinter<TD>-4101<TD>The printer is not found, is closed, or is not selected<TR>
<TD>&nbsp;<TD>-8131<TD>Printer not responding<TR>
<TD>manualFeedTOErr<TD>-8132<TD>A timeout occurred (that is, no communication has occurred with the printer for two minutes); this is usually caused by an extremely long imaging time or a dropped connection<TR>
<TD>generalPSErr<TD>-8133<TD>A PostScript error occurred during transmission of data to the printer; this is most often caused by a bug in the application-supplied PostScript code<TR>
<TD>zoomRangeErr<TD>-8160<TD>The print image enlarged by the user with the Page Setup dialog box overflows the available page resolution<TR>
<TD>errBadFontKeyType<TD>-8976<TD>Font found in printer is not Type 1, TrueType, or bitmapped font<TR>
<TD>errPSStateUnderflow<TD>-8977<TD>PostScript stack underflow while restoring graphics state<TR>
<TD>errNoPattern<TD>-8978<TD>The pixel pattern could not be found and could not be built<TR>
<TD>errBadConverterID<TD>-8979<TD>The <CODE>'PDEF'</CODE> converter doesn't exist<TR>
<TD>errNoPagesSpooled<TD>-8980<TD>Application called <CODE>PrOpenDoc</CODE> and <CODE>PrCloseDoc</CODE> without calling <CODE>PrOpenPage</CODE> and <CODE>PrClosePage</CODE> in between<TR>
<TD>errNullColorInfo<TD>-8981<TD>The <CODE>getColor</CODE> function called with null <CODE>GetColorInfo</CODE> handle<TR>
<TD>errPSFileNameNull<TD>-8982<TD>The filename pointer for the spool file is null<TR>
<TD>errSpoolFolderIsAFile<TD>-8983<TD>The spool folder is a file instead of a folder<TR>
<TD>errBadConverterIndex<TD>-8984<TD>When saving a spool file <BR>to disk, the value <CODE>fileTypeIndex</CODE> had no matching entry in the driver<TR>
<TD>errDidNotDownloadFont<TD>-8985<TD>A PostScript outline could not be found for a PostScript font, and there is no associated <CODE>'sfnt'</CODE> resource<TR>
<TD>errBitmapFontMissing<TD>-8986<TD>Unable to build bitmap for font<TR>
<TD>errPSFileName<TD>-8987<TD>PostScript file isn't named<TR>
<TD>errCouldNotMakeNumberedFilename<TD>-8989<TD>Could not make a unique filename for the spool file<TR>
<TD>errBadSpoolFileVersion<TD>-8990<TD>Bad version number in header of spool file<TR>
<TD>errNoProcSetRes<TD>-8991<TD>The resource describing needed procedure sets is unavailable for the PostScript prolog<TR>
<TD>errInLineTimeout<TD>-8993<TD>The printer is not responding<TR>
<TD>errUnknownPSLevel<TD>-8994<TD>The PostScript level has an unknown value<TR>
<TD>errFontNotFound<TD>-8995<TD>Font query reply didn't match any fonts in list of PostScript names<TR>
<TD>errSizeListBad<TD>-8996<TD>The size list contained an entry that could not be reconciled with the typeface list<TR>
<TD>errFaceListBad<TD>-8997<TD>Entry could not be found in typeface list<TR>
<TD>errNotAKey<TD>-8998<TD>Key for desired font number and style could not be found in font table</TABLE>
<P>
<A NAME=HEADING446-11></A>
<H5>SEE ALSO</H5>
 See <A HREF=QuickDraw-408.html#MARKER-9-224>"Handling Printing Errors" on page 9-38</A> for more information on using <CODE>PrError</CODE>. See the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for information about displaying alert and dialog boxes.<A NAME=MARKER-2-553></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-445.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-447.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
