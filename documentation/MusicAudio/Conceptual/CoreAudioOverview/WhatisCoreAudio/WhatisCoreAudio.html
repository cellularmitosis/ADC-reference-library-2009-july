<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Core Audio Overview: What is Core Audio?</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="What is Core Audio?"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40003577-CH3" title="What is Core Audio?"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000428" target="_top">Audio</a> &gt; <a href="../../../CoreAudio-date.html#//apple_ref/doc/uid/TP30000440-TP30000428-TP30000500" target="_top">Core Audio</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40003577-CH1-SW1">Core Audio Overview</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../WhatsinCoreAudio/WhatsinCoreAudio.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40003577-CH3-SW1" title="What is Core Audio?"></a><h1>What is Core Audio?</h1><p>Core Audio is designed to handle all audio needs in Mac OS X. You can use Core Audio to generate, record, mix, edit, process, and play audio. Using Core Audio, you can also generate, record, process, and play MIDI data, interfacing with both hardware and software MIDI instruments.  </p><p>Core Audio combines C programming interfaces with tight system integration, resulting in a flexible programming environment that still maintains low latency through the signal chain. Some of Core Audio's benefits include:  </p><ul class="ul"><li class="li"><p>Plug-in interfaces for audio synthesis and audio digital signal processing (DSP) </p></li><li class="li"><p>Built in support for reading and writing a wide variety of audio file and data formats</p></li><li class="li"><p>Plug-in interfaces for handling custom file and data formats</p></li><li class="li"><p>A modular approach for constructing signal chains</p></li><li class="li"><p>Scalable multichannel input and output </p></li><li class="li"><p>Easy synchronization of audio and MIDI data during recording or playback </p></li><li class="li"><p>A standardized interface to all built-in and external hardware devices, regardless of connection type (USB, Firewire, PCI, and so on) </p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_43" title="Note"></a><p><strong>Note:</strong>&nbsp;Although Core Audio uses C interfaces, you can call Core Audio functions from Cocoa applications and Objective-C code. </p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="WhatisCoreAudio.html#//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_17">Core Audio in Mac OS X</a>
				
			<br/>
			
        
			
			
				<a href="WhatisCoreAudio.html#//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_21">A Core Audio Recording Studio</a>
				
			<br/>
			
        
			
			
				<a href="WhatisCoreAudio.html#//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_22">Development Using the Core Audio SDK</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_17" title="Core Audio in Mac OS X"></a><h2>Core Audio in Mac OS X</h2><p>Core Audio is tightly integrated into Mac OS X. The majority of Core Audio services are layered on top of the Hardware Abstraction Layer (HAL), and Core MIDI as shown in <span class="content_text">Figure 1-1</span>.  Audio signals  pass to and from hardware through the HAL, while Core MIDI provides a similar interface for MIDI data and MIDI devices.   </p><br/><div><a name="//apple_ref/doc/uid/TP40003577-CH3-SW7" title="Figure 1-1Core Audio architecture"></a><p><strong>Figure 1-1&nbsp;&nbsp;</strong>Core Audio architecture</p><img src = "../Art/core_audio_architecture.jpg" alt = "" ></div><br/><p>The sections that follow describe some of the essential features of Core Audio: </p><a name="//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_18" title="A Little About Digital Audio and Linear PCM"></a><h3>A Little About Digital Audio and Linear PCM</h3><p>As you might expect, Core Audio handles audio data in a digital format. Most Core Audio constructs manipulate audio data in linear pulse-code-modulated (<strong>linear PCM</strong>) format, which is the most common uncompressed data format for digital audio. Pulse code modulation relies on measuring an audio signal's magnitude at regular intervals (the <strong>sampling rate</strong>) and converting each sample into a numerical value. This value varies linearly with the signal amplitude. For example, standard CD audio has a sampling rate of 44.1 kHz and uses 16 bits to represent the signal amplitude (65,536 possible values). Core Audio’s data structures can describe linear PCM at any sample rate and bit depth, supporting both integer and floating-point sample values. </p><p>Core Audio generally expects audio data to be in native-endian 32-bit floating-point linear PCM format. However, you can create audio converters to translate audio data between different linear PCM variants. You also use these converters to translate between linear PCM and compressed audio formats such as MP3 and Apple Lossless. Core Audio supplies codecs to translate most common digital audio formats (though it does not supply an encoder for converting to MP3). </p><p>Core Audio also supports most common file formats for storing audio data.  </p><a name="//apple_ref/doc/uid/TP40003577-CH3-SW8" title="Audio Units"></a><h3>Audio Units</h3><p><strong>Audio units</strong> are plug-ins that handle audio data. </p><p>Within a Mac OS X application, almost all processing and manipulation of audio data can be done through audio units (though this is not a requirement). Some units are strictly available to simplify common tasks for developers (such as splitting a signal or interfacing with hardware), while others appear onscreen as signal processors that users can insert into the signal path. For example, software-based effect processors often mimic their real-world counterparts (such as distortion boxes) onscreen. Some audio units generate signals themselves, whether programmatically or in response to MIDI input. Some examples of audio unit implementations include the following:</p><ul class="spaceabove"><li class="li"><p>A signal processor (for example, high-pass filter, flanger, compressor, or distortion box).  An effect unit performs audio digital signal processing (DSP) and is analogous to an effects box or outboard signal processor.</p></li><li class="li"><p>A musical instrument or software synthesizer. These instrument units (sometimes called music device audio units) typically generate musical tones in response to MIDI input).  An instrument unit can interpret MIDI data from a file or an external MIDI device.  </p></li><li class="li"><p>A signal source. A generator unit lets you implement an audio unit as a signal generator. Unlike an instrument unit, a generator unit is not activated by MIDI input but rather through code. For example, a generator unit might calculate and generate sine waves, or it might source the data from a file or over a network.  </p></li><li class="li"><p>An interface to hardware input or output. For more information, see <span class="content_text"><a href="WhatisCoreAudio.html#//apple_ref/doc/uid/TP40003577-CH3-SW6">“The Hardware Abstraction Layer”</a></span> and <span class="content_text"><a href="../ARoadmaptoCommonTasks/ARoadmaptoCommonTasks.html#//apple_ref/doc/uid/TP40003577-CH6-SW12">“Interfacing with Hardware Devices.”</a></span>  </p></li><li class="li"><p>A signal converter, which uses an audio converter to convert between various linear PCM variants. See <span class="content_text"><a href="../WhatsinCoreAudio/WhatsinCoreAudio.html#//apple_ref/doc/uid/TP40003577-CH4-SW1">“Audio Converters and Codecs”</a></span> for more details.</p></li><li class="li"><p>A mixer or splitter. For example, a mixer unit can mix down tracks or apply stereo or 3D panning effects. A splitter unit might transform a mono signal into simulated stereo by splitting the signal into two channels and applying comb filtering.  </p></li><li class="li"><p>An offline effect unit. Offline effects are either too processor-intensive or simply impossible to apply in real time. For example, a effect that reverses the samples in a file (resulting in the music being played backward) must be applied offline.  </p></li></ul><p>Because audio units are modular, you can mix and match them in whatever permutations you or the end user requires.  <span class="content_text">Figure 1-2</span> shows a simple chain of audio units. This chain uses an instrument unit to generate an audio signal, which is then passed through effect units to apply bandpass filtering and distortion. </p><br/><div><a name="//apple_ref/doc/uid/TP40003577-CH3-SW4" title="Figure 1-2A simple audio unit chain"></a><p><strong>Figure 1-2&nbsp;&nbsp;</strong>A simple audio unit chain</p><img src = "../Art/simple_au_chain.jpg" alt = "" ></div><br/><p>If you develop audio DSP code that you want to make available to a wide variety of applications, you should package them as audio units. </p><p>If you are an audio application developer, supporting audio units lets you leverage the library of existing audio units (both third-party and Apple-supplied) to extend the capabilities of your application.  </p><p>Apple ships a number of audio units to accomplish common tasks, such as filtering, delay, reverberation, and mixing, as well as units to represent input and output devices (for example, units that allow audio data to be transmitted and received over a network). See <span class="content_text"><a href="../SystemAudioUnits/SystemAudioUnits.html#//apple_ref/doc/uid/TP40003577-CH8-SW2">“System-Supplied Audio Units”</a></span> for a listing of the audio units that ship with Mac OS X v10.4.</p><p>For a simple way to experiment with audio units, see the AU Lab application, available in the Xcode Tools install at <code>/Developer/Applications/Audio</code>. AU Lab allows you to mix and match various audio units. In this way, you can build a signal chain from an audio source through an output device.  </p><a name="//apple_ref/doc/uid/TP40003577-CH3-SW6" title="The Hardware Abstraction Layer"></a><h3>The Hardware Abstraction Layer</h3><p>Core Audio uses a hardware abstraction layer (HAL) to provide a consistent and predictable interface for applications to interact with hardware. The HAL can also provide timing information to your application to simplify synchronization or to adjust for latency.  </p><p>In most cases, you do not even have to interact directly with the HAL. Apple supplies a special audio unit, called the AUHAL, which allows you to pass audio data directly from another audio unit to a hardware device. Similarly, input coming from a hardware device is also routed through the AUHAL to be made available to subsequent audio units, as shown in <span class="content_text">Figure 1-3</span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40003577-CH3-SW5" title="Figure 1-3Hardware input through the HAL and the AUHAL unit"></a><p><strong>Figure 1-3&nbsp;&nbsp;</strong>Hardware input through the HAL and the AUHAL unit</p><img src = "../Art/hardware_input_hal.jpg" alt = "" ></div><br/><p>The AUHAL also takes care of any data conversion or channel mapping required to translate audio data between audio units and hardware. </p><a name="//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_19" title="MIDI Support"></a><h3>MIDI Support</h3><p>Core MIDI is the part of Core Audio that supports the MIDI protocol. Core MIDI allows applications to communicate with MIDI devices such as keyboards and guitars. Input from MIDI devices can be either stored as MIDI data or translated through an instrument unit into an audio signal. Applications can also output information to MIDI devices. Core MIDI uses abstractions to represent MIDI devices and mimic standard MIDI cable connections (MIDI In, MIDI Out, and MIDI Thru) while providing low-latency I/O. Core Audio also supports a music player programming interface that you can use to play MIDI data. </p><p>For more details about the capabilities of the MIDI protocol, see the MIDI Manufacturers Association site,  <span class="content_text"><a href="http://www.midi.org" target="_blank">www.midi.org</a></span>. </p><a name="//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_20" title="The Audio MIDI Setup Application"></a><h3>The Audio MIDI Setup Application</h3><p>When using audio in Mac OS X, both users and developers can use the Audio MIDI Setup application to configure audio and MIDI settings. You can use Audio MIDI Setup to:</p><ul class="spaceabove"><li class="li"><p>Specify the default audio input and output devices.</p></li><li class="li"><p>Configure properties  for input and output devices, such as the sampling rate and bit depth.</p></li><li class="li"><p>Map audio channels to available speakers (for stereo, 5.1 surround, and so on).</p></li><li class="li"><p>Create aggregate devices. (For information about aggregate devices, see <span class="content_text"><a href="../ARoadmaptoCommonTasks/ARoadmaptoCommonTasks.html#//apple_ref/doc/uid/TP40003577-CH6-SW14">“Using Aggregate Devices.”</a></span>)</p></li><li class="li"><p>Configure MIDI networks and MIDI devices. </p></li></ul><p>You can find the Audio MIDI Setup application in the <code>/Applications/Utilities</code> folder in Mac OS X v10.2 and later. </p><a name="//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_21" title="A Core Audio Recording Studio"></a><h2>A Core Audio Recording Studio</h2><p>Although Core Audio encompasses much more than recording and playing back audio, it can be useful to compare its capabilities to elements in a recording studio. A simple hardware-based recording studio may have a few instruments with some effect units feeding into a mixing deck, along with audio from a MIDI keyboard, as shown in <span class="content_text">Figure 1-4</span>. The mixer can output the signal to studio monitors as well as a recording device, such as a tape deck (or perhaps a hard drive). </p><br/><div><a name="//apple_ref/doc/uid/TP40003577-CH3-SW2" title="Figure 1-4A simple recording studio"></a><p><strong>Figure 1-4&nbsp;&nbsp;</strong>A simple recording studio</p><img src = "../Art/simple_recording_studio.jpg" alt = "" ></div><br/><p>Much of the hardware used in a studio can be replaced by software-based equivalents. Specialized music studio applications can record, synthesize, edit, mix, process, and play back audio. They can also record, edit, process, and play back MIDI data, interfacing with both hardware and software MIDI instruments. In Mac OS X, applications rely on Core Audio services to handle all of these tasks, as shown in <span class="content_text">Figure 1-5</span>.  </p><br/><div><a name="//apple_ref/doc/uid/TP40003577-CH3-SW3" title="Figure 1-5A Core Audio &quot;recording studio&quot;"></a><p><strong>Figure 1-5&nbsp;&nbsp;</strong>A Core Audio "recording studio"</p><img src = "../Art/core_audio_recording_studio.jpg" alt = "" ></div><br/><p>As you can see, audio units make up much of the signal chain.  Other Core Audio interfaces provide application-level support, allowing applications to obtain audio or MIDI data in various formats and output it to files or output devices.  <span class="content_text"><a href="../WhatsinCoreAudio/WhatsinCoreAudio.html#//apple_ref/doc/uid/TP40003577-CH4-SW4">“Core Audio Programming Interfaces”</a></span> discusses the constituent interfaces of Core Audio in more detail. </p><p>However, Core Audio lets you do much more than mimic a recording studio on a computer. You can use Core Audio for everything from playing simple system sounds to creating compressed audio files to providing an immersive sonic experience for game players. </p><a name="//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_22" title="Development Using the Core Audio SDK"></a><h2>Development Using the Core Audio SDK</h2><p>To assist audio developers, Apple supplies a software development kit (SDK) for Core Audio. The SDK contains many code samples covering both audio and MIDI services as well as diagnostic tools and test applications. Examples include:</p><ul class="ul"><li class="li"><p>A test application to interact with the global audio state of the system, including attached hardware devices. (<code>HALLab</code>)</p></li><li class="li"><p>Host applications that load and manipulate audio units. (<code>AudioUnitHosting</code>.) Note that for the actual testing of audio units, you should use the AU Lab application mentioned in <span class="content_text"><a href="WhatisCoreAudio.html#//apple_ref/doc/uid/TP40003577-CH3-SW8">“Audio Units.”</a></span></p></li><li class="li"><p>Sample code to load and play audio files (<code>PlayFile</code>) and MIDI files (<code>PlaySequence</code>)  </p></li></ul><p>This document points to additional examples in the Core Audio SDK that illustrate how to accomplish common tasks. </p><p>The SDK also contains a C++ framework for building audio units. This framework simplifies the amount of work you need to do by insulating you from the details of the Component Manager plug-in interface. The SDK also contains templates for common audio unit types; for the most part, you only need override those methods that apply to your custom audio unit. Some sample audio unit projects show these templates and frameworks in use. For more details on using the framework and templates, see <em>Audio Unit Programming Guide</em>.  </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40003577-CH3-DontLinkElementID_44" title="Note"></a><p><strong>Note:</strong>&nbsp;Apple supplies the C++ framework as sample code to assist audio unit development. Feel free to modify the framework based on your needs.  </p></div><p>The Core Audio SDK assumes you will use Xcode as your development environment. </p><p>You can download the latest SDK from <span class="content_text"><a href="http://developer.apple.com/sdk/" target="_top">http://developer.apple.com/sdk/</a></span>. After installation, the SDK files are located in <code>/Developer/Examples/CoreAudio</code>. </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../WhatsinCoreAudio/WhatsinCoreAudio.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-01-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MusicAudio/Conceptual/CoreAudioOverview/WhatisCoreAudio/WhatisCoreAudio.html%3Fid%3DTP40003577-1.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MusicAudio/Conceptual/CoreAudioOverview/WhatisCoreAudio/WhatisCoreAudio.html%3Fid%3DTP40003577-1.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MusicAudio/Conceptual/CoreAudioOverview/WhatisCoreAudio/WhatisCoreAudio.html%3Fid%3DTP40003577-1.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>