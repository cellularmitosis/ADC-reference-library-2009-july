<html>	<head>		<title>WOSessionStore (Java) </title>	</head>	<body bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../WebObjectsTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="WOSessionStore"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/WOSessionStore">WOSessionStore</a></font></h1>		<br>		<blockquote>			<dt><b>Inherits from: </b>			<dd>Object</blockquote>		<blockquote>			<dt><b>Package: </b>			<dd>com.webobjects.appserver</blockquote>		<hr size="4">		<br>		<h2>Class Description</h2>		<hr alt="">		<p>WOSessionStore, an abstract superclass, offers an object abstraction for storing client state per session. The application object (WOApplication) uses an instance of a concrete WOSessionStore subclass to implement a strategy for storing and retrieving session state. You typically set the WOSessionStore during application initialization through WOApplication's setSessionStore method.</p>		<p>An application first creates a session (WOSession) when it receives a request without a session ID. When this first request has been handled, the application stores the WOSession object under a randomly generated session ID by invoking its own <a href="#//apple_ref/java/instm/WOSessionStore/saveSessionForContext">saveSessionForContext</a> method. This method by default forwards the message to the chosen WOSessionStore and that WOSessionStore takes care of the details of saving session state. When the next request comes in for that session, the application restores the session by sending itself <a href="#//apple_ref/java/instm/WOSessionStore/restoreSessionWithID">restoreSessionWithID</a>, which by default is forwarded to the application's WOSessionStore. The WOSessionStore then asks the WOContext of the transaction for the session ID of the session. Based on the implementation of the WOSessionStore, the session object is located and returned.</p>		<p>There is one subclass of WOSessionStore implemented for the developer's convenience. A <em>server</em> WOSessionStore (the default) stores session state in the server, in application memory. The <a href="#//apple_ref/java/clm/WOSessionStore/serverSessionStore">serverSessionStore</a> method returns this WOSessionStore.</p>		<p>See the chapter &quot;Managing State&quot; in the <em>WebObjects Developers Guide</em> for the purposes, mechanisms, and limitations of session store in the server, page, and cookies. </p>		<p>You can create a custom session store by making a subclass of WOSessionStore. The subclass should properly implement the <a href="#//apple_ref/java/instm/WOSessionStore/saveSessionForContext">saveSessionForContext</a> and <a href="#//apple_ref/java/instm/WOSessionStore/restoreSessionWithID">restoreSessionWithID</a> methods (using the session ID as the key for storage) and should have a public method that the application object can use to obtain an instance. Some interesting session stores could be:</p>		<ul>			<li>A database session store that stores session data in a database as blobs, with the session ID as the primary key. This kind of WOSessionStore can be shared by many instances of the same WebObjects application, thus distributing the load (requests) among the instances. 			<li>An adaptive session store that stores session state either in cookies or on the server, depending on what the client supports. 		</ul>		<p>If you create your own WOSessionStore class that generates persistent objects, you should implement an algorithm that cleans up session state after the session is inactive for a long time. The server WOSessionStore provided by WebObjects performs this clean-up properly, but the API is not yet public.</p>		<br>		<br>		<br>		<h2>Method Types</h2>		<hr alt="">		<blockquote>			<dt>Obtaining a session store 			<dd><a href="#//apple_ref/java/clm/WOSessionStore/serverSessionStore">serverSessionStore</a> 			<dt>Checking a session in and out 			<dd><a href="#//apple_ref/java/instm/WOSessionStore/checkInSessionForContext">checkInSessionForContext</a> 			<dd><a href="#//apple_ref/java/instm/WOSessionStore/checkOutSessionWithID">checkOutSessionWithID</a> 			<dt>Session utilities 			<dd><a href="#//apple_ref/java/instm/WOSessionStore/allSessionIDs">allSessionIDs</a> 			<dd><a href="#//apple_ref/java/instm/WOSessionStore/allSessionIDsCheckedOut">allSessionIDsCheckedOut</a> 			<dd><a href="#//apple_ref/java/instm/WOSessionStore/isSessionIDCheckedOut">isSessionIDCheckedOut</a> 			<dd><a href="#//apple_ref/java/instm/WOSessionStore/removeSessionWithID">removeSessionWithID</a> 			<dt>Saving and restoring a context 			<dd><a href="#//apple_ref/java/instm/WOSessionStore/restoreSessionWithID">restoreSessionWithID</a> 			<dd><a href="#//apple_ref/java/instm/WOSessionStore/saveSessionForContext">saveSessionForContext</a></blockquote>		<br>		<br>		<h2>Constructors</h2>		<hr alt="">		<br>		<h3><a name="//apple_ref/java/instm/WOSessionStore/WOSessionStore">WOSessionStore</a></h3>		<p><code>public <b>WOSessionStore</b>()</code></p>		Description forthcoming. 		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Static Methods</h2>		<hr alt="">		<a name="serverSessionStore"></a><br>		<h3><a name="//apple_ref/java/clm/WOSessionStore/serverSessionStore">serverSessionStore</a></h3>		<p><code>public static WOSessionStore <b>serverSessionStore</b>()</code></p>		Returns a WOSessionStore object that stores session state in application memory. Since this is the default storage strategy, you do not need to explicitly set the session store during application initialization if this is the strategy you want. 		<p>State storage in the server is the most secure and is the easiest to implement. You can also easily manage the amount of storage consumed by setting session timeouts, limiting the size of the page-instance cache, and page uniquing. (See &quot;Managing State&quot; in the <em>WebObjects Developers Guide</em> for details on these techniques.)</p>		<p>You may use the coding constructor for the session (WOSession(NSCoder)) to restore session state from the archived data. </p>		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="BCFEFFGJ"></a><br>		<h3><b><a name="//apple_ref/java/instm/WOSessionStore/allSessionIDs">allSessionIDs</a></b></h3>		<p><code>public abstract NSArray <b>allSessionIDs</b>()</code></p>		This method should be implemented by WOSessionStore subclasses to return an NSArray containing the IDs of all sessions stored within the session store. WOSessionStore's implementation simply throws a RuntimeException. 		<hr width="25%" align="LEFT">		<a name="BCFHIHGF"></a><br>		<h3><b><a name="//apple_ref/java/instm/WOSessionStore/allSessionIDsCheckedOut">allSessionIDsCheckedOut</a></b></h3>		<p><code>public NSArray <b>allSessionIDsCheckedOut</b>()</code></p>		Returns an NSArray containing the session IDs for all sessions currently checked out of the session store. 		<hr width="25%" align="LEFT">		<a name="checkinSessionForContext_"></a><br>		<h3><a name="//apple_ref/java/instm/WOSessionStore/checkInSessionForContext">checkInSessionForContext</a></h3>		<p><code>public void <b>checkInSessionForContext</b>(WOContext <em>aContext</em>)</code></p>		This method calls <a href="#//apple_ref/java/instm/WOSessionStore/saveSessionForContext">saveSessionForContext</a> (implemented in the concrete subclass) to save the session referred to by <em>aContext</em> using whatever storage technique is supported by the receiver. This method also &quot;checks in&quot; the session so that pending (and future) requests for the same session may procede. This method is called by WOApplication to save the session even if the session was not previously checked out via <a href="#//apple_ref/java/instm/WOSessionStore/checkOutSessionWithID">checkOutSessionWithID</a> (that is, the session is a new session which was just created and, therefore, not restored). 		<hr width="25%" align="LEFT">		<a name="checkoutSessionWithID_request_"></a><br>		<h3><a name="//apple_ref/java/instm/WOSessionStore/checkOutSessionWithID">checkOutSessionWithID</a></h3>		<p><code>public WOSession <b>checkOutSessionWithID</b>( String <em>aSessionID</em>, WORequest <em>aRequest</em>)</code></p>		This method returns a session for <em>aSessionID</em> if one is stored. This method calls <a href="#//apple_ref/java/instm/WOSessionStore/restoreSessionWithID">restoreSessionWithID</a> (implemented in the concrete subclass) to do the actual session restoration using whatever storage technique is supported by the receiver. If the session is located and restored, this method also &quot;checks out&quot; <em>aSessionID</em> so that simultaneous access to the same session is precluded. If the session is not restored, the <em>aSessionID</em> is not checked out. 		<hr width="25%" align="LEFT">		<a name="BCFIHJDJ"></a><br>		<h3><a name="//apple_ref/java/instm/WOSessionStore/isSessionIDCheckedOut">isSessionIDCheckedOut</a></h3>		<p><code>public boolean <b>isSessionIDCheckedOut</b>(String <em>sessionID</em>)</code></p>		Returns <code>true</code> if the specified session ID is checked out of the session store. 		<hr width="25%" align="LEFT">		<a name="BCFBBICJ"></a><br>		<h3><a name="//apple_ref/java/instm/WOSessionStore/removeSessionWithID">removeSessionWithID</a></h3>		<p><code>public abstract WOSession <b>removeSessionWithID</b>(String <em>sessionID</em>)</code></p>		This method should be implemented by WOSessionStore subclasses to remove and return the specified session. WOSessionStore's implementation simply throws a RuntimeException. 		<hr width="25%" align="LEFT">		<a name="restoreSessionWithID_request_"></a><br>		<h3><a name="//apple_ref/java/instm/WOSessionStore/restoreSessionWithID">restoreSessionWithID</a></h3>		<p><code>public abstract WOSession <b>restoreSessionWithID</b>( String <em>aSessionID</em>, WORequest <em>aRequest</em>)</code></p>		Implemented by a private concrete subclass to restore the current session object from a particular type of storage. 		<p>The default implementation of this method does nothing</p>		<hr width="25%" align="LEFT">		<a name="saveSession_"></a><br>		<h3><a name="//apple_ref/java/instm/WOSessionStore/saveSessionForContext">saveSessionForContext</a></h3>		<p><code>public abstract void <b>saveSessionForContext</b>(WOContext <em>aContext</em>)</code></p>		Implemented by a private concrete subclass to save the current session object using a particular strategy for state storage. The default implementation of this method does nothing. 		<p>You may use the NSCoding interface method <b>encodeWithCoder:</b> to save session state to archived data.</p>		<hr width="25%" align="LEFT">		<br>		<h3><a name="//apple_ref/java/instm/WOSessionStore/toString">toString</a></h3>		<p><code>public String <b>toString</b>()</code></p>		Returns a String containing a string representation of the receiver. 		<hr width="25%" align="LEFT">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 15, 2001)</p>		<br>		<a href="../WebObjectsTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>