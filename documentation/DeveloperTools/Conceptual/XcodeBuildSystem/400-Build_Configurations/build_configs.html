<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Xcode Build System Guide: Build Configurations</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Build Configurations"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002692" title="Build Configurations"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../Xcode-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000557" target="_top">Xcode</a> &gt; <a href="../000-Introduction/Introduction.html#//apple_ref/doc/uid/TP40006904-CH1-SW1">Xcode Build System Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../300-Build_Settings/bs_build_settings.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../500-Linking/bs_linking.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40002692-SW7" title="Build Configurations"></a><h1><a name="//apple_ref/doc/uid/TP40002692-CJAFDIGF" title="Build Configurations"></a>Build Configurations</h1><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_65"></a><p>Build configurations are named collections of build settings that allow you to build one or more products in a project in different ways for different situations. For example, you can define separate debug and release build configurations. You can then use these build configurations to build debug and release versions of your product, without creating separate targets. Build configurations are a flexible tool for quickly “tweaking” your product or for saving different groups of build settings to apply to a target depending on the current circumstances.</p><p>This chapter provides a general explanation of build configurations, describes the predefined build configurations you get when you create a target or project in Xcode, and explains how to modify and define your own build configurations.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="build_configs.html#//apple_ref/doc/uid/TP40002692-SW1">Build Configuration Overview</a>
				
			<br/>
			
        
			
			
				<a href="build_configs.html#//apple_ref/doc/uid/TP40002692-BBCFBCJA">Predefined Build Configurations</a>
				
			<br/>
			
        
			
			
				<a href="build_configs.html#//apple_ref/doc/uid/TP40002692-CJBGEAAG">Managing Build Configurations</a>
				
			<br/>
			
        
			
			
				<a href="build_configs.html#//apple_ref/doc/uid/TP40002692-SW8">Build Configuration Files</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40002692-SW1" title="Build Configuration Overview"></a><h2>Build Configuration Overview</h2><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_66"></a><p>Build configurations allow you to build two or more “flavors” of a product without having to create separate targets for each product flavor. When you build a target, Xcode uses the build settings defined by that target for the current build configuration.</p><p>A common use of build configurations is to build a given target differently to create debug and release versions of a product. There are a handful of build settings—for example, optimization settings for the compiler—whose values are different, depending upon whether you are building a product for debugging purposes or to release to customers. In each situation, the target you build is identical in every other way—files, build phases, and build rules—because the product you want to generate for each is essentially the same. The only difference is in how the source files of the target are processed to build that product.</p><p>If you were to create two targets—one for debugging and one for the final build—you would have to remember to keep both targets in sync. When you added a file to one target, you would have to remember to add it to the other, and so forth. With a build configuration, you can build using a different group of build settings without changing the target’s build phases or build rules. It is much simpler to create build configurations containing the build settings whose values you want to change, and then build based on the appropriate configuration.</p><p>The project defines the list of build configurations; all targets in a project share the same namespace for build configurations. The actual definition of any given build configuration—the particular build setting definitions in that configuration—is specific to each target. You can also define project-level configurations. As described in <span class="content_text"><a href="../300-Build_Settings/bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW5">“Build Setting Evaluation,”</a></span> build settings defined at the target level take precedence over any values assigned to those build settings at the project level. This gives you a great deal of flexibility. For example, you can use project-level build configurations to define build settings that apply to all or most targets in the project. You can then modify or override these build settings for individual targets at the target layer.</p><p>The <strong>active build configuration</strong> is the build configuration Xcode uses when building the active target and any targets it depends upon. When you initiate a build, Xcode builds the active target and any targets it depends upon. For each target, Xcode applies the build settings defined by that target for the active build configuration, as well as any build settings defined for the active build configuration at the project level.  See <span class="content_text"><!--a target="_top" -->"Setting the Active Target and Build Configuration"<!--/a--></span> in <em><a href="../../XcodeProjectManagement/index.html#//apple_ref/doc/uid/TP40006917" target="_top">Xcode Project Management Guide</a></em> for a description of how to change the active build configuration.</p><p>For each target, Xcode evaluates the build settings defined by that target for the active build configuration, as well as any build settings defined for the active build configuration at the project level. As described in <span class="content_text"><a href="build_configs.html#//apple_ref/doc/uid/TP40002692-CJBGEAAG">“Managing Build Configurations,”</a></span> the list of build configurations is the same for all targets within a project. When building targets in a referenced project, Xcode uses the build settings defined in the corresponding build configuration of that project.</p><p>If your project includes cross-project references, it is possible that the referenced project defines a different set of build configurations from those of the current project; the active build configuration may not exist in the referenced project. In this case, Xcode falls back on the default configuration for the referenced project and its targets.</p><p>For each target and project involved in a build, here is how the build configuration is selected when building from the Xcode application.</p><ol class="ol"><li class="li"><p>Xcode checks for a build configuration with the same name as the active build configuration. If this configuration is found, Xcode uses it.</p></li><li class="li"><p>If no matching build configuration is found, Xcode then uses the default build configuration.</p></li></ol><p>The process of selecting build configurations is similar when building from the command line with <code><a href="../../../../Darwin/Reference/ManPages/man1/xcodebuild.1.html#//apple_ref/doc/man/1/xcodebuild" target="_top">xcodebuild</a></code>:</p><ol class="ol"><li class="li"><p>If a specific build configuration is passed as a command-line argument to <code>xcodebuild</code> , <code>xcodebuild</code> first looks for a build configuration with that name in the project. If that configuration is found, Xcode uses it.</p></li><li class="li"><p>If no build configuration is specified on the command line or if the project does not define the specified build configuration, <code>xcodebuild</code> uses the default configuration.</p></li></ol><p>New Xcode projects contain two predefined build configurations, Debug and Release. You can edit those build configurations or define new build configurations of your own.</p><p>In addition to the predefined Debug and Release build configurations, you may need to define a special build configuration to satisfy particular needs, such as configuring an environment to measure the performance of your application. In such a build configuration you may define build settings that add a library or framework that gathers and logs performance-related information. You may also need to target your application to specific Mac OS X versions. In that case, you may need to build your product slightly differently for each version. For example, you can have build configurations named Mac OS X 10.3 and Mac OS X 10.4 that build a product tailored for Mac OS X v10.3 and Mac OS X v10.4, respectively, by setting Mac OS X Deployment target (<code>MACOSX_DEPLOYMENT_TARGET</code>), and any other build settings necessary, to the appropriate values.</p><a name="//apple_ref/doc/uid/TP40002692-BBCFBCJA" title="Predefined Build Configurations"></a><h2>Predefined Build Configurations</h2><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_67"></a><p>A debug build of a product may include debugging information to assist you in fixing bugs. However, this extra information can consume valuable space in a user’s system. A debug build should contain only the code necessary to run the application.</p><p>Some build settings tell Xcode to add debugging information to an executable or specify whether to optimize its execution speed. Other build settings turn on features such as Fix and Continue, which are useful only during debugging.</p><p>All Xcode project and target templates include two build configurations, the Debug build configuration and the Release build configuration. By default, the Debug build configuration turns on Fix and Continue, and debug-symbol generation, among others, while turning off code optimization. The Release build configuration turns off Fix and Continue. The code-optimization level is set to its highest by default, through the Optimization Level (<code>GCC_OPTIMIZATION_LEVEL</code>) build setting. Note that the Release build configuration doesn’t turn on Deployment Location (<code>DEPLOYMENT_LOCATION</code>); therefore, the product is not copied to the location where it would be installed on a user’s system. It also doesn’t turn on Deployment Postprocessing (<code>DEPLOYMENT_POSTPROCESSING</code>), which specifies whether to strip binaries and whether to set their permissions to standard values.</p><a name="//apple_ref/doc/uid/TP40002692-CJBGEAAG" title="Managing Build Configurations"></a><a name="//apple_ref/doc/writerid/xcode_user_guide_build_configurations_editing" title="Managing Build Configurations"></a><h2>Managing Build Configurations</h2><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_68"></a><p>Generally, the predefined build configurations described in <span class="content_text"><a href="build_configs.html#//apple_ref/doc/uid/TP40002692-BBCFBCJA">“Predefined Build Configurations”</a></span> are enough for most people. You can use them as they are or add additional build settings to them. For example, you can specify that the Debug build configuration for a target or project display more compiler warnings.</p><p>If you’re thinking about creating a target, consider whether it might be best to create a build configuration instead. In general, create a target to create a product, and create a build configuration to modify how that product is built. If you’re creating targets that differ only in their build settings, consider creating one target with several build configurations. If you need to create targets that differ in other ways—such as build phases—you need to create separate targets.</p><p>To see the list of build configurations defined for a project, open the project editor, and display the Configurations pane, shown in <span class="content_text">Figure 4-1</span>. The configuration list displays all of the build configurations defined in the current project. You can edit the list of configurations as described in <span class="content_text"><a href="build_configs.html#//apple_ref/doc/uid/TP40002692-CJBGEAAG">“Managing Build Configurations.”</a></span></p><br/><div><a name="//apple_ref/doc/uid/TP40002692-SW100" title="Figure 4-1Project editor: Configurations pane"></a><p><strong>Figure 4-1&nbsp;&nbsp;</strong>Project editor: Configurations pane</p><img src = "../art/project_editor_configurations.jpg" alt = "Project editor: Configurations pane" ></div><br/><p>These are the components of the Configuration pane of the project editor:</p><ul class="ul"><li class="li"><p><strong>Configuration list.</strong> List of the project’s build configurations.</p></li><li class="li"><p><strong>Duplicate button.</strong> Duplicates the selected build configuration throughout the project. In this way, if you have a number of build settings common to all configurations in a target, you do not have to set them all up again.</p></li><li class="li"><p><strong>Rename button.</strong> Renames the selected build configuration name. throughout the project.</p></li><li class="li"><p><strong>Delete button.</strong> Deletes the selected build configuration from the project.</p></li><li class="li"><p><strong>Default configuration pop-up menu.</strong> Specifies which of the build configuration is the default build configuration.</p><p> the <strong>default build configuration</strong> is used when the project being built does not have a definition for the active build configuration, as described in <span class="content_text"><a href="build_configs.html#//apple_ref/doc/uid/TP40002692-SW1">“Build Configuration Overview.”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP40002692-BBCHJIHD" title="Editing Build Configurations"></a><h3>Editing Build Configurations</h3><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_69"></a><p>As you've seen, you often want to vary the value of a build setting depending on the circumstances of the build. Xcode lets you edit individual build configurations to define build settings specific to that particular build variation. You typically also have some build settings that remain the same regardless of the current build configuration. Rather than editing each build configuration in the target or project separately, you can define the same build setting for all build configurations by editing all of a target or project's build configurations at once. Both approaches are described next.</p><ul class="spaceabove"><li class="li"><p>To edit a particular build configuration, choose that build configuration from the Configuration pop-up menu in the project or target build settings editor, and make your changes. See <span class="content_text"><!--a target="_top" -->"Editing Build Settings"<!--/a--></span> in <em><a href="../../XcodeProjectManagement/index.html#//apple_ref/doc/uid/TP40006917" target="_top">Xcode Project Management Guide</a></em> to learn how to use the build settings editor.</p></li><li class="li"><p>To edit build settings for the active build configuration, choose Active Configuration from the Configuration pop-up menu.</p></li><li class="li"><p>To edit build settings for all build configurations in a target or project, choose All Configurations from the Configuration pop-up menu. Build settings that have the same value for all configurations in the target or project display that value. Build settings that have different values for different build configurations display the string “Multiple values” or a checkbox with a dash. You can still edit the value for these build settings; doing so changes the definition of the build setting across all of the available build configurations to have the same value. To edit the definition of a build configuration in multiple targets at once, select those targets and open the target editor.</p></li></ul><a name="//apple_ref/doc/uid/TP40002692-SW8" title="Build Configuration Files"></a><h2>Build Configuration Files</h2><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_70"></a><p>When you work on large software endeavors with several projects and targets, many of which sharing a number of common build setting definitions, it can be time-consuming and repetitive to define the same build settings over and over again. For this reason, Xcode allows you to base a build configuration on <em>build configuration file</em>. A <strong>build configuration file</strong> (or <strong>configuration file</strong> for short) contains a list of build setting definitions. Using build configuration files, you can easily share a set of build setting definitions among all the individuals working on your team, or quickly configure targets and projects with common build setting definitions.</p><p>When you base a target or project’s build configuration on a build configuration file, that build configuration automatically inherits the build setting definitions in that configuration file (and the configuration files it includes), as well as any subsequent changes to the configuration file (or the configuration files it includes). If you then modify the value of any of those build settings in the target or project, the new value is used instead of the value in the configuration file.</p><p>For example, if you have a standard list of debugging build settings that you use to build debug versions of all your products, you can define a configuration file—say <code>MyDebugSettings.xcconfig</code> —that contains these build settings. You can then base the Debug build configurations for all your targets on this file. Each Debug configuration inherits the build settings in the <code>MyDebugSettings.xcconfig</code> file. You can then modify any of these build settings for individual targets or projects, as necessary.</p><a name="//apple_ref/doc/uid/TP40002692-SW103" title="Creating a Configuration File"></a><h3>Creating a Configuration File</h3><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_71"></a><p>A configuration file is simply a plain text file with a list of build setting names and assignments, one per line. (You may also add comments using the <code>//</code> comment marker.) You can use build settings recognized by the Xcode build system or define your own custom build settings in a configuration file. For example, to specify that profiling code be generated for all build configurations based on a particular file, add the following to the file:</p><div class="codesample"><table><tr><td scope="row"><pre>GENERATE_PROFILING_CODE = YES               // Turn on profiling code<span></span></pre></td></tr></table></div><p>Note that you must use the name of the build setting, not the build setting title. If the build setting can contain a list of values—such as <code>OTHER_CFLAGS</code>—separate each value with a space.</p><p>This format is the same format that Xcode copies to the clipboard when you copy and paste build settings from the build setting list. You can quickly create a configuration file by selecting the build settings you want to include, copying them, and pasting them into a new text file. You can then make any necessary modifications to the build setting definitions. Xcode also includes a configuration file template, which you can use to create a configuration file.</p><p>To create a configuration file:</p><ol class="ol"><li class="li"><p>Choose File > New File.</p></li><li class="li"><p>In the New File Assistant, select Xcode > Configuration Settings File.</p></li></ol><p>Configuration files must have the extension <code>.xcconfig</code> to be recognized by Xcode.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002692-SW3" title="Note"></a><p><strong>Note:</strong>&nbsp;In the build settings editor, Xcode provides data editors appropriate for particular build settings. For example, build settings with a Boolean value use a checkbox and those whose value is a list of paths use a list editor. In configuration files, however, you don’t have access to checkboxes or list editors when specifying the value of build setting. As described earlier, you can specify the value of such build settings in the build settings editor and copy the build setting from the editor to the configuration file. When editing the values directly in the file, you should consult <span class="content_text"><a href="../300-Build_Settings/bs_build_settings.html#//apple_ref/doc/uid/TP40002691-CJBDGGEA">“Build Setting Syntax”</a></span> and <em><a href="../../../Reference/XcodeBuildSettingRef/index.html#//apple_ref/doc/uid/TP40003931" target="_top">Xcode Build Setting Reference</a></em> to find out the proper text-based format for the build settings’ specifications.</p></div><p>A configuration file may refer to one or more additional configuration files using the <code>#include</code> directive, as shown in <span class="content_text">Listing 4-1</span>. You can use relative or absolute paths to specify the location of the configuration file to include. The group of configuration files joined together by <code>#include</code> directives is known as a <strong>configuration unit</strong>. A single configuration file that doesn’t include other configuration files is also a configuration unit.</p><a name="//apple_ref/doc/uid/TP40002692-SW12" title="Listing 4-1Referring to other configuration files"></a><p class="codesample"><strong>Listing 4-1&nbsp;&nbsp;</strong>Referring to other configuration files</p><div class="codesample"><table><tr><td scope="row"><pre>// File: MyConfig.xcconfig<span></span></pre></td></tr><tr><td scope="row"><pre>#include "/Network/ProductDevelopmentSpecs/TeamConfig"<span></span></pre></td></tr><tr><td scope="row"><pre>ARCHS = ppc i386<span></span></pre></td></tr><tr><td scope="row"><pre>#include "/Network/ProductPackagingSpecs/ProductConfig"<span></span></pre></td></tr></table></div><p>Xcode analyses build setting definitions in the order specified in the configuration unit. For example, the MyConfig configuration file in <span class="content_text">Listing 4-1</span> includes two other configuration files: TeamConfig and ProductConfig. Xcode processes the build setting assignments in the configuration unit in this order:</p><ul class="simple"><li><p>Build setting definitions in TeamConfig</p></li><li><p>Build setting definitions in MyConfig</p></li><li><p>Build setting definitions in ProductConfig</p></li></ul><p>When a configuration unit contains more than one definition for a particular build setting, Xcode uses the last definition in the unit. Keep in mind that configuration files do not have access to build setting definitions made in configuration files they include. That is, you cannot modify the definition made in an included configuration file; you can only replace it.</p><a name="//apple_ref/doc/uid/TP40002692-SW2" title="Basing Build Configurations on Configuration Files"></a><h3>Basing Build Configurations on Configuration Files</h3><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_72"></a><p>To base a build configuration on a configuration file:</p><ol class="ol"><li class="li"><p>Add the configuration file to your project, as described in <span class="content_text"><!--a target="_top" -->"Managing Files and Folders in a Project"<!--/a--></span> in <em><a href="../../XcodeProjectManagement/index.html#//apple_ref/doc/uid/TP40006917" target="_top">Xcode Project Management Guide</a></em>.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002692-SW4" title="Note"></a><p><strong>Note:</strong>&nbsp;Do not add the configuration file to the target when you add it to the project.</p></div></li><li class="li"><p>In the build settings editor, choose the build configuration you want to modify from the Configuration menu.</p></li><li class="li"><p>Choose the configuration file from the Based On pop-up menu, below the build settings table, as shown in <span class="content_text">Figure 4-2</span>. This menu displays all the build configuration files in the project.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40002692-SW5" title="Figure 4-2Build settings editor: Choosing a configuration file"></a><p><strong>Figure 4-2&nbsp;&nbsp;</strong>Build settings editor: Choosing a configuration file</p><img src = "../art/target_editor_based_on_menu.jpg" alt = "Build settings editor: Choosing a configuration file" ></div></li></ol><p>Your project can contain any number of configuration files; however, each individual build configuration can be based on only one configuration file.</p><a name="//apple_ref/doc/uid/TP40002692-SW99" title="Build Setting Evaluation and Configuration Files"></a><h3>Build Setting Evaluation and Configuration Files</h3><a name="//apple_ref/doc/uid/TP40002692-DontLinkElementID_73"></a><p>Build settings are defined in a number of different layers, with definitions in higher layers overriding definitions in lower layers.</p><p>Of course, build settings at the target and project layers can be defined in the Xcode user interface or inherited from build configuration files. <span class="content_text">Figure 4-3</span> shows the build setting layers and their relationship to the build settings defined in configuration files.</p><br/><div><a name="//apple_ref/doc/uid/TP40002692-SW9" title="Figure 4-3Build setting layers and configuration files"></a><p><strong>Figure 4-3&nbsp;&nbsp;</strong>Build setting layers and configuration files</p><img src = "../art/builds_layers_with_configs.gif" alt = "Build setting layers and configuration files" width="372" height="326"></div><br/><div class="notebox"><a name="//apple_ref/doc/uid/TP40002692-SW6" title="Note"></a><p><strong>Note:</strong>&nbsp;<span class="content_text">Figure 4-3</span> shows the build setting layers available when building from the command-line with <code><a href="../../../../Darwin/Reference/ManPages/man1/xcodebuild.1.html#//apple_ref/doc/man/1/xcodebuild" target="_top">xcodebuild</a></code>. If you are building from the Xcode application, the command-line layer is not available to you. However, all other layers are available.</p></div><p>When you use configuration files, the target and project layers themselves are each divided into two separate build setting layers. These are:</p><ol class="ol"><li class="li"><p>Build setting definitions listed in the build settings editor. Build settings configured in the Xcode user interface override build settings defined in the configuration file for the same build configuration of the target or project. This lets you customize the build for one or more targets or projects that otherwise share a common set of build settings.</p></li><li class="li"><p>Build setting definitions in the configuration file on which the active build configuration for the target or project is based. You can use configuration files to share build setting definitions across one or more build configurations in multiple targets or projects.</p></li></ol><p>To understand how to use configuration files effectively, you must understand how configuration files affect the evaluation of build settings. The following example builds on the example used in <span class="content_text"><a href="../300-Build_Settings/bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW2">“Multilayer Build Setting Definitions”</a></span> to show how Xcode evaluates build settings in a project that uses configuration files. <span class="content_text">Figure 4-4</span> shows how the build system would evaluate the <code>LAYERED</code> build setting when using <code>xcodebuild</code>.</p><br/><div><a name="//apple_ref/doc/uid/TP40002692-SW10" title="Figure 4-4Evaluation of the LAYERED build setting using configuration files"></a><p><strong>Figure 4-4&nbsp;&nbsp;</strong>Evaluation of the <code>LAYERED</code> build setting using configuration files</p><img src = "../art/build_config_eval.gif" alt = "Evaluation of the LAYERED build setting using configuration files" width="507" height="359"></div><br/><p>To evaluate the <code>LAYERED</code> build setting, Xcode does the following:</p><ol class="ol"><li class="li"><p>Looks for a definition for <code>LAYERED</code> in the command-line layer (the highest available to <code>xcodebuild</code>). It finds the specification <code>command line, $(LAYERED)</code>.</p></li><li class="li"><p>Resolves <code>$(LAYERED)</code> starting at the next layer down, the target layer. At this layer, it obtains the specification <code>target, $(LAYERED)</code>; this is the specification defined in the Xcode application for the active build configuration of the target. Because the specification also references the value of the <code>LAYERED</code> build setting, the build system continues to look for the build setting specification. In this case, the build configuration is based on a configuration file, so the build system continues its search there.</p></li><li class="li"><p>Looks in the <code>ConfigFile.xcconfig</code> file on which the active build configuration of the active target is based. In the configuration file, it obtains the specification <code>configuration file, $(LAYERED)</code>. Because this specification also references the value of the <code>LAYERED</code> build setting, the build system continues to look in lower layers for the build setting specification.</p></li><li class="li"><p>Resolves <code>$(LAYERED)</code> starting at the project layer, obtaining <code>project, $(LAYERED)</code>.</p></li><li class="li"><p>Looks in the <code>ConfigFile.xcconfig</code> file on which the active build configuration of the project is based, again obtaining the specification <code>configuration file, $(LAYERED)</code>. In this example, the project-level build configuration is based on the same configuration file as the target-level build configuration; however, they could just as easily be based on different configuration files.</p></li><li class="li"><p>Resolves <code>$(LAYERED)</code> starting at the environment layer, obtaining <code>environment</code>.</p><p>The evaluation of <code>LAYERED</code> stops here because there are no build setting layers below the environment layer. When all the references are resolved, the final value of the build setting is computed as <code>command line, target, configuration file, project, configuration file, environment</code>.</p></li></ol><p>Knowing how the build system evaluates build settings in configuration files lets you easily determine where to configure build settings.  For example, say you have a configuration file that contains settings common to most of your Xcode projects. Imagine that, for a particular project, you want to override the value of a single setting in the configuration file. Rather than creating a separate configuration file that defines this one build setting differently, you can simply define that build setting in the project inspector for that project. <span class="content_text">Figure 4-5</span> shows how the build system evaluates the <code>LAYERED</code> build setting when that build setting is overridden in the project inspector of the Xcode application. </p><br/><div><a name="//apple_ref/doc/uid/TP40002692-SW11" title="Figure 4-5The LAYERED build setting overridden in the project inspector"></a><p><strong>Figure 4-5&nbsp;&nbsp;</strong>The <code>LAYERED</code> build setting overridden in the project inspector</p><img src = "../art/build_config_eval2.gif" alt = "The LAYERED build setting overridden in the project inspector" width="507" height="359"></div><br/><p>These are the steps the build system takes to evaluate the LAYERED build setting:</p><ol class="ol"><li class="li"><p>Looks for a definition for <code>LAYERED</code> in the command-line layer (the highest available to <code>xcodebuild</code>). It finds the specification <code>command line, $(LAYERED)</code>.</p></li><li class="li"><p>Resolves <code>$(LAYERED)</code> starting at the next layer down, the target layer. At this layer, it obtains the specification <code>target, $(LAYERED)</code>.</p></li><li class="li"><p>Looks in the <code>ConfigFile.xcconfig</code> file on which the active build configuration of the active target is based. In the configuration file, it obtains the specification <code>configuration file, $(LAYERED)</code>.</p></li><li class="li"><p>Resolves <code>$(LAYERED)</code> starting at the project layer, obtaining <code>project</code>.</p><p>The evaluation of <code>CAPTION</code> stops here because there are no references to other build settings in its specification. Even though <code>CAPTION</code> is configured in the project layer, that specification has been overridden in the target layer; therefore, it’s ignored. The final value of <code>CAPTION</code> in this example is <code>command line, target, configuration file, project</code>.</p></li></ol>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../300-Build_Settings/bs_build_settings.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../500-Linking/bs_linking.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-02-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/XcodeBuildSystem/400-Build_Configurations/build_configs.html%3Fid%3DTP40006904-1.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/XcodeBuildSystem/400-Build_Configurations/build_configs.html%3Fid%3DTP40006904-1.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/XcodeBuildSystem/400-Build_Configurations/build_configs.html%3Fid%3DTP40006904-1.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>