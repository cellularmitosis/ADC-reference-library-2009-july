<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Image Unit Tutorial: Preparing an Image Unit for Distribution</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Preparing an Image Unit for Distribution"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004531-CH5" title="Preparing an Image Unit for Distribution"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../Quartz-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40004531-CH1-SW1">Image Unit Tutorial</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../WritingtheObjective-CPortion/WritingtheObjective-CPortion.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40004531-CH5-SW1" title="Preparing an Image Unit for Distribution"></a><h1>Preparing an Image Unit for Distribution</h1><p>Preparation involves three tasks, described in the following sections:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="PackagingtheFilter.html#//apple_ref/doc/uid/TP40004531-CH5-SW3">“Validating an Image Unit”</a></span></p></li><li class="li"><p><span class="content_text"><a href="PackagingtheFilter.html#//apple_ref/doc/uid/TP40004531-CH5-SW5">“Testing an Image Unit”</a></span></p></li><li class="li"><p><span class="content_text"><a href="PackagingtheFilter.html#//apple_ref/doc/uid/TP40004531-CH5-SW2">“Completing the Necessary Licensing and Trademark Agreements .”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP40004531-CH5-SW3" title="Validating an Image Unit"></a><h2>Validating an Image Unit</h2><p>You can validate your image unit with the ImageUnitAnalyzer tool by following these steps:</p><ol class="ol"><li class="li"><p>After you install the latest developer tools, you can find the ImageUnitAnalyzer tool in<code> /Developer/Tools/</code>.</p><p>You can also download the tool from <span class="content_text"><a href="http://developer.apple.com/softwarelicensing/agreements/imageunits.html" target="_top">Software Licensing &amp; Trademark Agreements</a></span>.  </p></li><li class="li"><p>Open Terminal and drag the ImageUnitAnalyzer into the Terminal window. Then drag the image unit you want to validate into the Terminal window and press Return. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40004531-CH5-SW6" title="Tip"></a><p><strong>Tip:</strong>&nbsp;Dragging icons into the Terminal window is a shortcut to typing the tool and image unit names and their full paths, which can get tedious.</p></div></li></ol><p>If your image unit is correctly packaged  and the Objective-C code and <code>kernel</code> routine are well formed, ImageUnitAnalyzer provides output similar to what’s shown in <span class="content_text">Listing 4-1</span>. If your imagine unit has problems, you’ll see failure statements that, in most cases, describe what elements failed. See <span class="content_text"><a href="PackagingtheFilter.html#//apple_ref/doc/uid/TP40004531-CH5-SW7">Figure 4-1</a></span>.</p><a name="//apple_ref/doc/uid/TP40004531-CH5-SW4" title="Listing 4-1Output produced by ImageUnitAnalyzer for a passing unit "></a><p class="codesample"><strong>Listing 4-1&nbsp;&nbsp;</strong>Output produced by ImageUnitAnalyzer for a passing unit </p><div class="codesample"><table><tr><td scope="row"><pre>##############################################################<span></span></pre></td></tr><tr><td scope="row"><pre>########### Image Unit Validation Tool Version 1.0 ###########<span></span></pre></td></tr><tr><td scope="row"><pre>###########  Copyright 2005, Apple Computer, Inc.  ###########<span></span></pre></td></tr><tr><td scope="row"><pre>##############################################################<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>VALIDATING IMAGE UNIT: /Users/polly/Development/InvertColorImageUnit.plugin<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>VALIDATING IMAGE UNIT BUNDLE<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: Image Unit has correct extension plugin<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: Description.plist exists /Users/polly/Development/InvertColorImageUnit.plugin/Contents/Resources/Description.plist<span></span></pre></td></tr><tr><td scope="row"><pre>PASS VALIDATING IMAGE UNIT BUNDLE<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>VALIDATING IMAGE UNIT PLUGIN STRUCTURE<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: Description.plist is a valid XML file<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: Image Unit version is valid<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: The Image Unit contains valid filter list. Now analyzing filter list…<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: The entry InvertColorFilter does have a valid filter attributes dictionary<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: The entry InvertColorFilter does have a valid filter categories description<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: The entry InvertColorFilter does have a valid filter display name: InvertColorFilter<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: The entry InvertColorFilter does have a valid filter name: InvertColorFilter<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: The entry InvertColorFilter does have a valid filter dictionary<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: The Image Unit contains valid filters<span></span></pre></td></tr><tr><td scope="row"><pre>PASS VALIDATING IMAGE UNIT PLUGIN STRUCTURE<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>VALIDATING IMAGE UNIT CIFILTERS<span></span></pre></td></tr><tr><td scope="row"><pre>- PASS: The filter InvertColorFilter was created successfully<span></span></pre></td></tr><tr><td scope="row"><pre>Testing filter invertColor<span></span></pre></td></tr><tr><td scope="row"><pre>PASS VALIDATING IMAGE UNIT CIFILTERS<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Verification of /Users/polly/Development/InvertColorImageUnit.plugin succeeded<span></span></pre></td></tr><tr><td scope="row"><pre>** PASS<span></span></pre></td></tr></table></div><p>If your image unit fails with a <code>–1</code> error  but all the validation statements are marked <code>"PASS"</code>, make sure that you passed only objects from the Objective-C portion of the image unit. See <span class="content_text"><a href="../Overview/Overview.html#//apple_ref/doc/uid/TP40004531-CH6-SW4">“Kernel Routine Rules.”</a></span></p><br/><div><a name="//apple_ref/doc/uid/TP40004531-CH5-SW7" title="Figure 4-1Output produced by ImageUnitAnalyzer for a failing unit "></a><p><strong>Figure 4-1&nbsp;&nbsp;</strong>Output produced by ImageUnitAnalyzer for a failing unit </p><img src = "../ART/iu_fail.gif" alt = "Output produced by ImageUnitAnalyzer for a failing unit" width="759" height="477"></div><br/><a name="//apple_ref/doc/uid/TP40004531-CH5-SW5" title="Testing an Image Unit"></a><h2>Testing an Image Unit</h2><p>After your image unit passes validation, you’ll want to make sure that it works properly by following these steps:</p><ol class="ol"><li class="li"><p>Copy the image unit to <code>/Library/Graphics/Image Units</code>.</p><p>You can also install an image unit in a <code>User/Library/Graphics/Image Units/</code>, but you may need to create the <code>Graphic/Image Units</code> folder.</p></li><li class="li"><p>Launch the Quartz Composer development tool.</p></li><li class="li"><p>Open the Patch Creator and type the image unit name into the Search field.</p></li><li class="li"><p>When you locate the image unit, drag it to the workspace.</p></li><li class="li"><p>Create a simple Quartz Composer composition that uses the image, as described in <span class="content_text"><a href="../WritingKernels/WritingKernels.html#//apple_ref/doc/uid/TP40004531-CH3-SW5">“Writing Simple Kernel Routines.”</a></span></p><p>Try the filter on a variety of images and with a variety of input value and make sure that it works.</p></li></ol> <a name="//apple_ref/doc/uid/TP40004531-CH5-SW2" title="Completing the Necessary Licensing and Trademark Agreements "></a><h2>Completing the Necessary Licensing and Trademark Agreements </h2><p>Before you can distribute your image unit or use the Image Units logo provided by Apple, you’ll need to complete the licensing and trademark agreements and any other tasks described on the <span class="content_text"><a href="http://developer.apple.com/softwarelicensing/agreements/imageunits.html" target="_top">Software Licensing &amp; Trademark Agreements</a></span> website. See:</p><p><span class="content_text"><a href="http://developer.apple.com/softwarelicensing/agreements/imageunits.html" target="_top">http://developer.apple.com/softwarelicensing/agreements/imageunits.html</a></span></p><p>The Image Units logo (see <span class="content_text">Figure 4-2</span>) is available through a licensing agreement.</p><br/><div><a name="//apple_ref/doc/uid/TP40004531-CH5-SW8" title="Figure 4-2The Image Units logo"></a><p><strong>Figure 4-2&nbsp;&nbsp;</strong>The Image Units logo</p><img src = "../ART/logo_image_units.gif" alt = "The Image Units logo is available only through a licensing agreement" width="101" height="102"></div><br/><a name="//apple_ref/doc/uid/TP40004531-CH5-SW35" title="Further Reading"></a><h2>Further Reading</h2><p>In addition to <em><a href="../../../Reference/CIKernelLangRef/index.html#//apple_ref/doc/uid/TP40004397" target="_top">Core Image Kernel Language Reference</a></em>, you might find these resources useful as you design and write your own image units:</p><ul class="ul"><li class="li"><p><em>Algorithms for Image Processing and Computer Vision</em>, J. R. Parker, 1997. John Wiley &amp; Sons.</p></li><li class="li"><p><em>OpenGL Shading Language</em>, Second Edition, Randi J. Rost, 2006. Addison-Wesley Professional.</p></li><li class="li"><p><em>OpenGL Shading Language</em>, available for download from <span class="content_text"><a href="http://www.opengl.org/documentation/glsl/" target="_blank">http://www.opengl.org/documentation/glsl/</a></span>.</p></li><li class="li"><p><em>Digital Image Processing</em>, Second Edition, Rafael C. Gonzalez and Richard E. Woods. Addison-Wesley Publishers.</p></li><li class="li"><p><em>Digital Image Processing</em>, Kenneth R. Castleman, Prentice Hall.</p></li><li class="li"><p><em>The Renderman Companion: A Programmer’s Guide to Realistic Computer Graphics</em>, Steve Upstill, Addison-Wesley Professional.</p></li><li class="li"><p><em>GPU Gems: Programming Techniques, Tips, and Tricks for Real-Time Graphics</em>, Randima Fernando, Addison-Wesley Professional. There are a number of other books in the GPU Gems series that you might also find useful.</p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../WritingtheObjective-CPortion/WritingtheObjective-CPortion.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-05-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Conceptual/ImageUnitTutorial/PackagingtheFilter/PackagingtheFilter.html%3Fid%3DTP40004531-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Conceptual/ImageUnitTutorial/PackagingtheFilter/PackagingtheFilter.html%3Fid%3DTP40004531-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Conceptual/ImageUnitTutorial/PackagingtheFilter/PackagingtheFilter.html%3Fid%3DTP40004531-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>