<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- BEGIN META TAG INFO --><link rel="home" href="http://developer.apple.com/">
<link rel="find" href="http://developer.apple.com/search/">
<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
<script language="JavaScript" type="text/javascript" src="../../documentation/js/busnav.js"></script><script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script><!-- END META TAG INFO --><!-- BEGIN TITLE --><title>Technical Note TN2188: Exporting Movies for iPod, Apple TV and iPhone</title>
<!-- END TITLE --><style>
			.sourcecodebox {
				white-space: pre-wrap;
				white-space: -moz-pre-wrap !important;
				white-space: -pre-wrap;
				white-space: -o-pre-wrap;
				word-wrap: break-word;
			}
			</style>
</head>
<!-- BEGIN BODY OPEN --><body bgcolor="#ffffff"><a name="//apple_ref/doc/uid/DTS10004236" title="Exporting Movies for iPod, Apple TV and iPhone"></a>
<!-- END BODY OPEN --><!-- START CENTER OPEN --><center>
<!-- END CENTER OPEN --><a name="top"></a><!-- BEGIN LOGO AND SEARCH --><!--#include virtual="/includes/adcnavbar" --><!-- END LOGO AND SEARCH --><!-- START BREADCRUMB --><div id="breadcrumb"><table width="680" border="0" cellpadding="0" cellspacing="0">
<tr>
<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
</tr>
<tr valign="middle"><td align="left" colspan="2">
<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/QuickTime/index.html">QuickTime</a> &gt; <a href="../../technicalnotes/QuickTime/idxImportExport-date.html">Import &amp; Export</a> &gt; </td></tr>
<tr><td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td></tr>
</table></div>
<!-- END BREADCRUMB --><!-- START MAIN CONTENT --><!-- START TITLE GRAPHIC AND INTRO --><table width="680" border="0" cellpadding="0" cellspacing="0"><tr align="left" valign="top"><td><h1>
<div id="pagehead">Technical Note TN2188</div>
<div id="pageheadsub">Exporting Movies for iPod, Apple TV and iPhone</div>
</h1></td></tr></table>
<!-- END TITLE GRAPHIC AND INTRO --><!-- BEGIN WIDE COLUMN --><table width="680" border="0" cellpadding="0" cellspacing="0"><tr align="left" valign="top"><td align="left" width="680">
<!-- BEGIN CONTENTS --><table width="680" border="0" cellpadding="0" cellspacing="0">
<tr align="left" valign="top"><td>
<p>QuickTime 7 supports exporting movies playable by iPod, Apple TV and iPhone. Since version 7.0.3, QuickTime has been able to export .m4v files playable on the iPod by using the iPod Export Component. QuickTime 7.1.5 introduced the Apple TV Export Component supporting the creation of .m4v files playable by the Apple TV and with the release of QuickTime 7.2, the iPhone and iPhone (Cellular) Export Components were introduced supporting the creation of .m4v and .3gp files for iPhone.</p>
<p>This Technical Note discusses the use of these four QuickTime Export Components to create media playable by iPod, Apple TV and iPhone. These QuickTime Components can be thought of as black boxes capable of producing output as described this Technical Note. For information regarding content creation using Compressor 3, please consult the Compressor Documentation.</p>
</td></tr>
<tr><td scope="row">
<img width="680" height="10" src="images/1dot.gif" alt=""><br><img width="680" height="1" src="images/1dot_919699.gif" alt=""><br><img width="680" height="20" src="images/1dot.gif" alt="">
</td></tr>
</table>
<table width="680" border="0" cellpadding="0" cellspacing="0">
<tr align="left" valign="top"><td width="680"><ul>
<li><a href="#TNTAG1">Introduction</a></li>
<li><a href="#TNTAG2">iPod Export Component</a></li>
<ul>
<li><a href="#TNTAG3">Summary of Features</a></li>
<li><a href="#TNTAG4">Movie Size</a></li>
<li><a href="#TNTAG5">Frame Rate</a></li>
<li><a href="#TNTAG6">Data Rate</a></li>
<li><a href="#TNTAG13">Code Example</a></li>
</ul>
<li><a href="#TNTAG18">Apple TV Export Component</a></li>
<ul>
<li><a href="#TNTAG19">Summary of Features</a></li>
<li><a href="#TNTAG20">Movie Size</a></li>
<li><a href="#TNTAG21">Frame Rate</a></li>
<li><a href="#TNTAG22">Data Rate</a></li>
<li><a href="#TNTAG28">Code Example</a></li>
</ul>
<li><a href="#TNTAG29">iPhone Export Component</a></li>
<ul>
<li><a href="#TNTAG40">Summary of Features</a></li>
<li><a href="#TNTAG33">Movie Size</a></li>
<li><a href="#TNTAG34">Frame Rate</a></li>
<li><a href="#TNTAG35">Data Rate</a></li>
<li><a href="#TNTAG26">Code Example</a></li>
</ul>
<li><a href="#TNTAG31">iPhone (Cellular) Export Component</a></li>
<ul>
<li><a href="#TNTAG36">Summary of Features</a></li>
<li><a href="#TNTAG37">Movie Size</a></li>
<li><a href="#TNTAG38">Frame Rate</a></li>
<li><a href="#TNTAG39">Data Rate</a></li>
</ul>
<li><a href="#TNTAG17">References</a></li>
<li><a href="#document_revision_summary">Document Revision History</a></li>
</ul></td></tr>
<tr><td colspan="3" scope="row">
<img width="680" height="10" src="images/1dot.gif" alt=""><br><img width="680" height="1" src="images/1dot_919699.gif" alt=""><br><img width="680" height="20" src="images/1dot.gif" alt="">
</td></tr>
</table>
<a name="TNTAG1"></a><h2>Introduction</h2>
<p>For developers not familiar with movie exporters, a Movie Export Component (<code>MovieExportType</code> or <code>'spit'</code> as they are called after their four character code) convert movies into some other format so that the media data can be used by other applications or devices. As an example, the iPod movie export component allows applications to take video and audio media data from a QuickTime Movie and export it as H.264 / AAC-LC data stored in an .m4v file suitable for viewing on a Video iPod.</p>
<p>To find an export component, use the Component Manager <code>FindNextComponent</code> API. The characteristics of the component you're looking for are expressed in a component description record (<code>ComponentDescription</code>) by specifying the <code>componentType</code>, <code>componentSubType</code>, <code>componentManufacturer</code> and <code>componentFlags</code> fields.</p>
<p>Export components use the <code>componentSubType</code> value to indicate the type of data they support and use the <code>componentFlags</code> field to indicate more specific information about their capabilities.</p>
<p>Once a specified export component (<code>Component</code>) is found, it must be opened by calling <code>OpenAComponent</code>. <code>OpenAComponent</code> returns an instance (<code>ComponentInstance</code>) of the component which can then be used with export APIs such as <code>MovieExportToDataRef</code> and <code>ConvertMovieToDataRef</code>.</p>
<p>The convenience <code>OpenADefaultComponent</code> API may also be used to find and open a component if the component can be described using only the <code>componentType</code> and <code>componentSubType</code> fields.</p>
<p>Always remember to close any opened component by calling <code>CloseComponent</code> once you've finished using it.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG2"></a><h2>iPod Export Component</h2>
<p>The iPod export component first shipped with QuickTime 7.0.3 and supported H.264 video up to 320x240. Since the release of QuickTime 7.1.3 the iPod export component also supports exporting H.264 video up to 640x480.</p>
<p>To find the iPod export component, use the component description shown in Table 1.</p>
<p class="smalltext"><strong>Table 1 : </strong>Component Description for the iPod export component.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Component Description</th>
<th>iPod Exporter</th>
</tr>
<tr>
<td scope="row"><code>componentType</code></td>
<td>MovieExportType</td>
</tr>
<tr>
<td scope="row"><code>componentSubType</code></td>
<td>'M4V '</td>
</tr>
<tr>
<td scope="row"><code>componentManufacturer</code></td>
<td>kAppleManufacturer</td>
</tr>
<tr>
<td scope="row"><code>componentFlags</code></td>
<td>0</td>
</tr>
<tr>
<td scope="row"><code>componentFlagsMask</code></td>
<td>kAnyComponentFlagsMask </td>
</tr>
</table>
<a name="TNTAG3"></a><h3>Summary of Features</h3>
<p>The Fifth Generation iPods (firmware 1.2 or later) supports the playback of .m4v files containing H.264 video encoded using one of two profiles; 320x240 Baseline profile (up to Level 1.3) with AAC-LC audio and 640x480 Low-Complexity version of the H.264 Baseline Profile with AAC-LC audio.</p>
<p>The iPod exporter is capable of producing .m4v files conforming to these profiles as shown in Tables 2 and 3.</p>
<p class="smalltext"><strong>Table 2 : </strong>Low-Complexity version of the H.264 Baseline Profile .m4v file type.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Media</th>
<th>Codec</th>
<th>Max. Bitrate </th>
<th>Rate</th>
<th>Max. Size/Channels</th>
<th>Profile</th>
</tr>
<tr>
<td scope="row">Video</td>
<td>H.264</td>
<td>1.5 Mbps</td>
<td>30 fps</td>
<td>640x480</td>
<td>Baseline Low-Complexity</td>
</tr>
<tr>
<td scope="row">Audio</td>
<td>AAC-LC</td>
<td>128 Kbps</td>
<td>44.1 kHz</td>
<td>Stereo, 2</td>
<td>&nbsp;</td>
</tr>
</table>
<p class="smalltext"><strong>Table 3 : </strong>Baseline (up to Level 1.3) .m4v file type.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Media</th>
<th>Codec</th>
<th>Max. Bitrate</th>
<th>Rate</th>
<th>Max. Size/Channels</th>
<th>Profile</th>
</tr>
<tr>
<td scope="row">Video</td>
<td>H.264</td>
<td>768 Kbps</td>
<td>30 fps</td>
<td>320x240</td>
<td>Baseline (up to Level 1.3)</td>
</tr>
<tr>
<td scope="row">Audio</td>
<td>AAC-LC</td>
<td>128 Kbps</td>
<td>44.1 kHz</td>
<td>Stereo, 2</td>
<td>&nbsp;</td>
</tr>
</table>
<div class="notebox">
<p><strong>Note: </strong>The H.264 standard includes a set of capabilities called profiles. For more information about the different levels of Baseline profile see <a href="http://en.wikipedia.org/wiki/H.264#Profiles">H.264 Profiles</a>.</p>
<p>The Low-Complexity version of the H.264 Baseline Profile has been defined by Apple for the iPod.</p>
</div>
<p>What defines the output result of an export operation using the iPod exporter are properties of the source movie passed to the exporter. Most important of these is the movie size as returned by the <code>GetMovieBox</code> API, or the <code>QTMovie</code> -<code>attributeForKey</code>: method using the <code>QTMovieCurrentSizeAttribute</code> key.</p>
<p>Depending on the source movie image size, the iPod export component will either produce a Low-Complexity version of the H.264 Baseline Profile .m4v file (see Table 2), or the Baseline profile .m4v file (see Table 3).</p>
<p>Developers adding export support for the iPod may expect to have specific output profile options presented in a configurable export dialog. It is important to note however that the iPod export component does <strong>NOT</strong> provide any user or developer configurable options.</p>
<div class="notebox"><p><strong>IMPORTANT: </strong>The iPod exporter component flag <code>hasMovieExportUserInterface</code> is clear, indicating that the component does not provide any user interface.</p></div>
<div class="notebox">
<p><strong>Note: </strong>The rectangle enclosing the movie display boundary region is called the movie box. QuickTime provides the <code>SetMovieBox</code> API allowing you to size and place a movie in the display coordinate system. QuickTime automatically adjusts the movie matrix to satisfy your request. The movie box may also be modified by adjusting the movie transformation matrix directly.</p>
<p>A movie's composition and size may differ depending on the selected aperture mode. For example, if Clean Aperture mode is selected, a 4:3 DV NTSC track appears as 640x480 and a 16:9 DV NTSC track appears as 853x480. Because the represented size of a movie may differ depending on aperture mode, the output produced by the iPod exporter may also differ.</p>
</div>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG4"></a><h3>Movie Size</h3>
<p>The iPod export component determines which profile  will be used to produce the output .m4v file by inspecting the source movie's image size.</p>
<p>The destination movie's image size and profile is determined as shown in Table 4.</p>
<p class="smalltext"><strong>Table 4 : </strong></p>
<table cellspacing="0" class="graybox">
<tr>
<th>Source Movie Size</th>
<th>Destination Movie Size</th>
<th>Destination Movie Profile</th>
</tr>
<tr>
<td scope="row">Smaller than or equal to 320x240 (≤ 320x240)</td>
<td>Same as source</td>
<td>Baseline Profile up to Level 1.3</td>
</tr>
<tr>
<td scope="row">Larger than 320x240 but smaller than or equal to 640x480 (&gt; 320x240 ≤ 640x480)</td>
<td>Same as source</td>
<td>Baseline Low-Complexity</td>
</tr>
<tr>
<td scope="row">Larger than 640x480 (&gt; 640x480)</td>
<td>Scaled to fit within 640x480 preserving aspect ratio</td>
<td>Baseline Low-Complexity</td>
</tr>
</table>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG5"></a><h3>Frame Rate</h3>
<p>The output frame rate is determined by  the source movie's frame rate, limited to 30 fps using adaptive frame sampling.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG6"></a><h3>Data Rate</h3>
<p>With the destination movie size being variable, the target data rate is calculated based on the effective destination movie image size (this is the movie image size after any scaling has been applied if required).</p>
<p>Output data rates are as follows:</p>
<ul>
<li><p>If the effective movie image size is smaller than or equal to QVGA (320x240) the data rate is 700 kbps.</p></li>
<li><p>If the effective movie image size is larger than HVGA (640x240) the data rate is 1.5 Mbps (1500 kbps).</p></li>
<li><p>If the effective movie image size is in between the above two sizes, data rate is interpolated between the two end points using the formula: DR = { (nMC * 8 ) / 3 } - 100 where DR is the data rate in kbps and nMC is the number of macroblocks in the image.</p></li>
</ul>
<p>The comparison of movie image sizes is done in terms of the number of macroblocks in the movie image.</p>
<div class="notebox"><p><strong>Note: </strong>The codec will also attempt to maintain a peak data rate under 249600 bytes over a 2.6 second period. </p></div>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG13"></a><h3>Code Example</h3>
<p>Listing 1 demonstrates one use of the iPod export component and will produce a Baseline profile .m4v file that will fit within 320x240. This is done by changing the source movie box appropriately regardless of the input movie size before passing it to the export component. Applications may want to perform an operation such as this to specifically produce a Baseline profile .m4v file from larger source media while still maintaining correct aspect ratio. </p>
<p>The results of using the code in Listing 1 to export a 16:9 DV NTSC 720x480 clip are shown in Figure 1 (using clean aperture mode) and Figure 2 (using classic aperture mode).</p>
<p class="caption"><strong>Figure 1: </strong>Circles are round.</p>
<p><img src="images/tn2188_exportclean.png" width="370" height="312" alt="Figure 1, Circles are round."></p>
<p><code>GetMovieBox</code> will return 853x480 and we set the wanted size to 320x180.</p>
<p class="caption"><strong>Figure 2: </strong>Circles not so round.</p>
<p><img src="images/tn2188_exportclassic.png" width="369" height="347" alt="Figure 2, Circles not so round."></p>
<p><code>GetMovieBox</code> will return 720x480 and we set the wanted size to 320x213.</p>
<div class="notebox"><p><strong>IMPORTANT: </strong>As shown in Table 4, the iPod export component will only scale movie images larger than 640x480 to fit while maintaining aspect ratio to produce Baseline Low-Complexity profile .m4v files. If you want to produce Baseline profile .m4v files up to 320x240 or Baseline Low-Complexity profile files larger than 320x240 (but smaller than or equal to 640x480), you will need to correct for aspect ratio yourself.</p></div>
<p>Listing 2 contains utility functions called by Listing 1.</p>
<p class="caption"><strong>Listing 1: </strong>Using the iPod export component.</p>
<pre class="sourcecodebox">// Export using the iPod export component
// In this function we specifically set the movie box to fit 320x240 regardless
// of the input movie size - this is a good demonstration as the results are
// readily apparent with 16:9 DV media 
OSStatus ExportiPodMovieToDesktop(Movie inMovie, Boolean inUseCleanApertureMode)
{
    // component description for the iPod exporter
    ComponentDescription cd = { MovieExportType,         // type 'spit'
                                'M4V ',                  // iPod export component
                                kAppleManufacturer,      // 'appl'
                                0,                       // any flags
                                kAnyComponentFlagsMask };

    Component aComponent = 0;
    MovieExportComponent theExportComponent = 0;

    Handle dataRef = NULL;
    OSType dataRefType = 0;

    OSType savedApertureMode = 0;

    Rect savedMovieBox = { 0 };

    OSStatus status = paramErr;

    if (NULL == inMovie) return status;

    // create a data reference for the output file
    status = QTNewDataReferenceFromFullPathCFString(
                                                CFSTR("/Volumes/MacOSX/Users/ed/Desktop/iPodMovie.m4v"),
                                                kQTNativeDefaultPathStyle,
                                                0,
                                                &amp;dataRef,
                                                &amp;dataRefType);
    if (status) goto bail;

    // set the aperture mode to clean -- this may change the size of the movie box
    // therefore we do this before anything else
    if (true == inUseCleanApertureMode) {
        status = SetMovieCleanApertureMode(inMovie, &amp;savedApertureMode);
        if (status) goto bail;
    }

    // save the original movie size because we're going to mess with it
    GetMovieBox(inMovie, &amp;savedMovieBox);
    if (status = GetMoviesError()) goto bail;

    // find the exporter -- note OpenADefaultComponent may also be an option
    aComponent = FindNextComponent(aComponent, &amp;cd);
    if (0 == aComponent) { status = badComponentType; goto bail; };

    // open it
    status = OpenAComponent(aComponent, &amp;theExportComponent);
    if (status) goto bail;

    // call our routine to set the movie box so the exporter will produce
    // the results we want - in this case up to 320x240 Baseline
    SetExportMovieBox(inMovie, 320, 240);

    // export to .m4v
    status = MovieExportToDataRef(theExportComponent,           // export component instance
                                  dataRef,                      // destination data reference
                                  dataRefType,                  // destination data reference type
                                  inMovie,                      // movie to export
                                  0,                            // export specific track?
                                  0,                            // start time
                                  GetMovieDuration(inMovie)); // duration

    // restore the saved movie box
    SetMovieBox(inMovie, &amp;savedMovieBox);

bail:
    // restore original aperture mode
    if (savedApertureMode) {
        QTSetMovieProperty(inMovie,
                           kQTPropertyClass_Visual,
                           kQTVisualPropertyID_ApertureMode,
                           sizeof(savedApertureMode),
                           &amp;savedApertureMode);
    }

    // dispose the data reference handle when you're done with it
    if (dataRef) DisposeHandle(dataRef);

    // always remember to close the component when you're done
    if (theExportComponent) CloseComponent(theExportComponent);

    return status;
}</pre>
<p class="caption"><strong>Listing 2: </strong>Functions used by listing 1.</p>
<pre class="sourcecodebox">// Set the movie aperture mode to Clean. In this mode,
// if possible, the video will be displayed at the correct
// pixel aspect ratio, trimmed to the clean aperture
// For example, 4:3 DV media will display at 640x480 instead of 720x480
OSErr SetMovieCleanApertureMode(Movie inMovie, OSTypePtr outSavedApertureMode)
{
    OSType mode = kQTApertureMode_CleanAperture;
    Boolean hasApertureModeDimensions = false;

    OSErr err;

    // does the movie have aperture mode dimensions?
    err = QTGetMovieProperty(inMovie,
                             kQTPropertyClass_Visual,
                             kQTVisualPropertyID_HasApertureModeDimensions,
                             sizeof(hasApertureModeDimensions),
                             &amp;hasApertureModeDimensions,
                             NULL);

    if (noErr == err) {
        if (false == hasApertureModeDimensions) {
            // update the movie to support aperture modes
            err = GenerateMovieApertureModeDimensions(inMovie);
        }

        if (noErr == err) {
            // return the original mode
            err = QTGetMovieProperty(inMovie,
                                     kQTPropertyClass_Visual,
                                     kQTVisualPropertyID_ApertureMode,
                                     sizeof(OSType),
                                     outSavedApertureMode,
                                     NULL);

            if (noErr == err) { 
                // set the aperture mode property on a movie to indicate we want
                // aspect ratio and clean aperture dimensions
                err = QTSetMovieProperty(inMovie,
                                         kQTPropertyClass_Visual,
                                         kQTVisualPropertyID_ApertureMode,
                                         sizeof(mode),
                                         &amp;mode);
            }
        }
    }

    return err;
}

static void SetExportMovieBox(Movie inMovie, float inWantedWidth, float inWantedHeight)
{
    Rect movieRect;

    float movieRatio, wantedRatio;
    float movieWidth, movieHeight;
    float newWidth, newHeight;

    // get the current movie box
    GetMovieBox(inMovie, &amp;movieRect);

    // normalize movie box
    MacOffsetRect(&amp;movieRect, -movieRect.left, -movieRect.top);

    // get the sizes
    movieWidth = movieRect.right;
    movieHeight = movieRect.bottom;

    // some simple sanity checking - requesting &gt; 640x480 doesn't make sense
    // in cases where the movie is larger than 640 wide or 480 high
    // the iPod exporter will scale the movie to fit in 640x480 while
    // preserving aspect ratio - so don't do extra work
    if ((movieWidth &gt;= 640 &amp;&amp; inWantedWidth &gt;= 640) ||
        (movieHeight &gt;= 480 &amp;&amp; inWantedHeight &gt;= 480)) return;

    /** calculate a new rect so that the movie fits into the wanted rect while retaining its aspect ratio */

    movieRatio = movieWidth / movieHeight;
    wantedRatio = inWantedWidth / inWantedHeight;

    if (movieRatio &gt; wantedRatio) {
        newHeight = (inWantedWidth * movieHeight) / movieWidth;
        newWidth = inWantedWidth;
    } else {
        newWidth = (inWantedHeight * movieWidth) / movieHeight;
        newHeight = inWantedHeight;
    }

    // set the new movie box
    MacSetRect(&amp;movieRect, 0, 0, newWidth, newHeight);
    SetMovieBox(inMovie, &amp;movieRect);
}</pre>
<div class="notebox">
<p><strong>IMPORTANT: </strong>At the time of this writing (QuickTime Version 7.2), the iPod Export Component has the <code>canMovieExportFromProcedures</code> flag set but <strong>does not</strong> support exporting via <code>MovieExportFromProceduresToDataRef</code>.</p>
<p>Therefore, it is important to take this into consideration when searching for and using this component. If you are currently using <code>MovieExportFromProceduresToDataRef</code> as your means of export, you will need to first produce an intermediate movie file then call <code>ConvertMovieToDataRef</code> or <code>MovieExportToDataRef</code> to produce the final .m4v.</p>
</div>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG18"></a><h2>Apple TV Export Component</h2>
<p>The Apple TV export component is available with QuickTime 7.1.5 or later and supports exporting progressive H.264 video up to 1280x720 (720p) Main Profile (up to Level 3.1) with B-Frames and AAC-LC encoded stereo audio.</p>
<p>To find the Apple TV export component, use the component description shown in Table 5.</p>
<p class="smalltext"><strong>Table 5 : </strong>Component Description for the Apple TV export component.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Component Description</th>
<th>iPod Exporter</th>
</tr>
<tr>
<td scope="row"><code>componentType</code></td>
<td>MovieExportType</td>
</tr>
<tr>
<td scope="row"><code>componentSubType</code></td>
<td>'M4VH'</td>
</tr>
<tr>
<td scope="row"><code>componentManufacturer</code></td>
<td>kAppleManufacturer</td>
</tr>
<tr>
<td scope="row"><code>componentFlags</code></td>
<td>0</td>
</tr>
<tr>
<td scope="row"><code>componentFlagsMask</code></td>
<td>kAnyComponentFlagsMask </td>
</tr>
</table>
<a name="TNTAG19"></a><h3>Summary of Features</h3>
<p>Apple TV has the ability to playback Main Profile (up to Level 3.1) H.264 progressive video with B-Frames up to 1280x720 (720p) at 24 fps and AAC-LC encoded stereo audio with a maximum sampling rate of 44.1kHz.</p>
<p>The Apple TV exporter is capable of producing .m4v files with the specifications listed in Table 6.</p>
<p class="smalltext"><strong>Table 6 : </strong>Progressive Main Profile with B-Frames .m4v file type.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Media</th>
<th>Codec</th>
<th>Max. Bitrate</th>
<th>Rate</th>
<th>Max. Size/Channels</th>
<th>Profile</th>
<th>Max. Profile Level</th>
</tr>
<tr>
<td scope="row">Video</td>
<td>H.264</td>
<td>5 Mbps*</td>
<td>30 fps**</td>
<td>1280x720</td>
<td>Progressive Main Profile with B-Frames</td>
<td>3.1</td>
</tr>
<tr>
<td scope="row">Audio</td>
<td>AAC-LC</td>
<td>128 Kbps</td>
<td>44.1 kHz</td>
<td>Stereo, 2</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</table>
<pre class="sourcecodebox">*Maximum  spikes may be as high as 12 Mbps.
**Maximum frame rate for 1280x720 content is 24 fps.</pre>
<p>What defines the output result of an export operation using the Apple TV exporter are properties of the source movie passed to the component. Most important of these is the frame rate and movie size as returned by the <code>GetMovieBox</code> API, or the <code>QTMovie</code> -<code>attributeForKey</code>: method using the <code>QTMovieCurrentSizeAttribute</code> key.</p>
<p>The Apple TV export component will produce an .m4v file at the appropriate size and profile level depending on the source movie image size and frame rate.</p>
<p>Developers adding export support for the Apple TV may expect to have specific output options presented in a configurable export dialog. It is important to note however that Apple TV export component does <strong>NOT</strong> provide any user or developer configurable options.</p>
<div class="notebox"><p><strong>IMPORTANT: </strong>The Apple TV exporter component flag <code>hasMovieExportUserInterface</code> is clear, indicating that the component does not provide any user interface.</p></div>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG20"></a><h3>Movie Size</h3>
<p>The destination movie image size is determined by the source movie image size as well as the source movie frame rate as shown in Table 7. The maximum dimensions produced are 1280x720 at 24 fps and 960x540 at 30 fps.</p>
<p class="smalltext"><strong>Table 7 : </strong></p>
<table cellspacing="0" class="graybox">
<tr>
<th>Source Frame Rate</th>
<th>Source size smaller than or equal to 960x540 (≤ 960x540)</th>
<th>Source size smaller or equal to 1280x720 (≤ 1280x720)</th>
<th>Source size larger than 1280x720 (&gt; 1280x720)</th>
</tr>
<tr>
<td scope="row">Less than 25 fps (&lt; 25)</td>
<td>Destination same as source</td>
<td>Destination same as source</td>
<td>Destination scaled to fit within 1280x720 preserving aspect ratio</td>
</tr>
<tr>
<td scope="row">Greater than or equal to 25 fps (≥ 25)</td>
<td>Destination same as source</td>
<td>Destination scaled to fit within 960x540 preserving aspect ratio</td>
<td>Destination scaled to fit within 960x540 preserving aspect ratio</td>
</tr>
</table>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG21"></a><h3>Frame Rate</h3>
<p>Destination frame rate is determined by source movie frame rate as well as source movie image size. The exporter will always favour maintaining frame rate, therefore if the source movie frame rate is less than or equal to 30 it is not modified (this may however cause the destination movie image size to change, for example a 1280x720 29.97 fps source movie will produce a 960x540 29.97 fps destination movie).</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG22"></a><h3>Data Rate</h3>
<p>The data rate is restricted to a maximum of 5 Mbps (5000 kbps) and will vary depending on the source. It is based on the effective destination movie image size (this is the movie image size after any scaling has been applied if required) linearly interpolated between the defined movie sizes as shown in Table 8.</p>
<p>Additionally, within an encoded movie the data rate may spike up to a maximum of 12 Mbps.</p>
<p class="smalltext"><strong>Table 8 : </strong></p>
<table cellspacing="0" class="graybox">
<tr>
<th>Destination Movie Size</th>
<th>Max. Destination Movie Data Rate</th>
</tr>
<tr>
<td scope="row">Smaller or equal to 320x240 (≤ 320x240)</td>
<td>768 kbps</td>
</tr>
<tr>
<td scope="row">Larger than 320x240 but smaller or equal to 848x480 (&gt; 320x240 ≤ 848x480)</td>
<td>3000 kbps</td>
</tr>
<tr>
<td scope="row">Larger than 848x480 but smaller or equal to 1280x720 (&gt; 848x480 ≤ 1280x720)</td>
<td>5000 kbps</td>
</tr>
</table>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG28"></a><h3>Code Example</h3>
<p>Listing 3 demonstrates standard use of the Apple TV export component making sure the source movie has been set to clean aperture mode before export.</p>
<p class="caption"><strong>Listing 3: </strong>Using the Apple TV export component.</p>
<pre class="sourcecodebox">// Simple export to ATV making sure original source movie is using clean aperture dimensions
OSStatus ExportATVMovieToDesktop(Movie inMovie, Boolean inUseCleanApertureMode)
{
    MovieExportComponent theExportComponent = 0;

    Handle dataRef = NULL;;
    OSType dataRefType = 0;

    OSType savedApertureMode = kQTApertureMode_Classic;

    OSStatus status = paramErr;

    if (NULL == inMovie) return status;

    // create a data reference for the output file
    status = QTNewDataReferenceFromFullPathCFString(
                                                CFSTR("/Volumes/MacOSX/Users/ed/Desktop/ATVMovie.m4v"),
                                                kQTNativeDefaultPathStyle,
                                                0,
                                                &amp;dataRef,
                                                &amp;dataRefType);
    if (status) goto bail;

    // find and open the ATV export component
    status = OpenADefaultComponent(MovieExportType, 'M4VH', &amp;theExportComponent);
    if (status) goto bail;

    // set the aperture mode to clean -- this may change the size of the movie box
    // therefore we do this before anything else
    if (true == inUseCleanApertureMode) {
        status = SetMovieCleanApertureMode(inMovie, &amp;savedApertureMode);
        if (status) goto bail;
    }

    // export to .m4v
    status = MovieExportToDataRef(theExportComponent,           // export component instance
                                  dataRef,                      // destination data reference
                                  dataRefType,                  // destination data reference type
                                  inMovie,                      // movie to export
                                  0,                            // export specific track?
                                  0,                            // start time
                                  GetMovieDuration(inMovie)); // duration

    // restore original aperture mode
    if (true == inUseCleanApertureMode) {
        QTSetMovieProperty(inMovie,
                           kQTPropertyClass_Visual,
                           kQTVisualPropertyID_ApertureMode,
                           sizeof(savedApertureMode),
                           &amp;savedApertureMode);
    }

bail:
    // always remember to close the component when you're done
    if (theExportComponent) CloseComponent(theExportComponent);

    // dispose the data reference handle when you're done with it
    if (dataRef) DisposeHandle(dataRef);

    return status;
}</pre>
<div class="notebox">
<p><strong>IMPORTANT: </strong>At the time of this writing (QuickTime Version 7.2), the Apple TV Export Component has the <code>canMovieExportFromProcedures</code> flag set but <strong>does not</strong> support exporting via <code>MovieExportFromProceduresToDataRef</code>.</p>
<p>Therefore, it is important to take this into consideration when searching for and using this component. If you are currently using <code>MovieExportFromProceduresToDataRef</code> as your means of export, you will need to first produce an intermediate movie file then call <code>ConvertMovieToDataRef</code> or <code>MovieExportToDataRef</code> to produce the final .m4v.</p>
</div>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG29"></a><h2>iPhone Export Component</h2>
<p>The iPhone export component is available with QuickTime 7.2 or later and supports exporting Baseline profile H.264 video up to 480x360 and AAC-LC encoded stereo audio.</p>
<p>To find the iPhone export component, use the component description shown in Table 9.</p>
<p class="smalltext"><strong>Table 9 : </strong>Component Description for the iPhone export component.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Component Description</th>
<th>iPhone Exporter</th>
</tr>
<tr>
<td scope="row"><code>componentType</code></td>
<td>MovieExportType</td>
</tr>
<tr>
<td scope="row"><code>componentSubType</code></td>
<td>'M4VP'</td>
</tr>
<tr>
<td scope="row"><code>componentManufacturer</code></td>
<td>kAppleManufacturer</td>
</tr>
<tr>
<td scope="row"><code>componentFlags</code></td>
<td>0</td>
</tr>
<tr>
<td scope="row"><code>componentFlagsMask</code></td>
<td>kAnyComponentFlagsMask </td>
</tr>
</table>
<a name="TNTAG40"></a><h3>Summary of Features</h3>
<p>iPhone has the ability to playback H.264 Baseline Profile (up to Level 3.0) video, up to 640x480 at 30 fps and AAC-LC encoded stereo audio with a maximum sampling rate of 48kHz. iPhone will also play movies or audio files that can play on an iPod. Note that B frames are not supported in the Baseline profile.</p>
<p>The iPhone exporter is capable of producing .m4v files for local playback or WiFi playback where the total data rate is approximately 1 Mbps. The generated file specifications are shown in Table 10.</p>
<p class="smalltext"><strong>Table 10 : </strong>Baseline (up to Level 3.0) .m4v file type.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Media</th>
<th>Codec</th>
<th>Max. Bitrate</th>
<th>Rate</th>
<th>Max. Size/Channels</th>
<th>Profile</th>
</tr>
<tr>
<td scope="row">Video</td>
<td>H.264</td>
<td>900 Kbps</td>
<td>30 fps</td>
<td>480x360</td>
<td>Baseline (up to Level 3.0)</td>
</tr>
<tr>
<td scope="row">Audio</td>
<td>AAC-LC</td>
<td>128 Kbps</td>
<td>44.1 kHz</td>
<td>Stereo, 2</td>
<td>&nbsp;</td>
</tr>
</table>
<p>What defines the output result of an export operation using the iPhone exporter are properties of the source movie passed to the component. Most important of these is the movie size as returned by the <code>GetMovieBox</code> API, or the <code>QTMovie</code> -<code>attributeForKey</code>: method using the <code>QTMovieCurrentSizeAttribute</code> key. The iPhone export component will produce an .m4v file at the appropriate size and profile level depending on the source movie image size.</p>
<p>Developers adding export support for the iPhone may expect to have specific output options presented in a configurable export dialog. It is important to note however that iPhone export component does <strong>NOT</strong> provide any user or developer configurable options.</p>
<div class="notebox"><p><strong>IMPORTANT: </strong>The iPhone exporter component flag <code>hasMovieExportUserInterface</code> is clear, indicating that the component does not provide any user interface.</p></div>
<div class="notebox">
<p><strong>IMPORTANT: </strong>At the time of this writing (QuickTime Version 7.2), the iPhone Export Component has the <code>canMovieExportFromProcedures</code> flag set but <strong>does not</strong> support exporting via <code>MovieExportFromProceduresToDataRef</code>.</p>
<p>Therefore, it is important to take this into consideration when searching for and using this component. If you are currently using <code>MovieExportFromProceduresToDataRef</code> as your means of export, you will need to first produce an intermediate movie file then call <code>ConvertMovieToDataRef</code> or <code>MovieExportToDataRef</code> to produce the final .m4v.</p>
</div>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG33"></a><h3>Movie Size</h3>
<p>The iPhone export component determines which profile will be used to produce the output .m4v file by inspecting the source movie's image size.</p>
<p>The destination movie's image size and profile is determined as shown in Table 11.</p>
<p class="smalltext"><strong>Table 11 : </strong></p>
<table cellspacing="0" class="graybox">
<tr>
<th>Source Movie Size</th>
<th>Destination Movie Size</th>
<th>Destination Movie Profile</th>
</tr>
<tr>
<td scope="row">Smaller than or equal to 320x240 (≤ 320x240)</td>
<td>Same as source</td>
<td>Baseline Profile up to Level 1.3</td>
</tr>
<tr>
<td scope="row">Larger than 320x240 but smaller than or equal to 480x360 (&gt; 320x240 ≤ 480x360)</td>
<td>Same as source</td>
<td>Baseline Profile up to Level 3.0</td>
</tr>
<tr>
<td scope="row">Larger than 480x360 (&gt; 480x360)</td>
<td>Scaled to fit within 480x360 preserving aspect ratio</td>
<td>Baseline Profile up to Level 3.0</td>
</tr>
</table>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG34"></a><h3>Frame Rate</h3>
<p>The output frame rate is determined by  the source movie's frame rate, limited to 30 fps using adaptive frame sampling.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG35"></a><h3>Data Rate</h3>
<p>With the destination movie size being variable, the target video data rate is calculated based on the effective destination movie image size (this is the movie image size after any scaling has been applied if required).</p>
<p>Output data rates are as follows:</p>
<ul>
<li><p>If the effective movie image size is smaller than or equal to 320x240 the data rate is 700 kbps.</p></li>
<li><p>If the effective movie image size is larger 480x360 the data rate is 900 kbps.</p></li>
<li><p>If the effective movie image size is in between the above two sizes, the data rate is linearly interpolated between the two end points.</p></li>
</ul>
<p>The comparison of movie image sizes is done in terms of the number of macroblocks in the movie image.</p>
<div class="notebox"><p><strong>Note: </strong>The codec will also attempt to maintain a peak data rate under 249600 bytes over a 2.6 second period. </p></div>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG26"></a><h3>Code Example</h3>
<p>Listing 4 demonstrates how easy it is to use QTKit to create content for the iPhone.</p>
<p class="caption"><strong>Listing 4: </strong>Using QTKit to export to iPhone.</p>
<pre class="sourcecodebox">- (void)exportMovieToiPhone:(NSString *)inFile
{
    NSError *error = nil;

    // create the attributes dictionary for movieWithAttributes
    NSDictionary *attrs = [NSDictionary dictionaryWithObjectsAndKeys:
                              (id)inFile,                    QTMovieFileNameAttribute,
                              [NSNumber numberWithBool:NO],  QTMovieOpenAsyncOKAttribute,
                              QTMovieApertureModeClean,      QTMovieApertureModeAttribute,
                              [NSNumber numberWithBool:YES], QTMovieIsActiveAttribute,
                              nil];

    // create a QTMovie from the file
    QTMovie *aMovie = [QTMovie movieWithAttributes:attrs error:&amp;error];

    if (aMovie &amp;&amp; nil == error) {
        // do export
        //'M4VP' is the FourCC for the iPhone export component
        NSDictionary *dictionary = [NSDictionary dictionaryWithObjectsAndKeys:
                                      [NSNumber numberWithBool:YES],    QTMovieExport,
                                      [NSNumber numberWithLong:'M4VP'], QTMovieExportType,
                                      nil];

        // export the movie using the specified exporter 
        BOOL status = [aMovie writeToFile:@"/Users/Shared/myiPhoneMovie.m4v" withAttributes:dictionary];

        if (NO == status) {
            // something didn't go right during the export process
            NSLog(@"%@ encountered a problem when exporting.\n", [inFile lastPathComponent]);
        }
    } else {
        // couldn't open the movie
        NSAlert *alert = [NSAlert alertWithError:error];
        [alert runModal];
    }
}</pre>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG31"></a><h2>iPhone (Cellular) Export Component</h2>
<p>The iPhone (Cellular) export component is available with QuickTime 7.2 or later and supports exporting Baseline level 1.0 profile H.264 video up to 176x144 and AAC-LC encoded monophonic audio.</p>
<p>To find the iPhone (Cellular) export component, use the component description shown in Table 12.</p>
<p class="smalltext"><strong>Table 12 : </strong>Component Description for the iPhone (Cellular) export component.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Component Description</th>
<th>iPhone (Cellular) Exporter</th>
</tr>
<tr>
<td scope="row"><code>componentType</code></td>
<td>MovieExportType</td>
</tr>
<tr>
<td scope="row"><code>componentSubType</code></td>
<td>'iphE'</td>
</tr>
<tr>
<td scope="row"><code>componentManufacturer</code></td>
<td>kAppleManufacturer</td>
</tr>
<tr>
<td scope="row"><code>componentFlags</code></td>
<td>0</td>
</tr>
<tr>
<td scope="row"><code>componentFlagsMask</code></td>
<td>kAnyComponentFlagsMask </td>
</tr>
</table>
<a name="TNTAG36"></a><h3>Summary of Features</h3>
<p>iPhone has the ability to playback H.264 Baseline Profile (up to Level 3.0) video, up to 640x480 at 30 fps and AAC-LC encoded stereo audio with a maximum sampling rate of 48kHz. iPhone will also play movies or audio files that can play on an iPod. Note that B frames are not supported in the Baseline profile.</p>
<p>The iPhone (Cellular) export component produces .3gp files playable through the EDGE/3G network (via progressive download) where the total data rate is 80kbps. The generated file specifications are listed in Table 13.</p>
<p class="smalltext"><strong>Table 13 : </strong>Baseline level 1.0 .3gp file type.</p>
<table cellspacing="0" class="graybox">
<tr>
<th>Media</th>
<th>Codec</th>
<th>Max. Bitrate</th>
<th>Rate</th>
<th>Max. Size/Channels</th>
<th>Profile</th>
</tr>
<tr>
<td scope="row">Video</td>
<td>H.264</td>
<td>56 Kbps</td>
<td>15 fps</td>
<td>176x144</td>
<td>Baseline Level 1.0</td>
</tr>
<tr>
<td scope="row">Audio</td>
<td>AAC-LC</td>
<td>24 Kbps</td>
<td>16 kHz</td>
<td>Mono, 1</td>
<td>&nbsp;</td>
</tr>
</table>
<p>What defines the output result of an export operation using the iPhone (Cellular) exporter are properties of the source movie passed to the component. Most important of these is the movie size as returned by the <code>GetMovieBox</code> API, or the <code>QTMovie</code> -<code>attributeForKey</code>: method using the <code>QTMovieCurrentSizeAttribute</code> key. The iPhone (Cellular) component will produce .3gp files at the appropriate size depending on the source movie image size.</p>
<p>Developers adding export support for the iPhone and using the iPhone (Cellular) exporter may expect to have specific output options presented in a configurable export dialog. It is important to note however that iPhone (Cellular) export component does <strong>NOT</strong> provide any user or developer configurable options.</p>
<div class="notebox"><p><strong>IMPORTANT: </strong>The iPhone (Cellular) exporter component flag <code>hasMovieExportUserInterface</code> is clear, indicating that the component does not provide any user interface.</p></div>
<div class="notebox">
<p><strong>IMPORTANT: </strong>At the time of this writing (QuickTime Version 7.2), the iPhone (Cellular) Export Component has the <code>canMovieExportFromProcedures</code> flag set but <strong>does not</strong> support exporting via <code>MovieExportFromProceduresToDataRef</code>.</p>
<p>Therefore, it is important to take this into consideration when searching for and using this component. If you are currently using <code>MovieExportFromProceduresToDataRef</code> as your means of export, you will need to first produce an intermediate movie file then call <code>ConvertMovieToDataRef</code> or <code>MovieExportToDataRef</code> to produce the final .3gp.</p>
</div>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG37"></a><h3>Movie Size</h3>
<p>The iPhone (Cellular) export component determines output image size by inspecting the source movie's image size and always attempts to fit within 176x144 preserving aspect ratio.</p>
<p>The destination movie's image size is determined as shown in Table 14.</p>
<p class="smalltext"><strong>Table 14 : </strong></p>
<table cellspacing="0" class="graybox">
<tr>
<th>Source Movie Size</th>
<th>Destination Movie Size</th>
<th>Destination Movie Profile</th>
</tr>
<tr>
<td scope="row">Smaller than 176x144 (&lt; 176x144)</td>
<td>Scales up to 176x144</td>
<td>Baseline Level 1.0</td>
</tr>
<tr>
<td scope="row">Equal to 176x144 (= 176x144)</td>
<td>Same as source</td>
<td>Baseline Level 1.0</td>
</tr>
<tr>
<td scope="row">Larger than 176x144 (&gt; 176x144)</td>
<td>Scaled to fit within 176x144 preserving aspect ratio</td>
<td>Baseline Level 1.0</td>
</tr>
</table>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG38"></a><h3>Frame Rate</h3>
<p>The output frame rate is always 15 fps regardless of the source frame rate.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG39"></a><h3>Data Rate</h3>
<p>The target video data rate is always 56 Kbps and as the movie size is almost always 176x144 no data rate interpolation is performed.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="TNTAG17"></a><h2>References</h2>
<ul>
<li><p><a href="../../documentation/QuickTime/RM/ImportExport/DataExchange/A-Intro/1Introduction.html#//apple_ref/doc/uid/TP40000903-IntroductiontoQuickTimeImportandExportGuide" target="_top">Introduction to QuickTime Import and Export Guide</a></p></li>
<li><p><a href="http://developer.apple.com/documentation/QuickTime/Conceptual/QT7-1_Update_Guide/index.html">QuickTime 7.1 Update Guide</a></p></li>
<li><p><a href="http://developer.apple.com/documentation/QuickTime/Conceptual/QT7-1_Update_Guide/Content/2NewFeaturesChangesa.html#//apple_ref/doc/uid/TP40003543-NewFeaturesChangesandEnhancementsinQuickTime71-SW3">Improved Visual Quality and New Aperture Mode APIs</a></p></li>
</ul>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="document_revision_summary"></a><h2>Document Revision History</h2>
<table cellspacing="0" class="graybox" width="680">
<tr>
<th width="100">Date</th>
<th width="580">Notes</th>
</tr>
<tr>
<td scope="row">2009-04-30</td>
<td>Editorial Updates</td>
</tr>
<tr>
<td scope="row">2007-07-19</td>
<td>Minor editorial corrections.</td>
</tr>
<tr>
<td scope="row">2007-07-18</td>
<td>Updated for QuickTime 7.2 with the addition of iPhone and iPhone (Cellular) exporter sections</td>
</tr>
<tr>
<td scope="row">2007-05-14</td>
<td>Added MovieExportFromProceduresToDataRef information</td>
</tr>
<tr>
<td scope="row">2007-03-21</td>
<td>Discusses the use of the iPod, Apple TV and iPhone QuickTime export components.</td>
</tr>
</table>
<p><b>Posted: </b>2009-04-30</p>
<!-- END CONTENTS -->
</td></tr></table>
<!-- END WIDE COLUMN --><!-- END MAIN CONTENT --><!-- START BOTTOM APPLE NAVIGATION -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn2007/tn2188.html%3Fid%3DDTS10004236-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn2007/tn2188.html%3Fid%3DDTS10004236-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn2007/tn2188.html%3Fid%3DDTS10004236-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer" --><!-- END BOTTOM APPLE NAVIGATION --><!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->
</body>
</html>
