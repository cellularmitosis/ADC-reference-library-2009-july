<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>ABAddressBook Class Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="ABAddressBook Class Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001542" title="ABAddressBook"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../../reference/Cocoa/index.html#//apple_ref/doc/uid/TP30001281-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../../../../reference/Cocoa/idxAppleApplications-date.html#//apple_ref/doc/uid/TP30001281-TP30000416-TP30000900" target="_top">Apple Applications</a> &gt; <a href="../index.html" target="_top">ABAddressBook Class Objective-C Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/cl/ABAddressBook" title="ABAddressBook"></a><a name="//apple_ref/doc/c_ref/ABAddressBook" title="ABAddressBook"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_15" title="ABAddressBook"></a><h1>ABAddressBook Class Objective-C Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Inherits from</span></strong></td><td><div style="margin-bottom:1px"><a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html#//apple_ref/occ/cl/NSObject" target="_top">NSObject</a></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Conforms to</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../../Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intf/NSObject" target="_top">NSObject (NSObject)</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/<a href="../../../ObjC_classic/index.html#//apple_ref/doc/uid/20001692" target="_top">AddressBook.framework</a></div></td></tr><tr><td scope="row"><strong>Availability</strong></td><td><div style="margin-bottom:1px"><div>Available in Mac OS X v10.2 and later.</div></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guide</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../Conceptual/AddressBook/index.html#//apple_ref/doc/uid/10000117i" target="_top">Address Book Programming Guide for Mac OS X</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">ABAddressBook.h</span><br/><span class="content_text">ABGlobals.h</span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Related sample code</span></strong></td><td><div style="margin-bottom:1px"><div><span class="content_text"><a href="../../../../../../../samplecode/ABPresence/index.html#//apple_ref/doc/uid/DTS10004061" target="_top">ABPresence</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/AddressBookCocoa/index.html#//apple_ref/doc/uid/DTS10000660" target="_top">AddressBookCocoa</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/Birthdays/index.html#//apple_ref/doc/uid/DTS10003982" target="_top">Birthdays</a></span></div></div></td></tr></table></div><br/>



<a name="//apple_ref/doc/uid/20001542-4355" title="Overview"></a><h2>Overview</h2>

<p class="spaceabove">The ABAddressBook class provides a programming interface to the Address Book—a centralized database used by multiple applications to store contact and other personal information about people. The Address Book database also supports the notion of a “group” containing one or more persons. People may belong to multiple groups, and groups may also belong to other groups with some restrictions (for example, no circular references are allowed).</p>
<p>The ABAddressBook class provides methods for accessing, adding, and removing group and person records including the “me” record corresponding to the logged-in user. For example, you use the <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/groups">groups</a></code> method to get an array of all the group records in the database, or the <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/people">people</a></code> method to get all the person records. You use the <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/me">me</a></code> method to get the person record corresponding to the logged-in user. You can also add and remove records using the <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/addRecord:">addRecord:</a></code> and <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/removeRecord:">removeRecord:</a></code> methods.</p>
<p>You can also search for records matching a particular query you specify by creating an ABSearchElement object. You use the <code><a href="../../ABPerson_Class/Reference/Reference.html#//apple_ref/occ/clm/ABPerson/searchElementForProperty:label:key:value:comparison:" target="_top">searchElementForProperty:label:key:value:comparison:</a></code> method in the ABPerson and ABGroup class to create an ABSearchElement object for the corresponding record. Then use the <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/recordsMatchingSearchElement:">recordsMatchingSearchElement:</a></code> ABAddressBook method, passing the ABSearchElement as the argument, to query the database. See <code><a href="../../ABSearchElement_Class/Reference/Reference.html#//apple_ref/occ/cl/ABSearchElement" target="_top">ABSearchElement</a></code> for more methods that create compound queries.</p>
<p>Your application uses a shared instance of ABAddressBook returned by the <code><a href="Reference.html#//apple_ref/occ/clm/ABAddressBook/sharedAddressBook">sharedAddressBook</a></code> class method to interact with the database (multiple ABAddressBook instances are not supported). Changes you make to record objects are stored in memory and saved to disk when you invoke the <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/saveAndReturnError:">saveAndReturnError:</a></code> method. </p>
<p>The Address Book posts notifications if any application including yours makes changes to the database. Typically, you observe these notifications to update any dependent view or model objects in your application. Use <span class="content_text"><a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSNotificationCenter_Class/Reference/Reference.html#//apple_ref/occ/cl/NSNotificationCenter" target="_top">NSNotificationCenter</a></span> to register for the ABAddressBook notifications: <code><a href="Reference.html#//apple_ref/c/data/kABDatabaseChangedNotification">kABDatabaseChangedNotification</a></code> and <code><a href="Reference.html#//apple_ref/c/data/kABDatabaseChangedExternallyNotification">kABDatabaseChangedExternallyNotification</a></code>. These notifications are not sent until the<code>sharedAddressBook</code> class method has been invoked.</p>
<p>The ABAddressBook class is “toll-free bridged” with its procedural C, opaque type, counterpart. This means that the <code>ABAddressBookRef</code> type is interchangeable in function or method calls with instances of the ABAddressBook class.</p>




<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_1" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_2" title="Creating and Initializing an ABAddressBook"></a>
		<h3 class="tasks">Creating and Initializing an ABAddressBook</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/ABAddressBook/sharedAddressBook">+&#xA0;sharedAddressBook</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/ABAddressBook/addressBook">+&#xA0;addressBook</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a new instance of ABAddressBook.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_3" title="Retrieving Groups and People"></a>
		<h3 class="tasks">Retrieving Groups and People</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/groups">&#8211;&#xA0;groups</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/people">&#8211;&#xA0;people</a></code>
                    
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_4" title="Setting and Retrieving the Logged-in User&acirc;&#128;&#153;s Record"></a>
		<h3 class="tasks">Setting and Retrieving the Logged-in User’s Record</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/me">&#8211;&#xA0;me</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/setMe:">&#8211;&#xA0;setMe:</a></code>
                    
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_5" title="Retrieving a Specific Record"></a>
		<h3 class="tasks">Retrieving a Specific Record</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/recordForUniqueId:">&#8211;&#xA0;recordForUniqueId:</a></code>
                    
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_6" title="Retrieving the Class of a Record"></a>
		<h3 class="tasks">Retrieving the Class of a Record</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/recordClassFromUniqueId:">&#8211;&#xA0;recordClassFromUniqueId:</a></code>
                    
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_7" title="Retrieving a Formatted Address"></a>
		<h3 class="tasks">Retrieving a Formatted Address</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/formattedAddressFromDictionary:">&#8211;&#xA0;formattedAddressFromDictionary:</a></code>
                    
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_8" title="Retrieving Default Values"></a>
		<h3 class="tasks">Retrieving Default Values</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/defaultCountryCode">&#8211;&#xA0;defaultCountryCode</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/defaultNameOrdering">&#8211;&#xA0;defaultNameOrdering</a></code>
                    
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_9" title="Adding and Removing Records"></a>
		<h3 class="tasks">Adding and Removing Records</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/addRecord:">&#8211;&#xA0;addRecord:</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/removeRecord:">&#8211;&#xA0;removeRecord:</a></code>
                    
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_10" title="Searching"></a>
		<h3 class="tasks">Searching</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/recordsMatchingSearchElement:">&#8211;&#xA0;recordsMatchingSearchElement:</a></code>
                    
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_11" title="Saving and Detecting Changes"></a>
		<h3 class="tasks">Saving and Detecting Changes</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/hasUnsavedChanges">&#8211;&#xA0;hasUnsavedChanges</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/save">&#8211;&#xA0;save</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/saveAndReturnError:">&#8211;&#xA0;saveAndReturnError:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Saves all the changes made since the last save.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20001542-DontLinkElementID_12" title="Class Methods"></a><h2>Class Methods</h2><a name="//apple_ref/occ/clm/ABAddressBook/addressBook" title="addressBook"></a><a name="//apple_ref/doc/uid/20001542-SW1" title="addressBook"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_16"></a><h3 class="verytight">addressBook</h3><p class="spaceabove">Returns a new instance of ABAddressBook.</p><p class="spaceabovemethod">+ (ABAddressBook *)addressBook</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code>+&#xA0;sharedAddressBook</code></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/clm/ABAddressBook/sharedAddressBook" title="sharedAddressBook"></a><a name="//apple_ref/doc/uid/20001542-CJDBIIEF" title="sharedAddressBook"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_17"></a>
<h3 class="verytight">sharedAddressBook</h3>
<p class="spaceabovemethod">+ (ABAddressBook *)sharedAddressBook</p>
<h5 class="tight">Discussion</h5><p>Returns the unique shared instance of ABAddressBook. This method returns the address book for the logged-in user that is shared by every application. If you call this method more than once or try to create a new address book, you get a pointer to the same shared address book.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code>+&#xA0;addressBook</code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/ABPresence/index.html#//apple_ref/doc/uid/DTS10004061" target="_top">ABPresence</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/AddressBookCocoa/index.html#//apple_ref/doc/uid/DTS10000660" target="_top">AddressBookCocoa</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/Birthdays/index.html#//apple_ref/doc/uid/DTS10003982" target="_top">Birthdays</a></span></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_13" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/instm/ABAddressBook/addRecord:" title="addRecord:"></a><a name="//apple_ref/doc/uid/20001542-CJBBJEIF" title="addRecord:"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_18"></a><h3 class="verytight">addRecord:</h3>
<p class="spaceabovemethod">- (BOOL)addRecord:(<a href="../../ABRecord_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ABRecord" target="_top">ABRecord</a> *)<em>record</em></p>
<h5 class="tight">Discussion</h5><p>Adds an ABPerson or ABGroup record to the Address Book database. If the <em>record</em> argument is <code>nil</code>, this method raises an exception. This method returns <code>YES</code> if the record was added successfully, <code>NO</code> otherwise. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/removeRecord:">&#8211;&#xA0;removeRecord:</a></code></li><li class="availability">  <code><a href="../../ABPerson_Class/Reference/Reference.html#//apple_ref/occ/instm/ABPerson/initWithVCardRepresentation:" target="_top">&#8211;&#xA0;initWithVCardRepresentation:</a></code> (ABPerson)</li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/defaultCountryCode" title="defaultCountryCode"></a><a name="//apple_ref/doc/uid/20001542-CJBDJBJG" title="defaultCountryCode"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_19"></a><h3 class="verytight">defaultCountryCode</h3>
<p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)defaultCountryCode</p>
<h5 class="tight">Discussion</h5><p>Returns the default country code for records with unspecified country codes.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/defaultNameOrdering" title="defaultNameOrdering"></a><a name="//apple_ref/doc/uid/20001542-CJBIDIIA" title="defaultNameOrdering"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_20"></a><h3 class="verytight">defaultNameOrdering</h3>
<p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSInteger" target="_top">NSInteger</a>)defaultNameOrdering</p>
<h5 class="tight">Discussion</h5><p>Returns the default name ordering defined by the user in the Address Book preferences. The possible values are <code>kABFirstNameFirst</code> and <code>kABLastNameFirst</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/formattedAddressFromDictionary:" title="formattedAddressFromDictionary:"></a><a name="//apple_ref/doc/uid/20001542-CJBHFCEB" title="formattedAddressFromDictionary:"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_21"></a><h3 class="verytight">formattedAddressFromDictionary:</h3>
<p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSAttributedString" target="_top">NSAttributedString</a> *)formattedAddressFromDictionary:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)<em>address</em></p>
<h5 class="tight">Discussion</h5><p>Returns an attributed string containing the formatted address. The string’s attributes match address dictionary keys, such as <code>kABAddressStreetKey</code>. Each attribute value contains the localized description of the key. (For example, the value of a Canadian <code>kABAddressZIPKey</code> field would be “Postal Code”, while the value of a French one would be “Code Postale”.)</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/groups" title="groups"></a><a name="//apple_ref/doc/uid/20001542-CJBHIIDJ" title="groups"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_22"></a><h3 class="verytight">groups</h3>
<p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)groups</p>
<h5 class="tight">Discussion</h5><p>Returns an array of all the groups in the Address Book database, or returns an empty array if the database doesn’t contain any groups</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/people">&#8211;&#xA0;people</a></code></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/hasUnsavedChanges" title="hasUnsavedChanges"></a><a name="//apple_ref/doc/uid/20001542-CJBBCACG" title="hasUnsavedChanges"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_23"></a><h3 class="verytight">hasUnsavedChanges</h3>
<p class="spaceabovemethod">- (BOOL)hasUnsavedChanges</p>
<h5 class="tight">Discussion</h5><p>Returns <code>YES</code> if there are unsaved changes, <code>NO</code> otherwise. The unsaved changes flag is set automatically whenever changes are made. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/saveAndReturnError:">&#8211;&#xA0;saveAndReturnError:</a></code></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/me" title="me"></a><a name="//apple_ref/doc/uid/20001542-CJBCJEBI" title="me"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_24"></a><h3 class="verytight">me</h3>
<p class="spaceabovemethod">- (<a href="../../ABPerson_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ABPerson" target="_top">ABPerson</a> *)me</p>
<h5 class="tight">Discussion</h5><p>Returns the ABPerson record that represents the logged-in user, or <code>nil</code> if the user never specified such a record.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/setMe:">&#8211;&#xA0;setMe:</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/Birthdays/index.html#//apple_ref/doc/uid/DTS10003982" target="_top">Birthdays</a></span></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/people" title="people"></a><a name="//apple_ref/doc/uid/20001542-CJBGECCG" title="people"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_25"></a><h3 class="verytight">people</h3>
<p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)people</p>
<h5 class="tight">Discussion</h5><p>Returns an array of all the people in the Address Book database, or an empty array if the database doesn’t contain any people. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/groups">&#8211;&#xA0;groups</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/ABPresence/index.html#//apple_ref/doc/uid/DTS10004061" target="_top">ABPresence</a></span></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/recordClassFromUniqueId:" title="recordClassFromUniqueId:"></a><a name="//apple_ref/doc/uid/20001542-CJBGCGDF" title="recordClassFromUniqueId:"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_26"></a><h3 class="verytight">recordClassFromUniqueId:</h3>
<p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)recordClassFromUniqueId:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>uniqueId</em></p>
<h5 class="tight">Discussion</h5><p>Returns the class name of the record that matches the given unique ID.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/recordForUniqueId:" title="recordForUniqueId:"></a><a name="//apple_ref/doc/uid/20001542-CJBHBHII" title="recordForUniqueId:"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_27"></a><h3 class="verytight">recordForUniqueId:</h3>
<p class="spaceabovemethod">- (<a href="../../ABRecord_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ABRecord" target="_top">ABRecord</a> *)recordForUniqueId:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>uniqueId</em></p>
<h5 class="tight">Discussion</h5><p>Returns the ABPerson or ABGroup record that matches the given unique ID, or <code>nil</code> if no record has the given ID. If <em>uniqueId</em> is <code>nil</code>, this method raises an exception.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../ABRecord_Class/Reference/Reference.html#//apple_ref/occ/instm/ABRecord/uniqueId" target="_top">&#8211;&#xA0;uniqueId</a></code> (ABRecord)</li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/recordsMatchingSearchElement:" title="recordsMatchingSearchElement:"></a><a name="//apple_ref/doc/uid/20001542-CJDDFIBC" title="recordsMatchingSearchElement:"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_28"></a><h3 class="verytight">recordsMatchingSearchElement:</h3>
<p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)recordsMatchingSearchElement:(<a href="../../ABSearchElement_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ABSearchElement" target="_top">ABSearchElement</a> *)<em>search</em></p>
<h5 class="tight">Discussion</h5><p>Returns an array of records that match the given search element, or returns an empty array if no records match the search element. If <em>search</em> is <code>nil</code>, this method raises an exception. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../ABPerson_Class/Reference/Reference.html#//apple_ref/occ/clm/ABPerson/searchElementForProperty:label:key:value:comparison:" target="_top">+&#xA0;searchElementForProperty:label:key:value:comparison:</a></code> (ABPerson)</li>
<li class="availability">  <code><a href="../../ABGroup_Class/Reference/Reference.html#//apple_ref/occ/clm/ABGroup/searchElementForProperty:label:key:value:comparison:" target="_top">+&#xA0;searchElementForProperty:label:key:value:comparison:</a></code> (ABGroup)</li>
<li class="availability">  <code><a href="../../ABSearchElement_Class/Reference/Reference.html#//apple_ref/occ/clm/ABSearchElement/searchElementForConjunction:children:" target="_top">+&#xA0;searchElementForConjunction:children:</a></code> (ABSearchElement)</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/AddressBookCocoa/index.html#//apple_ref/doc/uid/DTS10000660" target="_top">AddressBookCocoa</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/Birthdays/index.html#//apple_ref/doc/uid/DTS10003982" target="_top">Birthdays</a></span></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/removeRecord:" title="removeRecord:"></a><a name="//apple_ref/doc/uid/20001542-CJBDEHGB" title="removeRecord:"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_29"></a><h3 class="verytight">removeRecord:</h3>
<p class="spaceabovemethod">- (BOOL)removeRecord:(<a href="../../ABRecord_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ABRecord" target="_top">ABRecord</a> *)<em>record</em></p>
<h5 class="tight">Discussion</h5><p>Removes an ABPerson or ABGroup record from the Address Book database. If <em>record</em> is <code>nil</code>, this method raises an exception. This method returns <code>YES</code> if the record was removed successfully, <code>NO</code> otherwise. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/addRecord:">&#8211;&#xA0;addRecord:</a></code></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/save" title="save"></a><a name="//apple_ref/doc/uid/20001542-SW2" title="save"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_30"></a><h3 class="verytight">save</h3><p class="spaceabovemethod">- (BOOL)save</p><h5 class="tight">Discussion</h5><p>Saves all the changes made since the last save. Returns <code>YES</code> if this method is successful or there were no changes, <code>NO</code> otherwise. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/hasUnsavedChanges">&#8211;&#xA0;hasUnsavedChanges</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/saveAndReturnError:">&#8211;&#xA0;saveAndReturnError:</a></code></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/saveAndReturnError:" title="saveAndReturnError:"></a><a name="//apple_ref/doc/uid/20001542-CJBHGAAB" title="saveAndReturnError:"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_31"></a><h3 class="verytight">saveAndReturnError:</h3><p class="spaceabove">Saves all the changes made since the last save.</p>
<p class="spaceabovemethod">- (BOOL)saveAndReturnError:(NSError **)error</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>error</em></dt><dd><p>A pointer to an error object that is set to an NSError instance if an error occurs.</p></dd></dl><h5 class="tight">Return Value</h5><p><code>YES</code> if successful or there were no changes; otherwise, <code>NO</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/save">&#8211;&#xA0;save</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/hasUnsavedChanges">&#8211;&#xA0;hasUnsavedChanges</a></code></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code><a name="//apple_ref/occ/instm/ABAddressBook/setMe:" title="setMe:"></a><a name="//apple_ref/doc/uid/20001542-CJBDFHHF" title="setMe:"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_32"></a><h3 class="verytight">setMe:</h3>
<p class="spaceabovemethod">- (void)setMe:(<a href="../../ABPerson_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ABPerson" target="_top">ABPerson</a> *)<em>person</em></p>
<h5 class="tight">Discussion</h5><p>Sets the record that represents the logged-in user. If you don’t want a record to represent the logged-in user, then pass <code>nil</code> as the <em>person</em> argument. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ABAddressBook/me">&#8211;&#xA0;me</a></code></li></ul><h5 class="tight">Declared In</h5><code>ABAddressBook.h</code>
















<a name="//apple_ref/doc/uid/20001542-25794" title="Notifications"></a><a name="//apple_ref/doc/uid/20001542-CJBDGJBI" title="Notifications"></a><h2>Notifications</h2><p>These notifications are sent when something changes in the Address Book database. These are not sent until the<code>sharedAddressBook</code> class method has been invoked.</p>

<a name="//apple_ref/c/data/kABDatabaseChangedNotification" title="kABDatabaseChangedNotification"></a><a name="//apple_ref/doc/c_ref/kABDatabaseChangedNotification" title="kABDatabaseChangedNotification"></a><a name="//apple_ref/doc/uid/20001542-CJBBDEGD" title="kABDatabaseChangedNotification"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_33"></a><h3 class="tight">kABDatabaseChangedNotification</h3>
<p class="spaceabove"><p>Posted when this process has changed the Address Book database. The process id of the sender and the effective user ID are always included in the user-info dictionary; you access them through the keys <code>"kABSenderProcessID"</code> and <code>"kABUserUID"</code>, respectively. In addition, depending on the operation performed on the address book, one or more of the following keys may be included: <code><!--a  -->kABInsertedRecords<!--/a--></code>, <code><!--a  -->kABUpdatedRecords<!--/a--></code>, and <code><!--a  -->kABDeletedRecords<!--/a--></code>. The values for each of the keys are the unique IDs of the records that were inserted, updated, or deleted, respectively. If the values for all the keys are <code>nil</code>, everything has changed, such as when the Address Book database is restored from a backup copy.</p></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>ABGlobals.h</code>
<a name="//apple_ref/c/data/kABDatabaseChangedExternallyNotification" title="kABDatabaseChangedExternallyNotification"></a><a name="//apple_ref/doc/c_ref/kABDatabaseChangedExternallyNotification" title="kABDatabaseChangedExternallyNotification"></a><a name="//apple_ref/doc/uid/20001542-CJBJFEEA" title="kABDatabaseChangedExternallyNotification"></a><a name="//apple_ref/doc/uid/20001542-DontLinkElementID_34"></a><h3 class="tight">kABDatabaseChangedExternallyNotification</h3>
<p class="spaceabove"><p>Posted when a process other than the current one has changed the Address Book database. The process id of the sender and the effective user ID are always included in the user-info dictionary; you access them through the keys <code>"kABSenderProcessID"</code> and <code>"kABUserUID"</code>, respectively. In addition, depending on the operation performed on the address book, one or more of the following keys may be included: <code><!--a  -->kABInsertedRecords<!--/a--></code>, <code><!--a  -->kABUpdatedRecords<!--/a--></code>, and <code><!--a  -->kABDeletedRecords<!--/a--></code>. The values for each of the keys are the unique IDs of the records that were inserted, updated, or deleted, respectively. If the values for all the keys are <code>nil</code>, everything has changed, such as when the Address Book database is restored from a backup copy.</p></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>ABGlobals.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-07<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/UserExperience/Reference/AddressBook/Classes/ABAddressBook_Class/Reference/Reference.html%3Fid%3DTP40003940-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/UserExperience/Reference/AddressBook/Classes/ABAddressBook_Class/Reference/Reference.html%3Fid%3DTP40003940-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/UserExperience/Reference/AddressBook/Classes/ABAddressBook_Class/Reference/Reference.html%3Fid%3DTP40003940-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>