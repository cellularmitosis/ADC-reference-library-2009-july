<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Format of Entire Sound Files (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.35.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.30.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.37.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="H3.Heading3"><A NAME="pgfId=3631"> </A>Format of Entire Sound Files<A NAME="marker=1644"> </A></H1><P CLASS="T0.Text0"><A NAME="pgfId=3632"> </A><A NAME="marker=276"> </A><A target="doc" HREF="imsoundmgr.36.htm#28300" CLASS="XRef">Figure 1-23</A> illustrates an AIFF-C file that contains approximately 4.476 seconds of 8-bit monophonic sound data sampled at 22&nbsp;kHz. The sound data is not compressed. Note that the number of sample frames in this example is odd, forcing a pad byte to be inserted after the sound data. This pad byte is not reflected in the <TT CLASS="cv">ckSize</TT> field of the Sound Data Chunk, which means that special processing is required to correctly determine the actual chunk size.<A NAME="marker=1648"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3633"> </A>On a Macintosh computer, the Form Chunk (and hence all the other chunks in an AIFF or AIFF-C file) is stored in the data fork of the file. The file type of an AIFF format file is <TT CLASS="cv">'AIFF'</TT>, and the file type of an AIFF-C format file is <TT CLASS="cv">'AIFC'</TT>. Macintosh applications should not store any information in the resource fork of an AIFF or AIFF-C file because that information might not be preserved by other applications that edit sound files.<A NAME="marker=1649"> </A><A NAME="marker=1650"> </A></P><P CLASS="Fg.Figure"><A NAME="pgfId=3634"> </A>Figure&nbsp;23 <A NAME="28300"> </A>A sample AIFF-C file<A NAME="marker=1656"> </A></P><DIV><IMG SRC="imsoundmgr-7.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=3635"> </A>Every Form Chunk must contain a Common Chunk, and every AIFF-C file must contain a Format Version Chunk. In addition, if the sampled sound has a length greater than 0, there must be a Sound Data Chunk in the Form Chunk. All other chunk types are optional. Your application should be able to read all the required chunks if it uses AIFF or AIFF-C files, but it can choose to ignore any of the optional chunks.</P><P CLASS="T1.Text1"><A NAME="pgfId=3636"> </A>When reading AIFF or AIFF-C files, you should keep the following points in mind:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3637"> </A>Remember that the local chunks in an AIFF or AIFF-C file can occur in any order. An application that reads these types of files should be designed to get a chunk, identify it, and then process it without making any assumptions about what kind of chunk it is based on its order.<A NAME="marker=1735"> </A></LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3640"> </A>If your application allows modification of a chunk, then it must also update other chunks that might be based on the modified chunk. However, if there are chunks in&nbsp;the file that your application does not recognize, you must discard those unrecognized chunks. Of course, if your application is simply copying the AIFF or AIFF-C file without any modification, you should copy the unrecognized chunks, too.<A NAME="marker=1736"> </A></LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3643"> </A>You can get the clearest indication of the number of sample frames contained in an AIFF or AIFF-C file from the <TT CLASS="cv">numSampleFrames</TT> parameter in the Common Chunk, not from the <TT CLASS="cv">ckSize</TT> parameter in the Sound Data Chunk. The <TT CLASS="cv">ckSize</TT> parameter is padded to include the fields that follow it, but it does not include the byte with a value of 0 at the end if the total number of sound data bytes is odd.<A NAME="marker=1770"> </A></LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=4057"> </A>Remember that each chunk must contain an even number of bytes. Chunks whose total contents would yield an odd number of bytes must have a pad byte with a value of 0 added at the end of the chunk. This pad byte is not included in the <TT CLASS="cv">ckSize</TT> field.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=4058"> </A>Remember that the <TT CLASS="cv">ckSize</TT> field of any chunk does not include the first 8 bytes of the chunk (which specify the chunk type).<A NAME="marker=1505"> </A><A NAME="marker=1473"> </A><A NAME="marker=1494"> </A><A NAME="marker=1356"> </A><A NAME="marker=1495"> </A><A NAME="marker=259"> </A></LI></UL><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.35.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.30.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.37.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>