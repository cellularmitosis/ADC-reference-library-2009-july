<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QCRenderer Class Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="QCRenderer Class Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40003971-CH3g" title="QCRenderer"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../../reference/Cocoa/index.html#//apple_ref/doc/uid/TP30001281-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../../../../reference/Cocoa/idxGraphicsImaging-date.html#//apple_ref/doc/uid/TP30001281-TP30000416-TP30000450" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../index.html" target="_top">QCRenderer Class Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/cl/QCRenderer" title="QCRenderer"></a><a name="//apple_ref/doc/c_ref/QCRenderer" title="QCRenderer"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-BCIHFHHB" title="QCRenderer"></a><h1>QCRenderer Class Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Inherits from</span></strong></td><td><div style="margin-bottom:1px"><a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html#//apple_ref/occ/cl/NSObject" target="_top">NSObject</a></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Conforms to</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../../Cocoa/Reference/QCRenderer_Protocol/Reference/Reference.html#//apple_ref/occ/intf/QCCompositionRenderer" target="_top">QCCompositionRenderer</a></span><br/><span class="content_text"><a href="../../../../../../Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intf/NSObject" target="_top">NSObject (NSObject)</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/Quartz.framework/Frameworks/<a href="../../../../QuartzComposerRef/index.html#//apple_ref/doc/uid/TP40001429" target="_top">QuartzComposer.framework</a></div></td></tr><tr><td scope="row"><strong>Availability</strong></td><td><div style="margin-bottom:1px"><div>Available in Mac OS X v10.4 and later.</div></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">QCRenderer.h</span><br/></div></td></tr></table></div><br/>



<a name="//apple_ref/doc/uid/TP40003971-CH3g-743333" title="Overview"></a><h2>Overview</h2><p class="spaceabove">A <code>QCRenderer</code> class is designed for low-level rendering of Quartz Composer compositions. This is the class to use if you want to be in charge of rendering a composition to a specific OpenGL context—either using the <code><a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLContext_Class/Reference/Reference.html#//apple_ref/occ/cl/NSOpenGLContext" target="_top">NSOpenGLContext</a></code> class or a <code><a href="../../../../CGL_OpenGL/Reference/reference.html#//apple_ref/c/tdef/CGLContextObj" target="_top">CGLContextObj</a></code> object. <code>QCRenderer</code> also allows you to load, play, and control a composition.</p><p>To render a composition to a specific OpenGL context:</p><ul class="ul"><li class="li"><p>Create an instance of <code>QCRenderer</code> using one of the initialization methods, such as <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/initWithOpenGLContext:pixelFormat:file:" target="_self">initWithOpenGLContext:pixelFormat:file:</a></code>.</p></li><li class="li"><p>Render frames by calling the method <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/renderAtTime:arguments:" target="_self">renderAtTime:arguments:</a></code></p></li><li class="li"><p>If you use double buffering in OpenGL, you must swap the OpenGL buffers.</p></li><li class="li"><p>Release the renderer with you no longer need it.</p></li></ul><p>This code snippet shows how to implement these tasks:</p><div class="codesample"><table><tr><td scope="row"><pre>NSOpenGLContext*     context = [myNSOpenGLView openGLContext];<span></span></pre></td></tr><tr><td scope="row"><pre>NSOpenGLPixelFormat*  format = [myNSOpenGLView pixelFormat];<span></span></pre></td></tr><tr><td scope="row"><pre>NSString*               path = @”/Users/MyName/MyComposition.qtz”;<span></span></pre></td></tr><tr><td scope="row"><pre>QCRenderer* myRenderer;<span></span></pre></td></tr><tr><td scope="row"><pre>// Create a Quartz Composer renderer.<span></span></pre></td></tr><tr><td scope="row"><pre>myRenderer = [[QCRenderer alloc] initWithOpenGLContext:context<span></span></pre></td></tr><tr><td scope="row"><pre>                                           pixelFormat:format<span></span></pre></td></tr><tr><td scope="row"><pre>                                                  file:path];<span></span></pre></td></tr><tr><td scope="row"><pre>// Render the first 10 seconds of the composition with steps of 1/25s.<span></span></pre></td></tr><tr><td scope="row"><pre>for(double t = 0.0; t &lt;= 10.0; t += 1.0/25.0)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>  [myRenderer renderAtTime:t arguments:nil];<span></span></pre></td></tr><tr><td scope="row"><pre>  [context flushBuffer]; //Required on double-buffered contexts<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>// Clean up<span></span></pre></td></tr><tr><td scope="row"><pre> [renderer release];<span></span></pre></td></tr></table></div>



<a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_1" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_2" title="Creating and Initializing a Renderer"></a>
		<h3 class="tasks">Creating and Initializing a Renderer</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/initWithComposition:colorSpace:">&#8211;&#xA0;initWithComposition:colorSpace:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a  renderer object  with a composition object and a color space.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/initWithOpenGLContext:pixelFormat:file:">&#8211;&#xA0;initWithOpenGLContext:pixelFormat:file:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a  renderer object with an <code>NSOpenGLContext</code> object and a composition file.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/initWithCGLContext:pixelFormat:colorSpace:composition:">&#8211;&#xA0;initWithCGLContext:pixelFormat:colorSpace:composition:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a  renderer object  with a <code>CGLContextObj</code> object, a pixel format, a color space, and a composition object.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/initOffScreenWithSize:colorSpace:composition:">&#8211;&#xA0;initOffScreenWithSize:colorSpace:composition:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an offscreen renderer of a given size with the provided color space and composition object.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_3" title="Rendering a Composition"></a>
		<h3 class="tasks">Rendering a Composition</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/renderAtTime:arguments:">&#8211;&#xA0;renderAtTime:arguments:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Renders a frame of a composition at the specified time. '/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_4" title="Getting the Composition Object"></a>
		<h3 class="tasks">Getting the Composition Object</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/composition">&#8211;&#xA0;composition</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the composition object associated with the renderer.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_5" title="Taking Snapshot Images"></a>
		<h3 class="tasks">Taking Snapshot Images</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/snapshotImage">&#8211;&#xA0;snapshotImage</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an <code>NSImage</code> object of the current image in the OpenGL context associated with the renderer.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/createSnapshotImageOfType:">&#8211;&#xA0;createSnapshotImageOfType:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the current image in the OpenGL context associated with the renderer, as an image object of the provided image type.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_6" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/instm/QCRenderer/composition" title="composition"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-BAJJFCAH" title="composition"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_8"></a><h3 class="verytight">composition</h3><p class="spaceabove">Returns the composition object associated with the renderer.</p><p class="spaceabovemethod">- (QCComposition*) composition</p><h5 class="tight">Return Value</h5><p>The composition object.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QCRenderer.h</code><a name="//apple_ref/occ/instm/QCRenderer/createSnapshotImageOfType:" title="createSnapshotImageOfType:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-SW12" title="createSnapshotImageOfType:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_9"></a><h3 class="verytight">createSnapshotImageOfType:</h3><p class="spaceabove">Returns the current image in the OpenGL context associated with the renderer, as an image object of the provided image type.</p><p class="spaceabovemethod">- (id) createSnapshotImageOfType:(NSString*)type</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>type</em></dt><dd><p>A string that specifies any of the following image types: <code><a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSBitmapImageRep_Class/Reference/Reference.html#//apple_ref/occ/cl/NSBitmapImageRep" target="_top">NSBitmapImageRep</a></code>, <code><a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSImage_Class/Reference/Reference.html#//apple_ref/occ/cl/NSImage" target="_top">NSImage</a></code>, <code><a href="../../../../QuartzCoreFramework/Classes/CIImage_Class/Reference/Reference.html#//apple_ref/occ/cl/CIImage" target="_top">CIImage</a></code>, <code>CGImage</code>, <code>CVOpenGLBuffer</code>, <code>CVPixelBuffer</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>The snapshot image in the provided image type. You are responsible for releasing this object when you no longer need it.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QCRenderer.h</code><a name="//apple_ref/occ/instm/QCRenderer/initOffScreenWithSize:colorSpace:composition:" title="initOffScreenWithSize:colorSpace:composition:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-SW3" title="initOffScreenWithSize:colorSpace:composition:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_10"></a><h3 class="verytight">initOffScreenWithSize:colorSpace:composition:</h3><p class="spaceabove">Creates an offscreen renderer of a given size with the provided color space and composition object.</p><p class="spaceabovemethod">- (id) initOffScreenWithSize:(NSSize)size colorSpace:(CGColorSpaceRef)colorSpace composition:(QCComposition*)composition</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>size</em></dt><dd><p>The size of the offscreen renderer. </p></dd><dt><em>colorSpace</em></dt><dd><p>A Quartz color space object. This must be an RGB color space. Pass <code>NULL</code> to use the default RGB color space. For more information on Quartz color spaces, see <em><a href="../../../../../Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>.</p></dd><dt><em>composition</em></dt><dd><p>A <code><a href="../../../../../../Cocoa/Reference/QCComposition_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCComposition" target="_top">QCComposition</a></code> object.</p></dd></dl><h5 class="tight">Return Value</h5><p>The initialized <code>QCRenderer</code> object or <code>nil</code> if initialization is not successful.</p><h5 class="tight">Discussion</h5><p>This method creates an internal OpenGL context and pixel buffer. Because offscreen rendering is performed on the GPU, the maximum rendering size is limited to the GPU capacity. On typical hardware, the limit is at least 2048 by 2048, but is often 4096 by 4096. The available VRAM affects performance.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QCRenderer.h</code><a name="//apple_ref/occ/instm/QCRenderer/initWithCGLContext:pixelFormat:colorSpace:composition:" title="initWithCGLContext:pixelFormat:colorSpace:composition:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-SW4" title="initWithCGLContext:pixelFormat:colorSpace:composition:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_11"></a><h3 class="verytight">initWithCGLContext:pixelFormat:colorSpace:composition:</h3><p class="spaceabove">Creates a  renderer object  with a <code>CGLContextObj</code> object, a pixel format, a color space, and a composition object.</p><p class="spaceabovemethod">- (id) initWithCGLContext:(CGLContextObj)context pixelFormat:(CGLPixelFormatObj)format colorSpace:(CGColorSpaceRef)colorSpace composition:(QCComposition*)composition;</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>context</em></dt><dd><p>A  <code><a href="../../../../CGL_OpenGL/Reference/reference.html#//apple_ref/c/tdef/CGLContextObj" target="_top">CGLContextObj</a></code> object. The object that you supply must have both a color and a depth buffer.</p></dd><dt><em>format</em></dt><dd><p>A  <code><a href="../../../../CGL_OpenGL/Reference/reference.html#//apple_ref/c/tdef/CGLPixelFormatObj" target="_top">CGLPixelFormatObj</a></code>  object.</p></dd><dt><em>colorSpace</em></dt><dd><p>A Quartz color space object. This must be an RGB color space. Pass <code>NULL</code> to use the default RGB color space. For more information on Quartz color spaces, see <em><a href="../../../../../Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>.</p></dd><dt><em>composition</em></dt><dd><p>A <code><a href="../../../../../../Cocoa/Reference/QCComposition_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCComposition" target="_top">QCComposition</a></code> object.</p></dd></dl><h5 class="tight">Return Value</h5><p>The initialized <code>QCRenderer</code> object or <code>nil</code> if initialization is not successful.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QCRenderer.h</code><a name="//apple_ref/occ/instm/QCRenderer/initWithComposition:colorSpace:" title="initWithComposition:colorSpace:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-SW2" title="initWithComposition:colorSpace:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_12"></a><h3 class="verytight">initWithComposition:colorSpace:</h3><p class="spaceabove">Creates a  renderer object  with a composition object and a color space.</p><p class="spaceabovemethod">- (id) initWithComposition:(QCComposition*)composition colorSpace:(CGColorSpaceRef)colorSpace;</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>composition</em></dt><dd><p>A <code><a href="../../../../../../Cocoa/Reference/QCComposition_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCComposition" target="_top">QCComposition</a></code> object. The composition must  not contain any consumer patches. That is, the composition can receive data, process it, and produce output values, but it cannot perform any rendering.  </p></dd><dt><em>colorSpace</em></dt><dd><p>A Quartz color space object. This must be an RGB color space. Pass <code>NULL</code> to use the default RGB color space. The color space is used only for the images produced by the  output image ports of the composition. For more information on Quartz color spaces, see <em><a href="../../../../../Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>.</p></dd></dl><h5 class="tight">Return Value</h5><p>The initialized <code>QCRenderer</code> object or <code>nil</code> if initialization is not successful.</p><h5 class="tight">Discussion</h5><p>Note that <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/snapshotImage">snapshotImage</a></code> and <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/createSnapshotImageOfType:">createSnapshotImageOfType:</a></code> always returns <code>nil</code> on such <code>QCRenderer</code> instances.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QCRenderer.h</code><a name="//apple_ref/occ/instm/QCRenderer/initWithOpenGLContext:pixelFormat:file:" title="initWithOpenGLContext:pixelFormat:file:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-BBCDBGJD" title="initWithOpenGLContext:pixelFormat:file:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_13"></a><h3 class="verytight">initWithOpenGLContext:pixelFormat:file:</h3>
<p class="spaceabove">Creates a  renderer object with an <code>NSOpenGLContext</code> object and a composition file.</p><p class="spaceabovemethod">- (id)initWithOpenGLContext:(<a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLContext_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSOpenGLContext" target="_top">NSOpenGLContext</a> *)<em>context</em> pixelFormat:(<a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSOpenGLPixelFormat" target="_top">NSOpenGLPixelFormat</a> *)<em>format</em> file:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>path</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>context</em></dt><dd><p>An <code><a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLContext_Class/Reference/Reference.html#//apple_ref/occ/cl/NSOpenGLContext" target="_top">NSOpenGLContext</a></code> object. The object that you supply must have both a color and a depth buffer.</p></dd><dt><em>format</em></dt><dd><p>An  <code><a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLPixelFormat_Class/Reference/Reference.html#//apple_ref/occ/cl/NSOpenGLPixelFormat" target="_top">NSOpenGLPixelFormat</a></code>  object.</p></dd><dt><em>path</em></dt><dd><p>A string that specifies the location of a composition(<code>.qtz</code>) file.</p></dd></dl><h5 class="tight">Return Value</h5><p>An initialized <code>QCRenderer</code> object or <code>nil</code> if initialization is not successful.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>QCRenderer.h</code><a name="//apple_ref/occ/instm/QCRenderer/renderAtTime:arguments:" title="renderAtTime:arguments:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-BAJBFJGG" title="renderAtTime:arguments:"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_14"></a><h3 class="verytight">renderAtTime:arguments:</h3>
<p class="spaceabove">Renders a frame of a composition at the specified time. </p><p class="spaceabovemethod">- (BOOL)renderAtTime:(<a href="../../../../../../Cocoa/Reference/Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSTimeInterval" target="_top">NSTimeInterval</a>)<em>time</em> arguments:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)<em>arguments</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>time</em></dt><dd><p>The time, in seconds, at which  to render a composition frame. The time must be a positive value or zero. </p></dd><dt><em>arguments</em></dt><dd><p>An optional dictionary that can have any of the entries defined in <code><a href="Reference.html#//apple_ref/doc/constant_group/Rendering_Arguments">“Rendering Arguments”</a></code>.</p></dd></dl><h5 class="tight">Return Value</h5><p><code>YES</code> if successful.</p>
<h5 class="tight">Discussion</h5><p>You need to call this method each time you want to render a frame of the composition.</p><p>All OpenGL states are preserved  <em>except</em> the following:</p><ul class="ul"><li class="li"><p>States defined by <code>GL_CURRENT_BIT</code></p></li>
<li class="li"><p>Textures on each unit and the environment mode</p></li>
<li class="li"><p>Matrix mode</p></li></ul><p>If you are using double buffers, keep in mind that the <code>renderAtTime:arguments:</code> method does not swap the front and back buffers of the OpenGL context. You must perform the swap yourself by calling the OpenGL command <code>flushBuffer</code> on the context associated with the renderer. </p><p>If you are interleaving OpenGL code with rendering of a composition, make sure that the OpenGL context is current. If you are using the <code><a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLContext_Class/Reference/Reference.html#//apple_ref/occ/cl/NSOpenGLContext" target="_top">NSOpenGLContext</a></code> class, call the <code><a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSOpenGLContext_Class/Reference/Reference.html#//apple_ref/occ/instm/NSOpenGLContext/makeCurrentContext" target="_top">makeCurrentContext</a></code> method prior to rendering. If you are using the CGL API, call the function <code><a href="../../../../CGL_OpenGL/Reference/reference.html#//apple_ref/c/func/CGLSetCurrentContext" target="_top">CGLSetCurrentContext</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>QCRenderer.h</code><a name="//apple_ref/occ/instm/QCRenderer/snapshotImage" title="snapshotImage"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-SW11" title="snapshotImage"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_15"></a><h3 class="verytight">snapshotImage</h3><p class="spaceabove">Returns an <code>NSImage</code> object of the current image in the OpenGL context associated with the renderer.</p><p class="spaceabovemethod">- (NSImage*) snapshotImage</p><h5 class="tight">Return Value</h5><p>The snapshot image.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QCRenderer.h</code>
<a name="//apple_ref/doc/uid/TP40003971-CH3g-744105" title="Constants"></a><h2>Constants</h2><a name="//apple_ref/doc/constant_group/Rendering_Arguments" title="Rendering Arguments" role="GlobalDataGroup"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-SW1" title="Rendering Arguments" role="GlobalDataGroup"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_16"></a><h3 class="tight">Rendering Arguments</h3><p class="spaceabove">Arguments that you can pass to the <code><a href="Reference.html#//apple_ref/occ/instm/QCRenderer/renderAtTime:arguments:">renderAtTime:arguments:</a></code> method. </p><p class="spaceabove"><pre>
extern NSString* const QCRendererEventKey;
extern NSString* const QCRendererMouseLocationKey;
</pre></p><h5 class="tight">Constants</h5><dl class="termdef"><a name="//apple_ref/c/data/QCRendererEventKey" title="QCRendererEventKey"></a><a name="//apple_ref/doc/c_ref/QCRendererEventKey" title="QCRendererEventKey"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_17"></a><dt><code>QCRendererEventKey</code></dt><dd><p>A key for a renderer event. The associated value is an <code><a href="../../../../../../Cocoa/Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/occ/cl/NSEvent" target="_top">NSEvent</a></code> object.</p><p>Available in Mac OS X v10.4 and later.</p><p>Declared in <code>QCRenderer.h</code>.</p></dd><a name="//apple_ref/c/data/QCRendererMouseLocationKey" title="QCRendererMouseLocationKey"></a><a name="//apple_ref/doc/c_ref/QCRendererMouseLocationKey" title="QCRendererMouseLocationKey"></a><a name="//apple_ref/doc/uid/TP40003971-CH3g-DontLinkElementID_18"></a><dt><code>QCRendererMouseLocationKey</code></dt><dd><p>A key for the mouse location. The associated value is an <code><a href="../../../../../../Cocoa/Reference/Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/c/tdef/NSPoint" target="_top">NSPoint</a></code> object stored in an <code><a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSValue_Class/Reference/Reference.html#//apple_ref/occ/cl/NSValue" target="_top">NSValue</a></code> object. The mouse location is in normalized coordinates relative to the OpenGL context viewport (<code>[0,1]x[0,1]</code> with the origin <code>(0,0)</code> at the lower-left corner).</p><p>Available in Mac OS X v10.4 and later.</p><p>Declared in <code>QCRenderer.h</code>.</p></dd></dl><h5 class="tight">Declared In</h5><code>QCRenderer.h</code>









        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-05-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Reference/QuartzFramework/Classes/QCRenderer_Class/Reference/Reference.html%3Fid%3DTP40003971-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Reference/QuartzFramework/Classes/QCRenderer_Class/Reference/Reference.html%3Fid%3DTP40003971-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Reference/QuartzFramework/Classes/QCRenderer_Class/Reference/Reference.html%3Fid%3DTP40003971-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>