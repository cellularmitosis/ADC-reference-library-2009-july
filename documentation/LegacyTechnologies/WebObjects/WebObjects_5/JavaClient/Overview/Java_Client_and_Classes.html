<HTML>		<HEAD>        <title>JavaClient Layers and Classes</title>		</HEAD>	<BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Java_Client_Application.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Programming_Java_Client.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF105"></a><h2><font face="Helvetica,Arial,Lucida Grande">JavaClient Layers and Classes</font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Times">The classes specific to Java Client are found in the distributionlayers implemented in <code>com.webobjects.eodistribution</code> (bothclient and server) and in the client's control and interface/applicationlayers (<code>com.webobjects.eocontrol</code>, <code>com.webobjects.eoapplication</code>, <code>com.webobjects.eointerface</code> and <code>com.webobjects.eointerface.swing</code>).The major classes used in Java Client applications are depictedin  <a href="#BBCHIFCE">Figure 1-4</a>.</font></p><a name = "BBCHIFCE"></a><p><font face="Helvetica,Arial,Lucida Grande"><b>Figure1-4 Major classes in a Java Client application</b></font></p> <img src = "../Art/javaclientinwoapp.gif" alt = "[image: ../Art/javaclientinwoapp.gif]"><br><a name = "TPXREF106"></a><h3><font face="Helvetica,Arial,Lucida Grande">ClientInterface and Control Layers</font></h3><p><font face="Times">The interface layer displays to the user the properties ofthe enterprise objects maintained in the control layer, using displaygroups and associations. Changes to the object graph are automaticallysynchronized with the user interface and user-entered data is automatically reflectedin the object graph. The primary mechanisms behind this synchronizationare display groups (EODisplayGroup) and associations (EOAssociationsubclasses).</font></p><p><font face="Times">The interface layer is tightly integrated with the applicationlayer. Java Client applications typically execute as stand-aloneapplications or as applets running in a browser. The applicationlayer isolates the developer from the idiosyncrasies of each execution environment.It provides classes that are used to manage application-level dataand resources, including arguments, defaults (transient and persistent),localization information, menu operations (like Save All and Quit),documents, user interface controls, and so on.</font></p><p><font face="Times">An additional layer, called the generation layer, is addedto the client side in Direct to Java Client applications. It isused to dynamically generate user interface elements based on actionsperformed by the user and rules defined by the developer. For moreon Direct to Java Client applications see <em>Getting StartedWith Direct To Java Client</em>.</font></p><p><font face="Times">The EOControl layer's primary responsibility is the managementof the object graph through an EOEditingContext. This layer existson both the client and server side of the application. It also implementsfaulting (on-demand fetching) and tracks editing changes.</font></p><p><font face="Times">These are the differences between the client and server layers:</font></p><ul><p><li>The interfacelayer on the client is implemented using the J2SE architecture.</li></p><p><li>The object store and the data source used by the client controllayer are objects in the distribution layer; essentially, theseobjects communicate changes to the object graph across the channelto the server. </li></p><p><li>The client layers include APIs that enable remote invocationsof server methods.</li></p></ul><br><a name = "TPXREF107"></a><h3><font face="Helvetica,Arial,Lucida Grande">TheDistribution Layer</font></h3><p><font face="Times">The distribution layer is responsible for synchronizing thestates of the object graphs on the client and on the applicationserver in the middle tier. The distribution layer moves propertiesin both directions, that is, as it fetches objects and saves changes.</font></p><p><font face="Times">The distribution layer has a client side and a server side.The client side uses EODistributedDataSource and EODistributedObjectStoreclasses. The server side uses the EODistributionContext class.</font></p><br><a name = "TPXREF108"></a><h4><font face="Helvetica,Arial,Lucida Grande">ClientDistribution Classes</font></h4><p><font face="Times">The client-side distribution layer has several public classes.These are the main ones:</font></p><ul><p><li><b>EODistributionChannel,EOHTTPChannel</b> The distribution layer provides channels throughwhich the application server and the Java clients communicate. The EOHTTPChannelclass implements an HTTP channel, that is used by Java Client WebObjectsapplications, but you can subclass the abstract class EODistributionChanneland implement a channel that uses a different transport protocol(such as CORBA). On the client side EODistributedObjectStore handles communicationover the channel; on the server side it's EODistributionContext.</li></p><p><li><b>EODistributedObjectStore</b> On the clientthe distribution layer provides a distributed object store. It handlesinteraction with the distribution layer's channel (an EODistributionChannelobject), incorporating knowledge of that channel so it can forwardmessages it receives from the server to its editing contexts andforward messages from its editing contexts to the server.</li></p><p><li><b>EODistributedDataSource</b> A concretesubclass of EODataSource (defined in EOControl) that fetches usingan EOEditingContext as its source of objects; the editing context,in turn, forwards the fetch requests to its object store (usuallyan instance of EODistributedObjectStore) where it is ultimatelyserviced by an EODatabaseContext on the server.</li></p></ul><br><a name = "TPXREF109"></a><h4><font face="Helvetica,Arial,Lucida Grande">ServerDistribution Class</font></h4><p><font face="Times">The server-side distribution layer has the EODistributionContextclass. It encodes data to send to the client and decodes data itreceives from the client over the distribution channel. It alsokeeps track of the state of the server-side object graph so it cancommunicate any changes to the client and thus synchronize the objectgraphs. The EODistributionContext (or its delegate) also validatesremote invocations originating from client objects.</font></p><br><a name = "TPXREF111"></a><h4><font face="Helvetica,Arial,Lucida Grande">OtherServer Elements</font></h4><p><font face="Times">An additional server element used in the distribution layerof the server is the WOJavaClientApplet component. It is used todownload and create an applet of class <code>com.webobjects.eoapplication.EOApplet</code>.It has a dozen or so potential bindings, some general to applets(such as codebase and size) and others specific to Java Client (suchas distribution-channel class and interface-controller class). Thesebindings are used whether the client is executed as an applet oran application. Therefore, a Java Client application is always configuredthrough a WOJavaClientApplet component.</font></p><br>    <br><a href="Java_Client_Application.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Programming_Java_Client.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<p><font face="Geneva,Helvetica,Arial" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>