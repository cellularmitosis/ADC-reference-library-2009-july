<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Extensions to the SoundDescription Record</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="refQTAudio.5.htm">Previous</A> | <A HREF="refQTAudio.1.htm">Chapter Contents</A> | <A HREF="refQTAudio.htm">Chapter Top</A> | <A HREF="refQTAudio.7.htm">Next</A> | <!-- QTnavbar end --><H1 CLASS="H3.Heading3"><A NAME="pgfId=15799"> </A>Extensions to the SoundDescription Record</H1><P CLASS="T1.Text1"><A NAME="pgfId=15800"> </A>Two extensions are defined to the <TT CLASS="cv">SoundDescription</TT> record. The first is the <TT CLASS="cv">slope, intercept, minClip,</TT> and <TT CLASS="cv">maxClip</TT> parameters for audio as defined in Appendix D. This is represented as an atom of type <TT CLASS="cv">siSlopeAndIntercept.</TT> The contents of the atom are:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=21395"> </A>struct SoundSlopeAndInterceptRecord {<BR>&nbsp;&nbsp;&nbsp;&nbsp;Float64 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slope;<BR>&nbsp;&nbsp;&nbsp;&nbsp;Float64 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intercept;<BR>&nbsp;&nbsp;&nbsp;&nbsp;Float64 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minClip;<BR>&nbsp;&nbsp;&nbsp;&nbsp;Float64 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxClip;<BR>};<BR>typedef struct SoundSlopeAndInterceptRecord SoundSlopeAndInterceptRecord;<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=15803"> </A>The second extension is the ability to store data specific to a given audio decompressor in the <TT CLASS="cv">SoundDescription</TT> record. Some audio decompression algorithms, such as Microsoft's ADPCM, require a set of out-of-stream values to configure the decompressor. These are stored in a <TT CLASS="cv">siDecompressorSettings</TT>. The contents of the <TT CLASS="cv">siDecompressorSettings</TT> atom are dependent on the audio decompressor. If the QuickTime movie was created from a WAVE (<TT CLASS="cv">.WAV</TT>) or AVI (<TT CLASS="cv">.avi</TT>) file, the <TT CLASS="cv">siDecompressorSettings</TT> atom is automatically created and set to the contents of the <TT CLASS="cv">WAVEFORMATEX</TT> structure from that file. In this case, the <TT CLASS="cv">siDecompressorSettings</TT> atom contains little-endian data.</P><P CLASS="T1.Text1"><A NAME="pgfId=15804"> </A>At runtime, the contents of the type <TT CLASS="cv">siSlopeAndIntercept</TT> and <TT CLASS="cv">siDecompressorSettings</TT> atoms are provided to the decompressor component through the standard <TT CLASS="cv">SetInfo</TT> mechanism of the Sound Manager. The <TT CLASS="cv">samplesPerPacket, bytesPerPacket, bytesPerFrame,</TT> and <TT CLASS="cv">bytesPerSample</TT> fields are also passed to the decompressor component via <TT CLASS="cv">SetInfo</TT> in a <TT CLASS="cv">CompressionInfo</TT> structure with the <TT CLASS="cv">siCompressionFactor</TT> selector.</P><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="refQTAudio.5.htm">Previous</A> | <A HREF="refQTAudio.1.htm">Chapter Contents</A> | <A HREF="refQTAudio.htm">Chapter Top</A> | <A HREF="refQTAudio.7.htm">Next</A> | <!-- QTnavbar end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>