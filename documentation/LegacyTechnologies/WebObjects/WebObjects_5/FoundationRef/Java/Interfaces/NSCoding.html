<html>	<head>		<title>NSCoding (Java) </title>	</head>	<body bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="CIAIBFBH"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/intf/NSCoding">NSCoding</a></font></h1>		<br>		<blockquote>			<dl>				<dt><b>Package: </b>				<dd>com.webobjects.foundation 			</dl>		</blockquote>		<hr size="4">		<h2>Interface Description</h2>		<hr alt="">		<p>The <a href="#CIAIBFBH">NSCoding</a> interface declares the methods that a class must implement so that instances of that class can be encoded and decoded. This capability provides the basis for archiving (where objects and other structures are stored on disk) and distribution (where objects are copied to different address spaces). See the <a href="../Classes/NSCoder.html#BICGIEGG">NSCoder</a> class specification for an introduction to coding.</p>		<p>In keeping with object-oriented design principles, an object being encoded or decoded is responsible for encoding and decoding its instance variables. A coder instructs the object to do so by invoking <a href="#//apple_ref/java/intfm/NSCoding/encodeWithCoder">encodeWithCoder</a> or <b>decodeObject</b>, respectively. <b>encodeWithCoder</b> instructs the object to encode its instance variables to the coder provided. Conversely, <b>decodeObject</b> is the method that creates an object from the data in the coder provided.</p>		<p>The method <b>decodeObject</b> isn't strictly part of the <a href="#CIAIBFBH">NSCoding</a> interface, but it is required of any class that implements the interface. <b>decodeObject</b> is a static method, and therefore can't be formally declared in the <a href="#CIAIBFBH">NSCoding</a> interface. Any class that should be codable must adopt the NSCoding interface, implement its methods, and implement the static method <b>decodeObject</b>.</p>		<br>		<h2>Encoding</h2>		<p>When an object receives an <b>encodeWithCoder</b> message, it should encode all of its vital instance variables, after sending a message to <b>super</b> if its superclass also conforms to the <a href="#CIAIBFBH">NSCoding</a> interface. An object doesn't have to encode all of its instance variables. Some values may not be important to reestablish and others may be derivable from related state upon decoding. Other instance variables should be encoded only under certain conditions.</p>		<p>For example, suppose you were creating a fictitious MapView class that displays a legend and a map at various magnifications. The MapView class defines several instance variables, including the name of the map and the current magnification. The <b>encodeWithCoder</b> method of MapView might look like the following:</p>		<blockquote>			<pre>public void encodeWithCoder(NSCoder coder) {    super.encodeWithCoder(coder);    coder.encodeObject(mapName);    coder.encodeInt(magnification);}</pre>		</blockquote>		<br>		<p>This example assumes that the superclass of MapView also implements the <a href="#CIAIBFBH">NSCoding</a> interface. If the superclass of your class does not implement <a href="#CIAIBFBH">NSCoding</a>, you should omit the line that invokes <code>super</code>'s <b>encodeWithCoder</b> method.</p>		<p><a href="../Classes/NSCoder.html#//apple_ref/java/instm/NSCoder/encodeObject">encodeObject</a> and <a href="../Classes/NSCoder.html#//apple_ref/java/instm/NSCoder/encodeInt">encodeInt</a> are coder methods that you can use to encode instance variables of your class. There are other coder methods for other types. The coder also defines corresponding methods for decoding values. See the <a href="../Classes/NSCoder.html#BICGIEGG">NSCoder</a> class specification for a list of methods.</p>		<br>		<h2>Decoding</h2>		<p>In <b>decodeObject</b> the class should first send a message to <code>super</code>'s implementation of <b>decodeObject</b> (if appropriate) to initialize inherited instance variables. It should then decode and initialize its own. MapView's implementation of <b>decodeObject</b> might look like this:</p>		<blockquote>			<pre>public static Object decodeObject(NSCoder coder) {    MapView result = (MapView)(MapView.class.decodeObject(coder));    result.mapName = (String)coder.decodeObject();    result.magnification = coder.decodeInt();    return result;}</pre>		</blockquote>		<br>		<p>If the superclass of your class does not implement <a href="#CIAIBFBH">NSCoding</a>, you should simply create a new instance of your class instead of invoking the superclass's <b>decodeObject</b> method.</p>		<br>		<h2>Making Substitutions During Coding</h2>		<p>During encoding a coder allows an object being coded to substitute a different class for itself than the object's actual class. For example, this allows a private class to be represented in a coder by a public class. To allow the substitution, a coder invokes the method <a href="#//apple_ref/java/intfm/NSCoding/classForCoder">classForCoder</a> on the object before its encoded. The coder uses the class returned by this method instead of the object's actual class.</p>		<br>		<br>		<h2>Static Methods</h2>		<hr alt="">		<a name="decodeObject_ClassMethod_NSArray"></a><br>		<h3><a name="//apple_ref/java/clm/NSCoding/decodeObject">decodeObject</a></h3>		<p><code>public static Object <b>decodeObject</b>(NSCoder <em>coder</em>)</code></p>		Creates an object from the data in <em>coder</em>. Classes that implement the NSCoding interface must also implement this method. 		<p>This method isn't strictly part of this interface because static methods can't be formally declared in an interface. However, this method is so closely related to the interface as to be considered part of it.</p>		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="classForCoder_NSCoding"></a><br>		<h3><a name="//apple_ref/java/intfm/NSCoding/classForCoder">classForCoder</a></h3>		<p><code>public Class <b>classForCoder</b>()</code></p>		Allows the receiver, before being encoded, to substitute a class other than its own in a coder. For example, private subclasses can substitute the name of a public superclass when being encoded. 		<hr width="25%" align="LEFT">		<a name="encodeWithCoder_NSCoding"></a><br>		<h3><a name="//apple_ref/java/intfm/NSCoding/encodeWithCoder">encodeWithCoder</a></h3>		<p><code>public void <b>encodeWithCoder</b>(NSCoder <em>coder</em>)</code></p>		Encodes the receiver using <em>coder</em>. 		<hr width="25%" align="LEFT">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 17, 2001)</p>		<br>		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>