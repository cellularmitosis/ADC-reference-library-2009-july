<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>OTATalkGetLocalZones</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING449></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-448.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-450.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-414.html"><B>Chapter 30 - AppleTalk Reference</B></A> / <A HREF="NetworkingWOT-440.html"><B>AppleTalk Service Provider Reference</B></A><BR><DL><DD><A HREF="NetworkingWOT-444.html"><B>AppleTalk Service Functions</B></A> / <A HREF="NetworkingWOT-447.html"><B>Obtaining Information About Zones</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING449-0></A>
<H3><A NAME=MARKER-13-115></A><A NAME=MARKER-9-116></A>OTATalkGetLocalZones</H3>
 Obtains a list of the zones available on your network. <P>
<A NAME=HEADING449-2></A>
<H5>C INTERFACE</H5>
<PRE>
<A NAME=MARKER-0-95></A>OSStatus OTATalkGetLocalZones(ATSvcRef ref,
                                         TNetbuf* zones);
</PRE>
<A NAME=HEADING449-4></A>
<H5>C++ INTERFACE</H5>
 <CODE>TAppleTalkServices::GetLocalZones(TNetbuf* zones);</CODE><P>
<A NAME=HEADING449-6></A>
<H5>PARAMETERS</H5>
<DL>
<DT><CODE>ref</CODE>
<DD> The reference value of your AppleTalk service provider.
<DT><CODE>zones</CODE>
<DD> A <CODE>TNetbuf</CODE> structure that, on return, contains a list of the local zone names. 
<DT><I>function result</I>
<DD> See Discussion.
</DL>
<A NAME=HEADING449-10></A>
<H5>DISCUSSION</H5>
 The <CODE>OTATalkGetLocalZones</CODE> function returns a list of the zone names in your application's network if it is an extended network. These are all the zones to which your node can belong. If your application is in a nonextended network, this function returns only one zone name, the same one returned by the <CODE>OTATalkGetMyZone</CODE> function.<P>
 If you execute this function asynchronously, Open Transport calls your notifier function with a <CODE>T_GETLOCALZONESCOMPLETE</CODE> completion event to signal the function's completion and uses your notifier's <CODE>cookie</CODE> parameter for the list of zones. The <CODE>cookie</CODE> parameter actually holds a pointer to a <CODE>TNetbuf</CODE> structure, which points to a buffer containing a list of zone names, stored as packed Pascal strings. <P>
 Each string can be up to 32 characters in length, and if you add a length byte, each can have a maximum size of 33 bytes. As there can be a maximum of 254 zones on an extended network, the maximum size of the buffer is 8382 bytes. Because zone names are often less than 32 characters long and are packed. 6 KB bytes is likely to be a safe value for the buffer's size.<P>
<A NAME=HEADING449-14></A>
<H5>SEE ALSO</H5>
 The <A HREF=NetworkingWOT-448.html#MARKER-9-112><CODE>OTATalkGetMyZone</CODE></A> function. <P>
 The <A HREF=NetworkingWOT-450.html#MARKER-9-119><CODE>OTATalkGetZoneList</CODE></A> function.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-448.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-450.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
