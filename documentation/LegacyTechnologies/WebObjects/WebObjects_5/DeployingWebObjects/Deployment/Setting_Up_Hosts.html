<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Setting Up Hosts</title>		</HEAD>	<body bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><a href="Deployment_Tasks.html" target="_right"><img src="../images/previous.gif" border="0"></a><a href="Installing_Applications.html" target="_right"><img src="../images/next.gif" border="0"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF110"></a><h2><font face="Lucida Grande,Helvetica,Arial">Setting Up Hosts</font></h2><!-- apple_doc: pageHeadingEnd --><p>An application host is a machine that runs application instances.For Monitor to be able to identify a host, it has to be runninga wotaskd process. See  <a sector="mod" href="../Installation/iChoosing_What_to_Install.html" target="_top">"Choosing What to Install"</a> and  <a sector="mod" href="../Installation/iConfirming__d_Is_Active.html" target="_top">"Confirming That wotaskd Is Active"</a>.</p><br><a name = "TPXREF111"></a><h3><font face="Lucida Grande,Helvetica,Arial">Adding a Host</font></h3><p>Before you can deploy applications, you need to tell Monitorwhich hosts you want to use for deployment. (See  <a href="Load_Balancing.html#BCIIIBEB" target = "_right">"Load Balancing"</a> foradditional information regarding load balancing and hosts addedin Monitor.)  <a href="#BCIEJAJI">Figure 6-1</a> shows Monitor's Hosts page, which you use to addand configure hosts.</p><br><a name = "BCIEJAJI"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure6-1 The Hosts page</font></b></p> <img src = "../Art/hostadd.gif" alt = "[image: ../Art/hostadd.gif]"><ol><li>In Monitor,click the Hosts tab.</font></li><li>Enter the name or IP address of the host you want to add inthe host text input field.<p>The machine must be running a wotaskdprocess in the port that Monitor sends its lifebeats to.</p><p>Avoidusing a <b>loopback</b> address (a connection that doesnot go over the network), such as <code>localhost</code> or <code>127.0.0.1</code>.If you do, it must be the only application host in your site.</p></font></li><li>Chose the appropriate platform from the pop-up menu.</font></li><li>Click Add Host.</font></li></ol><p> <a href="#BCIEBIFH">Figure 6-2</a> shows the Hosts page after a host has been added.</p><br><a name = "BCIEBIFH"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure6-2 Newly added host in Monitor</font></b></p> <img src = "../Art/hostadd2.gif" alt = "[image: ../Art/hostadd2.gif]"><br><a name = "TPXREF112"></a><h3><font face="Lucida Grande,Helvetica,Arial">Configuring a Host</font></h3><p>To change the configuration of an application host, clickthe Config button on the Hosts page. A page similar to the one in  <a href="#BCIGEACJ">Figure 6-3</a> appears.It allows you to set the type of the host and to resynchronize configurationinformation if needed.</p><br><a name = "BCIGEACJ"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure6-3 Host configuration page</font></b></p> <img src = "../Art/hostconfigure.gif" alt = "[image: ../Art/hostconfigure.gif]"><br><a name = "BCIEDJCG"></a><h3><font face="Lucida Grande,Helvetica,Arial">Viewing a Host's Configuration</font></h3><p>To display the configuration for a host, click YES, on theHosts page. A page similar to the one in  <a href="#BCIGBDCH">Figure 6-4</a> is displayed in a separateWeb browser window.</p><br><a name = "BCIGBDCH"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure6-4 Host configuration information page</font></b></p> <img src = "../Art/monwotaskdconfig.gif" alt = "[image: ../Art/monwotaskdconfig.gif]"><p>This page displays the current state of the host in severalsections.</p><p>The section visible in  <a href="#BCIGBDCH">Figure 6-4</a> shows the contents ofthe host's <code>SiteConfig.xml</code> file.For more information on the <code>SiteConfig.xml</code> file,see  <a sector="mod" href="../DeploymentElements/iConfiguration_Files.html" target="_top">"Configuration Files"</a>.</p><p>The next section shows the adaptor configuration sent to localHTTP adaptors, which lists all running application instances thatwotaskd knows about (this includes Monitor processes).</p><pre>&lt;?xml version="1.0" encoding="ASCII"?&gt;&lt;adaptor&gt;    &lt;application name="JavaMonitor"&gt;        &lt;instance id="-8888" port="8888" host="ebruce2.apple.com"/&gt;    &lt;/application&gt;&lt;/adaptor&gt;</pre><p>Note that the instance ID of the Monitor process is negative.When wotaskd receives a lifebeat from an application instance thathas not been registered (added to your site through Monitor), itdiscloses the instance to the Web server with a negative ID number. Thisallows developers (internal users) to connect to instances throughthe HTTP adaptor for testing purposes. To address security concerns,external users can connect to instances with negative ID numbersonly if they know the instance's port number.</p><p>To connect to a development instance through the Web server,the instance must run on the same computer that the Web server runson, and the computer must be the <code>localhost</code>.</p><p>Next is the local adaptor configuration sent to remote HTTPadaptors. This section lists all instances that are active, registered(configured through Monitor), and available to external users.</p><pre>&lt;?xml version="1.0" encoding="ASCII"?&gt;&lt;adaptor&gt;  &lt;application name="Payroll" urlVersion="4"&gt;    &lt;instance id="1" port="2001" host="ebruce.apple.com"/&gt;  &lt;/application&gt;  &lt;application name="HR" urlVersion="4"&gt;    &lt;instance id="1" port="2002" host="ebruce.apple.com"/&gt;  &lt;/application&gt;&lt;/adaptor&gt;</pre><p>The next section shows the contents of the HTTP adaptor configurationfile. If you tell wotaskd to write the HTTP adaptor configurationfile, it lists all the registered application instances on the site,whether they are running or not. (This file is identical acrossall the site's application hosts.) See  <a sector="mod" href="../WebObjectsAdaptors/iState_Discovery.html" target="_top">"The HTTP Adaptor Configuration File"</a> formore information and an example of the file's contents.</p><p>The last section lists information on the wotaskd process'senvironment, including its port and multicast address.</p><pre>The Configuration Directory is: /Library/WebObjects/Configuration/Wotaskd is NOT writing WOConfig.xml to diskThe multicast address is: 239.128.14.2This wotaskd is running on Port: 1085Wotaskd is NOT responding to MulticastWOAssumeApplicationIsDeadMultiplier is 4The System Properties are: ...</pre><br>    <br><a href="Deployment_Tasks.html" target="_right"><img src="../images/previous.gif" border="0"></a><a href="Installing_Applications.html" target="_right"><img src="../images/next.gif" border="0"></a>&nbsp;<br><hr><p><font face="Geneva,Helvetica,Arial" size="2">&#169; 2001 Apple Computer, Inc. (Last Updated August 25, 2001)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>