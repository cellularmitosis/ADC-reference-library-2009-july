<html><head><title>Mac OS X
 Manual Page For CCCryptorRelease(3cc)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3cc/CCCryptorRelease" title="Mac OS X
 Manual Page for CCCryptorRelease(3cc)"><a name="//apple_ref/doc/man/3/CCCryptorRelease" title="Mac OS X
 Manual Page for CCCryptorRelease(3cc)"><!-- headerDoc=man; indexgroup=Section 3cc; uid="//apple_ref/doc/man/3cc/CCCryptorRelease"; name=CCCryptorRelease(3cc) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
CCCryptor(3cc)                       LOCAL                      <a href="CCCryptor.3cc.html#//apple_ref/doc/man/3cc/CCCryptor">CCCryptor(3cc)</a>

<b>NAME</b>
     <b>CCCryptorCreate</b>, <b>CCryptorCreateFromData</b>, <b>CCCryptorRelease</b>, <b>CCCryptorUpdate</b>, <b>CCCryptorFinal</b>,
     <b>CCCryptorGetOutputLength</b>, <b>CCCryptorReset</b>, <b>CCCrypt</b> -- Common Cryptographic Algorithm Interfaces

<b>LIBRARY</b>
     These functions are found in libSystem.

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;CommonCrypto/CommonCryptor.h&gt;</b>

     <u>CCCryptorStatus</u>
     <b>CCCryptorCreate</b>(<u>CCOperation</u> <u>op</u>, <u>CCAlgorithm</u> <u>alg</u>, <u>CCOptions</u> <u>options</u>, <u>const</u> <u>void</u> <u>*key</u>, <u>size</u><b>_</b><u>t</u> <u>keyLength</u>,
         <u>const</u> <u>void</u> <u>*iv</u>, <u>CCCryptorRef</u> <u>*cryptorRef</u>);

     <u>CCCryptorStatus</u>
     <b>CCCryptorCreateFromData</b>(<u>CCOperation</u> <u>op</u>, <u>CCAlgorithm</u> <u>alg</u>, <u>CCOptions</u> <u>options</u>, <u>const</u> <u>void</u> <u>*key</u>,
         <u>size</u><b>_</b><u>t</u> <u>keyLength</u>, <u>const</u> <u>void</u> <u>*iv</u>, <u>const</u> <u>void</u> <u>*data</u>, <u>size</u><b>_</b><u>t</u> <u>dataLength</u>, <u>CCCryptorRef</u> <u>*cryptorRef</u>,
         <u>size</u><b>_</b><u>t</u> <u>*dataUsed</u>);

     <u>CCCryptorStatus</u>
     <b>CCCryptorRelease</b>(<u>CCCryptorRef</u> <u>cryptorRef</u>);

     <u>CCCryptorStatus</u>
     <b>CCCryptorUpdate</b>(<u>CCCryptorRef</u> <u>cryptorRef</u>, <u>const</u> <u>void</u> <u>*dataIn</u>, <u>size</u><b>_</b><u>t</u> <u>dataInLength</u>, <u>void</u> <u>*dataOut</u>,
         <u>size</u><b>_</b><u>t</u> <u>dataOutAvailable</u>, <u>size</u><b>_</b><u>t</u> <u>*dataOutMoved</u>);

     <u>CCCryptorStatus</u>
     <b>CCCryptorFinal</b>(<u>CCCryptorRef</u> <u>cryptorRef</u>, <u>void</u> <u>*dataOut</u>, <u>size</u><b>_</b><u>t</u> <u>dataOutAvailable</u>, <u>size</u><b>_</b><u>t</u> <u>*dataOutMoved</u>);

     <u>size</u><b>_</b><u>t</u>
     <b>CCCryptorGetOutputLength</b>(<u>CCCryptorRef</u> <u>cryptorRef</u>, <u>size</u><b>_</b><u>t</u> <u>inputLength</u>, <u>bool</u> <u>final</u>);

     <u>CCCryptorStatus</u>
     <b>CCCryptorReset</b>(<u>CCCryptorRef</u> <u>cryptorRef</u>, <u>const</u> <u>void</u> <u>*iv</u>);

     <u>CCCryptorStatus</u>
     <b>CCCrypt</b>(<u>CCOperation</u> <u>op</u>, <u>CCAlgorithm</u> <u>alg</u>, <u>CCOptions</u> <u>options</u>, <u>const</u> <u>void</u> <u>*key</u>, <u>size</u><b>_</b><u>t</u> <u>keyLength</u>,
         <u>const</u> <u>void</u> <u>*iv</u>, <u>const</u> <u>void</u> <u>*dataIn</u>, <u>size</u><b>_</b><u>t</u> <u>dataInLength</u>, <u>void</u> <u>*dataOut</u>, <u>size</u><b>_</b><u>t</u> <u>dataOutAvailable</u>,
         <u>size</u><b>_</b><u>t</u> <u>*dataOutMoved</u>);

<b>DESCRIPTION</b>
     This interface provides access to a number of symmetric encryption algorithms. Symmetric encryption
     algorithms come in two "flavors" - block ciphers, and stream ciphers. Block ciphers process data (while
     both encrypting and decrypting) in discrete chunks of data called blocks; stream ciphers operate on
     arbitrary sized data.

     The object declared in this interface, CCCryptor, provides access to both block ciphers and stream
     ciphers with the same API; however some options are available for block ciphers that do not apply to
     stream ciphers.

     The general operation of a CCCryptor is: initialize it with raw key data and other optional fields with
     CCCryptorCreate(); process input data via one or more calls to CCCryptorUpdate(), each of which may
     result in output data being written to caller-supplied memory; and obtain possible remaining output
     data with CCCryptorFinal(). The CCCryptor is disposed of via CCCryptorRelease(), or it can be reused
     (with the same key data as provided to CCCryptorCreate()) by calling CCCryptorReset().

     CCCryptors can be dynamically allocated by this module, or their memory can be allocated by the caller.

     One option for block ciphers is padding, as defined in PKCS7; when padding is enabled, the total amount
     of data encrypted does not have to be an even multiple of the block size, and the actual length of
     plaintext is calculated during decryption.

     Another option for block ciphers is Cipher Block Chaining, known as CBC mode. When using CBC mode, an
     Initialization Vector (IV) is provided along with the key when starting an encrypt or decrypt opera-<font color="#ffffff" class="whiteout">tion.&nbsp;operation.</font>
     tion. If CBC mode is selected and no IV is provided, an IV of all zeroes will be used.

     CCCryptor also implements block bufferring, so that individual calls to CCCryptorUpdate() do not have
     to provide data whose length is aligned to the block size. (If padding is disabled, encrypting with
     block ciphers does require that the *total* length of data input to CCCryptorUpdate() <!-- a -->call(s)<!-- /a --> be
     aligned to the block size.)

     A given CCCryptor can only be used by one thread at a time; multiple threads can use safely different
     CCCryptors at the same time.

     <u>CCCryptorRef</u> objects created with <b>CCCryptorCreate</b>() or <b>CCCryptorCreateFromData</b>() *may* be disposed of
     via <b>CCCRyptorRelease</b>() ; that call is not strictly necessary, but if it's not performed, good security
     practice dictates that the caller should zero the memory provided to create the <u>CCCryptorRef</u> when the
     caller is finished using the <u>CCCryptorRef.</u>

     <b>CCCryptorUpdate</b>() is used to encrypt or decrypt data.  This routine can be called multiple times. The
     caller does not need to align input data lengths to block sizes; input is bufferred as necessary for
     block ciphers.

     When performing symmetric encryption with block ciphers, and padding is enabled via
     <u>kCCOptionPKCS7Padding,</u> the total number of bytes provided by all the calls to this function when
     encrypting can be arbitrary (i.e., the total number of bytes does not have to be block aligned). How-<font color="#ffffff" class="whiteout">ever&nbsp;However</font>
     ever if padding is disabled, or when decrypting, the total number of bytes does have to be aligned to
     the block size; otherwise <b>CCCryptFinal</b>() will return <u>kCCAlignmentError.</u>

     A general rule for the size of the output buffer which must be provided by the caller is that for block
     ciphers, the output length is never larger than the input length plus the block size.  For stream
     ciphers, the output length is always exactly the same as the input length. See the discussion for
     <b>CCCryptorGetOutputLength</b>() for more information on this topic.

     <b>CCCryptFinal</b>() finishes encryption and decryption operations and obtains the final data output.  Except
     when <u>kCCBufferTooSmall</u> is returned, the <u>CCCryptorRef</u> can no longer be used for subsequent operations
     unless <b>CCCryptorReset</b>() is called on it.

     It is not necessary to call <b>CCCryptorFinal</b>() when performing symmetric encryption or decryption if pad-<font color="#ffffff" class="whiteout">ding&nbsp;padding</font>
     ding is disabled, or when using a stream cipher.

     It is not necessary to call <b>CCCryptorFinal</b>() prior to <b>CCCryptorRelease</b>() when aborting an operation.

     Use <b>CCCryptorGetOutputLength</b>() to determine output buffer size required to process a given input size.
     Some general rules apply that allow clients of this module to know a priori how much output buffer
     space will be required in a given situation. For stream ciphers, the output size is always equal to the
     input size, and <b>CCCryptorFinal</b>() never produces any data. For block ciphers, the output size will
     always be less than or equal to the input size plus the size of one block. For block ciphers, if the
     input size provided to each call to <b>CCCryptorUpdate</b>() is is an integral multiple of the block size,
     then the output size for each call to <b>CCCryptorUpdate</b>() is less than or equal to the input size for
     that call to <b>CCCryptorUpdate</b>().  <b>CCCryptorFinal</b>() only produces output when using a block cipher with
     padding enabled.

     <b>CCCryptorReset</b>() reinitializes an existing <u>CCCryptorRef</u> with a (possibly) new initialization vector.
     The key contained in the <u>CCCryptorRef</u> is unchanged. This function is not implemented for stream
     ciphers.  This can be called on a CCCryptorRef with data pending (i.e.  in a padded mode operation
     before <b>CCCryptFinal</b>() is called); however any pending data will be lost in that case.

     <b>CCCrypt</b>() is a stateless, one-shot encrypt or decrypt operation.  This basically performs a sequence of
     <b>CCCrytorCreate</b>(), <b>CCCryptorUpdate</b>(), <b>CCCryptorFinal</b>(), and <b>CCCryptorRelease</b>().

<b>RETURN</b> <b>VALUES</b>
     The following values may be returned as a status of type <u>CCCryptorStatus</u>.

     kCCSuccess - Operation completed normally.

     kCCParamError - Illegal parameter value.

     kCCBufferTooSmall - Insufficent buffer provided for specified operation.

     kCCMemoryFailure - Memory allocation failure.

     kCCAlignmentError - Input size was not aligned properly.

     kCCDecodeError - Input data did not decode or decrypt properly.

     kCCUnimplemented - Function not implemented for the current algorithm.

<b>SEE</b> <b>ALSO</b>
     <a href="CCHmac.3cc.html#//apple_ref/doc/man/3cc/CCHmac">CCHmac(3cc)</a>, <a href="CC_MD5.3cc.html#//apple_ref/doc/man/3cc/CC_MD5">CC_MD5(3cc)</a>, <a href="CC_SHA.3cc.html#//apple_ref/doc/man/3cc/CC_SHA">CC_SHA(3cc)</a>, <a href="CC_crypto.3cc.html#//apple_ref/doc/man/3cc/CC_crypto">CC_crypto(3cc)</a>

<b>STANDARDS</b>
     AES:          Federal Information Processing Standard FIPS PUB 197 (Advanced Encryption Standard),

     DES:          Federal Information Processing Standard FIPS PUB 46-3 (Data Encryption Standard)

     3DES:         NIST Special PublicationPUB 800-67 (Recommendation for the Triple Data Encryption Algo-<font color="#ffffff" class="whiteout">rithm&nbsp;Algorithm</font>
                   rithm (TDEA) Block Cipher)

BSD                             March 22, 2007                             BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/CCCryptorRelease.3cc.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/CCCryptorRelease.3cc.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/CCCryptorRelease.3cc.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
