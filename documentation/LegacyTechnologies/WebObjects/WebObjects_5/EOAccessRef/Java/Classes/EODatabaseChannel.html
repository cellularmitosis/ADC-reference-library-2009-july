<html>	<head>		<title>EODatabaseChannel (Java) </title>	</head><BODY bgcolor=#ffffff>		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../EOAccessTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="CEADBGHD"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/EODatabaseChannel">EODatabaseChannel</a></font></h1>		<br>		<blockquote>			<dt><b>Inherits from: </b>			<dd>Object</blockquote>		<blockquote>			<dt><b>Package: </b>			<dd>com.webobjects.eoaccess</blockquote>		<hr size="4">		<br>		<h2>Class Description</h2>		<hr alt="">		<p>An EODatabaseChannel represents an independent communication channel to the database server. It's associated with an EODatabaseContext and an EODatabase, which, together with the EODatabaseChannel, form the <b>database level</b> of Enterprise Objects Framework's access layer. See the EODatabase class specification for more information.</p>		<p>An EODatabaseChannel has an EOAdaptorChannel that it uses to connect to the database server its EODatabase object represents. An EODatabaseChannel fetches database records as instances of enterprise object classes that are specified in its EODatabase's EOModel objects. An EODatabaseChannel also has an EODatabaseContext, which uses the channel to perform fetches and to lock rows in the database. All of the database level objects are used automatically by EOEditingContexts and other components of Enterprise Objects Framework. You rarely need to interact with them directly. In particular, you wouldn't ordinarily use an EODatabaseChannel to fetch objects. Rather, you'd use an EOEditingContext.</p>		<br>		<br>		<br>		<h2>Method Types</h2>		<hr alt="">		<blockquote>			<dt>Constructors 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/EODatabaseChannel">EODatabaseChannel</a> 			<dt>Accessing cooperating objects 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/adaptorChannel">adaptorChannel</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/databaseContext">databaseContext</a> 			<dt>Fetching objects 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/isFetchInProgress">isFetchInProgress</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/fetchObject">fetchObject</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/cancelFetch">cancelFetch</a> 			<dt>Accessing internal fetch state 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/setCurrentEntity">setCurrentEntity</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/setCurrentEditingContext">setCurrentEditingContext</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/setIsLocking">setIsLocking</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/isLocking">isLocking</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/setIsRefreshingObjects">setIsRefreshingObjects</a> 			<dd><a href="#//apple_ref/java/instm/EODatabaseChannel/isRefreshingObjects">isRefreshingObjects</a></blockquote>		<br>		<br>		<h2>Constructors</h2>		<hr alt="">		<a name="CEADCIHI"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/EODatabaseChannel">EODatabaseChannel</a></h3>		<p><code>public <b>EODatabaseChannel</b>(EODatabaseContext <em>aDatabaseContext</em>)</code></p>		Creates and returns a new EODatabaseChannel. Typically, you don't need to programmatically create EODatabaseChannel objects. Rather, they are created automatically by the control layer. See the EODatabase class description for more information. 		<p><em>aDatabaseContext</em> is assigned to the new EODatabaseChannel as the DatabaseContext in which the channel works. The new EODatabaseChannel creates an AdaptorChannel with which to communicate with the database server. The constructor throws an exception if the underlying adaptor context can't create a corresponding adaptor channel.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseChannel/databaseContext">databaseContext</a>, <a href="#//apple_ref/java/instm/EODatabaseChannel/adaptorChannel">adaptorChannel</a></p>		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="adaptorChannel"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/adaptorChannel">adaptorChannel</a></h3>		<p><code>public EOAdaptorChannel <b>adaptorChannel</b>()</code></p>		Returns the EOAdaptorChannel used by the receiver for communication with the database server. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseChannel/EODatabaseChannel">EODatabaseChannel</a> constructor</p>		<hr width="25%" align="LEFT">		<a name="cancelFetch"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/cancelFetch">cancelFetch</a></h3>		<p><code>public void <b>cancelFetch</b>()</code></p>		Cancels any fetch in progress. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseChannel/isFetchInProgress">isFetchInProgress</a>, <a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a>, <a href="#//apple_ref/java/instm/EODatabaseChannel/fetchObject">fetchObject</a></p>		<hr width="25%" align="LEFT">		<a name="databaseContext"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/databaseContext">databaseContext</a></h3>		<p><code>public EODatabaseContext <b>databaseContext</b>()</code></p>		Returns the EODatabaseContext that controls transactions for the receiver. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseChannel/EODatabaseChannel">EODatabaseChannel</a> constructor</p>		<hr width="25%" align="LEFT">		<a name="fetchObject"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/fetchObject">fetchObject</a></h3>		<p><code>public Object <b>fetchObject</b>()</code></p>		Fetches and returns the next object in the result set produced by a <a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a> message; returns null if there are no more objects in the current result set or if an error occurs. This method uses the receiver's EOAdaptorChannel to fetch a row, records a snapshot with the EODatabaseContext if necessary, and creates an enterprise object from the row if a corresponding object doesn't already exist. The new object is sent an <b>awakeFromFetch</b> message to allow it to finish setting up its state. 		<p>If no snapshot exists for the fetched object, the receiver sends its EODatabase a recordSnapshotForGlobalID message to record one. If a snapshot already exists (because the object was previously fetched), the receiver checks whether it should overwrite the old snapshot with the new one. It does so by asking the delegate with a databaseContextShouldUpdateCurrentSnapshot method. If the delegate doesn't respond to this method, the EODatabaseChannel overwrites the snapshot if it's locking or refreshing fetched objects. Further, if the EODatabaseChannel is refreshing fetched objects, it posts an ObjectsChangedInStoreNotification on behalf of its EODatabaseContext (which causes any EOEditingContext using that EODatabaseContext to update its enterprise object with the values recorded in the new snapshot).</p>		<p>For information on locking and update strategies, see the EODatabaseContext class specification. For information on refreshing fetched objects, see the EOFetchSpecification class specification.</p>		<p>Ordinarily, you don't directly use an EODatabaseChannel to fetch objects. Rather, you use an EOEditingContext, which uses an underlying EODatabaseChannel to do its work.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseChannel/cancelFetch">cancelFetch</a>, <a href="#//apple_ref/java/instm/EODatabaseChannel/isFetchInProgress">isFetchInProgress</a>, <a href="#//apple_ref/java/instm/EODatabaseChannel/isLocking">isLocking</a>, <a href="#//apple_ref/java/instm/EODatabaseChannel/isRefreshingObjects">isRefreshingObjects</a></p>		<hr width="25%" align="LEFT">		<a name="isFetchInProgress"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/isFetchInProgress">isFetchInProgress</a></h3>		<p><code>public boolean <b>isFetchInProgress</b>()</code></p>		Returns true if the receiver is fetching, false otherwise. An EODatabaseChannel is fetching if it's been sent a successful <a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a> message. An EODatabaseChannel stops fetching when there are no more objects to fetch or when it is sent a <a href="#//apple_ref/java/instm/EODatabaseChannel/cancelFetch">cancelFetch</a> message. 		<hr width="25%" align="LEFT">		<a name="isLocking"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/isLocking">isLocking</a></h3>		<p><code>public boolean <b>isLocking</b>()</code></p>		Returns true if the receiver is locking the objects selected, as determined by its EODatabaseContext's update strategy or the EOFetchSpecification used to perform the select. Returns false otherwise. This method always returns false when no fetch is in progress. 		<p><b>See Also: </b><b>locksObjects</b> (EOFetchSpecification)</p>		<hr width="25%" align="LEFT">		<a name="isRefreshingObjects"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/isRefreshingObjects">isRefreshingObjects</a></h3>		<p><code>public boolean <b>isRefreshingObjects</b>()</code></p>		Returns true if the receiver overwrites existing snapshots with fetched values and causes the current EOEditingContext to overwrite existing enterprise objects with those values as well. Returns false otherwise. This behavior is controlled by the EOFetchSpecification used in a <a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a> message. 		<p><b>See Also: </b><b>refreshesRefetchedObjects</b> (EOFetchSpecification), <a href="#//apple_ref/java/instm/EODatabaseChannel/fetchObject">fetchObject</a></p>		<hr width="25%" align="LEFT">		<a name="selectObjectsWithFetchSpecification_editingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a></h3>		<p><code>public void <b>selectObjectsWithFetchSpecification</b>( com.webobjects.eocontrol.EOFetchSpecification <em>fetchSpecification</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		Selects objects described by <em>fetchSpecification</em> so that they'll be fetched into <em>anEditingContext</em>. The selected objects compose one or more result sets, each object of which will be returned by subsequent <a href="#//apple_ref/java/instm/EODatabaseChannel/fetchObject">fetchObject</a> messages in the order prescribed by <em>fetchSpecification</em>'s EOSortOrderings. 		<p>Throws an exception if an error occurs; the particular exception depends on the specific error, and is indicated in the exception's description. Some possible reasons for failure are:</p>		<ul>			<li><em>fetchSpecification</em> is invalid. 			<li>The receiver's EODatabaseContext has no transaction in progress. 			<li>The delegate disallows the select operation. 			<li>The receiver's EOAdaptorChannel fails to perform the select operation. 		</ul>		<p>This method invokes the delegate methods databaseContextShouldSelectObjects, databaseContextShouldUsePessimisticLock, and databaseContextDidSelectObjects. See their descriptions in the EODatabaseContext class specification for more information.</p>		<p>You wouldn't ordinarily invoke this method directly; rather, you'd use an EOEditingContext to select and fetch enterprise objects.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseChannel/fetchObject">fetchObject</a></p>		<hr width="25%" align="LEFT">		<a name="setCurrentEditingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/setCurrentEditingContext">setCurrentEditingContext</a></h3>		<p><code>public void <b>setCurrentEditingContext</b>(com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		Sets the EOEditingContext that's made the owner of fetched objects to <em>anEditingContext</em>. This method is automatically invoked by <a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a>. You should never invoke it directly. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseChannel/setCurrentEntity">setCurrentEntity</a></p>		<hr width="25%" align="LEFT">		<a name="setCurrentEntity_"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/setCurrentEntity">setCurrentEntity</a></h3>		<p><code>public void <b>setCurrentEntity</b>(EOEntity <em>anEntity</em>)</code></p>		Sets the EOEntity used when fetching enterprise objects to <em>anEntity</em>. Subsequent <a href="#//apple_ref/java/instm/EODatabaseChannel/fetchObject">fetchObject</a> messages during a fetch operation create an object of the class associated with <em>anEntity</em>. This method is invoked automatically by <a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a>.You should never need to invoke it directly. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseChannel/setCurrentEditingContext">setCurrentEditingContext</a></p>		<hr width="25%" align="LEFT">		<a name="setIsLocking_"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/setIsLocking">setIsLocking</a></h3>		<p><code>public void <b>setIsLocking</b>(boolean <em>flag</em>)</code></p>		Records whether the receiver locks the records it selects. A EODatabaseChannel modifies its interaction with the database server and its snapshotting behavior based on this setting. If <em>flag</em> is true the EODatabaseChannel modifies its fetching behavior to lock objects; if <em>flag</em> is false it simply fetches them. 		<p>An EODatabaseChannel automatically sets this flag according to the fetch specification used in a <a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a> message. You might invoke this method directly if evaluating SQL directly with EOAdaptorChannel's evaluateExpression method.</p>		<p><b>See Also: </b><b>locksObjects</b> (EOFetchSpecification)</p>		<hr width="25%" align="LEFT">		<a name="setIsRefreshingObjects_"></a><br>		<h3><a name="//apple_ref/java/instm/EODatabaseChannel/setIsRefreshingObjects">setIsRefreshingObjects</a></h3>		<p><code>public void <b>setIsRefreshingObjects</b>(boolean <em>flag</em>)</code></p>		Records whether the receiver causes existing snapshots and enterprise objects to be overwritten with fetched values. If <em>flag</em> is true the receiver overwrites existing snapshots with fetched values and posts an ObjectsChangedInStoreNotification on behalf of its EODatabaseContext (which typically causes the an existing object's EOEditingContext to replace its values with the new ones). If <em>flag</em> is false, the receiver relies on the delegate to determine whether snapshots should be overwritten, and doesn't cause enterprise objects to be overwritten. 		<p>An EODatabaseChannel automatically sets this flag according to the fetch specification used in a <a href="#//apple_ref/java/instm/EODatabaseChannel/selectObjectsWithFetchSpecification">selectObjectsWithFetchSpecification</a> message. You might invoke this method directly if evaluating SQL directly with EOAdaptorChannel's <b>evaluateExpression:</b> method.</p>		<p><b>See Also: </b><b>refreshesRefetchedObjects</b> (EOFetchSpecification)</p>		<hr width="25%" align="LEFT">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 13, 2001)</p>		<br>		<a href="../EOAccessTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>