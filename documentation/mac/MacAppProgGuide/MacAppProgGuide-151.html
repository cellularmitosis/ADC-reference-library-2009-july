<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Default Inputs Provided to MABuild (MacApp PG)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING151></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MacAppProgGuide-150.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MacAppProgGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MacAppProgGuide-158.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MacAppProgGuide-152.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MacAppProgGuide-2.html"><B>Programmer's Guide to MacApp</B></A> / <A HREF="MacAppProgGuide-78.html"><B>Part 2 - Working With MacApp</B></A><BR><DD><A HREF="MacAppProgGuide-148.html"><B>Appendix A - Working With the MacApp  Build System</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING151-0></A>
<H1>Default Inputs Provided to MABuild</H1>
 <A NAME=MARKER-2-21></A>MABuild takes two sorts of inputs: the defaults provided to MABuild from various preexisting sources and the defaults you provide.<P>
 MABuild uses the defaults written into its code and those provided by the definition of MPW shell variables in MacApp's <CODE>1Startup</CODE> file. For example, to build MacApp's own libraries MABuild uses MacApp's makefile, along with several partial makefiles, including <CODE>Definitions_Common</CODE>, <CODE>Definitions_68K</CODE> (<CODE>Definitions_PPC</CODE> for a Power Macintosh build), and <CODE>Dependencies_68K</CODE> (or <CODE>Dependencies_PPC</CODE>). It also uses the source code files and resources that make up the MacApp libraries. A similar process is used to build your application.<P>
<A NAME=HEADING151-3></A>
<H2>One-File Build Configuration</H2>
 When your program is stored in one file--that is, your main program, interface, and implementation are all in the same program module--MABuild provides several defaults to make the build process work. <P>
 In the absence of a resource definition file (<I>YourApp<CODE>.r</CODE></I>), MABuild uses MacApp's default resource file, <CODE>Defaults.r</CODE>, to build the application. This file includes resources to support all the building blocks (such as <CODE>UDialog</CODE> and <CODE>UPrinting</CODE>) and therefore may be larger than strictly necessary for your application. MABuild also uses the partial makefiles provided by MacApp to set default options for the build process.<P>
 When all your code is in the main program module, you can use the simplest form of the MABuild command to build your application. Simply enter <CODE>MABuild</CODE> followed by a single parameter, the name of the application. To build a program named YourApp, you type <CODE>MABuild <I>YourApp</I></CODE> in your MPW worksheet window and press the Enter key. <CODE>MABuild</CODE> is the command, and <I>YourApp</I> is the name of the target application. <P>
<DL>
<DT><B>Note</B>
<DD>If you use only the name of the application as the target parameter, be sure to set the MPW directory to the location of your source code before starting the build. Or you can prefix the target application name with the pathname of the source code directory.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<A NAME=HEADING151-8></A>
<H2><A NAME=MARKER-9-22></A>MPW Shell Variables for MABuild</H2>
 The <CODE>MABuild</CODE> script looks at a number of global MPW shell variables to determine default behavior for MABuild. These variables are set in MacApp's <CODE>1Startup</CODE> file. Although you can modify any of these variables, comments in the startup file indicate certain variables you normally avoid changing. The following variables are ones you can safely change:<P>
<UL>
<LI><CODE>{MABuildDefaults}</CODE><P>
You can change this variable to include the options you use most frequently when you call MABuild. When you want to use less frequently required options, you can either modify the definition for <CODE>MABuildDefaults</CODE> or specify the options on the command line. Options specified on the command line always override those supplied by MPW shell variables. See the startup file to see how these variables are originally configured.
<LI><CODE>{MAUserAutoBuild}</CODE><P>
This variable contains a list of targets you want always to be appended to any targets you include on the command line. (They are used only if the <CODE>AutoBuild</CODE> option is specified.) This is useful if you have added your own library of objects to MacApp's and want to make sure they are kept up to date. A drawback is that every time you build, some time will be lost checking to see whether these files need to be recompiled. If your library is not likely to change, you may be better off not using this option. This variable is empty by default.
<LI><CODE>{MADone}</CODE><P>
This variable specifies what MPW command should be executed if the build is successful. The default for this command is to play a high beep sound. You can modify it to run silently, as other MPW commands do, or to play or do something more interesting.
<LI><CODE>{MAFailed}</CODE><P>
This variable specifies which MPW command should be executed if the build fails. The default for this command is to play a low beep sound. You may modify it to run silently, as other MPW commands do, or to play or do something really wacky.<A NAME=MARKER-2-23></A><P>
</UL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MacAppProgGuide-150.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MacAppProgGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MacAppProgGuide-158.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MacAppProgGuide-152.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MacAppProgGuide-3.html">&copy; Apple Computer, Inc.</A><br>25 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
