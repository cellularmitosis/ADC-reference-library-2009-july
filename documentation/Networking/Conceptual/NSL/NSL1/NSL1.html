<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Network Services Location Manager (Legacy) (Not Recommended): Introduction</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Introduction"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000216-DontLinkElementID_7"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../Carbon/index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../Carbon/Networking-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000453" target="_top">Networking</a> &gt; <a href="NSL1.html#//apple_ref/doc/uid/TP30000214-TPXREF101">Network Services Location Manager (Legacy) (Not Recommended)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../NSL2/NSL2.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30000214" title="Introduction"></a><a name="//apple_ref/doc/uid/TP30000214-TPXREF101" title="Introduction"></a><h1>Introduction</h1>
<div class="importantbox"><a name="//apple_ref/doc/uid/TP30000214-DontLinkElementID_3" title="Important:"></a><p><strong>Important:</strong>&nbsp;The Network Services Location Manager has been deprecated as of Mac OS v10.4. You should use Bonjour instead. For more information about Bonjour, see <em><a href="../../../../Cocoa/Conceptual/NetServices/index.html#//apple_ref/doc/uid/10000119i" target="_top">Bonjour Overview</a></em>.</p><p></p></div><p>The Network Services Location Manager provides a protocol-independent way for applications to discover available network services with minimal network traffic.<code></code> This document describes the programming interface for the Network Services Location Manager for Mac OS X 10.2.</p>

<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="NSL1.html#//apple_ref/doc/uid/TP30000214-CIFHACJB">What’s New in the Network Services Location Manager</a>
				
			<br/>
			
        
			
			
				<a href="NSL1.html#//apple_ref/doc/uid/TP30000214-CIFEEJAH">Overview of the Network Services Location Manager</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000214-43535" title="What&acirc;&#128;&#153;s New in the Network Services Location Manager"></a><a name="//apple_ref/doc/uid/TP30000214-CIFHACJB" title="What&acirc;&#128;&#153;s New in the Network Services Location Manager"></a><h2>What’s New in the Network Services Location Manager</h2>
<p>The following changes have been made in the Network Services Location Manager for Mac OS X 10.2:</p>
<ul class="ul"><li class="li"><p>Instead of sending search, service registration, and service deregistration requests to Network Services Location plug-ins, the Network Services Location Manager now sends these requests to Open Directory.</p></li>
<li class="li"><p>In previous versions of the Network Services Location Manager, the default neighborhoods was obtained by creating a value of type <code>NSLNeighborhood</code> whose <code>name</code> component was <code>NULL</code> and passing that <code>NSLNeighborhood</code> value as the <code></code><code>neighborhood </code>parameter to <code>NSLStartNeighborhoodLookup</code>. With this version of the Network Services Location Manager, passing <code>NULL</code> as the <code>neighborhood</code> parameter to <code>NSLStartNeighborhoodLookup</code> gets the default neighborhoods.</p></li>
<li class="li"><p>To get top-level services only, you can now pass <code>NULL</code> as the <code>neighborhood</code> parameter to the <code>NSLStartServicesLookup</code> function.</p></li>
<li class="li"><p>The <code>NSLGetNameFromNeighborhood</code> function now returns a null-terminated string containing the neighborhood’s name.</p></li>
<li class="li"><p>When calling <code>NSLMakeNewNeighborhood</code> to create a neighborhood, you can pass <code>NULL</code> as the protocolList parameter. Passing <code>NULL</code> means that you no longer have to create a protocol list. For compatibility with earlier versions of the Network Services Location Manager, you can still create a protocol list, but searches using the resulting neighborhood are not limited to the protocols specified in the protocol list.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30000214-42953" title="Overview of the Network Services Location Manager"></a><a name="//apple_ref/doc/uid/TP30000214-CIFEEJAH" title="Overview of the Network Services Location Manager"></a><h2>Overview of the Network Services Location Manager</h2>
<p>The Network Services Location Manager provides</p>
<ul class="ul"><li class="li"><p>an easy way to dynamically discover traditional and non-traditional network services</p></li>
<li class="li"><p>support for accepted and proposed industry standards</p></li>
<li class="li"><p>a flexible, expandable architecture that can be easily leveraged by client and server applications</p></li></ul>
<p>A wide variety of applications become easier to use when they call the Network Services Location Manager. For example,</p>
<ul class="ul"><li class="li"><p>Instead of requiring the user to type a URL to locate a web server, a browser application that calls the Network Services Location Manager could have an “Open Location” command that polls the network for Hypertext Transfer Protocol (HTTP) servers and displays a list of HTTP universal resource locators (URLs) from which the user can select a particular URL.</p></li>
<li class="li"><p>Collaboration software, such as a video-conferencing server, would register itself as an available service on the corporate Intranet. The users of client video-conferencing software could then search the Intranet for available conferences and join a particular conference without having to remember a cryptic URL or Internet Protocol (IP) address.</p></li></ul>
<p>The Network Services Location Manager acts as an intermediary between the providers of network services and applications that want information about such services. It also registers network services that make registration requests.</p>
<p>You can use the Network Services Location Manager to</p>
<ul class="ul"><li class="li"><p>add network-service search functionality to your application</p></li>
<li class="li"><p>register a network service with the Network Services Location Manager so that it can be found in searches</p></li></ul>
<p>This version the Network Services Location Manager runs only on Power PC computers on which Mac OS X is installed. Before your application calls the Network Services Location Manager, it should verify that Mac OS X is running.</p>
<p>If your Mac OS X application only calls <code>NSLStandardGetURL</code>, you need only link to the Carbon library. To build a Mac OS X application that calls Network Services Location Manager functions other than <code>NSLStandardGetURL</code>, link to <code>/System/Library/Frameworks/CoreServices.framework</code>.<code></code></p>
<p>To build an application that calls the Network Services Location Manager and that runs on both Mac OS 9 and Mac OS X, link to the Carbon library only.<code></code></p>
<a name="//apple_ref/doc/uid/TP30000214-43883" title="Locating Services"></a><a name="//apple_ref/doc/uid/TP30000214-CIFBBCCE" title="Locating Services"></a><h3>Locating Services</h3>
<p>The Network Services Location Manager uses Open Directory to locate network services, as shown in <span class="content_text"><a href="NSL1.html#//apple_ref/doc/uid/TP30000214-43908">Figure 1-1</a></span>.</p>
<br/><div><a name="//apple_ref/doc/uid/TP30000214-43908" title="Figure 1-1Search for a network service"></a><a name="//apple_ref/doc/uid/TP30000214-BBHIJDCJ" title="Figure 1-1Search for a network service"></a><p><strong>Figure 1-1&nbsp;&nbsp;</strong>Search for a network service</p>
<img src = "../art/nslm_01.gif" alt = "" width="303" height="298"></div><br/>
<p>Applications that search for services can focus the search by specifying two values:</p>
<ul class="spaceabove"><li class="li"><p>a services list, a Network Services Location Manager data type that specifies one or more services that are to be searched for</p></li>
<li class="li"><p>a neighborhood, a Network Services Location Manager data type that defines the boundaries for searches. Neighborhoods are established by administrators when they set up their networks for NBP and SLP. When an application calls the Network Services Location Manager’s <code>NSLStandardGetURL</code> function to display a dialog box that allows users to look for services, users can supplement the neighborhoods in which searches are conducted by adding neighborhoods to a list of favorite neighborhoods. Applications that don’t call <code>NSLStandardGetURL</code> call NSLStartNeighborhoodLookup to get a list of available neighborhoods.</p></li></ul>
<p>A neighborhood is abstract information about where services may reside. In Mac OS X 10.2 and later, a neighborhood consists of one or more Open Directory “nodes.” A node can be an SLP scope, a DNS domain, an AppleTalk zone, a Windows neighborhood, or a directory published by NetInfo, LDAP, or a third-party Open Directory plug-in. The Network Services Location Manager works with Open Directory to query these nodes for information about services. The Network Services Location Manager uses nodes to abstract a consistent view of the network that can be browsed in a way that is independent of the caller.</p>
<p>The following steps outline the conduct of a search for a service:</p>
<ol class="ol"><li class="li"><p>The application creates a search request and calls the Network Services Location Manager’s <code>NSLStartServicesLookup </code>function.</p></li>
<li class="li"><p>The Network Services Location Manager receives the request and passes it to Open Directory, which passes the request to the appropriate Open Directory plug-in.</p></li>
<li class="li"><p>The Open Directory plug-in that receives the request starts to look for the requested services.</p></li>
<li class="li"><p>Providers of the requested services send their responses to the Open Directory plug-in, which makes the responses available to Open Directory.</p></li>
<li class="li"><p>Open Directory passes the responses to the Network Services Location Manager.</p></li>
<li class="li"><p>The Network Services Location Manager passes the responses to the application that called <code>NSLStartServiceLookup.</code></p></li></ol>
<a name="//apple_ref/doc/uid/TP30000214-44049" title="Registering Services"></a><a name="//apple_ref/doc/uid/TP30000214-CIFFDDCB" title="Registering Services"></a><h3>Registering Services</h3>
<p>Applications that provide services register themselves with the Network Services Location Manager as shown in <span class="content_text"><a href="NSL1.html#//apple_ref/doc/uid/TP30000214-44074">Figure 1-2</a></span> so that they can be found by applications that use their services.</p>
<br/><div><a name="//apple_ref/doc/uid/TP30000214-44074" title="Figure 1-2Flow of a service registration"></a><a name="//apple_ref/doc/uid/TP30000214-BBHBBBCB" title="Figure 1-2Flow of a service registration"></a><p><strong>Figure 1-2&nbsp;&nbsp;</strong>Flow of a service registration</p>
<img src = "../art/nslm_02.gif" alt = "" width="333" height="263"></div><br/>
<p>The following steps outline the flow of a service registration:</p>
<ol class="ol"><li class="li"><p>The application creates a value that specifies the URL to register. It may call the Network Services Location Manager utility function, <code>NSLHexEncodeText</code>, to encode portions of the URL that may contain characters (such as spaces) that are not allowed in URLs. Then the application calls the Network Services Location Manager’s <code>NSLStandardRegisterURL</code> function to register the URL. In most cases, applications pass a null value as the neighborhood. Passing a null value causes the Network Services Location Manager to register the service in the appropriate local neighborhood.</p></li>
<li class="li"><p>The Network Services Location Manager receives the request and passes it to the Open Directory SLP plug-in.</p></li>
<li class="li"><p>If the Open Directory SLP plug-in can register the URL, it returns a value indicating that the service was registered successfully, which the Network Services Location Manager passes to the calling application.</p></li></ol>
<div class="notebox"><a name="//apple_ref/doc/uid/TP30000214-DontLinkElementID_4" title="Note"></a><p><strong>Note:</strong>&nbsp;Open Directory may require that the application calling the Network Services Location Manager have root privileges in order to successfully register a service. SLP service registrations and service registrations in the local.arpa DNS domain are not required to have root privileges.</p></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../NSL2/NSL2.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-05-23<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Networking/Conceptual/NSL/NSL1/NSL1.html%3Fid%3DTP40000914-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Networking/Conceptual/NSL/NSL1/NSL1.html%3Fid%3DTP40000914-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Networking/Conceptual/NSL/NSL1/NSL1.html%3Fid%3DTP40000914-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>