<html><head><title>Mac OS X
 Manual Page For Net::LDAP::FAQ(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/Net::LDAP::FAQ" title="Mac OS X
 Manual Page for Net::LDAP::FAQ(3pm)"><a name="//apple_ref/doc/man/3/Net::LDAP::FAQ" title="Mac OS X
 Manual Page for Net::LDAP::FAQ(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/Net::LDAP::FAQ"; name=Net::LDAP::FAQ(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Net::LDAP::FAQ(3)                    User Contributed Perl Documentation                   Net::LDAP::FAQ(3)



<b>NAME</b>
       Net::LDAP::FAQ - Frequently Asked Questions about Net::LDAP

<b>SYNOPSIS</b>
        perldoc Net::LDAP::FAQ

<b>DESCRIPTION</b>
       This document serves to answer the most frequently asked questions on both the perl-ldap Mailing List
       and those sent to Graham Barr.

       The latest version of this FAQ can be found at

        <a href="http://ldap.perl.org/FAQ.html">http://ldap.perl.org/FAQ.html</a>

<b>GENERAL</b>
       <b>What</b> <b>is</b> <b>perl-ldap</b> <b>?</b>

       perl-ldap is the distribution name. The perl-ldap distribution contains the Net::LDAP modules.

       <b>Why</b> <b>another</b> <b>perl</b> <b>LDAP</b> <b>implementation</b> <b>?</b>

       perl-ldap's goal is to be as portable as possible. It does this by being implemented completely in
       perl. So basically anywhere that perl runs perl-ldap will run. This is not true for other
       implementations which require a C compiler.

       <b>Where</b> <b>can</b> <b>I</b> <b>get</b> <b>it</b> <b>?</b>

       Perl-ldap is available from CPAN. You will find it in the authors/id/GBARR directory. Alternatively
       you can download the latest version from

        <a href="http://www.cpan.org/search?dist=perl-ldap">http://www.cpan.org/search?dist=perl-ldap</a>

       <b>WARNING:</b>  The perl-ldap module is stored on CPAN as a *.gz file.  Netscape on Windows systems
       sometimes has a problem storing the module with the correct name, it will replace the *.tar.gz with
       *_tar.tar.  To correct the problem, with the pointer on the link, do a right click and then select
       <b>save</b> <b>link</b> <b>as</b> to save the file with the correct file name.

       <b>Is</b> <b>there</b> <b>a</b> <b>web</b> <b>page</b> <b>for</b> <b>perl-ldap</b> <b>?</b>

       Yes there is at <a href="http://ldap.perl.org/">http://ldap.perl.org/</a>

       <b>Is</b> <b>there</b> <b>a</b> <b>mailing</b> <b>list</b> <b>?</b>

       Yes there is at perl-ldap@perl.org

       You can subscribe to this list by mailing perl-ldap-subscribe@perl.org

       <b>Is</b> <b>the</b> <b>mailing</b> <b>list</b> <b>archived</b> <b>?</b>

       Yes, at <a href="http://nntp.perl.org/group/perl.ldap">http://nntp.perl.org/group/perl.ldap</a>

       Archives of messages since we switched to using sourceforge can be found at

        <a href="http://www.geocrawler.com/lists/3/SourceForge/3482/0/">http://www.geocrawler.com/lists/3/SourceForge/3482/0/</a>

       Please be aware that the geocrawler system munges code that is in the email messages.  In particular,
       apostrophes (') are turned into back ticks (`) and newlines escapes (\n) are removed (and probably
       other escapes as well).

       There is also an archive of the perl-ldap mailing list at

        <a href="http://www.xray.mpe.mpg.de/mailing-lists/perl-ldap/">http://www.xray.mpe.mpg.de/mailing-lists/perl-ldap/</a>
       dd
       which also has messages from before the move to sourceforge.
       The xray archive does not munge email messages.

       <b>Is</b> <b>there</b> <b>any</b> <b>online</b> <b>documentation</b> <b>?</b>

       Yes. perl-ldap has online documentation at

        <a href="http://ldap.perl.org/">http://ldap.perl.org/</a>

       which will have the latest documentation available.

       <b>Is</b> <b>there</b> <b>a</b> <b>public</b> <b>CVS</b> <b>repository</b> <b>?</b>

       No, but there is a public SVN repository at

         <a href="http://svn.mutatus.co.uk">http://svn.mutatus.co.uk</a>

       <b>Can</b> <b>I</b> <b>get</b> <b>perl-ldap</b> <b>from</b> <b>the</b> <b>public</b> <b>SVN</b> <b>repository?</b>

       Yes, any one can pull perl-ldap from the public SVN repository on perl.ldap.org.

       There are several ways this can be done.

       Web You can download it from CPAN by following the release link:

           The 2 lines in the following example should be put together as one continuous line.  Example;

            <a href="http://search.cpan.org/CPAN/authors/id/G/GB/GBARR/perl-ldap-0.31.tar.gz">http://search.cpan.org/CPAN/authors/id/G/GB/GBARR/perl-ldap-0.31.tar.gz</a>

           <b>WARNING:</b>  The perl-ldap module is stored on CPAN as a *.gz file.  Netscape on Windows systems
           sometimes has a problem storing the module with the correct name, it will replace the *.tar.gz
           with *_tar.tar.  To correct the problem, with the pointer on the link, do a right click and then
           select <b>save</b> <b>link</b> <b>as</b> to save the file with the correct file name.

       SVN You can download latest development version of perl-ldap from svn.mutatus.co.uk by executing a
           anonymous SVN "checkout" command.

           The 2 lines in the following example should be put together as one continuous line.  Example;

            svn co <a href="http://svn.mutatus.co.uk/repos/perl-ldap/trunk">http://svn.mutatus.co.uk/repos/perl-ldap/trunk</a>

       Web page
           Most of the time there is a URL link on the perl-ldap home page on ldap.perl.org that points to
           the latest released version of perl-ldap.  Due to the fact that humans must update the web page
           to point to a new release it sometimes does not get updated as quickly as it should.

           <b>WARNING:</b>  The perl-ldap module is stored on CPAN as a *.gz file.  Netscape on Windows systems
           sometimes has a problem storing the module with the correct name, it will replace the *.tar.gz
           with *_tar.tar.  To correct the problem, with the pointer on the link, do a right click and then
           select <b>save</b> <b>link</b> <b>as</b> to save the file with the correct file name.

       <b>What</b> <b>is</b> <b>SVN.</b>

       "SVN" is an abbreviation for "Subversion" (see <a href="http://subversion.tigris.org)">http://subversion.tigris.org)</a>  Subversion is a
       "Source Control" or "Revision Control" tool designed to keep track of source changes made by groups
       of developers working on the same files, allowing them to stay in sync with each other as each
       individual chooses.

<b>LDAP</b> <b>AND</b> <b>DIRECTORY</b> <b>TERMINOLOGY.</b>
       In order to help the user understand the perl-ldap module better some key LDAP terminology is defined
       here.

       <b>What</b> <b>is</b> <b>a</b> <b>directory.</b>

       A directory is a special purpose hierarchical database that usually contains typed information such
       as text strings, binary data, or X.509 certificates.

       <b>What</b> <b>is</b> <b>LDAP.</b>

       LDAP stands for Lightweight Directory Access Protocol.  The word <u>Protocol</u> is the key word in the
       definition given in the preceding sentence, LDAP is <u>NOT</u> hardware or software.  It is a protocol that
       defines how a client and server will communicate with one another.

       The Lightweight Directory Access Protocol is defined in a series of Requests For Comments, better
       known as RFCs. The RFCs can be found on the Internet at <a href="http://www.ietf.org/">http://www.ietf.org/</a> (the master repository)
       and many other places. There's a link to all the LDAP-related RFCs at Perl-LDAP's web site,
       <a href="http://perl-ldap.sourceforge.net/rfc.html">http://perl-ldap.sourceforge.net/rfc.html</a> Some of the more important RFC numbers are RFC 1777 for
       LDAPv2 and RFC 2251 as well as RFC3377 for LDAPv3.

       <b>What</b> <b>is</b> <b>a</b> <b>LDAP</b> <b>Directory.</b>

       In the strictest terms of the definition there is no such thing as a LDAP directory.  To be practical
       about this situation every day directory professionals refer to their directory as " a LDAP
       directory" because it is easy to say and it does convey the type of protocol used to communicate with
       their directory.  Using this definition a LDAP directory is a directory whose server software
       conforms to the Lightweight Directory Access Protocol when communicating with a client.

       <b>What</b> <b>is</b> <b>an</b> <b>Entry.</b>

       The traditional directory definition of a directory object is called an Entry. Entries are composed
       of attributes that contain the information to be recorded about the object.

       (An entry in LDAP is somewhat analogous to a record in a table in an SQL database, but don't get too
       hung up about this analogy!)

       Entries are held in an upside-down tree structure. Entries can therefore contain subordinate entries,
       and entries <b>must</b> have one direct superior entry.

       Entries with subordinate entries are called 'non-leaf' entries.

       Entries without subordinate entries are called 'leaf' entries.

       An entry's direct superior entry is called the entry's 'parent'.

       'Non-leaf' entries are also said to have 'child' entries.

       <b>What</b> <b>is</b> <b>an</b> <b>attribute.</b>

       The <!-- a -->entry(s)<!-- /a --> in a directory are composed of attributes that contain information about the object.
       Each attribute has a type and can contain one or more values.

       For example:

         cn=Road Runner

       is an attribute with a type named "cn", and one value.

       Each attribute is described by a 'syntax' which defines what kind of information can be stored in the
       attributes values.  Trying to store a value that doesn't conform to the attribute's syntax will
       result in an error.

       For example:

         jpegPhoto=unknown

       is not permitted by the directory, because jpegPhotos may only contain JPEG-formatted images.

       Most syntaxes used in LDAP however describe text strings rather than binary objects (like JPEGs or
       certificates.)

       In LDAPv3 most of these syntaxes support Unicode encoded using UTF-8. Because the Net::LDAP modules
       do not change the strings that you pass in as attribute values (they get sent to the LDAP server as-
       is) to use accented characters you simply need to encode your strings in UTF-8. There are modules on
       CPAN that will help you here.

       Note that LDAPv2 servers used something called T.61 instead of Unicode and UTF-8. Most servers do not
       implement T.61 correctly, and it is recommended that you use LDAPv3 instead.

       Attributes may also be searched.  The algorithms used to perform different kinds of searches are
       described by the attribute's 'matching rules'.  Some matching rules are case-sensitive and some are
       case-insensitive, for example.  Sometimes matching rules aren't defined for a particular attribute:
       there's no way to search for jpegPhotos that contain a substring!

       You can examine all of a server's attribute definitions by reading the schema from the server.

       <b>What</b> <b>is</b> <b>an</b> <b>object</b> <b>class.</b>

       An object class is the name associated with a group of attributes that <b>must</b> be present in an entry,
       and the group of attributes that <b>may</b> also be present in an entry.

       Object classes may be derived (subclassed) from other object classes.  For example the widely used
       'inetOrgPerson' object class is derived from 'organizationalPerson', which is itself derived from
       'person' which is itself derived from 'top'.

       Every entry has an attribute called 'objectClass' that lists all the names of object classes (and
       their superclasses) being used with the entry.

       You can examine all of a server's objectclass definitions by reading the schema from the server.

       <b>What</b> <b>is</b> <b>a</b> <b>Distinguished</b> <b>Name</b> <b>(DN).</b>

       Every entry in a directory has a Distinguished Name, or DN.  It is a unique Entry identifier
       throughout the complete directory.  No two Entries can have the same DN within the same directory.

       Examples of DNs:

        cn=Road Runner, ou=bird, dc=cartoon, dc=com
        ou=bird, dc=cartoon, dc=com
        dc=cartoon, dc=com
        dc=com

       <b>What</b> <b>is</b> <b>a</b> <b>Relative</b> <b>Distinguished</b> <b>Name.</b>

       Every DN is made up of a sequence of Relative Distinguished Names, or RDNs.  The sequences of RDNs
       are separated by commas (,). In LDAPv2 semi-colons (;) were also allowed.  There can be more than one
       identical RDN in a directory, but they must have different parent entries.

       Technically, an RDN contains attribute-value assertions, or AVAs. When an AVA is written down, the
       attribute name is separated from the attribute value with an equals (=) sign.

       Example of a DN:

        cn=Road Runner,ou=bird,dc=cartoon,dc=com

        RDNs of the proceeding DN:
        RDN =&gt; cn=Road Runner
        RDN =&gt; ou=bird
        RDN =&gt; dc=cartoon
        RDN =&gt; dc=com

       RDNs can contain multiple attributes, though this is somewhat ususual. They are called multi-AVA
       RDNs, and each AVA is separated in the RDN from the others with a plus sign (+).

       Example of a DN with a multi-AVA RDN:

        cn=Road Runner+l=Arizona,ou=bird,dc=cartoon,dc=com

       <b>Where</b> <b>is</b> <b>an</b> <b>entry's</b> <b>name</b> <b>held?</b>

       Entries do <b>not</b> contain their DN. When you retrieve an entry from a search, the server will tell you
       the DN of each entry.

       On the other hand, entries <b>do</b> contain their RDN. Recall that the RDN is formed from one or more
       attribute-value assertions (AVAs); each entry must contain all the attributes and values in the RDN.

       For example the entry:

        cn=Road Runner+l=Arizona,ou=bird,dc=cartoon,dc=com

       <b>must</b> contain a 'cn' attribute containing at least the value "Road Runner", <b>and</b> an 'l' attribute
       containing at least the value "Arizona".

       The attributes used in the RDN may contain additional values, but the entry still only has one DN.

       <b>What</b> <b>is</b> <b>a</b> <b>search</b> <b>base.</b>

       A search base is a Distinguished Name that is the starting point of search queries.

       Example of a DN:

        cn=Road Runner,ou=bird,dc=cartoon,dc=com

       Possible search <!-- a -->base(s)<!-- /a --> for the proceeding DN:

        Base =&gt; cn=Road Runner,ou=bird,dc=cartoon,dc=com
        Base =&gt; ou=bird,dc=cartoon,dc=com
        Base =&gt; dc=cartoon,dc=com
        Base =&gt; dc=com

       Setting the search base to the lowest possible branch of the directory will speed up searches
       considerably.

       <b>What</b> <b>is</b> <b>the</b> <b>difference</b> <b>between</b> <b>a</b> <b>LDAP</b> <b>server</b> <b>and</b> <b>a</b> <b>relational</b> <b>database.</b>

       The most basic difference is that a directory server is  a specialized database designed to provide
       fast searches. While a relational database is optimized for transactions (where a series of
       operations is counted as 1, thus if one of the steps fails, the RDBMS can roll-back to the state it
       was in before you started).

       Directories also typically are hierarchical in nature (RDBMS is typically flat, but you can implement
       a hierarchy using tables and queries), networkable, distributed and replicated.

       LDAP provides an open-standard to a directory service.

       Typically we use LDAP for email directories (all popular email clients provide an LDAP client now)
       and authorization services (authentication and access control).

       You could use a RDBMS for these types of queries but there's no set standard, in particular over
       TCP/IP to connect to databases over the network. There's language specific protocols (like Perl's DBI
       and Java's JDBC) that hide this problem behind an API abstraction, but that's not a replacement for a
       standard access protocol.

       LDAP is starting to be used on roles traditionally played by RDBMS in terms of general data
       management because it's easier to setup a LDAP server (once you understand the basic nomenclature)
       and you don't need a DBA to write your queries and more importantly all LDAP servers speak the same
       essential protocol, thus you don't have to fuss with a database driver trying to connect it to the
       Internet. Once you have an LDAP server up and running, it's automatically available over the 'net.
       It's possible to connect to a LDAP server from a variety of mechanisms, including just about every
       possible programming language.

       More information on this topic can be found on the following URLs;

        <a href="http://www.openldap.org/faq/data/cache/378.html">http://www.openldap.org/faq/data/cache/378.html</a>

        <a href="http://www.isode.com/whitepapers/ic-6055.html">http://www.isode.com/whitepapers/ic-6055.html</a>

       <b>What</b> <b>is</b> <b>the</b> <b>difference</b> <b>between</b> <b>a</b> <b>ldap</b> <b>reference</b> <b>and</b> <b>a</b> <b>ldap</b> <b>referral?</b>

       A referral is returned when the <b>entire</b> operation must be resent to another server.

       A continuation reference is returned when <b>part</b> of the operation must be resent to another server.

       See RFC 2251 section 4.5.3 for more details.

<b>PERL-LDAP</b> <b>INSTALLATION</b>
       <b>How</b> <b>do</b> <b>I</b> <b>install</b> <b>perl-ldap</b> <b>?</b>

       To install the modules that are in the perl-ldap distribution follow the same steps that you would
       for most other distributions found on CPAN, that is

          # replace 0.31 with the version you have

          gunzip perl-ldap-0.31.tar.gz
          tar xvf perl-ldap-0.31.tar
          cd perl-ldap-0.31

          perl Makefile.PL
          make
          make test
          make install

       <b>But</b> <b>I</b> <b>do</b> <b>not</b> <b>have</b> <b>make,</b> <b>how</b> <b>can</b> <b>I</b> <b>install</b> <b>perl-ldap</b> <b>?</b>

       Well as luck would have it the modules in perl-ldap do not do anything complex, so a simple copy is
       enough to install. First run

         perl -V

       This will output information about the version of perl you have installed. Near the bottom you will
       find something like

         @INC:
           /usr/local/perl/perl5.005/lib/5.00502/sun4-solaris
           /usr/local/perl/perl5.005/lib/5.00502
           /usr/local/perl/perl5.005/lib/site_perl/5.005/sun4-solaris
           /usr/local/perl/perl5.005/lib/site_perl/5.005
           .

       This is a list of directories that perl searches when it is looking for a module. The directory you
       need is the site_perl directory, but without the system architecture name, in this case it is
       "/usr/local/perl/perl5.005/lib/site_perl/5.005". The files required can then be installed with

          # replace 0.31 with the version you have

          gunzip perl-ldap-0.31.tar.gz
          tar xvf perl-ldap-0.31.tar
          cd perl-ldap-0.31/lib

          cp * /usr/local/perl/perl5.005/lib/site_perl/5.005

       <b>How</b> <b>can</b> <b>I</b> <b>load</b> <b>Perl-LDAP</b> <b>into</b> <b>an</b> <b>ActiveState</b> <b>Perl</b> <b>installation.</b>

       There are several ways that Perl-LDAP can be installed into an ActiveState Perl tree.

       1.  The ActiveState ppm command can be used to install Perl-LDAP.  When a new version of Perl-LDAP is
           released, it takes ActiveState a period of time to get the new release into the ActiveState ppm
           system.

       2.  If the user has nmake installed, the user can do a normal perl module install using nmake instead
           of make.

       3.  If the user does not have nmake or make, the user can install Perl-LDAP using the install-nomake
           script by issuing the following command.

            perl install-nomake

           The install-nomake script can be used on any system that does not have make installed.

       <b>What</b> <b>other</b> <b>modules</b> <b>will</b> <b>I</b> <b>need</b> <b>?</b>

       perl-ldap does use other modules. Some are required, but some are optional (ie required to use
       certain features)

       Convert::ASN1
           This module is required for perl-ldap to work.

           You can obtain the latest release from
             <a href="http://search.cpan.org/search?module=Convert::ASN1">http://search.cpan.org/search?module=Convert::ASN1</a>

       Authen::SASL
           This module is optional.  You only need to install Authen::SASL if you want to use the SASL
           authentication method.

           You can obtain the latest release from
             <a href="http://search.cpan.org/search?module=Authen::SASL">http://search.cpan.org/search?module=Authen::SASL</a>

       Digest::MD5
           This module is optional. It also requires a C compiler when installing.  You only need to install
           Digest::MD5 if you want to use the SASL authentication method.

           You can obtain the latest release from
             <a href="http://search.cpan.org/search?module=Digest::MD5">http://search.cpan.org/search?module=Digest::MD5</a>

       URI::ldap
           This module is optional. You only need to install URI::ldap if you are going to need to parse
           ldap referrals. Net::LDAP does not do this automatically yet, so this module is not used by perl-
           ldap.

           You can obtain the latest release from
             <a href="http://search.cpan.org/search?module=URI::ldap">http://search.cpan.org/search?module=URI::ldap</a>

       OpenSSL and IO::Socket::SSL for Net::LDAPS
           If you want to use Net::LDAP::LDAPS you will need this module and the OpenSSL software package.

           You can obtain the latest release of IO::Socket::SSL from
             <a href="http://search.cpan.org/search?module=IO::Socket::SSL">http://search.cpan.org/search?module=IO::Socket::SSL</a>

           You can obtain the latest release of OpenSSL from
             <a href="http://www.openssl.org/">http://www.openssl.org/</a>

           If you are using a Linux system, many of the distributions have RPM packages that you can
           install.  Use your favorite web search engine to find the package that you need.

       XML::SAX
           If you want to use Net::LDAP::DSML you will need this module.

           You can obtain the latest release from
             <a href="http://search.cpan.org/search?module=XML::SAX">http://search.cpan.org/search?module=XML::SAX</a>

       ResourcePool::Factory::Net::LDAP
           If you want to use failover the ResourcePool::Factory::Net::LDAP perl module provides methods to
           do this.

           You can obtain the latest release from
             <a href="http://search.cpan.org/search?module=ResourcePool::Factory::Net::LDAP">http://search.cpan.org/search?module=ResourcePool::Factory::Net::LDAP</a>

<b>USING</b> <b>NET::LDAP</b>
       <b>How</b> <b>do</b> <b>I</b> <b>connect</b> <b>to</b> <b>my</b> <b>server</b> <b>?</b>

       The connection to the server is created when you create a new Net::LDAP object, e.g.

         $ldap = Net::LDAP-&gt;new($server);

       <b>Net::LDAP-&gt;new</b> <b>sometimes</b> <b>returns</b> <b>undef,</b> <b>why</b> <b>?</b>

       The constructor will return undef if there was a problem connecting to the specified server. Any
       error message will be available in $@

       <b>What</b> <b>is</b> <b>the</b> <b>proper</b> <b>format</b> <b>of</b> <b>the</b> <b>bind</b> <b>DN.</b>

       The DN used to bind to a directory is a FULLY QUALIFIED DN.  The exact structure of the DN will
       depend on what data has been stored in the server.

       The following are valid examples.

         uid=clif,ou=People,dc=umich,dc=edu

         cn=directory manager,ou=admins,dc=umich,dc=edu

       In some servers the following would be a valid fully qualified DN of the directory manager.

         cn=directory manager

       <b>How</b> <b>can</b> <b>I</b> <b>tell</b> <b>when</b> <b>the</b> <b>server</b> <b>returns</b> <b>an</b> <b>error,</b> <u>bind()</u> <b>always</b> <b>returns</b> <b>true</b> <b>?</b>

       Most methods in Net::LDAP return a Net::LDAP::Message object, or a sub-class of that. This object
       will hold the results from the server, including the result code.

       So, for example, to determine the result of the bind operation.

         $mesg = $ldap-&gt;bind( $dn, password =&gt; $passwd );

         if ( $mesg-&gt;code ) {
           # Handle error codes here
         }

       <b>How</b> <b>can</b> <b>I</b> <b>set</b> <b>the</b> <b>LDAP</b> <b>version</b> <b>of</b> <b>a</b> <b>connection</b> <b>to</b> <b>my</b> <b>ldap</b> <b>server?</b>

       This is done by adding the version option when connecting or binding to the LDAP server.

       For example;

         $ldap = Net::LDAP-&gt;new( $server, version =&gt; 3 );

       or

         $mesg = $ldap-&gt;bind( $dn, password =&gt; $passwd, version =&gt; 3 );

       Valid version numbers are 2 and 3.  As of perl-ldap 0.27 the default LDAP version is 3.

       <b>I</b> <b>did</b> <b>a</b> <b>search</b> <b>on</b> <b>my</b> <b>directory</b> <b>using</b> <b>the</b> <b>'search'</b> <b>method.</b> <b>Where</b> <b>did</b> <b>the</b> <b>results</b> <b>go</b> <b>?</b>

       Your search results are stored in a 'search object'.  Consider the following:

        use Net::LDAP;

        $ldap = Net::LDAP-&gt;new('ldap.acme.com') or die "$@";
        $mesg = $ldap-&gt;search(
                              base   =&gt; "o=acme.com",
                              filter =&gt; "uid=jsmith",
                             );

       $mesg is a search object. It is a reference blessed into the Net::LDAP::Search package. By calling
       methods on this object you can obtain information about the result and also the individual entries.

       The first thing to check is if the search was successful. This is done with with the method
       $mesg-&gt;code. This method will return the status code that the server returned. A success will yield a
       zero value, but there are other values, some of which could also be considered a success.  See
       Net::LDAP::Constant

         use Net::LDAP::Util qw(ldap_error_text);

         die ldap_error_text($mesg-&gt;code)
           if $mesg-&gt;code;

       There are two ways in which you can access the entries. You can access then with an index or you can
       treat the container like a stack and shift each entry in turn. For example

         # as an array

         # How many entries were returned from the search
         my $max = $mesg-&gt;count;

         for( my $index = 0 ; $index &lt; $max ; $index++) {
           my $entry = $mesg-&gt;entry($index);
           # ...
         }

         # or as a stack

         while( my $entry = $mesg-&gt;shift_entry) {
           # ...
         }

       In each case $entry is an entry object. It is a reference blessed into the Net::LDAP::Entry package.
       By calling methods on this object you can obtain information about the entry.

       For example, to obtain the DN for the entry

         $dn = $entry-&gt;dn;

       To obtain the attributes that a given entry has

         @attrs = $entry-&gt;attributes;

       And to get the list of values for a given attribute

         @values = $entry-&gt;get( 'sn' );

       And to get the first of the values for a given attribute

         $values = $entry-&gt;get( 'cn' );

       One thing to remember is that attribute names are case insensitive, so 'sn', 'Sn', 'sN' and 'SN' are
       all the same.

       So, if you want to print all the values for the attribute 'ou' then this is as simple as

         foreach ($entry-&gt;get_value( 'ou' )) {
             print $_,"\n";
           }

       Now if you just want to print all the values for all the attributes you can do

         foreach my $attr ($entry-&gt;attributes) {
           foreach my $value ($entry-&gt;get_value($attr)) {
             print $attr, ": ", $value, "\n";
           }
         }

       <b>How</b> <b>do</b> <b>I</b> <b>limit</b> <b>the</b> <b>scope</b> <b>of</b> <b>a</b> <b>directory</b> <b>search.</b>

       You limit the scope of a directory search by setting the scope parameter of search request.  Consider
       the following:

        use Net::LDAP;

        $ldap = Net::LDAP-&gt;new('ldap.acme.com') or die "$@";
        $mesg = $ldap-&gt;search(
                              base   =&gt; "o=acme.com",
                              scope  =&gt; 'sub',
                              filter =&gt; "uid=jsmith",
                             );

       Values for the scope parameter are as follows.

       base
           Search only the base object.

       one Search the entries immediately below the base object.

       sub Search the whole tree below the base object.  This is the default.

<b>GETTING</b> <b>SEARCH</b> <b>RESULTS</b>
       There are two ways of retrieving the results of a requested LDAP search; inline and by using a
       callback subroutine.

       <b>USING</b> <b>THE</b> <b>INLINE</b> <b>APPROACH</b>

       Using the inline approach involves requesting the data and then waiting for all of the data to be
       returned before the user starts processing the data.

       Example:

        use Net::LDAP;

        $ldap = Net::LDAP-&gt;new('ldap.acme.com') or die "$@";
        $mesg = $ldap-&gt;search(
                              base   =&gt; "o=acme.com",
                              scope  =&gt; 'sub',
                              filter =&gt; "sn=smith",
                             );
         #
         # At this point the user can get the returned data as an array
         # or as a stack.
         # In this example we will use an array

         # How many entries were returned from the search
         my $max = $mesg-&gt;count;

         for( my $index = 0 ; $index &lt; $max ; $index++)
         {
           my $entry = $mesg-&gt;entry($index);
           my $dn = $entry-&gt;dn; # Obtain DN of this entry

           @attrs = $entry-&gt;attributes; # Obtain attributes for this entry.
           foreach my $var (@attrs)
           {
            #get a list of values for a given attribute
            $attr = $entry-&gt;get_value( $var, asref =&gt; 1 );
            if ( defined($attr) )
            {
                foreach my $value ( @$attr )
                {
                 print "$var: $value\n";  # Print each value for the attribute.
                }
            }
           }
         }

       As you can see the example is straight forward, but there is one drawback to this approach.  You must
       wait until all entries for the request search to be returned before you can process the data.  If
       there several thousand entries that match the search filter this could take quite a long time period.

       <b>USING</b> <b>THE</b> <b>CALLBACK</b> <b>SUBROUTINE</b> <b>APPROACH</b>

       Using the callback approach involves requesting the data be sent to a callback subroutine as each
       entry arrives at the client.

       A callback is just a subroutine that is passed two parameters when it is called, the mesg and entry
       objects.

       Example:

        use Net::LDAP;

        $ldap = Net::LDAP-&gt;new('ldap.acme.com') or die "$@";
        $mesg = $ldap-&gt;search(
                              base   =&gt; "o=acme.com",
                              scope  =&gt; 'sub',
                              filter =&gt; "sn=smith",
                              callback =&gt; \&amp;callback,
                             );
        #
        # At this point the user needs to check the status of the
        # ldap search.
        #

        if ( $mesg-&gt;code )
        {
           $errstr = $mesg-&gt;code;
           print "Error code:  $errstr\n";
           $errstr = ldap_error_text($errstr);
           print "$errstr\n";
        }


        sub callback
        {
        my ( $mesg, $entry) = @_;

          #
          # First you must check to see if something was returned.
          # Last execution of callback subroutine will have no
          # defined entry and mesg object
          #
          if ( !defined($entry) )
          {
            print "No records found matching filter $match.\n"
            if ($mesg-&gt;count == 0) ; # if mesg is not defined nothing will print.
            return;
          }

          my $dn = $entry-&gt;dn; # Obtain DN of this entry

          @attrs = $entry-&gt;attributes; # Obtain attributes for this entry.
          foreach my $var (@attrs)
          {
           #get a list of values for a given attribute
           $attr = $entry-&gt;get_value( $var, asref =&gt; 1 );
           if ( defined($attr) )
           {
             foreach my $value ( @$attr )
             {
               print "$var: $value\n";  # Print each value for the attribute.
             }
           }
          }
          #
          # For large search requests the following 2 lines of code
          # may be very important, they will reduce the amount of memory
          # used by the search results.
          #
          # If the user is not worried about memory useage then the 2 lines
          # of code can be omitted.
          #
          $mesg-&gt;pop_entry;

        }  # End of callback subroutine

       As you can see the example is straight forward and it does not waste time waiting for all of the
       entries to be returned.  However if the pop_entry method is not used the callback approach can
       allocate a lot of memory to the search request.

<b>USING</b> <b>NET::LDAPS</b>
       <b>Using</b> <b>an</b> <b>SSL</b> <b>network</b> <b>connection,</b> <b>how</b> <b>do</b> <b>I</b> <b>connect</b> <b>to</b> <b>my</b> <b>server?</b>

       This class is a subclass of Net::LDAP so all the normal Net::LDAP methods can be used with a
       Net::LDAPS object; see the documentation for Net::LDAP to find out how to query a directory server
       using the LDAP protocol.

       The connection to the server is created when you create a new Net::LDAPS object, e.g.

         $ldaps = Net::LDAPS-&gt;new($server,
                                  port =&gt; '10000',
                                  verify =&gt; 'require',
                                  capath =&gt; '/usr/local/cacerts/',
                                  );

       Starting with version 0.28 perl-ldap also supports URIs in the new method.  So, the above can also be
       expressed as:

         $ldaps = Net::LDAP-&gt;new("ldaps://$server",
                                  port =&gt; '10000',
                                  verify =&gt; 'require',
                                  capath =&gt; '/usr/local/cacerts/',
                                  );

       There are additional options to the new method with LDAPS URIs and the LDAPS new method and several
       additional methods are included in the LDAPS object class.

       For further information and code examples read the LDAPS module documentation;  perldoc Net::LDAPS

<b>USING</b> <b>LDAP</b> <b>GROUPS.</b>
       <b>What</b> <b>are</b> <b>LDAP</b> <b>groups.</b>

       LDAP groups are object classes that contain an attribute that can store multiple DN values.  Two
       standard object classes are 'groupOfNames' (which has a 'member' attribute) and 'groupOfUniqueNames'
       (which has a 'uniqueMember' attribute.)

       According to the RFCs a group can be a member of another group, but some LDAP server vendors restrict
       this flexibility by not allowing nested groups in their servers.

       Two scripts for working with groups are available in the contrib directory.  They are isMember.pl and
       printMembers.pl.

       <b>How</b> <b>do</b> <b>you</b> <b>format</b> <b>a</b> <b>filter</b> <b>to</b> <b>search</b> <b>for</b> <b>entries</b> <b>whose</b> <b>'member'</b> <b>attribute</b> <b>has</b> <b>a</b> <b>particular</b> <b>value?</b>

       Asking for (member=*) is OK - the directory uses the equality matching rule which is defined for the
       member attribute.

       Asking for (member=c*) is not OK - there is no defined substring matching rule for the member
       attribute. That's because the member values are *not* strings, but distinguished names. There is no
       substring matching rule for DNs, see RFC 2256 section 5.50.

       What you have to do is get the results of (member=*) and then select the required results from the
       returned values. You need to do this using knowledge of the string representation of DNs defined in
       RFC 2253, which is important because the same DN can have different string representations. So you
       need to perform some canonicalization if you want to be correct.

<b>USING</b> <b>DSML.</b>
       <b>How</b> <b>can</b> <b>I</b> <b>access</b> <b>DSML</b> <b>features</b> <b>from</b> <b>PERL-LDAP.</b>

       Directory Service Markup Language (DSML) is the XML standard for representing directory service
       information in XML.

       Support for DSML is included in PERL-LDAP starting with version .20.

       At the moment this module only reads and writes DSML entry entities. It cannot process any schema
       entities because schema entities are processed differently than elements.

       Eventually this module will be a full level 2 consumer and producer enabling you to give you full
       DSML conformance.

       The specification for DSML is at <a href="http://www.oasis-open.org/specs/">http://www.oasis-open.org/specs/</a>

       For further information and code examples read the DSML module documentation;  perldoc
       Net::LDAP::DSML

<b>USING</b> <b>CONTROLS</b> <b>AND</b> <b>VIRTUAL</b> <b>LISTS.</b>
       <b>How</b> <b>do</b> <b>I</b> <b>access</b> <b>the</b> <b>Control</b> <b>features.</b>

       Support for LDAP version 3 Control objects is included in perl-ldap starting with version .20.

       For further information and code examples read the Control module documentation;  perldoc
       Net::LDAP::Control

       <b>How</b> <b>do</b> <b>I</b> <b>access</b> <b>the</b> <b>Virtual</b> <b>List</b> <b>features.</b>

       Support for Virtual Lists is included in perl-ldap starting with version .20.

       For further information and code examples read the Control module documentation;  perldoc
       Net::LDAP::Control

<b>GENERAL</b> <b>QUESTIONS.</b>
       <b>Are</b> <b>there</b> <b>any</b> <b>other</b> <b>code</b> <b>examples.</b>

       Yes, there is an Examples pod file.  To view the pod do the following command;  perldoc
       Net::LDAP::Examples

       There is user contributed software in the contrib directory that is supplied with the PERL-LDAP
       distribution.  This is an excellent source of information on how to use the PERL-LDAP module.

       <b>Can</b> <b>I</b> <b>contribute</b> <b>perl</b> <b>scripts</b> <b>that</b> <b>use</b> <b>perl-ldap</b> <b>to</b> <b>the</b> <b>contrib</b> <b>section?</b>

       Any one can submit a perl script that uses perl-ldap for inclusion in the contrib section.  Graham
       Barr will determine if the script will be included and will do the initial check in of the script to
       the CVS system on sourceforge.  Graham will make you the owner/developer of the script.

       There are a couple of requirements for consideration.

       You must supply a one line description of your script to be included in the contrib readme file.

       Inside the script will be the pod documentation for the script.  No auxiliary documentation will be
       allowed.  For examples of how to do this see the tklkup or schema scripts currently in the contrib
       section.

       If Graham decides to include your script in the contrib section, you must register with sourceforge
       before your scripts will be put into the contrib CVS system.

       <b>Is</b> <b>possible</b> <b>to</b> <b>get</b> <b>a</b> <b>complete</b> <b>entry,</b> <b>DN</b> <b>and</b> <b>attributes</b> <b>without</b> <b>specifying</b> <b>the</b> <b>attributes</b> <b>name?</b>

       Yes, just specify you want a list of no attributes back. The RFC says that this tells the server to
       return all readable attributes back (there may be access controls to prevent some from being
       returned.)

       So in the search method, just set (for LDAPv2):

                       attrs =&gt; [ ]

       If you are using LDAPv3, you can specify an attribute called "*" instead, which lets you ask for
       additional (eg operational) attributes in the same search.

                       attrs =&gt; [ "*" ]

       <b>How</b> <b>do</b> <b>I</b> <b>put</b> <b>a</b> <b>JPEG</b> <b>photo</b> <b>into</b> <b>a</b> <b>entry</b> <b>in</b> <b>the</b> <b>directory.</b>

       Follow the following code example, replacing the (...) with whatever is relevant to your setup.

         use Net::LDAP;
         use Net::LDAP::Util qw(ldap_error_text);
         use CGI;

         local $/ = undef;
         my $jpeg = &lt;$filename&gt;;

         my $ldap = Net::LDAP-&gt;new(...);
         my $res = $ldap-&gt;bind(...);
            $res = $ldap-&gt;modify(...,
                          add =&gt; [ 'jpegPhoto' =&gt; [ $jpeg ] ]);
            $res = $ldap-&gt;unbind();

       <b>How</b> <b>do</b> <b>I</b> <b>add</b> <b>a</b> <b>jpeg</b> <b>photo</b> <b>into</b> <b>a</b> <b>entry</b> <b>in</b> <b>the</b> <b>directory</b> <b>via</b> <b>html-forms.</b>

       Follow the following code example, replacing the (...) with whatever is relevant to your setup.

         use Net::LDAP;
         use Net::LDAP::Util qw(ldap_error_text);
         use CGI;

         my $q = new CGI;

         print $q-&gt;header;
         print $q-&gt;start_html(-title =&gt; 'Change JPEG photo');

         if ($q-&gt;param('Update')) {
                 my $filename = $q-&gt;param('jpeg');
                 local $/ = undef;
                 my $jpeg = &lt;$filename&gt;;

                 my $ldap = Net::LDAP-&gt;new(...);
                 my $res = $ldap-&gt;bind(...);
                 $res = $ldap-&gt;modify(...,
                                 add =&gt; [ 'jpegPhoto' =&gt; [ $jpeg ] ]);
                 $res = $ldap-&gt;unbind();
         } else {
                 print $q-&gt;start_multipart_form();
                 print $q-&gt;filefield(-name =&gt; 'jpeg', -size =&gt; 50);
                 print $q-&gt;submit('Update');
                 print $q-&gt;end_form();
         }

         print $q-&gt;end_html();

       <b>What</b> <b>happens</b> <b>when</b> <b>you</b> <b>delete</b> <b>an</b> <b>attribute</b> <b>that</b> <b>does</b> <b>not</b> <b>exist.</b>

       It is an error to delete an attribute that doesn't exist.  When you get the error back the server
       ignores the entire modify operation you sent it, so you need to make sure the error doesn't happen.

       Another approach, if you are using LDAPv3 (note beginning with version .27 Net::LDAP uses LDAPv3 by
       default) is to use a 'replace' with your attribute name and no values.  In LDAPv3, this is defined to
       always work even if that attribute doesn't exist in the entry.

       ie:

         my $mesg = $ldap-&gt;modify( $entry, replace =&gt; { %qv_del_arry } );

       But make sure you are using LDAPv3, because that is defined to <b>not</b> work in LDAPv2. (A nice
       incompatibility between LDAPv2 and LDAPv3.)

       <b>How</b> <b>can</b> <b>I</b> <b>delete</b> <b>a</b> <b>referral</b> <b>from</b> <b>an</b> <b>LDAP</b> <b>tree.</b>

       Since this is a proprietary feature, you will have to check your server's documentation. You might
       find that you need to use a control. If there is a control called something like managedsait, that's
       the one you should probably use.  For proper operation you will need the oid number for managedsait;
       2.16.840.1.113730.3.4.2 and do not specify a value for type.

       The code required will look similar to the following code snippet.

         $mesg =  $ldap-&gt;delete("ref=\"ldap://acme/c=us,o=bricks\",o=clay",
                         control =&gt; {type =&gt; "2.16.840.1.113730.3.4.2"} );

       <b>How</b> <b>do</b> <b>I</b> <b>add</b> <b>an</b> <b>ACI/ACL</b> <b>entry</b> <b>to</b> <b>a</b> <b>directory</b> <b>server</b> <b>with</b> <b>Perl-LDAP.</b>

       ACIs and ACLs are proprietary features in LDAP. The following code snippet works with a Netscape
       directory server. You will need the specify the correct DN (-DN-) and correct <!-- a -->attribute(s)<!-- /a --> (-nom
       attr-).

         my $aci = '(target="ldap:///-DN-")(targetattr="-nom attr-")(version 3.0;
                     acl "-nom acl-"; deny(all) userdn = "ldap:///self";)' ;

         $ldap-&gt;modify($dn_modif, add =&gt; {'aci' =&gt; $aci });

       <b>How</b> <b>do</b> <b>I</b> <b>avoid</b> <b>file</b> <b>type</b> <b>and</b> <b>data</b> <b>type</b> <b>mis-matching</b> <b>when</b> <b>loading</b> <b>data</b> <b>from</b> <b>a</b> <b>Win32</b> <b>system.</b>

       When loading a binary attribute with data read from a file on a Win32 system, it has been noted that
       you should set "binmode" on the file before reading the file contents into the data array.

       Another possible solution to this problem is to convert the binary data into a base64 encoded string
       and then store the encoded string in the file.  Then when reading the file, decode the base64 encoded
       string back to binary and then use perl ldap to store the data in the directory.

       <b>How</b> <b>do</b> <b>I</b> <b>create</b> <b>a</b> <b>Microsoft</b> <b>Exchange</b> <b>5.x</b> <b>user.</b>

       This is a solution provide by a perl-ldap user.

       This code works with ActiveState Perl running on WinNT 4. Please note that this requires the
       Win32::Perms module, and needs valid NT account info to replace the placeholders.

         use Net::LDAP;
         use Net::LDAP::Util;
         use Win32::Perms;

         #Constants taken from ADSI Type Library
         $ADS_RIGHT_EXCH_ADD_CHILD = 1;
         $ADS_RIGHT_EXCH_DELETE = 0x10000;
         $ADS_RIGHT_EXCH_DS_REPLICATION = 64;
         $ADS_RIGHT_EXCH_DS_SEARCH = 256;
         $ADS_RIGHT_EXCH_MAIL_ADMIN_AS = 32;
         $ADS_RIGHT_EXCH_MAIL_RECEIVE_AS = 16;
         $ADS_RIGHT_EXCH_MAIL_SEND_AS = 8;
         $ADS_RIGHT_EXCH_MODIFY_ADMIN_ATT = 4;
         $ADS_RIGHT_EXCH_MODIFY_SEC_ATT = 128;
         $ADS_RIGHT_EXCH_MODIFY_USER_ATT = 2;

         $EXCH_USER_RIGHTS = $ADS_RIGHT_EXCH_MAIL_RECEIVE_AS |
         $ADS_RIGHT_EXCH_MAIL_SEND_AS |
         $ADS_RIGHT_EXCH_MODIFY_USER_ATT;

         $exch = Net::LDAP-&gt;new('server', debug =&gt;0) || die $@;

         $exch-&gt;bind( 'cn=admin_user,cn=nt_domain,cn=admin', version =&gt;3,
         password=&gt;'password');

         $myObj = Win32::Perms-&gt;new();
         $Result = $myObj-&gt;Owner('nt_domain\user_name');
         $myObj-&gt;Group('nt_domain\Everyone');
         $myObj-&gt;Allow('nt_domain\user_name',
         $EXCH_USER_RIGHTS,OBJECT_INHERIT_ACE);
         $BinarySD = $myObj-&gt;GetSD(SD_RELATIVE);
         $TextSD = uc(unpack( "H*", $BinarySD ));
         Win32::Perms::ResolveSid('nt_domain\user_name', $sid);
         $mysid = uc(unpack("H*",$sid));

         $result = $exch-&gt;add ( dn   =&gt;
                       'cn=user_name,cn=container,ou=site,o=organisation',
                       attr =&gt; [ 'objectClass' =&gt; ['organizationalPerson'],
                                 'cn'   =&gt; 'directory_name',
                                 'uid' =&gt; 'mail_nickname',
                                 'mail' =&gt; 'smtp_address',
                               'assoc-nt-account' =&gt; [ $mysid ],
                               'nt-security-descriptor' =&gt; [ $TextSD ],
                               'mailPreferenceOption'  =&gt; 0
                               ]
                     );


         print ldap_error_name($result-&gt;code);

       <b>Ho</b> <b>do</b> <b>I</b> <b>reset</b> <b>a</b> <b>user's</b> <b>password</b> <b>...</b>


       <b>...</b> <b>in</b> <b>most</b> <b>LDAP</b> <b>servers</b> <b>?</b>

       Most LDAP servers use the standard userPassword attribute as the attribute to set when you want to
       change a user's password.

       They usually allow to set the password either using the regular modify operation on the userPassword
       attribute or using the extended LDAP Password Modify operation defined in RFC3062.

       The recommended method is the extended Password Modify operation, which offers a standardized way to
       set user passwords but unfortunately is not available on all LDAP servers.

       Whether the extended Password Modify operation is available can be found out by searching the
       attribute supportedExtension for the value 1.3.6.1.4.1.4203.1.11.1 in the RootDSE object.

       If the extended Password Modify operation is not avaiable the alternative is the regular modification
       of the userPassword attribute.

       But this method has some drawbacks:

          Depending on the type of the server the arguments to the modify operations may vary. Some want
           the modify done with replace, some want it done by explicitely deleting the old password and add
           of the new one.  This may even depend on whether you change the password for the bound user or as
           an administrator for another user.

          With the modify operation some servers expect the client to do the hashing of the password on the
           client side. I.e. all clients that set passwords need to agree on the algorithm and the format of
           the hashed password.

          Some LDAP servers do not allow setting the password if the connection is not sufficiently
           secured. I.e. require SSL or TLS support to set the password (which is heavily recommended anyway
           ;-)

       Here is an example of how to change your own password (for brevity's sake error checking is left
       out):

         use Net::LDAP;

         my $ldap = Net::LDAP-&gt;new('ldaps://server.domain')  or  die "$@";
         my $mesg = $ldap-&gt;bind('cn=Joe User,dc=perl,dc=ldap,dc=org',
                                password =&gt; 'oldPW');

         my $rootdse = $ldap-&gt;root_dse();

         if ($rootdse-&gt;supported_extension('1.3.6.1.4.1.4203.1.11.1') {

             require Net::LDAP::Extension::SetPassword;

             $mesg = $ldap-&gt;set_password(user =&gt; 'cn=Joe User,dc=perl,dc=ldap,dc=org',
                                         oldpasswd =&gt; 'oldPW',
                                         newpasswd =&gt; 'newPW');
         }
         else {
             $mesg = $ldap-&gt;modify('cn=Joe User,dc=perl,dc=ldap,dc=org',
                                   changes =&gt; [
                                       delete =&gt; [ userPassword =&gt; $oldPW ]
                                       add    =&gt; [ userPassword =&gt; $newPW ] ]);
         }

         $ldap-&gt;unbind();

       <b>...</b> <b>in</b> <b>MS</b> <b>Active</b> <b>Directory</b> <b>?</b>

       With Active Directory a user's password is stored in the unicodePwd attribute and changed using the
       regular modify operation.

       ADS expects this password to be encoded in Unicode - UTF-16 to be exact.  Before the unicode
       conversion is done the password needs to be surrounded by double quotes which do not belong to the
       user's password.

       For the password modify operation to succeed SSL is required.

       When changing the password for the user bound to the directory ADS expects it to be done by deleting
       the old password and adding the new one.  When doing it as a user with administrative priviledges
       replacing the unicodePwd's value with a new one is allowed too.

       Here's an example that demonstrates setting your own password (again almost no error checking):

         use Net::LDAP;
         use Unicode::Map8;
         use Unicode::String qw(utf16);

         # build the conversion map from your local character set to Unicode
         my $charmap = Unicode::Map8-&gt;new('latin1')  or  die;

         # surround the PW with double quotes and convert it to UTF-16
         # byteswap() was necessary in experiments on i386 Linux, YMMV
         my $oldUniPW = $charmap-&gt;tou('"'.$oldPW.'"')-&gt;byteswap()-&gt;utf16();
         my $newUniPW = $charmap-&gt;tou('"'.$newPW.'"')-&gt;byteswap()-&gt;utf16();

         my $ldap = Net::LDAP-&gt;new('ldaps://ads.domain.controller')  or  die "$@";

         my $mesg = $ldap-&gt;bind('cn=Joe User,dc=your,dc=ads,dc=domain',
                                password =&gt; 'oldPW');

         $mesg = $ldap-&gt;modify('cn=Joe User,dc=your,dc=ads,dc=domain',
                               changes =&gt; [
                                   delete =&gt; [ unicodePwd =&gt; $oldUniPW ]
                                   add    =&gt; [ unicodePwd =&gt; $newUniPW ] ]);

         $ldap-&gt;unbind();

       <b>How</b> <b>can</b> <b>I</b> <b>simulate</b> <b>server</b> <b>failover.</b>

       Perl-LDAP does not do server failover, however there are several programming options for getting
       around this situation.

       Here is one possible solution.

         unless ( $ldaps =
                   Net::LDAPS-&gt;new($ldapserverone,
                                   port=&gt;636,timeout=&gt;5) )
                 {
                     $ldaps = Net::LDAPS-&gt;new($ldapservertwo,
                                              port=&gt;636,timeout=&gt;20) ||
                     return
                     "Can't connect to $ldapserverone or $ldapservertwo via LDAPS: $@";
                 }

       As of version 0.27 of perl-ldap the above can be expressed much simpler:

         $ldaps = Net::LDAPS-&gt;new([ $ldapserverone, $ldapservertwo ],
                                  port=&gt;636, timeout=&gt;5)  or  die "$@";

<b>Using</b> <b>X.509</b> <b>certificates.</b>
       <b>How</b> <b>do</b> <b>I</b> <b>store</b> <b>X.509</b> <b>certificates</b> <b>in</b> <b>the</b> <b>directory?</b>

       The first problem here is that there are many different formats to hold certificates in, for example
       PEM, DER, PKCS#7 and PKCS#12. The directory <b>only</b> uses the DER format (more correctly, it only uses
       the BER format) which is a binary format.

       Your first job is to ensure that your certificates are therefore in DER/BER format. You could use
       OpenSSL to convert from PEM like this:

         openssl x509 -inform PEM -in cert.pem -outform DER -out cert.der

       Consult the OpenSSL documentation to find out how to perform other conversions.

       To add a certificate to the directory, just slurp in the DER/BER certificate into a scalar variable,
       and add it to the entry's userCertificate attribute. How you do that will depend on which version of
       LDAP you are using.

       To slurp in the certificate try something like this:

         my $cert;
         {
             local $/ = undef; # Slurp mode
             open CERT, "cert.der" or die;
             binmode CERT;
             $cert = &lt;CERT&gt;;
             close CERT;
         }
         # The certificate is now in $cert

       For LDAPv2, because most directory vendors ignore the string representation of certificates defined
       in RFC 1778, you should add this value to the directory like this:

         $res = $ldap-&gt;modify("cn=My User, o=My Company,c=XY",
                              add =&gt; [
                                      'userCertificate' =&gt; [ $cert ]
                                     ]);
         die "Modify failed (" . ldap_error_name($res-&gt;code) . ")\n"
             if $res-&gt;code;

       For LDAPv3, you must do this instead:

         $res = $ldap-&gt;modify("cn=My User, o=My Company, c=XY",
                              add =&gt; [
                                      'userCertificate;binary' =&gt; [ $cert ]
                                     ]);
         die "Modify failed (" . ldap_error_name($res-&gt;code) . ")\n"
             if $res-&gt;code;

       Of course, the entry you are trying to add the certificate to must use object classes that permit the
       userCertificate attribute, otherwise the modify will fail with an object class violation error. The
       inetOrgPerson structural object class permits userCertificates, as does the strongAuthenticationUser
       auxiliary object class. Others might also.

<b>ADDITIONAL</b> <b>DIRECTORY</b> <b>AND</b> <b>LDAP</b> <b>RESOURCES.</b>
       <b>URLs.</b>

       Directory Services Mark Language (DSML) <a href="http://www.oasis-open.org/specs/">http://www.oasis-open.org/specs/</a>

       eMailman LDAP information <a href="http://www.emailman.com/ldap/">http://www.emailman.com/ldap/</a>

       Rafael Corvalan's LDAP shell <a href="http://sf.net/projects/ldapsh">http://sf.net/projects/ldapsh</a>

       LDAPS, also known as LDAPGURU.  <u>This</u> <u>web</u> <u>site</u> <u>has</u> <u>a</u> <u>nasty</u> <u>habit</u> <u>of</u> <u>resizing</u> <u>the</u> <u>browser</u> <u>to</u> <u>cover</u> <u>the</u>
       <u>WHOLE</u> <u>screen.</u>  <a href="http://www.ldaps.com">http://www.ldaps.com</a>

       Jeff Hodges's Kings Mountain LDAP <a href="http://www.kingsmountain.com/ldapRoadmap.shtml">http://www.kingsmountain.com/ldapRoadmap.shtml</a>

       Mark Wahl's LDAP World at Innosoft.  <a href="http://www.innosoft.com/ldapworld/">http://www.innosoft.com/ldapworld/</a> (outdated: last update was in
       1998)

       Open Source LDAP Directory Server.  <a href="http://www.openldap.org/">http://www.openldap.org/</a>

       CriticalPath <a href="http://www.cp.net/">http://www.cp.net/</a>

       IBM Directory Server <a href="http://www-306.ibm.com/software/network/directory/server/">http://www-306.ibm.com/software/network/directory/server/</a>

       Innosoft <a href="http://www.innosoft.com">http://www.innosoft.com</a> (acquired by Sun)

       Isode (was MessagingDirect) <a href="http://www.isode.com/">http://www.isode.com/</a>

       Netscape Directory Developers Area <a href="http://developer.netscape.com/directory/">http://developer.netscape.com/directory/</a>

       Nexor's X.500 and Internet Directories <a href="http://www.nexor.com/info/directory.htm/">http://www.nexor.com/info/directory.htm/</a>

       Novell's eDirectory <a href="http://www.novell.com/">http://www.novell.com/</a>

       Novell's LDAPzone <a href="http://ldapzone.com/">http://ldapzone.com/</a>

       Octet String <a href="http://www.octetstring.com/">http://www.octetstring.com/</a>

       SUN JAVA JNDI (Java Naming and Directory Interface) <a href="http://www.java.sun.com/jndi/">http://www.java.sun.com/jndi/</a>

       Sun One, formerly Iplanet.  <a href="http://wwws.sun.com/software/">http://wwws.sun.com/software/</a>

       Eine deutsche LDAP Website A german LDAP Website <a href="http://verzeichnisdienst.de/ldap/Perl/index.html">http://verzeichnisdienst.de/ldap/Perl/index.html</a>

       The 2 following URLs deal mainly with Microsoft's Active Directory.

       Directory Works <a href="http://directoryworks.com/">http://directoryworks.com/</a>

       ActiveX LDAP Client <a href="http://www.polonia-online.com/ldap/">http://www.polonia-online.com/ldap/</a>

       <b>BOOKS</b>

       Developing LDAP and ADSI Clients for <!-- a -->Microsoft(R)<!-- /a --> Exchange.  By Sven B. Schreiber.  ISBN:  0201657775

       Implementing LDAP.  By Mark Wilcox.  ISBN:  1861002211

       LDAP: Programming Directory-Enabled Applications With Lightweight Directory Access Protocol.  By Tim
       Howes, Mark Smith.  ISBN:  1578700000

       LDAP Programming; Directory Management and Integration.  By Clayton Donley.  ISBN:  1884777910

       LDAP Programming with Java.  By Rob Weltman, Tony Dahbura.  ISBN:  0201657589

       LDAP System Administration.  By Gerald Carter.  ISBN:  1565924916

       Managing Enterprise Active Directory Services.  By Robbie Allen, Richard Puckett.  ISBN:  0672321254

       Solaris and LDAP Naming Services.  By Tom Bialaski, Michael Haines. ISBN:  0-13-030678-9

       Understanding and Deploying LDAP Directory Services (2ed).  By Tim Howes, Mark Smith, Gordon Good.
       ISBN:  0672323168

       LDAP Directories Explained.  By Brian Arkills. ISBN 0-201-78792-X

<b>AUTHORS</b>
       Any good FAQ is made up of many authors, everyone that contributes information to the perl-ldap mail
       list is a potential author.

       An attempt to maintain this FAQ is being done by Chris Ridd &lt;chris.ridd@isode.com&gt; and Peter
       Marschall &lt;peter@adpm.de&gt;.  It was previously updated by Clif Harden &lt;charden@pobox.com&gt;.

       The original author of this FAQ was Graham Barr &lt;gbarr@pobox.com&gt;

       Please report any bugs, or post any suggestions, to the perl-ldap mailing list &lt;perl-ldap@perl.org&gt;.

<b>COPYRIGHT</b>
       Copyright (c) 1999-2004 Graham Barr. All rights reserved. This document is distributed, and may be
       redistributed, under the same terms as Perl itself.



perl v5.8.8                                      2005-04-25                                Net::LDAP::FAQ(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Net__LDAP__FAQ.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Net__LDAP__FAQ.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Net__LDAP__FAQ.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
