<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Speech Information Selectors (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING205></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-204.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-206.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-187.html"><B>Chapter 4 - Speech Manager</B></A> / <A HREF="Sound-203.html"><B>Speech Manager Reference</B></A><BR><DL><DD><A HREF="Sound-204.html"><B>Constants</B></A></DL></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING205-0></A>
<H3><A NAME=MARKER-9-285></A>Speech Information Selectors<A NAME=MARKER-2-286></A></H3>
 This section describes the <B>speech information selectors</B> that you can pass in the <CODE>selector</CODE> parameter of the <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> functions.<P>
<PRE>
CONST
   soCharacterMode         = 'char';   {get or set character-processing mode}
   soCommandDelimiter      = 'dlim';   {set embedded command delimiters}
   soCurrentA5             = 'myA5';   {set A5 on callbacks}
   soCurrentVoice          = 'cvox';   {set speaking voice}
   soErrorCallBack         = 'ercb';   {set error callback}
   soErrors                = 'erro';   {get error information}
   soInputMode             = 'inpt';   {get or set text-processing mode}
   soNumberMode            = 'nmbr';   {get or set number-processing mode}
   soPhonemeCallBack       = 'phcb';   {set phoneme callback}
   soPhonemeSymbols        = 'phsy';   {get phoneme symbols and example }
                                       { words}
   soPitchBase             = 'pbas';   {get or set baseline pitch}
   soPitchMod              = 'pmod';   {get or set pitch modulation}
   soRate                  = 'rate';   {get or set speech rate}
   soRecentSync            = 'sync';   {get most recent synchronization }
                                       { message information}
   soRefCon                = 'refc';   {set reference constant value}
   soReset                 = 'rset';   {set channel back to default state}
   soSpeechDoneCallBack    = 'sdcb';   {set speech-done callback}
   soStatus                = 'stat';   {get status of channel}
   soSyncCallBack          = 'sycb';   {set synchronization callback}
   soSynthExtension        = 'xtnd';   {get or set synthesizer-specific }
                                       { information}
   soSynthType             = 'vers';   {get synthesizer information}
   soTextDoneCallBack      = 'tdcb';   {set text-done callback}
   soVolume                = 'volm';   {get or set speech volume}
   soWordCallBack          = 'wdcb';   {set word callback}
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-288></A><A NAME=MARKER-2-288></A>soCharacterMode</CODE>
<DD> Get or set the speech channel's character-processing mode. Two constants are currently defined for the processing mode, <CODE>modeNormal</CODE> and <CODE>modeLiteral</CODE>. When the character-processing mode is <CODE>modeNormal</CODE>, input characters are spoken as you would expect to hear them. When the mode is <CODE>modeLiteral</CODE>, each character is spoken literally, so that the word "cat" would be spoken "C-A-T". The <CODE>speechInfo</CODE> parameter points to a variable of type <CODE>OSType</CODE>, which is the character-processing mode.
<DT>
<DD> This selector works with <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> and does not move memory.
<DT><CODE><A NAME=MARKER-2-290></A><A NAME=MARKER-2-290></A>soCommandDelimiter</CODE>
<DD> <A NAME=MARKER-2-25></A>Set the embedded speech command delimiter characters to be used for the speech channel. By default the opening delimiter is "<CODE>[[</CODE>" and the closing delimiter is "<CODE>]]</CODE>". Your application might need to change these delimiters temporarily if those character sequences occur naturally in a text buffer that is to be spoken. Your application can also disable embedded command processing by passing empty delimiters (2 <CODE>NIL</CODE> bytes). The <CODE>speechInfo</CODE> parameter is a pointer to a delimiter information record, described on <A HREF=Sound-216.html#MARKER-9-425>page 4-54</A>.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory.<A NAME=MARKER-2-292></A>
<DT><CODE><A NAME=MARKER-2-294></A><A NAME=MARKER-2-294></A>soCurrentA5</CODE>
<DD> Set the value that the Speech Manager assigns to the A5 register before invoking any application-defined callback procedures for the speech channel. The A5 register must be set correctly if the callback procedures are to be able to access application global variables. For more information on the A5 register, see <I><A HREF="../Memory/Memory-2.html">Inside Macintosh: Memory</A></I>. The <CODE>speechInfo</CODE> parameter should be set to the pointer contained in the A5 register at a time when the application is not executing interrupt code or to <CODE>NIL</CODE> if your application wishes to clear a value previously set with the <CODE>soCurrentA5</CODE> selector.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory. See <A HREF=Sound-199.html#MARKER-9-207>Listing 4-6 on page 4-21</A> for an illustration of the use of this selector.
<DT><CODE><A NAME=MARKER-2-296></A><A NAME=MARKER-2-296></A>soCurrentVoice</CODE>
<DD> Set the current voice on the current speech channel to the specified voice. The <CODE>speechInfo</CODE> parameter is a pointer to a voice specification record. Your application should create the record by calling the <CODE>MakeVoiceSpec</CODE> function, described on <A HREF=Sound-227.html#MARKER-9-471>page 4-64</A>. <CODE>SetSpeechInfo</CODE> will return an <CODE>incompatibleVoice</CODE> error if the specified voice is incompatible with the speech synthesizer associated with the speech channel. If you have a speech channel open using a voice from a particular synthesizer and you try to switch to a voice that works with a different synthesizer, you receive an <CODE>incompatibleVoice</CODE> error. You need to create a new channel to use with the new voice.
<DT>
<DD> This selector works with only <CODE>SetSpeechInfo</CODE> and might move memory. Your application should not invoke it at interrupt time.
<DT><CODE><A NAME=MARKER-2-298></A><A NAME=MARKER-2-298></A>soErrorCallBack</CODE>
<DD> Set the callback procedure to be called when an error is encountered during the processing of an embedded command. The callback procedure might also be called if other conditions (such as insufficient memory) arise during the speech conversion process. When a Speech Manager function returns an error directly, the error callback procedure is not called. The callback procedure is passed information about the most recent error; it can determine information about the oldest pending error by using the speech information selector <CODE>soErrors</CODE>. The <CODE>speechInfo</CODE> parameter is a pointer to an application-defined error callback procedure, whose syntax is described on <A HREF=Sound-257.html#MARKER-9-547>page 4-86</A>. Passing <CODE>NIL</CODE> in <CODE>speechInfo</CODE> disables the error callback procedure.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-300></A><A NAME=MARKER-2-300></A>soErrors</CODE>
<DD> Get saved error information for the speech channel and clear its error registers. This selector lets you poll for various run-time errors that occur during speaking, such as the detection of badly formed embedded commands. Errors returned directly by Speech Manager functions are not reported here. If your application defines an error callback procedure, the callback should use the <CODE>soErrors</CODE> selector to obtain error information. The <CODE>speechInfo</CODE> parameter is a pointer to a speech error information record, described on <A HREF=Sound-211.html#MARKER-9-377>page 4-49</A>.
<DT>
<DD> This selector works with the <CODE>GetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-302></A><A NAME=MARKER-2-302></A>soInputMode</CODE>
<DD> Get or set the speech channel's current text-processing mode. The returned value specifies whether the channel is currently in text input mode or phoneme input mode. The <CODE>speechInfo</CODE> parameter is a pointer to a variable of type <CODE>OSType</CODE>, which specifies a text-processing mode. The following constants specify the available text-processing modes:
</DL>
<PRE>
               CONST
                  modeText             = 'TEXT';
                  modePhonemes         = 'PHON';
</PRE>
<DL>
<DT>
<DD> The <CODE>modeText</CODE> constant indicates that the speech channel is in text-processing mode. The <CODE>modePhonemes</CODE> constant indicates that the speech channel is in phoneme-processing mode. When in phoneme-processing mode, a text buffer is interpreted to be a series of characters representing various phonemes and prosodic controls, as discussed in <A HREF=Sound-201.html#MARKER-9-240>"Phonemic Representation of Speech" on page 4-32</A> and <A HREF=Sound-201.html#MARKER-9-255>"Prosodic Control Symbols" on page 4-34</A>. Some synthesizers might support additional input-processing modes and define constants for these modes.<A NAME=MARKER-2-303></A>
<DT>
<DD> This selector works with both the <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> functions. It might move memory only when used in conjunction with the <CODE>SetSpeechInfo</CODE> function.
<DT><CODE><A NAME=MARKER-2-305></A><A NAME=MARKER-2-305></A>soNumberMode</CODE>
<DD> Get or set the speech channel's current number-processing mode. Two <CODE>OSType</CODE> constants are currently defined, <CODE>modeNormal</CODE> and <CODE>modeLiteral</CODE>. When the number-processing mode is <CODE>modeNormal</CODE>, the synthesizer assembles digits into numbers (so that 12 is spoken as "twelve"). When the mode is <CODE>modeLiteral</CODE>, each digit is spoken literally (so that 12 is spoken as "one, two"). The <CODE>speechInfo</CODE> parameter is a pointer to a variable of type <CODE>OSType</CODE>, which specifies the number-processing mode.
<DT>
<DD> This selector works with both the <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> functions and does not move memory.
<DT><CODE><A NAME=MARKER-2-307></A><A NAME=MARKER-2-307></A>soPhonemeCallBack</CODE>
<DD> Set the callback procedure to be called every time the Speech Manager is about to generate a phoneme on the speech channel. The <CODE>speechInfo</CODE> parameter is a pointer to an application-defined phoneme callback procedure, whose syntax is described on <A HREF=Sound-259.html#MARKER-9-550>page 4-87</A>. Passing <CODE>NIL</CODE> in <CODE>speechInfo</CODE> disables the phoneme callback procedure.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-309></A><A NAME=MARKER-2-309></A>soPhonemeSymbols</CODE>
<DD> Get a list of phoneme symbols and example words defined for the speech channel's synthesizer. Your application might use this information to show the user what symbols to use when entering phonemic text directly. The <CODE>speechInfo</CODE> parameter is a pointer to a variable of type Handle that, on exit from the <CODE>GetSpeechInfo</CODE> function, is a handle to a phoneme descriptor record, described on <A HREF=Sound-214.html#MARKER-9-415>page 4-53</A>.
<DT>
<DD> This selector works with the <CODE>GetSpeechInfo</CODE> function and might move memory. Your application should not invoke it at interrupt time.
<DT><CODE><A NAME=MARKER-2-311></A><A NAME=MARKER-2-311></A>soPitchBase</CODE>
<DD> Get or set the speech channel's baseline speech pitch. This selector is intended for use by the Speech Manager; ordinarily, an application uses the <CODE>GetSpeechPitch</CODE> and <CODE>SetSpeechPitch</CODE> functions, described on <A HREF=Sound-242.html#MARKER-9-509>page 4-75</A> and <A HREF=Sound-243.html#MARKER-9-512>page 4-76</A>, respectively. The <CODE>speechInfo</CODE> parameter is a pointer to a variable of type <CODE>Fixed</CODE>.
<DT>
<DD> This selector works with both the <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> functions and does not move memory.
<DT><CODE><A NAME=MARKER-2-313></A><A NAME=MARKER-2-313></A>soPitchMod</CODE>
<DD> Get or set a speech channel's pitch modulation. The <CODE>speechInfo</CODE> parameter is a pointer to a variable of type <CODE>Fixed</CODE>. Pitch modulation is also expressed as a fixed-point value in the range of 0.000 to 127.000. These values correspond to MIDI note values, where 60.000 is equal to middle C on a piano scale. The most useful speech pitches fall in the range of 40.000 to 55.000. A pitch modulation value of 0.000 corresponds to a monotone in which all speech is generated at the frequency corresponding to the speech pitch. Given a speech pitch value of 46.000, a pitch modulation of 2.000 would mean that the widest possible range of pitches corresponding to the actual frequency of generated text would be 44.000 to 48.000.
<DT>
<DD> This selector works with both the <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> functions and does not move memory.
<DT><CODE><A NAME=MARKER-2-315></A><A NAME=MARKER-2-315></A>soRate</CODE>
<DD> Get or set a speech channel's speech rate. The <CODE>speechInfo</CODE> parameter is a pointer to a variable of type <CODE>Fixed</CODE>. The possible range of speech rates is from 0.000 to 65535.65535. The range of supported rates is not predefined by the Speech Manager; each speech synthesizer provides its own range of speech rates. Average human speech occurs at a rate of 180 to 220 words per minute. <A NAME=MARKER-9-58></A>
<DT>
<DD> This selector works with both the <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> functions and does not move memory.
<DT><CODE><A NAME=MARKER-2-318></A><A NAME=MARKER-2-318></A>soRecentSync</CODE>
<DD> Get the message code for the most recently encountered synchronization command. If no synchronization command has been encountered, 0 is returned. The <CODE>speechInfo</CODE> parameter is a pointer to a variable of type <CODE>OSType</CODE>.
<DT>
<DD> This selector works with the <CODE>GetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-320></A><A NAME=MARKER-2-320></A>soRefCon</CODE>
<DD> Set a speech channel's reference constant value. The reference constant value is passed to application-defined callback procedures and might contain any value convenient for the application. The <CODE>speechInfo</CODE> parameter is a long integer containing the reference constant value. In contrast with other selectors, this selector does not require that the <CODE>speechInfo</CODE> parameter's value be a pointer value. Typically, however, an application does use this selector to pass a pointer or handle value to callback procedures.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory. See <A HREF=Sound-199.html#MARKER-9-207>Listing 4-6 on page 4-21</A> for an illustration of the use of this selector.
<DT><CODE><A NAME=MARKER-2-322></A><A NAME=MARKER-2-322></A>soReset</CODE>
<DD> Set a speech channel back to its default state. For example, speech pitch and speech rate are set to default values. The <CODE>speechInfo</CODE> parameter should be set to <CODE>NIL</CODE>.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-324></A><A NAME=MARKER-2-324></A>soSpeechDoneCallBack</CODE>
<DD> Set the callback procedure to be called when the Speech Manager has finished generating speech on the speech channel. The <CODE>speechInfo</CODE> parameter is a pointer to an application-defined speech-done callback procedure, whose syntax is described on <A HREF=Sound-253.html#MARKER-9-541>page 4-84</A>. Passing <CODE>NIL</CODE> in <CODE>speechInfo</CODE> disables the speech-done callback procedure.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-326></A><A NAME=MARKER-2-326></A>soStatus</CODE>
<DD> Get a speech status information record for the speech channel. The <CODE>speechInfo</CODE> parameter is a pointer to a speech status information record, described on <A HREF=Sound-210.html#MARKER-9-370>page 4-48</A>.
<DT>
<DD> This selector works with the <CODE>GetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-328></A><A NAME=MARKER-2-328></A>soSyncCallBack</CODE>
<DD> Set the callback procedure to be called when the Speech Manager encounters a synchronization command within an embedded speech command in text being processed on the speech channel. The <CODE>speechInfo</CODE> parameter is a pointer to an application-defined synchronization callback procedure, whose syntax is described on <A HREF=Sound-255.html#MARKER-9-544>page 4-85</A>. Passing <CODE>NIL</CODE> in <CODE>speechInfo</CODE> disables the synchronization callback procedure.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-330></A><A NAME=MARKER-2-330></A>soSynthExtension</CODE>
<DD> Get or set synthesizer-specific information or settings. The <CODE>speechInfo</CODE> parameter is a pointer to a speech extension data record, described on <A HREF=Sound-215.html#MARKER-9-420>page 4-53</A>. Your application should set the <CODE>synthCreator</CODE> field of this record before calling <CODE>GetSpeechInfo</CODE> or <CODE>SetSpeechInfo</CODE>. Ordinarily, your application must pass additional information to the synthesizer in the <CODE>synthData</CODE> field.
<DT>
<DD> This selector works with both the <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> functions. Whether it moves memory depends on the synthesizer being used and the information passed to the synthesizer.
<DT><CODE><A NAME=MARKER-2-332></A><A NAME=MARKER-2-332></A>soSynthType</CODE>
<DD> Get a speech version information record for the speech synthesizer being used on the specified speech channel. The <CODE>speechInfo</CODE> parameter is a pointer to a speech version information record, described on <A HREF=Sound-212.html#MARKER-9-385>page 4-50</A>.
<DT>
<DD> This selector works with the <CODE>GetSpeechInfo</CODE> function and does not move memory. 
<DT><CODE><A NAME=MARKER-2-334></A><A NAME=MARKER-2-334></A>soTextDoneCallBack</CODE>
<DD> Set the callback procedure to be called when the Speech Manager has finished processing speech being generated on the speech channel. The <CODE>speechInfo</CODE> parameter is a pointer to an application-defined text-done callback procedure, whose syntax is described on <A HREF=Sound-253.html#MARKER-9-541>page 4-84</A>. Passing <CODE>NIL</CODE> in <CODE>speechInfo</CODE> disables the text-done callback procedure.
<DT>
<DD> This selector works with the <CODE>GetSpeechInfo</CODE> function and does not move memory.
<DT><CODE><A NAME=MARKER-2-336></A><A NAME=MARKER-2-336></A>soVolume</CODE>
<DD> Get or set the speech volume for a speech channel. The <CODE>speechInfo</CODE> parameter is a pointer to a variable of type <CODE>Fixed</CODE>. Volumes are expressed in fixed-point units ranging from 0.0 through 1.0. A value of 0.0 corresponds to silence, and a value of 1.0 corresponds to the maximum possible volume. Volume units lie on a scale that is linear with amplitude or voltage. A doubling of perceived loudness corresponds to a doubling of the volume.
<DT>
<DD> This selector works with both the <CODE>GetSpeechInfo</CODE> and <CODE>SetSpeechInfo</CODE> functions and does not move memory.<A NAME=MARKER-2-337></A>
<DT><CODE><A NAME=MARKER-2-339></A><A NAME=MARKER-2-339></A>soWordCallBack</CODE>
<DD> Set the callback procedure to be called every time the Speech Manager is about to generate a word on the speech channel. The <CODE>speechInfo</CODE> parameter is a pointer to an application-defined word callback procedure, whose syntax is described on <A HREF=Sound-259.html#MARKER-9-550>page 4-87</A>. Passing <CODE>NIL</CODE> in <CODE>speechInfo</CODE> disables the word callback procedure.
<DT>
<DD> This selector works with the <CODE>SetSpeechInfo</CODE> function and does not move memory. See <A HREF=Sound-199.html#MARKER-9-212>Listing 4-7 on page 4-21</A> for an illustration of the use of this selector.<A NAME=MARKER-2-340></A><A NAME=MARKER-2-341></A>
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-204.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-206.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
