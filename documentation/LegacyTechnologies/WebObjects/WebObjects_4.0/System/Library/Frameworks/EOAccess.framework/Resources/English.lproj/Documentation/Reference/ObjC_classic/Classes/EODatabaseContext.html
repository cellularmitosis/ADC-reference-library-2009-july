<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>EODatabaseContext</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">EOAccess Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="EODatabaseChannel.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="More/EODatabaseContext_more.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/occ/cl/EODatabaseContext">EODatabaseContext</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
EOCooperatingObjectStore : EOObjectStore : NSObject

<p><B>Conforms To:</B>
NSObject (NSObject)

<p><B>Declared in:</B>
EOAccess/EODatabaseContext.h 

<p><a name="776">
<hr width=50% align=left>
<h2>Class Description  </h2>
</a>An EODatabaseContext object is an EOObjectStore for accessing relational databases, creating and saving objects based on EOEntity definitions in an EOModel.<p>
An EODatabaseContext represents a single connection to a database server, and it determines the updating and locking strategy used by its EODatabaseChannel objects. An EODatabaseContext has a corresponding EODatabase object. If the server supports multiple concurrent transactions, the EODatabase object may have several database contexts. If the server and adaptor support it, a database context may in turn have several database channels, which handle access to the data on the server. <p>
For a more information, see <a href="More/EODatabaseContext_more.html">"More about EODatabaseContext"</a>.<p>
<a name="824">
<hr width=50% align=left>
<h2>Method Types </h2>
</a><dl><dt>Initializing instances
<dl><dt><a href="EODatabaseContext.html#53779">- initWithDatabase:</a>
</dl><dt>Fetching objects
<dl><dt><a href="EODatabaseContext.html#956">- objectsWithFetchSpecification:editingContext:</a>
<dt><a href="EODatabaseContext.html#953">- objectsForSourceGlobalID:relationshipName:editingContext:</a>
<dt><a href="EODatabaseContext.html#880">- arrayFaultWithSourceGlobalID:relationshipName:editingContext:</a>
<dt><a href="EODatabaseContext.html#888">- batchFetchRelationship:forSourceObjects:editingContext:</a>
</dl><dt>Accessing the adaptor context
<dl><dt><a href="EODatabaseContext.html#877">- adaptorContext</a>
</dl><dt>Accessing the database object
<dl><dt><a href="EODatabaseContext.html#898">- database</a>
</dl><dt>Accessing the coordinator
<dl><dt><a href="EODatabaseContext.html#895">- coordinator</a>
</dl><dt>Managing channels
<dl><dt><a href="EODatabaseContext.html#884">- availableChannel</a>
<dt><a href="EODatabaseContext.html#23311">- registerChannel:</a>
<dt><a href="EODatabaseContext.html#48863">- registeredChannels</a>
<dt><a href="EODatabaseContext.html#1126">- unregisterChannel:</a>
</dl><dt>Accessing the delegate
<dl><dt><a href="EODatabaseContext.html#1022">- setDelegate:</a>
<dt><a href="EODatabaseContext.html#901">- delegate</a>
</dl><dt>Committing or discarding changes
<dl><dt><a href="EODatabaseContext.html#931">- invalidateAllObjects</a>
<dt><a href="EODatabaseContext.html#934">- invalidateObjectsWithGlobalIDs:</a>
<dt><a href="EODatabaseContext.html#1015">- rollbackChanges</a>
<dt><a href="EODatabaseContext.html#1019">- saveChangesInEditingContext:</a>
<dt><a href="EODatabaseContext.html#891">- commitChanges</a>
<dt><a href="EODatabaseContext.html#971">- performChanges</a>
<dt><a href="EODatabaseContext.html#983">- prepareForSaveWithCoordinator:editingContext:</a>
<dt><a href="EODatabaseContext.html#1135">- recordUpdateForObject:changes:</a>
<dt><a href="EODatabaseContext.html#986">- recordChangesInEditingContext</a>
<dt><a href="EODatabaseContext.html#23346">- refaultObject:withGlobalID:editingContext:</a>
</dl><dt>Determining if the EODatabaseContext is responsible for a particular operation
<dl><dt><a href="EODatabaseContext.html#967">- ownsObject:</a>
<dt><a href="EODatabaseContext.html#963">- ownsGlobalID:</a>
<dt><a href="EODatabaseContext.html#925">- handlesFetchSpecification:</a>
</dl><dt>Managing Snapshots
<dl><dt><a href="EODatabaseContext.html#917">- forgetSnapshotForGlobalID:</a>
<dt><a href="EODatabaseContext.html#921">- forgetSnapshotsForGlobalIDs:</a>
<dt><a href="EODatabaseContext.html#945">- localSnapshotForGlobalID:</a>
<dt><a href="EODatabaseContext.html#989">- recordSnapshot:forGlobalID:</a>
<dt><a href="EODatabaseContext.html#1122">- recordSnapshots:</a>
<dt><a href="EODatabaseContext.html#47736">- snapshotForGlobalID:</a>
<dt><a href="EODatabaseContext.html#54466">- recordSnapshot:forSourceGlobalID:relationshipName:</a>
<dt><a href="EODatabaseContext.html#54829">- snapshotForSourceGlobalID:relationshipName:</a>
<dt><a href="EODatabaseContext.html#53993">- localSnapshotForSourceGlobalID:relationshipName:</a>
<dt><a href="EODatabaseContext.html#47618">- recordToManySnapshots:</a>
</dl><dt>Initializing objects
<dl><dt><a href="EODatabaseContext.html#1109">- initializeObject:withGlobalID:editingContext:</a>
</dl><dt>Obtaining an EODatabaseContext
<dl><dt><a href="EODatabaseContext.html#751">+ registeredDatabaseContextForModel:editingContext:</a> 
</dl><dt>Locking objects
<dl><dt><a href="EODatabaseContext.html#1026">- setUpdateStrategy:</a>
<dt><a href="EODatabaseContext.html#1038">- updateStrategy</a> 
<dt><a href="EODatabaseContext.html#1011">- registerLockedObjectWithGlobalID:</a>
<dt><a href="EODatabaseContext.html#937">- isObjectLockedWithGlobalID:</a>
<dt><a href="EODatabaseContext.html#53899">- isObjectLockedWithGlobalID:editingContext:</a>
<dt><a href="EODatabaseContext.html#909">- forgetAllLocks</a>
<dt><a href="EODatabaseContext.html#913">- forgetLocksForObjectsWithGlobalIDs:</a>
<dt><a href="EODatabaseContext.html#1133">- lockObjectWithGlobalID:editingContext:</a>
</dl><dt>Returning information about objects
<dl><dt><a href="EODatabaseContext.html#1042">- valuesForKeys:object:</a>
</dl><dt>Setting the context class
<dl><dt><a href="EODatabaseContext.html#47128">+ contextClassToRegister</a>
<dt><a href="EODatabaseContext.html#47162">+ setContextClassToRegister:</a>
</dl><dt>Checking connection status
<dl><dt><a href="EODatabaseContext.html#24121">- hasBusyChannels</a>
</dl><dt>Other
<dl><dt><a href="EODatabaseContext.html#47850">+ forceConnectionWithModel:connectionDictionaryOverrides:
editingContext:</a>
<dt><a href="EODatabaseContext.html#47870">- lock</a>
<dt><a href="EODatabaseContext.html#47879">- unlock</a>
</dl></dl><a name="53120">
<hr width=50% align=left>
<h2>Class Methods </h2>
</a><a name="47128">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/EODatabaseContext/contextClassToRegister">contextClassToRegister</a></h3>
</a>+ (Class)<code>contextClassToRegister</code><p>
Returns the class that is registered with an EOObjectStoreCoordinator when the coordinator broadcasts an EOCooperatingObjectStoreNeeded notification. By default this is EODatabaseContext, but you can use <a href="EODatabaseContext.html#47162"><code>setContextClassToRegister:</code></a> to specify your own subclass of EODatabaseContext.<p>
When an EOObjectStoreCoordinator sends an EOCooperatingObjectStoreNeeded notification for an EOEntity in the default model group, if <code>contextClassToRegister</code> is non-<code>nil</code> (and it should be-it makes no sense to set <code>contextClassToRegister</code> to <code>nil</code>), an instance of the that class is created, the EOModel for the EOEntity is registered, and the context class is registered with the requesting EOObjectStoreCoordinator. <p>
<a name="47850">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/EODatabaseContext/forceConnectionWithModel:connectionDictionaryOverrides:editingContext:">forceConnectionWithModel:connectionDictionaryOverrides:editingContext:</a></h3>
</a>+ (EODatabaseContext *)<code>forceConnectionWithModel:</code>(EOModel *)<em>amodel<br></em><code>connectionDictionaryOverrides:</code>(NSDictionary *)<em>overrides</em> <br><code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Forces the stack of objects in the EOAccess layer to be instantiated, if necessary, and then makes a connection to the database. If there is an existing connection for <em>amodel</em>, it is first closed and then reconnected. The new connection dictionary is effectively made up of the model's connection dictionary, overlaid with <em>overrides</em>. All compatible models in the model's group also are associated with the new connection (so they share the same adaptor). Returns the EODatabaseContext associated with the model for <em>anEditingContext</em>.<p>
<a name="751">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/EODatabaseContext/registeredDatabaseContextForModel:editingContext:">registeredDatabaseContextForModel:editingContext:</a></h3>
</a>+ (EODatabaseContext *)<code>registeredDatabaseContextForModel:</code>(EOModel *)<em>aModel </em><code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em> <p>
Finds the EOObjectStoreCoordinator for <em>anEditingContext</em> and checks to see if it already contains an EODatabaseContext cooperating store for <em>aModel</em>. If it does, it returns that EODatabaseContext. Otherwise it instantiates a new EODatabaseContext, adds it to the EOObjectStoreCoordinator, and returns the EODatabaseContext.<p>
<a name="47162">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/clm/EODatabaseContext/setContextClassToRegister:">setContextClassToRegister:</a></h3>
</a>+ (void)<code>setContextClassToRegister:</code>(Class)<em>contextClass</em><p>
Sets to <em>contextClass</em> the "contextClassToRegister." For more discussion of this topic, see the method description for <a href="EODatabaseContext.html#47128"><code>contextClassToRegister</code></a>.<p>
<a name="876">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="877">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/adaptorContext">adaptorContext</a></h3>
</a>- (EOAdaptorContext *)<code>adaptorContext</code> <p>
Returns the EOAdaptorContext used by the EODatabaseContext for communication with the database server.<p>
<a name="880">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/arrayFaultWithSourceGlobalID:relationshipName:editingContext:">arrayFaultWithSourceGlobalID:relationshipName:editingContext:</a></h3>
</a>- (NSArray *)<code>arrayFaultWithSourceGlobalID:</code>(EOGlobalID *)<em>globalID<br></em><code>relationshipName:</code>(NSString *)<em>name<br></em><code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Overrides the inherited implementation to create a to-many fault for <em>anEditingContext</em>. <em>name</em> must correspond to an EORelationship in the EOEntity for the specified <em>globalID</em>.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#905">- <code>faultForGlobalID:editingContext:</code></a>
<p><a name="884">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/availableChannel">availableChannel</a></h3>
</a>- (EODatabaseChannel *)<code>availableChannel</code> <p>
Returns an EODatabaseChannel that's registered with the receiver and that isn't busy. If the method can't find a channel that meets these criteria, it posts an EODatabaseChannelNeededNotification in the hopes that someone will provide a new channel. After posting the notification, the receiver checks its list of channels again. If there are still no available channels, the receiver creates an EODatabaseChannel itself. However, if the list is not empty and there are no available channels, the method returns <code>nil</code>.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#23311">- <code>registerChannel:</code></a>, <a href="EODatabaseContext.html#48863">- <code>registeredChannels</code></a>, <a href="EODatabaseContext.html#1126">- <code>unregisterChannel:</code></a> 
<p><a name="888">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/batchFetchRelationship:forSourceObjects:editingContext:">batchFetchRelationship:forSourceObjects:editingContext:</a></h3>
</a>- (void)<code>batchFetchRelationship:</code>(EORelationship *)<em>relationship</em> <br><code>forSourceObjects:</code>(NSArray *)<em>objects</em> <br><code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Clear all the faults for the <em>relationship</em> of <em>anEditingContext</em>'s <em>objects</em> and performs a single, efficient, fetch (at most two fetches, if the relationship is many-to-many). This method provides a way to fetch the same relationship for multiple objects. For example, given an array of Employee objects, this method can fetch all of their departments with one round trip to the server, rather than asking the server for each of the employee's departments individually.<p>
<a name="891">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/commitChanges">commitChanges</a></h3>
</a>- (void)<code>commitChanges</code> <p>
Overrides the inherited implementation to instruct the adaptor to commit the transaction. If the commit is successful, any primary and foreign key changes are written back to the saved objects, database locks are released, and an EOObjectsChangedInStoreNotification (defined in EOObjectStore) is posted describing the committed changes. Raises an exception if the adaptor is unable to commit the transaction; the error message indicates the nature of the problem. You should never need to invoke this method directly.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#971">- <code>performChanges</code></a>, <a href="EODatabaseContext.html#1015">- <code>rollbackChanges</code></a>
<p><a name="895">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/coordinator">coordinator</a></h3>
</a>- (EOObjectStoreCoordinator *)<code>coordinator</code> <p>
Returns the receiver's EOObjectStoreCoordinator or <code>nil</code> if there is none.<em> </em>This method is only valid during a save operation.<p>
<a name="898">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/database">database</a></h3>
</a>- (EODatabase *)<code>database</code> <p>
Returns the receiver's EODatabase. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#53779">- <code>initWithDatabase:</code></a>
<p><a name="901">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/delegate">delegate</a></h3>
</a>- (id)<code>delegate</code> <p>
Returns the receiver's delegate. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#1022">- <code>setDelegate:</code></a>
<p><a name="905">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/faultForGlobalID:editingContext:">faultForGlobalID:editingContext:</a></h3>
</a>- (id)<code>faultForGlobalID:</code>(EOGlobalID *)<em>globalID</em> <code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Overrides the inherited implementation<em> </em>to create a to-one fault for the object identified by<em> globalID</em> and register it in <em>anEditingContext.</em><p>
<B>See also: </B>  
<a href="EODatabaseContext.html#880">- <code>arrayFaultWithSourceGlobalID:relationshipName:editingContext:</code></a>
<p><a name="47909">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/faultForRawRow:entityNamed:editingContext:">faultForRawRow:entityNamed:editingContext:</a></h3>
</a>- (id &lt;EOEnterpriseObject&gt;)<code>faultForRawRow:</code>(id)<em>row</em> <code>entityNamed:</code>(NSString *)<em>entityName</em> <code>editingContext:</code>(EOEditingContext *)<em>context</em><p>
Returns a fault for a raw row. <em>row</em> is the raw data, typically in the form of an NSDictionary. <em>entityName</em> is the name of the appropriate entity for the EO you want to create (as a fault). <em>editingContext</em> is the EOEditingContext in which to create the fault<p>
<a name="909">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/forgetAllLocks">forgetAllLocks</a></h3>
</a>- (void)<code>forgetAllLocks</code> <p>
Clears all of the receiver's locks. Doesn't cause the locks to be forgotten in the server, only in the receiver. This method is useful when something has happened to cause the server to forget the locks and the receiver needs to be synced up. This method is invoked whenever a transaction is committed or rolled back.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#1011">- <code>registerLockedObjectWithGlobalID:</code></a>, <a href="EODatabaseContext.html#937">- <code>isObjectLockedWithGlobalID:</code></a>, 
<a href="EODatabaseContext.html#53899">- <code>isObjectLockedWithGlobalID:editingContext:</code></a>, <a href="EODatabaseContext.html#913">- <code>forgetLocksForObjectsWithGlobalIDs:</code></a>, 
<a href="EODatabaseContext.html#1133">- <code>lockObjectWithGlobalID:editingContext:</code></a>, - <code>lockObject:</code> (EOEditingContext)
<p><a name="913">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/forgetLocksForObjectsWithGlobalIDs:">forgetLocksForObjectsWithGlobalIDs:</a></h3>
</a>- (void)<code>forgetLocksForObjectsWithGlobalIDs:</code>(NSArray *)<em>globalIDs</em> <p>
Clears the locks made for the enterprise objects identified by each of the EOGlobalIDs in <em>globalIDs</em>. Doesn't cause the locks to be forgotten in the server, only in the receiver.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#1011">- <code>registerLockedObjectWithGlobalID:</code></a>, <a href="EODatabaseContext.html#937">- <code>isObjectLockedWithGlobalID:</code></a>, 
<a href="EODatabaseContext.html#53899">- <code>isObjectLockedWithGlobalID:editingContext:</code></a>, <a href="EODatabaseContext.html#909">- <code>forgetAllLocks</code></a>, 
<a href="EODatabaseContext.html#1133">- <code>lockObjectWithGlobalID:editingContext:</code></a>, - <code>lockObject:</code> (EOEditingContext)
<p><a name="917">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/forgetSnapshotForGlobalID:">forgetSnapshotForGlobalID:</a></h3>
</a>- (void)<code>forgetSnapshotForGlobalID:</code>(EOGlobalID *)<em>globalID</em> <p>
Deletes the snapshot made for the enterprise object identified by <em>globalID</em>.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#989">- <code>recordSnapshot:forGlobalID:</code></a>, <a href="EODatabaseContext.html#945">- <code>localSnapshotForGlobalID:</code></a>, <a href="EODatabaseContext.html#1122">- <code>recordSnapshots:</code></a>, 
<a href="EODatabaseContext.html#47736">- <code>snapshotForGlobalID:</code></a>, <a href="EODatabaseContext.html#921">- <code>forgetSnapshotsForGlobalIDs:</code></a>
<p><a name="921">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/forgetSnapshotsForGlobalIDs:">forgetSnapshotsForGlobalIDs:</a></h3>
</a>- (void)<code>forgetSnapshotsForGlobalIDs:</code>(NSArray *)<em>globalIDs</em><p>
Deletes the snapshots made for the enterprise objects identified by <em>globalIDs</em>, an array of EOGlobalID objects.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#989">- <code>recordSnapshot:forGlobalID:</code></a>, <a href="EODatabaseContext.html#945">- <code>localSnapshotForGlobalID:</code></a>, <a href="EODatabaseContext.html#1122">- <code>recordSnapshots:</code></a>, 
<a href="EODatabaseContext.html#47736">- <code>snapshotForGlobalID:</code></a>
<p><a name="925">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/handlesFetchSpecification:">handlesFetchSpecification:</a></h3>
</a>- (BOOL)<code>handlesFetchSpecification:</code>(EOFetchSpecification *)<em>fetchSpecification</em> <p>
Overrides the inherited implementation to return <code></code>YES if the receiver is responsible for fetching the objects described by the entity name in <em>fetchSpecification</em>. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#967">- <code>ownsObject:</code></a>, <a href="EODatabaseContext.html#963">- <code>ownsGlobalID:</code></a> 
<p><a name="24121">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/hasBusyChannels">hasBusyChannels</a></h3>
</a>- (BOOL)<code>hasBusyChannels</code><p>
Returns <code></code>YES if the receiver's EOAdaptorContext has channels that have outstanding operations (that is, have a fetch in progress), <code></code>NO otherwise.<p>
<a name="1109">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/initializeObject:withGlobalID:editingContext:">initializeObject:withGlobalID:editingContext:</a></h3>
</a>- (void)<code>initializeObject:</code>(id)<em>object</em> <br><code>withGlobalID:</code>(EOGlobalID *)<em>globalID</em> <br><code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Overrides the inherited implementation initialize <em>object</em> for <em>anEditingContext</em> by filling it with properties based on row data fetched from the adaptor. The snapshot for <em>globalID</em> is looked up and those attributes in the snapshot that are marked as class properties in the EOEntity are assigned to <em>object</em>. For relationship class properties, faults are constructed and assigned to the object.<p>
<a name="53779">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/initWithDatabase:">initWithDatabase:</a></h3>
</a>- <code>initWithDatabase:</code>(EODatabase *)<em>aDatabase</em> <p>
Initializes a newly allocated EODatabaseContext with <em>aDatabase</em> as the EODatabase object it works with. The new EODatabaseContext retains <em>aDatabase</em>. Returns <code>self</code>, or <code>nil</code> if unable to create another EOAdaptorContext for the EOAdaptor of <em>aDatabase</em>. This is the designated initializer for the EODatabaseContext class.  <em> </em> <p>
<a name="931">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/invalidateAllObjects">invalidateAllObjects</a></h3>
</a>- (void)<code>invalidateAllObjects</code> <p>
Overrides the inherited implementation to discard all snapshots in the receiver's EODatabase, forget all locks, and post an EOInvalidatedAllObjectsInStoreNotification, as well as an EOObjectsChangedInStoreNotification with the invalidated global IDs in the <code>userInfo</code> dictionary. Both of these notifications are defined in EOObjectStore. This method works by invoking <a href="EODatabaseContext.html#934">- <code>invalidateObjectsWithGlobalIDs:</code></a> for all of the snapshots in the receiver's EODatabase.<p>
<a name="934">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/invalidateObjectsWithGlobalIDs:">invalidateObjectsWithGlobalIDs:</a></h3>
</a>- (void)<code>invalidateObjectsWithGlobalIDs:</code>(NSArray *)<em>globalIDs</em> <p>
Overrides the inherited implementation to discard the snapshots for the objects identified by the EOGlobalIDs in <em>globalIDs</em> and broadcasts an EOObjectsChangedInStoreNotification (defined in EOObjectStore), which causes the EOEditingContext containing objects fetched from the receiver to refault those objects. The result is that these objects will be refetched from the database the next time they're accessed.<p>
<a name="937">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/isObjectLockedWithGlobalID:">isObjectLockedWithGlobalID:</a></h3>
</a>- (BOOL)<code>isObjectLockedWithGlobalID:</code>(EOGlobalID *)<em>globalID</em> <p>
Returns <code></code>YES if the enterprise object identified by <em>globalID</em> is locked, <code></code>NO otherwise.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#1011">- <code>registerLockedObjectWithGlobalID:</code></a>, <a href="EODatabaseContext.html#909">- <code>forgetAllLocks</code></a>, <code><a href="EODatabaseContext.html#53899">- isObjectLockedWithGlobalID:
editingContext:</a></code>, <a href="EODatabaseContext.html#913">- <code>forgetLocksForObjectsWithGlobalIDs:</code></a>, <a href="EODatabaseContext.html#1133">- <code>lockObjectWithGlobalID:
editingContext:</code></a>, - <code>lockObject:</code> (EOEditingContext)
<p><a name="53899">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/isObjectLockedWithGlobalID:editingContext:">isObjectLockedWithGlobalID:editingContext:</a></h3>
</a>- (BOOL)<code>isObjectLockedWithGlobalID:</code>(EOGlobalID *)<em>globalID</em> <code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Overrides the EOObjectStore method<code> isObjectLockedWithGlobalID:editingContext: </code>to return YES if the database row corresponding to <em>globalID</em> has been locked in an open transaction held by the receiver.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#1011">- <code>registerLockedObjectWithGlobalID:</code></a>, <a href="EODatabaseContext.html#937">- <code>isObjectLockedWithGlobalID:</code></a>, <a href="EODatabaseContext.html#909">- <code>forgetAllLocks</code></a>, 
<a href="EODatabaseContext.html#913">- <code>forgetLocksForObjectsWithGlobalIDs:</code></a>, <a href="EODatabaseContext.html#1133">- <code>lockObjectWithGlobalID:editingContext:</code></a>,<br>
- <code>lockObject:</code> (EOEditingContext)
<p><a name="945">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/localSnapshotForGlobalID:">localSnapshotForGlobalID:</a></h3>
</a>- (NSDictionary *)<code>localSnapshotForGlobalID:</code>(EOGlobalID *)<em>globalID</em> <p>
Returns the snapshot for the object identified by <em>globalID</em>, if there is one; else returns <code>nil</code>. Only searches locally (in the transaction scope), not in the EODatabase. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#989">- <code>recordSnapshot:forGlobalID:</code></a>, <a href="EODatabaseContext.html#917">- <code>forgetSnapshotForGlobalID:</code></a>, <a href="EODatabaseContext.html#1122">- <code>recordSnapshots:</code></a>, 
<a href="EODatabaseContext.html#47736">- <code>snapshotForGlobalID:</code></a>
<p><a name="53993">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/localSnapshotForSourceGlobalID:relationshipName:">localSnapshotForSourceGlobalID:relationshipName:</a></h3>
</a>- (NSArray *)<code>localSnapshotForSourceGlobalID:</code>(EOGlobalID *)<em>globalID</em> <code>relationshipName:</code>(NSString *)<em>name</em><p>
Returns an array that is the snapshot for the objects at the destination of the to-many relationship named <em>name</em>, which is a property of the object identified by <em>globalID</em>. The returned array contains the globalIDs of the destination objects. If there is no snapshot, returns <code>nil</code>. Only searches locally (in the transaction scope), not in the EODatabase.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#54466">- <code>recordSnapshot:forSourceGlobalID:relationshipName:</code></a>, <a href="EODatabaseContext.html#54829">- <code>snapshotForSourceGlobalID:
relationshipName:</code></a>
<p><a name="47870">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/lock">lock</a></h3>
</a>- (void)<code>lock</code><p>
Used internally to protect access to the receiver in a multi-threaded environment. Do not confuse this with any methods which work with the database locking mechanism. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#47879">- <code>unlock</code></a>
<p><a name="1133">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/lockObjectWithGlobalID:editingContext:">lockObjectWithGlobalID:editingContext:</a></h3>
</a>- (void)<code>lockObjectWithGlobalID:</code>(EOGlobalID *)<em>globalID</em> <br><code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em> <p>
Overrides the inherited implementation to attempt to lock the database row corresponding to <em>globalID</em> in the underlying database server, on behalf of <em>anEditingContext</em>. If a transaction is not already open at the time of the lock request, the transaction is begun and is held open until either <code>commitChanges</code> or <code>invalidateAllObjects</code> is invoked. At that point all locks are released. Raises an NSInternalInconsistencyException if unable to obtain the lock.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#1011">- <code>registerLockedObjectWithGlobalID:</code></a>, <a href="EODatabaseContext.html#937">- <code>isObjectLockedWithGlobalID:</code></a>, <a href="EODatabaseContext.html#909">- <code>forgetAllLocks</code></a>, 
<a href="EODatabaseContext.html#913">- <code>forgetLocksForObjectsWithGlobalIDs:</code></a>, - <code>lockObject:</code> (EOEditingContext)
<p><a name="953">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/objectsForSourceGlobalID:relationshipName:editingContext:">objectsForSourceGlobalID:relationshipName:editingContext:</a></h3>
</a>- (NSArray *)<code>objectsForSourceGlobalID:</code>(EOGlobalID *)<em>globalID<br></em><code>relationshipName:</code>(NSString *)<em>name<br></em><code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Overrides the inherited implementation to service a to-many fault. The snapshot for the source object identified by <em>globalID</em> is located and the EORelationship named <em>name</em> is used to construct a qualifier from that snapshot. This qualifier is then used to fetch the requested objects into <em>anEditingContext</em> using the method <a href="EODatabaseContext.html#956"><code>objectsWithFetchSpecification:editingContext:</code></a>.<p>
<a name="956">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/objectsWithFetchSpecification:editingContext:">objectsWithFetchSpecification:editingContext:</a></h3>
</a>- (NSArray *)<code>objectsWithFetchSpecification:</code>(EOFetchSpecification *)<em>fetchSpecification</em> <code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em> <p>
Overrides the inherited implementation to fetch objects from an external store into <em>anEditingContext</em>. The receiver obtains an available EODatabaseChannel and issues a fetch with <em>fetchSpecification</em>. If one of these objects is already present in memory, by default this method doesn't overwrite its values with the new values from the database (you can change this behavior; see the <code>setRefreshesRefetchedObjects:</code> method in the EOFetchSpecification class specification).<p>
You can fine-tune the fetching behavior by adding hints to <em>fetchSpecification</em>'s <code>hints</code> dictionary. For this purpose, Enterprise Objects Framework defines the following keys (NSStrings):<p>
<Table Border="3">
<caption></caption>
<tr><th><b>Constant
</b></th><th><b>Corresponding value in the hints dictionary
</b></th></tr>
<tr><td scope="row">EOCustomQueryExpressionHintKey
</td><td>An NSString specifying raw SQL with which to perform the fetch. There is no 
way to pass down parameters with this hint.
</td></tr>
<tr><td scope="row">EOStoredProcedureNameHintKey
</td><td>An NSString specifying a name for a stored procedure in the model that should 
be used rather than building the SQL statement. The stored procedure must 
query the the exact same attributes in the same order as EOF would query if 
generating the SELECT expression dynamically. If this key is supplied, other 
aspects of the EOFetchSpecification such as <code>isDeep</code>, <code>qualifier</code>, and 
<code>sortOrderings</code> are ignored (in that sense, this key is more of a directive than a 
hint). There is no way to pass down parameters with this hint.
</td></tr>

</Table>

<Table>
<tr><td scope="row">
</Table>
<p>
The class description contains additional information on using these hints. See "Using a Custom Query."<p>
You can also use this method to implement "on-demand" locking by using a <em>fetchSpecification</em> that includes locking. For more discussion of this subject, see "Updating And Locking Strategies" in the class description.<p>
Raises an exception if an error occurs; the error message indicates the nature of the problem.<p>
<B>See also: </B>  
- <code>objectsWithFetchSpecification:</code> (EOEditingContext)
<p><a name="963">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/ownsGlobalID:">ownsGlobalID:</a></h3>
</a>- (BOOL)<code>ownsGlobalID:</code>(EOGlobalID *)<em>globalID</em> <p>
Overrides the inherited implementation to return <code></code>YES if the receiver is responsible for fetching and saving the object identified by <em>globalID</em>, <code></code>NO otherwise. The receiver is determined to be responsible if <em>globalID</em> is a subclass of EOKeyGlobalID and <em>globalID</em> has an entity from one of the receiver's EODatabase's EOModels.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#925">- <code>handlesFetchSpecification:</code></a>, <a href="EODatabaseContext.html#967">- <code>ownsObject:</code></a> 
<p><a name="967">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/ownsObject:">ownsObject:</a></h3>
</a>- (BOOL)<code>ownsObject:</code>(id)<em>object</em> <p>
Overrides the inherited implementation to return <code></code>YES if the receiver is responsible for fetching and saving <em>object</em>, <code></code>NO otherwise. The receiver is determined to be responsible if the entity corresponding to <em>object</em> is in one of the receiver's EODatabase's EOModels.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#963">- <code>ownsGlobalID:</code></a>, <a href="EODatabaseContext.html#925">- <code>handlesFetchSpecification:</code></a> 
<p><a name="971">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/performChanges">performChanges</a></h3>
</a>- (void)<code>performChanges</code> <p>
Overrides the inherited implementation to construct EOAdaptorOperations from the EODatabaseOperations produced during <a href="EODatabaseContext.html#986"><code>recordChangesInEditingContext</code></a> and <a href="EODatabaseContext.html#1135"><code>recordUpdateForObject:changes:</code></a>. Invokes the delegate method <code>databaseContext:willOrderAdaptorOperationsFromDatabaseOperations:</code> to give the delegate an opportunity to construct alternative EOAdaptorOperations from the EODatabaseOperations. Then invokes the delegate method <code>databaseContext:willPerformAdaptorOperations:adaptorChannel:</code> to let the delegate substitute its own array of EOAdaptorOperations. Gives the EOAdaptorOperations to an available EOAdaptorChannel for execution. If the save succeeds, updates the snapshots in the receiver to reflect the new state of the server. You should never need to invoke this method directly.<p>
This method raises an exception if the adaptor is unable to perform the operations. The exception's userInfo dictionary contains these keys:<p>
<ul><li>EODatabaseContextKey
The EODatabaseContext object that was trying to save to its underlying repository when the exception was raised.<p><li>EODatabaseOperationsKey
The list of database operations the EODatabaseContext was trying to perform when the failure occurred.<p><li>EOFailedDatabaseOperationKey
The database operation the EODatabaseContext failed to perform.<p></ul>The userInfo dictionary may also contain some of the keys listed in the method description for the EOAdaptorChannel method <code>performAdaptorOperation:</code>. For more information, see the EOAdaptorChannel class specification.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#891">- <code>commitChanges</code></a>, <a href="EODatabaseContext.html#1015">- <code>rollbackChanges</code></a>
<p><a name="983">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/prepareForSaveWithCoordinator:editingContext:">prepareForSaveWithCoordinator:editingContext:</a></h3>
</a>- (void)<code>prepareForSaveWithCoordinator:</code>(EOObjectStoreCoordinator *)<em>coordinator</em> <code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em> <p>
Overrides the inherited implementation to do whatever is necessary to prepare to save changes. If needed, generates primary keys for any new objects in <em>anEditingContext</em> that are owned by the receiver. This method is invoked before the object graph is analyzed and foreign key assignments are performed. You should never need to invoke this method directly.<p>
<a name="986">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/recordChangesInEditingContext">recordChangesInEditingContext</a></h3>
</a>- (void)<code>recordChangesInEditingContext</code> <p>
Overrides the inherited implementation to construct a list of EODatabaseOperations for all changes to objects in the EOEditingContext that are owned by the receiver. Forwards any relationship changes discovered but not owned by the receiver to the EOObjectStoreCoordinator. This method is typically invoked in the course of an EOObjectStoreCoordinator saving changes through its <code>saveChangesInEditingContext:</code> method. It's invoked after <a href="EODatabaseContext.html#983"><code>prepareForSaveWithCoordinator:editingContext:</code></a> and before <a href="EODatabaseContext.html#971"><code>performChanges</code></a>. You should never need to invoke this method directly.<p>
<a name="989">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/recordSnapshot:forGlobalID:">recordSnapshot:forGlobalID:</a></h3>
</a>- (void)<code>recordSnapshot:</code>(NSDictionary *)<em>snapshot </em><code>forGlobalID:</code>(EOGlobalID *)<em>globalID</em> <p>
Records <em>aSnapshot</em> under <em>globalID</em>. This method only records snapshots locally (in the transaction scope). If you want to record snapshots globally, use the corresponding EODatabase method.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#917">- <code>forgetSnapshotForGlobalID:</code></a>, <a href="EODatabaseContext.html#945">- <code>localSnapshotForGlobalID:</code></a>, <a href="EODatabaseContext.html#1122">- <code>recordSnapshots:</code></a>, 
<a href="EODatabaseContext.html#47736">- <code>snapshotForGlobalID:</code></a>
<p><a name="54466">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/recordSnapshot:forSourceGlobalID:relationshipName:">recordSnapshot:forSourceGlobalID:relationshipName:</a></h3>
</a>- (void)<code>recordSnapshot:</code>(NSArray *)<em>globalIDs</em> <code>forSourceGlobalID:</code>(EOGlobalID *)<em>globalID</em> <code>relationshipName:</code>(NSString *)<em>name</em><p>
For the object identified by <em>globalID</em>, records an NSArray of <em>globalIDs</em> for the to-many relationship named <em>name</em>. These <em>globalIDs</em> identify the objects at the destination of the relationship. This method only records snapshots locally (in the transaction scope). If you want to record snapshots globally, use the corresponding EODatabase method.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#54829">- <code>snapshotForSourceGlobalID:relationshipName:</code></a>, <a href="EODatabaseContext.html#53993">- <code>localSnapshotForSourceGlobalID:
relationshipName:</code></a>, <a href="EODatabaseContext.html#47618">- <code>recordToManySnapshots:</code></a>
<p><a name="1122">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/recordSnapshots:">recordSnapshots:</a></h3>
</a>- (void)<code>recordSnapshots:</code>(NSDictionary *)<em>snapshots</em> <p>
Records the objects in <em>snapshots</em>, a dictionary of snapshots. The <em>snapshots; keys </em>are GlobalIDs and its values are the corresponding snapshots represented as NSDicationaries. This method only records snapshots locally (in the transaction scope). If you want to record snapshots globally, use the corresponding EODatabase method.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#989">- <code>recordSnapshot:forGlobalID:</code></a>, <a href="EODatabaseContext.html#945">- <code>localSnapshotForGlobalID:</code></a>, 
<a href="EODatabaseContext.html#917">- <code>forgetSnapshotForGlobalID:</code></a>, <a href="EODatabaseContext.html#47736">- <code>snapshotForGlobalID:</code></a> 
<p><a name="47618">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/recordToManySnapshots:">recordToManySnapshots:</a></h3>
</a>- (void)<code>recordToManySnapshots:</code>(NSDictionary *)<em>snapshots</em><p>
Records the objects in <em>snapshots</em>. <em>snapshots</em> should be an NSDictionary of NSDictionaries, in which the top-level dictionary has as its key the globaID of the enterprise object for which to-many relationships are being recorded. The key's value is a dictionary whose keys are the names of the Enterprise Object's to-many relationships. Each of these keys in turn has as its value an array of globalIDs that identify the objects at the destination of the relationship.<p>
This method only records snapshots locally (in the transaction scope). If you want to record snapshots globally, use the corresponding EODatabase method.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#54466">- <code>recordSnapshot:forSourceGlobalID:relationshipName:</code></a>, <a href="EODatabaseContext.html#54829">- <code>snapshotForSourceGlobalID:
relationshipName:</code></a>, <a href="EODatabaseContext.html#53993">- <code>localSnapshotForSourceGlobalID:relationshipName:</code></a>
<p><a name="1135">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/recordUpdateForObject:changes:">recordUpdateForObject:changes:</a></h3>
</a>- (void)<code>recordUpdateForObject:</code>(id)<em>object</em> <code>changes:</code>(NSDictionary *)<em>changes</em> <p>
Overrides the inherited implementation to communicate to the receiver that <em>changes</em> from another EOCooperatingObjectStore (through the EOObjectStoreCoordinator) need to be made to an <em>object</em> in the receiver. For example, an insert of an object in a relationship property might require changing a foreign key property in an object owned by another cooperating store. This method can be invoked any time after <a href="EODatabaseContext.html#983"><code>prepareForSaveWithCoordinator:editingContext:</code></a> and before <a href="EODatabaseContext.html#971"><code>performChanges</code></a>.<p>
<a name="23346">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/refaultObject:withGlobalID:editingContext:">refaultObject:withGlobalID:editingContext:</a></h3>
</a>- (void)<code>refaultObject:</code>(id)<em>anObject<br></em><code>withGlobalID:</code>(EOGlobalID *)<em>globalID<br></em><code>editingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Overrides the inherited implementation to refault the enterprise object object identified by <em>globalID</em> in <em>anEditingContext</em>. Newly-inserted objects should not be refaulted, since they can't be refetched from the external store. If you attempt to do this, an exception will be raised. Don't refault to-many relationship arrays, just recreate them.<p>
This method should be used with caution since refaulting an object doesn't remove the object snapshot from the undo stack, after which the object snapshot may not refer to the proper object..<p>
<a name="23311">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/registerChannel:">registerChannel:</a></h3>
</a>- (void)<code>registerChannel:</code>(EODatabaseChannel *)<em>channel</em> <p>
Registers <em>channel</em>, which means that it adds it to the pool of available channels used to service fetch and fault requests. Registered channels are retained by the receiver. You use this method if you need to perform more than one fetch simultaneously.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#884">- <code>availableChannel</code></a>, <a href="EODatabaseContext.html#48863">- <code>registeredChannels</code></a>, <a href="EODatabaseContext.html#1126">- <code>unregisterChannel:</code></a>
<p><a name="48863">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/registeredChannels">registeredChannels</a></h3>
</a>- (NSArray *)<code>registeredChannels</code> <p>
Returns all of the EODatabaseChannels that have been registered for use with the receiver. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#23311">- <code>registerChannel:</code></a>, <a href="EODatabaseContext.html#884">- <code>availableChannel</code></a>, <a href="EODatabaseContext.html#1126">- <code>unregisterChannel:</code></a> 
<p><a name="1011">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/registerLockedObjectWithGlobalID:">registerLockedObjectWithGlobalID:</a></h3>
</a>- (void)<code>registerLockedObjectWithGlobalID:</code>(EOGlobalID *)<em>globalID</em> <p>
Registers as a locked object the enterprise object identified by <em>globalID</em>. This method is used internally to keep track of objects corresponding to rows that are locked in the database. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#909">- <code>forgetAllLocks</code></a>, <a href="EODatabaseContext.html#937">- <code>isObjectLockedWithGlobalID:</code></a>, 
<a href="EODatabaseContext.html#913">- <code>forgetLocksForObjectsWithGlobalIDs:</code></a>, <a href="EODatabaseContext.html#1133">- <code>lockObjectWithGlobalID:editingContext:</code></a>, 
- <code>lockObject:</code> (EOEditingContext)
<p><a name="1015">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/rollbackChanges">rollbackChanges</a></h3>
</a>- (void)<code>rollbackChanges</code> <p>
Overrides the inherited implementation to instruct the adaptor to roll back the transaction. Rolls back any changed snapshots, and releases all locks.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#971">- <code>performChanges</code></a>, <a href="EODatabaseContext.html#891">- <code>commitChanges</code></a>
<p><a name="1019">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/saveChangesInEditingContext:">saveChangesInEditingContext:</a></h3>
</a>- (void)<code>saveChangesInEditingContext:</code>(EOEditingContext *)<em>anEditingContext</em><p>
Overrides the inherited implementation to save the changes made in <em>anEditingContext</em>. This message is sent by an EOEditingContext to its EOObjectStore to commit changes. Normally an editing context doesn't send this message to an EODatabaseContext, but to an EOObjectStoreCoordinator. Raises an exception if an error occurs; the error message indicates the nature of the problem.<p>
<a name="1022">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/setDelegate:">setDelegate:</a></h3>
</a>- (void)<code>setDelegate:</code>(id)<em>delegate</em> <p>
Sets the receiver's delegate to <em>delegate</em>, and propagates the delegate to all of the receiver's EODatabaseChannels. EODatabaseChannels share the delegate of their EODatabaseContext.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#901">- <code>delegate</code></a>
<p><a name="1026">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/setUpdateStrategy:">setUpdateStrategy:</a></h3>
</a>- (void)<code>setUpdateStrategy:</code>(EOUpdateStrategy)<em>strategy</em> <p>
Sets the update strategy used by the EODatabaseContext to <em>strategy</em>. See "Updating And Locking Strategies" in the class description for information on the update strategies:<p>
<ul><li>EOUpdateWithOptimisticLocking
<li>EOUpdateWithPessimisticLocking
</ul>Raises an NSInvalidArgumentException if the receiver has any transactions in progress or if you try to set <em>strategy</em> to EOUpdateWithPessimisticLocking and the receiver's EODatabase already has snapshots. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#1038">- <code>updateStrategy</code></a> 
<p><a name="47736">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/snapshotForGlobalID:">snapshotForGlobalID:</a></h3>
</a>- (NSDictionary *)<code>snapshotForGlobalID:</code>(EOGlobalID *)<em>globalID</em> <p>
Returns the snapshot for the object identified by <em>globalID</em>, if there is one; else returns <code>nil</code>. Searches first locally (in the transaction scope) and then in the EODatabase.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#989">- <code>recordSnapshot:forGlobalID:</code></a>, <a href="EODatabaseContext.html#945">- <code>localSnapshotForGlobalID:</code></a>, 
<a href="EODatabaseContext.html#917">- <code>forgetSnapshotForGlobalID:</code></a>, <a href="EODatabaseContext.html#1122">- <code>recordSnapshots:</code></a> 
<p><a name="54829">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/snapshotForSourceGlobalID:relationshipName:">snapshotForSourceGlobalID:relationshipName:</a></h3>
</a>- (NSArray *)<code>snapshotForSourceGlobalID:</code>(EOGlobalID *)<em>globalID</em> <br><code>relationshipName:</code>(NSString *)<em>name</em><p>
Returns a snapshot that consists of an array of global IDs. These global IDs identify the objects at the destination of the to-many relationship named <em>name</em>, which is a property of the object identified by <em>globalID</em>. If there is no snapshot, returns <code>nil</code>.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#54466">- <code>recordSnapshot:forSourceGlobalID:relationshipName:</code></a>, 
<a href="EODatabaseContext.html#53993">- <code>localSnapshotForSourceGlobalID:relationshipName:</code></a>, <a href="EODatabaseContext.html#47618">- <code>recordToManySnapshots:</code></a>
<p><a name="47879">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/unlock">unlock</a></h3>
</a>- (void)<code>unlock</code><p>
Used internally to release the lock that protects access to the receiver in a multi-threaded environment.<p>
<B>See also: </B>  
<a href="EODatabaseContext.html#47870">- <code>lock</code></a>
<p><a name="1126">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/unregisterChannel:">unregisterChannel:</a></h3>
</a>- (void)<code>unregisterChannel:</code>(EODatabaseChannel *)<em>channel</em> <p>
Unregisters the EODatabaseChannel <em>channel</em>, which means that it removes it from the pool of available channels used for database communication (for example, to service fetch and fault requests). <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#23311">- <code>registerChannel:</code></a>, <a href="EODatabaseContext.html#48863">- <code>registeredChannels</code></a>, <a href="EODatabaseContext.html#884">- <code>availableChannel</code></a>
<p><a name="1038">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/updateStrategy">updateStrategy</a></h3>
</a>- (EOUpdateStrategy)<code>updateStrategy</code> <p>
Returns the update strategy used by the receiver, one of:<p>
<ul><li>EOUpdateWithOptimisticLocking
<li>EOUpdateWithPessimisticLocking
</ul>The default strategy is EOUpdateWithOptimisticLocking. See the class description for information on update strategies. <p>
<B>See also: </B>  
<a href="EODatabaseContext.html#1026">- <code>setUpdateStrategy:</code></a> 
<p><a name="1042">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseContext/valuesForKeys:object:">valuesForKeys:object:</a></h3>
</a>- (NSDictionary *)<code>valuesForKeys:</code>(NSArray *)<em>keys</em> <code>object:</code>(id)<em>object</em> <p>
Overrides the inherited implementation to return values for the specified <em>keys</em> from the snapshot of <em>object</em>. The returned values are used primarily by another EODatabaseContext to extract foreign key properties for objects owned by the receiver.<p>
<HR WIDTH=50% ALIGN=LEFT>
<h1>Notifications</h1>  


<a name="1098">
<hr width=25% align=left>
<h3> <a name="//apple_ref/c/data/EODatabaseChannelNeededNotification">EODatabaseChannelNeededNotification</a></h3>
</a>This notification is broadcast whenever an EODatabaseContext is asked to perform an object store operation and it doesn't have an available EODatabaseChannel. Subscribers can create a new channel and add it to the EODatabaseContext at this time.<p>
<Table Border="3">
<caption></caption>
<tr><td><code>Notification Object
</code></td><td>The EODatabaseContext.
</td></tr>
<tr><td scope="row"><code>userInfo Dictionary
</code></td><td>None.
</td></tr>

</Table>

<Table>
<tr><td>
</Table>
<p>
<p>

<hr><br>
<a href="EODatabaseChannel.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="More/EODatabaseContext_more.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/17/98 17:42:34 -->

</body>
</html>
