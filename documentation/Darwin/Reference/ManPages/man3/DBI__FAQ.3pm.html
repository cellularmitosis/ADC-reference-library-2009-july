<html><head><title>Mac OS X
 Manual Page For DBI::FAQ(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/DBI::FAQ" title="Mac OS X
 Manual Page for DBI::FAQ(3pm)"><a name="//apple_ref/doc/man/3/DBI::FAQ" title="Mac OS X
 Manual Page for DBI::FAQ(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/DBI::FAQ"; name=DBI::FAQ(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
DBI::FAQ(3)                          User Contributed Perl Documentation                         DBI::FAQ(3)



<b>NAME</b>
       DBI::FAQ -- The Frequently Asked Questions for the Perl5 Database Interface

<b>SYNOPSIS</b>
           perldoc DBI::FAQ

<b>VERSION</b>
       This document is currently at version <u>0.38</u>, as of <u>February</u> <u>8th,</u> <u>2000</u>.

<b>DESCRIPTION</b>
       This document serves to answer the most frequently asked questions on both the DBI Mailing Lists and
       personally to members of the DBI development team.

<b>Basic</b> <b>Information</b> <b>&amp;</b> <b>Information</b> <b>Sources</b>
       <b>1.1</b> <b>What</b> <b>is</b> <b>DBI,</b> <b>DBperl,</b> <b>Oraperl</b> <b>and</b> <b>*perl?</b>

       To quote Tim Bunce, the architect and author of DBI:

           ``DBI is a database access Application Programming Interface (API)
             for the Perl Language. The DBI API Specification defines a set
             of functions, variables and conventions that provide a consistent
             database interface independant of the actual database being used.''

       In simple language, the DBI interface allows users to access multiple database types transparently.
       So, if you connecting to an Oracle, Informix, mSQL, Sybase or whatever database, you don't need to
       know the underlying mechanics of the 3GL layer. The API defined by DBI will work on <u>all</u> these
       database types.

       A similar benefit is gained by the ability to connect to two <u>different</u> databases of different vendor
       within the one perl script, <u>ie</u>, I want to read data from an Oracle database and insert it back into
       an Informix database all within one program. The DBI layer allows you to do this simply and
       powerfully.

       <u>DBperl</u> is the old name for the interface specification. It's usually now used to denote perl<u>4</u> modules
       on database interfacing, such as, <u>oraperl</u>, <u>isqlperl</u>, <u>ingperl</u> and so on. These interfaces didn't have
       a standard API and are generally <u>not</u> supported.

       Here's a list of DBperl modules, their corresponding DBI counterparts and support information. <u>Please</u>
       <u>note</u>, the author's listed here generally <u>do</u> <u>not</u> maintain the DBI module for the same database. These
       email addresses are unverified and should only be used for queries concerning the perl4 modules
       listed below. DBI driver queries should be directed to the <u>dbi-users</u> mailing list.

           Module Name Database Required   Author          DBI
           ----------- -----------------   ------          ---<font color="#ffffff" class="whiteout">Sybperl&nbsp;--Sybperl</font>
           Sybperl     Sybase              Michael Peppler DBD::Sybase
                                           &lt;mpeppler@itf.ch&gt;
           Oraperl     Oracle 6 &amp; 7        Kevin Stock     DBD::Oracle
                                           &lt;dbi-users@perl.org&gt;
           Ingperl     Ingres              Tim Bunce &amp;     DBD::Ingres
                                           Ted Lemon
                                           &lt;dbi-users@perl.org&gt;
           Interperl   Interbase           Buzz Moschetti  DBD::Interbase
                                           &lt;buzz@bear.com&gt;
           Uniperl     Unify 5.0           Rick Wargo      None
                                           &lt;rickers@coe.drexel.edu&gt;
           Pgperl      Postgres            Igor Metz       DBD::Pg
                                           &lt;metz@iam.unibe.ch&gt;
           Btreeperl   NDBM                John Conover    SDBM?
                                           &lt;john@johncon.com&gt;
           Ctreeperl   C-Tree              John Conover    None
                                           &lt;john@johncon.com&gt;
           Cisamperl   Informix C-ISAM     Mathias Koerber None
                                           &lt;mathias@unicorn.swi.com.sg&gt;
           Duaperl     X.500 Directory     Eric Douglas    None
                       User Agent

       However, some DBI modules have DBperl emulation layers, so, <u>DBD::Oracle</u> comes with an Oraperl
       emulation layer, which allows you to run legacy oraperl scripts without modification. The emulation
       layer translates the oraperl API calls into DBI calls and executes them through the DBI switch.

       Here's a table of emulation layer information:

           Module                  Emulation Layer     Status
           ------          ---------------     ------<font color="#ffffff" class="whiteout">DBD::Oracle&nbsp;-----DBD::Oracle</font>
           DBD::Oracle     Oraperl             Complete
           DBD::Informix   Isqlperl            Under development
           DBD::Ingres     Ingperl             Complete?
           DBD::Sybase     Sybperl             Working? ( Needs verification )
           DBD::mSQL       Msqlperl            Experimentally released with
                                               DBD::mSQL-0.61

       The <u>Msqlperl</u> emulation is a special case. <u>Msqlperl</u> is a perl5 driver for <u>mSQL</u> databases, but does not
       conform to the DBI Specification. It's use is being deprecated in favour of <u>DBD::mSQL</u>. <u>Msqlperl</u> may
       be downloaded from CPAN <u>via</u>:

           <a href="http://www.perl.com/cgi-bin/cpan_mod?module=Msqlperl">http://www.perl.com/cgi-bin/cpan_mod?module=Msqlperl</a>

       <b>1.2.</b> <b>Where</b> <b>can</b> <b>I</b> <b>get</b> <b>it</b> <b>from?</b>

       The Comprehensive Perl Archive Network resources should be used for retrieving up-to-date versions of
       the DBI and drivers. CPAN may be accessed <u>via</u> Tom Christiansen's splendid <u>CPAN</u> <u>multiplexer</u> program
       located at:

           <a href="http://www.perl.com/CPAN/">http://www.perl.com/CPAN/</a>

       For more specific version information and exact URLs of drivers, please see the DBI drivers list and
       the DBI module pages which can be found on:

           <a href="http://dbi.perl.org/">http://dbi.perl.org/</a>
           <a href="http://www.symbolstone.org/technology/perl/DBI">http://www.symbolstone.org/technology/perl/DBI</a>

       This list is automatically generated on a nightly basis from CPAN and should be up-to-date.

       <b>1.3.</b> <b>Where</b> <b>can</b> <b>I</b> <b>get</b> <b>more</b> <b>information?</b>

       There are a few information sources on DBI.

       <u>"Programming</u> <u>the</u> <u>Perl</u> <u>DBI"</u>
           "Programming the Perl DBI" is the <u>official</u> book on the DBI written by Alligator Descartes and Tim
           Bunce and published by O'Reilly &amp; Associates.  The book was released on February 9th, 2000.

           The table of contents is:

               Preface
               1. Introduction
                   From Mainframes to Workstations
                   Perl
                   DBI in the Real World
                   A Historical Interlude and Standing Stones
               2. Basic Non-DBI Databases
                   Storage Managers and Layers
                   Query Languages and Data Functions
                   Standing Stones and the Sample Database
                   Flat-File Databases
                   Putting Complex Data into Flat Files
                   Concurrent Database Access and Locking
                   DBM Files and the Berkeley Database Manager
                   The MLDBM Module
                   Summary
               3. SQL and Relational Databases
                   The Relational Database Methodology
                   Datatypes and NULL Values
                   Querying Data
                   Modifying Data Within Tables
                   Creating and Destroying Tables
               4. Programming with the DBI
                   DBI Architecture
                   Handles
                   Data Source Names
                   Connection and Disconnection
                   Error Handling
                   Utility Methods and Functions
               5. Interacting with the Database
                   Issuing Simple Queries
                   Executing Non-SELECT Statements
                   Binding Parameters to Statements
                   Binding Output Columns
                   do() Versus prepare()
                   Atomic and Batch Fetching
               6. Advanced DBI
                   Handle Attributes and Metadata
                   Handling LONG/LOB Data
                   Transactions, Locking, and Isolation
               7. ODBC and the DBI
                   ODBC -- Embraced and Extended
                   DBI -- Thrashed and Mutated
                   The Nuts and Bolts of ODBC
                   ODBC from Perl
                   The Marriage of DBI and ODBC
                   Questions and Choices
                   Moving Between Win32::ODBC and the DBI
                   And What About ADO?
               8. DBI Shell and Database Proxying
                   dbish -- The DBI Shell
                   Database Proxying
               A. DBI Specification
               B. Driver and Database Characteristics
               C. ASLaN Sacred Site Charter
               Index

           The book should be available from all good bookshops and can be ordered online either &lt;I&gt;via&lt;/I&gt;
           O'Reilly &amp; Associates

               <a href="http://www.oreilly.com/catalog/perldbi">http://www.oreilly.com/catalog/perldbi</a>

           or Amazon

               <a href="http://www.amazon.com/exec/obidos/ASIN/1565926994/dbi">http://www.amazon.com/exec/obidos/ASIN/1565926994/dbi</a>

       <u>POD</u> <u>documentation</u>
           <u>POD</u>s are chunks of documentation usually embedded within perl programs that document the code
           ``<u>in</u> <u>place</u>'', providing a useful resource for programmers and users of modules. POD for DBI and
           drivers is beginning to become more commonplace, and documentation for these modules can be read
           with the "perldoc" program included with Perl.

           The DBI Specification
               The POD for the DBI Specification can be read with the:

                   perldoc DBI

               command. The Specification also forms Appendix A of "Programming the Perl DBI".

           Oraperl
               Users of the Oraperl emulation layer bundled with <u>DBD::Oracle</u>, may read up on how to program
               with the Oraperl interface by typing:

                   perldoc Oraperl

               This will produce an updated copy of the original oraperl man page written by Kevin Stock for
               perl4. The oraperl API is fully listed and described there.

           Drivers
               Users of the DBD modules may read about some of the private functions and quirks of that
               driver by typing:

                   perldoc &lt;driver&gt;

               For example, the <u>DBD::mSQL</u> driver is bundled with driver-specific documentation that can be
               accessed by typing

                   perldoc DBD::mSQL

           Frequently Asked Questions
               This document, the <u>Frequently</u> <u>Asked</u> <u>Questions</u> is also available as POD documentation! You can
               read this on your own system by typing:

                   perldoc DBI::FAQ

               This may be more convenient to persons not permanently, or conveniently, connected to the
               Internet. The <u>DBI::FAQ</u> module should be downloaded and installed for the more up-to-date
               version.

               The version of <u>DBI::FAQ</u> shipped with the "DBI" module may be slightly out of date.

           POD in general
               Information on writing POD, and on the philosophy of POD in general, can be read by typing:

                   perldoc perlpod

               Users with the Tk module installed may be interested to learn there is a Tk-based POD reader
               available called "tkpod", which formats POD in a convenient and readable way. This is
               available <u>via</u> CPAN as the module called <u>Tk::POD</u> and is highly recommended.

       <u>Driver</u> <u>and</u> <u>Database</u> <u>Characteristics</u>
           The driver summaries that were produced for Appendix B of "Programming the Perl DBI" are
           available online at:

               <a href="http://dbi.perl.org/">http://dbi.perl.org/</a>
               <a href="http://www.symbolstone.org/technology/perl/DBI">http://www.symbolstone.org/technology/perl/DBI</a>

           in the driver information table. These summaries contain standardised information on each driver
           and database which should aid you in selecting a database to use. It will also inform you quickly
           of any issues within drivers or whether a driver is not fully compliant with the DBI
           Specification.

       <u>Rambles,</u> <u>Tidbits</u> <u>and</u> <u>Observations</u>
               <a href="http://dbi.perl.org/tidbits">http://dbi.perl.org/tidbits</a>
               <a href="http://www.symbolstone.org/technology/perl/DBI/tidbits">http://www.symbolstone.org/technology/perl/DBI/tidbits</a>

           There are a series of occasional rambles from various people on the DBI mailing lists who, in an
           attempt to clear up a simple point, end up drafting fairly comprehensive documents. These are
           quite often varying in quality, but do provide some insights into the workings of the interfaces.

       <u>Articles</u>
           A list of articles discussing the DBI can be found on the DBI WWW page at:

               <a href="http://dbi.perl.org/">http://dbi.perl.org/</a>
               <a href="http://www.symbolstone.org/technology/perl/DBI">http://www.symbolstone.org/technology/perl/DBI</a>

           These articles are of varying quality and age, from the original Perl Journal article written by
           Alligator and Tim, to more recent debacles published online from about.com.

       <u>README</u> <u>files</u>
           The <u>README</u> files included with each driver occasionally contains some useful information ( no,
           really! ) that may be pertinent to the user.  Please read them. It makes our worthless existences
           more bearable. These can all be read from the main DBI WWW page at:

               <a href="http://dbi.perl.org/">http://dbi.perl.org/</a>
               <a href="http://www.symbolstone.org/technology/perl/DBI">http://www.symbolstone.org/technology/perl/DBI</a>

       <u>Mailing</u> <u>Lists</u>
           There are three mailing lists for DBI:

               dbi-announce@perl.org     -- for announcements, very low traffic
               dbi-users@perl.org        -- general user support
               dbi-dev@perl.org          -- for driver developers (no user support)

           For information on how to subscribe, set digest mode etc, and unsubscribe, send an email message
           (the content will be ignored) to:

               dbi-announce-help@perl.org
               dbi-users-help@perl.org
               dbi-dev-help@perl.org

       <u>Mailing</u> <u>List</u> <u>Archives</u>
           <u>US</u> <u>Mailing</u> <u>List</u> <u>Archives</u>
                   <a href="http://outside.organic.com/mail-archives/dbi-users/">http://outside.organic.com/mail-archives/dbi-users/</a>

               Searchable hypermail archives of the three mailing lists, and some of the much older traffic
               have been set up for users to browse.

           <u>European</u> <u>Mailing</u> <u>List</u> <u>Archives</u>
                   <a href="http://www.rosat.mpe-garching.mpg.de/mailing-lists/PerlDB-Interest">http://www.rosat.mpe-garching.mpg.de/mailing-lists/PerlDB-Interest</a>

               As per the US archive above.

<b>Compilation</b> <b>Problems</b>
       <b>2.1.</b> <b>Compilation</b> <b>problems</b> <b>or</b> <b>"It</b> <b>fails</b> <b>the</b> <b>test!"</b>

       First off, consult the README for that driver in case there is useful information about the problem.
       It may be a known problem for your given architecture and operating system or database. You can check
       the README files for each driver in advance online at:

           <a href="http://dbi.perl.org/">http://dbi.perl.org/</a>
           <a href="http://www.symbolstone.org/technology/perl/DBI">http://www.symbolstone.org/technology/perl/DBI</a>

       If it's a known problem, you'll probably have to wait till it gets fixed. If you're <u>really</u> needing it
       fixed, try the following:

       <u>Attempt</u> <u>to</u> <u>fix</u> <u>it</u> <u>yourself</u>
           This technique is generally <u>not</u> recommended to the faint-hearted.  If you do think you have
           managed to fix it, then, send a patch file ( context diff ) to the author with an explanation of:

              What the problem was, and test cases, if possible.

              What you needed to do to fix it. Please make sure you mention everything.

              Platform information, database version, perl version, module version and DBI version.

       <u>Email</u> <u>the</u> <u>author</u> Do <u>NOT</u> whinge!
           Please email the address listed in the WWW pages for whichever driver you are having problems
           with. Do <u>not</u> directly email the author at a known address unless it corresponds with the one
           listed.

           We tend to have real jobs to do, and we do read the mailing lists for problems. Besides, we may
           not have access to &lt;<u>insert</u> <u>your</u> <u>favourite</u> <u>brain-damaged</u> <u>platform</u> <u>here&gt;</u> and couldn't be of any
           assistance anyway! Apologies for sounding harsh, but that's the way of it!

           However, you might catch one of these creative genii at 3am when we're doing this sort of stuff
           anyway, and get a patch within 5 minutes. The atmosphere in the DBI circle is that we <u>do</u>
           appreciate the users' problems, since we work in similar environments.

           If you are planning to email the author, please furnish as much information as possible, <u>ie</u>:

              <u>ALL</u> the information asked for in the README file in the problematic module. And we mean <u>ALL</u>
               of it. We don't put lines like that in documentation for the good of our health, or to meet
               obscure README file standards of length.

              If you have a core dump, try the <u>Devel::CoreStack</u> module for generating a stack trace from
               the core dump. Send us that too.  <u>Devel::CoreStack</u> can be found on CPAN at:

                   <a href="http://www.perl.com/cgi-bin/cpan_mod?module=Devel::CoreStack">http://www.perl.com/cgi-bin/cpan_mod?module=Devel::CoreStack</a>

              Module versions, perl version, test cases, operating system versions and <u>any</u> <u>other</u> <u>pertinent</u>
               <u>information</u>.

           Remember, the more information you send us, the quicker we can track problems down. If you send
           us no useful information, expect nothing back.

           Finally, please be aware that some authors, including Tim Bunce, specifically request that you do
           <u>not</u> mail them directly. Please respect their wishes and use the email addresses listed in the
           appropriate module "README" file.

       <u>Email</u> <u>the</u> <u>dbi-users</u> <u>Mailing</u> <u>List</u>
           It's usually a fairly intelligent idea to <u>cc</u> the mailing list anyway with problems. The authors
           all read the lists, so you lose nothing by mailing there.

<b>Platform</b> <b>and</b> <b>Driver</b> <b>Issues</b>
       <b>3.1</b> <b>What's</b> <b>the</b> <b>difference</b> <b>between</b> <b>ODBC</b> <b>and</b> <b>DBI?</b>

       In terms of architecture - not much: Both define programming interfaces. Both allow multiple drivers
       to be loaded to do the actual work.

       In terms of ease of use - much: The DBI is a 'high level' interface that, like Perl itself, strives
       to make the simple things easy while still making the hard things possible. The ODBC is a 'low level'
       interface. All nuts-bolts-knobs-and-dials.

       Now there's an ODBC driver for the DBI (DBD::ODBC) the "What's the difference" question is more
       usefully rephrased as:

       Chapter 7 of "Programming the Perl DBI" covers this topic in far more detail and should be consulted.

       <b>3.2</b> <b>What's</b> <b>the</b> <b>difference</b> <b>between</b> <b>Win32::ODBC</b> <b>and</b> <b>DBD::ODBC?</b>

       The DBI, and thus DBD::ODBC, has a different philosophy from the Win32::ODBC module:

       The Win32::ODBC module is a 'thin' layer over the low-level ODBC API.  The DBI defines a simpler
       'higher level' interface.

       The Win32::ODBC module gives you access to more of the ODBC API.  The DBI and DBD::ODBC give you
       access to only the essentials.  (But, unlike Win32::ODBC, the DBI and DBD::ODBC do support parameter
       binding and multiple prepared statements which reduces the load on the database server and can
       dramatically increase performance.)

       The Win32::ODBC module only works on Win32 systems.  The DBI and DBD::ODBC are very portable and work
       on Win32 and Unix.

       The DBI and DBD::ODBC modules are supplied as a standard part of the Perl 5.004 binary distribution
       for Win32 (they don't work with the older, non-standard, ActiveState port).

       Scripts written with the DBI and DBD::ODBC are faster than Win32::ODBC on Win32 and are trivially
       portable to other supported database types.

       The DBI offers optional automatic printing or <u>die()</u>ing on errors which makes applications simpler and
       more robust.

       The current DBD::ODBC driver version 0.16 is new and not yet fully stable.  A new release is due soon
       [relative to the date of the next TPJ issue :-] and will be much improved and offer more ODBC
       functionality.

       To summarise: The Win32::ODBC module is your best choice if you need access to more of the ODBC API
       than the DBI gives you. Otherwise, the DBI and DBD::ODBC combination may be your best bet.

       Chapter 7 of "Programming the Perl DBI" covers this topic in far more detail and should be consulted.

       <b>3.3</b> <b>Is</b> <b>DBI</b> <b>supported</b> <b>under</b> <b>Windows</b> <b>95</b> <b>/</b> <b>NT</b> <b>platforms?</b>

       Finally, yes! Jeff Urlwin has been working diligently on building <u>DBI</u> and <u>DBD::ODBC</u> under these
       platforms, and, with the advent of a stabler perl and a port of <u>MakeMaker</u>, the project has come on by
       great leaps and bounds.

       The <u>DBI</u> and <u>DBD::Oracle</u> Win32 ports are now a standard part of DBI, so, downloading <u>DBI</u> of version
       higher than <u>0.81</u> should work fine as should using the most recent <u>DBD::Oracle</u> version.

       <b>3.4</b> <b>Can</b> <b>I</b> <b>access</b> <b>Microsoft</b> <b>Access</b> <b>or</b> <b>SQL-Server</b> <b>databases</b> <b>with</b> <b>DBI?</b>

       Yes, use the <u>DBD::ODBC</u> driver.

       <b>3.5</b> <b>Is</b> <b>the</b> <b>a</b> <b>DBD</b> <b>for</b> <b>&lt;</b><u>insert</u> <u>favourite</u> <u>database</u> <u>here</u><b>&gt;?</b>

       Is is listed on the DBI drivers page?

           <a href="http://dbi.perl.org/">http://dbi.perl.org/</a>
           <a href="http://www.symbolstone.org/technology/perl/DBI">http://www.symbolstone.org/technology/perl/DBI</a>

       If not, no. A complete absence of a given database driver from that page means that no-one has
       announced any intention to work on it, not that such a driver is impossible to write.

       A corollary of the above statement implies that if you see an announcement for a driver <u>not</u> on the
       above page, there's a good chance it's not actually a <u>DBI</u> driver, and may not conform to the
       specifications. Therefore, questions concerning problems with that code should <u>not</u> really be
       addressed to the DBI Mailing Lists.

       <b>3.6</b> <b>What's</b> <b>DBM?</b> <b>And</b> <b>why</b> <b>should</b> <b>I</b> <b>use</b> <b>DBI</b> <b>instead?</b>

       Extracted from ``<u>DBI</u> <u>-</u> <u>The</u> <u>Database</u> <u>Interface</u> <u>for</u> <u>Perl</u> <u>5</u>'':

           ``UNIX was originally blessed with simple file-based ``databases'', namely
           the dbm system. dbm lets you store data in files, and retrieve
           that data quickly. However, it also has serious drawbacks.

               File Locking

               The dbm systems did not allow particularly robust file locking
               capabilities, nor any capability for correcting problems arising through
               simultaneous writes [ to the database ].

               Arbitrary Data Structures

               The dbm systems only allows a single fixed data structure:
               key-value pairs. That value could be a complex object, such as a
               [ C ] struct, but the key had to be unique. This was a large
               limitation on the usefulness of dbm systems.

           However, dbm systems still provide a useful function for users with
           simple datasets and limited resources, since they are fast, robust and
           extremely well-tested. Perl modules to access dbm systems have now
           been integrated into the core Perl distribution via the
           AnyDBM_File module.''

       To sum up, DBM is a perfectly satisfactory solution for essentially read-only databases, or small and
       simple datasets. However, for more scaleable dataset handling, not to mention robust transactional
       locking, users are recommended to use a more powerful database engine <u>via</u> <u>DBI</u>.

       Chapter 2 of "Programming the Perl DBI" discusses DBM files in detail.

       <b>3.7</b> <b>What</b> <b>database</b> <b>do</b> <b>you</b> <b>recommend</b> <b>me</b> <b>using?</b>

       This is a particularly thorny area in which an objective answer is difficult to come by, since each
       dataset, proposed usage and system configuration differs from person to person.

       From the current author's point of view, if the dataset is relatively small, being tables of less
       than 1 million rows, and less than 1000 tables in a given database, then <u>mSQL</u> is a perfectly
       acceptable solution to your problem. This database is extremely cheap, is wonderfully robust and has
       excellent support. More information is available on the Hughes Technology WWW site at:

           <a href="http://www.hughes.com.au">http://www.hughes.com.au</a>

       You may also wish to look at MySQL which is a more powerful database engine that has a similar feel
       to mSQL.

           <a href="http://www.tcx.se">http://www.tcx.se</a>

       If the dataset is larger than 1 million row tables or 1000 tables, or if you have either more money,
       or larger machines, I would recommend <u>Oracle</u> <u>RDBMS</u>.  Oracle's WWW site is an excellent source of more
       information.

           <a href="http://www.oracle.com">http://www.oracle.com</a>

       <u>Informix</u> is another high-end RDBMS that is worth considering. There are several differences between
       Oracle and Informix which are too complex for this document to detail. Information on Informix can be
       found on their WWW site at:

           <a href="http://www.informix.com">http://www.informix.com</a>

       In the case of WWW fronted applications, <u>mSQL</u> may be a better option due to slow connection times
       between a CGI script and the Oracle RDBMS and also the amount of resource each Oracle connection will
       consume. <u>mSQL</u> is lighter resource-wise and faster.

       These views are not necessarily representative of anyone else's opinions, and do not reflect any
       corporate sponsorship or views. They are provided <u>as-is</u>.

       <b>3.8</b> <b>Is</b> <b>&lt;</b><u>insert</u> <u>feature</u> <u>here</u><b>&gt;</b> <b>supported</b> <b>in</b> <b>DBI?</b>

       Given that we're making the assumption that the feature you have requested is a non-standard
       database-specific feature, then the answer will be <u>no</u>.

       DBI reflects a <u>generic</u> API that will work for most databases, and has no database-specific
       functionality.

       However, driver authors may, if they so desire, include hooks to database-specific functionality
       through the "func()" method defined in the DBI API.  Script developers should note that use of
       functionality provided <u>via</u> the "func()" methods is very unlikely to be portable across databases.

<b>Programming</b> <b>Questions</b>
       <b>4.1</b> <b>Is</b> <b>DBI</b> <b>any</b> <b>use</b> <b>for</b> <b>CGI</b> <b>programming?</b>

       In a word, yes! DBI is hugely useful for CGI programming! In fact, I would tentatively say that CGI
       programming is one of two top uses for DBI.

       DBI confers the ability to CGI programmers to power WWW-fronted databases to their users, which
       provides users with vast quantities of ordered data to play with. DBI also provides the possibility
       that, if a site is receiving far too much traffic than their database server can cope with, they can
       upgrade the database server behind the scenes with no alterations to the CGI scripts.

       <b>4.2</b> <b>How</b> <b>do</b> <b>I</b> <b>get</b> <b>faster</b> <b>connection</b> <b>times</b> <b>with</b> <b>DBD::Oracle</b> <b>and</b> <b>CGI?</b>

           Contributed by John D. Groenveld

       The Apache "httpd" maintains a pool of "httpd" children to service client requests.

       Using the Apache <u>mod</u><b>_</b><u>perl</u> module by <u>Doug</u> <u>MacEachern</u>, the perl interpreter is embedded with the
       "httpd" children. The CGI, DBI, and your other favorite modules can be loaded at the startup of each
       child. These modules will not be reloaded unless changed on disk.

       For more information on Apache, see the Apache Project's WWW site:

           <a href="http://www.apache.org">http://www.apache.org</a>

       The <u>mod</u><b>_</b><u>perl</u> module can be downloaded from CPAN <u>via</u>:

           <a href="http://www.perl.com/cgi-bin/cpan_mod?module=Apache">http://www.perl.com/cgi-bin/cpan_mod?module=Apache</a>

       <b>4.3</b> <b>How</b> <b>do</b> <b>I</b> <b>get</b> <b>persistent</b> <b>connections</b> <b>with</b> <b>DBI</b> <b>and</b> <b>CGI?</b>

           Contributed by John D. Groenveld

       Using Edmund Mergl's <u>Apache::DBI</u> module, database logins are stored in a hash with each of these
       "httpd" child. If your application is based on a single database user, this connection can be started
       with each child.  Currently, database connections cannot be shared between "httpd" children.

       <u>Apache::DBI</u> can be downloaded from CPAN <u>via</u>:

           <a href="http://www.perl.com/cgi-bin/cpan_mod?module=Apache::DBI">http://www.perl.com/cgi-bin/cpan_mod?module=Apache::DBI</a>

       <b>4.4</b> <b>``When</b> <b>I</b> <b>run</b> <b>a</b> <b>perl</b> <b>script</b> <b>from</b> <b>the</b> <b>command</b> <b>line,</b> <b>it</b> <b>works,</b> <b>but,</b> <b>when</b> <b>I</b> <b>run</b> <b>it</b> <b>under</b> <b>the</b> <b>"httpd",</b>
       <b>it</b> <b>fails!''</b> <b>Why?</b>

       Basically, a good chance this is occurring is due to the fact that the user that you ran it from the
       command line as has a correctly configured set of environment variables, in the case of <u>DBD::Oracle</u>,
       variables like "ORACLE_HOME", "ORACLE_SID" or "TWO_TASK".

       The "httpd" process usually runs under the user id of "nobody", which implies there is no configured
       environment. Any scripts attempting to execute in this situation will correctly fail.

       One way to solve this problem is to set the environment for your database in a "BEGIN { }" block at
       the top of your script. Another technique is to configure your WWW server to pass-through certain
       environment variables to your CGI scripts.

       Similarly, you should check your "httpd" error logfile for any clues, as well as the ``Idiot's Guide
       To Solving Perl / CGI Problems'' and ``Perl CGI Programming FAQ'' for further information. It is
       unlikely the problem is DBI-related.

       The ``Idiot's Guide To Solving Perl / CGI Problems'' can be located at:

           <a href="http://www.perl.com/perl/faq/index.html">http://www.perl.com/perl/faq/index.html</a>

       as can the ``Perl CGI Programming FAQ''. Read <u>BOTH</u> these documents carefully!

       <b>4.5</b> <b>How</b> <b>do</b> <b>I</b> <b>get</b> <b>the</b> <b>number</b> <b>of</b> <b>rows</b> <b>returned</b> <b>from</b> <b>a</b> <b>"SELECT"</b> <b>statement?</b>

       Count them. Read the DBI docs for the "rows()" method.

<b>Miscellaneous</b> <b>Questions</b>
       <b>5.1</b> <b>Can</b> <b>I</b> <b>do</b> <b>multi-threading</b> <b>with</b> <b>DBI?</b>

       Perl version 5.005 and later can be built to support multi-threading.  The DBI, as of version 1.02,
       does not yet support multi-threading so it would be unsafe to let more than one thread enter the DBI
       at the same time.

       It is expected that some future version of the DBI will at least be thread-safe (but not thread-hot)
       by automatically blocking threads intering the DBI while it's already in use.

       For some OCI example code for Oracle that has multi-threaded "SELECT" statements, see:

           <a href="http://www.symbolstone.org/technology/oracle/oci/orathreads.tar.gz">http://www.symbolstone.org/technology/oracle/oci/orathreads.tar.gz</a>

       <b>5.2</b> <b>How</b> <b>do</b> <b>I</b> <b>handle</b> <b>BLOB</b> <b>data</b> <b>with</b> <b>DBI?</b>

       Handling BLOB data with the DBI is very straight-forward. BLOB columns are specified in a SELECT
       statement as per normal columns. However, you also need to specify a maximum BLOB size that the
       &lt;I&gt;database handle&lt;/I&gt; can fetch using the "LongReadLen" attribute.

       For example:

           ### $dbh is a connected database handle
           $sth = $dbh-&gt;prepare( "SELECT blob_column FROM blobby_table" );
           $sth-&gt;execute;

       would fail.

           ### $dbh is a connected database handle
           ### Set the maximum BLOB size...
           $dbh-&gt;{LongReadLen} = 16384;        ### 16Kb...Not much of a BLOB!

           $sth = $dbh-&gt;prepare( "..." );

       would succeed &lt;I&gt;provided no column values were larger than the specified value&lt;/I&gt;.

       If the BLOB data is longer than the value of "LongReadLen", then an error will occur. However, the
       DBI provides an additional piece of functionality that will automatically truncate the fetched BLOB
       to the size of "LongReadLen" if it is longer. This does not cause an error to occur, but may make
       your fetched BLOB data useless.

       This behaviour is regulated by the "LongTruncOk" attribute which is defaultly set to a false value (
       thus making overlong BLOB fetches fail ).

           ### Set BLOB handling such that it's 16Kb and can be truncated
           $dbh-&gt;{LongReadLen} = 16384;
           $dbh-&gt;{LongTruncOk} = 1;

       Truncation of BLOB data may not be a big deal in cases where the BLOB contains run-length encoded
       data, but data containing checksums at the end, for example, a ZIP file, would be rendered useless.

       <b>5.3</b> <b>How</b> <b>can</b> <b>I</b> <b>invoke</b> <b>stored</b> <b>procedures</b> <b>with</b> <b>DBI?</b>

       The DBI does not define a database-independent way of calling stored procedures.

       However, most database that support them also provide a way to call them from SQL statements - and
       the DBI certainly supports that.

       So, assuming that you have created a stored procedure within the target database, <u>eg</u>, an Oracle
       database, you can use $dbh-&gt;"do()" to immediately execute the procedure. For example,

           $dbh-&gt;do( "BEGIN someProcedure; END;" );   # Oracle-specific

       You should also be able to "prepare" and "execute", which is the recommended way if you'll be calling
       the procedure often.

       <b>5.4</b> <b>How</b> <b>can</b> <b>I</b> <b>get</b> <b>return</b> <b>values</b> <b>from</b> <b>stored</b> <b>procedures</b> <b>with</b> <b>DBI?</b>

           Contributed by Jeff Urlwin

           $sth = $dbh-&gt;prepare( "BEGIN foo(:1, :2, :3); END;" );
           $sth-&gt;bind_param(1, $a);
           $sth-&gt;bind_param_inout(2, \$path, 2000);
           $sth-&gt;bind_param_inout(3, \$success, 2000);
           $sth-&gt;execute;

       Remember to perform error checking, though! ( Or use the "RaiseError" attribute ).

       <b>5.5</b> <b>How</b> <b>can</b> <b>I</b> <b>create</b> <b>or</b> <b>drop</b> <b>a</b> <b>database</b> <b>with</b> <b>DBI?</b>

       Database creation and deletion are concepts that are entirely too abstract to be adequately supported
       by DBI. For example, Oracle does not support the concept of dropping a database at all! Also, in
       Oracle, the database <u>server</u> essentially <u>is</u> the database, whereas in mSQL, the server process runs
       happily without any databases created in it. The problem is too disparate to attack in a worthwhile
       way.

       Some drivers, therefore, support database creation and deletion through the private "func()" methods.
       You should check the documentation for the drivers you are using to see if they support this
       mechanism.

       <b>5.6</b> <b>How</b> <b>can</b> <b>I</b> <b>"commit"</b> or "rollback" a statement with DBI?

       See the "commit()" and "rollback()" methods in the DBI Specification.

       Chapter 6 of "Programming the Perl DBI" discusses transaction handling within the context of DBI in
       more detail.

       <b>5.7</b> <b>How</b> <b>are</b> <b>"NULL"</b> <b>values</b> <b>handled</b> <b>by</b> <b>DBI?</b>

       "NULL" values in DBI are specified to be treated as the value "undef".  "NULL"s can be inserted into
       databases as "NULL", for example:

           $rv = $dbh-&gt;do( "INSERT INTO table VALUES( NULL )" );

       but when queried back, the "NULL"s should be tested against "undef".  This is standard across all
       drivers.

       <b>5.8</b> <b>What</b> <b>are</b> <b>these</b> <b>"func()"</b> <b>methods</b> <b>all</b> <b>about?</b>

       The "func()" method is defined within DBI as being an entry point for database-specific
       functionality, <u>eg</u>, the ability to create or drop databases. Invoking these driver-specific methods is
       simple, for example, to invoke a "createDatabase" method that has one argument, we would write:

           $rv =$dbh-&gt;func( 'argument', 'createDatabase' );

       Software developers should note that the "func()" methods are non-portable between databases.

       <b>5.9</b> <b>Is</b> <b>DBI</b> <b>Year</b> <b>2000</b> <b>Compliant?</b>

       DBI has no knowledge of understanding of what dates are. Therefore, DBI itself does not have a Year
       2000 problem. Individual drivers may use date handling code internally and therefore be potentially
       susceptible to the Year 2000 problem, but this is unlikely.

       You may also wish to read the ``Does Perl have a Year 2000 problem?'' section of the Perl FAQ at:

           <a href="http://www.perl.com/CPAN/doc/FAQs/FAQ/PerlFAQ.html">http://www.perl.com/CPAN/doc/FAQs/FAQ/PerlFAQ.html</a>

<b>Support</b> <b>and</b> <b>Training</b>
       The Perl5 Database Interface is <u>FREE</u> software. IT COMES WITHOUT WARRANTY OF ANY KIND. See the DBI
       README for more details.

       However, some organizations are providing either technical support or training programs on DBI. The
       present author has no knowledge as to the quality of these services. The links are included for
       reference purposes only and should not be regarded as recommendations in any way.  <u>Caveat</u> <u>emptor</u>.

       <b>Commercial</b> <b>Support</b>


       The Perl Clinic
           The Perl Clinic provides commercial support for <u>Perl</u> and Perl related problems, including the <u>DBI</u>
           and its drivers.  Support is provided by the company with whom Tim Bunce, author of <u>DBI</u> and
           <u>DBD::Oracle</u>, works and ActiveState. For more information on their services, please see:

               <a href="http://www.perlclinic.com">http://www.perlclinic.com</a>

       <b>Training</b>


       Westlake Solutions
           A hands-on class for experienced Perl CGI developers that teaches how to write database-connected
           CGI scripts using Perl and DBI.pm.  This course, along with four other courses on CGI scripting
           with Perl, is taught in Washington, DC; Arlington, Virginia; and on-site worldwide upon request.

           See:

               <a href="http://www.westlake.com/training">http://www.westlake.com/training</a>

           for more details.

<b>Other</b> <b>References</b>
       In this section, we present some miscellaneous WWW links that may be of some interest to DBI users.
       These are not verified and may result in unknown sites or missing documents.

           <a href="http://www-ccs.cs.umass.edu/db.html">http://www-ccs.cs.umass.edu/db.html</a>
           <a href="http://www.odmg.org/odmg93/updates_dbarry.html">http://www.odmg.org/odmg93/updates_dbarry.html</a>
           <a href="http://www.jcc.com/sql_stnd.html">http://www.jcc.com/sql_stnd.html</a>

<b>AUTHOR</b>
       Alligator Descartes &lt;<a href="http://www.symbolstone.org/descarte/contact.html"><u>http://www.symbolstone.org/descarte/contact.html</u></a><u></u>.  Portions are Copyright their
       original stated authors.

<b>COPYRIGHT</b>
       This document is Copyright (c)1994-2000 Alligator Descartes, with portions Copyright (c)1994-2000
       their original authors. This module is released under the 'Artistic' license which you can find in
       the perl distribution.

       This document is Copyright (c)1997-2000 Alligator Descartes. All rights reserved.  Permission to
       distribute this document, in full or in part, via email, Usenet, ftp archives or http is granted
       providing that no charges are involved, reasonable attempt is made to use the most current version
       and all credits and copyright notices are retained ( the <u>AUTHOR</u> and <u>COPYRIGHT</u> sections ).  Requests
       for other distribution rights, including incorporation into commercial products, such as books,
       magazine articles or CD-ROMs should be made to Alligator Descartes
       &lt;<a href="http://www.symbolstone.org/descarte/contact.html"><u>http://www.symbolstone.org/descarte/contact.html</u></a><u></u>.



perl v5.8.8                                      2006-02-07                                      DBI::FAQ(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/DBI__FAQ.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/DBI__FAQ.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/DBI__FAQ.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
