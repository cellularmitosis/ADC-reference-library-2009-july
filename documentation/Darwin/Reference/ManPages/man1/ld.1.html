<html><head><title>Mac OS X Developer Tools
 Manual Page For ld(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/ld" title="Mac OS X Developer Tools
 Manual Page for ld(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/ld"; name=ld(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ld(1)                     BSD General Commands Manual                    ld(1)

<b>NAME</b>
     <b>ld</b> -- linker

<b>SYNOPSIS</b>
     <b>ld</b> files...  [options] [<b>-o</b> <u>outputfile</u>]

<b>DESCRIPTION</b>
     The <b>ld</b> command combines several object files and libraries, resolves references, and produces an ouput
     file.  <b>ld</b> can produce a final linked image (executable, dylib, or bundle), or with the -r option, pro-<font color="#ffffff" class="whiteout">duce&nbsp;produce</font>
     duce another object file.  If the -o option is not used, the output file produced is named "a.out".

   <b>Universal</b>
     The linker accepts universal (multiple-architecture) input files, but always creates a "thin" (single-<font color="#ffffff" class="whiteout">architecture),&nbsp;(singlearchitecture),</font>
     architecture), standard Mach-O output file.  The architecture for the output file is specified using
     the -arch option.  If this option is not used, <b>ld</b> attempts to determine the output architecture by
     examining the object files in command line order.  The first "thin" architecture determines that of the
     output file.  If no input object file is a "thin" file, the native 32-bit architecture for the host is
     used.

     Usually, <b>ld</b> is not used directly.  Instead the <a href="gcc.1.html#//apple_ref/doc/man/1/gcc">gcc(1)</a> compiler driver invokes <b>ld.</b> The compiler driver
     can be passed multiple -arch options and it will create a universal final linked image by invoking <b>ld</b>
     multiple times and then running <a href="lipo.1.html#//apple_ref/doc/man/1/lipo">lipo(1)</a> merge the outputs into a universal file.

   <b>Layout</b>
     The object files are loaded in the order in which they are specified on the command line.  The segments
     and the sections in those segments will appear in the output file in the order they are encountered in
     the object files being linked.  All zero fill sections will appear after all non-zero fill sections in
     their segments.  Sections created from files with the -sectcreate option will be laid out at after sec-<font color="#ffffff" class="whiteout">tions&nbsp;sections</font>
     tions from .o files. The use of the -order_file option will alter the layout rules above, and move the
     symbols specified to start of their section.

   <b>Libraries</b>
     A static library (aka static archive) is a collection of .o files with a table of contents that lists
     the global symbols in the .o files.  <b>ld</b> will only pull .o files out of a static library if needed to
     resolve some symbol reference.  Unlike traditional linkers, <b>ld</b> will continually search a static library
     while linking. There is no need to specify a static library multiple times on the command line.

     A dynamic library (aka dylib or framework) is a final linked image.  Putting a dynamic library on the
     command line causes two things: 1) The generated final linked image will have encoded that it depends
     on that dynamic library. 2) Exported symbols from the dynamic library are used to resolve references.

     Both dynamic and static libraries are searched as they appear on the command line.

   <b>Search</b> <b>paths</b>
     <b>ld</b> maintains a list of directories to search for a library or framework to use.  The default library
     search path is /usr/lib then /usr/local/lib.  The -L option will add a new library search path.  The
     default framework search path is /Library/Frameworks then /System/Library/Frameworks.  The -F option
     will a new framework search path.  The -Z option will remove the standard search paths.  The -syslib-<font color="#ffffff" class="whiteout">root&nbsp;-syslibroot</font>
     root option will prepend a prefix to all search paths.

   <b>Two-level</b> <b>namespace</b>
     By default all references resolved to a dynamic library record the library to which they were resolved.
     At runtime, dyld uses that information to directly resolve symobls.  The alternative is to use the
     -flat_namespace option.  With flat namespace, the library is not recorded.  At runtime, dyld will
     search each dynamic library in load order when resolving symbols. This is slower, but more like how
     other operating systems resolve symbols.

   <b>Indirect</b> <b>dynamic</b> <b>libraries</b>
     If the command line specifies to link against dylib A, and when dylib A was built it linked against
     dylib B, then B is considered an indirect dylib.  When linking for two-level namespace, ld does not
     look at indirect dylibs, except when re-exported by a direct dylibs.  On the other hand when linking
     for flat namespace, ld does load all indirect dylibs and uses them to resolve references.  Even though
     indirect dylibs are specified via a full path, <b>ld</b> first uses the specified search paths to locate each
     indirect dylib.  If one cannot be found using the search paths, the full path is used.

   <b>Dynamic</b> <b>libraries</b> <b>undefines</b>
     When linking for two-level namespace, <b>ld</b> does not verify that undefines in dylibs actually exist.  But
     when linking for flat namespace, <b>ld</b> does check that all undefines from all loaded dylibs have a match-<font color="#ffffff" class="whiteout">ing&nbsp;matching</font>
     ing definition.  This is sometimes used to force selected functions to be loaded from a static library.

<b>OPTIONS</b>
   <b>Options</b> <b>that</b> <b>control</b> <b>the</b> <b>kind</b> <b>of</b> <b>output</b>
     <b>-execute</b>    The default.  Produce a mach-o main executable that has file type MH_EXECUTE.

     <b>-dylib</b>      Produce a mach-o shared library that has file type MH_DYLIB.

     <b>-bundle</b>     Produce a mach-o bundle that has file type MH_BUNDLE.

     <b>-r</b>          Merges object files to produce another mach-o object file with file type MH_OBJECT.

     <b>-dylinker</b>   Produce a mach-o dylinker that has file type MH_DYLINKER.  Only used when building dyld.

     <b>-dynamic</b>    The default.  Implied by -dynamiclib, -bundle, or -execute

     <b>-static</b>     Produces a mach-o file that does not use the dyld.  Only used building the kernel.

     <b>-arch</b> <u>arch</u><b>_</b><u>name</u>
                 Specifies which architecture (e.g. ppc, ppc64, i386, x86_64) the output file should be.

     <b>-o</b> <u>path</u>     Specifies the name and location of the output file.  If not specified, `a.out' is used.

   <b>Options</b> <b>that</b> <b>control</b> <b>libraries</b>
     <b>-l</b>x         This option tells the linker to search for libx.dylib or libx.a in the library search path.
                 If string x is of the form y.o, then that file is searched for in the same places, but
                 without prepending `lib' or appending `.a' or `.dylib' to the filename.

     <b>-weak-l</b><u>x</u>    This is the same as the -lx but forces the library and all references to it to be marked as
                 weak imports.  That is, the library is allowed to be missing at runtime.

     <b>-weak_library</b> <u>path</u><b>_</b><u>to</u><b>_</b><u>library</u>
                 This is the same as listing a file name path to a library on the link line except that it
                 forces the library and all references to it to be marked as weak imports.

     <b>-reexport-l</b><u>x</u>
                 This is the same as the -lx but specifies that the all symbols in library x should be
                 available to clients linking to the library being created.  This was previously done with a
                 separate -sub_library option.

     <b>-reexport_library</b> <u>path</u><b>_</b><u>to</u><b>_</b><u>library</u>
                 This is the same as listing a file name path to a library on the link line and it specifies
                 that the all symbols in library path should be available to clients linking to the library
                 being created.  This was previously done with a separate -sub_library option.

     <b>-L</b>dir       Add <u>dir</u> to the list of directories in which to search for libraries.  Directories specified
                 with -L are searched in the order they appear on the command line and before the default
                 search path.

     <b>-Z</b>          Do not search the standard directories when searching for libraries and frameworks.

     <b>-syslibroot</b> <u>rootdir</u>
                 Prepend <u>rootdir</u> to all search paths when searching for libraries or frameworks.

     <b>-search_paths_first</b>
                 By default the -lx and -weak-lx options first search for a file of the form `libx.dylib' in
                 each directory in the library search path, then a file of the form `libx.a' is searched for
                 in the library search paths.  This option changes it so that in each path `libx.dylib' is
                 searched for then `libx.a' before the next path in the library search path is searched.

     <b>-framework</b> <u>name[,suffix]</u>
                 This option tells the linker to search for `name.framework/name' the framework search path.
                 If the optional suffix is specified the framework is first searched for the name with the
                 suffix and then without (e.g. look for `name.framework/name_suffix' first).

     <b>-weak_framework</b> <u>name[,suffix]</u>
                 This is the same as the -framework name[,suffix] but forces the framework and all refer-<font color="#ffffff" class="whiteout">ences&nbsp;references</font>
                 ences to it to be marked as weak imports.

     <b>-reexport_framework</b> <u>name[,suffix]</u>
                 This is the same as the -framework name[,suffix] but also specifies that the all symbols in
                 that framework should be available to clients linking to the library being created.  This
                 was previously done with a separate -sub_umbrella option.

     <b>-F</b>dir       Add <u>dir</u> to the list of directories in which to search for frameworks.  Directories speci-<font color="#ffffff" class="whiteout">fied&nbsp;specified</font>
                 fied with -F are searched in the order they appear on the command line and before the
                 default search path.

     <b>-all_load</b>   Loads all members of static archive libraries.

     <b>-ObjC</b>       Loads all members of static archive libraries that implement an Objective-C class or cate-<font color="#ffffff" class="whiteout">gory.&nbsp;category.</font>
                 gory.

   <b>Options</b> <b>that</b> <b>control</b> <b>additional</b> <b>content</b>
     <b>-sectcreate</b> <u>segname</u> <u>sectname</u> <u>file</u>
                 The section <u>sectname</u> in the segment <u>segname</u> is created from the contents of file <u>file.</u> The
                 combination of segname and sectname must be unique  there cannot already be a section
                 (segname,sectname) from any other input.

     <b>-filelist</b> <u>file[,dirname]</u>
                 Specifies that the linker should link the files listed in <u>file</u>.  This is an alternative to
                 listing the files on the command line.  The file names are listed one per line separated
                 only by newlines. (Spaces and tabs are assumed to be part of the file name.)  If the
                 optional directory name, <u>dirname</u> is specified, it is prepended to each name in the list
                 file.

     <b>-dtrace</b> <u>file</u>
                 Enables dtrace static probes when producing a final linked image.  The file <u>file</u> must be a
                 DTrace script which declares the static probes.

   <b>Options</b> <b>that</b> <b>control</b> <b>optimizations</b>
     <b>-dead_strip</b>
                 Remove functions and data that are unreachable by the entry point or exported symbols.

     <b>-dead_strip_dylibs</b>
                 Remove dylibs that are unreachable by the entry point or exported symbols. That is, sup-<font color="#ffffff" class="whiteout">presses&nbsp;suppresses</font>
                 presses the generation of load command commands for dylibs which supplied no symbols during
                 the link. This option should not be used when linking against a dylib which is required at
                 runtime for some indirect reason such as the dylib has an important initializer.

     <b>-order_file</b> <u>file</u>
                 Alters the order in which functions and data are laid out.  For each section in the output
                 file, any symbol in that section that are specified in the order file <u>file</u> is moved to the
                 start of its section and laid out in the same order as in the order file <u>file</u>.  Order files
                 are text files with one symbol name per line.  Lines starting with a # are comments.  A
                 symbol name may be optionally preceded with its object file leafname and a colon (e.g.
                 foo.o:_foo).  This is useful for static functions/data that occur in multiple files.  A
                 symbol name may also be optionally preceded with the architecture (e.g. ppc:_foo or
                 ppc:foo.o:_foo).  This enables you to have one order file that works for multiple architec-<font color="#ffffff" class="whiteout">tures.&nbsp;architectures.</font>
                 tures.  Literal c-strings may be ordered by by quoting the string (e.g. "Hello, world\n")
                 in the order file.

     <b>-macosx_version_min</b> <u>version</u>
                 This is set to indicate the oldest Mac OS X version that that the output is to be used on.
                 Specifying a later version enables the linker to assumes features of that OS in the output
                 file.  The format of <u>version</u> is a Mac OS X version number such as 10.4 or 10.5

     <b>-image_base</b> <u>address</u>
                 Specifies the perferred load address for a dylib or bundle. The argument <u>address</u> is a hexa-<font color="#ffffff" class="whiteout">decimal&nbsp;hexadecimal</font>
                 decimal number with an optional leading 0x.  By choosing non-overlapping address for all
                 dylibs and bundles that a program loads, launch time can be improved because dyld will not
                 need to "rebase" the image (that is, adjust pointers within the image to work at the loaded
                 address).  It is often easier to not use this option, but instead use the <a href="rebase.1.html#//apple_ref/doc/man/1/rebase">rebase(1)</a> tool,
                 and give it a list of dylibs.  It will then choose non-overlapping addresses for the list
                 and rebase them all.  This option is also called -seg1addr for compatibility.

   <b>Options</b> <b>when</b> <b>creating</b> <b>a</b> <b>dynamic</b> <b>library</b> <b>(dylib)</b>
     <b>-install_name</b> <u>name</u>
                 Sets an internal "install path" (LC_ID_DYLIB) in a dynamic library. Any clients linked
                 against the library will record that path as the way dyld should locate this library.  If
                 this option is not specified, then the -o path will be used.  This option is also called
                 -dylib_install_name for compatibility.

     <b>-compatibility_version</b> <u>number</u>
                 Specifies the compatibility version number of the library.  When a library is loaded by
                 dyld, the compatibility version is checked and if the program's version is greater that the
                 library's version, it is an error.  The format of <u>number</u> is X[.Y[.Z]] where X must be a
                 positive non-zero number less than or equal to 65535, and .Y and .Z are optional and if
                 present must be non-negative numbers less than or equal to 255.  If the compatibility ver-<font color="#ffffff" class="whiteout">sion&nbsp;version</font>
                 sion number is not specified, it has a value of 0 and no checking is done when the library
                 is used.  This option is also called -dylib_compatibility_version for compatibility.

     <b>-current_version</b> <u>number</u>
                 Specifies the current version number of the library. The current version of the library can
                 be obtained programmatically by the user of the library so it can determine exactly which
                 version of the library it is using.  The format of <u>number</u> is X[.Y[.Z]] where X must be a
                 positive non-zero number less than or equal to 65535, and .Y and .Z are optional and if
                 present must be non-negative numbers less than or equal to 255.  If the version number is
                 not specified, it has a value of 0.  This option is also called -dylib_current_version for
                 compatibility.

   <b>Options</b> <b>when</b> <b>creating</b> <b>a</b> <b>main</b> <b>executable</b>
     <b>-pie</b>        This makes a special kind of main executable that is position independent (PIE).  On Mac OS
                 X 10.5, the OS will load a PIE at a random address each time it is executed.  You cannot
                 create a PIE from .o files compiled with -mdynamic-no-pic.  That means the codegen is less
                 optimal, but the address randomization adds some security.

     <b>-pagezero_size</b> <u>size</u>
                 By default the linker creates an unreadable segment starting at address zero named
                 __PAGEZERO.  Its existence will cause a bus error if a NULL pointer is dereferenced.  The
                 argument <u>size</u> is a hexadecimal number with an optional leading 0x.  If <u>size</u> is zero, the
                 linker will not generate a page zero segment.  By default on 32-bit architectures the page
                 zero size is 4KB.  On 64-bit architectures, the default size if 4GB.  The ppc64 architec-<font color="#ffffff" class="whiteout">ture&nbsp;architecture</font>
                 ture has some special cases. Since Mac OS X 10.4 did not support 4GB page zero programs,
                 the default page zero size for ppc64 will be 4KB unless -macosx_version_min is 10.5 or
                 later.  Also, the -mdynamic-no-pic codegen model for ppc64 will only work if the code is
                 placed in the lower 2GB of the address space, so the if the linker detects any such code,
                 the page zero size is set to 4KB and then a new unredable trailing segment is created after
                 the code, filling up the lower 4GB.

     <b>-stack_size</b> <u>size</u>
                 Specifies the maximum stack size for the main thread in a program.  Without this option a
                 program has a 8MB stack.  The argument <u>size</u> is a hexadecimal number with an optional lead-<font color="#ffffff" class="whiteout">ing&nbsp;leading</font>
                 ing 0x. The <u>size</u> should be an even multiple of 4KB, that is the last three hexadecimal dig-<font color="#ffffff" class="whiteout">its&nbsp;digits</font>
                 its should be zero.

     <b>-allow_stack_execute</b>
                 Marks executable so that all stacks in the task will be given stack execution privilege.
                 This includes pthread stacks.

   <b>Options</b> <b>when</b> <b>creating</b> <b>a</b> <b>bundle</b>
     <b>-bundle_loader</b> <u>executable</u>
                 This specifies the <u>executable</u> that will be loading the bundle output file being linked.
                 Undefined symbols from the bundle are checked against the specified <u>executable</u> like it was
                 one of the dynamic libraries the bundle was linked with.

   <b>Options</b> <b>when</b> <b>creating</b> <b>an</b> <b>object</b> <b>file</b>
     <b>-keep_private_externs</b>
                 Don't turn private external (aka visibility=hidden) symbols into static symbols, but rather
                 leave them as private external in the resulting object file.

     <b>-d</b>          Force definition of common symbols.  That is, transform tentative defintions into real def-<font color="#ffffff" class="whiteout">initions.&nbsp;definitions.</font>
                 initions.

   <b>Options</b> <b>that</b> <b>control</b> <b>symbol</b> <b>resolution</b>
     <b>-exported_symbols_list</b> <u>filename</u>
                 The specified <u>filename</u> contains a list of global symbol names that will remain as global
                 symbols in the output file.  All other global symbols will be treated as if they were
                 marked as __private_extern__ (aka visibility=hidden) and will not be global in the output
                 file. The symbol names listed in filename must be one per line.  Leading and trailing white
                 space are not part of the symbol name.  Lines starting with # are ignored, as are lines
                 with only white space.  Some wildcards (similar to shell file matching) are supported.  The
                 * matches zero or more characters.  The ? matches one character.  [abc] matches one charac-<font color="#ffffff" class="whiteout">ter&nbsp;character</font>
                 ter which must be an 'a', 'b', or 'c'.  [a-z] matches any single lower case letter from 'a'
                 to 'z'.

     <b>-exported_symbol</b> <u>symbol</u>
                 The specified <u>symbol</u> is added to the list of global symbols names that will remain as
                 global symbols in the output file.  This option can be used multiple times.  For short
                 lists, this can be more convenient than creating a file and using -exported_symbols_list.

     <b>-unexported_symbols_list</b> <u>file</u>
                 The specified <u>filename</u> contains a list of global symbol names that will not remain as
                 global symbols in the output file.  The symbols will be treated as if they were marked as
                 __private_extern__ (aka visibility=hidden) and will not be global in the output file. The
                 symbol names listed in filename must be one per line.  Leading and trailing white space are
                 not part of the symbol name.  Lines starting with # are ignored, as are lines with only
                 white space.  Some wildcards (similar to shell file matching) are supported.  The * matches
                 zero or more characters.  The ? matches one character.  [abc] matches one character which
                 must be an 'a', 'b', or 'c'.  [a-z] matches any single lower case letter from 'a' to 'z'.

     <b>-unexported_symbol</b> <u>symbol</u>
                 The specified <u>symbol</u> is added to the list of global symbols names that will not remain as
                 global symbols in the output file.  This option can be used multiple times.  For short
                 lists, this can be more convenient than creating a file and using -unexported_symbols_list.

     <b>-alias</b> <u>symbol</u><b>_</b><u>name</u> <u>alternate</u><b>_</b><u>symbol</u><b>_</b><u>name</u>
                 Create an alias named <u>alternate</u><b>_</b><u>symbol</u><b>_</b><u>name</u> for the symbol <u>symbol</u><b>_</b><u>name</u>.  By default the
                 alias symbol has global visibility.  This option was previous the -idef:indir option.

     <b>-alias_list</b> <u>filename</u>
                 The specified <u>filename</u> contains a list of aliases. The symbol name and its alias are on one
                 line, separated by whitespace.  Lines starting with # are ignored.

     <b>-flat_namespace</b>
                 Alters how symbols are resolved at build time and runtime.  With -two_levelnamespace (the
                 default), the linker only searches dylibs on the command line for symbols, and records in
                 which dylib they were found.  With -flat_namespace, the linker searches all dylibs on the
                 command line and all dylibs those original dylibs depend on.  The linker does not record
                 which dylib an external symbol came from, so at runtime dyld again searches all images and
                 uses the first definition it finds.  In addition, any undefines in loaded flat_namespace
                 dylibs must be resolvable at build time.

     <b>-u</b> <u>symbol</u><b>_</b><u>name</u>
                 Specified that symbol <u>symbol</u><b>_</b><u>name</u> must be defined for the link to succeed.  This is useful
                 to force selected functions to be loaded from a static library.

     <b>-U</b> <u>symbol</u><b>_</b><u>name</u>
                 Specified that it is ok for <u>symbol</u><b>_</b><u>name</u> to have no definition.  With -two_levelnamespace,
                 the resulting symbol will be marked dynamic_lookup which means dyld will search all loaded
                 images.

     <b>-undefined</b> <u>treatment</u>
                 Specifies how undefined symbols are to be treated. Options are: error, warning, suppress,
                 or dynamic_lookup.  The default is error.

     <b>-rpath</b> <u>path</u>
                 Add <u>path</u> to the runpath search path list for image being created.  At runtime, dyld uses
                 the runpath when searching for dylibs whose load path begins with @rpath/.

   <b>Options</b> <b>for</b> <b>introspecting</b> <b>the</b> <b>linker</b>
     <b>-why_load</b>   Log why each object file in a static library is loaded. That is, what symbol was needed.
                 Also called -whyload for compatibility.

     <b>-why_live</b> <u>symbol</u><b>_</b><u>name</u>
                 Logs a chain of references to <u>symbol</u><b>_</b><u>name</u>.  Only applicable with -dead_strip .  It can help
                 debug why something that you think should be dead strip removed is not removed.

     <b>-print_statistics</b>
                 Logs information about the amount of memory and time the linker used.

     <b>-t</b>          Logs each file (object, archive, or dylib) the linker loads.  Useful for debugging problems
                 with search paths where the wrong library is loaded.

     <b>-whatsloaded</b>
                 Logs just object files the linker loads.

     <b>-order_file_statistics</b>
                 Logs information about the processing of a -order_file.

     <b>-map</b> <u>map</u><b>_</b><u>file</u><b>_</b><u>path</u>
                 Writes a map file to the specified path which details all symbols and their addresses in
                 the output image.

   <b>Options</b> <b>for</b> <b>controling</b> <b>symbol</b> <b>table</b> <b>optimizations</b>
     <b>-S</b>          Do not put debug information (STABS or DWARF) in the output file.

     <b>-x</b>          Do not put non-global symbols in the output file's symbol table. Non-global symbols are
                 useful when debugging and getting symbol names in back traces, but are not used at runtime.

     <b>-non_global_symbols_strip_list</b> <u>filename</u>
                 The specified <u>filename</u> contains a list of non-global symbol names that should be removed
                 from the output file's symbol table.  All other non-global symbol names will remain in the
                 output files symbol table. See -exported_symbols_list for syntax and use of wildcards.

     <b>-non_global_symbols_no_strip_list</b> <u>filename</u>
                 The specified <u>filename</u> contains a list of non-global symbol names that should be remain in
                 the output file's symbol table.  All other symbol names will be removed from the output
                 file's symbol table. See -exported_symbols_list for syntax and use of wildcards.

   <b>Rarely</b> <b>used</b> <b>Options</b>
     <b>-v</b>          Prints the version of the linker.

     <b>-no_uuid</b>    Do not generate an LC_UUID load command in the output file.

     <b>-root_safe</b>  Sets the MH_ROOT_SAFE bit in the mach header of the output file.

     <b>-setuid_safe</b>
                 Sets the MH_SETUID_SAFE bit in the mach header of the output file.

     <b>-interposable</b>
                 Indirects access to all to exported symbols when creating a dynamic library.

     <b>-init</b> <u>symbol</u><b>_</b><u>name</u>
                 The specified symbol_name will be run as the first initializer.   Only used when creating a
                 dynamic library.

     <b>-sub_library</b> <u>library</u><b>_</b><u>name</u>
                 The specified dylib will be re-exported. For example the library_name for
                 /usr/lib/libobjc_profile.A.dylib would be libobjc.  Only used when creating a dynamic
                 library.

     <b>-sub_umbrella</b> <u>framework</u><b>_</b><u>name</u>
                 The specified framework will be re-exported.  Only used when creating a dynamic library.

     <b>-allowable_client</b> <u>name</u>
                 Restricts what can link against the dynamic library being created.

     <b>-client_name</b> <u>name</u>
                 Enables a bundle to link against a dylib that was built with -allowable_client.  The name
                 specified must match one of the -allowable_client names specified when the dylib was cre-<font color="#ffffff" class="whiteout">ated.&nbsp;created.</font>
                 ated.

     <b>-umbrella</b> <u>framework</u><b>_</b><u>name</u>
                 Specifies that the dylib being linked is re-exported through an umbrella framework of the
                 specified name.

     <b>-headerpad</b> <u>size</u>
                 Specifies the minimum space for future expansion of the load commands.  Only useful if
                 intend to run install_name_tool to alter the load commands later. Size is a hexadecimal
                 number.

     <b>-headerpad_max_install_names</b>
                 Automatically adds space for future expansion of load commands such that all paths could
                 expand to MAXPATHLEN.  Only useful if intend to run install_name_tool to alter the load
                 commands later. Size is a hexadecimal number.

     <b>-bind_at_load</b>
                 Sets a bit in the mach header of the resulting binary which tells dyld to bind all symbols
                 when the binary is loaded, rather than lazily.

     <b>-force_flat_namespace</b>
                 Sets a bit in the mach header of the resulting binary which tells dyld to not only use flat
                 namespace for the binary, but force flat namespace binding on all dylibs and bundles loaded
                 in the process.  Can only be used when linking main executables.

     <b>-sectalign</b> <u>segname</u> <u>sectname</u> <u>value</u>
                 The section named sectname in the segment segname will have its alignment set to value,
                 where value is a hexadecimal number that must be an integral power of 2.

     <b>-stack_addr</b> <u>address</u>
                 Specifies the initial address of the stack pointer value, where value is a hexadecimal num-<font color="#ffffff" class="whiteout">ber&nbsp;number</font>
                 ber rounded to a page boundary.

     <b>-segprot</b> <u>segname</u> <u>max</u><b>_</b><u>prot</u> <u>init</u><b>_</b><u>prot</u>
                 Specifies the maximum and initial virtual memory protection of the named segment, name, to
                 be max and init ,respectively.  The values for max and init are any combination of the
                 characters `r' (for read), `w' (for write), `x' (for execute) and `-' (no access).

     <b>-seg_addr_table</b> <u>filename</u>
                 Specifies a file containing base addresses for dynamic libraries.  Each line of the file is
                 a hexadecimal base address followed by whitespace then the install name of the correspond-<font color="#ffffff" class="whiteout">ing&nbsp;corresponding</font>
                 ing dylib. The # character denotes a comment.

     <b>-segs_read_write_addr</b> <u>address</u>
                 Allows a dynamic library to be built where the read-only and read-write segments are not
                 contiguous.  The address specified is a hexadecimal number that indicates the base address
                 for the read-write segments.

     <b>-segs_read_only_addr</b> <u>address</u>
                 Allows a dynamic library to be built where the read-only and read-write segments are not
                 contiguous.  The address specified is a hexadecimal number that indicates the base address
                 for the read-only segments.

     <b>-segaddr</b> <u>name</u> <u>address</u>
                 Specifies the starting address of the segment named name to be address. The address must be
                 a hexadecimal number that is a multiple of 4K page size.

     <b>-dylib_file</b> <u>install</u><b>_</b><u>name:file</u><b>_</b><u>name</u>
                 Specifies that a dynamic shared library is in a different location than its standard loca-<font color="#ffffff" class="whiteout">tion.&nbsp;location.</font>
                 tion. Use this option when you link with a library that is dependent on a dynamic library,
                 and the dynamic library is in a location other than its default location. install_name
                 specifies the path where the library normally resides. file_name specifies the path of the
                 library you want to use instead. For example, if you link to a library that depends upon
                 the dynamic library libsys and you have libsys installed in a nondefault location, you
                 would use this option: -dylib_file /lib/libsys_s.A.dylib:/me/lib/libsys_s.A.dylib.

     <b>-prebind</b>    The created output file will be in the prebound format.  This was used in Mac OS X 10.3 and
                 earlier to improve launch performance.

     <b>-weak_reference_mismatches</b> <u>treatment</u>
                 Specifies what to do if a symbol is weak-imported in one object file but not weak-imported
                 in another.  The valid treatments are: error, weak, or non-weak.  The default is non-weak.

     <b>-read_only_relocs</b> <u>treatment</u>
                 Enables the use of relocations which will cause dyld to modify (copy-on-write) read-only
                 pages.  The compiler will normally never generate such code.

     <b>-force_cpusubtype_ALL</b>
                 The is only applicable with -arch ppc.  It tells the linker to ignore the PowerPC cpu
                 requirements (e.g. G3, G4 or G5) encoded in the object files and mark the resulting binary
                 as runnable on any PowerPC cpu.

     <b>-dylinker_install_name</b> <u>path</u>
                 Only used when building dyld.

     <b>-no_arch_warnings</b>
                 Suppresses warning messages about files that have the wrong architecture for the -arch flag

     <b>-arch_errors_fatal</b>
                 Turns into errors, warnings about files that have the wrong architecture for the -arch
                 flag.

     <b>-e</b> <u>symbol</u><b>_</b><u>name</u>
                 Specifies the entry point of a main executable.  By default the entry name is "start" which
                 is found in crt1.o which contains the glue code need to set up and call main().

     <b>-w</b>          Suppress all warning messages

     <b>-final_output</b> <u>name</u>
                 Specifies the install name of a dylib if -install_name is not used.  This option is used by
                 gcc driver when it is invoked with multiple -arch arguments.

     <b>-arch_multiple</b>
                 Specifes that the linker should augment error and warning messages with the architecture
                 name.  This option is used by gcc driver when it is invoked with multiple -arch arguments.

     <b>-twolevel_namespace_hints</b>
                 Specifies that hints should be added to the resulting binary that can help speed up runtime
                 binding by dyld as long as the libraries being linked against have not changed.

     <b>-dot</b> <u>path</u>   Create a file a file at the specified path containing a graph of symbol dependencies.  The
                 .dot file can be viewed in GraphViz.

     <b>-keep_relocs</b>
                 Add section based relocation records to a final linked image.  These relocations are
                 ignored at runtime by dyld.

     <b>-warn_stabs</b>
                 Print a warning when the linker cannot do a BINCL/EINCL optimzation because the compiler
                 put a bad stab symbol inside a BINCL/EINCL range.

   <b>Obsolete</b> <b>Options</b>
     <b>-segalign</b> <u>value</u>
                 All segments must be page aligned.  This option is obsolete.

     <b>-seglinkedit</b>
                 Object files (MH_OBJECT) with a LINKEDIT segment are no longer supported. This option is
                 obsolete.

     <b>-noseglinkedit</b>
                 This is the default.  This option is obsolete.

     <b>-fvmlib</b>     Fixed VM shared libraries (MH_FVMLIB) are no longer supported. This option is obsolete.

     <b>-preload</b>    Preload executables (MH_PRELOAD) are no longer supported.  This option is obsolete.

     <b>-sectobjectsymbols</b> <u>segname</u> <u>sectname</u>
                 Adding a local label at a section start is no longer supported.  This option is obsolete.

     <b>-nofixprebinding</b>
                 The MH_NOFIXPREBINDING bit of mach_headers has been ignored since Mac OS X 10.3.9.  This
                 option is obsolete.

     <b>-noprebind_all_twolevel_modules</b>
                 Multi-modules in dynamic libraries have been ignored at runtime since Mac OS X 10.4.0.
                 This option is obsolete.

     <b>-prebind_all_twolevel_modules</b>
                 Multi-modules in dynamic libraries have been ignored at runtime since Mac OS X 10.4.0.
                 This option is obsolete.

     <b>-prebind_allow_overlap</b>
                 When using -prebind, the linker allows overlapping by default, so this option is obsolete.

     <b>-noprebind</b>  LD_PREBIND is no longer supported as a way to force on prebinding, so there no longer needs
                 to be a command line way to override LD_PREBIND.  This option is obsolete.

     <b>-sect_diff_relocs</b> <u>treatment</u>
                 This option was an attempt to warn about linking .o files compiled without -mdynamic-no-pic
                 into a main executable, but the false positive rate generated too much noise to make the
                 option useful.  This option is obsolete.

     <b>-run_init_lazily</b>
                 This option was removed in Mac OS X 10.2.

     <b>-single_module</b>
                 This is now the default so does not need to be specified.

     <b>-multi_module</b>
                 Multi-modules in dynamic libraries have been ignored at runtime since Mac OS X 10.4.0.
                 This option is obsolete.

     <b>-no_dead_strip_inits_and_terms</b>
                 The linker never dead strips initialzation and termination routines.  They are considered
                 "roots" of the dead strip graph.

     <b>-A</b> <u>basefile</u>
                 Obsolete incremental load format.  This option is obsolete.

     <b>-b</b>          Used with -A option to strip base file's symbols.  This option is obsolete.  Obsolete
                 option to produce a load map.  Use -map option instead.

     <b>-Sn</b>         Don't strip any symbols.  This is the default.  This option is obsolete.

     <b>-Si</b>         Optimize stabs debug symbols to remove duplicates.  This is the default.  This option is
                 obsolete.

     <b>-Sp</b>         Write minimal stabs which causes the debugger to open and read the original .o file for
                 full stabs.  This style of debugging is obsolete in Mac OS X 10.5.  This option is obso-<font color="#ffffff" class="whiteout">lete.&nbsp;obsolete.</font>
                 lete.

     <b>-X</b>          Strip local symbols that being the 'L'.  This is the default.  This option is obsolete.

     <b>-s</b>          Completely strip the output, including removing the symbol table.  This file format variant
                 is no longer supported.  This option is obsolete.

     <b>-m</b>          Don't treat multiple definitions as an error.  This is no longer supported. This option is
                 obsolete.

     <b>-y</b>symbol    Display each file in which <u>symbol</u> is used.  This was previously used to debug where an
                 undefined symbol was used, but the linker now automatically prints out all usages.  The
                 -why_live option can also be used to display what kept a symbol from being dead striped.
                 This option is obsolete.

     <b>-Y</b> <u>number</u>   Used to control how many occurances of each symbol specifed with -y would be shown.  This
                 option is obsolete.

     <b>-nomultidefs</b>
                 Only used when linking an umbrella framework.  Sets the MH_NOMULTIDEFS bit in the
                 mach_header.  The MH_NOMULTIDEFS bit has been obsolete since Mac OS X 10.4.  This option is
                 obsolete.

     <b>-multiply_defined_unused</b> <u>treatment</u>
                 Previously provided a way to warn or error if any of the symbol definitions in the output
                 file matched any definitions in dynamic library being linked.  This option is obsolete.

     <b>-multiply_defined</b> <u>treatment</u>
                 Previously provided a way to warn or error if any of the symbols used from a dynamic
                 library were also available in another linked dynamic library.  This option is obsolete.

     <b>-private_bundle</b>
                 Previously prevented errors when -flat_namespace, -bundle, and -bundle_loader were used and
                 the bundle contained a definition that conflicted with a symbol in the main executable.
                 The linker no longer errors on such conflicts.  This option is obsolete.

     <b>-noall_load</b>
                 This is the default.  This option is obsolete.

     <b>-seg_addr_table_filename</b> <u>path</u>
                 Use <u>path</u> instead of the install name of the library for matching an entry in the
                 seg_addr_table.  This option is obsolete.

     <b>-sectorder</b> <u>segname</u> <u>sectname</u> <u>orderfile</u>
                 Replaced by more general -order_file option.

     <b>-sectorder_detail</b>
                 Produced extra logging about which entries from a sectorder entries were used.  Replaced by
                 -order_file_statistics.  This option is obsolete.

<b>SEE</b> <b>ALSO</b>
     <a href="as.1.html#//apple_ref/doc/man/1/as">as(1)</a>, <a href="ar.1.html#//apple_ref/doc/man/1/ar">ar(1)</a>, <a href="cc.1.html#//apple_ref/doc/man/1/cc">cc(1)</a>, <a href="nm.1.html#//apple_ref/doc/man/1/nm">nm(1)</a>, <a href="otool.1.html#//apple_ref/doc/man/1/otool">otool(1)</a> <a href="lipo.1.html#//apple_ref/doc/man/1/lipo">lipo(1)</a>, <a href="../man3/arch.3.html#//apple_ref/doc/man/3/arch">arch(3)</a>, <a href="../man3/dyld.3.html#//apple_ref/doc/man/3/dyld">dyld(3)</a>, <a href="../man5/Mach-O.5.html#//apple_ref/doc/man/5/Mach-O">Mach-O(5)</a>, <a href="strip.1.html#//apple_ref/doc/man/1/strip">strip(1)</a>, <a href="rebase.1.html#//apple_ref/doc/man/1/rebase">rebase(1)</a>

Darwin                         December 8, 2006                         Darwin
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/ld.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/ld.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/ld.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
