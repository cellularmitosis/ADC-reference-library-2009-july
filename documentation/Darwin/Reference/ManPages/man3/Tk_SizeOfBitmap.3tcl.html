<html><head><title>Mac OS X
 Manual Page For Tk_SizeOfBitmap(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/Tk_SizeOfBitmap" title="Mac OS X
 Manual Page for Tk_SizeOfBitmap(3tcl)"><a name="//apple_ref/doc/man/3/Tk_SizeOfBitmap" title="Mac OS X
 Manual Page for Tk_SizeOfBitmap(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/Tk_SizeOfBitmap"; name=Tk_SizeOfBitmap(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tk_AllocBitmapFromObj(3)                    Tk Library Procedures                   <a href="Tk_AllocBitmapFromObj.3tcl.html#//apple_ref/doc/man/3/Tk_AllocBitmapFromObj">Tk_AllocBitmapFromObj(3)</a>



____________________________________________________________________________________________________________

<b>NAME</b>
       Tk_AllocBitmapFromObj,  Tk_GetBitmap, Tk_GetBitmapFromObj, Tk_DefineBitmap, Tk_NameOfBitmap, Tk_Size-<font color="#ffffff" class="whiteout">OfBitmap,&nbsp;Tk_SizeOfBitmap,</font>
       OfBitmap, Tk_FreeBitmapFromObj, Tk_FreeBitmap - maintain database of single-plane pixmaps

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       Pixmap                                                                                                |
       <b>Tk_GetBitmapFromObj(</b><u>interp,</u> <u>tkwin,</u> <u>objPtr</u><b>)</b>                                                            |

       Pixmap                                                                                                |
       <b>Tk_GetBitmap(</b><u>interp,</u> <u>tkwin,</u> <u>info</u><b>)</b>                                                                     |

       Pixmap                                                                                                |
       <b>Tk_GetBitmapFromObj(</b><u>tkwin,</u> <u>objPtr</u><b>)</b>                                                                    |

       int
       <b>Tk_DefineBitmap(</b><u>interp,</u> <u>name,</u> <u>source,</u> <u>width,</u> <u>height</u><b>)</b>

       CONST char *
       <b>Tk_NameOfBitmap(</b><u>display,</u> <u>bitmap</u><b>)</b>

       <b>Tk_SizeOfBitmap(</b><u>display,</u> <u>bitmap,</u> <u>widthPtr,</u> <u>heightPtr</u><b>)</b>

       <b>Tk_FreeBitmapFromObj(</b><u>tkwin,</u> <u>objPtr</u><b>)</b>                                                                   |

       <b>Tk_FreeBitmap(</b><u>display,</u> <u>bitmap</u><b>)</b>

<b>ARGUMENTS</b>
       Tcl_Interp      <u>*interp</u>     (in)      Interpreter to use for error reporting; if NULL then  no  error
                                             message is left after errors.

       Tk_Window       <u>tkwin</u>       (in)      Token for window in which the bitmap will be used.

       Tcl_Obj         <u>*objPtr</u>     (in/out)                                                                  ||
                                             String value describes desired bitmap;  internal  rep  will  be |
                                             modified to cache pointer to corresponding Pixmap.              |

       CONST                                                                                                 |
       char      <u>*info</u>       (in)                                                                      |     |
                                             Same as <u>objPtr</u> except description of  bitmap  is  passed  as  a |
                                             string and resulting Pixmap isn't cached.

       CONST char      <u>*name</u>       (in)      Name for new bitmap to be defined.

       CONST char      <u>*source</u>     (in)      Data  for bitmap, in standard bitmap format.  Must be stored in
                                             static memory whose value will never change.

       int             <u>width</u>       (in)      Width of bitmap.

       int             <u>height</u>      (in)      Height of bitmap.

       int             <u>*widthPtr</u>   (out)     Pointer to word to fill in with <u>bitmap</u>'s width.

       int             <u>*heightPtr</u>  (out)     Pointer to word to fill in with <u>bitmap</u>'s height.

       Display         <u>*display</u>    (in)      Display for which <u>bitmap</u> was allocated.

       Pixmap          <u>bitmap</u>      (in)      Identifier for a bitmap allocated by  <b>Tk_AllocBitmapFromObj</b>  or
                                             <b>Tk_GetBitmap</b>.
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       These  procedures  manage  a  collection of bitmaps (one-plane pixmaps) being used by an application.
       The procedures allow bitmaps to be re-used efficiently, thereby avoiding server  overhead,  and  also
       allow bitmaps to be named with character strings.

       <b>Tk_AllocBitmapFromObj</b> returns a Pixmap identifier for a bitmap that matches the description in <u>objPtr</u> |
       and is suitable for use in <u>tkwin</u>.  It re-uses an existing bitmap, if possible, and creates a new  one |
       otherwise.  <u>ObjPtr</u>'s value must have one of the following forms:

       <b>@</b><u>fileName</u>           <u>FileName</u>  must be the name of a file containing a bitmap description in the stan-<font color="#ffffff" class="whiteout">dard&nbsp;standard</font>
                           dard X11 or X10 format.

       <u>name</u>                <u>Name</u>  must  be  the  name  of  a  bitmap  defined  previously  with  a  call   to
                           <b>Tk_DefineBitmap</b>.  The following names are pre-defined by Tk:

                           <b>error</b>       The  international  "don't"  symbol:   a  circle with a diagonal line
                                       across it.

                           <b>gray75</b>                                                                            ||
                                       75% gray: a checkerboard pattern where three out of four bits are on.

                           <b>gray50</b>      50% gray: a checkerboard pattern where every other bit is on.

                           <b>gray25</b>                                                                            ||
                                       25%  gray: a checkerboard pattern where one out of every four bits is |
                                       on.

                           <b>gray12</b>      12.5% gray: a pattern where one-eighth of the bits are on, consisting
                                       of every fourth pixel in every other row.

                           <b>hourglass</b>   An hourglass symbol.

                           <b>info</b>        A large letter ``i''.

                           <b>questhead</b>   The silhouette of a human head, with a question mark in it.

                           <b>question</b>    A large question-mark.

                           <b>warning</b>     A large exclamation point.

                           In  addition, the following pre-defined names are available only on the <b>Macintosh</b>
                           platform:

                           <b>document</b>    A generic document.

                           <b>stationery</b>  Document stationery.

                           <b>edition</b>     The <u>edition</u> symbol.

                           <b>application</b> Generic application icon.

                           <b>accessory</b>   A desk accessory.

                           <b>folder</b>      Generic folder icon.

                           <b>pfolder</b>     A locked folder.

                           <b>trash</b>       A trash can.

                           <b>floppy</b>      A floppy disk.

                           <b>ramdisk</b>     A floppy disk with chip.

                           <b>cdrom</b>       A cd disk icon.

                           <b>preferences</b> A folder with prefs symbol.

                           <b>querydoc</b>    A database document icon.

                           <b>stop</b>        A stop sign.

                           <b>note</b>        A face with ballon words.

                           <b>caution</b>     A triangle with an exclamation point.

       Under normal conditions, <b>Tk_AllocBitmapFromObj</b> returns an identifier for the requested bitmap.  If an |
       error  occurs in creating the bitmap, such as when <u>objPtr</u> refers to a non-existent file, then <b>None</b> is |
       returned and an error message is left in <u>interp</u>'s result if <u>interp</u> isn't NULL.  <b>Tk_AllocBitmapFromObj</b> |
       caches  information about the return value in <u>objPtr</u>, which speeds up future calls to procedures such |
       as <b>Tk_AllocBitmapFromObj</b> and <b>Tk_GetBitmapFromObj</b>.                                                     |

       <b>Tk_GetBitmap</b> is identical to <b>Tk_AllocBitmapFromObj</b> except that the description of the bitmap is spec- |
       ified  with a string instead of an object.  This prevents <b>Tk_GetBitmap</b> from caching the return value, |
       so <b>Tk_GetBitmap</b> is less efficient than <b>Tk_AllocBitmapFromObj</b>.                                         |

       <b>Tk_GetBitmapFromObj</b> returns the token for an existing bitmap, given the window and  description  used |
       to  create  the  bitmap.   <b>Tk_GetBitmapFromObj</b>  doesn't  actually  create the bitmap; the bitmap must |
       already have been created with a previous call to <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.  The  return |
       value  is  cached in <u>objPtr</u>, which speeds up future calls to <b>Tk_GetBitmapFromObj</b> with the same <u>objPtr</u> |
       and <u>tkwin</u>.

       <b>Tk_DefineBitmap</b> associates a name with in-memory bitmap data so that the name can be  used  in  later
       calls to <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.  The <u>nameId</u> argument gives a name for the bitmap;  it
       must not previously have been used in a call to <b>Tk_DefineBitmap</b>.  The arguments  <u>source</u>,  <u>width</u>,  and
       <u>height</u>  describe  the  bitmap.   <b>Tk_DefineBitmap</b> normally returns TCL_OK;  if an error occurs (e.g. a
       bitmap named <u>nameId</u> has already been defined) then TCL_ERROR is returned and an error message is left
       in  <u>interp-&gt;result</u>.   Note:   <b>Tk_DefineBitmap</b>  expects  the memory pointed to by <u>source</u> to be static:
       <b>Tk_DefineBitmap</b> doesn't make a private copy of this memory, but uses the bytes pointed to  by  <u>source</u>
       later in calls to <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.

       Typically  <b>Tk_DefineBitmap</b>  is  used by <b>#include</b>-ing a bitmap file directly into a C program and then
       referencing the variables defined by the file.  For example, suppose there exists a file <b>stip.bitmap</b>,
       which  was  created  by  the  <b>bitmap</b> program and contains a stipple pattern.  The following code uses
       <b>Tk_DefineBitmap</b> to define a new bitmap named <b>foo</b>:                                                     |
              Pixmap bitmap;                                                                                 |
              #include "stip.bitmap"                                                                         |
              Tk_DefineBitmap(interp, "foo", stip_bits,                                                      |
                stip_width, stip_height);                                                                    |
              ...                                                                                            |
              bitmap = Tk_GetBitmap(interp, tkwin, "foo");                                                   |
       This code causes the bitmap file to be read at compile-time and incorporates the  bitmap  information
       into  the  program's  executable image.  The same bitmap file could be read at run-time using <b>Tk_Get</b>-<font color="#ffffff" class="whiteout">Bitmap:&nbsp;Tk_GetBitmap:</font>
       <b>Bitmap</b>:                                                                                               |
              Pixmap bitmap;                                                                                 |
              bitmap = Tk_GetBitmap(interp, tkwin, "@stip.bitmap");                                          |
       The second form is a bit more flexible (the file could be modified after the program  has  been  com-<font color="#ffffff" class="whiteout">piled,&nbsp;compiled,</font>
       piled,  or  a different string could be provided to read a different file), but it is a little slower
       and requires the bitmap file to exist separately from the program.

       Tk maintains a database of all the bitmaps that are currently in use.   Whenever  possible,  it  will
       return  an  existing bitmap rather than creating a new one.  When a bitmap is no longer used, Tk will
       release  it  automatically.   This  approach   can   substantially   reduce   server   overhead,   so
       <b>Tk_AllocBitmapFromObj</b> and <b>Tk_GetBitmap</b> should generally be used in preference to Xlib procedures like
       <b>XReadBitmapFile</b>.

       The bitmaps returned by <b>Tk_AllocBitmapFromObj</b> and <b>Tk_GetBitmap</b> are shared, so  callers  should  never
       modify  them.   If  a  bitmap must be modified dynamically, then it should be created by calling Xlib
       procedures such as <b>XReadBitmapFile</b> or <b>XCreatePixmap</b> directly.

       The procedure <b>Tk_NameOfBitmap</b> is roughly the inverse of <b>Tk_GetBitmap</b>.  Given an X Pixmap argument, it
       returns  the textual description that was passed to <b>Tk_GetBitmap</b> when the bitmap was created.  <u>Bitmap</u>
       must have been the return value from a previous call to <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.

       <b>Tk_SizeOfBitmap</b> returns the dimensions of its <u>bitmap</u> argument in the words pointed to by the <u>widthPtr</u>
       and   <u>heightPtr</u>   arguments.    As   with   <b>Tk_NameOfBitmap</b>,   <u>bitmap</u>   must  have  been  created  by
       <b>Tk_AllocBitmapFromObj</b> or <b>Tk_GetBitmap</b>.

       When a bitmap is no longer needed, <b>Tk_FreeBitmapFromObj</b> or <b>Tk_FreeBitmap</b> should be called to  release |
       it.   For  <b>Tk_FreeBitmapFromObj</b>  the bitmap to release is specified with the same information used to |
       create it; for <b>Tk_FreeBitmap</b> the bitmap to release is specified with its Pixmap token.  There  should |
       be  exactly  one call to <b>Tk_FreeBitmapFromObj</b> or <b>Tk_FreeBitmap</b> for each call to <b>Tk_AllocBitmapFromObj</b> |
       or <b>Tk_GetBitmap</b>.


<b>BUGS</b>
       In determining whether an existing bitmap can be used to satisfy a new request, <b>Tk_AllocBitmapFromObj</b>
       and  <b>Tk_GetBitmap</b>  consider  only the immediate value of the string description.  For example, when a
       file name is passed to <b>Tk_GetBitmap</b>, <b>Tk_GetBitmap</b> will assume it is safe to re-use an existing bitmap
       created  from  the  same file name:  it will not check to see whether the file itself has changed, or
       whether the current directory has changed, thereby causing the name to refer to a different file.


<b>KEYWORDS</b>
       bitmap, pixmap



Tk                                                   8.1                            <a href="Tk_AllocBitmapFromObj.3tcl.html#//apple_ref/doc/man/3/Tk_AllocBitmapFromObj">Tk_AllocBitmapFromObj(3)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Tk_SizeOfBitmap.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Tk_SizeOfBitmap.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Tk_SizeOfBitmap.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
