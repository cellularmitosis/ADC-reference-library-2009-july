<html><head><title>Mac OS X Developer Tools
 Manual Page For Tcl_GetVar2(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/Tcl_GetVar2" title="Mac OS X Developer Tools
 Manual Page for Tcl_GetVar2(3tcl)"><a name="//apple_ref/doc/man/3/Tcl_GetVar2" title="Mac OS X Developer Tools
 Manual Page for Tcl_GetVar2(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/Tcl_GetVar2"; name=Tcl_GetVar2(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tcl_SetVar(3)                              Tcl Library Procedures                              <a href="Tcl_SetVar.3tcl.html#//apple_ref/doc/man/3/Tcl_SetVar">Tcl_SetVar(3)</a>



____________________________________________________________________________________________________________

<b>NAME</b>
       Tcl_SetVar2Ex,  Tcl_SetVar,  Tcl_SetVar2,  Tcl_ObjSetVar2,  Tcl_GetVar2Ex,  Tcl_GetVar,  Tcl_GetVar2,
       Tcl_ObjGetVar2, Tcl_UnsetVar, Tcl_UnsetVar2 - manipulate Tcl variables

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       Tcl_Obj *                                                                                             |
       <b>Tcl_SetVar2Ex</b>(<u>interp,</u> <u>name1,</u> <u>name2,</u> <u>newValuePtr,</u> <u>flags</u>)                                               |

       CONST char *
       <b>Tcl_SetVar</b>(<u>interp,</u> <u>varName,</u> <u>newValue,</u> <u>flags</u>)

       CONST char *
       <b>Tcl_SetVar2</b>(<u>interp,</u> <u>name1,</u> <u>name2,</u> <u>newValue,</u> <u>flags</u>)

       Tcl_Obj *
       <b>Tcl_ObjSetVar2</b>(<u>interp,</u> <u>part1Ptr,</u> <u>part2Ptr,</u> <u>newValuePtr,</u> <u>flags</u>)

       Tcl_Obj *                                                                                             |
       <b>Tcl_GetVar2Ex</b>(<u>interp,</u> <u>name1,</u> <u>name2,</u> <u>flags</u>)                                                            |

       CONST char *
       <b>Tcl_GetVar</b>(<u>interp,</u> <u>varName,</u> <u>flags</u>)

       CONST char *
       <b>Tcl_GetVar2</b>(<u>interp,</u> <u>name1,</u> <u>name2,</u> <u>flags</u>)

       Tcl_Obj *
       <b>Tcl_ObjGetVar2</b>(<u>interp,</u> <u>part1Ptr,</u> <u>part2Ptr,</u> <u>flags</u>)

       int
       <b>Tcl_UnsetVar</b>(<u>interp,</u> <u>varName,</u> <u>flags</u>)

       int
       <b>Tcl_UnsetVar2</b>(<u>interp,</u> <u>name1,</u> <u>name2,</u> <u>flags</u>)

<b>ARGUMENTS</b>
       Tcl_Interp   <u>*interp</u>        (in)      Interpreter containing variable.

       CONST char   <u>*name1</u>         (in)      Contains the name of an array variable (if <u>name2</u>  is  non-NULL)
                                             or (if <u>name2</u> is NULL) either the name of a scalar variable or a
                                             complete name including both  variable  name  and  index.   May
                                             include <b>::</b> namespace qualifiers to specify a variable in a par-<font color="#ffffff" class="whiteout">ticular&nbsp;particular</font>
                                             ticular namespace.

       CONST char   <u>*name2</u>         (in)      If non-NULL, gives name of element within array; in  this  case
                                             <u>name1</u> must refer to an array variable.

       Tcl_Obj      <u>*newValuePtr</u>   (in)      Points  to  a Tcl object containing the new value for the vari- |
                                             able.

       int          <u>flags</u>          (in)      OR-ed combination of bits providing additional information. See
                                             below for valid values.

       CONST char   <u>*varName</u>       (in)      Name of variable.  May include <b>::</b> namespace qualifiers to spec-<font color="#ffffff" class="whiteout">ify&nbsp;specify</font>
                                             ify a variable in a  particular  namespace.   May  refer  to  a
                                             scalar variable or an element of an array.

       CONST char   <u>*newValue</u>      (in)      New  value for variable, specified as a null-terminated string.
                                             A copy of this value is stored in the variable.

       Tcl_Obj      <u>*part1Ptr</u>      (in)      Points to a Tcl object containing  the  variable's  name.   The
                                             name may include a series of <b>::</b> namespace qualifiers to specify
                                             a variable in a particular namespace.  May refer  to  a  scalar
                                             variable or an element of an array variable.

       Tcl_Obj      <u>*part2Ptr</u>      (in)      If non-NULL, points to an object containing the name of an ele-<font color="#ffffff" class="whiteout">ment&nbsp;element</font>
                                             ment within an array and <u>part1Ptr</u> must refer to an array  vari-<font color="#ffffff" class="whiteout">able.&nbsp;variable.</font>
                                             able.
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       These procedures are used to create, modify, read, and delete Tcl variables from C code.

       <b>Tcl_SetVar2Ex</b>,  <b>Tcl_SetVar</b>,  <b>Tcl_SetVar2</b>,  and <b>Tcl_ObjSetVar2</b> will create a new variable or modify an |
       existing one.  These procedures set the given variable to the value given by <u>newValuePtr</u> or  <u>newValue</u> |
       and  return  a  pointer  to  the  variable's  new value, which is stored in Tcl's variable structure. |
       <b>Tcl_SetVar2Ex</b> and <b>Tcl_ObjSetVar2</b> take the new value as a Tcl_Obj and return a pointer to  a  Tcl_Obj. |
       <b>Tcl_SetVar</b>  and <b>Tcl_SetVar2</b> take the new value as a string and return a string; they are usually less |
       efficient than <b>Tcl_ObjSetVar2</b>.  Note that the return value may be different than the  <u>newValuePtr</u>  or
       <u>newValue</u>  argument,  due  to  modifications  made by write traces.  If an error occurs in setting the
       variable (e.g. an array variable is referenced without giving  an  index  into  the  array)  NULL  is
       returned and an error message is left in <u>interp</u>'s result if the <b>TCL_LEAVE_ERR_MSG</b> <u>flag</u> bit is set.

       <b>Tcl_GetVar2Ex</b>,  <b>Tcl_GetVar</b>,  <b>Tcl_GetVar2</b>,  and <b>Tcl_ObjGetVar2</b> return the current value of a variable. |
       The arguments to these procedures are treated in the same way as  the  arguments  to  the  procedures |
       described  above.  Under normal circumstances, the return value is a pointer to the variable's value. |
       For <b>Tcl_GetVar2Ex</b> and <b>Tcl_ObjGetVar2</b> the value is returned as a pointer to a Tcl_Obj.  For <b>Tcl_GetVar</b> |
       and  <b>Tcl_GetVar2</b>  the value is returned as a string; this is usually less efficient, so <b>Tcl_GetVar2Ex</b> |
       or <b>Tcl_ObjGetVar2</b> are preferred.  If an error occurs while reading the variable  (e.g.  the  variable
       doesn't  exist  or an array element is specified for a scalar variable), then NULL is returned and an
       error message is left in <u>interp</u>'s result if the <b>TCL_LEAVE_ERR_MSG</b> <u>flag</u> bit is set.

       <b>Tcl_UnsetVar</b> and <b>Tcl_UnsetVar2</b> may be used to remove a variable, so that future attempts to read  the
       variable  will return an error.  The arguments to these procedures are treated in the same way as the
       arguments to the procedures above.  If the variable is successfully removed then TCL_OK is  returned.
       If  the  variable  cannot be removed because it doesn't exist then TCL_ERROR is returned and an error
       message is left in <u>interp</u>'s result if the <b>TCL_LEAVE_ERR_MSG</b> <u>flag</u> bit is set.  If an array element  is
       specified, the given element is removed but the array remains.  If an array name is specified without
       an index, then the entire array is removed.

       The name of a variable may be specified to these procedures in four ways:

       [1]    If <b>Tcl_SetVar</b>, <b>Tcl_GetVar</b>, or <b>Tcl_UnsetVar</b> is invoked, the variable name is given as a  single
              string,  <u>varName</u>.   If <u>varName</u> contains an open parenthesis and ends with a close parenthesis,
              then the value between the parentheses is treated as an  index  (which  can  have  any  string
              value)  and  the  characters  before  the first open parenthesis are treated as the name of an
              array variable.  If <u>varName</u> doesn't have parentheses  as  described  above,  then  the  entire
              string is treated as the name of a scalar variable.

       [2]    If  the <u>name1</u> and <u>name2</u> arguments are provided and <u>name2</u> is non-NULL, then an array element is
              specified and the array name and index have already been separated by the caller:  <u>name1</u>  con-<font color="#ffffff" class="whiteout">tains&nbsp;contains</font>
              tains the name and <u>name2</u> contains the index.  An error is generated if <u>name1</u>  contains an open |
              parenthesis and ends with a close parenthesis (array element) and <u>name2</u> is non-NULL.           |

       [3]                                                                                                   ||
              If  <u>name2</u>  is  NULL,  <u>name1</u> is treated just like <u>varName</u> in case [1] above (it can be either a |
              scalar or an array element variable name).

       The <u>flags</u> argument may be used to specify any of several options to the procedures.  It  consists  of
       an OR-ed combination of the following bits.

       <b>TCL_GLOBAL_ONLY</b>
              Under  normal  circumstances the procedures look up variables as follows.  If a procedure call
              is active in <u>interp</u>, the variable is looked up at the current level of procedure call.  Other-<font color="#ffffff" class="whiteout">wise,&nbsp;Otherwise,</font>
              wise,  the variable is looked up first in the current namespace, then in the global namespace.
              However, if this bit is set in <u>flags</u> then the variable is looked up only in the global  names-<font color="#ffffff" class="whiteout">pace&nbsp;namespace</font>
              pace even if there is a procedure call active.  If both <b>TCL_GLOBAL_ONLY</b> and <b>TCL_NAMESPACE_ONLY</b>
              are given, <b>TCL_GLOBAL_ONLY</b> is ignored.

       <b>TCL_NAMESPACE_ONLY</b>
              If this bit is set in <u>flags</u> then the variable is looked up only in the current namespace; if a
              procedure is active its variables are ignored, and the global namespace is also ignored unless
              it is the current namespace.

       <b>TCL_LEAVE_ERR_MSG</b>
              If an error is returned and this bit is set in <u>flags</u>, then an error message will  be  left  in
              the  interpreter's result, where it can be retrieved with <b>Tcl_GetObjResult</b> or <b>Tcl_GetStringRe</b>-<font color="#ffffff" class="whiteout">sult.&nbsp;Tcl_GetStringResult.</font>
              <b>sult</b>.  If this flag bit isn't set then no error message is left and the  interpreter's  result
              will not be modified.

       <b>TCL_APPEND_VALUE</b>
              If  this  bit  is set then <u>newValuePtr</u> or <u>newValue</u> is appended to the current value instead of
              replacing it.  If the variable is currently undefined, then the bit is ignored.  This  bit  is
              only used by the <b>Tcl_Set*</b> procedures.

       <b>TCL_LIST_ELEMENT</b>
              If  this bit is set, then <u>newValue</u> is converted to a valid Tcl list element before setting (or
              appending to) the variable.  A separator space is appended before the new list element  unless
              the  list  element  is going to be the first element in a list or sublist (i.e. the variable's
              current value is empty, or contains the single character ``{'', or ends in `` }'').

       <b>Tcl_GetVar</b> and <b>Tcl_GetVar2</b> return the current value of a variable.  The arguments to these procedures
       are  treated  in  the  same way as the arguments to <b>Tcl_SetVar</b> and <b>Tcl_SetVar2</b>.  Under normal circum-<font color="#ffffff" class="whiteout">stances,&nbsp;circumstances,</font>
       stances, the return value is a pointer to the variable's value (which is  stored  in  Tcl's  variable
       structure  and  will  not  change before the next call to <b>Tcl_SetVar</b> or <b>Tcl_SetVar2</b>).  <b>Tcl_GetVar</b> and
       <b>Tcl_GetVar2</b> use the flag bits TCL_GLOBAL_ONLY and TCL_LEAVE_ERR_MSG, both  of  which  have  the  same
       meaning  as  for  <b>Tcl_SetVar</b>.   If an error occurs in reading the variable (e.g. the variable doesn't
       exist or an array element is specified for a scalar variable), then NULL is returned.

       <b>Tcl_UnsetVar</b> and <b>Tcl_UnsetVar2</b> may be used to remove a variable, so that future calls  to  <b>Tcl_GetVar</b>
       or  <b>Tcl_GetVar2</b> for the variable will return an error.  The arguments to these procedures are treated
       in the same way as the arguments to <b>Tcl_GetVar</b> and <b>Tcl_GetVar2</b>.   If  the  variable  is  successfully
       removed  then  TCL_OK  is  returned.  If the variable cannot be removed because it doesn't exist then
       TCL_ERROR is returned.  If an array element is specified, the given element is removed but the  array
       remains.  If an array name is specified without an index, then the entire array is removed.


<b>SEE</b> <b>ALSO</b>
       Tcl_GetObjResult, Tcl_GetStringResult, Tcl_TraceVar


<b>KEYWORDS</b>
       array, get variable, interpreter, object, scalar, set, unset, variable



Tcl                                                  8.1                                       <a href="Tcl_SetVar.3tcl.html#//apple_ref/doc/man/3/Tcl_SetVar">Tcl_SetVar(3)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_GetVar2.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_GetVar2.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_GetVar2.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
