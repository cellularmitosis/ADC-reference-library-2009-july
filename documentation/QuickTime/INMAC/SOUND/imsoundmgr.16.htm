<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Obtaining Version Information (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.15.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.14.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.17.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="H3.Heading3"><A NAME="pgfId=2505"> </A><A NAME="10893"> </A>Obtaining Version Information<A NAME="marker=1618"> </A></H1><P CLASS="T0.Text0"><A NAME="pgfId=3584"> </A>The Sound Manager provides functions that allow you to determine the version numbers both of the Sound Manager itself and of the MACE compression and expansion routines. Generally, you should avoid trying to determine which features or routines are present by reading a version number. Usually, the <TT CLASS="cv">Gestalt</TT> function (discussed in the previous section) provides a better way to find out if some set of features, such as sound input capability, is available. In some cases, however, you can use these version routines to overcome current limitations of the information returned by <TT CLASS="cv">Gestalt</TT>.</P><P CLASS="T1.Text1"><A NAME="pgfId=3656"> </A>Both of these functions return a value of type <TT CLASS="cv">NumVersion</TT> that contains the same information as the first 4 bytes of a resource of type <TT CLASS="cv">'vers'</TT>. The first and second bytes contain the major and minor version numbers, respectively; the third and fourth bytes contain the release level and the stage of the release level. For most purposes, the major and minor release version numbers are sufficient to identify the version. (See the chapter &quot;Finder Interface&quot; of <I CLASS="italics">Inside Macintosh: Macintosh Toolbox Essentials</I> for a complete discussion of the format of <TT CLASS="cv">'vers'</TT> resources.)<A NAME="marker=919"> </A><A NAME="marker=1582"> </A><A NAME="marker=1583"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3658"> </A>You can use the <TT CLASS="cv">SndSoundManagerVersion</TT> function to determine which version of the Sound Manager is present. <A target="doc" HREF="imsoundmgr.16.htm#12681" CLASS="XRef">Listing 1-20</A> shows how to determine if the enhanced Sound Manager is available.<A NAME="marker=1584"> </A></P><P CLASS="L.Listing"><A NAME="pgfId=2337"> </A>Listing&nbsp;20 <A NAME="12681"> </A>Determining if the enhanced Sound Manager is present</P><CODE CLASS="Cv.Code"><A NAME="pgfId=9777"> </A>FUNCTION MyHasEnhancedSoundManager: Boolean;<BR>VAR<BR>&nbsp;&nbsp;&nbsp;&nbsp;myVersion:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumVersion;<BR>BEGIN<BR>&nbsp;&nbsp;&nbsp;&nbsp;IF MyTrapAvailable(_SoundDispatch) THEN<BR>&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myVersion := SndSoundManagerVersion;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyHasEnhancedSoundManager := myVersion.majorRev &gt;= 2;<BR>&nbsp;&nbsp;&nbsp;&nbsp;END<BR>&nbsp;&nbsp;&nbsp;&nbsp;ELSE<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyHasEnhancedSoundManager := FALSE<BR>END;<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=2339"> </A><A NAME="marker=9779"> </A>The <TT CLASS="cv">MyHasEnhancedSoundManager</TT> function defined in <A target="doc" HREF="imsoundmgr.16.htm#12681" CLASS="XRef">Listing 1-20</A> relies on the <TT CLASS="cv">MyTrapAvailable</TT> function, which is an application-defined routine provided in <I CLASS="italics">Inside&nbsp;Macintosh: Operating System Utilities</I>. If the <TT CLASS="cv">_SoundDispatch</TT> trap is not available, the <TT CLASS="cv">SndSoundManagerVersion</TT> function is not available either, in which case the enhanced Sound Manager is certainly not available.</P><P CLASS="T1.Text1"><A NAME="pgfId=3659"> </A>You can use the <TT CLASS="cv">MACEVersion</TT> function to determine the version number of the available MACE routines (for example, <TT CLASS="cv">Comp3to1</TT>).<A NAME="marker=1585"> </A><A NAME="marker=511"> </A></P><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.15.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.14.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.17.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>