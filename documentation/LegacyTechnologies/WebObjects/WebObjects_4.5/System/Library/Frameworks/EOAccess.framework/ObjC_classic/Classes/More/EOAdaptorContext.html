<HTML>		<HEAD>		<TITLE>					</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../webobjects.html" target="_top">WebObjects 4.5 Documentation</a> <b>&gt;</b>EOAccess Reference</font><br><br><!--end of path --><a href="../../EOAccessTOC.html"><img src="../../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <h1><FONT COLOR=\"#000066\"><a name="//apple_ref/occ/cl/EOAdaptorContext">EOAdaptorContext</a></FONT></h1><br><br><h2>Controlling Transactions</h2><p>EOAdaptorContext defines a simple set of methods for explicitlycontrolling transactions:  <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/beginTransaction">beginTransaction</a>,  <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/commitTransaction">commitTransaction</a>,and  <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/rollbackTransaction">rollbackTransaction</a>.Each of these messages confirms the requested action with the adaptorcontext's delegate, then performs the action if possible.</p><p>There's also a set of methods for notifying an adaptor contextthat a transaction has been started, committed, or rolled back withoutusing the <b>beginTransaction</b>, <b>commitTransaction</b>,or <b>rollbackTransaction</b> methods. For example,if you invoke a stored procedure in the server that begins a transaction,you need to notify the adaptor context that a transaction has beenstarted. Use the following methods to keep an adaptor context synchronizedwith the state of the database server:  <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/transactionDidBegin">transactionDidBegin</a>,  <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/transactionDidCommit">transactionDidCommit</a>,and  <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/transactionDidRollback">transactionDidRollback</a>.These methods post notifications.</p><br><h2>The Adaptor Context's Delegate and Notifications</h2><p>You can assign a delegate to an adaptor context. The delegateresponds to certain messages on behalf of the context. An EOAdaptorContextsends these messages directly to its delegate. The transaction-controllingmethods- <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/beginTransaction">beginTransaction</a>,  <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/commitTransaction">commitTransaction</a>,and  <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/rollbackTransaction">rollbackTransaction</a>-notifythe adaptor context's delegate before and after a transactionoperation is performed. Some delegate methods, such as  <a frame= "conv" href="../../Protocols/EOAdaptorContextDelegate.html#//apple_ref/occ/intfm/EOAdaptorContext Delegate/adaptorContextShouldBegin:">adaptorContextShouldBegin:</a>,let the delegate determine whether the context should perform anoperation. Others, such as  <a frame= "conv" href="../../Protocols/EOAdaptorContextDelegate.html#//apple_ref/occ/intfm/EOAdaptorContext Delegate/adaptorContextDidBegin:">adaptorContextDidBegin:</a>,are simply notifications that an operation has occurred. The delegatehas an opportunity to respond by implementing the delegate methods.If the delegate wants to intervene, it implements  <a frame= "conv" href="../../Protocols/EOAdaptorContextDelegate.html#//apple_ref/occ/intfm/EOAdaptorContext Delegate/adaptorContextShouldBegin:">adaptorContextShouldBegin:</a>.If it simply wants notification when a transaction has begun, itimplements  <a frame= "conv" href="../../Protocols/EOAdaptorContextDelegate.html#//apple_ref/occ/intfm/EOAdaptorContext Delegate/adaptorContextDidBegin:">adaptorContextDidBegin:</a>.</p><p>EOAdaptorContext also posts notifications to the application'sdefault notification center. Any object may register to receiveone or more of the notifications posted by an adaptor context byregistering as an observer with the default notification center(an instance of the NSNotificationCenter class). For more informationon notifications, see the NSNotificationCenter class specificationin the <i>Foundation Framework Reference</i>.</p><br><h2>Creating an EOAdaptorContext Subclass</h2><p>EOAdaptorContext provides many default method implementationsthat are sufficient for concrete subclasses. The following methodsestablish structure and conventions that other Enterprise Objects Frameworkclasses depend on and should be overridden with caution:</p><ul><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/clm/EOAdaptorContext/setDebugEnabledDefault:">+ setDebugEnabledDefault:</a></li><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/transactionDidBegin">- transactionDidBegin</a></li><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/transactionDidCommit">- transactionDidCommit</a></li><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/transactionDidRollback">- transactionDidRollback</a></li><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/hasOpenTransaction">- hasOpenTransaction</a></li></ul><p>If you override any of the above methods, your implementationsshould incorporate the superclass's implementation through a messageto <b>super</b>.</p><p>Other methods require database-specific implementations thatcan be provided only by a concrete adaptor context subclass. A subclassmust override the following methods in terms of the persistent storagesystem to which it interacts:</p><ul><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/beginTransaction">- beginTransaction</a></li><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/commitTransaction">- commitTransaction</a></li><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/createAdaptorChannel">- createAdaptorChannel</a></li><li> <a frame= "conv" href="../EOAdaptorContext.html#//apple_ref/occ/instm/EOAdaptorContext/rollbackTransaction">- rollbackTransaction</a></li></ul><br><a href="../../EOAccessTOC.html"><img src="../../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>