<HTML>		<HEAD>		<TITLE>			EODelayedObserverQueue		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "EODelayedObserverQueue"><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/occ/cl/EODelayedObserverQueue">EODelayedObserverQueue</a></FONT></h1><br></a><blockquote><dl><dt><b>Inheritsfrom: </b></dt><dd> NSObject</dd></dl></blockquote><blockquote><dl><dt><b>Conforms to: </b></dt><dd> NSObject</dd><dd>(NSObject)</dd></dl></blockquote><blockquote><dl><b>Declared in: </b><dd>EOControl/EOObserver.h</dd></dl></blockquote><br><br><HR SIZE=4><br><h2>Class Description</h2><hr><p>The EODelayedObserverQueue class is a part of EOControl'schange tracking mechanism. An EODelayedObserverQueue collects changenotifications for observers of multiple objects and notifies themof the changes <em>en masse</em> during theapplication's run loop, according to their individual priorities. Foran overview of the general change tracking mechanism, see  <a frame= "conv" href="../Introduction.html#BIADGEAG">"Tracking Enterprise Objects Changes" </a> inthe introduction to the EOControl Framework.</p><p>EODelayedObserverQueue's style of notification is particularlyuseful for coalescing and prioritizing multiple changes; the interfacelayer's EOAssociation classes use it extensively to update JavaClient and Application Kit user interfaces, for example. Insteadof being told that an object will change, an EODelayedObserver istold that it did change, with a  <a frame= "conv" href="../Classes/EODelayedObserver.html#//apple_ref/occ/instm/EODelayedObserver/subjectChanged">subjectChanged</a> message, as describedin the EODelayedObserver class specification. Delayed observationis thus not useful for comparing old and new states, but only forexamining the new state. Delayed observation also isn't ordinarilyused outside the scope of a Java Client or Application Kit application(in a command line tool or WebObjects application, for example).</p><p>The motivation for a delayed change notification mechanismarises mainly from issues in observing multiple objects. Any singlechange to an observed object typically requires the observer toupdate some state or perform an action. When many such objects change,it makes no sense to recalculate the new state and perform the actionfor each object. EODelayedObserverQueue allows these changes to becollected into a single notification. It further orders change notificationsaccording to priorities, allowing observers to be updated in sequenceaccording to dependencies among them. For example, an EOMasterDetailAssociation(EOInterface), which must update its detail EODisplayGroup (EOInterface)according to the selection in the master <em>before</em> anyredisplay occurs, has an earlier priority than the default for EOAssociations.This prevents regular EOAssociations from redisplaying old valuesand then displaying the new values after the EOMasterDetailAssociationupdates.</p><p>For more information on using EODelayedObserverQueues, seethe sections</p><ul><li> <a frame= "conv" href="../Classes/More/EODelayedObserverQueue.html#BABDFBBD">"Enqueuing a Delayed Observer" </a></li><li> <a frame= "conv" href="../Classes/More/EODelayedObserverQueue.html#BABDHJBI">"Change Notification" </a></li><li> <a frame= "conv" href="../Classes/More/EODelayedObserverQueue.html#BABCJAEA">"Observer Proxies" </a></li></ul><br><br><br><h2>Constants</h2><hr><p>In <tt>EOObserver.h</tt>, EOControl defines anenumeration with the following constant:</p><br><table border = "1"><tr><td scope="row"><b>Constant</b></td><td><b>Description</b></td></tr><tr><td scope="row"><a name = "BABECIDE"><tt>EOFlushDelayedObserversRunLoopOrdering</tt></a></td><td>Determines when to notify delayed observers during endof event processing.</td></tr></table><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Creating instances</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/init">- init</a></dd></dl><dl><dt>Getting the default queue</dt><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EODelayedObserverQueue/defaultObserverQueue">+ defaultObserverQueue</a></dd></dl><dl><dt>Enqueuing and dequeuingobservers</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/enqueueObserver:">- enqueueObserver:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/dequeueObserver:">- dequeueObserver:</a></dd></dl><dl><dt>Sending change notifications</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/notifyObserversUpToPriority:">- notifyObserversUpToPriority:</a></dd></dl><dl><dt>Configuring notificationbehavior</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/runLoopModes">- runLoopModes</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/setRunLoopModes:">- setRunLoopModes:</a></dd></dl></blockquote><br><br><h2>Class Methods</h2><hr><a name = "defaultObserverQueue"><BR><h3><a name="//apple_ref/occ/clm/EODelayedObserverQueue/defaultObserverQueue">defaultObserverQueue</a></h3></a><p><code>+ (EODelayedObserverQueue *)<b>defaultObserverQueue</b></code></p>Returns the EODelayedObserverQueue that EODelayedObserversuse by default.<hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Instance Methods</h2><hr><a name = "dequeueObserver_"><BR><h3><a name="//apple_ref/occ/instm/EODelayedObserverQueue/dequeueObserver:">dequeueObserver:</a></h3></a><p><code>- (void)<b>dequeueObserver:</b>(EODelayedObserver*)<em>anObserver</em></code></p>Removes <em>anObserver</em> fromthe receiver.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/enqueueObserver:">- enqueueObserver:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "enqueueObserver_"><BR><h3><a name="//apple_ref/occ/instm/EODelayedObserverQueue/enqueueObserver:">enqueueObserver:</a></h3></a><p><code>- (void)<b>enqueueObserver:</b>(EODelayedObserver*)<em>anObserver</em></code></p>Records <em>anObserver</em> tobe sent  <a frame= "conv" href="../Classes/EODelayedObserver.html#//apple_ref/occ/instm/EODelayedObserver/subjectChanged">subjectChanged</a> messages. If <em>anObserver</em>'spriority is  <a frame= "conv" href="../Classes/EODelayedObserver.html#CEGDIDDF">EOObserverPriorityImmediate</a>, it'simmediately sent the message and not enqueued. Otherwise <em>anObserver</em> issent the message the next time  <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/notifyObserversUpToPriority:">notifyObserversUpToPriority:</a> is invokedwith a priority later than or equal to <em>anObserver</em>'s.Does nothing if <em>anObserver</em> is alreadyrecorded.<p>The first time this method is invoked during therun loop with an observer whose priority isn't <code>EOObserverPriorityImmediate</code>,it registers the receiver to be sent a  <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/notifyObserversUpToPriority:">notifyObserversUpToPriority:</a> messageat the end of the run loop, using  <a frame= "conv" href="#BABECIDE">EOFlushDelayedObserversRunLoopOrdering</a> andthe receiver's run loop modes. This causes enqueued observersup to a priority of  <a frame= "conv" href="../Classes/EODelayedObserver.html#CEGDDCGF">EOObserverPrioritySixth</a> to be notifiedautomatically during each pass of the run loop.</p><p>Thismethod does not retain anObserver. When <em>anObserver</em> is <b>deallocated</b>,it should invoke  <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/dequeueObserver:">dequeueObserver:</a> toremove itself from the queue.</p><p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/dequeueObserver:">- dequeueObserver:</a>,  <a frame= "conv" href="../Classes/EODelayedObserver.html#//apple_ref/occ/instm/EODelayedObserver/priority">- priority</a> (EODelayedObserver),  <a frame= "conv" href="../Classes/EODelayedObserver.html#//apple_ref/occ/instm/EODelayedObserver/discardPendingNotification">- discardPendingNotification</a> (EODelayedObserver),  <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/runLoopModes">- runLoopModes</a>, <b>-performSelector:target:argument:order:modes:</b> (NSRunLoopclass of the Foundation Kit)</p><hr WIDTH=25% ALIGN=LEFT><a name = "init"><BR><h3><a name="//apple_ref/occ/instm/EODelayedObserverQueue/init">init</a></h3></a><p><code>- (id)<b>init</b></code></p>Initializes a newly allocated EODelayedObserverQueuewith NSDefaultRunLoopMode as its only run loop mode. This is thedesignated initializer for the EODelayedObserverQueue class. Returns <b>self</b>.<hr WIDTH=25% ALIGN=LEFT><a name = "notifyObserversUpToPriority_"><BR><h3><a name="//apple_ref/occ/instm/EODelayedObserverQueue/notifyObserversUpToPriority:">notifyObserversUpToPriority:</a></h3></a><p><code>- (void)<b>notifyObserversUpToPriority:</b>(EOObserverPriority)<em>priority</em></code></p>Sends  <a frame= "conv" href="../Classes/EODelayedObserver.html#//apple_ref/occ/instm/EODelayedObserver/subjectChanged">subjectChanged</a> messages to all ofthe receiver's enqueued observers whose priority is <em>priority</em> orearlier. This method cycles through the receiver's enqueued observersin priority order, sending each a <b>subjectChanged</b><b> </b>messageand then returning to the very beginning of the queue, in case another observerwith an earlier priority was enqueued as a result of the message.<p>EODelayedObserverQueueinvokes this method automatically as needed during the run loop,with a <em>priority</em> of  <a frame= "conv" href="../Classes/EODelayedObserver.html#CEGDDCGF">EOObserverPrioritySixth</a>.</p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODelayedObserverQueue/enqueueObserver:">- enqueueObserver:</a>,  <a frame= "conv" href="../Classes/EODelayedObserver.html#//apple_ref/occ/instm/EODelayedObserver/priority">- priority</a> (EODelayedObserver)</p><hr WIDTH=25% ALIGN=LEFT><a name = "BBCDDJJE"><BR><h3><a name="//apple_ref/occ/instm/EODelayedObserverQueue/runLoopModes">runLoopModes</a></h3></a><p><code>- (NSArray *)<b>runLoopModes</b></code></p><p>Returns the receiver's run loop modes.</p><hr WIDTH=25% ALIGN=LEFT><a name = "setRunLoopModes_"><BR><h3><a name="//apple_ref/occ/instm/EODelayedObserverQueue/setRunLoopModes:">setRunLoopModes:</a></h3></a><p><code>- (void)<b>setRunLoopModes:</b>(NSArray*)<em>modes</em></code></p><p>Sets the receiver's run loop modes to <em>modes</em>,an array of NSString objects representing run loop modes. For moreinformation see the Foundation class NSRunLoop.</p><hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>