<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>SimpleScriptingProperties - /ReadMe.txt</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/ScriptingAutomation/index.html">Scripting & Automation</a> &gt; <a href="../../samplecode/ScriptingAutomation/idxCocoa-date.html">Cocoa</a> &gt; <A HREF="javascript:location.replace('index.html');">SimpleScriptingProperties</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->


	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">SimpleScriptingProperties</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/ReadMe.txt</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/main.m</option>
<option value="listing2.html">/ReadMe.txt</option>
<option value="listing3.html">/scriptLog.h</option>
<option value="listing4.html">/SimpleApplication.h</option>
<option value="listing5.html">/SimpleApplication.m</option>
<option value="listing6.html">/SimpleScriptingProperties.sdef</option>
<option value="listing7.html">/SimpleScriptingPropertiesTest.applescript</option></select>
				</p>
				</form>
				<p><strong><a href="SimpleScriptingProperties.zip">Download Sample</a></strong> (&#147;SimpleScriptingProperties.zip&#148;, 60.5K)<BR>
<strong><a href="SimpleScriptingProperties.dmg">Download Sample</a></strong> (&#147;SimpleScriptingProperties.dmg&#148;, 60.2K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">File: readme.txt

Abstract: readme file

Version: 1.0

Disclaimer: IMPORTANT:  This Apple software is supplied to you by 
Apple Inc. (&quot;Apple&quot;) in consideration of your agreement to the
following terms, and your use, installation, modification or
redistribution of this Apple software constitutes acceptance of these
terms.  If you do not agree with these terms, please do not use,
install, modify or redistribute this Apple software.

In consideration of your agreement to abide by the following terms, and
subject to these terms, Apple grants you a personal, non-exclusive
license, under Apple's copyrights in this original Apple software (the
&quot;Apple Software&quot;), to use, reproduce, modify and redistribute the Apple
Software, with or without modifications, in source and/or binary forms;
provided that if you redistribute the Apple Software in its entirety and
without modifications, you must retain this notice and the following
text and disclaimers in all such redistributions of the Apple Software. 
Neither the name, trademarks, service marks or logos of Apple Inc. 
may be used to endorse or promote products derived from the Apple
Software without specific prior written permission from Apple.  Except
as expressly stated in this notice, no other rights or licenses, express
or implied, are granted by Apple herein, including but not limited to
any patent rights that may be infringed by your derivative works or by
other works in which the Apple Software may be incorporated.

The Apple Software is provided by Apple on an &quot;AS IS&quot; basis.  APPLE
MAKES NO WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION
THE IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY AND FITNESS
FOR A PARTICULAR PURPOSE, REGARDING THE APPLE SOFTWARE OR ITS USE AND
OPERATION ALONE OR IN COMBINATION WITH YOUR PRODUCTS.

IN NO EVENT SHALL APPLE BE LIABLE FOR ANY SPECIAL, INDIRECT, INCIDENTAL
OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) ARISING IN ANY WAY OUT OF THE USE, REPRODUCTION,
MODIFICATION AND/OR DISTRIBUTION OF THE APPLE SOFTWARE, HOWEVER CAUSED
AND WHETHER UNDER THEORY OF CONTRACT, TORT (INCLUDING NEGLIGENCE),
STRICT LIABILITY OR OTHERWISE, EVEN IF APPLE HAS BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.

Copyright (C) 2008 Apple Inc. All Rights Reserved. 



This sample is a follow-on to the SimpleScripting sample.  After completing the
steps defined in that sample to setting up and creating a scriptable
application, you can continue with the steps in this sample to add some
properties to an application.


Step 1:  Setting up

Create a new .sdef file that includes the standard scripting suite and add it
to your Xcode project.  Usually, this file will have the same name as your
application.  Going along with that convention, the .sdef file in this sample
has been named &quot;SimpleScriptingProperties.sdef&quot;.  In the contents of that file,
enter an empty dictionary that includes the standard AppleScript suite as
follows:


&lt;dictionary xmlns:xi=&quot;http://www.w3.org/2003/XInclude&quot;&gt;

    &lt;xi:include
href=&quot;file:///System/Library/ScriptingDefinitions/CocoaStandard.sdef&quot;
xpointer=&quot;xpointer(/dictionary/suite)&quot;/&gt;

        &lt;!-- add your own suite definitions here --&gt;

&lt;/dictionary&gt;


The important parts of this definition are as follows:

1. The 'xi' namespace declaration in the opening dictionary element declares
that enclosed elements using the 'xi' namespace will follow conventions defined
by the XInclude standard.  This will allow us to include the standard
definitions.

2. The 'xi:include' element includes the Standard Suite in the .sdef.

NOTE: Prior to Mac OS X 10.5 developers would copy the standard suite from the
ScriptingDefinitions sample
(http://developer.apple.com/samplecode/ScriptingDefinitions/index.html) directly
into their .sdef file.  For backwards compatibility with Mac OS X 10.4, you may
continue to use that technique, but moving forward the XInclude technique
described above is recommended.




Step 2: Add a starting suite

Add a new suite to your .sdef file at the end of the dictionary just before the
closing &lt;/dictionary&gt; tag:


    &lt;suite name=&quot;Simple Scripting Properties Suite&quot; code=&quot;SsPs&quot;
        description=&quot;SimpleScriptingProperties application specific scripting
facilities.&quot;&gt;
        &lt;!-- put your application specific scripting suite information here --&gt;
         
    &lt;/suite&gt;

It is inside of this suite definition where you will put your application
specific scripting information.  You can add additional suites if you like and
use them to group related scripting functionality together, but for most
purposes one should be sufficient.




Step 3: Add an application class to your new script suite.

Here is our new suite with the application class added in:

    &lt;suite name=&quot;Simple Scripting Suite&quot; code=&quot;SScr&quot;
        description=&quot;SimpleScripting application specific scripting
facilities.&quot;&gt;
        
        &lt;!-- put your application specific scripting suite information here --&gt;
        
        &lt;class name=&quot;application&quot; code=&quot;capp&quot; 
                    description=&quot;Our simple application class.&quot;
inherits=&quot;application&quot;&gt;
                    
            &lt;cocoa class=&quot;NSApplication&quot;/&gt;
            
            &lt;!-- add your properties here --&gt;
            
        &lt;/class&gt;

    &lt;/suite&gt;

Note, the application class we have added inherits from the application class
defined in the Standard Suite in Skeleton.sdef.  

The application class is the root container class for an AppleScriptable
application.  All of the root functionality provided by your application will be
contained in this class and the other classes and objects that it contains.

Important points to note of here:
  - the suite has a unique four-character code associated with it 'SScr'. 
  - when selecting four character codes to pair together with terms you would
  like to use in AppleScript, you should always consult the AppleScript
Terminology and Apple Event Codes table here:
 
http://developer.apple.com/releasenotes/AppleScript/ASTerminology_AppleEventCodes/TermsAndCodes.html
  
  The four character codes you use for your terms you are using should always
agree with the four character codes in that table.  If you are introducing new
terms, then you should make sure the four character code you are using to
represent that term isn't already in use by consulting that table.

  - the &lt;cocoa class=&quot;NSApplication&quot;/&gt; part names the Objective-C class where
Cocoa will look for the property accessor methods for the properties we define
for our custom application AppleScript class.  For every property we define in
the scripting definition for our application class, we will define appropriate
accessor methods on the category of NSApplication defined in the
SimpleApplication.h and SimpleApplication.m files.



Step 4: Add some properties to the scripting suite.


Here are the properties added to the application suite for this example:


(a) the 'special version' AppleScript read only string value property:

            &lt;property name=&quot;special version&quot; code=&quot;SiVs&quot; description=&quot;the
application version&quot; type=&quot;text&quot; access=&quot;r&quot;&gt;
                &lt;cocoa key=&quot;specialVersion&quot;/&gt;
            &lt;/property&gt;
            
This property has been implemented as a string (type=&quot;text&quot;) and it is 'read
only' (access=&quot;r&quot;).  We have specified a Cocoa key of 'specialVersion' so when
trying to retrieve the value for this property Cocoa will call the getter method
named 'specialVersion' on the NSApplication instance to retrieve the value. 
Since this object has been declared as 'read only', we do not have to implement
a setter method on the NSApplication instance.

AppleScript string properties correspond to the Objective-C NSString type.



(b) the 'input value' AppleScript read/write integer value property:

            &lt;property name=&quot;input value&quot; code=&quot;SiIv&quot; description=&quot;an input
integer value&quot; type=&quot;integer&quot; access=&quot;rw&quot;&gt;
                &lt;cocoa key=&quot;inputValue&quot;/&gt;
            &lt;/property&gt;

This property has been implemented as an integer value (type=&quot;integer&quot;) and it
is a read/write property (access=&quot;rw&quot;).  Since it is a read/write property we
will have to provide both a setter and a getter method.  Since we have provided
the Cocoa key 'inputValue' the getter method will be named 'inputValue' and the
setter method will be named 'setInputValue'.

AppleScript integer properties correspond to the Objective-C NSNumber type.



(c) the 'scaling factor' AppleScript read/write floating point value property:

            &lt;property name=&quot;scaling factor&quot; code=&quot;SiSc&quot; description=&quot;a real
number property&quot; type=&quot;real&quot; access=&quot;rw&quot;&gt;
                &lt;cocoa key=&quot;scalingFactor&quot;/&gt;
            &lt;/property&gt;

This property has been implemented as a floating point value (type=&quot;real&quot;) and
it is a read/write property (access=&quot;rw&quot;).  Since it is a read/write property we
will have to provide both a setter and a getter method.  Since we have provided
the Cocoa key 'scalingFactor' the getter method will be named 'scalingFactor'
and the setter method will be named 'setScalingFactor'.

AppleScript floating point properties correspond to the Objective-C NSNumber
type.



(d) the 'output value' AppleScript read only floating point property:

            &lt;property name=&quot;output value&quot; code=&quot;SiOv&quot;
                        description=&quot;the product of the input value and the
scaling factor&quot; type=&quot;real&quot; access=&quot;r&quot;&gt;
                &lt;cocoa key=&quot;outputValue&quot;/&gt;
            &lt;/property&gt;

This property has been implemented as a floating point value (type=&quot;real&quot;) and
it is a read only property (access=&quot;r&quot;).  Since it is a read only property we
will have to provide a getter method but not a setter.  Since we have provided
the Cocoa key 'outputValue' the getter method will be named 'outputValue'.  The
'output value' is a calculated value and it is the product of the 'input value'
property and the 'scaling factor' property.

AppleScript floating point properties correspond to the Objective-C NSNumber
type.



(e) the 'description' AppleScript read/write string value property:

            &lt;property name=&quot;description&quot; code=&quot;desc&quot; description=&quot;an example of
a string value property&quot; type=&quot;text&quot; access=&quot;rw&quot;/&gt;

This property has been implemented a string value (type=&quot;text&quot;) and it is a
read/write property (access=&quot;rw&quot;).  Since it is a read/write property we will
have to provide both a setter and a getter method.  Here, we have not provided a
Cocoa key value so Cocoa will go ahead an generate one for us.  In this case,
the getter method will be named 'description' and the setter method will be
named 'setDescription'.

AppleScript string properties correspond to the Objective-C NSString type.



(f) the 'ready' AppleScript read/write boolean value property:

            &lt;property name=&quot;ready&quot; code=&quot;SiRd&quot; description=&quot;a boolean value
property&quot; type=&quot;boolean&quot; access=&quot;rw&quot;/&gt;

This property has been implemented as a boolean value (type=&quot;boolean&quot;) and it
is a read/write property (access=&quot;rw&quot;).  Since it is a read/write property we
will have to provide both a setter and a getter method.  Here, we have not
provided a Cocoa key value so Cocoa will go ahead an generate one for us.  In
this case, the getter method will be named 'ready' and the setter method will be
named 'setReady'.

AppleScript boolean properties correspond to the Objective-C NSNumber type.



(g) the 'modification date' AppleScript read/write date value property:

            &lt;property name=&quot;modification date&quot; code=&quot;asmo&quot; description=&quot;last
modified date&quot; type=&quot;date&quot; access=&quot;rw&quot;&gt;
                &lt;cocoa key=&quot;modificationDate&quot;/&gt;
            &lt;/property&gt;

This property has been implemented as a date value (type=&quot;date&quot;) and it is a
read/write property (access=&quot;rw&quot;).  Since it is a read/write property we will
have to provide both a setter and a getter method.  Since we have provided the
Cocoa key 'modificationDate' the getter method will be named 'modificationDate'
and the setter method will be named 'setModificationDate'.

AppleScript date properties correspond to the Objective-C NSDate type.



(h) the 'simplicity level' AppleScript read/write custom enumeration value
property:

            &lt;property name=&quot;simplicity level&quot; code=&quot;SsLv&quot; description=&quot;the
simplicity level&quot; type=&quot;simplicitylevel&quot; access=&quot;rw&quot;&gt;
                &lt;cocoa key=&quot;simplicityLevel&quot;/&gt;
            &lt;/property&gt;

This property has been implemented as a custom enumeration value
(type=&quot;simplicitylevel&quot;) and it is a read/write property (access=&quot;rw&quot;).  We have
declared our custom enumeration earlier in the suite to include four elements:

        &lt;enumeration name=&quot;simplicitylevel&quot; code=&quot;SiLv&quot;&gt;
            &lt;cocoa name=&quot;SimplicityLevel&quot;/&gt;
            &lt;enumerator name=&quot;Basic&quot; code=&quot;SiBa&quot; description=&quot;Basic&quot;&gt;
                &lt;cocoa name=&quot;Basic&quot;/&gt;
            &lt;/enumerator&gt;
            &lt;enumerator name=&quot;Introductory&quot; code=&quot;SiIn&quot;
description=&quot;Introductory&quot;&gt;
                &lt;cocoa name=&quot;Introductory&quot;/&gt;
            &lt;/enumerator&gt;
            &lt;enumerator name=&quot;Advanced&quot; code=&quot;SiAd&quot; description=&quot;Advanced&quot;&gt;
                &lt;cocoa name=&quot;Advanced&quot;/&gt;
            &lt;/enumerator&gt;
            &lt;enumerator name=&quot;Difficult&quot; code=&quot;SiDi&quot; description=&quot;Difficult&quot;&gt;
                &lt;cocoa name=&quot;Difficult&quot;/&gt;
            &lt;/enumerator&gt;
        &lt;/enumeration&gt;

Since 'simplicity level' is a read/write property we will have to provide both
a setter and a getter method.  Since we have provided the Cocoa key
'simplicityLevel' the getter method will be named 'simplicityLevel' and the
setter method will be named 'simplicityLevel'.

AppleScript enumeration properties correspond to the Objective-C NSNumber type
and you can use NSNumber's unsigned long accessor functions to retrieve the four
letter codes associated with values in your enumerations.



(i) the 'simplicity factor' AppleScript read only floating point property:

            &lt;property name=&quot;simplicity factor&quot; code=&quot;SiFt&quot;
                        description=&quot;a numeric representation of the simplicity
factor&quot; type=&quot;real&quot; access=&quot;r&quot;&gt;
                &lt;cocoa key=&quot;simplicityFactor&quot;/&gt;
            &lt;/property&gt;

This property has been implemented as a floating point value (type=&quot;real&quot;) and
it is a read only property (access=&quot;r&quot;).  Since it is a read only property we
will have to provide a getter method but not a setter.  Since we have provided
the Cocoa key 'simplicityFactor' the getter method will be named
'simplicityFactor' in the Objective-C source.  The 'simplicity factor' is a
calculated value and it is based on the value stored in the 'simplicity level'
property.  The implementation of this property illustrates how you can use
custom enumerations in your Objective-C code.

AppleScript floating point properties correspond to the Objective-C NSNumber
type.



Step 5: Implement the setter and getter methods on a Category of NSApplication.


In this example we have provided the implementation for all of the necessary
setter and getter methods in the SimpleApplication.m file.  Comments in that
file provide more information about the implementation.  See the files
SimpleApplication.h and SimpleApplication.m for more information.



Step 6:  Where to next?

Well, now that you have the very basics in hand, you're all ready to start
adding scriptability to your application.  But, careful planning before you
start adding in scripting features will be well worth your while.  So, please
consider reading the following documentation.

- The items listed in the section &quot;Making Your Application Scriptable&quot; on this
page are essential reading.  Everyone new to scripting should read through these
documents and familiarize themselves with the topics discussed.
http://developer.apple.com/referencelibrary/GettingStarted/GS_AppleScript/index.html

- &quot;Designing for Scriptability in Cocoa Scripting Guide provides a high-level
checklist of design issues and tactics:
http://developer.apple.com/documentation/Cocoa/Conceptual/ScriptableCocoaApplications/index.html

- This Scripting Interface Guidelines document provides more detailed
information you should consider when adding scriptability to your application: 
http://developer.apple.com/technotes/tn2002/tn2106.html

- The AppleScript terminology and Apple Event Codes document provides a listing
of four character codes that area already defined for use with specific terms. 
As you are adding terminology to your application you should always check there
to see if a four character code has already been defined for a term you would
like to use AND to make sure a four character code you would like to use is not
already being used by some other terminology. 
http://developer.apple.com/releasenotes/AppleScript/ASTerminology_AppleEventCodes/TermsAndCodes.html

- NSScriptCommand class is the one you use for implementing verbs (aka
commands) 
http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSScriptCommand_Class/Reference/Reference.html



Step 7:  And after that?

This sample is part of a suite of samples is structured as an incremental
tutorial with concepts illustrated in one sample leading to the next in the
order they are listed below.

SimpleScripting
    http://developer.apple.com/samplecode/SimpleScripting/
    
SimpleScriptingProperties (you are here)
    http://developer.apple.com/samplecode/SimpleScriptingProperties/
    
SimpleScriptingObjects
    http://developer.apple.com/samplecode/SimpleScriptingObjects/
    
SimpleScriptingVerbs
    http://developer.apple.com/samplecode/SimpleScriptingVerbs/




</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/SimpleScriptingProperties/listing2.html%3Fid%3DDTS10004240-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/SimpleScriptingProperties/listing2.html%3Fid%3DDTS10004240-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/SimpleScriptingProperties/listing2.html%3Fid%3DDTS10004240-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>