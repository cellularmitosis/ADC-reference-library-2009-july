<html><head><title>Mac OS X Developer Tools
 Manual Page For heap(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/heap" title="Mac OS X Developer Tools
 Manual Page for heap(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/heap"; name=heap(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
heap(1)                   BSD General Commands Manual                  heap(1)

<b>NAME</b>
     <b>heap</b> -- List all the malloc-allocated buffers in the process's heap

<b>SYNOPSIS</b>
     <b>heap</b> [<b>-guessNonObjects</b>] <u>pid</u> | <u>partial-executable-name</u>

<b>DESCRIPTION</b>
     <b>heap</b> lists the objects currently allocated on the heap of the specified process, as well as summary
     data.  Objects are categorized by class name, type (Objective-C, C++, or CFType), and binary image.
     C++ objects are identified by the vtable referenced from the start of the object, so with multiple
     inheritance this may not give the precise class of the object.

     The binary image identified for a class is the image which implements the class, not necessarily the
     binary image which caused the objects to be allocated at runtime, or which "owns" those objects.

     <b>heap</b> requires one parameter -- either a process ID or a full or partial executable name.

     The -guessNonObjects option causes <b>heap</b> to look through the memory contents of each Objective-C object
     to find pointers to malloc'ed blocks (non-objects), such as the variable array hanging from an NSArray.
     These referenced blocks of memory are identified as their offset from the start of the object (say
     "NSCFArray[12]").  The count, number of bytes, and average size of memory blocks referenced from each
     different object offset location are listed in the output.

<b>SEE</b> <b>ALSO</b>
     <a href="../man3/malloc.3.html#//apple_ref/doc/man/3/malloc">malloc(3)</a>, <a href="leaks.1.html#//apple_ref/doc/man/1/leaks">leaks(1)</a>, <a href="malloc_history.1.html#//apple_ref/doc/man/1/malloc_history">malloc_history(1)</a>, <a href="vmmap.1.html#//apple_ref/doc/man/1/vmmap">vmmap(1)</a>

     The developer tools for the system also include a graphical application, /Developer/Applica-<font color="#ffffff" class="whiteout">tions/Instruments.app,&nbsp;/Developer/Applications/Instruments.app,</font>
     tions/Instruments.app, that provides instruments that give information similar to that provided by
     <b>heap.</b> The ObjectAlloc instrument graphically displays dynamic, real-time information about the object
     and memory use in an application, including backtraces of where the allocations occured.  The Leaks
     instrument in performs memory leak analysis.  To use these instruments, the target application must be
     launched from Instruments.app, whereas <b>heap</b> can examine existing processes.  <b>heap</b> also has the advan-<font color="#ffffff" class="whiteout">tage&nbsp;advantage</font>
     tage that the data can be immediately parsed by text-based tools, and impacts the system less because
     it is not a full graphical application.

BSD                             March 15, 2007                             BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/heap.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/heap.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/heap.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
