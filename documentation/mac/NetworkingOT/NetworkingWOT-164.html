<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>OTCountDataBytes</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING164></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-163.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-165.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-127.html"><B>Chapter 22 - Endpoints Reference</B></A> / <A HREF="NetworkingWOT-146.html"><B>Functions</B></A><BR><DL><DD><A HREF="NetworkingWOT-163.html"><B>Determining if Bytes Are Available</B></A> / </DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING164-0></A>
<H3>OTCountDataBytes</H3>
 Returns the amount of data currently available to be read.<P>
<A NAME=HEADING164-2></A>
<H5>C INTERFACE</H5>
<PRE>
<A NAME=MARKER-11-169></A>OTResult OTCountDataBytes(EndpointRef ref, size_t* countPtr);
</PRE>
<A NAME=HEADING164-4></A>
<H5>C++ INTERFACE</H5>
<PRE>
<A NAME=MARKER-12-170></A>OTResult TEndpoint::CountDataBytes(size_t* countPtr);
</PRE>
<A NAME=HEADING164-6></A>
<H5>PARAMETERS</H5>
<DL>
<DT><CODE>ref</CODE>
<DD> The endpoint reference of the endpoint whose pending data you wish to count.
<DT><CODE>countPtr</CODE>
<DD> A pointer to a value that is set to the size (in bytes) of the data in the first packet waiting to be read from the endpoint.
<DT><I>function result</I>
<DD>  See <A HREF=NetworkingWOT-479.html#MARKER-9-72>Appendix B</A>.
</DL>
<A NAME=HEADING164-10></A>
<H5>DISCUSSION</H5>
 If the function returns successfully, the <CODE>countPtr</CODE> parameter points to a buffer containing an approximation of the the number of bytes in the message buffer at the top of the stream.<P>
 What the function counts depends on the type of endpoint. If it is packet-oriented, the function counts the number of bytes in the first packet. If it's stream-oriented and if nonexpedited data was received in more than one piece, the function provides a count of the sum of the pieces, but if expedited data was received in multiple parts, the function only provides a count of the data in the first part.<P>
 You can call this function upon receipt of a <CODE>T_DATA</CODE> event to get an approximation of find out how much data is currently available and to determine whether you need to allocate larger buffers before calling a function that reads the data. But, you should be careful not to assume that this is all the data. You should always read data until you get the <CODE>kOTNoDataErr</CODE> result.<P>
 Because what this function counts depends on which event is the most current outstanding event and because other events can occur before the function can complete, never use this count as more than a hint. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-163.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-165.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
