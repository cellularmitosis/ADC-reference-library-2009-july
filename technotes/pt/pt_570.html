<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note PT570: MPW Q&amp;As</title>                                       <meta name="categories" content="Platforms and Tools"><meta name="week-posted" content="Oct 1, 1990 - Oct 5, 1990"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002707" title="MPW Q&As"></a><a name="top"></A><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxTools-date.html">Tools</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="../../referencelibrary/Java/idxTools-date.html" target="_blank">Reference Library > Tools</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note PT570</div>
<div id="pageheadsub">MPW Q&amp;As</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->										<p id="menutext"><A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><p id="introtext">This Technical Note contains a collection of archived Q&amp;As relating to a specifictopic--questions sent the Developer Support Center (DSC) along withanswers from the DSC engineers. Current Q&amp;A's can be found on the <A HREF = "../../qa/index.html">Macintosh Technical Q&amp;A's web site</a>.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Oct 01 1990]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR>          <!-- begin_content --><a name=Section1></A><h2>MacBrowse and building or editing 411 files</h2><P>Date Written:  1/26/93</p><P>Last reviewed:  6/14/93</p><p>We'd like to add documentation to the Documentation part of MacBrowse for ourapplication. Is this possible and if so how? I've noticed that MacBrowse reads411 files. How can I create a 411 index file?</p><P>MacBrowse will allow you to create but not edit your 411 files. Build your own411 file by parsing your source files then using the <b>SaveAs Text</b> option inMacBrowse. The dialog box will have an option to save as 411. This will createa 411 file with stubs; then fill in the stubs using MPW or any text editor. Thenext time you open MacBrowse it will build the index file for your 411 file.For more information on the tags used in 411 files see the <code>Get</code> commanddocumented in the MPW Command Reference on the E.T.O. CD under MPWDocumentation. <i>Note:</i> The Copyright Notice is needed at the top of the411 file.</p><p>OBJECT MASTER also has support for creating and editing 411 files. This productis available from Acius.</p><h2>Choice of C or Pascal language for Macintosh development</h2><P>Date Written:  5/28/90</p><P>Last reviewed:  5/28/90</p><p>Should I use C or Pascal for Macintosh development? Which language is better?Which development system should I use?</p><P>Asking MacDTS which language is better is like asking the Rolling Stones whattheir favorite song is: the answer depends on whom you ask and the mood theyare in.</p><p>Use the language that you are most comfortable with. MacDTS engineers use bothC and Pascal. Both languages have advantages and disadvantages. Many peoplecomplain that C is terse and unreadable. Others say that Pascal is too verbose,and that its lack of knowledge about the machine can make programmingawkward.</p><p>There are many good development systems. MPW is powerful and extensible, but itrequires a lot of hardware to run efficiently. Both Think(TM) languages (fromSymantec) are fast and easy to use, but they aren't extensible at all. Thereare also good languages from other vendors, including Semper Software(TM)Modula-2, Language Systems(TM)Fortran, MicroSoft(TM) and Zedcor(TM) BASIC, andAllegro Common Lisp from Apple (formerly from Coral Software).</p><p>Officially, Apple doesn't recommend any particular language or developmentsystem.</p><h2>Installing MPW 3.0</h2><P>Date Written:  1/1/90</p><P>Last reviewed:  6/14/93</p><p>The MPW installer is reporting that it can't find the "DoIt" script. What iswrong and how can I properly install MPW?</p><P>The problems installing MPW 3.0 could be due to a limitation of theinstallation script--that is, using the Installer we provide will not work ifthere are single or double quotes, or other special characters, in the fullpathname of the destination folder. This is noted in the MPW manual under"Getting Started." The solution is to either install MPW by hand (not hardunless you've never done it before and don't know where everything goes), or torename your hard disk with a simpler name. Since most of MPW complaints occurwhen your hard disk's name has an apostrophe in it, I would suggest the lattermethod.</p><p>Another possible problem is caused by a bug in some third-party 'INIT's thatcause the MPW installer to fail. This bug is caused by those 'INIT's usingPBHSetVol and changing the default volume behind MPW's back. This problem isfrequently reported by users with TOPS (from TOPS, a Sun Microsystemscompany).</p><p>Some 'INIT's use <code>PBHGetVol</code> to get and save the working directory, then attemptto restore it using <code>PBHSetVol</code>, but end up setting the working directory to theroot instead. The Macintosh Technical Note "Why PBHSetVol is Dangerous" warnsagainst using PBHSetVol.</p><p>Not only do these 'INIT's interfere with the installer they can also interferewith other MPW operations, most commonly when MPW tries to access a script inyour current directory or a tool tries to open a script in the currentdirectory.</p><p>To work around the installer problem, you can:</p><ol type="1" start="1">	<li>Manually install MPW;</li>	<li>Disable any 'INIT's (remove them from the System Folder and reboot), then run the installer. (Note: you can prevent TOPS from loading by holding down the Command key while you reboot);</li>	<li>Use a text editor to edit the file "Startup" in the Installation Folder. Search for the line starting with "DoIt" and insert the line "directory" immediately before it. This will force the MPW shell to reset the working directory. Save the Startup file and perform the installation procedure as documented.</li></ol><p>Any 'INIT' that uses <code>PBHSetVol</code> will interfere with the setting of the workingdirectory whenever a disk is inserted while MPW is running. You will have toissue a "directory" command to make the MPW shell reset the workingdirectory.</p><h2>Directory can't be prerequisiteFile in an MPW dependency rule</h2><P>Date Written:  1/28/91</p><P>Last reviewed:  6/14/93</p><p>We are working on a project with MPW. Is there a way to set up our makefile forthe main project so that it is dependent on the source files from the library(already constructed), not the object file produced by running lib? Is there away to refer to a directory (rather than a file) as a prerequisiteFile in adependency rule?</p><P>That's a great suggestion, but unfortunately it isn't possible (at this time)to have a directory as a dependency. I will definitely forward the suggestionalong to the appropriate people.</p><h2>Window-splitting resource format for MPW 3.2</h2><P>Date Written:  7/29/91</p><P>Last reviewed:  6/14/93</p><p>The Macintosh window-splitting resource <code>'MPSR'</code> (ID =1008) for MPW 3.2 containsa 20-byte header, followed by an array of 10-byte elements that describe how tomake the panes. Its fields are defined as follows, subject to revision infuture MPW releases:</p><p>The Header:</p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>rect  (8 bytes) Open Rectangle (zoomed out size)rect  (8 bytes) Close Rectangle (zoomed in size)long  (4 bytes) First position (offset into file of upper left corner</pre>	</TD></TR></TABLE></CENTER><p>Each Element:</p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>enum  (1 byte)  Orientation - (none = 0, row = 1, column = 2)pad   (1 byte)short (2 bytes) PaneSpec - an ID number, the pane to splitshort (2 bytes) Size - offset from top or left for the split</pre>	</TD></TR></TABLE></CENTER><p>The last element in the array is a null element with <code>Orientation</code> = none. The<code>PaneSpec</code> is used to locate the pane to split. A <code>Pane</code> spec consists of 5 3-bitfields. [0 eee ddd ccc bbb aaa]. Panes can be nested up to 5 levels deep. Apane can be split up to 7 times (3 bits).</p><h2>Script for finding Macintosh modify-read-only files</h2><P>Date Written:  3/17/92</p><P>Last reviewed:  6/14/93</p><p>How can I tell if a given file (with projector ckid) has been <code>ModifyReadOnly</code>'d?What I really need to do is search a folder nest for all such files.</p><P>This is a script to find out where modify-read-only (or modifiable) files are .The files that are modify-read-only have a "*" after the revision number; themodifiable files have a "+" after the revision number.</p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>    for file in 'files -r -f'    projectinfo &quot;{file}&quot; -s</pre>	</TD></TR></TABLE></CENTER><h2>MPW 3.0 max global data size is &gt;32K, max local data still 32K</h2><P>Date Written:  1/1/90</p><P>Last reviewed:  12/17/90</p><p>Is the maximum size for global and local data still 32K?</p><P>Starting with MPW 3.0, the maximum size for global data in MPW became largerthan 32K, using compiler and linker options -m and -srt. Local data is tougher,because local data is allocated by using the LINK instruction--for example,LINK A6,#$-380. With this relative addressing mode, you're constrained to thenegative side of a 16-bit value for local space, which translates to 32K. Inother words, this limit is basically due to the Motorola processorarchitecture.</p><p>If you are allocating more than 32K either globally or locally, you might wantto rearchitect your system to use dynamic (and theoretically unbounded,especially on virtual architectures) storage space.</p><h2>Calling/linking external routines</h2><P>Date Written:  4/25/89</p><P>Last reviewed:  6/14/93</p><p>I'm trying to call external routines, written in assembler or some high-levellanguage, from my C program, but the linker complains that my procedure is notdefined anywhere. How can I make it accessible from C?</p><P>C is case sensitive, while some other languages, notably Pascal, are not.Pascal generates an all uppercase symbol names for any of your procedures. (Forexample, <code>MyProc</code> causes the Pascal compiler to create an entry point symbolnamed MYPROC.)</P><P>In C, if you are declaring a C routine, the name is case sensitive, Forexample:</p><p>requires an entry point named <code>MyProc</code>, requires an entry point named MYPROC, consistent with the Pascal compiler.</p><p>The assembler can be either case sensitive or case insensitive. Use thedirective to make the assembler case sensitive like C. Make sure your assemblerroutines match their expected usage.</p><p>If all else fails, you can use the linker -ma option to remap entry point namesto satisfy unresolved references.</p><br>         <a name=Downloads></A>                  <P><A HREF="#top">Back to top</A></p><h2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (32K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/pt_570.pdf">Download</A></P>               </TD>            </TR>                    </TABLE>         <BR></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/pt/pt_570.html%3Fid%3DDTS10002707-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/pt/pt_570.html%3Fid%3DDTS10002707-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/pt/pt_570.html%3Fid%3DDTS10002707-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>