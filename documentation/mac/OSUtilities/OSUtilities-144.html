<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>MyPanelGetSettings (IM: U)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING144></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="OSUtilities-143.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-145.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="OSUtilities-2.html"><B>Operating System Utilities</B></A> / <BR><DD><A HREF="OSUtilities-129.html"><B>Chapter 5 - Control Panel Extensions</B></A> / <A HREF="OSUtilities-132.html"><B>Control Panel Extensions Reference</B></A><BR><DL><DD><A HREF="OSUtilities-133.html"><B>Control Panel Extension-Defined Routines</B></A> / <A HREF="OSUtilities-142.html"><B>Managing Panel Settings</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING144-0></A>
<H3><A NAME=MARKER-2-81></A>MyPanelGetSettings</H3>
 A control panel extension must respond to the <CODE>kPanelGetSettingsSelect</CODE> request code. A control panel sends this request code to your extension to get the panel's current settings. A control panel extension typically responds to the <CODE>kPanelGetSettingsSelect</CODE> request code by calling an extension-defined subroutine (for example, <CODE>MyPanelGetSettings</CODE>) to handle the request. <P>
<PRE>
FUNCTION MyPanelGetSettings (globals: Handle; VAR ud: UserData; 
                             flags: LongInt): ComponentResult;
</PRE>
<DL>
<DT><CODE>globals</CODE>
<DD> A handle to the control panel extension's global data.
<DT><CODE>ud</CODE>
<DD> A handle to the control panel's configuration data.
<DT><CODE>flags</CODE>
<DD> Reserved. This parameter is always 0.
</DL>
<A NAME=HEADING144-6></A>
<H5>DESCRIPTION</H5>
 Your <CODE>MyPanelGetSettings</CODE> function should return, through the <CODE>ud</CODE> parameter, a copy of the panel's current settings. This copy is maintained privately by the control panel. The control panel may subsequently restore your panel's settings by passing those settings to your <CODE>MyPanelSetSettings</CODE> function.<P>
 Your control panel extension is responsible for allocating storage for the configuration data to which <CODE>ud</CODE> is a handle. You might do that when the Component Manager passes your extension the <CODE>kComponentOpenSelect</CODE> parameter. Your extension should not dispose of that storage until it closes (that is, when the Component Manager passes it the <CODE>kComponentCloseSelect</CODE> parameter).<P>
 You can arrange the panel configuration data in any way you like. The data needs to contain whatever information is necessary for your <CODE>MyPanelSetSetting</CODE> function to set all relevant panel items to specified values. For example, the standard Apple sound panels save information such as the component type of the default sound output device, the current volumes levels, the current alert beep, and so forth. You might want to begin the configuration data with a version number so that you can easily change the format of the rest of the data, if necessary.<P>
 The information you return to the control panel may get stored as part of the owner's configuration information and might therefore persist across system restarts. As a result, you should not store values that might change without the control panel's knowledge (such as component ID numbers, file reference numbers, and similar volatile information).<P>
<A NAME=HEADING144-11></A>
<H5>RESULT CODES</H5>
 Your <CODE>MyPanelGetSettings</CODE> function should return <CODE>noErr</CODE> if successful, or an appropriate result code otherwise.<A NAME=MARKER-9-48></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="OSUtilities-143.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-145.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="OSUtilities-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
