<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>FontSync Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="FontSync Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000870-DontLinkChapterID_1" title="FontSync Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxTextFonts-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">FontSync Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../fontsync_ref_docrevhist/fontsync_ref_docrevhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000870-DontLinkChapterID_1-DontLinkElementID_3" title="FontSync Reference"></a><h1>FontSync Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"> ApplicationServices/ApplicationServices.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">FontSync.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40000870-CH203-DontLinkElementID_1" title="Overview"></a><h2>Overview</h2><p>FontSync is an API that provides a way for your application to identify fonts based upon the content of the font, rather than just the font name. Your application can use FontSync to compare fonts that are available on different computers. This document is relevant for anyone who is writing a text-intensive application that must minimize font mismatch errors when a file is moved from one computer to another. To use this document, you should understand the basics of fonts and be familiar with FontSync references and profiles. </p><p>Carbon supports FontSync. However, in Mac OS X, Apple recommends that you use FontSync only in OS X version 10.1 and later.</p>


<a name="//apple_ref/doc/uid/TP40000870-DontLinkChapterID_1-DontLinkElementID_2" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-86104" title="Determining Availability, Version, and Feature Information"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-TPXREF103" title="Determining Availability, Version, and Feature Information"></a>
    
    <h3 class="tasks">Determining Availability, Version, and Feature Information</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSEnabled">FNSEnabled</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Indicates whether FontSync is enabled.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSMatchDefaultsGet">FNSMatchDefaultsGet</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the default match options used by FontSync
functions performing font matching.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines version and feature information for the version
of FontSync installed on the user&#8217;s system. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40000870-CH1g-86985" title="Providing User Interface Support"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-TPXREF104" title="Providing User Interface Support"></a>
    
    <h3 class="tasks">Providing User Interface Support</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceCountNames">FNSReferenceCountNames</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the number of internal font names in a reference.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceFindName">FNSReferenceFindName</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Finds the first name that matches the given font name
parameters, if any. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceGetFamilyInfo">FNSReferenceGetFamilyInfo</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains information about a font family represented by
a font reference.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceGetIndName">FNSReferenceGetIndName</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Finds the font name string and other font name parameters
for an indexed font name. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40000870-CH1g-89398" title="Searching by Font Reference"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-TPXREF105" title="Searching by Font Reference"></a>
    
    <h3 class="tasks">Searching by Font Reference</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileMatchReference">FNSProfileMatchReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains a list of the references in a profile that match
a given reference. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatchFamilies">FNSReferenceMatchFamilies</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains a list of font families that match a reference. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatchFonts">FNSReferenceMatchFonts</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains a list of font objects that match a reference. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40000870-CH1g-91628" title="Working With FontSync Profiles"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-BAJHAAEC" title="Working With FontSync Profiles"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40000870-CH1g-TPXREF106" title="Working With FontSync Profiles"></a>Working With FontSync Profiles</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileAddReference">FNSProfileAddReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a font reference to a profile.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileClear">FNSProfileClear</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes all font references from a profile. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileClose">FNSProfileClose</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Closes the file associated with a font profile and disposes
of run-time data.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileCompact">FNSProfileCompact</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Compacts a font profile.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileCountReferences">FNSProfileCountReferences</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the number of font references in a font profile.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileCreate">FNSProfileCreate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an empty FontSync profile using an <code>FSSpec</code>.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileCreateWithFSRef">FNSProfileCreateWithFSRef</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an empty FontSync profile using an <code>FSRef</code>.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileGetIndReference">FNSProfileGetIndReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves an indexed font reference from a profile.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileGetVersion">FNSProfileGetVersion</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves the format version of an open font profile.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileOpen">FNSProfileOpen</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens an existing font profile using an <code>FSSpec</code>.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileOpenWithFSRef">FNSProfileOpenWithFSRef</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens an existing font profile using an <code>FSRef</code>.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileRemoveIndReference">FNSProfileRemoveIndReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Deletes an indexed font reference from a profile.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSProfileRemoveReference">FNSProfileRemoveReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Deletes a font reference from a profile. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40000870-CH1g-95582" title="Working With FontSync References"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-BAJGHGGC" title="Working With FontSync References"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40000870-CH1g-TPXREF107" title="Working With FontSync References"></a>Working With FontSync References</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceCreate">FNSReferenceCreate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a font reference based on a font object. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceCreateFromFamily">FNSReferenceCreateFromFamily</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a font reference based on a font family and style. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceDispose">FNSReferenceDispose</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Disposes of the storage associated with a font reference.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceFlatten">FNSReferenceFlatten</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Flattens a font reference.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceFlattenedSize">FNSReferenceFlattenedSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Calculates the space required for the flattened form of
a font reference. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceGetVersion">FNSReferenceGetVersion</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Indicates the format version number of a font reference.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatch">FNSReferenceMatch</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Compares font references using specified matching options. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FNSReferenceUnflatten">FNSReferenceUnflatten</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Reconstitutes a flattened font reference. '/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40000870-CH1g-86071" title="Functions"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-TPXREF102" title="Functions"></a><h2>Functions</h2>



































<a name="//apple_ref/c/func/FNSEnabled" title="FNSEnabled"></a><a name="//apple_ref/doc/c_ref/FNSEnabled" title="FNSEnabled"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F13065" title="FNSEnabled"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_5"></a><h3 class="tight">FNSEnabled</h3>
<p class="spaceabove">Indicates whether FontSync is enabled.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> FNSEnabled (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>A <code>Boolean</code> value
indicating whether FontSync is enabled. If <code>true</code>,
your application can perform FontSync operations. See the
Mac Types documentation for a description of the <code>Boolean</code> data
type.</p>
<h5 class="tight">Discussion</h5>
<p>You should check the flag returned by the <code>FNSEnabled</code> function
before starting a sequence of FontSync calls, although it has no
effect on the operation of the rest of the FontSync API. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. In FontSync 1.0, <code>FNSEnabled</code> always
returns <code>true</code>. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSMatchDefaultsGet" title="FNSMatchDefaultsGet"></a><a name="//apple_ref/doc/c_ref/FNSMatchDefaultsGet" title="FNSMatchDefaultsGet"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11522" title="FNSMatchDefaultsGet"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_6"></a><h3 class="tight">FNSMatchDefaultsGet</h3>
<p class="spaceabove">Determines the default match options used by FontSync
functions performing font matching.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/FNSMatchOptions">FNSMatchOptions</a> FNSMatchDefaultsGet (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>A bit mask indicating
the default match options. This is the value used when the mask
constant <code>kFNSMatchDefaults</code> is
passed to FontSync functions that perform matching. See the description of the <code>FNSMatchOptions</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSMatchDefaultsGet</code> function
retrieves the bit mask used when the mask constant <code>kFNSMatchDefaults</code> is
passed to the functions <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatch">FNSReferenceMatch</a></code>, <code><a href="reference.html#//apple_ref/c/func/FNSProfileMatchReference">FNSProfileMatchReference</a></code>, <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatchFonts">FNSReferenceMatchFonts</a></code>,
and <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatchFamilies">FNSReferenceMatchFamilies</a></code>.
The bit mask value is read from a preferences file which is created
when the user sets match criteria via the control panel. The preference
file is maintained by the FontSync library. If there is no preferences
file, or it is unreadable, the implementation-defined fallback value <code>kFNSMatchAll</code> is
returned. </p>
<p>There is no API for setting the default match criteria. Your
application can specify options that are different from the user&#8217;s
preferences via the bitmask in the FontSync matching calls. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. In FontSync 1.0, the
implementation-defined fallback value is <code>kFNSMatchAll</code>,
that is, all defined options turned on. In other words, if the user
does not set the match criteria via the control panel, FontSync
uses the implementation-defined fallback value of all match criteria
selected. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileAddReference" title="FNSProfileAddReference"></a><a name="//apple_ref/doc/c_ref/FNSProfileAddReference" title="FNSProfileAddReference"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11524" title="FNSProfileAddReference"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_7"></a><h3 class="tight">FNSProfileAddReference</h3>
<p class="spaceabove">Adds a font reference to a profile.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileAddReference (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A reference to the font profile to which you
want to add a font reference. The profile must be writable. </p></dd>
<dt><em>iReference</em></dt>
<dd><p>A reference to the font reference you wish
to add. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure. The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported format version. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSDuplicateReferenceErr</code> indicates
that an identical reference already exists in the profile. In this
case, the new one is not added. The File Manager error <code>permErr</code> indicates
that the file is either locked and not editable or opened for read-only
access. <code>FNSProfileAddReference</code> may
return other File Manager errors. Memory Manager errors indicate
that you did not have enough memory available in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileAddReference</code> function
adds a font reference to a profile that has read/write access. If
an identical reference already exists in the profile, the reference
is not added and the result code <code>kFNSDuplicateReferenceErr</code> is
returned. A matching reference is not necessarily identical, since
not all the data in a font reference is examined when a matching operation
is performed. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileClear" title="FNSProfileClear"></a><a name="//apple_ref/doc/c_ref/FNSProfileClear" title="FNSProfileClear"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11525" title="FNSProfileClear"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_8"></a><h3 class="tight">FNSProfileClear</h3>
<p class="spaceabove">Removes all font references from a profile. </p>
<p class="spaceabove"><pre>
OSStatus FNSProfileClear (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A font profile reference. Pass a reference
to the font profile whose references you wish to remove. The profile
must be editable (that is, opened with read/write access). </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that the font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that the profile does not have a valid structure. The File Manager
error <code>permErr</code> indicates
that the file is either locked and not editable or opened for read-only
access. <code>FNSProfileClear</code> may
return other File Manager errors.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileClear</code> function
clears all font references from a specified profile. Note that this
is only true for editable profiles (that is, those opened with read/write
access). The file of the font profile remains the same size after
this operation. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileClose" title="FNSProfileClose"></a><a name="//apple_ref/doc/c_ref/FNSProfileClose" title="FNSProfileClose"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11526" title="FNSProfileClose"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_9"></a><h3 class="tight">FNSProfileClose</h3>
<p class="spaceabove">Closes the file associated with a font profile and disposes
of run-time data.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileClose (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A pointer to a font profile reference. Pass
a reference to the font profile you wish to close. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure. <code>FNSProfileClose</code> may
return File Manager errors.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileClose</code> function
closes the file associated with a font profile. Any memory associated
with the reference is released. You should call the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileCompact">FNSProfileCompact</a></code> before
closing a profile that has been edited, since closing a profile
does not automatically compact it. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileCompact" title="FNSProfileCompact"></a><a name="//apple_ref/doc/c_ref/FNSProfileCompact" title="FNSProfileCompact"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11527" title="FNSProfileCompact"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_10"></a><h3 class="tight">FNSProfileCompact</h3>
<p class="spaceabove">Compacts a font profile.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileCompact (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A font profile reference. Pass a reference
to the font profile you wish to compact. The profile must be editable
(that is, opened with read/write access). </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure. <code>FNSProfileCompact</code> may
return File Manager errors.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileCompact</code> function
eliminates excess space created when creating a font profile (that
is, the space you designate for not-yet-existent font references).
This space is necessary to minimize growing the file and shuffling
data. If a profile has not been opened for read/write access, <code>FNSProfileCompact</code> simply
returns without doing anything. </p>
<p>You should call <code>FNSProfileCompact</code> before
closing a profile that has been edited. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileCountReferences" title="FNSProfileCountReferences"></a><a name="//apple_ref/doc/c_ref/FNSProfileCountReferences" title="FNSProfileCountReferences"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11528" title="FNSProfileCountReferences"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_11"></a><h3 class="tight">FNSProfileCountReferences</h3>
<p class="spaceabove">Determines the number of font references in a font profile.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileCountReferences (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> *oCount
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A reference to the font profile whose font
references you wish to count. </p></dd>
<dt><em>oCount</em></dt>
<dd><p>On return, a pointer to the number of font
references in the profile. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported format version. This may
indicate that a profile is valid, but created by a later version
of FontSync, or that a profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure.</p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileCreate" title="FNSProfileCreate"></a><a name="//apple_ref/doc/c_ref/FNSProfileCreate" title="FNSProfileCreate"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11529" title="FNSProfileCreate"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_12"></a><h3 class="tight">FNSProfileCreate</h3>
<p class="spaceabove">Creates an empty FontSync profile using an <code>FSSpec</code>.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileCreate (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *iFile,
   <a href="../../../../QuickTime/Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/doc/c_ref/FourCharCode" target="_top">FourCharCode</a> iCreator,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> iEstNumRefs,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> iDesiredVersion,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> *oProfile
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iFile</em></dt>
<dd><p>A pointer to the file that you want to initialize
as an empty font profile. </p></dd>
<dt><em>iCreator</em></dt>
<dd><p>The creator code to set for the file. To specify
the file creator code assigned by FontSync, pass the <code>kFNSCreatorDefault</code> constant,
described in <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Font_Profile_Constants">“Font Profile Constants.”</a></span> </p></dd>
<dt><em>iEstNumRefs</em></dt>
<dd><p>The estimated number of font references that
the font profile will contain. Estimating this value minimizes the
number of times the file needs to be grown, since the new profile
will usually immediately have font references added to it. Pass
0 if you don&#8217;t know how many font references your profile will
contain. </p></dd>
<dt><em>iDesiredVersion</em></dt>
<dd><p>The desired format version of the font profile.
Pass a value in the range returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code> in the <code>oCurProfileVersion</code> and <code>oMinProfileVersion</code> fields
of the system information structure. To specify the most recent
version supported by the FontSync library regardless of format version,
pass the constant <code>kFNSVersionDontCare</code>,
described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants.”</a></span> </p></dd>
<dt><em>oProfile</em></dt>
<dd><p>On return, a pointer to a reference to the
newly-created font profile. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that you requested an unsupported profile format version. Memory
Manager errors indicate that the font profile could not be created
because you did not have enough memory available in your heap. <code>FNSProfileCreate</code> may
return File Manager errors.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileCreate</code> function
creates an empty file containing a FontSync font profile. The newly-created
font profile is ready for use. You can add font references to the
profile by calling the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileAddReference">FNSProfileAddReference</a></code>. </p>
<p><code>FNSProfileCreate</code> requires
that you specify the desired profile version format because there
will likely be changes to the profile file format in future versions.
This allows earlier versions of FontSync to use the font profiles
you create. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. In FontSync 1.0, if
you specify the constant <code>kFNSCreatorDefault</code> in
the <code>iCreator</code> parameter
of the function <code>FNSProfileCreate</code>,
FontSync assigns the creator code <code>'fns'</code></p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileCreateWithFSRef" title="FNSProfileCreateWithFSRef"></a><a name="//apple_ref/doc/c_ref/FNSProfileCreateWithFSRef" title="FNSProfileCreateWithFSRef"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F17354" title="FNSProfileCreateWithFSRef"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_13"></a><h3 class="tight">FNSProfileCreateWithFSRef</h3>
<p class="spaceabove">Creates an empty FontSync profile using an <code>FSRef</code>.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileCreateWithFSRef (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *iParentDirectory,
   <!--a-->UniCharCount<!--/a--> iNameLength,
   const <!--a-->UniChar<!--/a--> *iName,
   <a href="../../../../QuickTime/Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/doc/c_ref/FourCharCode" target="_top">FourCharCode</a> iCreator,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> iEstNumRefs,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> iDesiredVersion,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> *oProfile
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iParentDirectory</em></dt>
<dd><p>A pointer to the parent directory of the file
that you want to initialize as an empty font profile. </p></dd>
<dt><em>iNameLength</em></dt>
<dd><p>The number of <code>UniChar</code> characters
in the <code>iName</code> parameter.</p></dd>
<dt><em>iName</em></dt>
<dd><p>The name of the file in which you are storing
the profile.</p></dd>
<dt><em>iCreator</em></dt>
<dd><p>The creator code to set for the file. To specify
the file creator code assigned by FontSync, pass the <code>kFNSCreatorDefault</code> constant,
described in <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Font_Profile_Constants">“Font Profile Constants.”</a></span> </p></dd>
<dt><em>iEstNumRefs</em></dt>
<dd><p>The estimated number of font references that
the font profile will contain. Estimating this value minimizes the
number of times the file needs to be grown, since the new profile
will usually immediately have font references added to it. Pass
0 if you don&#8217;t know how many font references your profile will
contain. </p></dd>
<dt><em>iDesiredVersion</em></dt>
<dd><p>The desired format version of the font profile.
Pass a value in the range returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code> in the <code>oCurProfileVersion</code> and <code>oMinProfileVersion</code> fields
of the system information structure. To specify the most recent
version supported by the FontSync library regardless of format version,
pass the constant <code>kFNSVersionDontCare</code>,
described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants.”</a></span> </p></dd>
<dt><em>oProfile</em></dt>
<dd><p>On return, a pointer to the newly-created
font profile. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The function <code>FNSProfileCreateWithFSRef</code> works
similarly to the function <code><a href="reference.html#//apple_ref/doc/c_ref/FNSProfileCreate">FNSProfileCreate</a></code>, except
that <code>FNSProfileCreateWithFSRef</code> uses
an <code>FSRef</code> instead of an <code>FSSpec</code>.
An <code>FSSpec</code> cannot handle
Unicode names that are too long, as long names are truncated. In
addition, an <code>FSSpec</code> cannot
be shared between processes since an <code>FSSpec</code> references
volume IDs which are different between different processes.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib 1.0.</li><li class="availability">Available in Mac OS X 10.1 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileGetIndReference" title="FNSProfileGetIndReference"></a><a name="//apple_ref/doc/c_ref/FNSProfileGetIndReference" title="FNSProfileGetIndReference"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11530" title="FNSProfileGetIndReference"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_14"></a><h3 class="tight">FNSProfileGetIndReference</h3>
<p class="spaceabove">Retrieves an indexed font reference from a profile.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileGetIndReference (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile,
   UInt32 iWhichReference,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> *oReference
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A reference to the font profile whose indexed
font reference you want to determine. </p></dd>
<dt><em>iWhichReference</em></dt>
<dd><p>An index into the list of font references
in the profile. Pass a value between 0 and one less than the number
of references in the profile returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileCountReferences">FNSProfileCountReferences</a></code>. </p></dd>
<dt><em>oReference</em></dt>
<dd><p>On return, a pointer to a reference to the
indexed font reference. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that the font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>inputOutOfBounds</code> indicates
that the specified index was out of range. The result code <code>kFNSInvalidProfileErr</code> indicates
that the profile does not have a valid structure. <code>FNSProfileGetIndReference</code> may
return File Manager errors. Memory Manager errors indicate that
you did not have enough memory available in your heap.</p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileGetVersion" title="FNSProfileGetVersion"></a><a name="//apple_ref/doc/c_ref/FNSProfileGetVersion" title="FNSProfileGetVersion"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F14273" title="FNSProfileGetVersion"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_15"></a><h3 class="tight">FNSProfileGetVersion</h3>
<p class="spaceabove">Retrieves the format version of an open font profile.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileGetVersion (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> *oVersion
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A reference to the font profile whose format
version number you wish to obtain. </p></dd>
<dt><em>oVersion</em></dt>
<dd><p>On return, a pointer to the format version
number of the font profile. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSInvalidProfileErr</code> indicates
that the profile does not have a valid structure.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileMatchReference" title="FNSProfileMatchReference"></a><a name="//apple_ref/doc/c_ref/FNSProfileMatchReference" title="FNSProfileMatchReference"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11531" title="FNSProfileMatchReference"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_16"></a><h3 class="tight">FNSProfileMatchReference</h3>
<p class="spaceabove">Obtains a list of the references in a profile that match
a given reference. </p>
<p class="spaceabove"><pre>
OSStatus FNSProfileMatchReference (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSMatchOptions">FNSMatchOptions</a> iMatchOptions,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> iOutputSize,
   UInt32 oIndices[],
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> *oNumMatches
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A reference to the font profile containing
the font references you wish to compare. </p></dd>
<dt><em>iReference</em></dt>
<dd><p>A reference to a font reference against which
you are performing the comparison. </p></dd>
<dt><em>iMatchOptions</em></dt>
<dd><p>A bit mask you can use to set the matching
option bits to be used in the comparison. To specify the global
default match criteria, pass the bit mask returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSMatchDefaultsGet">FNSMatchDefaultsGet</a></code>.
Your application can specify options that are different from the
user&#8217;s preferences via this mask. </p></dd>
<dt><em>iOutputSize</em></dt>
<dd><p>The number of font references you want passed
back in the <code>oIndices</code> array. This
may be less than the actual number of matches passed back in the <code>oNumMatches</code> parameter.
To determine this value, see the discussion below. </p></dd>
<dt><em>oIndices</em></dt>
<dd><p>On return, a pointer to an array of indices
identifying the font references that matched. The number of indices
returned is limited by the value you specify in the <code>iOutputSize</code> parameter.
The total number of matching references is passed back in the <code>oNumMatches</code> parameter. </p></dd>
<dt><em>oNumMatches</em></dt>
<dd><p>On return, a pointer to the total number of
matching font references. This value may be greater than the number
of indices passed back in the <code>oIndices</code> array. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported version number. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure. The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported version number. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSMismatchErr</code> indicates
that no matches were found. The File Manager error <code>permErr</code> indicates
that the file is either locked and not editable or opened for read-only
access. <code>FNSProfileMatchReference</code> may
return other File Manager errors. Memory Manager errors indicate
that you did not have enough memory available in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileMatchReference</code> function
obtains a list of the font references that match a specified reference.
Since there may be more than one matching reference, a list is returned. </p>
<p>The number of font references passed back in the <code>oIndices</code> array
is limited by the value you specify in the <code>iOutputSize</code> parameter.
The actual number of matches is passed back in the <code>oNumMatches</code> parameter.
You can check this value to determine whether the <code>oIndices</code> array was
large enough to contain the matches.</p>
<p>If you want to determine whether the profile has a matching
font, but don&#8217;t care which one, pass 0 for the <code>iOutputSize</code> parameter
and <code>NULL</code> for the <code>oNumMatches</code> parameter.
The result code <code>noErr</code> indicates
that matches were found, while the result code <code>kFNSMismatchErr</code> indicates
that no matches were found.</p>
<p>To determine the number of matches, call <code>FNSProfileMatchReference</code> and
pass 0 for the <code>iOutputSize</code> parameter.
The pointer passed back in the <code>oNumMatches</code> parameter
will point to the actual number of matches. You can then call <code>FNSProfileMatchReference</code> again, passing
the returned number of matches in the <code>iOutputSize</code> parameter. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileOpen" title="FNSProfileOpen"></a><a name="//apple_ref/doc/c_ref/FNSProfileOpen" title="FNSProfileOpen"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11532" title="FNSProfileOpen"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_17"></a><h3 class="tight">FNSProfileOpen</h3>
<p class="spaceabove">Opens an existing font profile using an <code>FSSpec</code>.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileOpen (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *iFile,
   <!--a-->Boolean<!--/a--> iOpenForWrite,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> *oProfile
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iFile</em></dt>
<dd><p>A pointer to the font profile file that you
wish to open. </p></dd>
<dt><em>iOpenForWrite</em></dt>
<dd><p>A flag indicating whether the profile file
is read/write or read-only. Pass <code>true</code> to
allow read/write access. This is necessary if the profile is going
to be editable. </p></dd>
<dt><em>oProfile</em></dt>
<dd><p>On return, a pointer to a reference to the
open font profile. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure. Memory Manager errors
indicate that you did not have enough memory available in your heap. <code>FNSProfileOpen</code> may
return File Manager errors.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileOpen</code> function
opens an already-existing font profile (that is, one that contains
font references). If you want to make the font profile editable,
pass true in the <code>iOpenForWrite</code> parameter. <code>FNSProfileOpen</code> will
not open an empty profile created by the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileCreate">FNSProfileCreate</a></code>.</p>
<p>Font profiles are housed in a file. FontSync attempts to moderate
access to this file. Ideally, it tries to either allow many readers
or exactly one writer but not both. The Mac OS File Manager does
not allow this kind of exclusion on local volumes, so it may still
be possible for someone to get write access to a profile when there
are active readers. Rather than complicating the implementation
to work around this limitation, FontSync profile files are treated
like most document files. That is, the caller is responsible for
making sure this does not occur. If the user wishes to modify a
profile, your application should make a copy of the file, modify
the copy, and swap file names when done. This has the added benefit
of preserving the original profile if an error leaves the new profile
invalid. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileOpenWithFSRef" title="FNSProfileOpenWithFSRef"></a><a name="//apple_ref/doc/c_ref/FNSProfileOpenWithFSRef" title="FNSProfileOpenWithFSRef"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F17355" title="FNSProfileOpenWithFSRef"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_18"></a><h3 class="tight">FNSProfileOpenWithFSRef</h3>
<p class="spaceabove">Opens an existing font profile using an <code>FSRef</code>.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileOpenWithFSRef (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *iFile,
   <!--a-->Boolean<!--/a--> iOpenForWrite,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> *oProfile
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iFile</em></dt>
<dd><p>A pointer to the <code>FSRef</code> that
specifies the file that you wish to open. </p></dd>
<dt><em>iOpenForWrite</em></dt>
<dd><p>A flag indicating whether the profile file
is read/write or read-only. Pass <code>true</code> to
allow read/write access. This is necessary if the profile is going
to be editable. </p></dd>
<dt><em>oProfile</em></dt>
<dd><p>On return, a pointer to a reference to the
open font profile. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure. Memory Manager errors
indicate that you did not have enough memory available in your heap. <code>FNSProfileOpen</code> may
return File Manager errors.</p>
<h5 class="tight">Discussion</h5>
<p>The function <code>FNSProfileOpenWithFSRef</code> works
similarly to the function <code><a href="reference.html#//apple_ref/doc/c_ref/FNSProfileOpen">FNSProfileOpen</a></code>, <code>FNSProfileOpenWithFSRef</code> uses
an <code>FSRef</code> instead of an <code>FSSpec</code>.
An <code>FSSpec</code> cannot handle Unicode
names that are too long, as long names are truncated. In addition,
an <code>FSSpec</code> cannot be shared
between processes since an <code>FSSpec</code> references
volume IDs which are different between different processes.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib 1.0.</li><li class="availability">Available in Mac OS X 10.1 and later</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileRemoveIndReference" title="FNSProfileRemoveIndReference"></a><a name="//apple_ref/doc/c_ref/FNSProfileRemoveIndReference" title="FNSProfileRemoveIndReference"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11533" title="FNSProfileRemoveIndReference"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_19"></a><h3 class="tight">FNSProfileRemoveIndReference</h3>
<p class="spaceabove">Deletes an indexed font reference from a profile.</p>
<p class="spaceabove"><pre>
OSStatus FNSProfileRemoveIndReference (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile,
   UInt32 iIndex
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A reference to the font profile whose indexed
font reference you want to delete. The profile must be writable. </p></dd>
<dt><em>iIndex</em></dt>
<dd><p>An index into the list of font references
in the profile. Pass a value between 0 and one less than the number
of references in the profile, returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileCountReferences">FNSProfileCountReferences</a></code>.
Note that this will change the indices of all succeeding references. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure. The result code <code>permErr</code> indicates
that a specified file is locked and not writable. The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported format version. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>inputOutOfBounds</code> indicates
that the specified index was out of range. The File Manager error <code>permErr</code> indicates
that the file is either locked and not editable or opened for read-only
access. <code>FNSProfileRemoveIndReference</code> may
return other File Manager errors. Memory Manager errors indicate
that you did not have enough memory available in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileRemoveIndReference</code> function
deletes an indexed font reference from an editable profile. The
reference must be identical to the reference specified in the <code>iReference</code> parameter.
A matching reference is not enough, since not all the data in a
font reference is examined when a matching operation is performed.</p>
<p>You can use either <code>FNSProfileRemoveIndReference</code> or
the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileRemoveReference">FNSProfileRemoveReference</a></code> to
remove a font reference, depending upon what you know about the
reference. If you know its value, call <code><a href="reference.html#//apple_ref/c/func/FNSProfileRemoveReference">FNSProfileRemoveReference</a></code>. If you know
its index in the list of font references, call <code>FNSProfileRemoveIndReference</code>. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSProfileRemoveReference" title="FNSProfileRemoveReference"></a><a name="//apple_ref/doc/c_ref/FNSProfileRemoveReference" title="FNSProfileRemoveReference"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11534" title="FNSProfileRemoveReference"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_20"></a><h3 class="tight">FNSProfileRemoveReference</h3>
<p class="spaceabove">Deletes a font reference from a profile. </p>
<p class="spaceabove"><pre>
OSStatus FNSProfileRemoveReference (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontProfile">FNSFontProfile</a> iProfile,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iProfile</em></dt>
<dd><p>A reference to the font profile whose font
reference you want to delete. The profile must be writable. </p></dd>
<dt><em>iReference</em></dt>
<dd><p>A reference to the font reference you wish
to remove. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadProfileVersionErr</code> indicates
that a font profile has an unsupported format version. This may
indicate that the profile is valid, but created by a later version
of FontSync, or that the profile is truly invalid. The result code <code>kFNSInvalidProfileErr</code> indicates
that a profile does not have a valid structure. The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported format version. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSMismatchErr</code> indicates
that the reference you wish to remove is not in the profile. The
File Manager error <code>permErr</code> indicates
that the file is either locked and not editable or opened for read-only
access. <code>FNSProfileRemoveReference</code> may return
other File Manager errors. Memory Manager errors indicate that you did
not have enough memory available in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSProfileRemoveReference</code> function
deletes a font reference from an editable profile. The reference
must be identical to the reference specified in the <code>iReference</code> parameter.
A matching reference is not necessarily identical, since not all
the data in a font reference is examined when a matching operation
is performed.</p>
<p>You can use either <code>FNSProfileRemoveReference</code> or
the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileRemoveIndReference">FNSProfileRemoveIndReference</a></code> to
remove a font reference, depending upon what you know about the
reference. If you know the value of the reference, call <code>FNSProfileRemoveReference</code>.
If you know its index in the list of font references, call <code><a href="reference.html#//apple_ref/c/func/FNSProfileRemoveIndReference">FNSProfileRemoveIndReference</a></code>. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceCountNames" title="FNSReferenceCountNames"></a><a name="//apple_ref/doc/c_ref/FNSReferenceCountNames" title="FNSReferenceCountNames"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11535" title="FNSReferenceCountNames"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_21"></a><h3 class="tight">FNSReferenceCountNames</h3>
<p class="spaceabove">Determines the number of internal font names in a reference.</p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceCountNames (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> *oNameCount
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>A reference to the font reference whose font
names you wish to count. </p></dd>
<dt><em>oNameCount</em></dt>
<dd><p>On return, a pointer to the number of internal
font names, other than the font family name passed to the <code>GetFNum</code> function,
recorded in the reference. The font family passed to the function <code>GetFNum</code> is
available by calling the function <code>GetFamilyInfo</code>.
This includes the PostScript and unique names, if available. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported version number. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSInsufficientDataErr</code> indicates
that the mask constant <code>kFNSMissingDataNoMatch</code> was
set and both references being compared are missing the same data.
The result code <code>kFNSMismatchErr</code> indicates
that no font names were recorded in the reference.</p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceCreate" title="FNSReferenceCreate"></a><a name="//apple_ref/doc/c_ref/FNSReferenceCreate" title="FNSReferenceCreate"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11536" title="FNSReferenceCreate"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_22"></a><h3 class="tight">FNSReferenceCreate</h3>
<p class="spaceabove">Creates a font reference based on a font object. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceCreate (
   <a href="../../ATS/Reference/reference.html#//apple_ref/doc/c_ref/FMFont" target="_top">FMFont</a> iFont,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> iDesiredVersion,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> *oReference
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iFont</em></dt>
<dd><p>The font object ID representing the font whose
reference you wish to create. </p></dd>
<dt><em>iDesiredVersion</em></dt>
<dd><p>The desired font reference format version
number. Pass a value between the oldest and current format version
numbers supported by the FontSync library. You can determine this
range by examining the <code>oCurRefVersion</code> and <code>oMinRefVersion</code> fields
of the <code><a href="reference.html#//apple_ref/c/tdef/FNSSysInfo">FNSSysInfo</a></code> structure.
This structure is passed back in the <code>ioInfo</code> parameter
of the function <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code>.
To specify the most recent version supported by the FontSync library
regardless of format version, pass the constant <code>kFNSVersionDontCare</code>,
described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants.”</a></span> </p></dd>
<dt><em>oReference</em></dt>
<dd><p>On return, a pointer to a reference to the
newly-created FontSync reference. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that you requested an unsupported reference format version. The
Font Manager result code <code>kFMInvalidFontErr</code> indicates
that a font is invalid. Memory Manager errors indicate that a font reference
could not be created because you did not have enough memory available
in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>You should call the <code>FNSReferenceCreate</code> function
to create a font reference if your application uses ATSUI to render
text. If the specified font object is associated with a font family,
the newly-created font reference will contain the QuickDraw Text-specific information
from that associated family. </p>
<p>The <code>FNSReferenceCreate</code> function
requires that you specify the desired font reference format version
because there will likely be changes to the nature of the &#8220;fingerprints&#8221;
in a font reference in future versions. This allows earlier versions
of FontSync to use the font references you create. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. In FontSync 1.0, a
font object can only belong to one family. FontSync uses the family
returned by the Font Manager function <code>FMGetFontFamilyInstanceFromFont</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceCreateFromFamily" title="FNSReferenceCreateFromFamily"></a><a name="//apple_ref/doc/c_ref/FNSReferenceCreateFromFamily" title="FNSReferenceCreateFromFamily"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11537" title="FNSReferenceCreateFromFamily"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_23"></a><h3 class="tight">FNSReferenceCreateFromFamily</h3>
<p class="spaceabove">Creates a font reference based on a font family and style. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceCreateFromFamily (
   <a href="../../ATS/Reference/reference.html#//apple_ref/doc/c_ref/FMFontFamily" target="_top">FMFontFamily</a> iFamily,
   <a href="../../ATS/Reference/reference.html#//apple_ref/doc/c_ref/FMFontStyle" target="_top">FMFontStyle</a> iStyle,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> iDesiredVersion,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> *oReference,
   <a href="../../ATS/Reference/reference.html#//apple_ref/doc/c_ref/FMFontStyle" target="_top">FMFontStyle</a> *oActualStyle
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iFamily</em></dt>
<dd><p>The font family of the font whose reference
you wish to create. </p></dd>
<dt><em>iStyle</em></dt>
<dd><p>The style of the font family. This value is
often not the actual style of the font reference being created,
since there are often left-over style bits. The actual style of
the newly-created font reference is passed back in the <code>oActualStyle</code> parameter.
For more information, see the discussion. </p></dd>
<dt><em>iDesiredVersion</em></dt>
<dd><p>The desired format version of the font reference.
Pass a value in the range returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code> in the <code>oCurRefVersion</code> and <code>oMinRefVersion</code> fields
of the system information structure. To specify the most recent
version supported by the FontSync library regardless of format version,
pass the constant <code>kFNSVersionDontCare</code>,
described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants.”</a></span> </p></dd>
<dt><em>oReference</em></dt>
<dd><p>On return, a pointer to a reference to the
newly-created FontSync reference. </p></dd>
<dt><em>oActualStyle</em></dt>
<dd><p>On return, a pointer to the actual style of
the newly-created font reference. This value may differ from the
value you passed in the <code>iStyle</code> parameter. For
more information, see the discussion. This value may be <code>NULL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that you requested an unsupported reference format version. The
Font Manager result code <code>kFMInvalidFontFamilyErr</code> indicates
that a font family is invalid. Memory Manager errors indicate that
a font reference could not be created because you did not have enough
memory available in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>You should call the <code>FNSReferenceCreateFromFamily</code> function
to create a font reference if your application uses QuickDraw Text
to render text. </p>
<p>The style you specify in the <code>iStyle</code> parameter
is often not the actual style of the font reference being created,
since there may not be a real face corresponding to that style.
For example, a family may not have a real italic face, so any italicization
is handled by skewing the glyphs. The actual style of the newly-created
font reference is passed back in the <code>oActualStyle</code> parameter. </p>
<p>The <code>FNSReferenceCreateFromFamily</code> function
requires that you specify the desired font reference format version
because there will likely be changes to the nature of the &#8220;fingerprints&#8221;
in a font reference in future versions. This allows earlier versions
of FontSync to use the font references you create. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceDispose" title="FNSReferenceDispose"></a><a name="//apple_ref/doc/c_ref/FNSReferenceDispose" title="FNSReferenceDispose"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11538" title="FNSReferenceDispose"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_24"></a><h3 class="tight">FNSReferenceDispose</h3>
<p class="spaceabove">Disposes of the storage associated with a font reference.</p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceDispose (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>A pointer to the font reference whose associated
memory you wish to dispose of. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported format version. This may
indicate that the font reference is valid, but created by a later
version of FontSync, or that the reference is truly invalid. The
result code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. Memory Manager errors indicate
that you did not have enough memory available in your heap.</p>
<h5 class="tight">Special Considerations</h5>
<p>You should not use a font reference after calling the <code>FNSReferenceDispose</code> function
to dispose of its storage. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceFindName" title="FNSReferenceFindName"></a><a name="//apple_ref/doc/c_ref/FNSReferenceFindName" title="FNSReferenceFindName"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11539" title="FNSReferenceFindName"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_25"></a><h3 class="tight">FNSReferenceFindName</h3>
<p class="spaceabove">Finds the first name that matches the given font name
parameters, if any. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceFindName (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <!--a-->FontNameCode<!--/a--> iFontNameCode,
   <!--a-->FontPlatformCode<!--/a--> iFontNamePlatform,
   <!--a-->FontScriptCode<!--/a--> iFontNameScript,
   <!--a-->FontLanguageCode<!--/a--> iFontNameLanguage,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> iMaximumNameLength,
   <!--a-->Ptr<!--/a--> oName,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> *oActualNameLength,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> *oFontNameIndex
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>A reference to the font reference whose font
name you are searching for. </p></dd>
<dt><em>iFontNameCode</em></dt>
<dd><p>The type of the font name string you are searching
for. </p></dd>
<dt><em>iFontNamePlatform</em></dt>
<dd><p>The encoding of the font name string you are
searching for. You can pass the <code>kFontNoPlatform</code> constant
if you do not care about the encoding of a font name. In this case, <code>FNSReferenceFindName</code> will
pass back the first name matching the other font name parameters. </p></dd>
<dt><em>iFontNameScript</em></dt>
<dd><p>The script code of the font name string you
are searching for. You can pass the <code>kFontNoScript</code> constant
if you do not care about the script ID. In this case, <code>FNSReferenceFindName</code> will
pass back the first name matching the other font name parameters. </p></dd>
<dt><em>iFontNameLanguage</em></dt>
<dd><p>The language code of the font name string
you are searching for. You can pass the <code>kFontNoLanguage</code> constant
if you do not care about the language of the font name. In this
case, <code>FNSReferenceFindName</code> will
pass back the first name matching the other font name parameters. </p></dd>
<dt><em>iMaximumNameLength</em></dt>
<dd><p>The maximum length of the font name. Typically,
this is equivalent to the size of the buffer allocated to contain
the font name pointed to by the <code>oName</code> parameter.
To determine this length, see the discussion below. </p></dd>
<dt><em>oName</em></dt>
<dd><p>A pointer to a buffer. Before calling <code>FNSReferenceFindName</code>,
pass a pointer to memory that you have allocated for this buffer.
On return, the buffer contains the font name string. If the buffer
you allocate is not large enough, <code>FNSReferenceFindName</code> passes
back a partial string. </p></dd>
<dt><em>oActualNameLength</em></dt>
<dd><p>On return, a pointer to the actual length
of the font name string. This may be greater than the value passed
in the <code>iMaximumNameLength</code> parameter.
You should check this value to make sure that you allocated enough
memory for the buffer.</p></dd>
<dt><em>oFontNameIndex</em></dt>
<dd><p>On return, a pointer to a 0-based index of
the font name in the font name table. This can be used with the
function <code><a href="reference.html#//apple_ref/c/func/FNSReferenceGetIndName">FNSReferenceGetIndName</a></code> to determine
the actual values of unknown font name parameters. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported version number. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSInsufficientDataErr</code> indicates
that the mask constant <code>kFNSMissingDataNoMatch</code> was
set and both references being compared are missing the same data.
The result code <code>kFNSNameNotFoundErr</code> indicates
that there was no name in the font reference that matched the given
parameters.</p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceFlatten" title="FNSReferenceFlatten"></a><a name="//apple_ref/doc/c_ref/FNSReferenceFlatten" title="FNSReferenceFlatten"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11540" title="FNSReferenceFlatten"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_26"></a><h3 class="tight">FNSReferenceFlatten</h3>
<p class="spaceabove">Flattens a font reference.</p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceFlatten (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   void *oFlatReference,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> *oFlattenedSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>The font reference that you want to flatten. </p></dd>
<dt><em>oFlatReference</em></dt>
<dd><p>A pointer to the storage for the font reference
to be flattened. Pass a <code>NULL</code> pointer
if you wish to determine the size of the flattened reference without actually
creating it.</p></dd>
<dt><em>oFlattenedSize</em></dt>
<dd><p>On return, a pointer to the flattened size
(in bytes) of the font reference. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported format version. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSReferenceFlatten</code> function
flattens a font reference into a form which can be stored externally
(for example, in a document or embedded in an Apple event), and
returns the size of the flattened reference in the <code>oFlattenedSize</code> parameter. <code>FNSReferenceFlatten</code> assumes
that the storage pointed to by <code>iFlatReference</code> is
large enough to hold the data and will always contain a full flattened
reference. </p>
<p>If you simply want to calculate the size of a flattened reference,
you can pass a <code>NULL</code> pointer in
the <code>iFlatReference</code> parameter
or call the function <code><a href="reference.html#//apple_ref/c/func/FNSReferenceFlattenedSize">FNSReferenceFlattenedSize</a></code>. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceFlattenedSize" title="FNSReferenceFlattenedSize"></a><a name="//apple_ref/doc/c_ref/FNSReferenceFlattenedSize" title="FNSReferenceFlattenedSize"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11541" title="FNSReferenceFlattenedSize"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_27"></a><h3 class="tight">FNSReferenceFlattenedSize</h3>
<p class="spaceabove">Calculates the space required for the flattened form of
a font reference. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceFlattenedSize (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> *oFlattenedSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>The font reference whose flattened form you
wish to compute. </p></dd>
<dt><em>oFlattenedSize</em></dt>
<dd><p>On return, a pointer to the flattened size
(in bytes) of the font reference. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that the font reference has an unsupported format version. This
may indicate that the reference is valid, but created by a later
version of FontSync, or that the reference is truly invalid. The
result code <code>kFNSInvalidReferenceErr</code> indicates
that the font reference is invalid.</p>
<h5 class="tight">Discussion</h5>
<p>You can call the <code>FNSReferenceFlattenedSize</code> function
to calculate the size of a flattened reference. You can also accomplish
this by passing a <code>NULL</code> pointer
in the <code>iFlatReference</code> parameter
of the function <code><a href="reference.html#//apple_ref/c/func/FNSReferenceFlatten">FNSReferenceFlatten</a></code>. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceGetFamilyInfo" title="FNSReferenceGetFamilyInfo"></a><a name="//apple_ref/doc/c_ref/FNSReferenceGetFamilyInfo" title="FNSReferenceGetFamilyInfo"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11542" title="FNSReferenceGetFamilyInfo"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_28"></a><h3 class="tight">FNSReferenceGetFamilyInfo</h3>
<p class="spaceabove">Obtains information about a font family represented by
a font reference.</p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceGetFamilyInfo (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> oFamilyName,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> *oFamilyNameScript,
   <a href="../../ATS/Reference/reference.html#//apple_ref/doc/c_ref/FMFontStyle" target="_top">FMFontStyle</a> *oActualStyle
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>A reference to the font reference representing
a font family. </p></dd>
<dt><em>oFamilyName</em></dt>
<dd><p>On return, the name by which the font is known
to the classic Font Manager (that is, the string you pass to the
Font Manager function <code>GetFNum</code>).
If you do not want to obtain this information, pass <code>NULL</code>. </p></dd>
<dt><em>oFamilyNameScript</em></dt>
<dd><p>On return, a pointer to the script code of
the family name string. If you do not want to obtain this information,
pass <code>NULL</code>. </p></dd>
<dt><em>oActualStyle</em></dt>
<dd><p>On return, a pointer to the actual QuickDraw
style associated with the font reference. This is the value passed
back in the <code>oActualStyle</code> parameter
of the function <code><a href="reference.html#//apple_ref/c/func/FNSReferenceCreateFromFamily">FNSReferenceCreateFromFamily</a></code>.
If you do not want to obtain this information, pass <code>NULL</code>.
For more information, see the discussion of <code><a href="reference.html#//apple_ref/c/func/FNSReferenceCreateFromFamily">FNSReferenceCreateFromFamily</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported version number. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSInsufficientDataErr</code> indicates
that the mask constant <code>kFNSMissingDataNoMatch</code> was
set and both references being compared are missing the same data.
The result code <code>kFNSMismatchErr</code> indicates
that no font names were recorded in the reference.</p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceGetIndName" title="FNSReferenceGetIndName"></a><a name="//apple_ref/doc/c_ref/FNSReferenceGetIndName" title="FNSReferenceGetIndName"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11543" title="FNSReferenceGetIndName"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_29"></a><h3 class="tight">FNSReferenceGetIndName</h3>
<p class="spaceabove">Finds the font name string and other font name parameters
for an indexed font name. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceGetIndName (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> iFontNameIndex,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> iMaximumNameLength,
   <!--a-->Ptr<!--/a--> oName,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> *oActualNameLength,
   <!--a-->FontNameCode<!--/a--> *oFontNameCode,
   <!--a-->FontPlatformCode<!--/a--> *oFontNamePlatform,
   <!--a-->FontScriptCode<!--/a--> *oFontNameScript,
   <!--a-->FontLanguageCode<!--/a--> *oFontNameLanguage
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>A reference to the font reference whose indexed
font name you want information about. </p></dd>
<dt><em>iFontNameIndex</em></dt>
<dd><p>An index of the font name you want information
about. Pass a value between 0 and one less than the count passed
back by the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileCountReferences">FNSProfileCountReferences</a></code>. </p></dd>
<dt><em>iMaximumNameLength</em></dt>
<dd><p>The maximum length of the font name. Typically,
this is equivalent to the size of the buffer allocated to contain
the font name pointed to by the <code>oName</code> parameter.
To determine this length, see the discussion below. </p></dd>
<dt><em>oName</em></dt>
<dd><p>A pointer to a buffer. Before calling <code>FNSReferenceGetIndName</code>,
pass a pointer to memory that you have allocated for this buffer.
If you are uncertain of how much memory to allocate, see the discussion
below. On return, the buffer contains the font name string. If the
buffer you allocate is not large enough, <code>FNSReferenceGetIndName</code> passes
back a partial string. </p></dd>
<dt><em>oActualNameLength</em></dt>
<dd><p>On return, a pointer to the actual length
of the font name string. This may be greater than the value passed
in the <code>iMaximumNameLength</code> parameter.
You should check this value to make sure that you allocated enough
memory for the buffer.</p></dd>
<dt><em>oFontNameCode</em></dt>
<dd><p>On return, a pointer to the type of the font
name string. </p></dd>
<dt><em>oFontNamePlatform</em></dt>
<dd><p>On return, a pointer to the encoding of the
font name string. </p></dd>
<dt><em>oFontNameScript</em></dt>
<dd><p>On return, a pointer to the script ID of the
font name string. </p></dd>
<dt><em>oFontNameLanguage</em></dt>
<dd><p>On return, a pointer to the language of the
font name string. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported version number. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSInsufficientDataErr</code> indicates
that the mask constant <code>kFNSMissingDataNoMatch</code> was
set and both references being compared are missing the same data.
The result code <code>inputOutOfBounds</code> indicates
that the specified index was out of range.</p>
<h5 class="tight">Discussion</h5>
<p>You should call the <code>FNSReferenceGetIndName</code> function
to iterate through the entries of a font name table to find the
font name string, name code, language code, script code, and platform
code of an indexed font name.</p>
<p>The best way to use <code>FNSReferenceGetIndName</code> is
to call it twice: </p>
<ul class="ul"><li class="li"><p>Pass the reference of the font whose name table
you want to iterate in the <code>iReference</code> parameter, <code>NULL</code> for
the <code>oName</code> parameter,
and 0 for the other parameters. <code>FNSReferenceGetIndName</code> returns
the length of the font name string in the <code>oActualNameLength</code> parameter. </p></li>
<li class="li"><p> Allocate enough space for a font name buffer of the returned
size, then call the function again, passing a pointer in the <code>oName</code> parameter;
on return, the pointer references the font name string. </p></li></ul>
<p>To find the index and font name of the first font in a name
table matching given font name parameters, call the function <code><a href="reference.html#//apple_ref/c/func/FNSReferenceFindName">FNSReferenceFindName</a></code>. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceGetVersion" title="FNSReferenceGetVersion"></a><a name="//apple_ref/doc/c_ref/FNSReferenceGetVersion" title="FNSReferenceGetVersion"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F14274" title="FNSReferenceGetVersion"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_30"></a><h3 class="tight">FNSReferenceGetVersion</h3>
<p class="spaceabove">Indicates the format version number of a font reference.</p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceGetVersion (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> *oVersion
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>The font reference whose format version number
you wish to determine. </p></dd>
<dt><em>oVersion</em></dt>
<dd><p>On return, a pointer to the format version
number of the specified font reference. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSInvalidReferenceErr</code> indicates
that the font reference is invalid.</p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceMatch" title="FNSReferenceMatch"></a><a name="//apple_ref/doc/c_ref/FNSReferenceMatch" title="FNSReferenceMatch"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11544" title="FNSReferenceMatch"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_31"></a><h3 class="tight">FNSReferenceMatch</h3>
<p class="spaceabove">Compares font references using specified matching options. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceMatch (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference1,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference2,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSMatchOptions">FNSMatchOptions</a> iOptions,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSMatchOptions">FNSMatchOptions</a> *oFailedMatchOptions
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference1</em></dt>
<dd><p>A font reference whose contents you wish to
compare to the font reference in the <code>iReference2</code> parameter. </p></dd>
<dt><em>iReference2</em></dt>
<dd><p>A font reference whose contents you wish to
compare to the font reference in the <code>iReference1</code>parameter.</p></dd>
<dt><em>iOptions</em></dt>
<dd><p>A bit mask you can use to set the match option
bits to be used in the font comparison. To specify the global default
match criteria, pass the bit mask returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSMatchDefaultsGet">FNSMatchDefaultsGet</a></code>.
Your application can specify options that are different from the
user&#8217;s preferences via this mask. </p></dd>
<dt><em>oFailedMatchOptions</em></dt>
<dd><p>Before calling <code>FNSReferenceMatch</code>,
pass <code>NULL</code> if you do not
desire to know which match options failed. On return, a pointer
to a bit mask that you can test to determine the match options that
failed to match in the event of a mismatch.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported format version. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSMismatchErr</code> indicates
that a font reference did not match. The result code <code>kFNSInsufficientDataErr</code> indicates that
the mask constant <code>kFNSMissingDataNoMatch</code> was
set and both references being compared are missing the same data.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSReferenceMatch</code> function
returns a bit mask indicating the matching options that did not
match when comparing two font references. You should specify which
match options you wish to compare in the <code>iOptions</code> parameter.
To specify the default match criteria, pass the bit mask returned
by the function <code><a href="reference.html#//apple_ref/c/func/FNSMatchDefaultsGet">FNSMatchDefaultsGet</a></code>.
If the match fails, on return, the <code>oFailedMatchOptions</code> parameter
contains a bit mask of the elements that failed to match. You can
use the bit mask to determine the criteria under which the fonts failed
to match. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceMatchFamilies" title="FNSReferenceMatchFamilies"></a><a name="//apple_ref/doc/c_ref/FNSReferenceMatchFamilies" title="FNSReferenceMatchFamilies"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11545" title="FNSReferenceMatchFamilies"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_32"></a><h3 class="tight">FNSReferenceMatchFamilies</h3>
<p class="spaceabove">Obtains a list of font families that match a reference. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceMatchFamilies (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSMatchOptions">FNSMatchOptions</a> iMatchOptions,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> iOutputSize,
   <a href="../../ATS/Reference/reference.html#//apple_ref/doc/c_ref/FMFontFamilyInstance" target="_top">FMFontFamilyInstance</a> oFonts[],
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> *oNumMatches
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>A reference to the font reference whose matching
font(s) you wish to determine. </p></dd>
<dt><em>iMatchOptions</em></dt>
<dd><p>A bit mask you can use to set the matching
option bits to be used in the comparison. To specify the global
default match criteria, pass the bit mask returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSMatchDefaultsGet">FNSMatchDefaultsGet</a></code>.
The total number of matching references is passed back in the <code>oNumMatches</code> parameter.
Your application can specify options that are different from the
user&#8217;s preferences via this mask. </p></dd>
<dt><em>iOutputSize</em></dt>
<dd><p>The capacity of the <code>oFonts</code> array.
This may be less than the actual number of matches passed back in
the <code>oNumMatches</code> parameter. </p></dd>
<dt><em>oFonts</em></dt>
<dd><p>On return, a pointer to an array of indices
identifying the fonts matching the specified reference. The number
of indices returned is limited by the value you specify in the <code>iOutputSize</code> parameter. </p></dd>
<dt><em>oNumMatches</em></dt>
<dd><p>On return, a pointer to the total number of
font families that match the specified reference. This value may
be greater than the number of fonts passed back in the <code>oFonts</code> array.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported version number. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSMismatchErr</code> indicates
that no matches were found. Memory Manager errors indicate that
you did not have enough memory available in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSReferenceMatchFamilies</code> function
maps a font reference to an active font that can be used with QuickDraw
Text. Since there may be more than one such font, a list is returned.</p>
<p>The number of fonts passed back in the <code>oFonts</code> array
is limited by the value you specify in the <code>iOutputSize</code> parameter.
The actual number of matches is passed back in the <code>oNumMatches</code> parameter.
You can check this value to determine whether the <code>oFonts</code> array was
large enough to contain the matches.</p>
<p>If <code>FNSReferenceMatchFamilies</code> cannot
find a font family that matches a font reference and someone has
registered interest in this process, FontSync sends an Apple Event
with the details of the request to the third party font-management
utility in question. For more information, see the discussion for
the function <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatchFonts">FNSReferenceMatchFonts</a></code>.</p>
<p>If you want to determine whether the profile has a matching
font, but don&#8217;t care which one, pass 0 for the <code>iOutputSize</code> parameter
and <code>NULL</code> for the <code>oNumMatches</code> parameter.
The result code <code>noErr</code> indicates
that matches were found, while the result code <code>kFNSMismatchErr</code> indicates
that no matches were found.</p>
<p>To determine the number of matches, call <code>FNSReferenceMatchFamilies</code> and
pass 0 for the <code>iOutputSize</code> parameter.
The pointer passed back in the <code>oNumMatches</code> parameter
will point to the actual number of matches. You can then call <code>FNSReferenceMatchFamilies</code> again, passing
the returned number of matches in the <code>iOutputSize</code> parameter. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceMatchFonts" title="FNSReferenceMatchFonts"></a><a name="//apple_ref/doc/c_ref/FNSReferenceMatchFonts" title="FNSReferenceMatchFonts"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11546" title="FNSReferenceMatchFonts"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_33"></a><h3 class="tight">FNSReferenceMatchFonts</h3>
<p class="spaceabove">Obtains a list of font objects that match a reference. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceMatchFonts (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> iReference,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSMatchOptions">FNSMatchOptions</a> iMatchOptions,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> iOutputSize,
   <a href="../../ATS/Reference/reference.html#//apple_ref/doc/c_ref/FMFont" target="_top">FMFont</a> oFonts[],
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> *oNumMatches
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iReference</em></dt>
<dd><p>A reference to the font reference whose matching
font(s) you wish to determine. </p></dd>
<dt><em>iMatchOptions</em></dt>
<dd><p>A bit mask you can use to set the matching
option bits to be used in the comparison. To specify the global
default match criteria, pass the bit mask returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSMatchDefaultsGet">FNSMatchDefaultsGet</a></code>.
The total number of matching references is passed back in the <code>oNumMatches</code> parameter.
Your application can specify options that are different from the
user&#8217;s preferences via this mask. </p></dd>
<dt><em>iOutputSize</em></dt>
<dd><p>The capacity of the <code>oFonts</code> array.
This may be less than the actual number of matches passed back in
the <code>oNumMatches</code> parameter. </p></dd>
<dt><em>oFonts</em></dt>
<dd><p>On return, a pointer to an array of indices
identifying the fonts matching the specified reference. The number
of indices returned is limited by the value you specify in the <code>iOutputSize</code> parameter. </p></dd>
<dt><em>oNumMatches</em></dt>
<dd><p>On return, a pointer to the total number of
font objects that match the specified reference. This value may
be greater than the number of fonts passed back in the <code>oFonts</code> array. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported format version number.
This may indicate that the reference is valid, but created by a
later version of FontSync, or that the reference is truly invalid.
The result code <code>kFNSInvalidReferenceErr</code> indicates
that a font reference is invalid. The result code <code>kFNSMismatchErr</code> indicates
that no matches were found. Memory Manager errors indicate that
you did not have enough memory available in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSReferenceMatchFonts</code> function
passes back a list of active fonts which match the specified reference. <code>FNSReferenceMatchFonts</code> maps
a font reference to an actual font that can be used with ATSUI.
Since there may be more than one such font, a list is returned. </p>
<p>The number of fonts passed back in the <code>oFonts</code> array
is limited by the value you specify in the <code>iOutputSize</code> parameter.
The actual number of matches is passed back in the <code>oNumMatches</code> parameter.
You can check this value to determine whether the <code>oFonts</code> array was
large enough to contain the matches.</p>
<p>If you want to determine whether the profile has a matching
font, but don&#8217;t care which one, pass 0 for the <code>iOutputSize</code> parameter
and <code>NULL</code> for the <code>oNumMatches</code> parameter.
The result code <code>noErr</code> indicates
that matches were found, while the result code <code>kFNSMismatchErr</code> indicates
that no matches were found.</p>
<p>To determine the number of matches, call <code>FNSReferenceMatchFonts</code> and
pass 0 for the <code>iOutputSize</code> parameter.
The pointer passed back in the <code>oNumMatches</code> parameter
will point to the actual number of matches. You can then call <code>FNSReferenceMatchFonts</code> again,
passing the returned number of matches in the <code>iOutputSize</code> parameter. </p>
<p>If <code>FNSReferenceMatchFonts</code> cannot
find an active font that matches a font reference and your application
has registered interest in this process, FontSync sends an Apple
Event with the details of the request to the third party font-management
utility in question. The receiver should respond with a list of
matching fonts, taking whatever steps are necessary to identify
and activate them before replying to the event. Registration is
handled by the simple expedient of installing a handler for the
appropriate Apple Event. This handler will typically be installed
in the system table, though FontSync will check for handlers both
in the system and in the context&#8217;s local handler table. The Apple
Event will be a send-to-self. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSReferenceUnflatten" title="FNSReferenceUnflatten"></a><a name="//apple_ref/doc/c_ref/FNSReferenceUnflatten" title="FNSReferenceUnflatten"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F11547" title="FNSReferenceUnflatten"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_34"></a><h3 class="tight">FNSReferenceUnflatten</h3>
<p class="spaceabove">Reconstitutes a flattened font reference. </p>
<p class="spaceabove"><pre>
OSStatus FNSReferenceUnflatten (
   const void *iFlatReference,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> iFlattenedSize,
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFontReference">FNSFontReference</a> *oReference
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>iFlatReference</em></dt>
<dd><p>A pointer to the flattened font reference.</p></dd>
<dt><em>iFlattenedSize</em></dt>
<dd><p>The size (in bytes) of the flattened font
reference. </p></dd>
<dt><em>oReference</em></dt>
<dd><p>On return, a pointer to a reference to the
reconstituted font reference. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result
code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH4g-RCM0135">“FontSync Result Codes.”</a></span> The result code <code>kFNSBadReferenceVersionErr</code> indicates
that a font reference has an unsupported format version. This may
indicate that the reference is valid, but created by a later version
of FontSync, or that the reference is truly invalid. The result
code <code>kFNSBadFlattenedSizeErr</code> indicates
that either the specified size doesn&#8217;t match the size recorded
in the flattened reference or the size was not large enough to hold
a flattened reference. The result code <code>kFNSInvalidReferenceErr</code> indicates
that a reconstructed reference is bad. Memory Manager errors indicate
that you did not have enough memory available in your heap.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSReferenceUnflatten</code> function
reconstitutes a flattened font reference from its external form.
For example, you could use <code>FNSReferenceUnflatten</code> to
read a font reference out of a document. The <code>iFlattenedSize</code> parameter
is not really necessary since a flattened reference contains its
own size. However, you can use this value to check that you have passed
the right amount of data for the flattened reference. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/c/func/FNSSysInfoGet" title="FNSSysInfoGet"></a><a name="//apple_ref/doc/c_ref/FNSSysInfoGet" title="FNSSysInfoGet"></a><a name="//apple_ref/doc/uid/TP40000870-CH1g-F14275" title="FNSSysInfoGet"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH1g-DontLinkElementID_35"></a><h3 class="tight">FNSSysInfoGet</h3>
<p class="spaceabove">Determines version and feature information for the version
of FontSync installed on the user&#8217;s system. </p>
<p class="spaceabove"><pre>
void FNSSysInfoGet (
   <a href="reference.html#//apple_ref/doc/c_ref/FNSSysInfo">FNSSysInfo</a> *ioInfo
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ioInfo</em></dt>
<dd><p>Before calling the <code>FNSSysInfoGet</code> function,
pass a pointer to a <code><a href="reference.html#//apple_ref/c/tdef/FNSSysInfo">FNSSysInfo</a></code> structure.
Fill in the <code>iSysInfoVersion</code> field
of the structure with the version of this structure. Pass the constant <code>kFNSCurSysInfoVersion</code>,
described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants,”</a></span> to represent the current version. On return, <code>FNSSysInfoGet</code> fills
in the remaining fields and passes back a pointer to the structure. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Before calling the <code>FNSSysInfoGet</code> function,
you should fill in the <code>iSysInfoVersion</code> field
of the <code><a href="reference.html#//apple_ref/c/tdef/FNSSysInfo">FNSSysInfo</a></code> structure
with the version of this structure. Pass the constant <code>kFNSCurSysInfoVersion</code>,
described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants”</a></span> , to represent the current version. <code>FNSSysInfoGet</code> fills
in the remaining fields and passes back the structure in the <code>ioInfo</code> parameter.
The information it provides includes the version of FontSync running
in the current context and available features, as well as the current
and oldest font reference and profile format versions supported
by the FontSync library. </p>
<p>New fields may be added to the end of the structure in future
versions of FontSync. FontSync uses the <code>iSysInfoVersion</code> field
to determine which version of the structure you are using. The value
of the current version constant <code>kFNSCurSysInfoVersion</code> will
change accordingly. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. In FontSync 1.0, the
current structure version is defined by the constant <code>kFNSCurSysInfoVersion</code>,
described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when Font Sync 1.0 or
later is present.</li><li class="availability">Available in Mac OS X 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/doc/uid/TP40000870-CH2g-99025" title="Data Types"></a><a name="//apple_ref/doc/uid/TP40000870-CH2g-TPXREF108" title="Data Types"></a><h2>Data Types</h2>
<a name="//apple_ref/c/tdef/FNSFeatureFlags" title="FNSFeatureFlags"></a><a name="//apple_ref/doc/c_ref/FNSFeatureFlags" title="FNSFeatureFlags"></a><a name="//apple_ref/doc/uid/TP40000870-CH2g-C013168" title="FNSFeatureFlags"></a><a name="//apple_ref/doc/uid/TP40000870-CH2g-DontLinkElementID_36"></a><h3 class="tight">FNSFeatureFlags</h3>
<p class="spaceabove">Represents a mask that you can use to determine available
FontSync features.</p>
<p class="spaceabove"><pre>
typedef UInt32 FNSFeatureFlags;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSFeatureFlags</code> type
defines a bit mask your application can use to determine available
FontSync features. The function <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code> passes
back a mask of this type in the <code>oFeatures</code> field
of the <code><a href="reference.html#//apple_ref/c/tdef/FNSSysInfo">FNSSysInfo</a></code> structure
in the <code>ioInfo</code> parameter.
You can use this mask to determine available FontSync features. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. In FontSync 1.0, the
value is 0, since no feature flags are defined. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>FontSync.h</code>
<a name="//apple_ref/c/tdef/FNSFontProfile" title="FNSFontProfile"></a><a name="//apple_ref/doc/c_ref/FNSFontProfile" title="FNSFontProfile"></a><a name="//apple_ref/doc/uid/TP40000870-CH2g-C007668" title="FNSFontProfile"></a><a name="//apple_ref/doc/uid/TP40000870-CH2g-DontLinkElementID_37"></a><h3 class="tight">FNSFontProfile</h3>
<p class="spaceabove">Represents a reference to a font profile.</p>
<p class="spaceabove"><pre>
typedef struct <!--a-->OpaqueFNSFontProfile<!--/a--> * FNSFontProfile;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSFontProfile</code> type
is a reference to an opaque structure containing a collection of font
references. It defines a set of fonts on the user&#8217;s system. Although
you do not need to use font profiles to iterate, identify, and match
fonts on the user&#8217;s system, they are necessary in building font
menus and other font selection human interface elements. </p>
<p>You pass a font profile to FontSync functions that manipulate
font profiles. A font reference is passed back by functions that
create font profiles. For a description of these functions, see <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH1g-91628">“Working With FontSync Profiles.”</a></span> </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>FontSync.h</code>
<a name="//apple_ref/c/tdef/FNSFontReference" title="FNSFontReference"></a><a name="//apple_ref/doc/c_ref/FNSFontReference" title="FNSFontReference"></a><a name="//apple_ref/doc/uid/TP40000870-CH2g-C007689" title="FNSFontReference"></a><a name="//apple_ref/doc/uid/TP40000870-CH2g-DontLinkElementID_38"></a><h3 class="tight">FNSFontReference</h3>
<p class="spaceabove">Represents a reference to a font reference.</p>
<p class="spaceabove"><pre>
typedef struct <!--a-->OpaqueFNSFontReference<!--/a--> * FNSFontReference;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSFontReference</code> type
is a reference to an opaque structure containing information about
a font. Some of the data contained in a font reference includes
the QuickDraw font family name, ATSUI-visible font name, type of
font, font version, checksums of the data, and information from
the font name table. </p>
<p>You pass a font reference to FontSync functions that manipulate
font references. A font reference is passed back by functions that
create font references. For a description of these functions, see <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000870-CH1g-95582">“Working With FontSync References.”</a></span></p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>FontSync.h</code>
<a name="//apple_ref/c/tdef/FNSSysInfo" title="FNSSysInfo"></a><a name="//apple_ref/doc/c_ref/FNSSysInfo" title="FNSSysInfo"></a><a name="//apple_ref/doc/uid/TP40000870-CH2g-C013114" title="FNSSysInfo"></a>
<a name="//apple_ref/doc/uid/TP40000870-CH2g-DontLinkElementID_39"></a><h3 class="tight">FNSSysInfo</h3>
<p class="spaceabove">Contains FontSync version and feature information. </p>
<p class="spaceabove"><pre>
struct FNSSysInfo {
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> iSysInfoVersion;
   <a href="reference.html#//apple_ref/doc/c_ref/FNSFeatureFlags">FNSFeatureFlags</a> oFeatures;
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> oCurRefVersion;
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> oMinRefVersion;
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> oCurProfileVersion;
   <a href="reference.html#//apple_ref/doc/c_ref/FNSObjectVersion">FNSObjectVersion</a> oMinProfileVersion;
   UInt16 oFontSyncVersion;
};
typedef struct FNSSysInfo FNSSysInfo;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>iSysInfoVersion</code></dt>
<dd><p>On input, the version of this parameter block
structure. In FontSync 1.0, the version number of this structure
is 1. Pass the constant <code>kFNSCurSysInfoVersion</code>,
described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants.”</a></span> For more information, see the discussion. </p></dd>
<dt><code>oFeatures</code></dt>
<dd><p>On output, the FontSync features that are available.
In FontSync 1.0, no feature flags are defined. </p></dd>
<dt><code>oCurRefVersion</code></dt>
<dd><p>On output, the current font reference format version
supported by the FontSync library.</p></dd>
<dt><code>oMinRefVersion</code></dt>
<dd><p>On output, the oldest font reference format version
supported by the FontSync library.</p></dd>
<dt><code>oCurProfileVersion</code></dt>
<dd><p>On output, the current font profile format version
supported by the FontSync library.</p></dd>
<dt><code>oMinProfileVersion</code></dt>
<dd><p>On output, the oldest font profile format version
supported by the FontSync library.</p></dd>
<dt><code>oFontSyncVersion</code></dt>
<dd><p>On output, a binary-coded decimal value indicating
the version of FontSync currently running. The high-order 8 bits
give the major version, the next four give the minor version, and
the last four give the revision. For example, version 1.0 would
be encoded as 0x0100. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Before calling the function <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code>, you should fill in the <code>iSysInfoVersion</code> field
of this structure with the version of this structure. Pass the constant <code>kFNSCurSysInfoVersion</code>, described
in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/FNSObjectVersion">“Version Constants,”</a></span>
to represent the current version. <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code> fills in the remaining
fields and passes back the structure in the <code>ioInfo</code> parameter.
The information it provides includes the version of FontSync running
in the current context and available features, as well as the current
and oldest font reference and profile format versions supported
by the FontSync library. </p>
<p>New fields may be added to the end of the structure in future
versions of FontSync. FontSync uses the <code>iSysInfoVersion</code> field
to determine which version of the structure you are using. The value
of the current version constant <code>kFNSCurSysInfoVersion</code> will
change accordingly. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. In FontSync 1.0, the
value of the <code>iSysInfoVersion</code> field
is 1. The value of the <code>oFeatures</code> field
is 0, since no feature flags are defined. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>FontSync.h</code><a name="//apple_ref/doc/uid/TP40000870-CH3g-99755" title="Constants"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-TPXREF109" title="Constants"></a><h2>Constants</h2>
<a name="//apple_ref/c/tdef/FNSMatchOptions" title="Matching Options" role="Enum"></a><a name="//apple_ref/doc/c_ref/FNSMatchOptions" title="Matching Options" role="Enum"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-C008019" title="Matching Options" role="Enum"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_40"></a><h3 class="tight">Matching Options</h3>
<p class="spaceabove">Represent a mask that you can use to set and determine default match options.</p>
<p class="spaceabove"><pre>
typedef UInt32 FNSMatchOptions;
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchNames">kFNSMatchNames</a> = 0<!--a-->x00000001<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchTechnology">kFNSMatchTechnology</a> = 0<!--a-->x00000002<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchGlyphs">kFNSMatchGlyphs</a> = 0<!--a-->x00000004<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchEncodings">kFNSMatchEncodings</a> = 0<!--a-->x00000008<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchQDMetrics">kFNSMatchQDMetrics</a> = 0<!--a-->x00000010<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchATSUMetrics">kFNSMatchATSUMetrics</a> = 0<!--a-->x00000020<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchKerning">kFNSMatchKerning</a> = 0<!--a-->x00000040<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchWSLayout">kFNSMatchWSLayout</a> = 0<!--a-->x00000080<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchAATLayout">kFNSMatchAATLayout</a> = 0<!--a-->x00000100<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchPrintEncoding">kFNSMatchPrintEncoding</a> = 0<!--a-->x00000200<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMissingDataNoMatch">kFNSMissingDataNoMatch</a> = 0<!--a-->x80000000<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchAll">kFNSMatchAll</a> = 0<!--a-->xFFFFFFFF<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSMatchDefaults">kFNSMatchDefaults</a> = 0
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kFNSMatchNames" title="kFNSMatchNames"></a><a name="//apple_ref/doc/c_ref/kFNSMatchNames" title="kFNSMatchNames"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_41"></a><dt><code>kFNSMatchNames</code></dt>
<dd><p>If the bit specified by this mask is set, all significant font names must match. This includes the QuickDraw Text family, ATSUI, unique, full, manufacturer, and version names. Note that the PostScript names are also examined as part of the <code>kFNSMatchPrintEncoding</code> option. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchTechnology" title="kFNSMatchTechnology"></a><a name="//apple_ref/doc/c_ref/kFNSMatchTechnology" title="kFNSMatchTechnology"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_42"></a><dt><code>kFNSMatchTechnology</code></dt>
<dd><p>If the bit specified by this mask is set, scaler technologies must match. It is possible to match other parts of the font across different technologies, but this is not supported by FontSync 1.0. As a result, even if this bit is not set, fonts of different technologies will probably not match under any other criteria.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchGlyphs" title="kFNSMatchGlyphs"></a><a name="//apple_ref/doc/c_ref/kFNSMatchGlyphs" title="kFNSMatchGlyphs"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_43"></a><dt><code>kFNSMatchGlyphs</code></dt>
<dd><p>If the bit specified by this mask is set, glyph repertoires and outline/bitmap data must match. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchEncodings" title="kFNSMatchEncodings"></a><a name="//apple_ref/doc/c_ref/kFNSMatchEncodings" title="kFNSMatchEncodings"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_44"></a><dt><code>kFNSMatchEncodings</code></dt>
<dd><p>If the bit specified by this mask is set, the <code>'cmap'</code> tables must match. If the order of the <code>'cmap'</code> tables is different, although the tables are the same, this may be considered a mismatch, since it can cause QuickDraw Text to use a different <code>'cmap'table</code>. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchQDMetrics" title="kFNSMatchQDMetrics"></a><a name="//apple_ref/doc/c_ref/kFNSMatchQDMetrics" title="kFNSMatchQDMetrics"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_45"></a><dt><code>kFNSMatchQDMetrics</code></dt>
<dd><p>If the bit specified by this mask is set, metrics used by QuickDraw Text must match. This includes the effect of <code>fractEnable</code> and any metric information in the <code>'FOND'</code> resource.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchATSUMetrics" title="kFNSMatchATSUMetrics"></a><a name="//apple_ref/doc/c_ref/kFNSMatchATSUMetrics" title="kFNSMatchATSUMetrics"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_46"></a><dt><code>kFNSMatchATSUMetrics</code></dt>
<dd><p>If the bit specified by this mask is set, metrics used by ATSUI must match. This includes both horizontal and vertical metrics. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchKerning" title="kFNSMatchKerning"></a><a name="//apple_ref/doc/c_ref/kFNSMatchKerning" title="kFNSMatchKerning"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_47"></a><dt><code>kFNSMatchKerning</code></dt>
<dd><p>If the bit specified by this mask is set, kerning data must match. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchWSLayout" title="kFNSMatchWSLayout"></a><a name="//apple_ref/doc/c_ref/kFNSMatchWSLayout" title="kFNSMatchWSLayout"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_48"></a><dt><code>kFNSMatchWSLayout</code></dt>
<dd><p>If the bit specified by this mask is set, layout information given by an <code>'itl5'</code> table, whether attached directly to the font or the one provided in the script bundle, must match. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchAATLayout" title="kFNSMatchAATLayout"></a><a name="//apple_ref/doc/c_ref/kFNSMatchAATLayout" title="kFNSMatchAATLayout"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_49"></a><dt><code>kFNSMatchAATLayout</code></dt>
<dd><p>If the bit specified by this mask is set, advanced layout information such as that used by ATSUI, must match. This includes such things as ligature and morphing tables. OpenType-style layout information is included in this option.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchPrintEncoding" title="kFNSMatchPrintEncoding"></a><a name="//apple_ref/doc/c_ref/kFNSMatchPrintEncoding" title="kFNSMatchPrintEncoding"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_50"></a><dt><code>kFNSMatchPrintEncoding</code></dt>
<dd><p>If the bit specified by this mask is set, PostScript names and <code>'FOND'</code> re-encoding vectors must match. Note that it is an error for a font’s internal PostScript name to be different from the one in the <code>'FOND'</code>, but FontSync will record both and consider them separately.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMissingDataNoMatch" title="kFNSMissingDataNoMatch"></a><a name="//apple_ref/doc/c_ref/kFNSMissingDataNoMatch" title="kFNSMissingDataNoMatch"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_51"></a><dt><code>kFNSMissingDataNoMatch</code></dt>
<dd><p>If the bit specified by this mask is set, FontSync will report font reference mismatches when both fonts are missing data needed by a selected option. This is useful, since some older fonts may not have all the data needed for matching newer fonts. This makes the mask constant <code>kFNSMatchAll</code> specify the most stringent possible match criteria. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchAll" title="kFNSMatchAll"></a><a name="//apple_ref/doc/c_ref/kFNSMatchAll" title="kFNSMatchAll"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_52"></a><dt><code>kFNSMatchAll</code></dt>
<dd><p>If the bit specified by this mask is set, all of the match options must match. In this case, the bit specified by the mask constant <code>kFNSMissingDataNoMatch</code> is also set, asserting the most stringent possible match criteria. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSMatchDefaults" title="kFNSMatchDefaults"></a><a name="//apple_ref/doc/c_ref/kFNSMatchDefaults" title="kFNSMatchDefaults"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_53"></a><dt><code>kFNSMatchDefaults</code></dt>
<dd><p>If this constant is specified, the global default match criteria established by the API are used (that is, use all of the options described above in the match). If the user changes the FontSync Control Panel settings, that becomes the new default. This constant basically says to use whatever the user has set. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>FNSMatchOptions</code> enumeration defines masks your application can use to set or test match option bits. You can use this mask with the functions <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatch">FNSReferenceMatch</a></code>, <code><a href="reference.html#//apple_ref/c/func/FNSProfileMatchReference">FNSProfileMatchReference</a></code>, <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatchFonts">FNSReferenceMatchFonts</a></code>, and <code><a href="reference.html#//apple_ref/c/func/FNSReferenceMatchFamilies">FNSReferenceMatchFamilies</a></code> to set the match options used during font comparison. If you wish, your application can specify options that are different from the user’s preferences via this mask. You can use this mask to test the match option bits produced by the function <code><a href="reference.html#//apple_ref/c/func/FNSMatchDefaultsGet">FNSMatchDefaultsGet</a></code>, thereby obtaining the default match options to use in a font comparison. You can also use this mask to test the match option bits produced by the function <code>FNSReferenceMatch</code>, thereby determining the match options under consideration that did not match. </p>
<p>At least one of the match options must be set. Having all of these bits clear is equivalent to saying “don’t look at anything,” which would allow any font to match. Since having all flags clear is nonsensical, the value of the mask constant <code>kFNSMatchDefaults</code> is 0. Setting undefined bits does not generate an error and provides backward compatibility. </p>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. </p>
<a name="//apple_ref/doc/constant_group/Font_Profile_Constants" title="Font Profile Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-C007896" title="Font Profile Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_54"></a><h3 class="tight">Font Profile Constants</h3>
<p class="spaceabove">Represent the file type and default creator code of a font profile.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSCreatorDefault">kFNSCreatorDefault</a> = 0,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSProfileFileType">kFNSProfileFileType</a> = 'fnsp'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kFNSCreatorDefault" title="kFNSCreatorDefault"></a><a name="//apple_ref/doc/c_ref/kFNSCreatorDefault" title="kFNSCreatorDefault"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_55"></a><dt><code>kFNSCreatorDefault</code></dt>
<dd><p>Assigns a file creator code instead of using one of your own. Pass this constant in the <code>iCreator</code> parameter of the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileCreate">FNSProfileCreate</a></code>. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSProfileFileType" title="kFNSProfileFileType"></a><a name="//apple_ref/doc/c_ref/kFNSProfileFileType" title="kFNSProfileFileType"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_56"></a><dt><code>kFNSProfileFileType</code></dt>
<dd><p>The file type of a profile. It is not used in the API, but is provided for convenience. For example, you can use it to put up a Navigation Services dialog box to select a profile.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd></dl>
<h5 class="tight">Version Notes</h5>
<p>Available beginning with FontSync 1.0. In FontSync 1.0, if you specify the constant <code>kFNSCreatorDefault</code> in the <code>iCreator</code> parameter of the function <code><a href="reference.html#//apple_ref/c/func/FNSProfileCreate">FNSProfileCreate</a></code>, FontSync assigns the creator code <code>'fns'</code>.</p>
<a name="//apple_ref/c/tdef/FNSObjectVersion" title="Version Constants" role="Enum"></a><a name="//apple_ref/doc/c_ref/FNSObjectVersion" title="Version Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-C012723" title="Version Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_57"></a><h3 class="tight">Version Constants</h3>
<p class="spaceabove">Represents version information.</p>
<p class="spaceabove"><pre>
typedef UInt32 FNSObjectVersion;
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSVersionDontCare">kFNSVersionDontCare</a> = 0,
   <a href="reference.html#//apple_ref/doc/c_ref/kFNSCurSysInfoVersion">kFNSCurSysInfoVersion</a> = 1
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kFNSVersionDontCare" title="kFNSVersionDontCare"></a><a name="//apple_ref/doc/c_ref/kFNSVersionDontCare" title="kFNSVersionDontCare"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_58"></a><dt><code>kFNSVersionDontCare</code></dt>
<dd><p>Specifies the most recent font reference or font profile version supported by the FontSync library, regardless of version number. In FontSync 1.0, the most recent version for both font references and profiles is version 1. You pass this constant in the <code>iDesiredVersion</code> parameter of the functions <code><a href="reference.html#//apple_ref/c/tdef/FNSSysInfo">FNSSysInfo</a></code>, <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code>, and <code><a href="reference.html#//apple_ref/c/func/FNSProfileCreate">FNSProfileCreate</a></code>. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kFNSCurSysInfoVersion" title="kFNSCurSysInfoVersion"></a><a name="//apple_ref/doc/c_ref/kFNSCurSysInfoVersion" title="kFNSCurSysInfoVersion"></a><a name="//apple_ref/doc/uid/TP40000870-CH3g-DontLinkElementID_59"></a><dt><code>kFNSCurSysInfoVersion</code></dt>
<dd><p>Identifies the current version of the parameter block structure <code><a href="reference.html#//apple_ref/c/tdef/FNSSysInfo">FNSSysInfo</a></code> returned by the function <code><a href="reference.html#//apple_ref/c/func/FNSSysInfoGet">FNSSysInfoGet</a></code>. You pass this constant in the <code>iSysInfoVersion</code> field of the system information structure. The version of the structure used by FontSync 1.0 is version 1. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>FontSync.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can pass the <code>kFNSVersionDontCare</code> constant in the <code>iDesiredVersion</code> parameter of the functions <code><a href="reference.html#//apple_ref/c/func/FNSReferenceCreate">FNSReferenceCreate</a></code>, <code><a href="reference.html#//apple_ref/c/func/FNSReferenceCreateFromFamily">FNSReferenceCreateFromFamily</a></code>, and <code><a href="reference.html#//apple_ref/c/func/FNSProfileCreate">FNSProfileCreate</a></code>, to specify the most recent font reference or font profile version supported by the FontSync library. You can use the <code>kFNSCurSysInfoVersion</code> constant in the <code>iSysInfoVersion</code> field of the structure <code><a href="reference.html#//apple_ref/c/tdef/FNSSysInfo">FNSSysInfo</a></code> to indicate the current version of the structure. </p><a name="//apple_ref/doc/uid/TP40000870-CH4g-RCM0135" title="Result Codes"></a><h2><a name="//apple_ref/doc/uid/TP40000870-CH4g-100832" title="Result Codes"></a><a name="//apple_ref/doc/uid/TP40000870-CH4g-TPXREF110" title="Result Codes"></a>Result Codes</h2>
<p>The most common result codes returned by FontSync are listed
below.</p>


<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><strong>Result Code</strong></th><th scope="col" align="left"><strong>Value</strong></th><th scope="col" align="left"><strong>Description</strong></th></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_60"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSInvalidReferenceErr" title="kFNSInvalidReferenceErr"></a><a name="//apple_ref/doc/c_ref/kFNSInvalidReferenceErr" title="kFNSInvalidReferenceErr"></a><code>kFNSInvalidReferenceErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29580</td>

<td valign="top" class="content_text"><p>Returned by FontSync functions that operate
on font references to indicate that the specified font reference
is invalid. This can also be returned by the function <code><a href="reference.html#//apple_ref/doc/c_ref/FNSReferenceUnflatten">FNSReferenceUnflatten</a></code> if
the reconstructed reference is bad.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_61"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSBadReferenceVersionErr" title="kFNSBadReferenceVersionErr"></a><a name="//apple_ref/doc/c_ref/kFNSBadReferenceVersionErr" title="kFNSBadReferenceVersionErr"></a><code>kFNSBadReferenceVersionErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29581</td>
<td valign="top" class="content_text"><p>Returned by FontSync functions that operate
on font references to indicate that the reference has an unsupported
version number. This may indicate that the reference is valid, but
created by a later version of FontSync, or that the reference is truly
invalid This is also be returned by font reference creation functions
if an unsupported reference version was requested.</p><p>Available in Mac OS X v10.0 and later.</p></td>
</tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_62"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSInvalidProfileErr" title="kFNSInvalidProfileErr"></a><a name="//apple_ref/doc/c_ref/kFNSInvalidProfileErr" title="kFNSInvalidProfileErr"></a><code>kFNSInvalidProfileErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29582</td>

<td valign="top" class="content_text"><p>Returned by FontSync functions that operate
on font profiles to indicate that the profile does not have a valid
structure.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_63"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSBadProfileVersionErr" title="kFNSBadProfileVersionErr"></a><a name="//apple_ref/doc/c_ref/kFNSBadProfileVersionErr" title="kFNSBadProfileVersionErr"></a><code>kFNSBadProfileVersionErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29583</td>
<td valign="top" class="content_text"><p>Returned by FontSync functions that operate
on font profiles to indicate that the profile has an unsupported
version number. This may indicate that the profile is valid, but
created by a later version of FontSync, or that the profile is truly
invalid. This is also be returned by font profile creation functions
if an unsupported profile version was requested.</p><p>Available in Mac OS X v10.0 and later.</p></td>
</tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_64"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSDuplicateReferenceErr" title="kFNSDuplicateReferenceErr"></a><a name="//apple_ref/doc/c_ref/kFNSDuplicateReferenceErr" title="kFNSDuplicateReferenceErr"></a><code>kFNSDuplicateReferenceErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29584</td>

<td valign="top" class="content_text"><p>Returned by the function <code><a href="reference.html#//apple_ref/doc/c_ref/FNSProfileAddReference">FNSProfileAddReference</a></code> to
indicate that the font reference being added already exists in the
profile. </p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_65"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSMismatchErr" title="kFNSMismatchErr"></a><a name="//apple_ref/doc/c_ref/kFNSMismatchErr" title="kFNSMismatchErr"></a><code>kFNSMismatchErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29585</td>

<td valign="top" class="content_text"><p>Indicates that either a reference did not
match, the reference you wish to remove is not in the profile, or that
no font names were recorded in the reference.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_66"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSInsufficientDataErr" title="kFNSInsufficientDataErr"></a><a name="//apple_ref/doc/c_ref/kFNSInsufficientDataErr" title="kFNSInsufficientDataErr"></a><code>kFNSInsufficientDataErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29586</td>
<td valign="top" class="content_text"><p>Returned by the functions <code><a href="reference.html#//apple_ref/doc/c_ref/FNSReferenceMatch">FNSReferenceMatch</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/FNSReferenceGetFamilyInfo">FNSReferenceGetFamilyInfo</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/FNSReferenceFindName">FNSReferenceFindName</a></code>,
and <code><a href="reference.html#//apple_ref/doc/c_ref/FNSReferenceGetIndName">FNSReferenceGetIndName</a></code> to indicate that
the mask constant <code>kFNSMissingDataNoMatch</code> has
been set and both references being compared are missing the same data.</p><p>Available in Mac OS X v10.0 and later.</p></td>
</tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_67"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSBadFlattenedSizeErr" title="kFNSBadFlattenedSizeErr"></a><a name="//apple_ref/doc/c_ref/kFNSBadFlattenedSizeErr" title="kFNSBadFlattenedSizeErr"></a><code>kFNSBadFlattenedSizeErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29587</td>

<td valign="top" class="content_text"><p>Returned by the function <code><a href="reference.html#//apple_ref/doc/c_ref/FNSReferenceUnflatten">FNSReferenceUnflatten</a></code> to
indicate that the specified size doesn&#8217;t match the size recorded
in the flattened reference or that the size was not large enough
for a flattened reference.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000870-CH4g-DontLinkElementID_68"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kFNSNameNotFoundErr" title="kFNSNameNotFoundErr"></a><a name="//apple_ref/doc/c_ref/kFNSNameNotFoundErr" title="kFNSNameNotFoundErr"></a><code>kFNSNameNotFoundErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-29589</td>

<td valign="top" class="content_text"><p>Returned by the function <code><a href="reference.html#//apple_ref/doc/c_ref/FNSReferenceFindName">FNSReferenceFindName</a></code> to
indicate that there was no name in the font reference that matched
the given parameters.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
</table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../fontsync_ref_docrevhist/fontsync_ref_docrevhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2002-10-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/FontSync/Reference/reference.html%3Fid%3DTP40000870-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/FontSync/Reference/reference.html%3Fid%3DTP40000870-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/FontSync/Reference/reference.html%3Fid%3DTP40000870-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>