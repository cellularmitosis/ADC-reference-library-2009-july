<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Getting Information About the .MPP Driver and the  Network Environment(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING39></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-35.html"><B>Chapter 2 - AppleTalk Utilities</B></A> / <A HREF="Networking-36.html"><B>About the AppleTalk Utilities </B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING39-0></A>
<H2>Getting Information About the .MPP Driver and the <BR>Network Environment</H2>
 This section describes how you can use the <CODE>PGetAppleTalkInfo</CODE> function to obtain information about the installed version of the .MPP driver, the network environment, and the .MPP driver's maximum capacities, such as the number of sockets and the number of NBP calls that the .MPP driver supports. The .MPP driver implements <BR>these protocols:<P>
<UL>
<LI>Datagram Delivery Protocol (DDP)
<LI>Routing Table Maintenance Protocol (RTMP) stub
<LI>Name-Binding Protocol (NBP)
<LI>AppleTalk Echo Protocol (AEP)<P>
</UL>
 Before you call the <CODE>PGetAppleTalkInf</CODE>o function, you must allocate memory for and define a parameter block of type <CODE>MPPParmType</CODE>. The section <A HREF=Networking-45.html#MARKER-9-58>"MPP Parameter Block" beginning on page 2-9</A> shows this data structure. You must also allocate memory for and provide pointers to the data buffers into which the <CODE>PGetAppleTalkInfo</CODE> function returns the data-link address and zone name for extended networks.<P>
 The<A NAME=MARKER-2-36></A> <CODE>PGetAppleTalkInfo</CODE> function's Boolean parameter allows you to specify whether the function is to be executed synchronously or asynchronously. This function is generally executed synchronously. (For information on these two modes, see the chapter "Introduction to AppleTalk" in this book.) <P>
 The <CODE>PGetAppleTalkInfo</CODE> function returns the following information: <P>
<UL>
<LI>a pointer to the MPP global variables 
<LI>a pointer to the .MPP driver's device control entry (DCE) data structure 
<LI>configuration flags that indicate the status of certain conditions that are set at startup
<LI>a value (the <CODE>selfSend</CODE> flag) that indicates whether the node can send packets to itself (See <A HREF=Networking-41.html#MARKER-9-44>"Sending Packets to Applications and Processes on Your Own Node" on page 2-6</A> and <A HREF=Networking-49.html#MARKER-9-112>"Enabling Intranode Delivery of DDP Packets" on page 2-15</A> for more information.)
<LI>the range of network numbers for the network to which the node is attached<A NAME=MARKER-2-27></A>
<LI><A NAME=MARKER-2-68></A>the 8-bit node ID and 16-bit network number of the node
<LI>the 8-bit node ID and 16-bit network number of the last router from which the node has heard
<LI>the maximum capacities of the .MPP driver, such as the maximum number of protocol handlers and the maximum number of static sockets allowed by this driver<A NAME=MARKER-9-75></A>
<LI>a pointer to the registered names queue
<LI>the address of the node on the underlying data link (for example, the Ethernet hardware address)<A NAME=MARKER-2-97></A>
<LI>the node's zone name<A NAME=MARKER-2-88></A><P>
</UL>
 The data-link address and the zone name are returned only for <A NAME=MARKER-2-18></A>extended networks--that is, network types that allow more than one network number per network. You use the <CODE>laLength</CODE> parameter to specify the length of the data-link address you want returned; the function returns the actual length of the data in the <CODE>laLength</CODE> parameter and returns the data in the buffer you provide. <P>
 The <CODE>ExtendedBit</CODE> flag returned by the <CODE>PGetAppleTalkInfo</CODE> function is <CODE>TRUE</CODE> if the node is connected to an extended AppleTalk network. (The <CODE>ExtendedBit</CODE> flag is bit 15 of the configuration parameter returned by this function.) Note that the presence of <BR>the AppleTalk Phase 2 drivers does not of itself indicate that the node is connected to <BR>an extended network. For more information, see <A HREF=Networking-48.html#MARKER-9-75>"PGetAppleTalkInfo" beginning on page 2-11</A>. <P>
<DL>
<DT><B>Note</B>
<DD>Always use the <A NAME=MARKER-2-15></A><CODE>PGetAppleTalkInfo</CODE> function to obtain information about the .MPP driver. You cannot rely on the validity of the MPP global variables pointed to by the <CODE>varsPtr</CODE> parameter block field value for this information.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
