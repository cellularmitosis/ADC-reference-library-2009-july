<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Performing Vector Operations(IM: XU)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING364></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="GXEnvironment-363.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-365.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="GXEnvironment-2.html"><B>QuickDraw GX Environment and Utilities</B></A> / <BR><DD><A HREF="GXEnvironment-354.html"><B>Chapter 8 - QuickDraw GX Mathematics</B></A> / <A HREF="GXEnvironment-360.html"><B>Using QuickDraw GX Mathematics</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING364-0></A>
<H2><A NAME=MARKER-9-126></A>Performing Vector Operations</H2>
 <A NAME=MARKER-2-199></A>You can use the <CODE>VectorMultiply</CODE> function to obtain the dot product of two vectors with 64-bit accuracy. The function takes six parameters: the first parameter specifies the number of long numbers to multiply, and the third and fifth parameters specify the step size to use when walking the arrays to which the second and fourth parameters point.<P>
 For example:<P>
 <CODE><A NAME=MARKER-2-83></A>VectorMultiply(4,a,1,b,2,&amp;c)</CODE> sets the <CODE>wide</CODE> number pointed to by the parameter <CODE>c</CODE> to the following value:<P>
 <CODE>a[0] * b[0] +a [1] * b[2] +a[2] * b[4] + a[3] * b[6]</CODE><P>
 If the count is negative, the sign of the terms in the dot product are alternated.<P>
 <CODE>VectorMultiply(-4,a,1,b,2,&amp;c)</CODE> sets the <CODE>wide</CODE> parameter <CODE>c</CODE> to the following value and the result is returned in <CODE>c</CODE>:<P>
 <CODE>a[0] * b[0] - a[1] * b[2] + a[2] * b[4] - a[3] * b[6]</CODE><P>
 You can also use <CODE>VectorMultiply</CODE> to determine the cross-product of a pair of vectors, as in <A HREF=#MARKER-9-129>Listing 8-1</A>. <P>
<B>Listing 8-1  <A NAME=MARKER-9-129></A>Calculating a cross-product with <CODE>VectorMultiply</CODE></B><P>
<PRE>
gxPoint *CrossProduct(const gxPoint *a, gxPoint *b, )
{
   wide temp;
   WideShift(VectorMultiply(-2, &amp;a-&gt;x, 1, &amp;b-&gt;y, -1, &amp;temp), 16);
}
</PRE>
 You can also use <CODE>VectorMultiply</CODE> to work with mappings. <A HREF=#MARKER-9-130>Listing 8-2</A> is a sample function that applies a mapping to a single point.<P>
<B>Listing 8-2  <A NAME=MARKER-9-130></A>Applying a mapping to one point</B><P>
<PRE>
gxPoint *MapPoint(const gxMapping *map, gxPoint *pt)
{
   fixed temp[3] = { 0, 0, fixed1 };
   *(gxPoint *)temp = *pt;
   wide dot;
   fixed p = WideShift(VectorMultiply(3, temp, 1, &amp;map[0][2], 
                        3, &amp;dot), 30);
   pt-&gt;x = WideDivide(VectorMultiply(3, temp, 1, &amp;map[0][0], 
                        3, &amp;dot), p, nil);
   pt-&gt;y = WideDivide(VectorMultiply(3, temp, 1, &amp;map[0][1], 
                        3, &amp;dot), p, nil);
   return pt;
}
</PRE>
 The <CODE>VectorMultiply</CODE> function is described on <A HREF=GXEnvironment-415.html#MARKER-9-233>page 8-54</A>. Functions that perform vector operations are described in the section <A HREF=GXEnvironment-414.html#MARKER-9-231>"Vector Operations" beginning on page 8-54</A>. <A NAME=MARKER-2-131></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="GXEnvironment-363.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-365.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="GXEnvironment-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
