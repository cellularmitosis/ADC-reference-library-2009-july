<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Creating and Accessing Macintosh Storage Objects</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=3446"> </A>Creating and Accessing Macintosh Storage Objects</H1><P CLASS="T1.Text1"><A NAME="pgfId=3451"> </A><A NAME="marker=3447"> </A>QuickDraw&nbsp;3D provides routines for creating and managing Macintosh storage objects.</P><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3452"> </A>Q3MacintoshStorage_New</H2><P CLASS="T1.Text1"><A NAME="pgfId=3453"> </A><A NAME="marker=862"> </A>You can use the <TT CLASS="cv">Q3MacintoshStorage_New</TT> function to create a new Macintosh storage object.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=5734"> </A>TQ3StorageObject Q3MacintoshStorage_New (short fsRefNum);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=5736"> </A><TT CLASS="cv">fsRefNum</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3455"> </A>A file reference number of the data fork of a Macintosh file. This file must already be open.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3456"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=3457"> </A>The <TT CLASS="cv">Q3MacintoshStorage_New</TT> function returns, as its function result, a new storage object associated with the Macintosh file specified by the <TT CLASS="cv">fsRefNum</TT> parameter. The specified file is assumed to be open, and it must remain open as long as you use the returned storage object. In addition, you are responsible for closing the file once the associated storage object has been closed or disposed of. If <TT CLASS="cv">Q3MacintoshStorage_New</TT> cannot create a new storage object, it returns the value <TT CLASS="cv">NULL</TT>.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3458"> </A>ERRORS</H3><P CLASS="T1.Text1"><A NAME="pgfId=3459"> </A><TT CLASS="cv">kQ3ErrorOutOfMemory</TT></P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3460"> </A>Q3MacintoshStorage_Get</H2><P CLASS="T1.Text1"><A NAME="pgfId=3461"> </A><A NAME="marker=872"> </A>You can use the <TT CLASS="cv">Q3MacintoshStorage_Get</TT> function to get information about a Macintosh storage object.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=5747"> </A>TQ3Status Q3MacintoshStorage_Get (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3StorageObject storage, <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short *fsRefNum);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=5749"> </A><TT CLASS="cv">storage</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=2238"> </A>A Macintosh storage object.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=5758"> </A><TT CLASS="cv">fsRefNum</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3464"> </A>On exit, the file reference number of the Macintosh file associated with the specified storage object.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3465"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=3466"> </A>The <TT CLASS="cv">Q3MacintoshStorage_Get</TT> function returns, in the <TT CLASS="cv">fsRefNum</TT> parameter, the file reference number of the Macintosh file associated with the Macintosh storage object specified by the <TT CLASS="cv">storage</TT> parameter.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3467"> </A>Q3MacintoshStorage_Set</H2><P CLASS="T1.Text1"><A NAME="pgfId=3468"> </A><A NAME="marker=881"> </A>You can use the <TT CLASS="cv">Q3MacintoshStorage_Set</TT> function to set information about a Macintosh storage object.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=5769"> </A>TQ3Status Q3MacintoshStorage_Set (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3StorageObject storage, <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short fsRefNum);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=5771"> </A><TT CLASS="cv">storage</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3470"> </A>A Macintosh storage object.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=5780"> </A><TT CLASS="cv">fsRefNum</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3471"> </A>A file reference number.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3472"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=3473"> </A>The <TT CLASS="cv">Q3MacintoshStorage_Set</TT> function sets the file reference number of the file associated with the Macintosh storage object specified by the <TT CLASS="cv">storage</TT> parameter to the number specified by the <TT CLASS="cv">fsRefNum</TT> parameter.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3474"> </A>SPECIAL CONSIDERATIONS</H3><P CLASS="T1.Text1"><A NAME="pgfId=3475"> </A>You must not use <TT CLASS="cv">Q3MacintoshStorage_Set</TT> with an open Macintosh storage object.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3476"> </A>ERRORS</H3><P CLASS="T1.Text1"><A NAME="pgfId=3477"> </A><TT CLASS="cv">kQ3ErrorStorageIsOpen</TT></P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3478"> </A>Q3MacintoshStorage_GetType</H2><P CLASS="T1.Text1"><A NAME="pgfId=3479"> </A><A NAME="marker=894"> </A>You can use the <TT CLASS="cv">Q3MacintoshStorage_GetType</TT> function to get the type of a Macintosh storage object.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=5791"> </A>TQ3ObjectType Q3MacintoshStorage_GetType (TQ3StorageObject storage);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=5793"> </A><TT CLASS="cv">storage</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3481"> </A>A Macintosh storage object.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3482"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=3483"> </A>The <TT CLASS="cv">Q3MacintoshStorage_GetType</TT> function returns, as its function result, the type of the Macintosh storage object specified by the <TT CLASS="cv">storage</TT> parameter. The types of Macintosh storage objects currently supported by QuickDraw&nbsp;3D are defined by this constant:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=5804"> </A>kQ3MacintoshStorageTypeFSSpec<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=3488"> </A>If the specified memory storage object is invalid or is not of this type, <TT CLASS="cv">Q3MacintoshStorage_GetType</TT> returns the value <TT CLASS="cv">kQ3ObjectTypeInvalid</TT>.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=3489"> </A>ERRORS</H3><P CLASS="T1.Text1"><A NAME="pgfId=3490"> </A><TT CLASS="cv">kQ3ErrorNoSubclass kQ3ErrorInvalidObjectParameter kQ3ErrorNULLParameter</TT><A NAME="marker=3491"> </A></P></DIV></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>