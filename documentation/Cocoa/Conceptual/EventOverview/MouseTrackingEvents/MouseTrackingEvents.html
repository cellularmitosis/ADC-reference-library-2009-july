<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Cocoa Event-Handling Guide: Mouse-Tracking and Cursor-Update Events</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Mouse-Tracking and Cursor-Update Events"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/10000060i-CH11" title="Mouse-Tracking and Cursor-Update Events"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../EventsOtherInput-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000447" target="_top">Events &amp; Other Input</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/10000060i-CH1-SW1">Cocoa Event-Handling Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../TextDefaultsBindings/TextDefaultsBindings.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/10000060i-CH11-SW1" title="Mouse-Tracking and Cursor-Update Events"></a><h1>Mouse-Tracking and Cursor-Update Events</h1><p>Mouse-tracking messages are sent to an object when the mouse pointer (without a mouse button being pressed) enters and exits a region of a window. This region is known as a tracking rectangle or tracking area. Mouse tracking enables the view owning the region to respond, for example, by drawing a highlight color or displaying a tool tip. Cursor-update events are a special kind of mouse-tracking event that the Application Kit handles automatically. When the mouse pointer enters a cursor rectangle, the Application Kit displays a cursor image appropriate to the type of view under the rectangle; for example, when a mouse pointer enters a text view, an I-beam cursor is displayed instead.</p><p>The sections in this chapter describe how you set up tracking rectangles and respond to mouse-tracking events. They also discuss how to specify and manage the rectangles for cursor-update events.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="MouseTrackingEvents.html#//apple_ref/doc/uid/10000060i-CH11-SW6">Handling Mouse-Tracking Events</a>
				
			<br/>
			
        
			
			
				<a href="MouseTrackingEvents.html#//apple_ref/doc/uid/10000060i-CH11-SW8">Managing Cursor-Update Events</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/10000060i-CH11-SW6" title="Handling Mouse-Tracking Events"></a><h2>Handling Mouse-Tracking Events</h2><p>A region of a view set up for tracking mouse movement is known as a tracking rectangle. When the mouse cursor enters the tracking rectangle, the Application Kit sends mouse-entered events (type <code><a href="../../../Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/c/econst/NSMouseEntered" target="_top">NSMouseEntered</a></code>) to the object owning the rectangle (which is not necessarily the view itself); when the cursor leaves the rectangle, the Application Kit sends the object mouse-exited events (type <code><a href="../../../Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/c/econst/NSMouseExited" target="_top">NSMouseExited</a></code>). These events correspond to the <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseEntered:" target="_top">mouseEntered:</a></code> and <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseExited:" target="_top">mouseExited:</a></code> methods, respectively, of <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/cl/NSResponder" target="_top">NSResponder</a></code>. Mouse tracking can be useful for such tasks as displaying context-sensitive messages or highlighting graphic elements under the cursor. An <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/cl/NSView" target="_top">NSView</a></code> object can have any number of tracking rectangles, which can overlap or be nested one within the other; the <code><a href="../../../Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/occ/cl/NSEvent" target="_top">NSEvent</a></code> objects generated to represent mouse-tracking events include a tag (accessed through the  <code><a href="../../../Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/occ/instm/NSEvent/trackingNumber" target="_top">trackingNumber</a></code> method) that identifies the rectangle associated with an event.</p><div class="importantbox"><a name="//apple_ref/doc/uid/10000060i-CH11-DontLinkElementID_8" title="Important:"></a><p><strong>Important:</strong>&nbsp;The proper order of mouse-entered and mouse-exited events received by tracking rectangles in an application cannot be guaranteed. For example, if you move the mouse cursor between from one tracking rectangle to another tracking rectangle in a view and back, the order of events (as messages) could be: <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseEntered:" target="_top">mouseEntered:</a></code>, <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseEntered:" target="_top">mouseEntered:</a></code>, <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseExited:" target="_top">mouseExited:</a></code>, <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseExited:" target="_top">mouseExited:</a></code>. </p><p></p></div><p>To create a tracking rectangle, send a <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/addTrackingRect:owner:userData:assumeInside:" target="_top">addTrackingRect:owner:userData:assumeInside:</a></code> message to the <code>NSView</code> object associated with the rectangle, as shown in <span class="content_text">“Managing a Tracking-Area Object.”</span> This method registers an owner for the tracking rectangle, so that the owner receives the tracking-event messages. The owner is typically the view object itself, but need not be. The method returns the tracking rectangle’s tag so that you can store it for later reference in the event-handling methods <code>mouseEntered:</code> and <code>mouseExited:</code>. To remove a tracking rectangle, use the <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/removeTrackingRect:" target="_top">removeTrackingRect:</a></code> method, which takes as an argument the tag of the tracking rectangle to remove.</p><a name="//apple_ref/doc/uid/10000060i-CH11-SW3" title="Listing A-1Adding a tracking rectangle to a view region"></a><p class="codesample"><strong>Listing A-1&nbsp;&nbsp;</strong>Adding a tracking rectangle to a view region</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)viewDidMoveToWindow {<span></span></pre></td></tr><tr><td scope="row"><pre>    // trackingRect is an NSTrackingRectTag instance variable<span></span></pre></td></tr><tr><td scope="row"><pre>    // eyeBox is a region of the view (instance variable)<span></span></pre></td></tr><tr><td scope="row"><pre>    trackingRect = [self addTrackingRect:eyeBox owner:self userData:NULL assumeInside:NO];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>In the above example, the custom view adds the tracking rectangle in the <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/viewDidMoveToWindow" target="_top">viewDidMoveToWindow</a></code>  method instead of <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/initWithFrame:" target="_top">initWithFrame:</a></code>. Although <code>NSView</code> implements the <code>addTrackingRect:owner:userData:assumeInside:</code> method, a view’s window maintains the list of tracking rectangles. When a view’s <code>initWithFrame:</code> initializer is invoked, the view is not yet associated with a window, so the tracking rectangle cannot yet be added to the window’s list. Thus the best place to add tracking rectangles initially is in the <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/viewDidMoveToWindow" target="_top">viewDidMoveToWindow</a></code> method.</p><p>Tracking rectangle bounds are inclusive for the top and left edges, but not for the bottom and right edges. Thus, if you have a unflipped view with a tracking rectangle covering its bounds, and the view’s frame has the geometry <code>frame.origin = (100, 100), frame.size = (200, 200)</code>, then the area for which the tracking rectangle is active is <code>frame.origin = (100, 101), frame.size = (199, 199</code>), in frame coordinates. </p><p>Tracking rectangles can also be used to provide <code><a href="../../../Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/c/econst/NSMouseMoved" target="_top">NSMouseMoved</a></code> events to views in the <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseMoved:" target="_top">mouseMoved:</a></code> method. For a view to receive <code>NSMouseMoved</code> events, however, two things must happen:</p><ul class="ul"><li class="li"><p>The view must be the first responder.</p></li><li class="li"><p>The view’s window must be sent a <code><a href="../../../Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html#//apple_ref/occ/instm/NSWindow/setAcceptsMouseMovedEvents:" target="_top">setAcceptsMouseMovedEvents:</a></code> message with an argument of <code>YES</code>.</p></li></ul><p>As noted in <span class="content_text"><a href="../EventObjectsTypes/EventObjectsTypes.html#//apple_ref/doc/uid/10000060i-CH4-SW4">“Event Objects and Types”</a></span> and <span class="content_text"><a href="../HandlingMouseEvents/HandlingMouseEvents.html#//apple_ref/doc/uid/10000060i-CH6-SW1">“Handling Mouse Events,”</a></span> an <code>NSWindow</code> object by default does not receive <code>NSMouseMoved</code> events because they can easily flood the event queue. If you only want to receive mouse-moved messages while the mouse is over your view, you should turn them off again when a mouse-tracking session completes.</p><p>You typically send the <code>setAcceptsMouseMovedEvents:</code> message (with an argument of <code>YES</code>) in your implementation of <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseEntered:" target="_top">mouseEntered:</a></code>. If you want to turn them off after a tracking session ends, you can send the message again with an argument of <code>NO</code> in your implementation of <code><a href="../../../Reference/ApplicationKit/Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/mouseExited:" target="_top">mouseExited:</a></code>. However, you should also set the window state back to what it was before you turned on mouse-moved events to ensure that the window does not stop receiving mouse-moved events if it wants them for other purposes.</p><p>The tracking code in <span class="content_text">Listing 6-2</span> is used in making an “eyeball” follow the movement of the mouse pointer when it enters a tracking rectangle. Note that the <code>mouseEntered:</code> implementation uses the <code>wasAcceptingMouseEvents</code> instance variable  to capture the window’s current state as regards mouse-moved events before these events are turned on for the current tracking session; later, in <code>mouseExited:</code>, the value of this instance variable is used as the argument to <code>setAcceptsMouseMovedEvents:</code>, thereby resetting window state. </p><a name="//apple_ref/doc/uid/10000060i-CH11-SW2" title="Listing A-2Handling mouse-entered, mouse-moved, and mouse-exited events"></a><p class="codesample"><strong>Listing A-2&nbsp;&nbsp;</strong>Handling mouse-entered, mouse-moved, and mouse-exited events</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)mouseEntered:(NSEvent *)theEvent {<span></span></pre></td></tr><tr><td scope="row"><pre>    wasAcceptingMouseEvents = [[self window] acceptsMouseMovedEvents];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[self window] setAcceptsMouseMovedEvents:YES];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[self window] makeFirstResponder:self];<span></span></pre></td></tr><tr><td scope="row"><pre>    NSPoint eyeCenter = [self convertPoint:[theEvent locationInWindow] fromView:nil];<span></span></pre></td></tr><tr><td scope="row"><pre>    eyeBox = NSMakeRect((eyeCenter.x-10.0), (eyeCenter.y-10.0), 20.0, 20.0);<span></span></pre></td></tr><tr><td scope="row"><pre>    [self setNeedsDisplayInRect:eyeBox];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self displayIfNeeded];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (void)mouseMoved:(NSEvent *)theEvent {<span></span></pre></td></tr><tr><td scope="row"><pre>    NSPoint eyeCenter = [self convertPoint:[theEvent locationInWindow] fromView:nil];<span></span></pre></td></tr><tr><td scope="row"><pre>    eyeBox = NSMakeRect((eyeCenter.x-10.0), (eyeCenter.y-10.0), 20.0, 20.0);<span></span></pre></td></tr><tr><td scope="row"><pre>    [self setNeedsDisplayInRect:eyeBox];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self displayIfNeeded];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (void)mouseExited:(NSEvent *)theEvent {<span></span></pre></td></tr><tr><td scope="row"><pre>    [[self window] setAcceptsMouseMovedEvents:wasAcceptingMouseEvents];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self resetEye];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self setNeedsDisplayInRect:eyeBox];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self displayIfNeeded];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Because tracking rectangles are maintained by <code>NSWindow</code> objects, a tracking rectangle is a static entity; it doesn’t move or change its size when an <code>NSView</code> object does. If you use tracking rectangles, you should be sure to remove and reestablish them when you change the frame rectangle of the view object that contains them. If you’re creating a custom subclass of <code>NSView</code>, you can override the <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/setFrame:" target="_top">setFrame:</a></code> and <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/setBounds:" target="_top">setBounds:</a></code> methods to do this, as shown in <span class="content_text">“Compatibility Issues.”</span> If your class is not a custom view class, you can register your class instance as an observer for the notification<code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/c/data/NSViewFrameDidChangeNotification" target="_top">NSViewFrameDidChangeNotification</a></code> and have it reestablish the tracking rectangles on receiving the notification.</p><a name="//apple_ref/doc/uid/10000060i-CH11-SW7" title="Listing A-3Resetting a tracking rectangle"></a><p class="codesample"><strong>Listing A-3&nbsp;&nbsp;</strong>Resetting a tracking rectangle</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)setFrame:(NSRect)frame {<span></span></pre></td></tr><tr><td scope="row"><pre>    [super setFrame:frame];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self removeTrackingRect:trackingRect];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self resetEye];<span></span></pre></td></tr><tr><td scope="row"><pre>    trackingRect = [self addTrackingRect:eyeBox owner:self userData:NULL assumeInside:NO];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (void)setBounds:(NSRect)bounds {<span></span></pre></td></tr><tr><td scope="row"><pre>    [super setBounds:bounds];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self removeTrackingRect:trackingRect];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self resetEye];<span></span></pre></td></tr><tr><td scope="row"><pre>    trackingRect = [self addTrackingRect:eyeBox owner:self userData:NULL assumeInside:NO];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>You should also remove the tracking rectangle when your view is removed from its window, which can happen either because the view is moved to a different window, or because the view is removed as part of deallocation. One place to do this is the <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/viewWillMoveToWindow:" target="_top">viewWillMoveToWindow:</a></code> method, as shown in <span class="content_text">“Compatibility Issues.”</span></p><a name="//apple_ref/doc/uid/10000060i-CH11-SW4" title="Listing A-4Removing a tracking rectangle when a view is removed from its window"></a><p class="codesample"><strong>Listing A-4&nbsp;&nbsp;</strong>Removing a tracking rectangle when a view is removed from its window</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)viewWillMoveToWindow:(NSWindow *)newWindow {<span></span></pre></td></tr><tr><td scope="row"><pre>    if ( [self window] &amp;&amp; trackingRect ) {<span></span></pre></td></tr><tr><td scope="row"><pre>        [self removeTrackingRect:trackingRect];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/10000060i-CH11-SW8" title="Managing Cursor-Update Events"></a><h2>Managing Cursor-Update Events</h2><p>One common use of tracking rectangles is to change the cursor image over different types of graphic elements. Text, for example, typically requires an I-beam cursor. Changing the cursor is such a common operation that <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/cl/NSView" target="_top">NSView</a></code> defines several convenience methods to ease the process. A tracking rectangle generated by these methods is called a cursor rectangle. The Application Kit itself assumes ownership of cursor rectangles, so that when the user moves the mouse over the rectangle the cursor automatically changes to the appropriate image. Unlike general tracking rectangles, cursor rectangles may not partially overlap. They may, however, be completely nested, one within the other.</p><p>Because cursor rectangles need to be reset often as a view’s size and graphic elements change, <code>NSView</code> defines a single method, <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/resetCursorRects" target="_top">resetCursorRects</a></code>, that’s invoked any time its cursor rectangles need to be reestablished. A concrete subclass overrides this method, invoking <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/addCursorRect:cursor:" target="_top">addCursorRect:cursor:</a></code> for each cursor rectangle it wishes to set (as illustrated in <span class="content_text">Listing A-5</span>). Thereafter, the view’s cursor rectangles can be rebuilt by invoking the <code>NSWindow</code> method <code><a href="../../../Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html#//apple_ref/occ/instm/NSWindow/invalidateCursorRectsForView:" target="_top">invalidateCursorRectsForView:</a></code>. Before <code>resetCursorRects</code> is invoked, the owning view is automatically sent a <code><a href="../../../Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html#//apple_ref/occ/instm/NSWindow/disableCursorRects" target="_top">disableCursorRects</a></code> message to remove existing cursor rectangles.</p><p><span class="content_text">Listing 6-4</span> shows an implementation of <code>resetCursorRects</code>.</p><a name="//apple_ref/doc/uid/10000060i-CH11-SW5" title="Listing A-5Resetting a cursor rectangle"></a><p class="codesample"><strong>Listing A-5&nbsp;&nbsp;</strong>Resetting a cursor rectangle</p><div class="codesample"><table><tr><td scope="row"><pre>-(void)resetCursorRects<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self addCursorRect:[self calculatedItemBounds] cursor:[NSCursor openHandCursor]];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Although you can temporarily remove a single cursor rectangle with <code><a href="../../../Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html#//apple_ref/occ/instm/NSView/removeCursorRect:cursor:" target="_top">removeCursorRect:cursor:</a></code>, you should rarely need to do so. Whenever cursor rectangles need to be rebuilt,  <code>NSView</code> invokes <code>resetCursorRects</code> so that you can establish only the cursor rectangles needed. If you implement <code>resetCursorRects</code> in this way, you can then simply modify the state this method uses to build its cursor rectangles and then invoke the <code>NSWindow</code> method <code>invalidateCursorRectsForView:</code>.</p><p>An <code>NSView</code> object’s cursor rectangles are automatically reset whenever:</p><ul class="ul"><li class="li"><p>Its frame or bounds rectangle changes, whether by a <code>setFrame...</code> or <code>setBounds...</code> message or by autoresizing.</p></li><li class="li"><p>Its window is resized. In this case all of the window’s view objects get their cursor rectangles reset.</p></li><li class="li"><p>It is moved in the view hierarchy.</p></li><li class="li"><p>It is scrolled in an <code><a href="../../../Reference/ApplicationKit/Classes/NSScrollView_Class/Reference/Reference.html#//apple_ref/occ/cl/NSScrollView" target="_top">NSScrollView</a></code> or <code><a href="../../../Reference/ApplicationKit/Classes/NSClipView_Class/Reference/Reference.html#//apple_ref/occ/cl/NSClipView" target="_top">NSClipView</a></code> object.</p></li></ul><p>You can temporarily disable all the cursor rectangles in a window using the <code>NSWindow</code> method <code><a href="../../../Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html#//apple_ref/occ/instm/NSWindow/disableCursorRects" target="_top">disableCursorRects</a></code> and enable them again with the <code><a href="../../../Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html#//apple_ref/occ/instm/NSWindow/enableCursorRects" target="_top">enableCursorRects</a></code> method. The <code><a href="../../../Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html#//apple_ref/occ/instm/NSWindow/areCursorRectsEnabled" target="_top">areCursorRectsEnabled</a></code>  method of <code>NSWindow</code> tells you whether they’re currently enabled.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../TextDefaultsBindings/TextDefaultsBindings.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-02-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/EventOverview/MouseTrackingEvents/MouseTrackingEvents.html%3Fid%3D10000060i-5.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/EventOverview/MouseTrackingEvents/MouseTrackingEvents.html%3Fid%3D10000060i-5.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/EventOverview/MouseTrackingEvents/MouseTrackingEvents.html%3Fid%3D10000060i-5.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>