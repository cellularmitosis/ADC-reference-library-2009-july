<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note NW525: AppleTalk Remote Access Protocol Q&amp;As</title><meta name="keywords" content=""><meta name="Description" content="Technical Note NW525: ">    <meta name="categories" content="Networking"><meta name="week-posted" content="Oct 1, 1990 - Oct 5, 1990"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"><a name="//apple_ref/doc/uid/DTS10002575" title="AppleTalk Remote Access Protocol Q&As"></a><a name="top"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxNetworking-date.html">Networking</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="../../referencelibrary/Networking/index.html" target="_blank">Reference Library > Networking</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note NW525</div>
<div id="pageheadsub">AppleTalk Remote Access Protocol Q&amp;As</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->					<p id="menutext">					<a href="#Section1">PBRemoteAccess error = -17</a><BR><BR>					<a href="#Section2">ARA Developer's Toolkit documentation fix for variable pb</a><BR><BR>					<a href="#Section3">AppleTalk Remote Access (ARA) password</a><BR><BR>					<a href="#Section4">ARAP and PGetAppleTalkInfo bug workaround</a><BR><BR>					 <a href="#Downloads">Downloadables</a></p>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext">This Technical Note contains a collection of archived Q&amp;As relating to a specifictopic--questions sent the Developer Support Center (DSC) along withanswers from the DSC engineers. Current Q&amp;A's can be found on the <a href="../../qa/index.html">Macintosh Technical Q&amp;A's web site</a>.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Oct 01 1990]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR><!-- begin_content --><a name="Section1"></a><h2>PBRemoteAccess error = -17</h2><p>Date Written:  11/19/92</p><p>Last reviewed:  6/14/93</p><p>We receive an error = -17 from <code>PBRemoteAccess</code>. Why?</p><p>What this means is that the Remote Access Manager hasn't been loaded intomemory. Loading the Remote Access Manager into memory takes up valuable RAMspace. You should do this only when necessary. Usually, this is done justbefore calling <code>Connect</code>. You can load the Remote Access Manager into memoryyourself using the Load command (see page 7 of the ARA Developer's Toolkit).However, you should really only call Load just before you call Connect. CallingLoad before you make the Status call doesn't really buy you anything. If you dothis (and currently no connection is established) you'll get the -5833<code>PORTDOESNOTEXIST</code> error. This simply means that the Remote Access Manager isloaded but the user port hasn't been opened - that is, there's no connection(ARA 1.0 supports one connection through the user port).</p><p>Keep in mind also that if you do call Load you must eventually balance it outwith an <code>Unload</code> call (see page 7 of the ARA Developers Toolkit). Failure to doso could cause problems. Typically, you'd call <code>Load</code> just before you callConnect, and then after you call Disconnect you'd call <code>UnLoad</code>.</p><P><A HREF="#top">Back to top</A></P><a name="Section2"></a><h2>ARA Developer's Toolkit documentation fix for variable pb</h2><p>Date Written:  11/19/92</p><p>Last reviewed:  6/14/93</p><p>In the ARA Developer's Toolkit manual, at the bottom of page 12, the variablepb is declared as <code>TRemoteAccessStatusParam</code>. Shouldn't this read"<code>TRemoteAccessParamBlock</code>"?</p><p>Yes, for this specific example <code>pb</code> should be declared as type<code>TRemoteAccessParamBlock</code>. Thanks for pointing out the error.</p><P><A HREF="#top">Back to top</A></P><a name="Section3"></a><h2>AppleTalk Remote Access (ARA) password</h2><p>Date Written:  1/6/92</p><p>Last reviewed:  6/14/93</p><p>I often connect to a network via AppleTalk Remote Access (ARA) without mountingan AppleShare server (to print, for example). Do I have to mount an AppleSharevolume to change my ARA (network, not server access) password or is thereanother way? Does changing the password associated with the AppleShare volumeI'm mounting affect the ARA network access password?</p><p>Yes, the only way currently to change your AppleTalk Remote Access (ARA)password is via mounting an AppleShare volume or by changing the password asthe AppleShare (or FileShare) administrator on the ARA host. The System 7 FileSharing and AppleShare 3.0 file servers, the PPC toolbox, and ARA all share theUsers &amp; Groups file, but typically only the AppleShare client gives a wayto change the password.  Remotely changing the AppleTalk Remote Access passwordcan be accomplished by mounting an AppleShare volume on the ARA host, andchanging the password for that specific AppleShare volume. This updates yourpassword in the Users &amp; Groups setup, which is the same one used by ARA(hence the doubly changed password). If you were to mount a volume on aMacintosh other than the ARA Macintosh, this would of course be a separateUsers &amp; Groups file, and changing this password would not affect your ARApassword.</p><p>The Users &amp; Groups libraries in the AppleShare 3.0 Developer's Kit givesdeveloper applications running on the server machine a way to manipulate theUsers &amp; Groups file. It sounds like you're mostly interested inmanipulating your password from a user perspective (rather than writing anapplication to do it), however, so this may not be all that pertinent to you.</p><P><A HREF="#top">Back to top</A></P><a name="Section4"></a><h2>ARAP and PGetAppleTalkInfo bug workaround</h2><p>Date Written:  2/6/92</p><p>Last reviewed:  6/14/93</p><p>After connecting to a remote network via AppleTalk Remote Access (ARA) I cancall <code>PGetAppleTalkInfo</code> and it returns the proper zone name. However, afterdisconnecting, <code>PGetAppleTalkInfo</code> still returns the remote network's zone nameinstead of "*" or nothing as I would expect. Is there some period of time Ishould wait before expecting the zone name and network number to return to zero(no internet)?</p><p>This is, in fact, a bug with ARA version 1.0. Apple is investigating theproblem and there will be a fix in a future release. An easy workaround is tocheck the <code>GetZoneList</code> or <code>GetMyZone</code> call to see if it returns any zones.</p><P><A HREF="#top">Back to top</A></P><h2>Calling ARA Connect without using Remote Access file</h2><p>Date Written:  4/29/92</p><p>Last reviewed:  6/14/93</p><p>How can I call Connect in AppleTalk Remote Access without an existing ARAconnection file created by the Remote Access application?</p><p>This isn't directly possible, because without the ARA connection file yourprogram becomes tied to the underlying link tool. The file was implemented sothat in the future, when there are different link tools for the different linktypes, the program will know the link type and tool, plus associatedlink-specific data to use. To connect without the ARA connection file requiresknowledge of the link tool data structures used by each individual link tool.Because these may change, your code may break.</p><p>However, there's a roundabout way of calling <code>Connect</code>. It requires that youfirst establish a connection using a document created by the ARA application.Next, make the <code>IsRemote</code> call, setting the <code>optionFlags</code> to <code>ctlir_getConnectInfo</code>(see page 11 of the AppleTalk Remote Access Application Programming InterfaceGuide). This will cause the information necessary to create the remoteconnection (<code>connectInfoPtr</code>) to be returned. You would then save this<code>connectInfo</code> data in your application, and when you want to connect sometimelater, you would pass this data to the <code>Connect</code> call (in the <code>connectInfo</code>field).</p>                              <P><A HREF="#top">Back to top</A></P><P><A NAME=Downloads></A></P>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (56K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/nw_525.pdf">Download</A></P>               </TD>            </TR>                     </TABLE>         <BR>         <P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/nw/nw_525.html%3Fid%3DDTS10002575-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/nw/nw_525.html%3Fid%3DDTS10002575-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/nw/nw_525.html%3Fid%3DDTS10002575-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>