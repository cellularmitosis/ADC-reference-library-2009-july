<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Routine Calling Conventions</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING67></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="RTArch-66.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="RTArch-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="RTArch-147.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="RTArch-68.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="RTArch-2.html"><B>Mac OS Runtime Architectures</B></A> / <BR><DD><A HREF="RTArch-65.html"><B>Chapter 5 - CFM-68K Runtime Conventions</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING67-0></A>
<H1>Routine Calling Conventions</H1>
 <A NAME=MARKER-2-23></A>Th<A NAME=MARKER-2-24></A>is section details the process of passing parameters to a routine in the CFM-68K runtime environment. <P>
<DL>
<DT><B>Note</B>
<DD>These parameter passing conventions are part of Apple's standard for procedural interfaces. Object-oriented languages may use different rules for their own method calls. For example, the conventions for C++ virtual function calls may be different from those for C functions.<EM></EM><EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 A routine can have a fixed or variable number of arguments. In an ANSI-style C syntax definition, a routine with a variable number of arguments typically appears with ellipsis points (...) at the end of its input parameter list.<P>
 A variable-argument routine may have several required (that is, fixed) parameters preceding the variable parameter portion. For example, the function definition<P>
<PRE>
mooColor(number,[color1. . .])
</PRE>
 gives no restriction on the number of color arguments, but you must always precede them with a number argument. Therefore, number is a fixed parameter. <P>
 The calling routine passes parameters by pushing their values onto the stack, and the stack grows downward (towards lower addresses) with each push. The rightmost parameter is the first pushed onto the stack, with the others following from right to left. For example, given the code<P>
<PRE>
cow = mooFunc(moo1, moo2, moo3);
</PRE>
 the calling routine first pushes the value of <CODE>moo3</CODE> onto the stack, followed by <CODE>moo2</CODE> and then <CODE>moo1</CODE>.<P>
 The return address of the routine is the last item pushed onto the stack. <P>
<DL>
<DT><B>Note</B>
<DD>The order of passing parameters onto the stack in CFM-68K is identical to that for the classic 68K C calling convention. For information about the 68K stack structure, see <A HREF=RTArch-132.html#MARKER-9-23>"Classic 68K Stack Structure and Calling Conventions," beginning on page 11-4</A>.<EM></EM><EM><A NAME=MARKER-2-25></A></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="RTArch-68.html#HEADING68-0">Parameter Deallocation</A>
<DD>
<DT><A HREF="RTArch-69.html#HEADING69-0">Stack Alignment</A>
<DD>
<DT><A HREF="RTArch-70.html#HEADING70-0">Fixed-Argument Passing Conventions</A>
<DD>
<DT><A HREF="RTArch-71.html#HEADING71-0">Variable-Argument Passing Conventions</A>
<DD>
<DT><A HREF="RTArch-72.html#HEADING72-0">Function Value Return</A>
<DD>
<DT><A HREF="RTArch-73.html#HEADING73-0">Stack Frames, A6, and Reserved Frame Slots</A>
<DD>
<DT><A HREF="RTArch-74.html#HEADING74-0">Register Preservation </A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="RTArch-66.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="RTArch-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="RTArch-147.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="RTArch-68.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="RTArch-3.html">&copy; Apple Computer, Inc.</A><br>11 MARCH 1997<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
