<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Control Resource(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING366></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-365.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-367.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-297.html"><B>Chapter 5 - Control Manager</B></A> / <A HREF="Toolbox-315.html"><B>Control Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-365.html"><B>Resources</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING366-0></A>
<H3><A NAME=MARKER-9-609></A>The Control Resource</H3>
 <A NAME=MARKER-2-610></A><A NAME=MARKER-14-494></A>You can use a control resource to define a control. A control resource is a resource of <BR>type <CODE>'CNTL'</CODE>. All control resources must have resource ID numbers greater than 128. <BR>Use the <CODE>GetNewControl</CODE> function (described on <A HREF=Toolbox-323.html#MARKER-9-378>page 5-74</A>) to create a control defined in a control resource. The Control Manager uses the information you specify to create a control record in memory. (The control record is described on <A HREF=Toolbox-317.html#MARKER-9-326>page 5-66</A>.)<P>
 This section describes the structure of this resource after it is compiled by the Rez resource compiler, available from APDA. The format of a Rez input file for a control resource differs from its compiled output form, which is illustrated in <A HREF=#MARKER-9-612>Figure 5-25</A>. If you are concerned only with creating a control resource, see <A HREF=Toolbox-309.html#MARKER-9-119>"Creating and Displaying a Control" beginning on page 5-13</A>.<P>
<B>Figure 5-25  <A NAME=MARKER-9-612></A>Structure of a compiled control (<CODE>'CNTL'</CODE>) resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/CM-L-01.jpg"><P>
 The compiled version of a control resource contains the following elements:<P>
<UL>
<LI>The rectangle, specified in coordinates local to the window, that encloses the control; this rectangle encloses the control and thus determines its size and location.<A NAME=MARKER-2-472></A>
<LI>The initial setting for the control.<A NAME=MARKER-9-473></A><P>
<UL>
<LI>For controls--such as buttons--that don't retain a setting, this value should be 0.
<LI>For controls--such as checkboxes or radio buttons--that retain an on-or-off setting, a value of 0 in this element indicates that the control is initially off; a value of 1 indicates that the control is initially on.
<LI>For controls--such as scroll bars and dials--that can take a range of settings, whatever initial value is appropriate within that range is specified in this element.
<LI>For pop-up menus, a combination of values instructs the Control Manager where and how to draw the control title. Appropriate values, along with the constants used to specify them in a Rez input file, are listed here:<P>
</UL>
</UL>
<PRE>
   CONST popupTitleBold       = $00000100;   {boldface font style}
         popupTitleItalic     = $00000200;   {italic font style}
         popupTitleUnderline  = $00000400;   {underline font }
                                             { style}
         popupTitleOutline    = $00000800;   {outline font style}
         popupTitleShadow     = $00001000;   {shadow font style}
         popupTitleCondense   = $00002000;   {condensed text}
         popupTitleExtend     = $00004000;   {extended text}
         popupTitleNoStyle    = $00008000;   {monostyle text}
         popupTitleLeftJust   = $00000000;   {place title left }
                                             { of pop-up box}
         popupTitleCenterJust = $00000001;   {center title over }
                                             { pop-up box}
         popupTitleRightJust  = $000000FF;   {place title right }
                                             { of pop-up box}
</PRE>
<UL>
<LI>The visibility of the control. If this element contains the value <CODE>TRUE</CODE>, <CODE>GetNewControl</CODE> draws the control immediately, without using the application's standard updating mechanism for windows. If this element contains the value <CODE>FALSE</CODE>, the application must use the <CODE>ShowControl</CODE> procedure (described on <A HREF=Toolbox-326.html#MARKER-9-399>page 5-79</A>) when it's prepared to display the control.<A NAME=MARKER-2-615></A>
<LI>Fill. This should be set to 0.
<LI>The maximum setting for the control.<P>
<UL>
<LI>For controls--such as buttons--that don't retain a setting, this value should be 1.
<LI>For controls--such as checkboxes or radio buttons--that retain an on-or-off setting, this element should contain the value 1 (meaning "on").
<LI>For controls--such as scroll bars and dials--that can take a range of settings, this element can contain whatever maximum value is appropriate; when the application makes the maximum setting of a scroll bar equal to its minimum setting, the control definition function automatically makes the scroll bar inactive, and when the application makes the maximum setting exceed the minimum, the control definition function makes the scroll bar active again.
<LI>For pop-up menus, this element contains the width, in pixels, of the control title.<P>
</UL>
<LI>The minimum setting for the control.<P>
<UL>
<LI>For controls--such as buttons--that don't retain a setting, this value should be 0.
<LI>For controls--such as checkboxes or radio buttons--that retain an on-or-off setting, the value 0 (meaning "off") should be set in this element.
<LI>For controls--such as scroll bars and dials--that can take a range of settings, this element contains whatever minimum value is appropriate.
<LI>For pop-up menus, this element contains the resource ID of the <CODE>'MENU'</CODE> resource that describes the menu items.<A NAME=MARKER-2-480></A><P>
</UL>
<LI><A NAME=MARKER-9-481></A>The control definition ID, which the Control Manager uses to determine the control definition function for this control. <A HREF=Toolbox-360.html#MARKER-9-553>"Defining Your Own Control Definition Function"</A> beginning on <A HREF=Toolbox-360.html#MARKER-9-553>page 5-102</A> describes how to create control definition functions and their corresponding control definition IDs. The following list shows the control definition ID numbers--and the constants that represent them in Rez input files--for the standard controls.<P>
</UL>
<PRE>
   CONST
      pushButProc          = 0;     {button}
      checkBoxProc         = 1;     {checkbox}
      radioButProc         = 2;     {radio button}
      useWFont             = 8;     {when added to above, shows }
                                    { title in the window font}
      scrollBarProc        = 16;    {scroll bar}
      popupMenuProc        = 1008;  {pop-up menu}
      popupFixedWidth      = $0001; {add to popupMenuProc to }
                                    { use fixed-width control}
      popupUseAddResMenu   = $0004; {add to popupMenuProc to }
                                    { specify a value of type }
                                    { ResType in the contrlRfCon }
                                    { field of the control }
                                    { record; Menu Manager }
                                    { adds resources of this }
                                    { type to the menu}
      popupUseWFont        = $0008; {if added to popupMenuProc, }
                                    { shows title in window font}
</PRE>
<DL>
<DT><B>Note</B>
<DD><A NAME=MARKER-2-620></A><A NAME=MARKER-2-619></A>The title of a button, checkbox, radio button, or pop-up menu normally appears in the system font, which in Roman script systems is 12-point Chicago. Do not use a smaller font; some script systems, such as KanjiTalk, require 12-point fonts. You should generally use the system font in your controls; doing so will simplify localization effort. However, if you absolutely need to display a control title in the font currently associated with the window's graphics port, you can add the <CODE>popupUseWFont</CODE> constant to the pop-up menu control definition <BR>ID or add the <CODE>useWFont</CODE> constant to the other standard control <BR>definition IDs.<EM></EM><A NAME=MARKER-2-490></A><A NAME=MARKER-2-621></A><A NAME=MARKER-2-622></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<UL>
<LI>The control's reference value, which is set and used only by the application (except when the application adds the <CODE>popupUseAddResMenu</CODE> variation code to the <CODE>popupMenuProc</CODE> control definition ID, as described in <A HREF=Toolbox-309.html#MARKER-9-164>"Creating a Pop-Up Menu" beginning on page 5-22</A>).<A NAME=MARKER-2-623></A>
<LI>For controls--such as buttons, checkboxes, radio buttons, and pop-up menus--that need a title, the string for that title; for controls that don't use titles, an empty string<DFN>.<A NAME=MARKER-2-624></A></DFN> <P>
</UL>
 After you use <CODE>GetNewControl</CODE> to create the control, you can change the current setting, the maximum setting, the minimum setting, the reference value, and the title by using, respectively, the <CODE>SetControlValue</CODE>, <CODE>SetControlMaximum</CODE>, <CODE>SetControlMinimum</CODE>, <CODE>SetControlReference</CODE>, and <CODE>SetControlTitle</CODE> routines. You can use the <CODE>MoveControl</CODE> and <CODE>SizeControl</CODE> procedures to change the control's rectangle. You <BR>can use the <CODE>GetControlValue</CODE>, <CODE>GetControlMaximum</CODE>, <CODE>GetControlMinimum</CODE>, <CODE>GetControlReference</CODE>, and <CODE>GetControlTitle</CODE> routines to determine the <BR>control values.<A NAME=MARKER-2-625></A><A NAME=MARKER-2-626></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-365.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-367.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
