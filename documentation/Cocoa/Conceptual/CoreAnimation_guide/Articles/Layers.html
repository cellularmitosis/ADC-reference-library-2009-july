<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Core Animation Programming Guide: Layer Geometry and Transforms</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Layer Geometry and Transforms"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006082" title="Layer Geometry and Transforms"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../GraphicsImaging/index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../../GraphicsImaging/Quartz-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../index.html" target="_top">Core Animation Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="CoreAnimationArchitecture.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="LayerTreeHierarchy.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40006082-SW1" title="Layer Geometry and Transforms"></a><hr /><H1>Layer Geometry and Transforms</H1><p>This chapter describes the components of a layer’s geometry, how they interrelate, and how transform matrices can produce complex visual effects.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Layers.html#//apple_ref/doc/uid/TP40006082-SW8">Layer Coordinate System</a>
				
			<br/>
			
        
			
			
				<a href="Layers.html#//apple_ref/doc/uid/TP40006082-SW9">Specifying a Layer’s Geometry</a>
				
			<br/>
			
        
			
			
				<a href="Layers.html#//apple_ref/doc/uid/TP40006082-SW10">Transforming a Layer’s Geometry</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40006082-SW8" title="Layer Coordinate System"></a><h2>Layer Coordinate System</h2><p>The layer's location and size are expressed using the same coordinate system that the Quartz graphics environment uses. By default, the graphics environment origin (0.0,0.0) is located in the lower left, and values are specified as floating-point numbers that increase up and to the right in coordinate system units. The coordinate system units, the unit square, is the size of a 1.0 by 1.0 rectangle.</p><p>Every layer instance defines and maintains its own coordinate system, and all sublayers are positioned, and drawing is done, relative to this coordinate system. Methods are provided to convert points, rectangles and sizes from one layer coordinate system to another. A layer's coordinate system should be considered the base coordinate system for all the content of the layer, including its sublayers.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40006082-DontLinkElementID_13" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;The default root layer of a <code>UIView</code> instance uses a flipped coordinate system that matches the default coordinate system of a  <code>UIView</code> instance–the origin is in the top-left and values increase down and to the right. Layers created by instantiating <code>CALayer</code> directly use the standard Core Animation coordinate system.</p></div><a name="//apple_ref/doc/uid/TP40006082-SW9" title="Specifying a Layer&acirc;&#128;&#153;s Geometry"></a><h2>Specifying a Layer’s Geometry</h2><p>While layers and the layer-tree are analogous to Cocoa views and the view hierarchy in many ways, how a layer's geometry is specified is different, and often simpler, manner. All of a layer’s geometric properties, including the layer’s transform matrices, can be implicitly and explicitly animated.</p><p><span class="content_text">Figure 1</span> shows the properties used to specify a layer's geometry in context.</p><br/><div><a name="//apple_ref/doc/uid/TP40006082-SW2" title="Figure 1CALayer geometry properties"></a><p><strong>Figure 1&nbsp;&nbsp;</strong>CALayer geometry properties</p><img src = "../Art/layer_bounds.jpg" alt = "CALayer geometry properties" ></div><br/><p>The <code>position</code> property is a <code>CGPoint</code> that specifies the position of the layer relative to its superlayer, and is expressed in the superlayer's coordinate system.</p><p>The <code>bounds</code> property is a <code>CGRect</code> that provides the size of the layer (<code>bounds.size</code>) and the origin (<code>bounds.origin</code>). The bounds origin is used as the origin of the graphics context when you override a layer's drawing methods.</p><p>Layers have an implicit <code>frame</code>  that is a function of the <code>position</code>, <code>bounds</code>, <code>anchorPoint</code>, and <code>transform</code> properties. Setting a new frame rectangle changes the layer's <code>position</code> and <code>bounds</code> properties appropriately, but the frame itself is not stored. When a new frame rectangle is specified the bounds origin is undisturbed, while the bounds size is set to the size of the frame. The layer's position is set to the proper location relative to the anchor point. When you get the <code>frame</code> property value, it is calculated relative to the <code>position</code>, <code>bounds</code>, and <code>anchorPoint</code> properties.</p><p>The <code>anchorPoint</code> property is a <code>CGPoint</code> that specifies a location within the bounds of a layer that corresponds with the position coordinate. The anchor point specifies how the bounds are positioned relative to the position property, as well as serving as the point that transforms are applied around. It is expressed in the unit coordinate system-the lower left of the layer bounds is 0.0,0.0, and the upper right is 1.0,1.0.</p><p>When you specify the frame of a layer, <code>position</code> is set relative to the anchor point. When you specify the position of the layer, <code>bounds</code> is set relative to the anchor point.</p><p><span class="content_text">Figure 2</span> shows three example values for an anchor point.</p><br/><div><a name="//apple_ref/doc/uid/TP40006082-SW3" title="Figure 2Three anchorPoint values"></a><p><strong>Figure 2&nbsp;&nbsp;</strong>Three anchorPoint values</p><img src = "../Art/anchorpoint.gif" alt = "Three anchorPoint values" width="435" height="347"></div><br/><p>The default value for <code>anchorPoint</code> is (0.5,0.5) which corresponds to the center of the layer's bounds (shown as point A in <span class="content_text">Figure 2</span>.) Point B shows the position of an anchor point set to (0.0,0.5). Finally, point C (1.0,0.0) causes specifies that the layer’s <code>position</code> is set to the bottom right corner of the frame.</p><p>The relationship of the <code>frame</code>, <code>bounds</code>, <code>position</code>, and <code>anchorPoint</code> properties is shown in <span class="content_text">Figure 3</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40006082-SW15" title="Figure 3Layer Origin of (0.5,0.5)"></a><p><strong>Figure 3&nbsp;&nbsp;</strong>Layer Origin of (0.5,0.5)</p><img src = "../Art/anchorpoint_default.jpg" alt = "Layer Origin of (0.5,0.5)" ></div><br/><p>In this example the <code>anchorPoint</code> is set to the default value of (0.5,0.5), which corresponds to the center of the layer. The <code>position</code> of the layer is set to (100.0,100.0), and the <code>bounds</code> is set to the rectangle (0.0, 0.0, 120.0, 80.0). This causes the frame property to be calculated as (40.0, 60.0, 120.0, 80.0). </p><p>If you created a new layer, and set only the layer’s frame property to (40.0, 60.0, 120.0, 80.0), the <code>position</code> property would be automatically set to (100.0,100.0), and the bounds property to (0.0, 0.0, 120.0, 80.0).</p><p><span class="content_text">Figure 4</span> shows a layer with the same <code>frame</code> rectangle as the layer in <span class="content_text">Figure 3</span>. However, in this case the <code>anchorPoint</code> of the layer is set to (0.0,0.0), which corresponds with the bottom left corner of the layer.</p><br/><div><a name="//apple_ref/doc/uid/TP40006082-SW16" title="Figure 4Layer Origin of (0.0,0.0)"></a><p><strong>Figure 4&nbsp;&nbsp;</strong>Layer Origin of (0.0,0.0)</p><img src = "../Art/anchorpoint_0_0.jpg" alt = "Layer Origin of (0.0,0.0)" ></div><br/><p>With the frame set to (40.0, 60.0, 120.0, 80.0), the value of the <code>bounds</code> property is the same, but the value of the <code>position</code> property has changed.</p><p>Another aspect of layer geometry that differs from Cocoa views is that you can specify a radius that is used to round the corners of the layer. The <code>cornerRadius</code> property specifies a radius the layer uses when drawing content, clipping sublayers, and drawing the border and shadow.</p><p>The <code>zPosition</code> property specifies the z-axis component of the layer's position.  The <code>zPosition</code> is intended to be used to set the visual position of the layer relative to its sibling layers.  It should not be used to specify the order of layer siblings, instead reorder the layer in the sublayer array.</p><a name="//apple_ref/doc/uid/TP40006082-SW10" title="Transforming a Layer&acirc;&#128;&#153;s Geometry"></a><h2>Transforming a Layer’s Geometry</h2><p>Once established, you can transform a layer's geometry using matrix transformations. The <code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/c/tdef/CATransform3D" target="_top">Transform</a></code> data structure defines a homogenous three-dimensional transform (a 4 by 4 matrix of <code>CGFloat</code> values) that is used to rotate, scale, offset, skew, and apply perspective transformations to a layer.</p><p>Two layer properties specify transform matrices: <code>transform</code> and <code>sublayerTransform</code>. The matrix specified by the <code>transform</code> property is applied to the layer and its sublayers relative to the layer's <code>anchorPoint</code>. <span class="content_text">Figure 3</span> shows how rotation and scaling transforms affect a layer when using an anchorPoint of (0.5,0.5), the default value. <span class="content_text">Figure 4</span> shows how the same transform matrices affect a layer when an anchorPoint of (0.0,0.0). The matrix specified by the <code>sublayerTransform</code> property is applied only to the layer’s sublayers, rather than to the layer itself. </p><p>You create and modify <code>CATransform3D</code> data structures in one of the following ways:</p><ul class="ul"><li class="li"><p>using the <code>CATransform3D</code> functions</p></li><li class="li"><p>modifying the data structure members directly</p></li><li class="li"><p>using key-value coding and key paths.</p></li></ul><p>The constant <code>CATransform3DIdentity</code> is the identity matrix, a matrix that has no scale, rotation, skewing, or perspective applied. Applying the identity matrix to a layer causes it to be displayed with its default geometry.</p><a name="//apple_ref/doc/uid/TP40006082-SW11" title="Transform Functions"></a><h3>Transform Functions</h3><p>The transform functions available in Core Animation operate on matrices. You can use these functions (shown in <span class="content_text">Table 1</span>) to construct a matrix that you later apply to a layer or its sublayers by modifying the transform or sublayerTransform properties respectively. The transform functions either operate on, or return, a <code>CATransform3D</code> data structure. This enables you to construct simple or complex transforms that you can readily reuse.</p><a name="//apple_ref/doc/uid/TP40006082-SW6" title="Table 1CATransform3D transform functions for translation, rotation, and scaling"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 1&nbsp;&nbsp;</strong>CATransform3D transform functions for translation, rotation, and scaling</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Function</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Use</p></th></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DMakeTranslation" target="_top">CATransform3DMakeTranslation</a></code></p></td><td ><p>Returns a transform that translates by '(tx, ty, tz)'. t' = [1 0 0 0; 0 1 0 0; 0 0 1 0; tx ty tz 1].</p></td></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DTranslate" target="_top">CATransform3DTranslate</a></code></p></td><td ><p>Translate 't' by '(tx, ty, tz)' and return the result: * t' = translate(tx, ty, tz) * t.</p></td></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DMakeScale" target="_top">CATransform3DMakeScale</a></code></p></td><td ><p>Returns a transform that scales by `(sx, sy, sz)': * t' = [sx 0 0 0; 0 sy 0 0; 0 0 sz 0; 0 0 0 1].</p></td></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DScale" target="_top">CATransform3DScale</a></code></p></td><td ><p>Scale 't' by '(sx, sy, sz)' and return the result: * t' = scale(sx, sy, sz) * t.</p></td></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DMakeRotation" target="_top">CATransform3DMakeRotation</a></code></p></td><td ><p>Returns a transform that rotates by 'angle' radians about the vector '(x, y, z)'. If the vector has length zero the identity transform is returned.</p></td></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DRotate" target="_top">CATransform3DRotate</a></code></p></td><td ><p>Rotate 't' by 'angle' radians about the vector '(x, y, z)' and return the result. t' = rotation(angle, x, y, z) * t.</p></td></tr></table></div><p>The angles of rotation is specified in radians rather than degrees. The following functions allow you to convert between radians and degrees. </p><div class="codesample"><table><tr><td scope="row"><pre>CGFloat DegreesToRadians(CGFloat degrees) {return degrees * M_PI / 180;};<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat RadiansToDegrees(CGFloat radians) {return radians * 180 / M_PI;};<span></span></pre></td></tr></table></div><p>Core Animation provides a transform function that inverts a matrix, <code>CATransform3DInvert</code>. Inversion is generally used to provide reverse transformation of points within transformed objects. Inversion can be useful when you need to recover a value that has been transformed by a matrix: invert the matrix, and multiply the value by the inverted matrix, and the result is the original value.</p><p>Functions are also provided that allow you to convert a <code>CATransform3D</code> matrix to a <code>CGAffineTransform</code> matrix, if the <code>CATransform3D</code> matrix can be expressed as such.</p><a name="//apple_ref/doc/uid/TP40006082-SW12" title="Table 2CATransform3D transform functions for CGAffineTransform conversion"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2&nbsp;&nbsp;</strong>CATransform3D transform functions for CGAffineTransform conversion</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Function</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Use</p></th></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DMakeAffineTransform" target="_top">CATransform3DMakeAffineTransform</a></code></p></td><td ><p>Returns a <code>CATransform3D</code> with the same effect as the passed affine transform.</p></td></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DIsAffine" target="_top">CATransform3DIsAffine</a></code></p></td><td ><p>Returns <code>YES</code> if the passed <code>CATransform3D</code> can be exactly represented an affine transform.</p></td></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DGetAffineTransform" target="_top">CATransform3DGetAffineTransform</a></code></p></td><td ><p>Returns the affine transform represented by the passed <code>CATransform3D</code>.</p></td></tr></table></div><p>Functions are provided for comparing transform matrices for equality with the identity matrix, or another transform matrix.</p><a name="//apple_ref/doc/uid/TP40006082-SW13" title="Table 3CATransform3D transform functions for testing equality"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 3&nbsp;&nbsp;</strong>CATransform3D transform functions for testing equality</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Function</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Use</p></th></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DIsIdentity" target="_top">CATransform3DIsIdentity</a></code></p></td><td ><p>Returns <code>YES</code> if the transform is the identity transform.</p></td></tr><tr><td  scope="row"><p><code><a href="../../../Reference/CoreAnimation_functions/Reference/reference.html#//apple_ref/c/func/CATransform3DEqualToTransform" target="_top">CATransform3DEqualToTransform</a></code></p></td><td ><p>Returns <code>YES</code> if the two transforms are exactly equal..</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP40006082-SW14" title="Modifying the Transform Data Structure"></a><h3>Modifying the Transform Data Structure</h3><p>You can modify the value of any of the <code>CATransform3D</code> data structure members as you would any other data structure. <span class="content_text">Listing 1</span> contains the definition of the <code>CATransform3D</code> data structure, the structure members are shown in their corresponding matrix positions.</p><a name="//apple_ref/doc/uid/TP40006082-SW7" title="Listing 1CATransform3D structure"></a><p class="codesample"><strong>Listing 1&nbsp;&nbsp;</strong>CATransform3D structure</p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>struct CATransform3D<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>  CGFloat m11, m12, m13, m14;<span></span></pre></td></tr><tr><td scope="row"><pre>  CGFloat m21, m22, m23, m24;<span></span></pre></td></tr><tr><td scope="row"><pre>  CGFloat m31, m32, m33, m34;<span></span></pre></td></tr><tr><td scope="row"><pre>  CGFloat m41, m42, m43, m44;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct CATransform3D CATransform3D;<span></span></pre></td></tr></table></div><p>The example in <span class="content_text">Listing 2</span> illustrates how to configure a <code>CATransform3D</code> as a perspective transform.</p><a name="//apple_ref/doc/uid/TP40006082-SW4" title="Listing 2Modifying the CATransform3D data structure directly"></a><p class="codesample"><strong>Listing 2&nbsp;&nbsp;</strong>Modifying the CATransform3D data structure directly</p><div class="codesample"><table><tr><td scope="row"><pre> CATransform3D aTransform = CATransform3DIdentity;<span></span></pre></td></tr><tr><td scope="row"><pre>// the value of zDistance affects the sharpness of the transform.<span></span></pre></td></tr><tr><td scope="row"><pre>zDistance = 850;<span></span></pre></td></tr><tr><td scope="row"><pre>aTransform.m34 = 1.0 / -zDistance;<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40006082-SW17" title="Modifying a Transform Using Key Paths"></a><h3>Modifying a Transform Using Key Paths</h3><p>Core Animation extends the key-value coding protocol to allow getting and setting of the commonly values of a layer's <code>CATransform3D</code> matrix through key paths. <span class="content_text">Table 4</span> describes the key paths for which a layer’s <code>transform</code> and <code>sublayerTransform</code> properties are key-value coding and observing compliant.</p><a name="//apple_ref/doc/uid/TP40006082-SW5" title="Table 4CATransform3D key paths"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 4&nbsp;&nbsp;</strong>CATransform3D key paths</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field Key Path</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>rotation.x</code></p></td><td ><p>The rotation, in radians, in the x axis.</p></td></tr><tr><td  scope="row"><p><code>rotation.y</code></p></td><td ><p>The rotation, in radians, in the y axis.</p></td></tr><tr><td  scope="row"><p><code>rotation.z</code></p></td><td ><p>The rotation, in radians, in the z axis.</p></td></tr><tr><td  scope="row"><p><code>rotation</code></p></td><td ><p>The rotation, in radians, in the z axis. This is identical to setting the <code>rotation.z</code> field.</p></td></tr><tr><td  scope="row"><p><code>scale.x</code></p></td><td ><p>Scale factor for the x axis.</p></td></tr><tr><td  scope="row"><p><code>scale.y</code></p></td><td ><p>Scale factor for the y axis.</p></td></tr><tr><td  scope="row"><p><code>scale.z</code></p></td><td ><p>Scale factor for the z axis.</p></td></tr><tr><td  scope="row"><p><code>scale</code></p></td><td ><p>Average of all three scale factors.</p></td></tr><tr><td  scope="row"><p><code>translation.x</code></p></td><td ><p>Translate in the x axis.</p></td></tr><tr><td  scope="row"><p><code>translation.y</code></p></td><td ><p>Translate in the y axis.</p></td></tr><tr><td  scope="row"><p><code>translation.z</code></p></td><td ><p>Translate in the z axis.</p></td></tr><tr><td  scope="row"><p><code>translation</code></p></td><td ><p>Translate in the x and y axis. Value is an NSSize or CGSize.</p></td></tr></table></div><p>You can not specify a structure field key path using Objective-C 2.0 properties. This will not work:</p><div class="codesample"><table><tr><td scope="row"><pre>myLayer.transform.rotation.x=0;<span></span></pre></td></tr></table></div><p>Instead you must use <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueCoding_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/setValue:forKeyPath:" target="_top">setValue:forKeyPath:</a></code> or <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueCoding_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/valueForKeyPath:" target="_top">valueForKeyPath:</a></code> as shown below:</p><div class="codesample"><table><tr><td scope="row"><pre>[myLayer setValue:[NSNumber numberWithInt:0] forKeyPath:@"transform.rotation.x"];<span></span></pre></td></tr></table></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="CoreAnimationArchitecture.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="LayerTreeHierarchy.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-11-13<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/Layers.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/Layers.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/Layers.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
