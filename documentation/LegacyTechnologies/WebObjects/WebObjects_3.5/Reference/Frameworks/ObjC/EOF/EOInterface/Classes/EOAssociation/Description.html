<html><head><title></title></head>

<body bgcolor="#ffffff">

 

 

<h2><a name="//apple_ref/occ/cl/EOAssociation">EOAssociation</a>

 <BR>

</h2>

<p><B>Inherits From:</B><BR>  

EODelayedObserver : NSObject



<p><B>Conforms To:</B>

NSCoding<br>

EOObserving (EODelayedObserver)<br>

NSObject (NSObject)



<p><B>Declared in:</B>

EOInterface/EOAssociation.h



<p><h3>Class At a Glance:</h3>

<p><dl><dt><h4>Purpose</h4>

</dl>An EOAssociation maintains a two-way binding between the properties of a display object, typically a control, and the properties of one or more enterprise objects contained in one or more EODisplayGroups. You typically set them up using Interface Builder, using the programmatic interface most often when defining subclasses. See these subclass specifications for information on the different kinds of EOAssociations:<p>

<p>

<li>EOActionAssociation	&#183;	EOActionInsertionAssociation





<li>EOColumnAssociation	&#183;	EOTableViewAssociation





<li>EOControlAssociation 	&#183;	EOActionCellAssociation





<li>EODetailSelectionAssociation	&#183;	EOPickTextAssociation





<li>EOMasterDetailAssociation	&#183;	EOMasterPeerAssociation 





<li>EOPopUpAssociation	&#183;	EOTextAssociation





<dl><dt><h4>Principal Attributes</h4>

</dl><li>Monitors a single display object





<li>Has multiple aspects that control state of the display object





<li>Can be bound to multiple EODisplayGroups





<dl><dt><h4>Creation</h4>

<dl><dt>Interface Builder

</dl></dl><dl><dt>- initWithObject:

<dl><dt>	Designated initializer.

</dl></dl><p>

<a name="436">

<a name="description"></a>

<h3>Class Description </h3>

</a>EOAssociation defines the mechanism that transfers values between EODisplayGroups and the user interface of an application. An EOAssociation instance is tied to a single <strong>display object</strong>, a user-interface object or other kind of object that manages values intended for display. The EOAssociation takes over certain outlets of the display object and sets its value according to the selection in the EODisplayGroup. An EOAssociation also has various <strong>aspects</strong>, which define the different parameters of the display object that it controls, such as the value or values displayed and whether the display object is enabled or editable. Each aspect can be bound to an EODisplayGroup with a key denoting a property of the enterprise objects in the EODisplayGroup. The value or values of this property determine the value for the EOAssociation's aspect.<p>

EOAssociation is an abstract class, defining only the general mechanism for binding display objects to EODisplayGroups. You always instantiate instances of its various subclasses, which define behavior specific to different kinds of display objects. See the listing in the Class at a Glance section for standard EOAssociation subclasses.<p>

You normally set up EOAssociations using Interface Builder; "<a href="#452">Setting up an EOAssociation Programmatically</a>" below shows how to set them up in code. EOAssociation's programmatic interface is more important when defining custom EOAssociation subclasses. "<a href="#457">Creating a Subclass of EOAssociation</a>" discusses this process in detail.<p>

<a name="440">

<h3> How EOAssociations Work</h3>

</a>An EOAssociation monitors its display object for changes in its value and for other events, and monitors its EODisplayGroups for changes in the selection or in the contents (the enterprise objects). A change at either end causes the EOAssociation to query the object at that end for whatever needs to be done, and to take action on the object at the other end. For example, when the selection changes in the EODisplayGroup, the EOAssociation gets the new value from the selected enterprise object and puts it in the display object. The following sections describe in detail how the EOAssociation works with the object at either end.<p>

<a name="442">

<h4> The Display Object</h4>

</a>An EOAssociation is tied to a single display object, which owns it. Each EOAssociation subclass takes over a particular set of the display object's outlets, such as its target, delegate, or data source, and acts in that role by receiving the messages defined for it. For example, an EOControlAssociation sets itself as the target of its display object, an NSControl, and assigns the control's action method to a method that it implements. When the control is acted upon, it sends its action to the EOAssociation, which takes the control's value and sends it to the EODisplayGroup to update the selected enterprise object. An EOControlAssociation also sets itself as the control's delegate to receive various editing and validation delegate messages.<p>

Because the EOAssociation takes over various outlets of its display object, these outlets can't be set or used for other purposes. EOAssociation's <a href="#546"><B>objectKeysTaken </B></a> class method returns the names of these outlets. Interface Builder also disables them in its Connections Inspector when a display object has an EOAssociation assigned to it. For example, a button with an EOControlAssociation has its target outlet dimmed in the inspector.<p>

Although display objects are typically user-interface objects such as text fields and pop-up lists, they can in fact be any kind of object. Two notable examples of non-interface display objects are EODisplayGroups in master-detail and master-peer configurations. These configurations result in the detail or peer EODisplayGroup displaying the destination values for a to-many relationship selected in the master EODisplayGroup. See the EOMasterDetailAssociation, EOMasterPeerAssociation, and EODetailSelectionAssociation class specifications for more information on master-detail and master-peer configurations.<p>

<a name="446">

<h4> Bindings: Aspects, EODisplayGroups, and Keys</h4>

</a>Though an EOAssociation has only one display object, it can have any number of aspects, which define what the EOAssociation monitors in its EODisplayGroups. Aspects are bound to EODisplayGroups through keys describing class properties or other properties of the enterprise objects in the EODisplayGroups. Depending on the type of EOAssociation, there may be only one aspect or several aspects. Where there are several, they can be optional or mandatory; they may all have to be bound to a single EODisplayGroup; they may be bound to different EODisplayGroups; or they may be mutually exclusive, in that if one is used the other must not be used.<p>

An aspect reflects a characteristic of the EOAssociation's display object: the value it displays, the list of possible values it can contain, whether it's enabled or editable, and so on. Most EOAssociations have a "value" aspect, for example. The aspect's value is determined by the values of enterprise object properties in the EODisplayGroup that the aspect is bound to. The value can be taken from all of the enterprise objects in the EODisplayGroup, or from just the selected ones. Some aspects are "read-only" from the EODisplayGroup, merely causing changes in the display object when the EODisplayGroup changes; others affect the properties of enterprise objects in the EODisplayGroup when the EOAssociation's display object changes.<p>

For example, an EOControlAssociation defines the aspects "value" and "enabled". To set up a text field so that it displays the salary for the selected enterprise object, you create an EOControlAssociation for the text field, and bind its "value" aspect to the "salary" key of the EODisplayGroup containing the enterprise objects. You can also bind its "enabled" aspect to some key such as "eligibleForRaise", so that if this property has a non-zero value the user can edit the salary value in the text field. Then, when the user presses the Return key or otherwise finishes editing, the new value is sent to the EODisplayGroup.<p>

A multi-valued aspect can represent the destination of a to-many relationship, or it can define the range of possible values for an individual object's property. One such EOAssociation subclass, EOPopUpAssociation, has a "titles" aspect that's set to all of the possible values for a given key; these values then make up the list of items in the pop-up list. It also has a "selectedObject" aspect, bound to an EODisplayGroup whose entities use those value, that selects the pop-up list item for the value of the selected enterprise object in the EODisplayGroup. Binding the "titles" aspect to the "name" key of a Department entity's EODisplayGroup, for example, results in a pop-up list containing the names of all departments.<p>

EOAssociations register themselves with their EODisplayGroups in order to be notified of changes in their enterprise objects. When an EODisplayGroup changes its selection or contents, its EOAssociations are sent a <B><a href="#613">subjectChanged</a> </B> message. This message doesn't indicate which EODisplayGroup has changed, so the EOAssociation must query each of its EODisplayGroup as described below under "<a href="#480">Monitoring Changes from the EODisplayGroup</a>." When the EOAssociation needs to send a change to an EODisplayGroup, it typically does so by invoking <B><a href="#597">setValue:forAspect:</a> </B>. This process is described under "<a href="#484">Monitoring Changes from the Display Object</a>."<p>

<a name="452">

<h3> Setting up an EOAssociation Programmatically</h3>

</a>Though you normally set up EOAssociations with the Interface Builder application, you can do so programmatically as well. Because EOAssociations coordinate the actions of many objects, linking a display object to a control group is a multi-step process, as shown by this code fragment:<p>

<blockquote><pre>NSTextField *salaryField;        /* Assume this exists. */<br>EODisplayGroup *employeeGroup;   /* Assume this exists. */<br>EOControlAssociation *myAssoc;<br>

</pre></blockquote><p>

<blockquote><pre>myAssoc = [[EOControlAssociation alloc] initWithObject:salaryField];<br>[myAssoc bindAspect:@"value" displayGroup:employeeGroup key:@"salary"];<br>[myAssoc bindAspect:@"enabled" displayGroup:employeeGroup key:@"eligibleForRaise"];<br>[myAssoc establishConnection];<br>[myAssoc release];

</pre></blockquote><p>

This example first allocates an EOAssociation subclass and initializes it with the display object it monitors, in this case <B>salaryField </B>. At this point the EOAssociation is tenuously linked to <B>salaryField </B>; it hasn't appropriated any of the field's outlets, and hasn't been retained by the field. Before this can happen, the EOAssociation must have at least one aspect bound to an EODisplayGroup. This is accomplished by the two <B><a href="#553">bindAspect:displayGroup:key:</a> </B> messages, which define the nature of the field's interaction with <B>employeeGroup </B>. Now all of the potential connections have been put in place, and an <B>establishConnection </B> message causes them to be confirmed: <B>salaryField </B> is made to assume <B>myAssoc </B> as its target and delegate, and <B>myAssoc </B> is registered as an observer of <B>employeeGroup </B>. At this point <B>myAssoc </B> is retained by the field, so it can be safely released.<p>

<a name="457">

<h3> Creating a Subclass of EOAssociation</h3>

</a>If none of the standard EOAssociation subclasses meets your needs, you can create a new one without much effort. To do so, you need to define four areas of functionality:<p>

<ul><li>What your subclass monitors and which display objects is can work with.<br><li>How your subclass establishes its connections with its display object and its EODisplayGroups.<br><li>How it monitors the EODisplayGroups and updates the display object.<br><li>How it monitors the display object and updates the EODisplayGroups.<br></ul><p>The following four sections describe how to do each of these.<p>

<a name="464">

<h4> Defining Capabilities</h4>

</a>A significant part of creating an EOAssociation subclass is defining and advertising what the subclass works with. This allows Interface Builder to make your subclass available in its Connections Inspector pop-up list, just like any other. The characteristics that your subclass should define are:<p>

<B>Aspects </B> (required). Your EOAssociation subclass must define an <B>aspects </B> class method that returns an NSArray of aspect names, as NSStrings. Some standard aspects are:<p>

<Table Border="3">

<caption></caption>

<tr><th>Aspect Name<p>

</th><th>Use<p>

</th></tr>

<tr><td scope="row"><a name="1174">

value

</a></td><td><a name="1176">

The value of an attribute or relationship

</a></td></tr>

<tr><td scope="row"><a name="1178">

enabled

</a></td><td><a name="1180">

Whether the control should be enabled

</a></td></tr>

<tr><td scope="row"><a name="1182">

titles

</a></td><td><a name="1184">

All existing values for an attribute

</a></td></tr>

<tr><td scope="row"><a name="1186">

selectedTitle

</a></td><td><a name="1188">

The value of the selected attribute (bound to the same key as \xd2 titles\xd3 )

</a></td></tr>



</Table>



<Table>

<tr><td>

</Table>

<p><B>What the subclass works with </B> (required). Interface Builder asks each EOAssociation subclass if it can work with a given object when it displays its Connections Inspector. Your subclass should implement the <B><a href="#543">isUsableWithObject:</a> </B> class method to examine the object provided and return YES if it can work with that object. This method can examine the class of the object provided, or any of its attributes, to determine whether it can work with the object. For example, EOPopUpAssociation verifies that the object is an NSPopUpButton, while EOMasterDetailAssociation checks that the object is an EODisplayGroup whose data source is an EODetailDataSource.<p><B>Aspect signatures </B> (optional). Aspects by default are made available for any kind of property-single-valued attributes, to-one relationships, and to-many relationships. If your subclass has aspects that only have meaning for one or two of these, it should define an <B><a href="#526">aspectSignatures</a> </B> class method that returns an NSArray of NSStrings corresponding to the aspects. Each string should contain a subset of the string "A1M", where "A" indicates that the aspect can be used with attributes (where the value is a value-bearing object such as NSString or NSNumber), "1" that it can be used with to-one relationships (where the value is an enterprise object), and "M" indicates that the aspect can be used with to-many relationships (where the value is an array of enterprise objects). EOControlAssociation only displays single attributes, so its aspect signature for "value" and "enabled" is "A", "A". EOMasterDetailAssociation only works with relationships, so its aspect signature for "parent" is "1M".<p><B>Which outlets it uses </B> (optional). Interface Builder disables connections to outlets used by an EOAssociation, so if your subclass uses any it should advertise them by defining the <B><a href="#546">objectKeysTaken</a> </B> class method to return an NSArray containing the names of the outlets. These are typically the standard "target", "delegate", "dataSource", and so on.<p><B>EOAssociation classes superseded </B> (optional). If your EOAssociation subclass applies uniquely to display objects that other kinds of EOAssociations simply happen to work with, it should implement the <B><a href="#537">associationClassesSuperseded</a> </B> class method to return an array of these classes. EOPopUpAssociation, for example, works with EOPopUpButton, which as a subclass of NSControl is also eligible for the EOControlAssociation. Since this isn't a meaningful or useful EOAssociation for a pop-up button, EOPopUpAssociation supersedes it, and Interface Builder doesn't present it in its Connections Inspector when a pop-up button is selected.<p><B>Display name </B> (optional). If you want your subclass to be listed in Interface Builder's Associations pop-up list with a name other than that of its class, it can override the <B><a href="#540">displayName</a> </B> to return that name. This is often done to truncate long names so they fit in the pop-up button.<p><B>Primary aspect </B> (optional). If your subclass implements the <B><a href="#549">primaryAspect</a> </B> class method, Interface Builder automatically selects it the first time the user drags a connection from the display object and chooses your EOAssociation subclass in the Connections Inspector.<p><B>Binding ability </B> (optional). If your subclass defines aspects that are mutually exclusive, available only for a particular kind of display object, or are otherwise not always available, you might want to implement the instance method <B><a href="#561">canBindAspect:displayGroup:key:</a> </B> to check these types of conditions. Interface Builder uses this information to enable and disable aspects, to guide the user in property setting up EOAssociations.<p><B>Priority </B> (optional). EOAssociation uses the default EODelayedObserver priority of EODelayedObserverPriorityThird. If your subclass need a higher or lower priority, it should override the <B>priority </B> method appropriately. EOMasterDetailAssociation, for example, uses EODelayedObserverPrioritySecond to catch updates before other EOAssociations based on it.<p><a name="477">

<h4> Setting Up</h4>

</a>EOAssociation's designated initializer is <B><a href="#588">initWithObject:</a> </B>, but you rarely need to override this method. Instead, you override <B><a href="#583">establishConnection</a> </B>, which is where the real initialization takes place, as described above in "<a href="#452">Setting up an EOAssociation Programmatically</a>." Your implementation of this method should invoke <B>super </B>'s implementation to establish the aspect bindings, which makes the EOAssociation an observer of its EODisplayGroups, then set the outlets and other state of the display object (and any associated objects). This usually takes the form of <B>setTarget: </B>, <B>setDelegate: </B>, and other messages to plug in the outlets, along with messages such as <B>setAction: </B> to register a method that your EOAssociation subclass implements and that should be invoked by the display object. For display objects that work with others, such as NSControls and NSCells, your subclass might even need to get the companion object to set something.<p>

Once your EOAssociation object has tied itself to its EODisplayGroups and its display object, it's ready to work.<p>

<a name="480">

<h4> Monitoring Changes from the EODisplayGroup</h4>

</a>An EOAssociation is notified of changes in its EODisplayGroups through the <B><a href="#613">subjectChanged</a> </B> method. This lets the EOAssociation object know that one or more of its EODisplayGroups has changed its selection or its contents, or both. Your EOAssociation can then query each of its EODisplayGroups for what's changed, and update its display object accordingly. To get the EODisplayGroup for a given aspect, you can use the <B><a href="#570">displayGroupForAspect:</a> </B> method, and to get the key it's bound to, use <B><a href="#574">displayGroupKeyForAspect:</a> </B>.<p>

How your EOAssociation handles this message depends on whether the aspect represents a single value, as a text field does, or multiple values, as a table column or matrix does. A single-value aspect needs only to be updated with the new value. Your EOAssociation can do this by invoking its own <B><a href="#616">valueForAspect:</a> </B> method and passing that value to the display object in whatever way necessary, such as with a <B>setObjectValue: </B> or <B>setEnabled: </B> message.<p>

A multi-valued aspect requires a bit more care for efficiency's sake. In this case, your EOAssociation should send the EODisplayGroup <B>contentsChanged </B> and <B>selectionChanged </B> messages to determine what has changed. If the contents have changed, your EOAssociation should reload all values for the aspect in question and update its display object accordingly. If only the selection has changed, your EOAssociation should simply get the selection indexes from the EODisplayGroup and update the selection in its display object, if appropriate. For aspects that don't reflect the selection, your EOAssociation need do nothing.<p>

<a name="484">

<h4> Monitoring Changes from the Display Object</h4>

</a>Changes in the display object make their way to your EOAssociation through whatever messages are defined for the outlets the EOAssociation took over. A control EOAssociation sends its display object a <B>setAction: </B> message to register an action method, which is then invoked when the uses clicks the button, edits text and presses Return, or otherwise operates the control. This method should then perform whatever operation is necessary, whether that be to update a value in the EODisplayGroup or send a message to the EODisplayGroup or to its enterprise objects. For example, an EOAssociation used to display a value must update the value of the selected enterprise object by invoking <B><a href="#597">setValue:forAspect:</a> </B> with the "value" aspect. Another EOAssociation might be tied to a Grant Raise button that sends a <B>raiseSalary </B> message to the selected enterprise objects when the button is clicked.<p>

EOAssociations that work with multiple EODisplayGroups and enterprise objects might need to interact more directly with the EODisplayGroups. They can retrieve the EODisplayGroup for a particular aspect using <B><a href="#570">displayGroupForAspect:</a> </B>, and the key it's bound by with <B><a href="#574">displayGroupKeyForAspect:</a> </B>. Once it has these, the EOAssociation can send the EODisplayGroup <B>setSelectedObjectValue:forKey: </B>, <B>setValue:forObject:key: </B>, or <B>setValue:forObjectAtIndex:key: </B> messages as needed to effect its changes.<p>

For display objects that must be edited to change their values, such as text fields, the EOAssociation must respond to messages indicating that the display object has begun and ended editing, and inform the EODisplayGroup for its primary or value aspect with <B>associationDidBeginEditing: </B> and <B>associationDidEndEditing: </B> messages. EODisplayGroups may need to end editing themselves, such as when saving changes. Your EOAssociation subclass should implement <B><a href="#578">endEditing</a> </B> to handle this case by sending whatever value it currently has back to the EOAssociation using a <B><a href="#597">setValue:forAspect:</a> </B> message. If it can't do this, the EOAssociation should return NO to disallow whatever operation invoked <B><a href="#578">endEditing</a> </B>.<p>

EOAssociations for display objects that present multiple values must also monitor the selection in the display object, updating the EODisplayGroup with a <B>setSelectionIndexes: </B> message any time the selection changes in the display object.<p>

<a name="489">

<h4> Validation</h4>

</a>Although validation of values entered by the user can happen in several places, EOAssociations generally concern themselves only with data entry errors. These errors are typically caught by the display object or an NSFormatter, and result in a message to the delegate of the display object. For example, an NSControl sends <B>control:isValidObject: </B> and <B>control:didFailToFormatString:errorDescription: </B> to its delegate, allowing the delegate to validate values itself or to handle errors caught by an NSFormatter. Your implementation of a method such as <B>control:isValidObject: </B> should simply try to save the new value, using EOAssociation's <B><a href="#597">setValue:forAspect:</a> </B> or <a href="#601"><B>setValue:forAspect:atIndex: </B></a>, returning YES or NO as that message does. For <B>control:didFailToFormatString:errorDescription: </B>, the typical response should be to invoke <a href="#605"><B>shouldEndEditingForAspect:invalidInput:errorDescription: </B></a> or <a href="#610"><B>shouldEndEditingForAspect:invalidInput:errorDescription:index: </B></a>.<p>

<dl><dt>NSCoding

<dl><dt>- encodeWithCoder:</a>

<dt>- initWithCoder:</a>

</dl><dt>Declaring capabilities

<dl><dt><a href="#//apple_ref/occ/clm/EOAssociation/aspects">+ aspects</a>

<dt><a href="#//apple_ref/occ/clm/EOAssociation/aspectSignatures">+ aspectSignatures</a>

<dt><a href="#//apple_ref/occ/clm/EOAssociation/objectKeysTaken">+ objectKeysTaken</a>

<dt><a href="#//apple_ref/occ/clm/EOAssociation/isUsableWithObject:">+ isUsableWithObject:</a>

<dt><a href="#//apple_ref/occ/clm/EOAssociation/associationClassesSuperseded">+ associationClassesSuperseded</a>

<dt><a href="#//apple_ref/occ/clm/EOAssociation/displayName">+ displayName</a>

<dt><a href="#//apple_ref/occ/clm/EOAssociation/primaryAspect">+ primaryAspect</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/canBindAspect:displayGroup:key:">- canBindAspect:displayGroup:key:</a>

</dl><dt>Getting all possible EOAssociations for a display object

<dl><dt><a href="#//apple_ref/occ/clm/EOAssociation/associationClassesForObject:">+ associationClassesForObject:</a>

</dl><dt>Creating and configuring instances

<dl><dt><a href="#//apple_ref/occ/instm/EOAssociation/initWithObject:">- initWithObject:</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/bindAspect:displayGroup:key:">- bindAspect:displayGroup:key:</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/establishConnection">- establishConnection</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/breakConnection">- breakConnection</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/copyMatchingBindingsFromAssociation:">- copyMatchingBindingsFromAssociation:</a>

</dl><dt>Getting the display object

<dl><dt><a href="#//apple_ref/occ/instm/EOAssociation/object">- object</a>

</dl><dt>Examining bindings

<dl><dt><a href="#//apple_ref/occ/instm/EOAssociation/displayGroupForAspect:">- displayGroupForAspect:</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/displayGroupKeyForAspect:">- displayGroupKeyForAspect:</a>

</dl><dt>Updating values

<dl><dt><a href="#//apple_ref/occ/instm/EOAssociation/subjectChanged">- subjectChanged</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/endEditing">- endEditing</a>

</dl><dt>Accessing enterprise object values

<dl><dt><a href="#//apple_ref/occ/instm/EOAssociation/setValue:forAspect:">- setValue:forAspect:</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/setValue:forAspect:atIndex:">- setValue:forAspect:atIndex:</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/valueForAspect:">- valueForAspect:</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/valueForAspect:atIndex:">- valueForAspect:atIndex:</a>

</dl><dt>Handling validation errors

<dl><dt><a href="#//apple_ref/occ/instm/EOAssociation/shouldEndEditingForAspect:invalidInput:errorDescription:">- shouldEndEditingForAspect:invalidInput:errorDescription:</a>

<dt><a href="#//apple_ref/occ/instm/EOAssociation/shouldEndEditingForAspect:invalidInput:errorDescription:index:">- shouldEndEditingForAspect:invalidInput:errorDescription:index:</a>

</dl></dl><a name="521">

<a name="clm"></a>

<h3>Class Methods </h3>

</a><a name="522">

<h4> <a name="//apple_ref/occ/clm/EOAssociation/aspects">aspects</a></h4>

</a>+ (NSArray *)<B>aspects </B><p>

Overridden by subclasses to return the names of the receiving class's aspects, as NSStrings. Subclasses should include their superclass's aspects and add their own when overriding this method.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/clm/EOAssociation/aspectSignatures">+ aspectSignatures</a>

 </B><p><a name="526">

<h4> <a name="//apple_ref/occ/clm/EOAssociation/aspectSignatures">aspectSignatures</a></h4>

</a>+ (NSArray *)<B>aspectSignatures </B><p>

Overridden by subclasses to return the signatures of the receiver's aspects, an array of string objects matching its aspects array index for index. Each signature string can contain the following characters:<p>

<b>Signature Character	Meaning

</b>A	The aspect can be bound to attributes.<br>

1 (one)	The aspect can be bound to to-one relationships.<br>

M	The aspect can be bound to to-many relationships.

An aspect signature string of "A1", for example, means the corresponding aspect can be bound to either attributes or to-one relationships. An empty signature indicates that the corresponding aspect can be bound to an EODisplayGroup without a key (that is, the key is irrelevant). Interface Builder uses aspect signatures to enable and disable keys in its Connections inspectors.<p>

EOAssociation's implementation of this method returns an array of "A1M" of the length of its aspects array.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/clm/EOAssociation/aspects">+ aspects</a>

 </B><p><a name="534">

<h4> <a name="//apple_ref/occ/clm/EOAssociation/associationClassesForObject:">associationClassesForObject:</a></h4>

</a>+ (NSArray *)<B>associationClassesForObject: </B>(id)<em>aDisplayObject</em><p>

Returns the subclasses of EOAssociation usable with <em>aDisplayObject</em>. Sends <B><a href="#543">isUsableWithObject:</a> </B> to every loaded subclass of EOAssociation, adding those that respond YES to the array. Subclasses shouldn't override this method; override <B><a href="#543">isUsableWithObject:</a> </B> instead.<p>

<a name="537">

<h4> <a name="//apple_ref/occ/clm/EOAssociation/associationClassesSuperseded">associationClassesSuperseded</a></h4>

</a>+ (NSArray *)<B>associationClassesSuperseded </B><p>

Overridden by subclasses to return the other EOAssociation classes that the receiver supplants. This allows a subclass to mask its superclasses from the Connection Inspector's pop-up list in Interface Builder, since the subclass always includes the aspects and functionality of its superclasses. For example, EOPopUpAssociation supersedes EOControlAssociation, because for pop-up buttons an EOPopUpAssociation is always more appropriate to use.<p>

<a name="540">

<h4> <a name="//apple_ref/occ/clm/EOAssociation/displayName">displayName</a></h4>

</a>+ (NSString *)<B>displayName </B><p>

Returns the name used by Interface Builder in the Connection Inspector's pop-up list. EOAssociation's implementation simply returns the name of the receiving class.<p>

<a name="543">

<h4> <a name="//apple_ref/occ/clm/EOAssociation/isUsableWithObject:">isUsableWithObject:</a></h4>

</a>+ (BOOL)<B>isUsableWithObject: </B>(id)<em>aDisplayObject</em><p>

Overridden by subclasses to return YES if instances of the receiving class are usable with <em>aDisplayObject</em>, NO if they aren't. The receiving class can examine any relevant characteristic of <em>aDisplayObject</em>-its class, configuration (such as whether an NSMatrix operates in radio mode), and so on.<p>

<a name="546">

<h4> <a name="//apple_ref/occ/clm/EOAssociation/objectKeysTaken">objectKeysTaken</a></h4>

</a>+ (NSArray *)<B>objectKeysTaken </B><p>

Overridden by subclasses to return the names of display object outlets that instances assume control of, such as "target" and "delegate". Interface Builder uses this information to disable connections from these outlets in its Connections Inspector.<p>

<a name="549">

<h4> <a name="//apple_ref/occ/clm/EOAssociation/primaryAspect">primaryAspect</a></h4>

</a>+ (NSString *)<B>primaryAspect </B><p>

Overridden by subclasses to return the default aspect, usually one denoting the displayed value, which by convention is named "value". EOAssociation's implementation returns <B>nil </B>.<p>

<a name="552">

<a name="instm"></a>

<h3>Instance Methods </h3>

</a><a name="553">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/bindAspect:displayGroup:key:">bindAspect:displayGroup:key:</a></h4>

</a>- (void)<B>bindAspect: </B>(NSString *)<em>aspectName<br></em><B>displayGroup: </B>(EODisplayGroup *)<em>aDisplayGroup<br></em><B>key: </B>(NSString *)<em>key</em><p>

Defines the receiver's link between its display object and <em>aDisplayGroup</em>. <em>aspectName</em> is the name of the aspect it observer in its display object, and <em>key</em> is the name of the property it observes in <em>aDisplayGroup</em>. Invoke <a href="#583"><B>establishConnection </B></a> after this method to finish setting up the binding. See "<a href="#452">Setting up an EOAssociation Programmatically</a>" in the class description for more information.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/initWithObject:">- initWithObject:</a> </B>, <a href="#//apple_ref/occ/instm/EOAssociation/establishConnection"><B>- establishConnection</a>

 </B><p><a name="557">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/breakConnection">breakConnection</a></h4>

</a>- (void)<B>breakConnection </B><p>

Removes the receiver from its EODisplayGroup and display object. This causes it to be released, so be sure to retain the EOAssociation before invoking this method if you want to keep it for another use. Subclasses should override this method to remove the receiver from any outlets of the display object, such as target or delegate, and invoke <B>super </B>'s implementation at the end.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/establishConnection">- establishConnection</a>

 </B><p><a name="561">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/canBindAspect:displayGroup:key:">canBindAspect:displayGroup:key:</a></h4>

</a>- (BOOL)<B>canBindAspect: </B>(NSString *)<em>aspectName<br></em><B>displayGroup: </B>(EODisplayGroup *)<em>aDisplayGroup<br></em><B>key: </B>(NSString *)<em>key</em><p>

Overridden by subclasses to return YES if the receiver can tie an aspect named <em>aspectName</em> from its display object to the property identified by <em>key</em> in <em>aDisplayGroup</em>, NO if it can't. <em>aspectName</em> should name an aspect supported by the receiver's class.<p>

Interface Builder uses this information to disable aspects in its Connections Inspector. Subclasses can override this method to base their answers on other binds already made, or on characteristics of the receiver's display object or of <em>aDisplayGroup</em>. EOAssociation's implementation always returns YES.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/clm/EOAssociation/aspects">+ aspects</a> </B>, <B><a href="../EODisplayGroup/EODisplayGroup.html#//apple_ref/occ/instm/EODisplayGroup/localKeys" target="_top">- localKeys </B> (EODisplayGroup)</a>, <B>- attributeKeys </B> (EOClassDescription), 

<B>- toOneRelationshipKeys </B> (EOClassDescription), 

<B>- toManyRelationshipKeys </B> (EOClassDescription)

<p><a name="566">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/copyMatchingBindingsFromAssociation:">copyMatchingBindingsFromAssociation:</a></h4>

</a>- (void)<B>copyMatchingBindingsFromAssociation: </B>(EOAssociation *)<em>anAssociation</em><p>

Duplicates the bindings of <em>anAssociation</em> in the receiver. For each aspect of <em>anAssociation</em> that has an EODisplayGroup, invokes <B><a href="#553">bindAspect:displayGroup:key:</a> </B> with the EODisplayGroup and key for that aspect.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/displayGroupForAspect:">- displayGroupForAspect:</a> </B>, <a href="#//apple_ref/occ/instm/EOAssociation/displayGroupKeyForAspect:"><B>- displayGroupKeyForAspect:</a>

 </B><p><a name="570">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/displayGroupForAspect:">displayGroupForAspect:</a></h4>

</a>- (EODisplayGroup *)<B>displayGroupForAspect: </B>(NSString *)<em>aspectName</em><p>

Returns the EODisplayGroup bound to the receiver for <em>aspectName</em>, or <B>nil </B> if there's no such object.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/displayGroupKeyForAspect:">- displayGroupKeyForAspect:</a>

 </B><p><a name="574">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/displayGroupKeyForAspect:">displayGroupKeyForAspect:</a></h4>

</a>- (NSString *)<B>displayGroupKeyForAspect: </B>(NSString *)<em>aspectName</em><p>

Returns the EODisplayGroup key bound to the receiver for <em>aspectName</em>, or <B>nil </B> if there's no EODisplayGroup.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/displayGroupForAspect:">- displayGroupForAspect:</a>

 </B><p><a name="578">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/endEditing">endEditing</a></h4>

</a>- (BOOL)<B>endEditing </B><p>

Overridden by subclasses to pass the value of the receiver's display object to the EODisplayGroup, by invoking <B><a href="#597">setValue:forAspect:</a> </B> with the display object's value and the appropriate aspect (typically "value"). Returns YES if successful, NO if not-specifically if <B><a href="#597">setValue:forAspect:</a> </B> returns NO. The receiver should also send an <B>associationDidEndEditing: </B> message to its EODisplayGroup.<p>

Subclasses whose display objects immediately pass their changes back to the EOAssociation-such as a button or pop-up list-need not override this method. It's only needed when the display object's value is edited rather than simply set.<p>

EOAssociation's implementation does nothing but return YES.<p>

<a name="583">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/establishConnection">establishConnection</a></h4>

</a>- (void)<B>establishConnection </B><p>

Overridden by subclasses to attach the receiver to the outlets of its display object, and to otherwise configure the display object (such as by setting its action method). EOAssociation's implementation subscribes the receiver as an observer of its EODisplayGroups and causes the display object to retain the receiver. Subclasses should invoke <B>super </B>'s implementation after establishing their own connections.<p>

See "<a href="#452">Setting up an EOAssociation Programmatically</a>" in the class description for more information.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/breakConnection">- breakConnection</a>

 </B><p><a name="588">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/initWithObject:">initWithObject:</a></h4>

</a>- (id)<B>initWithObject: </B>(id)<em>aDisplayObject</em><p>

Initializes the receiver to monitor and update the value in <em>aDisplayObject</em>, which is typically a user-interface object or an EODisplayGroup. This is the designated initializer for the EOAssociation class. Returns <B>self </B>.<p>

<B>Note:	</B>

Because of the way that EOAssociations are set up, this method doesn't retain <em>aDisplayObject</em>. See 

"<a href="#452">Setting up an EOAssociation Programmatically</a>" in the class description for more information.

<p><B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/bindAspect:displayGroup:key:">- bindAspect:displayGroup:key:</a> </B>, <a href="#//apple_ref/occ/instm/EOAssociation/establishConnection"><B>- establishConnection</a>

 </B><p><a name="593">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/object">object</a></h4>

</a>- (id)<B>object </B><p>

Returns the receiver's display object.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/initWithObject:">- initWithObject:</a>

 </B><p><a name="597">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/setValue:forAspect:">setValue:forAspect:</a></h4>

</a>- (BOOL)<B>setValue: </B>(id)<em>value</em> <B>forAspect: </B>(NSString *)<em>aspectName</em><p>

Sets a value of the selected enterprise object in the EODisplayGroup bound to <em>aspectName</em>. Retrieves the EODisplayGroup and key bound to <em>aspectName</em>, and sends the EODisplayGroup a <B>setSelectedObjectValue:forKey: </B> message with <em>value</em> and the key as arguments. Returns YES if successful, or if there's no EODisplayGroup bound to <em>aspectName</em>. Returns NO if there's an EODisplayGroup and it doesn't accept the new value.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/setValue:forAspect:atIndex:">- setValue:forAspect:atIndex:</a> </B>, <a href="#//apple_ref/occ/instm/EOAssociation/valueForAspect:"><B>- valueForAspect:</a>

 </B><p><a name="601">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/setValue:forAspect:atIndex:">setValue:forAspect:atIndex:</a></h4>

</a>- (BOOL)<B>setValue: </B>(id)<em>value<br></em><B>forAspect: </B>(NSString *)<em>aspectName<br></em><B>atIndex: </B>(unsigned int)<em>index</em><p>

Sets a value of the enterprise object at <em>index</em> in the EODisplayGroup bound to <em>aspectName</em>. Retrieves the EODisplayGroup and key bound to <em>aspectName</em>, and sends the EODisplayGroup a <B>setValue:forObjectAtIndex:key: </B> message with <em>value</em>, <em>index</em>, and the key as arguments. Returns YES if successful, or if there's no EODisplayGroup bound to <em>aspectName</em>. Returns NO if there's an EODisplayGroup and it doesn't accept the new value.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/setValue:forAspect:">- setValue:forAspect:</a> </B>, <a href="#//apple_ref/occ/instm/EOAssociation/valueForAspect:atIndex:"><B>- valueForAspect:atIndex:</a>

 </B><p><a name="605">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/shouldEndEditingForAspect:invalidInput:errorDescription:">shouldEndEditingForAspect:invalidInput:errorDescription:</a></h4>

</a>- (BOOL)<B>shouldEndEditingForAspect: </B>(NSString *)<em>aspectName<br></em><B>invalidInput: </B>(NSString *)<em>inputString<br></em><B>errorDescription: </B>(NSString *)<em>errorDescription</em><p>

Invoked by subclasses when the display object fails to validate its input, this method informs the EODisplayGroup bound to <em>aspectName</em> with an <B>association:failedToValidateValue:forKey:object:errorDescription: </B> message, using the EODisplayGroup's selected object. Returns the result of that message, or YES if there's no EODisplayGroup.<p>

For example, an EOAssociation tied to an NSControl object receives a <B>control:didFailToFormatString:errorDescription: </B> delegate message when the control's formatter fails to format the input string. Its implementation of that method invokes <a href="#605"><B>shouldEndEditingForAspect:invalidInput:errorDescription: </B></a>.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/shouldEndEditingForAspect:invalidInput:errorDescription:index:">- shouldEndEditingForAspect:invalidInput:errorDescription:index:</a>

 </B><p><a name="610">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/shouldEndEditingForAspect:invalidInput:errorDescription:index:">shouldEndEditingForAspect:invalidInput:errorDescription:index:</a></h4>

</a>- (BOOL)<B>shouldEndEditingForAspect: </B>(NSString *)<em>aspectName<br></em><B>invalidInput: </B>(NSString *)<em>inputString<br></em><B>errorDescription: </B>(NSString *)<em>errorDescription<br></em><B>index: </B>(unsigned int)<em>index</em><p>

Works in the same manner as <B><a href="#605">shouldEndEditingForAspect:invalidInput:errorDescription:</a> </B>, but allows you to specify a particular object by <em>index</em> rather than implicitly specifying the selected object.<p>

<a name="613">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/subjectChanged">subjectChanged</a></h4>

</a>- (void)<B>subjectChanged </B><p>

Overridden by subclasses to update its state based on its EODisplayGroups, whose selection or contents may have changed. This method is invoked automatically anytime an EODisplayGroup bound to the receiver changes. The receiver can query its EODisplayGroup with <B>selectionChanged </B> and <B>contentsChanged </B> messages to determine how it needs to update.<p>

<a name="616">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/valueForAspect:">valueForAspect:</a></h4>

</a>- (id)<B>valueForAspect: </B>(NSString *)<em>aspectName</em><p>

Returns a value of the selected enterprise object in the EODisplayGroup bound to <em>aspectName</em>. Retrieves the EODisplayGroup and key bound to <em>aspectName</em>, and sends the EODisplayGroup a <B>selectedObjectValueForKey: </B> message with the key. Returns <B>nil </B> if there's no EODisplayGroup or key bound to <em>aspectName</em>.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/valueForAspect:atIndex:">- valueForAspect:atIndex:</a> </B>, <a href="#//apple_ref/occ/instm/EOAssociation/setValue:forAspect:"><B>- setValue:forAspect:</a>

 </B><p><a name="620">

<h4> <a name="//apple_ref/occ/instm/EOAssociation/valueForAspect:atIndex:">valueForAspect:atIndex:</a></h4>

</a>- (id)<B>valueForAspect: </B>(NSString *)<em>aspectName</em> <B>atIndex: </B>(unsigned int)<em>index</em><p>

Returns a value of the enterprise object at <em>index </em>in the EODisplayGroup bound to <em>aspectName</em>. Retrieves the EODisplayGroup and key bound to <em>aspectName</em>, and sends the EODisplayGroup a <B>valueForObjectAtIndex:key: </B> message with <em>index</em> and the key. Returns <B>nil </B> if there's no EODisplayGroup or key bound to <em>aspectName</em>.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOAssociation/valueForAspect:">- valueForAspect:</a> </B>, <a href="#//apple_ref/occ/instm/EOAssociation/setValue:forAspect:atIndex:"><B>- setValue:forAspect:atIndex:</a>

 </B><p>

 

 





<i>Copyright &#169; 1997, Apple Computer, Inc.   All rights

reserved.</i>



<!-- Last updated: 10/14/97 19:23:00 -->



</body>

</html>

