<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Text System Overview: Common Configurations</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Common Configurations"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000840" title="Common Configurations"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../TextFonts-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">Text System Overview</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="TextSysAndMVC.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="TextSysClassHier.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20000840-CJBJHGAG" title="Common Configurations"></a><hr /><H1>Common Configurations</H1><p><a name="//apple_ref/doc/uid/20000840-DontLinkElementID_17"></a><a name="//apple_ref/doc/uid/20000840-DontLinkElementID_18"></a>The following diagrams give you an idea of how you can configure objects of the four primary text system classes—NSTextStorage<a name="//apple_ref/doc/uid/20000840-DontLinkElementID_19"></a>, NSLayoutManager<a name="//apple_ref/doc/uid/20000840-DontLinkElementID_20"></a>, NSTextContainer<a name="//apple_ref/doc/uid/20000840-DontLinkElementID_21"></a>, and NSTextView<a name="//apple_ref/doc/uid/20000840-DontLinkElementID_22"></a>—to accomplish different text-handling goals.</p><p>To display a single flow of text, arrange the objects as shown in <span class="content_text">Figure 1</span>.</p><br/><div><a name="//apple_ref/doc/uid/20000840-110267-BBCFBBIC" title="Figure 1Text object configuration for a single flow of text "></a><p><a name="//apple_ref/doc/uid/20000840-110267" title="Figure 1Text object configuration for a single flow of text "></a><strong>Figure 1&nbsp;&nbsp;</strong>Text object configuration for a single flow of text </p><img src = "Art/textflowone.gif" alt = "Text object configuration for a single flow of text" width="516" height="102"></div><br/><p>The NSTextView provides the view that displays the glyphs<a name="//apple_ref/doc/uid/20000840-DontLinkElementID_23"></a>, and the NSTextContainer object defines an area within that view where the glyphs are laid out. Typically in this configuration, the NSTextContainer’s vertical dimension is declared to be some extremely large value so that the container can accommodate any amount of text, while the NSTextView is set to size itself around the text using the <code>setVerticallyResizable:</code> method defined by NSText, and given a maximum height equal to the NSTextContainer’s height. Then, with the NSTextView embedded in an NSScrollView<a name="//apple_ref/doc/uid/20000840-DontLinkElementID_24"></a>, the user can scroll to see any portion of this text.</p><p>If the NSTextContainer’s area is inset from the NSTextView’s bounds, a margin appears around the text. The NSLayoutManager object, and other objects not pictured here, work together to generate glyphs from the NSTextStorage’s data and lay them out within the area defined by the NSTextContainer.</p><p>This configuration is limited by having only one NSTextContainer-NSTextView pair. In such an arrangement, the text flows uninterrupted within the area defined by the NSTextContainer. Page breaks, multicolumn layout, and more complex layouts can’t be accommodated by this arrangement.</p><p>By using multiple NSTextContainer-NSTextView pairs, more complex layout<a name="//apple_ref/doc/uid/20000840-DontLinkElementID_25"></a> arrangements are possible. For example, to support page breaks, an application can configure the text objects as shown in <span class="content_text">Figure 2</span>.</p><br/><div><a name="//apple_ref/doc/uid/20000840-110327-BBCHBHHI" title="Figure 2Text object configuration for paginated text"></a><p><a name="//apple_ref/doc/uid/20000840-110327" title="Figure 2Text object configuration for paginated text"></a><strong>Figure 2&nbsp;&nbsp;</strong>Text object configuration for paginated text</p><img src = "Art/textflowtwo.gif" alt = "Text object configuration for paginated text" width="517" height="258"></div><br/><p>Each NSTextContainer-NSTextView pair corresponds to a page of the document. The gray rectangle in the diagram above represents a custom view object that your application provides as a background for the NSTextViews. This custom view can be embedded in an NSScrollView to allow the user to scroll through the document’s pages.</p><p>A multicolumn document uses a similar configuration, as shown in <span class="content_text">Figure 3</span>.</p><br/><div><a name="//apple_ref/doc/uid/20000840-110253-BBCBJDFF" title="Figure 3Text object configuration for a multicolumn document"></a><p><a name="//apple_ref/doc/uid/20000840-110253" title="Figure 3Text object configuration for a multicolumn document"></a><strong>Figure 3&nbsp;&nbsp;</strong>Text object configuration for a multicolumn document</p><img src = "Art/textflowthree.gif" alt = "Text object configuration for a multicolumn document" width="523" height="312"></div><br/><p>Instead of having one NSTextView-NSTextContainer pair correspond to a single page, there are now two pairs—one for each column on the page. Each NSTextContainer-NSTextView controls a portion of the document. As the text is displayed, glyphs are first laid out in the top-left view. When there is no more room in that view, the NSLayoutManager informs its delegate that it has finished filling the container. The delegate can check whether there’s more text that needs to be laid out and add another NSTextContainer and NSTextView. The NSLayoutManager proceeds to lay out text in the next container, notifies the delegate when finished, and so on. Again, a custom view (depicted as a gray rectangle) provides a canvas for these text columns.</p><p>Not only can you have multiple NSTextContainer-NSTextView pairs, you can also have multiple NSLayoutManagers accessing the same NSTextStorage. <span class="content_text">Figure 4</span> illustrates the simplest arrangement with multiple layout managers.</p><br/><div><a name="//apple_ref/doc/uid/20000840-110363-BBCBFJJB" title="Figure 4Text object configuration for multiple views of the same text"></a><p><a name="//apple_ref/doc/uid/20000840-110363" title="Figure 4Text object configuration for multiple views of the same text"></a><strong>Figure 4&nbsp;&nbsp;</strong>Text object configuration for multiple views of the same text</p><img src = "Art/textflowfour.gif" alt = "Text object configuration for multiple views of the same text" width="536" height="207"></div><br/><p>The effect of this arrangement is to give multiple views on the same text. If the user alters the text in the top view, the change is immediately reflected in the bottom view (assuming the location of the change is within the bottom view’s bounds).</p><p>Finally, complex page layout requirements, such as permitting text to wrap around embedded graphics, can be achieved by a configuration that uses a custom subclass of NSTextContainer. This subclass defines a region that adapts its shape to accommodate the graphic <a name="//apple_ref/doc/uid/20000840-DontLinkElementID_26"></a>image<a name="//apple_ref/doc/uid/20000840-DontLinkElementID_27"></a> and uses the object configuration shown in <span class="content_text">Figure 5</span>.</p><br/><div><a name="//apple_ref/doc/uid/20000840-110386-BBCGDJBH" title="Figure 5Text object configuration with custom text containers"></a><p><a name="//apple_ref/doc/uid/20000840-110386" title="Figure 5Text object configuration with custom text containers"></a><strong>Figure 5&nbsp;&nbsp;</strong>Text object configuration with custom text containers</p><img src = "Art/textflowfive.gif" alt = "Text object configuration with custom text containers" width="519" height="260"></div><br/>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="TextSysAndMVC.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="TextSysClassHier.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1997, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-04-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/TextArchitecture/Concepts/CommonConfigs.html%3Fid%3D10000086i-3.6&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/TextArchitecture/Concepts/CommonConfigs.html%3Fid%3D10000086i-3.6&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/TextArchitecture/Concepts/CommonConfigs.html%3Fid%3D10000086i-3.6&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
