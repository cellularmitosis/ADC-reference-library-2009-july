<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Desktop Manager (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING483></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-482.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-484.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING483-0></A>
<H1>Chapter 9 - Desktop Manager</H1>
 For quick access to the resources it needs, the Finder maintains a central <B>desktop database</B> of information about the files and directories on a volume. The Finder updates the database when applications are added, moved, renamed, or deleted.<P>
 Normally, your application won't need to use the information in the desktop database or to use Desktop Manager routines to manipulate it. Instead, your application should let the Finder manipulate the desktop database and handle such Desktop Manager tasks as maintaining user comments associated with files and managing the icons used by applications.<A NAME=MARKER-2-74></A><A NAME=MARKER-2-75></A><A NAME=MARKER-2-76></A><A NAME=MARKER-2-77></A><A NAME=MARKER-2-78></A><P>
<DL>
<DT><B>WARNING</B>
<DD>Although there may be instances where you would like to gain access to the desktop database by using Desktop Manager routines, you should never change, add to, or remove any of this information. Manipulating the desktop database is likely to wreak havoc on your users' systems.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 In case you should discover some important need to retrieve information from the desktop database or even to change the desktop database from within your application, Desktop Manager routines are provided for you to do so. While your application probably won't ever need to use them, for the sake of completeness they are described in this chapter.<A NAME=MARKER-2-79></A><P>
 Much of the information in the desktop database comes from the bundle resources for applications and other files on the volume. (See the chapter "Finder Interface" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for a discussion on setting the bundle bit of an application so that its bundled resources get stored in the desktop database.) The desktop database contains all icon definitions and their associated file types. It lists all the file types that each application can open and all copies or versions of the application that's listed as the creator of a file. The desktop database also lists the location of each application on the disk and any comments that the user has added to the information windows for desktop objects. The Desktop Manager provides routines that let your application retrieve this information from the desktop database.<A NAME=MARKER-2-80></A> <A NAME=MARKER-2-81></A><P>
 The Finder maintains a desktop database for each volume with a capacity greater than 2 MB. For most volumes, such as hard disks, the database is stored on the volume itself. For read-only volumes--such as some compact discs--that don't contain their own desktop database, the Desktop Manager creates one for it and stores it in the System Folder of the boot drive.<P>
<DL>
<DT><B>Note</B>
<DD>If you distribute read-only media, it is generally a good idea to store on each volume both a desktop database (for users running System 7 or later) and a Desktop file (for users running older versions of system software). <A NAME=MARKER-2-349></A>Create a desktop database on your master volume by pressing Command-Option when booting your system with System 7. Then create a Desktop file by pressing Command-Option and restarting your system with version 6.0.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 For compatibility with older versions of system software, the Finder keeps the information for ejectable volumes with a capacity smaller than 2 MB in a resource file instead of in a database.<P>
 Although the Desktop Manager provides tools for both reading and changing the desktop database, your application should not ordinarily change anything in the database. You can read the database to retrieve information, such as the icons defined by other applications.<P>
<DL>
<DT><B>Note</B>
<DD>The desktop database doesn't store customized icons (that is, those with resource IDs of -16455 described in the chapter "Finder Interface" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>), so your application can't retrieve them by using Desktop Manager routines.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 If the Translation Manager is available, the desktop database also includes information retrieved from each application's <CODE>'open'</CODE> and <CODE>'kind'</CODE> resources. For information about the information stored in these resources, see the chapter "Translation Manager" in this book.<P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="MoreToolbox-484.html#HEADING484-0">About the Desktop Database</A>
<DD>
<DT><A HREF="MoreToolbox-485.html#HEADING485-0">Using the Desktop Manager</A>
<DD>
<DT><A HREF="MoreToolbox-486.html#HEADING486-0">Desktop Manager Reference</A>
<DD>
<DL>
<DT><A HREF="MoreToolbox-487.html#HEADING487-0">Data Structure</A>
<DD>
<DL>
<DT><A HREF="MoreToolbox-488.html#HEADING488-0">The Desktop Parameter Block</A>
<DD>
</DL>
<DT><A HREF="MoreToolbox-489.html#HEADING489-0">Routines</A>
<DD>
<DL>
<DT><A HREF="MoreToolbox-490.html#HEADING490-0">Locating, Opening, and Closing the Desktop Database</A>
<DD>
<DT><A HREF="MoreToolbox-494.html#HEADING494-0">Reading the Desktop Database</A>
<DD>
<DT><A HREF="MoreToolbox-499.html#HEADING499-0">Adding to the Desktop Database</A>
<DD>
<DT><A HREF="MoreToolbox-503.html#HEADING503-0">Deleting Entries From the Desktop Database</A>
<DD>
<DT><A HREF="MoreToolbox-506.html#HEADING506-0">Manipulating the Desktop Database Itself </A>
<DD>
</DL>
</DL>
<DT><A HREF="MoreToolbox-511.html#HEADING511-0">Summary of the Desktop Manager</A>
<DD>
<DL>
<DT><A HREF="MoreToolbox-511.html#HEADING511-1">Pascal Summary</A>
<DL>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-2">Constants</A>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-4">Data Types</A>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-6">Routines</A>
<DD>
</DL>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-64">C Summary</A>
<DL>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-65">Constants</A>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-67">Data Types</A>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-69">Routines</A>
<DD>
</DL>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-147">Assembly-Language Summary</A>
<DL>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-148">Data Structures</A>
<DD>
<DT><A HREF="MoreToolbox-511.html#HEADING511-150">Trap Macros</A>
<DD>
</DL>
<DT><A HREF="MoreToolbox-511.html#HEADING511-153">Result Codes</A>
<DD>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-482.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-484.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
