<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Bitmapped Font ('NFNT') Resource(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING250></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-249.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-251.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-181.html"><B>Chapter 4 - Font Manager</B></A> / <A HREF="Text-209.html"><B>Font Manager Reference</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING250-0></A>
<H2><A NAME=MARKER-2-39></A><A NAME=MARKER-2-413></A><A NAME=MARKER-9-414></A>The Bitmapped Font ('NFNT') Resource</H2>
 <A NAME=MARKER-2-214></A>The bitmapped font (<CODE>'NFNT'</CODE>) resource describes a bitmapped font--a font whose glyphs are represented by bit images. The structure of the bitmapped font resource is identical to that of the older <CODE>'FONT'</CODE> resource, which can be used for bitmapped fonts as well; however, the bitmapped font resource has a more flexible ID numbering scheme and is preferred over the <CODE>'FONT'</CODE> resource.<P>
 The bitmapped font resource consists of a header component, which describes the font, and a glyph data information component, which contains the definitions of the glyphs in the font. The header component of this resource is represented by the <CODE>FontRec</CODE> data type, the declaration of which is shown in the section <A HREF=Text-214.html#MARKER-9-325>"The Font Record,"</A> beginning on <A HREF=Text-214.html#MARKER-9-325>page 4-42</A>. The structure of this resource is shown in <A HREF=#MARKER-9-416>Figure 4-16</A>.<P>
<B>Figure 4-16  <A NAME=MARKER-9-416></A>The bitmapped font (<CODE>'NFNT'</CODE>) resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/FM-42.jpg">
<IMG ALIGN = BOTTOM SRC = "graphics/FM-42.jpg">
 The bitmapped font header component consists of the elements listed below, each of which corresponds to a field in the <CODE>FontRec</CODE> data type.<P>
<UL>
<LI>Font type. An integer value that is used to specify the general characteristics of the font, such as whether it is fixed-width or proportional, whether the optional image-height and glyph-width tables are attached to the font, and information about the font depth and colors. This value is represented by the <A NAME=MARKER-2-768></A><CODE>fontType</CODE> field in the <CODE>FontRec</CODE> data type. For the meaning of the bits in this field, see <A HREF=Text-251.html#MARKER-9-442>"The Font Type Element" on page 4-66</A>.
<LI>First character code. An integer value that specifies the ASCII character code of the first glyph in the font. This value is represented by the <A NAME=MARKER-2-454></A><CODE>firstChar</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Last character code. An integer value that specifies the ASCII character code of <BR>the last glyph in the font. This value is represented by the <A NAME=MARKER-2-292></A><CODE>lastChar</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Maximum width. An integer value that specifies the maximum width of the widest glyph in the font, in pixels. This value is represented by the <A NAME=MARKER-2-955></A><CODE>widMax</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Maximum kerning. An integer value that specifies the distance from the font rectangle's glyph origin to the left edge of the font rectangle, in pixels. If a glyph in the font kerns to the left, the amount is represented as a negative number. If the glyph origin lies on the left edge of the font rectangle, the value of the <CODE>kernMax</CODE> field is 0. This value is represented by the <A NAME=MARKER-2-421></A><CODE>kernMax</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Negated descent value. If this font has very large tables and this value is positive, this value is the high word of the offset to the width/offset table. For more information, see <A HREF=Text-252.html#MARKER-9-446>"The Offset to the Width/Offset Table" on page 4-67</A>. If this value is negative, it is the negative of the descent and is not used by the Font Manager. This value is represented by the <A NAME=MARKER-2-37></A><CODE>nDescent</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Font rectangle width. An integer value that specifies the width, in pixels, of the image created if all the glyphs in the font were superimposed at their glyph origins. This value is represented by the <A NAME=MARKER-2-423></A><CODE>fRectWidth</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Font rectangle height. An integer value that specifies the height, in pixels, of the image created if all the glyphs in the font were superimposed at their glyph origins. This value equals the sum of the maximum ascent and maximum descent measurements for the font. This value is represented by the <A NAME=MARKER-2-424></A><CODE>fRectHeight</CODE> field in the <CODE>FontRec</CODE> <BR>data type. 
<LI><A NAME=MARKER-2-425></A>Offset to width/offset table. An integer value that specifies the offset to the offset/width table from this point in the font record, in words. If this font has very large tables, this value is only the low word of the offset and the negated descent value is the high word, as explained in the section <A HREF=Text-252.html#MARKER-9-446>"The Offset to the Width/Offset Table" on page 4-67</A>. This value is represented by the <A NAME=MARKER-2-289></A><CODE>owTLoc</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Maximum ascent. An integer value that specifies the maximum ascent measurement for the entire font, in pixels. The ascent is the distance from the glyph origin to the top of the font rectangle. This value is represented by the <CODE><A NAME=MARKER-2-290></A>ascent</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Maximum descent. An integer value that specifies the maximum descent measurement for the entire font, in pixels. The descent is the distance from the glyph origin to the bottom of the font rectangle. This value is represented by the <CODE><A NAME=MARKER-2-766></A>descent</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Leading. An integer value that specifies the leading measurement for the entire font, in pixels. Leading is the distance from the descent line of one line of single-spaced text to the ascent line of the next line of text. This value is represented by the <A NAME=MARKER-2-429></A><CODE>leading</CODE> field in the <CODE>FontRec</CODE> data type. 
<LI>Bit image row width. An integer value that specifies the width of the bit image, in words. This is the width of each glyph's bit image as a number of words. This value is represented by the <A NAME=MARKER-2-430></A><CODE>rowWords</CODE> field in the <CODE>FontRec</CODE> data type. <P>
</UL>
 The glyph data component of the bitmapped font resource consists of five tables that describe the glyphs in the font.<P>
<UL>
<LI>Bit image table. The bit image of the glyphs in the font. The glyph images of every defined glyph in the font are placed sequentially in order of increasing ASCII code. The bit image is one pixel image with no undefined stretches that has a height given by the value of the font rectangle element and a width given by the value of the bit image row width element. The image is padded at the end with extra pixels to make its length a multiple of 16<A NAME=MARKER-2-74></A>.<A NAME=MARKER-2-351></A>
<LI>Bitmap location table. For every glyph in the font, this table contains a word that specifies the bit offset to the location of the bitmap for that glyph in the bit image table. If a glyph is missing from the font, its entry contains the same value for its location as the entry for the next glyph. The missing glyph is the last glyph of the bit image for that font. The last word of the table contains the offset to one bit beyond the end of the bit image. You can determine the image width of each glyph from the bitmap location table by subtracting the bit offset to that glyph from the bit offset to the next glyph in the table.<A NAME=MARKER-2-185></A><A NAME=MARKER-2-130></A>
<LI>Width/offset table. For every glyph in the font, this table contains a word with <BR>the glyph offset in the high-order byte and the glyph's width, in integer form, in the low-order byte. The value of the offset, when added to the maximum kerning <BR>value for the font, determines the horizontal distance from the glyph origin to the left edge of the bit image of the glyph, in pixels. If this sum is negative, the glyph origin <BR>is to the right of the glyph image's left edge, meaning the glyph kerns to the left. <BR>If the sum is positive, the origin is to the left of the image's left edge. If the sum equals zero, the glyph origin corresponds with the left edge of the bit image. Missing glyphs are represented by a word value of -1. The last word of this table is also -1, representing the end. <A NAME=MARKER-2-300></A><A NAME=MARKER-2-436></A>
<LI><A NAME=MARKER-9-437></A>Glyph-width table. For every glyph in the font, this table contains a word that specifies the glyph's fixed-point glyph width at the given point size and font style, in pixels. The Font Manager gives precedence to the values in this table over those in the font family glyph-width table. There is an unsigned integer in the high-order byte and a fractional part in the low-order byte. This table is optional<A NAME=MARKER-2-438></A>. <A NAME=MARKER-2-439></A>
<LI>Image height table. For every glyph in the font, this table contains a word that specifies the image height of the glyph, in pixels. The image height is the height of the glyph image and is less than or equal to the font height. QuickDraw uses the image height for improved character plotting, because it only draws the visible part of the glyph. The high-order byte of the word is the offset from the top of the font rectangle of the first non-blank (or nonwhite) row in the glyph, and the low-order byte is the number of rows that must be drawn. The Font Manager creates this table.<A NAME=MARKER-2-140></A><A NAME=MARKER-2-441></A><P>
</UL>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Text-251.html#HEADING251-0">The Font Type Element</A>
<DD>
<DT><A HREF="Text-252.html#HEADING252-0">The Offset to the Width/Offset Table</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-249.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-251.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
