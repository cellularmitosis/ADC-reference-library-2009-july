<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Network Services Location Manager (Legacy) (Not Recommended): Network Services Location Manager Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Network Services Location Manager Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000914-CH1g-176815" title="Network Services Location Manager Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../Carbon/index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../Carbon/Networking-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000453" target="_top">Networking</a> &gt; <a href="../NSL1/NSL1.html#//apple_ref/doc/uid/TP30000214-TPXREF101">Network Services Location Manager (Legacy) (Not Recommended)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="NSL3.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="NSL33.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP40000914-CH1g-TPXREF153" title="Network Services Location Manager Functions"></a><h1>Network Services Location Manager Functions</h1>
































<a name="//apple_ref/c/func/NSLAddServiceToServicesList" title="NSLAddServiceToServicesList"></a><a name="//apple_ref/doc/c_ref/NSLAddServiceToServicesList" title="NSLAddServiceToServicesList"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageCopyRequestMethod" title="NSLAddServiceToServicesList"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_9"></a><h3 class="tight">NSLAddServiceToServicesList</h3>
<p class="spaceabove">Adds a service to a services list.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLError">NSLError</a> NSLAddServiceToServicesList (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLServicesList">NSLServicesList</a> serviceList,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLServiceType">NSLServiceType</a> serviceType);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>serviceList</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLServicesList">NSLServicesList</a></code> previously created by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeNewServicesList">NSLMakeNewServicesList</a></code>.</p></dd>
<dt><em>serviceType</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLServiceType">NSLServiceType</a></code> containing the name of the service, such as <code>http </code>or <code>ftp </code>that is to be added to the services list.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code><code> </code>structure whose <code>theErr</code> field contains the result code. If the value of <code>NSLError.theErr </code>is <code>noErr</code>, the service was added to the list. Other possible values are <code>kNSLNotInitialized</code>, <code>kNSLBadServiceTypeErr</code>, and <code>kNSLNullListPtr</code>. Call <code><a href="NSL32.html#//apple_ref/c/func/NSLErrorToString">NSLErrorToString</a></code> to get a problem and a solution string.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function adds the name of the specified service to a services list. If you need to add more than one service to the services list, call this function once for each service that you want to add.</p>
<h5 class="tight">Special Considerations</h5>
<p>You must create <code>serviceList</code> by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeNewServicesList">NSLMakeNewServicesList</a></code> before calling this function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLCancelRequest" title="NSLCancelRequest"></a><a name="//apple_ref/doc/c_ref/NSLCancelRequest" title="NSLCancelRequest"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CJBJEJJF" title="NSLCancelRequest"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_10"></a><h3 class="tight">NSLCancelRequest</h3>
<p class="spaceabove"><a name="//apple_ref/doc/uid/TP40000914-CH1g-TPXREF102"></a>Cancels an ongoing search.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLError">NSLError</a> NSLCancelRequest (<a href="NSL34.html#//apple_ref/doc/c_ref/NSLRequestRef">NSLRequestRef</a> ref);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ref</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLRequestRef">NSLRequestRef</a></code>, obtained by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLPrepareRequest">NSLPrepareRequest</a></code>, for the search that is to be canceled.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code> structure whose <code>theErr</code> field contains the result code. A value of <code>noErr </code>indicates that the request was canceled successfully. Other possible values are <code>kNSLNotInitialized</code> and <code>kNSLBadReferenceErr</code>. Call <code><a href="NSL32.html#//apple_ref/c/func/NSLErrorToString">NSLErrorToString</a></code> to get a problem and a solution string.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function cancels an ongoing search. Any outstanding I/O is also canceled.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLCloseNavigationAPI" title="NSLCloseNavigationAPI"></a><a name="//apple_ref/doc/c_ref/NSLCloseNavigationAPI" title="NSLCloseNavigationAPI"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BFAEJHIJ" title="NSLCloseNavigationAPI"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_11"></a><h3 class="tight">NSLCloseNavigationAPI</h3>
<p class="spaceabove">Closes a session with the Network Services Location Manager.</p>
<p class="spaceabove"><pre>
void NSLCloseNavigationAPI (<a href="NSL34.html#//apple_ref/doc/c_ref/NSLClientRef">NSLClientRef</a> theClient);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theClient</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientRef">NSLClientRef</a></code>, obtained by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLOpenNavigationAPI">NSLOpenNavigationAPI</a></code>, that identifies the session that is to be closed.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function closes the Network Services Location Manager session identified by <code>theClient</code>. If your application calls this function while a search is in progress, any data that would have been returned is lost.</p>
<h5 class="tight">Special Considerations</h5>
<p>Your application is responsible for reclaiming memory that it allocates for services lists, parameter blocks, and search request references. Your application should reclaim memory by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLDisposeServicesList">NSLDisposeServicesList</a></code>, <code><a href="NSL32.html#//apple_ref/c/func/NSLDeleteRequest">NSLDeleteRequest</a></code>, and <code><a href="NSL32.html#//apple_ref/c/func/NSLFreeTypedDataPtr">NSLFreeTypedDataPtr</a></code>, respectively.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLContinueLookup" title="NSLContinueLookup"></a><a name="//apple_ref/doc/c_ref/NSLContinueLookup" title="NSLContinueLookup"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageCreateEmpty" title="NSLContinueLookup"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_12"></a><h3 class="tight">NSLContinueLookup</h3>
<p class="spaceabove"><a name="//apple_ref/doc/uid/TP40000914-CH1g-TPXREF103"></a>Continues a search.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLError">NSLError</a> NSLContinueLookup (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLClientAsyncInfo">NSLClientAsyncInfo</a> *asyncInfo);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>asyncInfo</em></dt>
<dd><p>On input, a pointer to the <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientAsyncInfo">NSLClientAsyncInfo</a></code> structure for this search.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code><code> </code>structure whose <code>theErr</code> field contains the result code. If the value of <code>NSLError.theErr</code> is <code>noErr</code>, <code>NSLContinueLookip</code> returned successfully. Possible errors include <code>kNSLNotInitialized</code>, <code>kNSLNoContextAvailable</code>, <code>kNSLBadClientInfoPtr</code>, <code>kNSLCannotContinueLookup</code>, and <code>kNSLBufferTooSmallForData</code>. Call <code><a href="NSL32.html#//apple_ref/c/func/NSLErrorToString">NSLErrorToString</a></code> to get a problem and a solution string.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function is deprecated in Mac OS X and returns without performing any work. In Mac OS X, asynchronous searches continue automatically when the application’s notification routine returns. For compatibility with earlier versions of the Network Services Location Manager, applications can continue to call this function, but doing so is not necessary.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLCopyNeighborhood" title="NSLCopyNeighborhood"></a><a name="//apple_ref/doc/c_ref/NSLCopyNeighborhood" title="NSLCopyNeighborhood"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageGetResponseStatusCode" title="NSLCopyNeighborhood"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_13"></a><h3 class="tight">NSLCopyNeighborhood</h3>
<p class="spaceabove">Copies a neighborhood.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> NSLCopyNeighborhood (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> neighborhood);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>neighborhood</em></dt>
<dd><p>On input, the neighborhood that is to be copied.</p></dd>
<dt><em>result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> value. If this function can’t copy the neighborhood specified by the <code>neighborhood </code>parameter, it returns <code>NULL</code>. This might happen, for example, if there is not enough memory.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function creates a copy of the specified neighborhood. A neighborhood is guaranteed to exist only during the execution of an application’s notification routine, so you may want to call this utility function from your application’s notification routine in order to keep a copy of the neighborhood.</p>
<p>When you have no further use for an <code>NSLNeighborhood</code> value, you should reclaim the memory allocated to it by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLFreeNeighborhood">NSLFreeNeighborhood</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLDeleteRequest" title="NSLDeleteRequest"></a><a name="//apple_ref/doc/c_ref/NSLDeleteRequest" title="NSLDeleteRequest"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageIsHeaderComplete" title="NSLDeleteRequest"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_14"></a><h3 class="tight">NSLDeleteRequest</h3>
<p class="spaceabove">Deletes a request reference.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLError">NSLError</a> NSLDeleteRequest (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLRequestRef">NSLRequestRef</a> ref);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ref</em></dt>
<dd><p>On input, the value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLRequestRef">NSLRequestRef</a></code>, obtained by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLPrepareRequest">NSLPrepareRequest</a></code>, that is to be deleted.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code> structure whose <code>theErr</code> field contains the result code. If the value of the <code>theErr</code> field is <code>noErr</code>, the request reference was deleted. Other possible values are <code>kNSLNotInitialized</code> and <code>kNSLBadReferenceErr</code>. Call <code><a href="NSL32.html#//apple_ref/c/func/NSLErrorToString">NSLErrorToString</a></code> to get a problem and a solution string.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function deletes the specified request reference and deallocates memory associated with it, including the <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientAsyncInfo">NSLClientAsyncInfo</a></code> structure associated with the request reference. If a search using the specified request reference is in progress when this function is called, the search is canceled and any outstanding  I/O is lost.</p>
<p>This function does not deallocate memory associated with services lists or request parameter blocks. To deallocate memory for services lists, call <code><a href="NSL32.html#//apple_ref/c/func/NSLDisposeServicesList">NSLDisposeServicesList</a></code>; to deallocate memory for parameter blocks, call <code><a href="NSL32.html#//apple_ref/c/func/NSLFreeTypedDataPtr">NSLFreeTypedDataPtr</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLDisposeServicesList" title="NSLDisposeServicesList"></a><a name="//apple_ref/doc/c_ref/NSLDisposeServicesList" title="NSLDisposeServicesList"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CJBGIBFI" title="NSLDisposeServicesList"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_15"></a><h3 class="tight">NSLDisposeServicesList</h3>
<p class="spaceabove"><a name="//apple_ref/doc/uid/TP40000914-CH1g-TPXREF107"></a>Disposes of a services list.</p>
<p class="spaceabove"><pre>
void NSLDisposeServicesList (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLServicesList">NSLServicesList</a> theList);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theList</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLServicesList">NSLServicesList</a></code>, previously created by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeNewServicesList">NSLMakeNewServicesList</a></code>, that is to be disposed of.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function reclaims memory by disposing of a services list. Once you’ve incorporated the information in a services list into a request parameter block by passing the services list to <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeServicesRequestPB">NSLMakeServicesRequestPB</a></code>, you can dispose of the services list. </p>
<p>Calling <code><a href="NSL32.html#//apple_ref/c/func/NSLCloseNavigationAPI">NSLCloseNavigationAPI</a></code> does not reclaim memory allocated for services lists, so your application should dispose of services lists before it closes a Network Services Location Manager session.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLErrorToString" title="NSLErrorToString"></a><a name="//apple_ref/doc/c_ref/NSLErrorToString" title="NSLErrorToString"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageCreateRequest" title="NSLErrorToString"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_16"></a><h3 class="tight">NSLErrorToString</h3>
<p class="spaceabove"><a name="//apple_ref/doc/uid/TP40000914-CH1g-TPXREF101"></a>Obtains information about an error.</p>
<p class="spaceabove"><pre>
OSStatus NSLErrorToString (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLError">NSLError</a> theErr,
char * errorString,
char * solutionString);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theErr</em></dt>
<dd><p>On input, an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code> structure whose <code>theErr</code> field contains a Network Services Location Manager result code.</p></dd>
<dt><em>errorString</em></dt>
<dd><p>On input, a pointer to the buffer in which this function is to place a null-terminated string containing a description of the problem that caused the error. The length of <code>errorString</code> should be 256 bytes.</p></dd>
<dt><em>solutionString</em></dt>
<dd><p>On input, a pointer to the buffer in which this function is to place a null-terminated string containing a possible solution to the problem. The length of <code>solutionString</code> should be 256 bytes.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that this function returned successfully. If the value of the <code>theContext</code> field of the <code>NSLError</code> structure that was passed to this function is zero and the <code>theErr</code> field contains a result code that is not within the range of Network Services Location Manager result codes, this function returns <code>kNSLBadReferenceErr</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function obtains the error and solution strings for the result code stored in the <code>theErr </code>field of an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code> structure.Your application can use the strings to display an appropriate error message.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLFreeNeighborhood" title="NSLFreeNeighborhood"></a><a name="//apple_ref/doc/c_ref/NSLFreeNeighborhood" title="NSLFreeNeighborhood"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageCopyResponseStatusLine" title="NSLFreeNeighborhood"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_17"></a><h3 class="tight">NSLFreeNeighborhood</h3>
<p class="spaceabove">Disposes of an <code>NSLNeighborhood </code>value.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> NSLFreeNeighborhood (<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> neighborhood);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>neighborhood</em></dt>
<dd><p>On input, the <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> value, obtained by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeNewNeighborhood">NSLMakeNewNeighborhood</a></code>, that is to be disposed of.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code>NSLNeighborhood</code> whose value is <code>NULL</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function disposes of an <code>NSLNeighborhood</code> value and reclaims the memory that was allocated to it.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLFreeTypedDataPtr" title="NSLFreeTypedDataPtr"></a><a name="//apple_ref/doc/c_ref/NSLFreeTypedDataPtr" title="NSLFreeTypedDataPtr"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BBJHHDEC" title="NSLFreeTypedDataPtr"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_18"></a><h3 class="tight">NSLFreeTypedDataPtr</h3>
<p class="spaceabove">Frees memory allocated for a request parameter block.</p>
<p class="spaceabove"><pre>
<!--a-->NSLTypedDataPtr<!--/a--> NSLFreeTypedDataPtr (
<!--a-->NSLTypedDataPtr<!--/a--> nslTypeData);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>nslTypeData</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLTypedData">NSLTypedDataPtr</a></code>, obtained by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeServicesRequestPB">NSLMakeServicesRequestPB</a></code>.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of type <code>NSLTypedDataPtr</code><code></code> whose value is <code>NULL</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function frees memory that was allocated when your application previously called <code>NSLMakeServicesRequestPB</code>. Your application should free the memory allocated for a request parameter block when it has no further use for the parameter block.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLFreeURL" title="NSLFreeURL"></a><a name="//apple_ref/doc/c_ref/NSLFreeURL" title="NSLFreeURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BBJCBCAB" title="NSLFreeURL"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_19"></a><h3 class="tight">NSLFreeURL</h3>
<p class="spaceabove">Frees memory allocated for a URL.</p>
<p class="spaceabove"><pre>
(char *) NSLFreeURL (
char * URL);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>URL</em></dt>
<dd><p>On input, a pointer to a character string obtained by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLStandardGetURL">NSLStandardGetURL</a></code>.</p></dd>
<dt><em>result</em></dt>
<dd><p><code>NULL</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function frees the memory that was allocated for <code>URL </code>when <code>NSLStandardGetURL</code> was called. Your application should call this utility function when it has no further use for the URL.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSL.h</code><a name="//apple_ref/c/func/NSLGetDefaultDialogOptions" title="NSLGetDefaultDialogOptions"></a><a name="//apple_ref/doc/c_ref/NSLGetDefaultDialogOptions" title="NSLGetDefaultDialogOptions"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BFAHADCD" title="NSLGetDefaultDialogOptions"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_20"></a><h3 class="tight">NSLGetDefaultDialogOptions</h3>
<p class="spaceabove">Assigns the default values to an <code>NSLDialogOptions</code> structure.</p>
<p class="spaceabove"><pre>
OSStatus NSLGetDefaultDialogOptions (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLDialogOptions">NSLDialogOptions</a> * dialogOptions);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>dialogOptions</em></dt>
<dd><p>On input, a pointer to an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLDialogOptions">NSLDialogOptions</a></code> structure. On output, the fields of the structure are filled in with the default values.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that the fields were filled in with the default values. See <code><a href="NSL36.html#//apple_ref/doc/uid/TP40000914-CH5g-157386">“Network Services Location Manager Result Codes”</a></code> for other possible result codes.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function assigns default values to the <code>NSLDialogOptions</code> structure pointed to by the dialogOptions parameter. Assigning default values prepares the structure for use when calling <code><a href="NSL32.html#//apple_ref/c/func/NSLStandardGetURL">NSLStandardGetURL</a></code>. After the default values are assigned, you can modify the structure as desired. For the default values, see <code><a href="NSL34.html#//apple_ref/c/tdef/NSLDialogOptions">NSLDialogOptions</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSL.h</code><a name="//apple_ref/c/func/NSLGetNameFromNeighborhood" title="NSLGetNameFromNeighborhood"></a><a name="//apple_ref/doc/c_ref/NSLGetNameFromNeighborhood" title="NSLGetNameFromNeighborhood"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BBJHCCCE" title="NSLGetNameFromNeighborhood"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_21"></a><h3 class="tight">NSLGetNameFromNeighborhood</h3>
<p class="spaceabove">Locates the name in a neighborhood.</p>
<p class="spaceabove"><pre>
void NSLGetNameFromNeighborhood (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> neighborhood,
char ** name,
long * length);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>neighborhood</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> containing the name that is to be located.</p></dd>
<dt><em>name</em></dt>
<dd><p>On input, the address of a pointer. On output, <code>name</code> contains the address of a pointer to the name in the <code>neighborhood</code> parameter.</p></dd>
<dt><em>length</em></dt>
<dd><p>On input, a pointer to a location in memory. On output, <code>length </code>points to the length in bytes of the name in the <code>neighborhood</code> parameter.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function locates the null-terminated name in the neighborhood specified by the <code>neighborhood</code> parameter so that your application can, for example, display the name. Use the value pointed to by <code>length</code> to determine the length of the name.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLGetNeighborhoodLength" title="NSLGetNeighborhoodLength"></a><a name="//apple_ref/doc/c_ref/NSLGetNeighborhoodLength" title="NSLGetNeighborhoodLength"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CIHIDJCF" title="NSLGetNeighborhoodLength"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_22"></a><h3 class="tight">NSLGetNeighborhoodLength</h3>
<p class="spaceabove">Gets the length of a neighborhood.</p>
<p class="spaceabove"><pre>
long NSLGetNeighborhoodLength (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> neighborhood);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>neighborhood</em></dt>
<dd><p>On input, the value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> whose length is to be obtained.</p></dd>
<dt><em>function result</em></dt>
<dd><p>The length in bytes of the specified neighborhood.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function gets the length of the specified neighborhood, which you would need in order to make a copy of a neighborhood. Instead of calling this utility function, call <code><a href="NSL32.html#//apple_ref/c/func/NSLCopyNeighborhood">NSLCopyNeighborhood</a></code> to make a copy of a neighborhood.</p>
<h5 class="tight">Special Considerations</h5>
<p>This utility function may be deprecated in the future.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLGetNextNeighborhood" title="NSLGetNextNeighborhood"></a><a name="//apple_ref/doc/c_ref/NSLGetNextNeighborhood" title="NSLGetNextNeighborhood"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BBJIAFBF" title="NSLGetNextNeighborhood"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_23"></a><h3 class="tight">NSLGetNextNeighborhood</h3>
<p class="spaceabove">Gets the position of the next neighborhood in a result buffer.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> NSLGetNextNeighborhood (
<!--a-->NSLClientAsyncInfoPtr<!--/a--> infoPtr,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> * neighborhood,
long * neighborhoodLength);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>infoPtr</em></dt>
<dd><p>On input, a pointer to an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientAsyncInfo">NSLClientAsyncInfo</a></code> structure whose resultBuffer field may contain another neighborhood.</p></dd>
<dt><em>neighborhood</em></dt>
<dd><p>On input, a pointer to a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code>. On output, <code>neighborhood</code> points to the next neighborhood in the <code>resultBuffer</code> field of the <code>NSLClientAsyncInfo</code> structure pointed to by <code>infoPtr</code>.</p></dd>
<dt><em>neighborhoodLength</em></dt>
<dd><p>On output, the length of the neighborhood pointed to by <code>neighborhood</code>.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A Boolean value. A value of <code>TRUE</code> indicates that <code>neighborhood</code> points to the next neighborhood in the <code>resultBuffer</code><code></code> field pointed to by <code>infoPtr</code>. A value of <code>FALSE</code> indicates that there are no more neighborhoods in the <code>resultBuffer field</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function provides the starting position and the length of the next neighborhood in a result buffer. Typically, the neighborhoods were placed in the result buffer by a previous call to <code><a href="NSL32.html#//apple_ref/c/func/NSLStartNeighborhoodLookup">NSLStartNeighborhoodLookup</a></code>.</p>
<p>If you want to get a copy of the neighborhood, call <code><a href="NSL32.html#//apple_ref/c/func/NSLCopyNeighborhood">NSLCopyNeighborhood</a></code>. If you want to get the name from the neighborhood, call <code><a href="NSL32.html#//apple_ref/c/func/NSLGetNameFromNeighborhood">NSLGetNameFromNeighborhood</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLGetNextURL" title="NSLGetNextURL"></a><a name="//apple_ref/doc/c_ref/NSLGetNextURL" title="NSLGetNextURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BFAIGGEB" title="NSLGetNextURL"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_24"></a><h3 class="tight">NSLGetNextURL</h3>
<p class="spaceabove">Gets the position of the next URL in a result buffer.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> NSLGetNextUrl (
<!--a-->NSLClientAsyncInfoPtr<!--/a--> infoPtr,
char ** urlPtr,
long * urlLength);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>infoPtr</em></dt>
<dd><p>On input, a pointer to an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientAsyncInfo">NSLClientAsyncInfo</a></code> structure whose <code>resultBuffer</code> field may contain another URL.</p></dd>
<dt><em>urlPtr</em></dt>
<dd><p>On output, if another URL was found in the <code>resultBuffer</code> field, a pointer to the beginning of the URL.</p></dd>
<dt><em>urlLength</em></dt>
<dd><p>On output, the length of the URL pointed to by <code>urlPtr</code>.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A Boolean value. A value of <code>TRUE</code> indicates that <code>urlPtr</code> points to the next URL in the <code>resultBuffer</code> field pointed to by <code>infoPtr</code>. A value of <code>FALSE</code> indicates that there are no more URLs in the <code>resultBuffer</code> field.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function obtains the starting position and the length of the next URL in a result buffer. Typically, the URLs were placed in the result buffer by a previous call to <code><a href="NSL32.html#//apple_ref/c/func/NSLStartServicesLookup">NSLStartServicesLookup</a></code>.</p><a name="//apple_ref/c/func/NSLGetServiceFromURL" title="NSLGetServiceFromURL"></a><a name="//apple_ref/doc/c_ref/NSLGetServiceFromURL" title="NSLGetServiceFromURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BFADCFGD" title="NSLGetServiceFromURL"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_25"></a><h3 class="tight">NSLGetServiceFromURL</h3>
<p class="spaceabove">Gets the service portion of a URL.</p>
<p class="spaceabove"><pre>
OSStatus NSLGetServiceFromURL (
char* theURL,
char** svcString,
UInt16* svcLen);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theURL</em></dt>
<dd><p>On input, a pointer to a null-terminated string containing a URL.</p></dd>
<dt><em>svcString</em></dt>
<dd><p>On input, a pointer to the address of a string in memory. On output, <code>svcString</code> points to the service portion of the URL specified by <code>theURL</code>.</p></dd>
<dt><em>svcLen</em></dt>
<dd><p>On input, a pointer to an unsigned 16-bit value. On output, <code>svcLen</code> points to the length in bytes of <code>svcString</code>.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that <code>svcString </code>points to the service portion of the URL specified by <code>theURL</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function gets the service portion of a URL. For example, if the URL is <code>http://www.apple.com</code>, the service portion of that URL is <code>http</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLHexDecodeText" title="NSLHexDecodeText"></a><a name="//apple_ref/doc/c_ref/NSLHexDecodeText" title="NSLHexDecodeText"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BBJEHJJE" title="NSLHexDecodeText"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_26"></a><h3 class="tight">NSLHexDecodeText</h3>
<p class="spaceabove">Decodes the encoded portion of a URL.</p>
<p class="spaceabove"><pre>
OSStatus NSLHexDecodeText (
char* encodedText,
UInt16 encodedTextLen,
char* decodedTextBuffer,
UInt16* decodedTextBufferLen,
<!--a-->Boolean<!--/a-->* textChanged);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>encodedText</em></dt>
<dd><p>On input, a pointer to a buffer containing the portion of a URL that has been encoded.</p></dd>
<dt><em>encodedTextLen</em></dt>
<dd><p>On input, a value of type <code>UInt16 </code>that specifies the length of the buffer pointed to by encodedText.</p></dd>
<dt><em>decodedTextBuffer</em></dt>
<dd><p>On input, a pointer to a buffer in which the decoded text is to be stored. On output, the buffer contains the decoded text.</p></dd>
<dt><em>decodedTextBufferLen</em></dt>
<dd><p>On input, a pointer to a value of type <code>UInt16</code> containing the maximum length of <code>decodedTextBuffer</code>. On output, <code>decodedTextBufferLen</code> points to the length of the decoded text pointed to by <code>decodedTextBuffer</code>.</p></dd>
<dt><em>textChanged</em></dt>
<dd><p>On input, a pointer to a Boolean value. On output, <code>textChanged</code> points to a value that is <code>TRUE</code> if decoding occurred or that is <code>FALSE </code>if no decoding was required.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that this utility function returned successfully. See <code><a href="NSL36.html#//apple_ref/doc/uid/TP40000914-CH5g-157386">“Network Services Location Manager Result Codes”</a></code> for other possible result codes.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function decodes the portion of a URL that was previously encoded by <code><a href="NSL32.html#//apple_ref/c/func/NSLHexEncodeText">NSLHexEncodeText</a></code>. If this utility function returns <code>noErr</code>, the buffer pointed to by <code>decodedTextBuffer</code> contains the decoded copy of the buffer pointed to by <code>encodedTextBuffer</code>, or it contains an exact copy of the buffer pointed to by <code>encodedTextBuffer</code>. Use the <code>textChanged</code> parameter to determine whether any decoding actually took place.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLHexEncodeText" title="NSLHexEncodeText"></a><a name="//apple_ref/doc/c_ref/NSLHexEncodeText" title="NSLHexEncodeText"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFReadStreamCreateForHTTPRequest" title="NSLHexEncodeText"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_27"></a><h3 class="tight">NSLHexEncodeText</h3>
<p class="spaceabove">Encodes a portion of a URL.</p>
<p class="spaceabove"><pre>
OSStatus NSLHexEncodeText (
char* rawText,
UInt16 rawTextLen,
char* newTextBuffer,
UInt16* newTextBufferLen,
<!--a-->Boolean<!--/a-->* textChanged);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>rawText</em></dt>
<dd><p>On input, a pointer to a character array containing the portion of a URL that is to be encoded. For example, if the URL is <code>afp://17.221.40.66?NAME=Kevs G3</code>, the portion of the URL that contains a character that is not allowed is <code>Kevs G3</code>. In this example, the space character is not allowed.</p></dd>
<dt><em>rawTextLen</em></dt>
<dd><p>On input, a value of type <code>UInt16</code> containing the length in bytes of the <code>rawText</code> parameter.</p></dd>
<dt><em>newTextBuffer</em></dt>
<dd><p>On input, a pointer to a buffer. On output, the buffer contains the encoded text.</p></dd>
<dt><em>newTextBufferLen</em></dt>
<dd><p>On input, a pointer to a value of type <em>UInt16</em>. On output, <code>newTextBufferLen </code>points to the length of the encoded text in the buffer pointed to by <code>newTextBuffer</code>.</p></dd>
<dt><em>textChanged</em></dt>
<dd><p>On input, a pointer to a Boolean value. On output, <code>textChanged</code> points to a value that is <code>TRUE</code> if encoding occurred or that is <code>FALSE</code> if no encoding was required.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that this utility function returned successfully. See <code><a href="NSL36.html#//apple_ref/doc/uid/TP40000914-CH5g-157386">“Network Services Location Manager Result Codes”</a></code> for other possible result codes.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function uses the US ASCII character set to encode characters that are not allowed in URLs. Hexadecimal values from 01 to 1F, from 80 to FF, and 7F are not allowed. In addition, the following characters are not allowed:</p>
<p><code>&lt; > " # { } | \ ^ ~ [ ]</code></p>
<p>This utility function also encodes the following characters that are reserved for URL syntax:</p>
<p>; / ? : @ = % &amp;</p>
<p>If this utility function returns <code>noErr</code>, the buffer pointed to by <code>newTextBuffer</code> contains the encoded copy of the buffer pointed to by <code>rawText</code>, or it contains an exact copy of the buffer pointed to by <code>rawText</code>. Use the <code>textChanged</code> parameter to determine whether any encoding actually took place.</p>
<p>Call <code><a href="NSL32.html#//apple_ref/c/func/NSLHexDecodeText">NSLHexDecodeText</a></code> to decode a string that has been encoded.</p>
<h5 class="tight">Special Considerations</h5>
<p>The <code><a href="NSL32.html#//apple_ref/c/func/NSLStandardRegisterURL">NSLStandardRegisterURL</a></code> function returns an error if a URL you try to register contains characters that need to be encoded.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLLibraryPresent" title="NSLLibraryPresent"></a><a name="//apple_ref/doc/c_ref/NSLLibraryPresent" title="NSLLibraryPresent"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageAddAuthentication" title="NSLLibraryPresent"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_28"></a><h3 class="tight">NSLLibraryPresent</h3>
<p class="spaceabove">Determines whether the Network Services Location Manager is present.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> NSLLibraryPresent (void);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>function result</em></dt>
<dd><p><code>TRUE</code> if the Network Services Location Manager is present.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function returns <code>TRUE </code>when the Network Services Location Manager is available. The Network Services Location Manager is always present in Mac OS X, so for applications that only run on Mac OS X do not need to call this function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 through Mac OS X v10.3.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLLibraryVersion" title="NSLLibraryVersion"></a><a name="//apple_ref/doc/c_ref/NSLLibraryVersion" title="NSLLibraryVersion"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageAppendBytes" title="NSLLibraryVersion"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_29"></a><h3 class="tight">NSLLibraryVersion</h3>
<p class="spaceabove">Gets the Network Services Location Manager’s version.</p>
<p class="spaceabove"><pre>
UInt32 NSLLibraryVersion (void);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>function result</em></dt>
<dd><p>The Network Services Location Manager’s version number in hexadecimal format, where the first two bytes represent the version number, the second two bytes represent the revision number, and the third two bytes represent the subrevision number.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function gets the version of the Network Services Location Manager installed on the system.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLMakeNewNeighborhood" title="NSLMakeNewNeighborhood"></a><a name="//apple_ref/doc/c_ref/NSLMakeNewNeighborhood" title="NSLMakeNewNeighborhood"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BFADFIIG" title="NSLMakeNewNeighborhood"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_30"></a><h3 class="tight">NSLMakeNewNeighborhood</h3>
<p class="spaceabove">Creates a neighborhood for use in searches.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> NSLMakeNewNeighborhood (
char * name,
char * protocolList);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>name</em></dt>
<dd><p>On input, <code>NULL</code> to create a neighborhood that can be used to obtain a list of default neighborhoods when calling <code><a href="NSL32.html#//apple_ref/c/func/NSLStartNeighborhoodLookup">NSLStartNeighborhoodLookup</a></code>, or a pointer to a null-terminated string containing the name of a neighborhood in which searches are to be conducted.</p></dd>
<dt><em>protocolList</em></dt>
<dd><p>On input, <code>NULL</code>, which creates a neighborhood that will cause all available protocols to participate in any search that uses it. For compatibility with earlier versions of the Network Services Location Manager, <code>protocolList</code> can be a pointer to a comma-separated, null-terminated list of protocols (such as <code>NBP,SLP</code>) that are to participate in a search conducted with the resulting neighborhood. The constants <code>kDSProtocolType</code>, <code>kNBPProtocolType</code>, and <code>kSLPProtocolType</code> can be used to build a protocol list. However, searches conducted using the resulting neighborhood will not be limited to the protocols that were specified.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> value that can be used in subsequent calls to Network Services Location Manager functions, or <code>NULL</code> if a neighborhood value could not be created. This might happen, for example, if there is not enough memory.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function creates a neighborhood that can be provided as a parameter to other Network Services Location Manager functions such as <code><a href="NSL32.html#//apple_ref/c/func/NSLStartNeighborhoodLookup">NSLStartNeighborhoodLookup</a></code>, <code><a href="NSL32.html#//apple_ref/c/func/NSLStartServicesLookup">NSLStartServicesLookup</a></code>, <code><a href="NSL32.html#//apple_ref/c/func/NSLStandardRegisterURL">NSLStandardRegisterURL</a></code>, and <code><a href="NSL32.html#//apple_ref/c/func/NSLStandardDeregisterURL">NSLStandardDeregisterURL</a></code>.</p>
<p>When you have no further use for a neighborhood, you can reclaim the memory allocated to it by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLFreeNeighborhood">NSLFreeNeighborhood</a></code>.</p>
<h5 class="tight">Special Considerations</h5>
<p>Specifying protocols in the <code>protocolList</code> parameter is deprecated. If you specify protocols when other protocols are available, any use of the resulting neighborhood will not be limited to the protocols you specified.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLMakeNewServicesList" title="NSLMakeNewServicesList"></a><a name="//apple_ref/doc/c_ref/NSLMakeNewServicesList" title="NSLMakeNewServicesList"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BFAHFJHB" title="NSLMakeNewServicesList"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_31"></a><h3 class="tight">NSLMakeNewServicesList</h3>
<p class="spaceabove">Creates a services list.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLServicesList">NSLServicesList</a> NSLMakeNewServicesList (
char* initialServiceList);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>initialServiceList</em></dt>
<dd><p>On input, a pointer to a comma-delimited, null-terminated string of service names, such as <code>http,ftp</code>.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLServicesList">NSLServicesList</a></code>. This function returns <code>NULL</code> if it can’t create the services list because, for example, there is not enough memory or because the Network Services Location Manager is not initialized.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function creates a services list and fills it with the names of the services specified by the <code>initialServiceList</code> parameter. After creating the services list, you can add the names of additional services by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLAddServiceToServicesList">NSLAddServiceToServicesList</a></code>.</p>
<h5 class="tight">Special Considerations</h5>
<p>When you have no further use for the services list, you should reclaim the memory allocated to it by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLDisposeServicesList">NSLDisposeServicesList</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLMakeServicesRequestPB" title="NSLMakeServicesRequestPB"></a><a name="//apple_ref/doc/c_ref/NSLMakeServicesRequestPB" title="NSLMakeServicesRequestPB"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-BFACJGFH" title="NSLMakeServicesRequestPB"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_32"></a><h3 class="tight">NSLMakeServicesRequestPB</h3>
<p class="spaceabove">Creates a request parameter block.</p>
<p class="spaceabove"><pre>
OSStatus NSLMakeServicesRequestPB (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLServicesList">NSLServicesList</a> serviceList,
<!--a-->NSLTypedDataPtr<!--/a--> * newDataPtr);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>serviceList</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLServicesList">NSLServicesList</a></code> created by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeNewServicesList">NSLMakeNewServicesList</a></code>.</p></dd>
<dt><em>newDataPtr</em></dt>
<dd><p>On input, the address of the <code><a href="NSL34.html#//apple_ref/c/tdef/NSLTypedData">NSLTypedDataPtr</a></code><code> </code>at which the resulting parameter block is to be placed.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that the parameter block was created successfully. Possible errors include <code>kNSLBadDomainErr</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function creates a parameter block formatted properly for use with subsequent calls to <code><a href="NSL32.html#//apple_ref/c/func/NSLStartServicesLookup">NSLStartServicesLookup</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLOpenNavigationAPI" title="NSLOpenNavigationAPI"></a><a name="//apple_ref/doc/c_ref/NSLOpenNavigationAPI" title="NSLOpenNavigationAPI"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CJBCIJIC" title="NSLOpenNavigationAPI"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_33"></a><h3 class="tight">NSLOpenNavigationAPI</h3>
<p class="spaceabove"><a name="//apple_ref/doc/uid/TP40000914-CH1g-TPXREF106"></a>Opens a session with the Network Services Location Manager.</p>
<p class="spaceabove"><pre>
OSStatus NSLOpenNavigationAPI (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLClientRef">NSLClientRef</a> * newRef);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>newRef</em></dt>
<dd><p>On input, a pointer to a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientRef">NSLClientRef</a></code> in which the Network Services Location Manager places a client reference. Pass the client reference to <code><a href="NSL32.html#//apple_ref/c/func/NSLPrepareRequest">NSLPrepareRequest</a></code> and <code><a href="NSL32.html#//apple_ref/c/func/NSLCloseNavigationAPI">NSLCloseNavigationAPI</a></code>.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that the session was opened successfully. If <code>NSLOpenNavigationAPI</code> returns any of the following error codes, your application should not call any other Network Services Location Manager functions: <code>kNSLNotInitialized</code>, <code>kNSLInsufficientSysVer</code>, <code>kNSLInsufficientOTVer</code>, <code>kNSLPluginLoadFailed</code>, or <code>kNSL68kContextNotSupported</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function opens a session with the Network Services Location Manager and returns a client reference that your application later uses to prepare search requests and to close the Network Services Location Manager session. You must call <code>NSLOpenNavigationAPI</code> before calling any other Network Services Location Manager functions.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLPrepareRequest" title="NSLPrepareRequest"></a><a name="//apple_ref/doc/c_ref/NSLPrepareRequest" title="NSLPrepareRequest"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageCopyRequestURL" title="NSLPrepareRequest"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_34"></a><h3 class="tight">NSLPrepareRequest</h3>
<p class="spaceabove">Creates a search request.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLError">NSLError</a> NSLPrepareRequest (
<!--a-->NSLClientNotifyUPP<!--/a--> notifier,
void * contextPtr,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLClientRef">NSLClientRef</a> theClient,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLRequestRef">NSLRequestRef</a> * ref,
char * bufPtr,
unsigned long bufLen,
<!--a-->NSLClientAsyncInfoPtr<!--/a--> * infoPtr);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>notifier</em></dt>
<dd><p>On input, a value of type <code>NSLClientNotifyUPP</code> that points to your application’s notification routine, or <code>NULL</code>. Your notification routine will be called when data is available, when the search is complete, or when an error occurs.</p></dd>
<dt><em>contextPtr</em></dt>
<dd><p>On input, an untyped pointer to arbitrary data that the Network Services Location Manager will pass to your application’s notification routine when that routine is called. Your application can use <code>contextPtr</code> to associate any particular execution of your notification routine with any particular search request.</p></dd>
<dt><em>theClient</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientRef">NSLClientRef</a></code> obtained by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLOpenNavigationAPI">NSLOpenNavigationAPI</a></code> that identifies the Network Services Location Manager session for which this request is being prepared.</p></dd>
<dt><em>ref</em></dt>
<dd><p>On input, a pointer to a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLRequestRef">NSLRequestRef</a></code> in which the resulting search request reference is to be placed.</p></dd>
<dt><em>bufPtr</em></dt>
<dd><p>On input, a pointer to the buffer in which search results are to be placed.</p></dd>
<dt><em>bufLen</em></dt>
<dd><p>On input, the length of the buffer pointed to by <code>bufPtr</code>.</p></dd>
<dt><em>infoPtr</em></dt>
<dd><p>On output, the <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientAsyncInfo">NSLClientAsyncInfo</a></code> structure pointed to by <code>infoPtr</code> contains default instructions for how the search is to be conducted. Your application can change the defaults before it starts the search.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code><code> </code>structure whose <code>theErr</code> field contains the result code. If the value of <code>NSLError.theErr</code> is <code>noErr</code>, the request was created. Other possible values include <code>kNSLNotInitialized</code>, <code>kNSLDuplicateSearchInProgress</code>, <code>kNSLBadClientInfoPtr</code>, and <code>kNSLErrNullPtrError</code> (if the value of <code>infoPtr</code> is <code>NULL</code>). Call <code><a href="NSL32.html#//apple_ref/c/func/NSLErrorToString">NSLErrorToString</a></code> to get a problem and a solution string.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function creates a search request that your application later provides as a parameter when it calls <code><a href="NSL32.html#//apple_ref/c/func/NSLStartNeighborhoodLookup">NSLStartNeighborhoodLookup</a></code> or <code><a href="NSL32.html#//apple_ref/c/func/NSLStartServicesLookup">NSLStartServicesLookup</a></code>. Searches are conducted asynchronously.</p>
<p>Your application’s notification routine will be called when the result buffer contains data, the result buffer is full, when the search is complete, or when an error occurs. Your application can cause your application’s notification routine to be called at a specified interval, when a specified number of items is in the result buffer, or when a specified amount of time has elapsed by modifying the value of the <code>alertInterval</code>, <code>alertThreshold</code>, and <code>maxSearchTime </code>fields, respectively, of the <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientAsyncInfo">NSLClientAsyncInfo</a></code> structure pointed to by <code>infoPtr</code>.</p>
<p>If this function returns a result code of <code>kNSLDuplicateSearchInProgress</code>, a search is in progress that is using a request reference that is identical to the newly created request reference. Your application can ignore this warning and use the newly created request reference, delete the newly created request reference, or cancel the search that is using the identical request reference.</p>
<h5 class="tight">Special Considerations</h5>
<p>When your application no longer needs the request reference, it should call <code><a href="NSL32.html#//apple_ref/c/func/NSLDeleteRequest">NSLDeleteRequest</a></code> to reclaim memory associated with it.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLServiceIsInServiceList" title="NSLServiceIsInServiceList"></a><a name="//apple_ref/doc/c_ref/NSLServiceIsInServiceList" title="NSLServiceIsInServiceList"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CIHCIHEE" title="NSLServiceIsInServiceList"></a>
<a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_35"></a><h3 class="tight">NSLServiceIsInServiceList</h3>
<p class="spaceabove">Determines whether a service is in a services list.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> NSLServiceIsInServiceList (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLServicesList">NSLServicesList</a> serviceList,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLServiceType">NSLServiceType</a> svcToFind);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>serviceList</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLServicesList">NSLServicesList</a></code> created by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeNewServicesList">NSLMakeNewServicesList</a></code>.</p></dd>
<dt><em>svcToFind</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLServiceType">NSLServiceType</a></code> specifying the service that is to be checked.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>TRUE </code>indicates that the service specified by <code>svcToFind</code> is in the services list specified by <code>serviceList</code>; otherwise, the value returned is <code>FALSE</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This utility function determines whether the service specified by <code>svcToFind</code> is in the services list specified by <code>serviceList</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLStandardDeregisterURL" title="NSLStandardDeregisterURL"></a><a name="//apple_ref/doc/c_ref/NSLStandardDeregisterURL" title="NSLStandardDeregisterURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageSetHeaderFieldValue" title="NSLStandardDeregisterURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_36"></a><h3 class="tight">NSLStandardDeregisterURL</h3>
<p class="spaceabove">Deregisters a service.</p>
<p class="spaceabove"><pre>
OSStatus NSLStandardDeregisterURL (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLPath">NSLPath</a> urlToDeregister,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> neighborhoodToDeregisterIn);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlToDeregister</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLPath">NSLPath</a></code> specifying the URL that is to be deregistered.</p></dd>
<dt><em>neighborhoodToDeregisterIn</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> specifying the neighborhood in which to deregister the service, or <code>NULL</code>. If <code>NULL</code> is specified, the Network Services Location Manager determines the neighborhood from which the service is deregistered.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that the service was deregistered. A value of <code>kNSLBadURLSyntax</code> indicates that the URL contains characters that are not allowed, such as spaces. To encode characters that are not allowed, call <code><a href="NSL32.html#//apple_ref/c/func/NSLHexEncodeText">NSLHexEncodeText</a></code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function deregisters the service specified by <code>urlToDeregister</code>. An application that registers services by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLStandardRegisterURL">NSLStandardRegisterURL</a></code> should call this function as part of its standard shutdown procedure.</p>
<h5 class="tight">Special Considerations</h5>
<p>You do not have to call <code><a href="NSL32.html#//apple_ref/c/func/NSLOpenNavigationAPI">NSLOpenNavigationAPI</a></code> before calling this function.</p>
<p>This function is available in version 1.1 of the Network Services Location Manager and later, and supersedes the <code>NSLDeRegisterService </code>function, which was provided in version 1.0.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLStandardGetURL" title="NSLStandardGetURL"></a><a name="//apple_ref/doc/c_ref/NSLStandardGetURL" title="NSLStandardGetURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageCopySerializedMessage" title="NSLStandardGetURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_37"></a><h3 class="tight">NSLStandardGetURL</h3>
<p class="spaceabove">Displays a dialog box that searches for services and allows the selection of a URL.</p>
<p class="spaceabove"><pre>
OSStatus NSLStandardGetURL (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLDialogOptions">NSLDialogOptions</a> * dialogOptions,
<!--a-->NSLEventUPP<!--/a--> eventProc,
void * eventProcContextPtr,
<!--a-->NSLURLFilterUPP<!--/a--> filterProc,
char * serviceTypeList,
char ** userSelectedURL);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>dialogOptions</em></dt>
<dd><p>On input, a pointer to an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLDialogOptions">NSLDialogOptions</a></code> whose fields control the appearance of the dialog box. Before calling this function, call <code><a href="NSL32.html#//apple_ref/c/func/NSLGetDefaultDialogOptions">NSLGetDefaultDialogOptions</a></code> to fill the fields of your <code>NSLDialogOptions</code> structure with the default values. Then customize the values of the fields of the <code>NSLDialogOptions</code> structure as desired.</p></dd>
<dt><em>eventProc</em></dt>
<dd><p>On input, a value of type <code>NSLEventUPP</code> that points to an application-defined system event callback, <span class="content_text"><a href="NSL33.html#//apple_ref/c/tdef/NSLEventProcPtr">NSLEventProcPtr</a></span>, or <code>NULL</code>. If <code>eventProc</code> is <code>NULL</code>, your application will not receive update events while the <code>NSLStandardGetURL</code> dialog box is displayed.</p></dd>
<dt><em>eventProcContextPtr</em></dt>
<dd><p>On input, an untyped pointer to arbitrary data that the Network Services Location Manager passes to the system event callback specified by <code>eventProc</code>. Your application can use <code>eventProcContextPtr</code> to associate any particular execution of your system event callback function with any particular call to this function.</p></dd>
<dt><em>filterProc</em></dt>
<dd><p>On input, a value of type <code>NSLURLFilterUPP</code> that specifies your filter callback function, <span class="content_text"><a href="NSL33.html#//apple_ref/c/tdef/NSLFilterProcPtr">NSLFilterProcPtr</a></span>, or <code>NULL</code> if you do not have a filter callback function. If specified, your filter callback function will be called for each URL that is about to be displayed in the dialog box. If your filter callback function returns <code>TRUE</code>, the URL is displayed in the <code>NSLStandardGetURL</code> dialog box. If your filter callback function returns <code>FALSE</code>, the URL is not displayed.</p></dd>
<dt><em>userSelectedURL</em></dt>
<dd><p>On input, the address of a pointer to a string that will receive the URL that the user may select or enter. On output, if this function returns <code>noErr</code>, <code>userSelectedURL</code> contains the null-terminated URL the user selected. When your application no longer needs <code>userSelectedURL</code>, it should call <code><a href="NSL32.html#//apple_ref/c/func/NSLFreeURL">NSLFreeURL</a></code> to reclaim the memory associated with it.</p></dd>
<dt><em>serviceTypeList</em></dt>
<dd><p>On input, a null-terminated string of tuples that describes the services that are to be searched for. See the Discussion section for a description of the format and for information on how to use <code>serviceTypeList</code> to control the icon that is displayed for each service type.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that the user selected a URL, which is stored in the <code>userSelectedURL</code> parameter. A value of <code>kNSLUserCanceled</code> indicates that the user clicked the Cancel button in the dialog box; the <code>userSelectedURL</code> parameter is empty.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function displays a dialog box that allows the user to select the type of service that is to be searched for and the neighborhood in which the search is to be conducted. The calling application is responsible for specifying the list of services types, and the Network Services Location Manager is responsible for displaying the neighborhoods, which it obtains by querying Open Directory.</p>
<p>The <code>serviceTypeList </code>parameter consists of service names and service descriptor lists in the following format:  <em>service-name</em><code>,</code><em>service-descriptor-list</em><code>;</code>  where <em>service-descriptor-list</em> is a comma-delimited list of services. For example, if you want to search for HTTP, HTTPS, and FTP services, the value of <code>serviceTypeList</code> would be  <code>Web Servers,http,https;FTP Servers,ftp</code>  Setting <code>serviceTypeList</code> in this way would cause the Show pop-up menu in the dialog box displayed by this function to contain two items: “Web Servers” and “FTP Servers”. The result of a search performed on these two items would consist of the list of HTTP and HTTPS services that were found, followed by the list of FTP services that were found.</p>
<p>This function displays a unique icon for each of the http, https, ftp, afp, lpr, LaserWriter, and AFPServer service descriptors and the same generic icon for any other service descriptor. You can have your own icon displayed by specifying an icon suite resource ID in the <code>serviceTypeList</code> parameter. For example, if the value of <code>serviceTypeList</code> is</p>
<p><code>Web Servers,http,https;Telnet Servers,telnet;NFS Servers,nfs,129</code></p>
<p>the Network Services Location Manager’s unique icons will be displayed for HTTP and HTTPS services, the Network Services Location Manager’s generic icon will be displayed for Telnet services, and the icon suite at resource ID 129 in your application’s resource fork will be displayed for NFS services.</p>
<h5 class="tight">Special Considerations</h5>
<p>Be sure to dispose of the <code>userSelectedURL</code> parameter by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLFreeURL">NSLFreeURL</a></code> when <code>userSelectedURL</code> is no longer needed.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSL.h</code><a name="//apple_ref/c/func/NSLStandardRegisterURL" title="NSLStandardRegisterURL"></a><a name="//apple_ref/doc/c_ref/NSLStandardRegisterURL" title="NSLStandardRegisterURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageSetBody" title="NSLStandardRegisterURL"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_38"></a><h3 class="tight">NSLStandardRegisterURL</h3>
<p class="spaceabove">Registers the URL of a service.</p>
<p class="spaceabove"><pre>
OSStatus NSLStandardRegisterURL (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLPath">NSLPath</a> urlToRegister,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> neighborhoodToRegisterIn);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlToRegister</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLPath">NSLPath</a></code> specifying the URL to register.</p></dd>
<dt><em>neighborhoodToRegisterIn</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> specifying the neighborhood in which to register the service, or <code>NULL</code>. If <code>NULL</code> is specified, the Network Services Location Manager determines the neighborhood in which the URL is registered.</p></dd>
<dt><em>function result</em></dt>
<dd><p>A value of <code>noErr</code> indicates that the service was registered. A value of <code>kNSLBadURLSyntax</code> indicates that the URL contains characters that are not allowed, such as spaces. To encode characters that are not allowed, call <code><a href="NSL32.html#//apple_ref/c/func/NSLHexEncodeText">NSLHexEncodeText</a></code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function registers the specified URL with the Network Services Location Manager.</p>
<p>Applications that provide a network service typically call this function as part of their startup procedure. They also call <code><a href="NSL32.html#//apple_ref/c/func/NSLStandardDeregisterURL">NSLStandardDeregisterURL</a></code> as part of their shutdown procedure.</p>
<h5 class="tight">Special Considerations</h5>
<p>You do not have to call <code><a href="NSL32.html#//apple_ref/c/func/NSLOpenNavigationAPI">NSLOpenNavigationAPI</a></code><code> </code>before calling this function.</p>
<p>This function is available in version 1.1 and later of the Network Services Location Manager, and supersedes the <code>NSLRegisterService </code>function, which was provided in version 1.0.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLStartNeighborhoodLookup" title="NSLStartNeighborhoodLookup"></a><a name="//apple_ref/doc/c_ref/NSLStartNeighborhoodLookup" title="NSLStartNeighborhoodLookup"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageCopyVersion" title="NSLStartNeighborhoodLookup"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_39"></a><h3 class="tight">NSLStartNeighborhoodLookup</h3>
<p class="spaceabove"><a name="//apple_ref/doc/uid/TP40000914-CH1g-TPXREF105"></a>Starts a search for neighborhoods.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLError">NSLError</a> NSLStartNeighborhoodLookup (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLRequestRef">NSLRequestRef</a> ref,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> neighborhood,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLClientAsyncInfo">NSLClientAsyncInfo</a> *asyncInfo);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ref</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLRequestRef">NSLRequestRef</a></code> created by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLPrepareRequest">NSLPrepareRequest</a></code>.</p></dd>
<dt><em>neighborhood</em></dt>
<dd><p>On input, <code>NULL</code> or an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> value created by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeNewNeighborhood">NSLMakeNewNeighborhood</a></code>. Passing <code>NULL</code> or a <code>neighborhood </code>parameter that was created with a <code>name</code> parameter whose value was <code>NULL</code> causes this function to get the default neighborhoods. If <code>neighborhood</code> was created with a value of <code>name</code> that is the name of a neighborhood, this function gets names related to that neighborhood. For example, if <code>neighborhood</code> was created with <code>name </code>set to “apple.com”, this function gets the subdomains of apple.com.</p></dd>
<dt><em>asyncInfo</em></dt>
<dd><p>On input, a pointer to an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientAsyncInfo">NSLClientAsyncInfo</a></code> structure. Neighborhoods that are found will be stored in the structure’s <code>resultBuffer</code> field.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code> structure whose <code>theErr</code> field contains the result code. If the value of <code>NSLError.theErr</code> is <code>noErr</code>, this function successfully started a neighborhood search. Possible errors are <code>kNSLNotInitialized</code>, <code>kNSLSearchAlreadyInProgress</code>, <code>kNSLNoPluginsForSearch</code>, <code>kNSLBufferTooSmallForData</code>, and <code>kNSLNullNeighborhoodPtr</code>. Call <code><a href="NSL32.html#//apple_ref/c/func/NSLErrorToString">NSLErrorToString</a></code> to get a problem and a solution string.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function starts a search for neighborhoods that your application can use to define the scope of a subsequent service search. The result of the search is returned to your application in the <code>resultBuffer</code> field of the <code>NSLClientAsyncInfo</code> structure pointed to by the <code>asyncInfo </code>parameter when the Network Services Location Manager calls your application’s notification routine. Call <code><a href="NSL32.html#//apple_ref/c/func/NSLGetNextNeighborhood">NSLGetNextNeighborhood</a></code> to process the data in the result buffer. To cancel an ongoing search, call <code><a href="NSL32.html#//apple_ref/c/func/NSLCancelRequest">NSLCancelRequest</a></code>. To delete a search request reference, call <code><a href="NSL32.html#//apple_ref/c/func/NSLDeleteRequest">NSLDeleteRequest</a></code>.</p>
<p>When the Network Services Location Manager calls your application’s notification routine, it should check the value of the <code>searchState</code> field of the <code>NSLClientAsyncInfo </code>structure pointed to by the <code>asyncInfo </code>parameter. The <code>searchState </code>field will contain one of these values: <code>kNSLSearchStateBufferFull</code>, <code>kNSLSearchStateOnGoing</code>, <code>kNSLSearchStateComplete</code>, or <code>kNSLSearchStateStalled</code><code></code>.</p>
<p>If the value of the searchState field is <code>kNSLSearchStatausBufferFull</code>, your application’s notification routine should process the data returned in the <code>resultBuffer</code> field of the <code>NSLClientAsyncInfo</code> structure and return.</p>
<p>If the value of the <code>searchState</code> field is <code>kNSLSearchStateOnGoing</code>, the threshold set by the value of the <code>alertInterval</code> field or the <code>alertThreshold</code> field of the <code>NSLClientAsyncInfo </code>structure has been reached. Your application’s notification routine should process the data returned in the <code>resultBuffer</code> field of the <code>NSLClientAsyncInfo</code> structure and return.</p>
<p>If the value of the <code>searchState</code> field is <code>kNSLSearchStateComplete </code>and the value of <code>NSLError.theErr</code> returned by <code>NSLStartNeighborhoodLookup</code> is <code>noErr</code>, the search is complete. Your application’s notification routine should process the data returned in <code>resultBuffer</code> and return. If the value of the <code>searchState </code>field is <code>kNSLSearchStateComplete </code>and the value of <code>NSLError.theErr</code> returned by <code>NSLStartNeighborhoodLookup </code>is not <code>noErr</code>, the error is a fatal error and the search has ended.</p>
<p>If the value of the <code>searchState</code> field is <code>kNSLSearchStateStalled</code>, the threshold set by the value of the <code>alertInterval</code> field or the <code>maxSearchTime</code> field of the <code>NSLClientAsyncInfo </code>structure has been reached and there is no data in the result buffer. The Network Services Location Manager plug-ins that are processing this neighborhood search request are waiting to receive data from a server and may eventually time out. You can cancel the request by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLCancelRequest">NSLCancelRequest</a></code>.</p>
<p>If the value of <code>NSLError.theErr</code> returned by this function is <code>kNSLBufferTooSmallForData</code>, the value of the <code>maxBufferSize</code> field of the <code>NSLClientAsyncInfo </code>structure is too small to hold data that would otherwise have been returned. Your notification routine can cancel the search, modify the size of the buffer, and restart the search, or it can ignore the error and return, thereby resuming the search even though some data has been lost.</p>
<h5 class="tight">Special Considerations</h5>
<p>For any request reference, only one neighborhood or service search can be in progress at any one time.</p>
<p>If this function returns an error, the <code>resultBuffer</code> field of the <code>NSLClientAsyncInfo</code> structure may still contain valid data that was collected before the error occurred. Your notification routine should process the data in the result buffer and return, thereby continuing the search.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code><a name="//apple_ref/c/func/NSLStartServicesLookup" title="NSLStartServicesLookup"></a><a name="//apple_ref/doc/c_ref/NSLStartServicesLookup" title="NSLStartServicesLookup"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-CFHTTPMessageCreateCopy" title="NSLStartServicesLookup"></a><a name="//apple_ref/doc/uid/TP40000914-CH1g-DontLinkElementID_40"></a><h3 class="tight">NSLStartServicesLookup</h3>
<p class="spaceabove"><a name="//apple_ref/doc/uid/TP40000914-CH1g-TPXREF104"></a>Starts a search for services.</p>
<p class="spaceabove"><pre>
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLError">NSLError</a> NSLStartServicesLookup (
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLRequestRef">NSLRequestRef</a> ref,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLNeighborhood">NSLNeighborhood</a> neighborhood,
<!--a-->NSLTypedDataPtr<!--/a--> requestData,
<a href="NSL34.html#//apple_ref/doc/c_ref/NSLClientAsyncInfo">NSLClientAsyncInfo</a> *asyncInfo);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ref</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLRequestRef">NSLRequestRef</a></code> containing a request reference obtained by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLPrepareRequest">NSLPrepareRequest</a></code>.</p></dd>
<dt><em>neighborhood</em></dt>
<dd><p>On input, <code>NULL</code> or an <code><a href="NSL34.html#//apple_ref/c/tdef/NSLNeighborhood">NSLNeighborhood</a></code> value created by previously calling <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeNewNeighborhood">NSLMakeNewNeighborhood</a></code>. Passing <code>NULL</code> or a neighborhood created with a <code>name</code> parameter whose value was <code>NULL</code> causes this function to start a search for top-level services.</p></dd>
<dt><em>requestData</em></dt>
<dd><p>On input, a value of type <code><a href="NSL34.html#//apple_ref/c/tdef/NSLTypedData">NSLTypedDataPtr</a></code><code> </code>that describes the search parameters. To format <code>requestData</code> properly, call <code><a href="NSL32.html#//apple_ref/c/func/NSLMakeServicesRequestPB">NSLMakeServicesRequestPB</a></code>.</p></dd>
<dt><em>asyncInfo</em></dt>
<dd><p>On input, a pointer to a <code><a href="NSL34.html#//apple_ref/c/tdef/NSLClientAsyncInfo">NSLClientAsyncInfo</a></code> structure obtained by previously calling <code>NSLPrepareRequest</code>.</p></dd>
<dt><em>function result</em></dt>
<dd><p>An <code><a href="NSL34.html#//apple_ref/c/tdef/NSLError">NSLError</a></code><code> </code>structure whose <code>theErr</code> field contains the result code. If the value of <code>NSLError.theErr</code> is <code>noErr</code>, this function successfully started a service search. Other possible values are <code>kNSLNotInitialized</code>, <code>kNSLSearchAlreadyInProgress</code>, <code>kNSLNoPluginsForSearch</code>, <code>kNSLNullNeighborhoodPtr</code>, and <code>kNSLBufferTooSmallForData</code>. Call <code><a href="NSL32.html#//apple_ref/c/func/NSLErrorToString">NSLErrorToString</a></code> to get a problem and a solution string.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function starts a service search. The result of the search is returned to your application in the <code>resultBuffer</code> field of the <code>NSLClientAsyncInfo</code> structure pointed to by the <code>asyncInfo </code>parameter when the Network Services Location Manager calls your application’s notification routine. Call <code><a href="NSL32.html#//apple_ref/c/func/NSLGetNextURL">NSLGetNextURL</a></code> to process the data in the result buffer. To cancel an ongoing search, call <code><a href="NSL32.html#//apple_ref/c/func/NSLCancelRequest">NSLCancelRequest</a></code>. To delete a search request reference, call <code><a href="NSL32.html#//apple_ref/c/func/NSLDeleteRequest">NSLDeleteRequest</a></code>.</p>
<p>When the Network Services Location Manager calls your application’s notification routine, it should check the value of the <code>searchState</code> field of the <code>NSLClientAsyncInfo </code>structure pointed to by the <code>asyncInfo </code>parameter. The <code>searchState </code>field will contain one of these values: <code>kNSLSearchStateBufferFull</code>, <code>kNSLSearchStateOnGoing</code>, <code>kNSLSearchStateComplete</code>, or <code>kNSLSearchStateStalled</code><code></code>.</p>
<p>If the value of the <code>searchState</code> field is <code>kNSLSearchStatausBufferFull</code>, your application’s notification routine should process the data in the <code>resultBuffer</code> field of the <code>NSLClientAsyncInfo</code> structure and return.</p>
<p>If the value of the <code>searchState</code> field is <code>kNSLSearchStateOnGoing</code>, the threshold set by the value of the <code>alertInterval</code> field or the <code>alertThreshold</code> field of the <code>NSLClientAsyncInfo </code>structure has been reached. Your application’s notification routine should process the data in the <code>resultBuffer</code> field and return.</p>
<p>If the value of the <code>searchState</code> field is <code>kNSLSearchStateComplete </code>and the value of <code>NSLError.theErr</code> returned by <code>NSLStartServicesLookup</code> is <code>noErr</code>, the search is complete. Your application’s notification routine should process the data returned in <code>resultBuffer</code> and return. If the value of the <code>searchState </code>field is <code>kNSLSearchStateComplete </code>and the value of <code>NSLError.theErr</code> returned by <code>NSLStartServicesLookup </code>is not <code>noErr</code>, the error is a fatal error and the search has ended.</p>
<p>If the value of the <code>searchState</code> field is <code>kNSLSearchStateStalled</code>, the threshold set by the value of the <code>alertInterval</code> field or the <code>maxSearchTime</code> field of the <code>NSLClientAsyncInfo </code>structure has been reached and there is no data in the result buffer. The Network Services Location Manager plug-ins that are processing this request are waiting to receive data from a server and may eventually time out. You can cancel the request by calling <code><a href="NSL32.html#//apple_ref/c/func/NSLCancelRequest">NSLCancelRequest</a></code>. If the value of the <code>searchState</code> field is <code>noErr</code>, your application’s notification routine should ignore the notification and return immediately, thereby resuming the search.</p>
<p>If the value of <code>NSLError.theErr </code>returned by this function is <code>kNSLBufferTooSmallForData</code>, the value of the <code>maxBufferSize</code> field of the <code>NSLClientAsyncInfo </code>structure is too small to hold data that would otherwise have been placed in the result buffer. Your application’s notification routine can cancel the search, modify the size of the buffer, and start the lookup again, or it can ignore the error and return, thereby resuming the search even though some data has been lost.</p>
<h5 class="tight">Special Considerations</h5>
<p>For any request reference, only one neighborhood or service search can be ongoing at any one time.</p>
<p>If this function returns an error, the <code>resultBuffer</code> field of the <code>NSLClientAsyncInfo</code> structure may still contain valid data that was collected before the error occurred. Your notification routine should process the data in the result buffer and return, thereby continuing the search.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>NSLCore.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="NSL3.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="NSL33.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-05-23<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Networking/Conceptual/NSL/NSL3/NSL32.html%3Fid%3DTP40000914-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Networking/Conceptual/NSL/NSL3/NSL32.html%3Fid%3DTP40000914-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Networking/Conceptual/NSL/NSL3/NSL32.html%3Fid%3DTP40000914-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>