<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Profile Search Record(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING192></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-191.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-193.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-155.html"><B>Constants and Data Types</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING192-0></A>
<H2><A NAME=MARKER-9-258></A>P<A NAME=MARKER-2-259></A>rofile Search Record</H2>
 Your application supplies a search record of type <CODE>CMSearchRecord</CODE> as the <CODE>searchSpec</CODE> parameter to the <CODE>CMNewProfileSearch</CODE> function <A HREF=ACIReference-277.html#MARKER-9-426>(page 3-133)</A>. The search record structure provides the ColorSync Manager with search criteria to use in determining which version 2.x profiles to include in the result list and which to filter out.<P>
 Most of the fields in the CMSearchRecord structure are identical to corresponding fields in the CM2Header structure for version 2.x profiles. When you set a bit in the <CODE>searchMask</CODE> field of the CMSearchRecord structure, you cause the search criteria to include the data specified by that bit. For example, if you set the <CODE>cmMatchProfileCMMType</CODE> bit, the search result will not include a profile unless the data in the profile header's CMMType field matches the data you specify in the CMSearchRecord structure's CMMType field.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>If you specify a bit in the <CODE>searchMask</CODE> field, you must supply information in the CMSearchRecord field that corresponds to that bit.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 The ColorSync Manager preserves the search criteria internally along with the search result list until your application calls the <CODE>CMDisposeProfileSearch</CODE> function <A HREF=ACIReference-279.html#MARKER-9-430>(page 3-136)</A> to release the memory. As a result, your application doesn't need to provide the search specification again when it calls the <CODE>CMUpdateProfileSearch</CODE> function <A HREF=ACIReference-278.html#MARKER-9-428>(page 3-135)</A> to update the search result if the contents of the ColorSync(TM) Profiles folder have changed.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>You cannot use the ColorSync Manager search functions to search for ColorSync 1.0 profiles.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 A search record is defined by the <A NAME=MARKER-14-260></A><CODE>CMSearchRecord</CODE> type definition.<P>
<PRE>
struct CMSearchRecord {
   OSType               CMMType;          /* CMM signature */
   OSType               profileClass;     /* profile signature */
   OSType               dataColorSpace;   /* data color space */
   OSType               profileConnectionSpace;/* profile connection
                                             color space */
   unsigned long        deviceManufacturer;/* device manufacturer */
   unsigned long        deviceModel;      /* device model */
   unsigned long        deviceAttributes[2];/* specifies attributes such as
                                             paper or ink type */
   unsigned long        profileFlags;     /* hints to CMM */
   unsigned long        searchMask;       /* bitmap specifying search
                                             mask fields to use */
   CMProfileFilterUPP   filter;           /* pointer to function that
                                             determines whether to
                                             exclude profile */
};
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>CMMType</CODE>
<DD> The signature of a CMM. The signature of Apple Computer's default CMM is specified by the <A NAME=MARKER-13-261></A>kDefaultCMMSignature constant.
<DT><CODE>profileClass</CODE>
<DD> The class signature identifying the type of profile to search for. For a list of profile class signatures, see <A HREF=ACIReference-160.html#MARKER-9-68>"Profile Classes" (page 3-13)</A>. 
<DT><CODE>dataColorSpace</CODE>
<DD> A data color space. For a list of the color space signatures, see <A HREF=ACIReference-168.html#MARKER-9-105>"Color Space Signatures" (page 3-20)</A>.
<DT><CODE>profileConnectionSpace</CODE>
<DD> A profile connection color space. The signatures for the two profile connection spaces, <CODE>cmXYZData</CODE> and <CODE>cmLabData</CODE>, are described in <A HREF=ACIReference-168.html#MARKER-9-104>"Color Space Signatures" (page 3-20)</A>.
<DT><CODE>deviceManufacturer</CODE>
<DD> The signature of the manufacturer.
<DT><CODE>deviceModel</CODE>
<DD> The model of a device.
<DT><CODE>deviceAttributes</CODE>
<DD> Attributes for a particular device setup, such as media, paper, and ink types.
<DT><CODE>profileFlags</CODE>
<DD> Flags that indicate hints for the preferred CMM, such as quality, speed, and memory options. In most cases, you will not want to search for profiles based on the flags settings.
<DT><CODE>searchMask</CODE>
<DD> A bitmask that specifies the search record fields to use in the profile search. These are the defined bitmask values: 
<DD><CODE>cmMatchAnyProfile 0x00000000<BR>cmMatchProfileCMMType 0x00000001<BR>cmMatchProfileClass 0x00000002<BR>cmMatchDataColorSpace 0x00000004<BR>cmMatchProfileConnectionSpace 0x00000008<BR>cmMatchManufacturer 0x00000010<BR>cmMatchModel 0x00000020<BR>cmMatchAttributes 0x00000040<BR>cmMatchProfileFlags </CODE>0x00000080<CODE></CODE>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
<DT><CODE>filter</CODE>
<DD> A pointer to an application-supplied function that determines whether to exclude a profile from the profile search result list. For more information, see the <CODE>MyCMProfileFilterProc</CODE> function <A HREF=ACIReference-311.html#MARKER-9-475>(page 3-171)</A>.
</DL>
</BLOCKQUOTE><HR>
<center>
<A HREF="ACIReference-191.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-193.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
