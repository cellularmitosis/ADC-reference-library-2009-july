<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Converting Java Code From WebObjects 3.5</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Post Install Guide</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="PostInstall.3b.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PostInstall.3e.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PostInstall.40.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><HR></DIV><H1><A NAME="pgfId=46955"> </A><A NAME="36569"> </A>Converting Java Code From WebObjects 3.5</H1><A NAME="pgfId=46956"> </A>This section covers the details of converting any Java code you may have in an existing WebObjects application (see step <A HREF="PostInstall.3e.html#39965" CLASS="XRef">3</A> above). In WebObjects 4, the Java APIs changed considerably. These changes are summarized here:</P><UL><LI><A NAME="pgfId=46963"> </A>A two-letter prefix was added to each Java class name so that class names are unique without the package names. The Java class name is now identical to its Objective-C counterpart in almost all cases. For example, Component is now WOComponent, and WebApplication is now WOApplication.</p><LI><A NAME="pgfId=46964"> </A>The Java package names changed to the following:<P><TT><A NAME="pgfId=46965"> </A>com.apple.yellow.eoaccess</TT><BR><TT><A NAME="pgfId=46966"> </A>com.apple.yellow.eocontrol</TT><BR><TT><A NAME="pgfId=46967"> </A>com.apple.yellow.foundation</TT><BR><TT><A NAME="pgfId=46968"> </A>com.apple.yellow.webobjects</TT><P><A NAME="pgfId=46969"> </A>Notice that the <TT>next.eo</TT> package was split into two packages: <TT>eoaccess</TT> and <TT>eocontrol</TT>.<P><LI><A NAME="pgfId=46970"> </A>The basic classes (for arrays, dictionaries, and data) became more like their Foundation counterparts than their Java counterparts. For example, ImmutableVector is now named NSArray and responds to <TT>count</TT> instead of <TT>size</TT>. MutableHashtable is now named NSMutableDictionary and responds to <TT>setObjectForKey</TT> instead of <TT>put</TT>. <P><A NAME="pgfId=46971"> </A>Note that for numbers and strings, you still use the classes <TT>java.lang.Number</TT> and <TT>java.lang.String</TT>.<P><A NAME="pgfId=46972"> </A><P><B>Warning:&nbsp;</B>Changing to Foundation-style methods for the dictionary class introduces a subtle change. The Java Hashtable classes take the arguments in the key-value order. For example, the <TT>put</TT> method takes the key and then the value. NSDictionary takes the value and then the key. The conversion scripts change the order of the arguments for you. Unfortunately, these scripts incorrectly convert uses of <TT>get() </TT>and <TT>put() </TT>on java.util.Hashtable objects as well as on objects of other Foundation classes.</P><P><LI><A NAME="pgfId=46973"> </A>DecimalNumber is no longer available. Use <TT>java.math.BigDecimal</TT> instead.</p><LI><A NAME="pgfId=46974"> </A>CalendarDate is now named NSGregorianDate.</p><LI><A NAME="pgfId=46975"> </A>The root object is now <TT>com.apple.yellow.foundation.NSObject</TT>.</p><LI><A NAME="pgfId=46976"> </A>Delegate interfaces are now declared as inner interfaces of the appropriate class. For example, the DisplayGroupDelegates interface is now <TT>WODisplayGroup.Delegates</TT>.<P></UL><A NAME="pgfId=46977"> </A>Scripts are provided with the release to help you convert Java code to the new APIs. They are located in <TT>/System/Developer/Java/Conversion/WebObjects</TT> or, on NT, in <I>$NEXT_ROOT</I><TT>/Developer/Java/Conversion/WebObjects</TT>. Descriptions of these scripts and instructions for their use can be found in the ReadMe.html file, which is located in the same directory as the script files.<P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 19 Oct 99)<P><A HREF="PostInstall.3b.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PostInstall.3e.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PostInstall.40.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>