<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Specifying the Font of Text in a Control Panel (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING460></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-459.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-461.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-453.html"><B>Chapter 8 - Control Panels</B></A> / <A HREF="MoreToolbox-457.html"><B>Creating Control Panel Files</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING460-0></A>
<H2><A NAME=MARKER-9-137></A>Specifying the Font of Text in a Control Panel</H2>
 A control panel typically contains uneditable text that is part of a control item or defined as static text. See <A HREF=#MARKER-9-155>Listing 8-7 on page 8-24</A> for examples. <A NAME=MARKER-2-90></A><P>
 The <A NAME=MARKER-2-139></A>Finder uses the default application font to draw control panel items that you define as static text. However, you can specify that a different font be used for this purpose. There are two ways to do so. The easiest way is to define a font information (<CODE>'finf'</CODE>) resource. This is the method you should use if you intend your control panel to run in System 7 only.<A NAME=MARKER-9-76></A><A NAME=MARKER-2-14></A><A NAME=MARKER-2-93></A><A NAME=MARKER-2-175></A><P>
 If you want your control panel to be compatible with the <A NAME=MARKER-9-216></A>Control Panel desk accessory, you cannot use this method because the Control Panel desk accessory does not recognize font information resources. In this case, you can use an alternative method, which entails defining your control panel's static text as user items, setting the font, and drawing the text. This section explains both methods. <P>
 You can also specify the font to be used for each item by creating an item color table (<A NAME=MARKER-2-146></A><CODE>'ictb'</CODE>) resource whose entries correspond to the items in your item list. However, you cannot use this method in System 6, because the Control Panel desk <A NAME=MARKER-2-147></A>accessory appends your control panel's item list to its own. For more information about the item color table (<CODE>'ictb'</CODE>) resource, see the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>. <A NAME=MARKER-2-148></A><P>
<A NAME=HEADING460-5></A>
<H3><A NAME=MARKER-9-149></A>Creating a Font Information Resource</H3>
 You create a font information (<CODE>'finf'</CODE>) resource to specify the font in which the Finder displays your control panel's static text. <A NAME=MARKER-9-285></A>You include the font information resource in your control panel file, and the Finder reads this resource when it opens your file. You must use the resource ID -4049 for a font information resource. <P>
 In the font information resource, you specify the font ID number, the font style, and its size. The Finder sets the graphics port's <CODE>txFont</CODE>, <CODE>txFace</CODE>, and <CODE>txSize</CODE> fields to the values you specify, and QuickDraw draws the text using these values.<P>
<A NAME=HEADING460-8></A>
<H3><A NAME=MARKER-9-154></A>Defining Text in a Control Panel as User Items</H3>
 If you want to specify the font for your control panel's text and also want your control panel to run in both System 6 and System 7, you can define your control panel's text as disabled user items rather than as disabled static text items. Your control device function must call QuickDraw to set the graphics port fields for the font and its characteristics, and then draw the text at initialization and in response to update events. See <A HREF=MoreToolbox-461.html#MARKER-9-220>"Handling Text Defined as User Items" on page 8-43</A> for more information. <P>
 For these user items, you can define a string list (<CODE>'STR#'</CODE>) resource to store the text strings that make up your text. Your control device function can read the text from <BR>the string list resource and store the text in a data structure in your control device function's private storage. If you do this, then your control device function can read the values from its private storage whenever it needs to update user items.<P>
 <A HREF=#MARKER-9-155>Listing 8-7</A> shows a part of the River control panel's item list with the control panel's text defined as user items. Because the user does not need to read the product title and copyright regularly to interact with the control panel, the control panel defines this string as a static text item; the Finder draws this text string only in 9-point Geneva. The control panel defines all other text strings as user items, and the control device function sets the font and draws those user items containing text. <P>
<B>Listing 8-7  <A NAME=MARKER-9-155></A>A control panel's static text defined as user items</B><P>
<PRE>
resource 'DITL' (rControlPanelDialog, purgeable) {
   { /* array DITLarray: 18 elements */ } 
   /* . . . */
   /* [2] */
   {4,95,44,247},
   StaticText {   disabled,      &quot;River Change Systems\n&#169; 1993&quot; },
   /* . . . */
   /* [5] */
   {51, 95, 70, 196},
   UserItem {     disabled,      /*Flow Direction:*/                                         }, 
   /* . . . */
   /* [9] */
   {157, 95, 178, 156},
   UserItem {     disabled,      /*Velocity:*/                    },
   /* . . . */
   /* [14] */
   {157, 202, 176, 242},
   UserItem {     disabled,      /*mph*/                          },
   /* . . . */
   }
};
</PRE>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-459.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-461.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
