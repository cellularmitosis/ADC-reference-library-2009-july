<HTML>
<HEAD>
   <TITLE>Java Release Notes</TITLE>
   <META NAME=GENERATOR CONTENT="Claris Home Page 3.0">
   <X-CLARIS-WINDOW TOP=54 BOTTOM=985 LEFT=453 RIGHT=1110>
   <X-CLARIS-TAGVIEW MODE=minimal>
</HEAD>
<BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/TP40001018"></a>

		<!-- start of banner -->					
		<!--#include virtual="/adcnavbar" -->
		<!-- end of banner -->
		
<table width=600 border=0><tr><td width=600 align=left scope="row">

<!-- start of path -->
<font face="Geneva,Helvetica,Arial" size="1"><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../../documentation/index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000872" target="_top">Release Notes</a></font>
<br><br>
<!-- end of path -->

<H1>Mac OS X 10.0 Release Notes:<BR>
Java</H1>

<P>Mac OS X bundles Sun's Java 2 Standard Edition (J2SE). This
version is based on the Solaris Java Development Kit (JDK) version
1.3, including the client version of HotSpot.</P>

<P>This is MRJ version 3.0. It may be discussed in public forums like
Apple's <A HREF="http://lists.apple.com/mailman/listinfo/java-dev">java-dev
mailing list</A> (preferred) or the <A HREF="news:comp.lang.java">comp.lang.java</A>
newsgroups.</P>

<P>For more techical information about Java on Mac OS X, see
<A HREF="http://developer.apple.com/techpubs/java/index.html">Java
Developer Documentation.</A></P>

<H2>

<HR>

Java and Microsoft Internet Explorer 5.1 Preview Release</H2>

<P>Mac OS X includes MSIE 5.1 Preview Release. Many Java applets have
problems with this version of MSIE. We are working with Microsoft to
improve applet behavior in MSIE on Mac OS X.</P>

<H3>

<HR>

Topics</H3>

<UL>
   <LI><A HREF="#JavaVirtualMachine"><FONT COLOR="#00AF00">Java
   Virtual Machine</FONT></A>
   
   <UL>
      <LI><A HREF="#Debugging"><FONT COLOR="#00AF00">Debugging</FONT></A></LI>
      
      <LI><A HREF="#Profiling"><FONT COLOR="#00AF00">Profiling
      tools</FONT></A></LI>
      
      <LI><A HREF="#BuildingJNI"><FONT COLOR="#00AF00">Building JNI
      libraries</FONT></A></LI>
      
      <LI><A HREF="#BuildingNative"><FONT COLOR="#00AF00">Building
      native applications that launch Java</FONT></A></LI>
   </UL>
   </LI>
   
   <LI><A HREF="#ClassLibs"><FONT COLOR="#00AF00">AWT and other class
   libraries</FONT></A>
   
   <UL>
      <LI><A HREF="#WindowsAndDialogs"><FONT COLOR="#00AF00">Windows
      and Dialogs</FONT></A></LI>
      
      <LI><A HREF="#GraphicsAndJava2D"><FONT COLOR="#00AF00">Graphics
      and Java2D</FONT></A></LI>
      
      <LI><A HREF="#Swing"><FONT COLOR="#00AF00">Swing</FONT></A></LI>
      
      <LI><A HREF="#GUICustomization"><FONT COLOR="#00AF00">GUI
      properties</FONT></A></LI>
      
      <LI><A HREF="#PropertyPermissions"><FONT COLOR="#00AF00">Permissions
      for property access</FONT></A></LI>
      
      <LI><A HREF="#Sound"><FONT COLOR="#00AF00">Sound</FONT></A></LI>
   </UL>
   </LI>
   
   <LI><FONT COLOR="#00AF00">Other APIs</FONT>
   
   <UL>
      <LI><A HREF="#JDirect"><FONT COLOR="#00AF00">JDirect</FONT></A></LI>
      
      <LI><A HREF="#JavaEmbedding"><FONT COLOR="#00AF00">Java
      Embedding API</FONT></A></LI>
      
      <LI><A HREF="#MRJToolkit"><FONT COLOR="#00AF00">MRJToolkit</FONT></A></LI>
   </UL>
   </LI>
   
   <LI><A HREF="#LaunchingAndPackaging"><FONT COLOR="#00AF00">Developing,
   packaging, and launching Java</FONT></A>
   
   <UL>
      <LI><A HREF="#ProjectBuilder"><FONT COLOR="#00AF00">Project
      Builder for Java</FONT></A></LI>
      
      <LI><A HREF="#MRJAppBuilder"><FONT COLOR="#00AF00">MRJAppBuilder</FONT></A></LI>
      
      <LI><A HREF="#AppletLauncher"><FONT COLOR="#00AF00">Applet
      Launcher</FONT></A></LI>
      
      <LI><A HREF="#LaunchingCommandLine"><FONT COLOR="#00AF00">Launching
      java from the command line</FONT></A></LI>
   </UL>
   </LI>
</UL>

<H2>

<HR>

<A NAME=JavaVirtualMachine></A>Java Virtual Machine</H2>

<P>Mac OS X ships with the client version of the HotSpot virtual
machine from the JDK 1.3 technology train.</P>

<P>Some options available in prior VMs (e.g. JITC settings) are not
applicable to the HotSpot VM. In addition, HotSpot VM options are in
the "non-standard" group that are of the form
<CODE>-X</CODE><I><CODE>optionname</CODE></I>. For a list of these
options, type <CODE>java -X</CODE> in a Terminal window.</P>

<P>The HotSpot VM's memory performance is excellent and its
compilation performance is very good in real-world applications, but
the engine has not been tuned for micro-benchmarks such as
CaffeineMark or VolanoMark.</P>

<P>Java threads are mapped directly to native Mach threads and are
therefore fully preemptive, even (unlike MRJ on Mac OS 9) with regard
to the host application and other applications. Java thread
priorities are mapped to native thread priorities such that higher
priority threads will get preferentially scheduled. You should not,
however, rely on any particular scheduling behavior other than
that.</P>

<H3>System Properties</H3>

<P>Some notable Java system properties include:
<FONT SIZE="-1"><TABLE BORDER=1 WIDTH="100%">
   <TR>
      <TD WIDTH="20%">
         <P><FONT SIZE="-1"><B>Name</B></FONT></P>
      </TD>
      <TD WIDTH="15%">
         <P><FONT SIZE="-1"><B>Value</B></FONT></P>
      </TD>
      <TD>
         <P><FONT SIZE="-1"><B>Comments</B></FONT></P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="20%">
         <P><FONT SIZE="-1"><CODE>os.name</CODE></FONT></P>
      </TD>
      <TD WIDTH="15%">
         <P><FONT SIZE="-1"><CODE>Mac OS X</CODE></FONT></P>
      </TD>
      <TD>
         <P><FONT SIZE="-1">This value was "Darwin" in early
         pre-releases of Mac OS X, and "Mac OS" in earlier versions
         of MRJ. It is suggested that you use
         <CODE>System.getProperty("os.name").startsWith("Mac
         OS")</CODE> if you need to test whether your code is running
         on any version of Mac OS.</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="20%">
         <P><FONT SIZE="-1"><CODE>os.version</CODE></FONT></P>
      </TD>
      <TD WIDTH="15%">
         <P><FONT SIZE="-1"><CODE>10.0</CODE></FONT></P>
      </TD>
      <TD>
         <P><FONT SIZE="-1">This was "1.1" (the version number of the
         Darwin kernel) in early pre-releases of Mac OS X.</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="20%">
         <P><FONT SIZE="-1"><CODE>mrj.version</CODE></FONT></P>
      </TD>
      <TD WIDTH="15%">
         <P><FONT SIZE="-1"><CODE>3.0</CODE></FONT></P>
      </TD>
      <TD>
         <P><FONT SIZE="-1">Testing for the existence of this
         property is the general way to detect whether you are using
         an Apple-developed JVM, although to detect specific features
         like JDirect or MRJToolkit it is better to use reflection to
         check for the existence of the specific classes they
         use.</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="20%">
         <P><FONT SIZE="-1"><CODE>line.separator</CODE></FONT></P>
      </TD>
      <TD WIDTH="15%">
         <P><FONT SIZE="-1"><CODE>'\n'</CODE></FONT></P>
      </TD>
      <TD>
         <P><FONT SIZE="-1">This differs from previous versions of
         MRJ, which used '\r', but is consistent with Unix-based Java
         implementations and with the BSD and Cocoa
         frameworks.</FONT></P>
      </TD>
   </TR>
</TABLE>
 </FONT></P>

<H3>Locales and default locale</H3>

<P>Java on Mac OS X sets a default locale based on the choice in
System Preferences -&gt; International: French maps to fr_FR, English
to en_US, Japanese to ja_JP, French Canadian to fr_CA, etc.</P>

<P>In order to get a locale and language combination not supported by
System Preferences, such as French language in the U.S. (fr_US), the
default locale can be overridden by the following settings before the
Java VM starts up. The options listed first override the later
ones.</P>

<OL>
   <LI>The Java properties <CODE>user.language</CODE> and
   <CODE>user.region</CODE>, defined on the <CODE>java</CODE> command
   line, or in MRJAppBuilder property settings.</LI>
   
   <LI>The value of the <CODE>LC_ALL</CODE> environment variable, set
   to one of the ISO standard language (optionally plus region)
   codes. <CODE>LC_ALL</CODE> is mapped to locale using a set of
   default rules derived from the language codes outlined in ISO 639
   and the country codes outlined in ISO 3166, such as en -&gt;
   en_US, fr -&gt; fr_FR, ja -&gt; ja_JP, etc. See <A HREF="http://www.unicode.org">www.unicode.org</A>
   for more details on these ISO specifications.</LI>
   
   <LI>The International settings in System Preferences (as mentioned
   above)</LI>
   
   <LI>The value of the <CODE>LANG</CODE> environment variable</LI>
</OL>

<P>Specifying a locale within Java code using
<CODE>Locale.setDefault(</CODE><I><CODE>newLocale</CODE></I><CODE>)</CODE>
can be done after the VM is running, and overrides all other
options.</P>

<H2>

<HR>

<A NAME=Debugging></A>Debugging</H2>

<H3>Project Builder</H3>

<P>Java debugging is now fully operational in Project Builder, and is
the recommended way to debug your Java applications. See the
<A HREF="http://developer.apple.com/techpubs/macosx/DeveloperTools/ProjectBuilder/ProjectBuilder.help/index.html">Project
Builder documentation</A> for more details.</P>

<H3>jdb</H3>

<P>jdb, the command-line Java debugger, works with the HotSpot Java
Virtual Machine. To debug your code with jdb, do:</P>

<PRE><FONT SIZE="-1"><CODE>	</CODE><B><CODE>$</CODE></B><CODE> jdb </CODE><I><CODE>nameofjavaclass</CODE></I><CODE> </CODE><I><CODE>arguments</CODE></I></FONT></PRE>

<P>See the <CODE>jdb</CODE> man page for more details.</P>

<H3>gdb</H3>

<P>Currently, "<TT>/usr/bin/java</TT>" is a script. Because gdb won't
recognize the script as an executable format, you can't simply type
"<TT>gdb java</TT>" to debug your native code. To debug using gdb,
you must type the full path to the <TT>java</TT> executable, like
this:</P>

<BLOCKQUOTE><FONT SIZE="-1"><B><CODE>$</CODE></B><CODE> gdb
   /System/Library/Frameworks/JavaVM.framework/Versions/1.3/Commands/java</CODE></FONT></BLOCKQUOTE>

<P>In the future, "<TT>/usr/bin/java</TT>" will be restored to a
symbolic link.</P>

<P>Once gdb starts, you may establish a different CLASSPATH for
loading java code from within gdb:</P>

<BLOCKQUOTE><FONT SIZE="-1"><B><CODE>(gdb)</CODE></B><CODE> setenv
   CLASSPATH
   </CODE><I><CODE>foo</CODE></I><CODE>:</CODE><I><CODE>bar<BR>
   </CODE></I><B><CODE>(gdb)</CODE></B><CODE> run
   </CODE><I><CODE>nameofjavaclass</CODE></I><CODE>
   </CODE><I><CODE>arguments</CODE></I></FONT></BLOCKQUOTE>

<P>The VM exports two useful functions for use inside gdb. The
<CODE>ps</CODE> function prints the Java stack of the current thread,
and the <CODE>pss</CODE> function prints the stacks of all Java
threads:</P>

<BLOCKQUOTE><FONT SIZE="-1"><B><TT>(gdb)</TT></B><TT> call
   (void)ps()<BR>
   </TT><B><TT>(gdb)</TT></B><TT> call (void)pss()</TT></FONT></BLOCKQUOTE>

<P>Here is sample output from <CODE>pss()</CODE>:</P>

<PRE><FONT SIZE="-2">    "Thread-1" prio=5 tid=0xbb810 nid=0x13d3510 waiting on monitor &#91;0x1777000..0x1777b68&#93;<BR>        at java.lang.Object.wait(Native Method)<BR>        - waiting on &lt;222d1260&gt; (a sun.misc.TimerTickThread)<BR>        at java.lang.Object.wait(Object.java:420)
        at sun.misc.TimerTickThread.returnToPool(Timer.java:608)
        at sun.misc.TimerTickThread.run(Timer.java:630)

    "TimerThread" prio=5 tid=0xb9020 nid=0x13d2ca0 runnable &#91;0x16c8000..0x16c8b68&#93;
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;222d1220&gt; (a sun.misc.TimerThread)
        at sun.misc.TimerThread.run(Timer.java:371)
        - locked &lt;222d1220&gt; (a sun.misc.TimerThread)

    "SunToolkit.PostEventQueue-0" prio=6 tid=0xb8380 nid=0x13af970 waiting on monitor &#91;0x15d7000..0x15d7b68&#93;
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;222d2f00&gt; (a sun.awt.PostEventQueue)
        at java.lang.Object.wait(Object.java:420)
        at sun.awt.PostEventQueue.run(SunToolkit.java)
        - locked &lt;222d2f00&gt; (a sun.awt.PostEventQueue)

    "AWT-EventQueue-0" prio=6 tid=0xb7900 nid=0x13af710 waiting on monitor &#91;0x1556000..0x1556b68&#93;
        at java.lang.Object.wait(Native Method)
        - waiting on &lt;222d3258&gt; (a java.awt.EventQueue)
        at java.lang.Object.wait(Object.java:420)
        at java.awt.EventQueue.getNextEvent(EventQueue.java)
        - locked &lt;222d3258&gt; (a java.awt.EventQueue)
        at java.awt.EventDispatchThread.pumpOneEvent(EventDispatchThread.java)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java)
        at java.awt.EventDispatchThread.run(EventDispatchThread.java)</FONT></PRE>

<P>Note that the stack traces above show monitor status. There are
several ways to enable this option (this applies also to all other
<CODE>-XX:</CODE> based VM options):</P>

<UL>
   <LI>Pass <CODE>-XX:+JavaMonitorsInStackTrace</CODE> on the java
   command line.</LI>
   
   <LI>Create a <CODE>.hotspotrc</CODE> file in your home directory.
   This file gets parsed <I>every</I> time a Java VM starts up, so
   this gives you a way to set options even for double-clickable
   binaries or when embedding within another application. Include a
   line containing: <CODE>+JavaMonitorsInStackTrace </CODE>in your
   <CODE>.hotspotrc</CODE> file.</LI>
</UL>

<P>To print the current stacks without having to run inside gdb:</P>

<UL>
   <LI>If the Java program was launched from the commandline, you can
   press CTRL-\ to generate a SIGQUIT, which ends up printing the
   current stack frames to the output.</LI>
   
   <LI>If the Java program was launched from the Finder, find its PID
   using the <CODE>ps</CODE> command line tool, then deliver a
   SIGQUIT to that process. Here is the command sequence:
   
   <PRE><FONT SIZE="-1"><B><CODE>$ </CODE></B><CODE>ps -auxwww | grep "Applet Launcher"<BR>user 557 0.2 6.2 211952 16236 ?? S 0:06.47 /Applications/.../Applet Launcher -psn_0_1703937<BR>user 559 0.0 0.1 5724 188 std UV+ 0:00.00 grep AppletLauncher<BR></CODE><B><CODE>$ </CODE></B><CODE>kill -QUIT 557</CODE></FONT></PRE></LI>
</UL>

<P>Please note that if you deliver a signal to a process that is
running in gdb, gdb will break on the signal. You can just continue
on (with the command "<CODE>c</CODE>") as you are actually not
interested in the signal itself, but in the output the signal handler
gives you.</P>

<P>If you are reporting a bug that results in a crash or a deadlock,
please reproduce the bug while running in gdb, call <TT>pss()</TT>,
and include the thread dump in the bug report. In case of a crash,
also include the native stack trace printed by the
<TT><CODE>bt</CODE></TT> command. To get all native backtraces, use
the gdb command "<CODE>thread apply all bt</CODE>".</P>

<P>See the <CODE>gdb</CODE> man page for more details.</P>

<H2>

<HR>

<A NAME=Profiling></A>Profiling tools</H2>

<P>Java on Mac OS X provides hprof as a basic profiling tool. While
the CPU timing it provides is useful, the monitor output is
unreliable and we do not recommend its usage for contention analysis.
This will be improved in a later release.</P>

<P>The HotSpot Java VM includes the <CODE>-Xprof</CODE> option which
provides basic flat CPU usage on a pre-thread basis, which we have
found useful internally.&nbsp;</P>

<H2>

<HR>

<A NAME=BuildingJNI></A>Building Java Native Interface (JNI)
libraries</H2>

<P>In Mac OS X, native methods that are implemented using the Java
Native Interface are built into JNI libraries. Only the application
that dynamically loads a JNI library has access to it. JNI libraries
must be mach-o. CFM libraries are not supported. See <A HREF="http://developer.apple.com/technotes/tn/tn2003.html">TechNote
2003: Moving Your Code to Mac OS X</A>, and the <A HREF="http://developer.apple.com/techpubs/macosx/SystemOverview/SystemOverview.pdf">Mac
OS X System Overview</A> book for more details on mach-o and CFM.</P>

<P>JNI libraries are always named
<CODE>lib</CODE><I><CODE>name</CODE></I><CODE>.jnilib</CODE>, where
<I><CODE>name</CODE></I> is the value of the string used in the call
to <CODE>System.loadLibrary()</CODE>. For example, to load the
library named <CODE>libhello.jnilib</CODE>, you would make the
following call in your Java code:</P>

<BLOCKQUOTE><FONT SIZE="-1"><CODE>System.loadLibrary("hello");</CODE></FONT></BLOCKQUOTE>

<P>To build a JNI library, execute the following command:</P>

<BLOCKQUOTE><FONT SIZE="-1"><B><CODE>$</CODE></B><CODE> cc -bundle
   -I/System/Library/Frameworks/JavaVM.framework/Headers -o
   lib</CODE><I><CODE>name</CODE></I><CODE>.jnilib -framework JavaVM
   </CODE><I><CODE>sourceFiles</CODE></I></FONT></BLOCKQUOTE>

<P>For example, if the files <CODE>hello.c</CODE> and
<CODE>goodbye.c</CODE> contain the implementations of the native
methods to be built into <CODE>libhello.jnilib</CODE>, you would
build <CODE>libhello.jnilib</CODE> with the following command:</P>

<BLOCKQUOTE><FONT SIZE="-1"><B><CODE>$</CODE></B><CODE> cc -bundle
   -I/System/Library/Frameworks/JavaVM.framework/Headers -o
   libhello.jnilib -framework JavaVM hello.c goodbye.c</CODE></FONT></BLOCKQUOTE>

<H2>

<HR>

<A NAME=BuildingNative></A>Building native applications that launch
the Java VM</H2>

<P>To build a C application that starts a Java VM sesssion, you must
link with the JavaVM framwork. e.g.</P>

<BLOCKQUOTE><FONT SIZE="-1"><B><CODE>$</CODE></B><CODE> cc myapp.c
   -I/System/Library/Frameworks/JavaVM.framework/Headers -framework
   JavaVM -o myapp</CODE></FONT></BLOCKQUOTE>

<H2>

<HR>

<A NAME=ClassLibs></A><B>AWT and other class libraries</B></H2>

<P>The AWT implementation is a Carbonized version of the one in MRJ
2.2.4, extended to support Java2.</P>

<H3><A NAME=WindowsAndDialogs></A>Windows and Dialogs</H3>

<P>Window resizing is "live" by default. To disable this behavior,
see the section on <A HREF="#GUICustomization">GUI
customization</A>.</P>

<P>Window titles, controls, menu titles and menu items can now use
any Unicode characters supported by Mac OS X. (In previous versions
of MRJ, characters of different non-Roman writing systems, e.g. Kanji
and Arabic, couldn't be mixed in a single title.)</P>

<P>Window coordinates and insets are now compatible with the JDK. In
a nutshell: Window bounds refer to the <I>outside</I> of the window's
frame, and the coordinates of the window put (0,0) at the top left of
the title bar (not at the top left of the content region as in
earlier MRJs.) The <CODE>getInsets</CODE> method returns the amount
by which content needs to be inset in the Window to avoid the window
border. This should only affect applications that are doing precision
positioning of windows (especially full-screen windows), or those
that bypass LayoutManagers to do their own hardcoded component
positioning.</P>

<P>Windows in Mac OS X are double-buffered. Java on Mac OS X attempts
to flush the buffer to the screen often enough to have good drawing
behavior without compromising performance. If for some reason you
need to force window buffers to be flushed <I>immediately</I>, just
call <TT>Toolkit.sync()</TT>.</P>

<P>Java processes that are launched from a shell will not show up in
the Dock or the floating Application List until/unless they show a
window. In the Dock, these processes will then show up as items with
a generic document icon, even though they're applications (currently,
if more than one java process is launched from the command line, only
one icon shows up in the Dock). This allows server-type processes to
run behind the scenes with no user visible manifestation. In
contrast, any app built with MRJAppBuilder will always be user
visible, and have the icon you have selected for it.</P>

<H3><A NAME=GraphicsAndJava2D></A>Graphics and Java2D</H3>

<P>Our Graphics/Java2D implementation is based on Apple's
<I>Quartz</I> graphics engine. Java2D and Quartz have very similar
feature sets, inherited largely from PostScript. Java on Mac OS X
uses Quartz for all graphics -- as opposed to the JDK, which drops
down to GDI or X-Windows for simple 1.1-style drawing -- and while
Quartz is very fast at complex rendering, it has not yet been
optimized for some basic shapes like diagonal lines.</P>

<P>For complex graphics, our Java2D implementation has up to 5x the
performance of Sun's implementation, but simple Java-1.1-style
graphics performance is significantly below that of MRJ 2.2.x,
although better than in Mac OS X previews.</P>

<P>Anti-aliasing is on by default for text and graphics, but can be
turned off using the properties described in the  section on
<A HREF="#GUICustomization">GUI customization</A>, or by calling
<CODE>setRenderingHint()</CODE> within your Java application.</P>

<P><I>Compatibility issues to note:</I></P>

<UL>
   <LI>Drawing shapes over each other when anti-aliasing is on may
   cause different results than in Java 1.1. For instance, drawing a
   white line on top of a black line will <I>not</I> completely erase
   the line; the compositing rules leave some gray pixels around the
   edges. (The JDK "Clock" applet exhibits this glitch.) Also,
   drawing text multiple times in the same place will cause the
   partially-covered pixels along the edges to get darker and darker,
   making the text look smudged.</LI>
   
   <LI>Java on Mac OS X will never have pixel for pixel match with
   the Sun Java2D implementation, especially when anti-aliasing is on
   (see the GUI Customization section below for information on how to
   disable anti-aliasing for ) . Quartz's anti-aliasing algorithms
   for both line art and text are different than Sun's default
   implementations, so the rendered pixels will not match exactly.
   Apple is using the Quartz graphics system because it improves
   drawing quality over other platforms' Java2D implementations.</LI>
</UL>

<P><I>Known bugs:</I></P>

<UL>
   <LI>There are a few situations in which JPEG images won't be read
   properly.</LI>
   
   <LI>Using a Shape object for drawing perfectly horizontal or
   vertical lines (rather than calling <CODE>drawLine()</CODE>) will
   hit a serious bug that hangs the Java process, and may even
   require a reboot. The workaround is to use <CODE>drawLine()</CODE>
   in these cases, which is the more common approach.</LI>
</UL>

<H3><A NAME=Swing></A>Swing</H3>

<P>There is a new Mac OS look-and-feel which uses the Appearance
Manager to do its rendering, giving it full support for the Mac OS X
Aqua interface. This is now the default look-and-feel, and is set as
such in the <CODE>swing.properties</CODE> file. Most Swing-based
applications have preference settings that allow you to switch the
look-and-feel.</P>

<P><I>Things to note about the Mac OS look-and-feel:</I></P>

<UL>
   <LI>The default for the Mac OS look and feel is to leave all Swing
   menus in the window. If you wish to move the main Swing menu bar
   (the JMenuBar blessed by JFrame.setJMenuBar) into the Mac menu
   bar, see the <A HREF="#GUICustomization">GUI customization</A>
   section.</LI>
</UL>

<P><I>Known bugs:</I></P>

<UL>
   <LI>JMenuBars in JDialogs are not moved to the Mac menu bar.</LI>
   
   <LI>Using the striped backgrounds from the Aqua look-and-feel can
   sometimes cause redraw problems.</LI>
</UL>

<H3>Event handling</H3>

<P><I>Known problems with event handling:</I></P>

<UL>
   <LI>If a multi-button USB mouse is connected, the extra mouse
   buttons will behave exactly like the main one; they won't invoke
   contextual menus and the META modifier will not be set in
   MouseEvents. This appears to be a limitation of the current USB
   mouse driver; it affects Carbon and Cocoa apps as well.</LI>
</UL>

<H3><A NAME=GUICustomization></A>GUI customization</H3>

<P>There are many system properties that can be set (via a
<CODE>.properties</CODE> file in your home directory, via
MRJAppBuilder, via Project Builder, or on the <CODE>java</CODE>
command line) to customize various aspects of the GUI:</P>

<P><FONT SIZE="-1"><TABLE BORDER=1>
   <TR>
      <TH WIDTH="47%">
         <P ALIGN=left><FONT SIZE="-1">Property</FONT></P>
      </TH>
      <TH WIDTH="8%">
         <P ALIGN=left><FONT SIZE="-1">Default</FONT></P>
      </TH>
      <TH>
         <P ALIGN=left><FONT SIZE="-1">Function</FONT></P>
      </TH>
   </TR>
   <TR>
      <TD WIDTH="47%">
         <P><FONT SIZE="-1"><TT>com.apple.macosx.AntiAliasedTextOn</TT></FONT></P>
      </TD>
      <TD WIDTH="8%">
         <P><FONT SIZE="-1"><TT>true</TT></FONT></P>
      </TD>
      <TD>
         <P><FONT SIZE="-1">Use anti-aliasing when rendering
         text.</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD WIDTH="47%">
         <P><FONT SIZE="-1"><TT>com.apple.macosx.AntiAliasedGraphicsOn</TT></FONT></P>
      </TD>
      <TD WIDTH="8%">
         <P><FONT SIZE="-1"><TT>true</TT></FONT></P>
      </TD>
      <TD>
         <P><FONT SIZE="-1">Use anti-aliasing when rendering
         graphics.</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="47%">
         <P><FONT SIZE="-1"><TT>com.apple.macos.useMDEF</TT></FONT></P>
      </TD>
      <TD VALIGN=top WIDTH="8%">
         <P><FONT SIZE="-1"><TT>true</TT></FONT></P>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1">Uses a custom Carbon menu definition
         (MDEF) for Swing menus in the Mac menu bar. This allows
         Swing menus to draw arbitrary content.</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="47%">
         <P><FONT SIZE="-1"><TT>com.apple.macos.useScreenMenuBar</TT></FONT></P>
      </TD>
      <TD VALIGN=top WIDTH="8%">
         <P><FONT SIZE="-1"><TT>false</TT></FONT></P>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1">Puts Swing menus in the Mac OS menu bar,
         if using the Aqua look and feel.</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="47%">
         <P><FONT SIZE="-1"><TT>com.apple.mrj.application.growbox.intrudes</TT></FONT></P>
      </TD>
      <TD VALIGN=top WIDTH="8%">
         <P><FONT SIZE="-1"><TT>true</TT></FONT></P>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1">Resizable window's grow-box intrudes into
         AWT content (if turned off, bottom of window is pushed down
         15 pixels.)</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="47%">
         <P><FONT SIZE="-1"><TT>com.apple.mrj.application.live-resize</TT></FONT></P>
      </TD>
      <TD VALIGN=top WIDTH="8%">
         <P><FONT SIZE="-1"><TT>true</TT></FONT></P>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1">Enables live resizing of
         windows.</FONT></P>
      </TD>
   </TR>
   <TR>
      <TD VALIGN=top WIDTH="47%">
         <P><FONT SIZE="-1"><TT>com.apple.mrj.application.apple.menu.about.name</TT></FONT></P>
      </TD>
      <TD VALIGN=top WIDTH="8%">
         <P><FONT SIZE="-1"><I>none</I></FONT></P>
      </TD>
      <TD VALIGN=top>
         <P><FONT SIZE="-1">If defined, an "About" command will be
         added to the top of the application menu, and can be
         detected by registering a
         <TT>com.apple.mrj.AboutHandler</TT>.</FONT></P>
      </TD>
   </TR>
</TABLE>
 </FONT></P>

<P>The properties that apply to windows can be changed at runtime,
but the changes apply only to windows that do not yet have peers
(those that have not yet been <TT>show</TT>n or <TT>pack</TT>ed).</P>

<H3><A NAME=PropertyPermissions></A>Giving applets permission to
access internal properties</H3>

<P>Unsigned applets can't access the above properties. The one
current exception is <TT>com.apple.macos.useScreenMenuBar</TT>. If
you need to use other internal properties from an applet, you can
grant permission to access them by adding a line like the following
to your system-wide policy file, which is located at
<CODE>${JAVA_HOME}/lib/security/java.policy</CODE>:</P>

<BLOCKQUOTE><FONT SIZE="-1"><CODE>java.util.PropertyPermission
   "</CODE><I><CODE>internal.property.goes.here</CODE></I><CODE>",
   "read,write";</CODE></FONT></BLOCKQUOTE>

<H3>AWT internal permissions required for RMI clients</H3>

<P>If you are running an AWT-based application as an RMI client, you
may encounter security exceptions when you launch the application. To
work around this, add the following entries to your system-wide
<CODE>java.policy</CODE> file, which is located at
<CODE>${JAVA_HOME}/lib/security/java.policy</CODE>:</P>

<BLOCKQUOTE><FONT SIZE="-1"><CODE>java.util.PropertyPermission
   "com.apple.openglactive", "read";<BR>
   java.util.PropertyPermission "macosx.aatextactive", "read";<BR>
   java.util.PropertyPermission "macosx.fmtextactive", "read";<BR>
   java.util.PropertyPermission "com.apple.macos.xUseQD", "read";<BR>
   java.util.PropertyPermission
   "com.apple.macos.xDontUseWindowGroups", "read";<BR>
   java.awt.AWTPermission "accessEventQueue", "";</CODE></FONT></BLOCKQUOTE>

<P>This can be done in the section for all code, or on a case-by-case
basis in a separate policy file you specify on the command line.</P>

<P><I>Other known problems with RMI:</I></P>

<UL>
   <LI>If there are spaces in the path containing a Java class, RMI
   may not work correctly. This problem occurs with Java on other
   platforms, but paths containing spaces are more common on Mac
   OS.</LI>
</UL>

<H3><A NAME=Sound></A>Sound</H3>

<P>Java on Mac OS X now supports sound output. However, audio input
is not currently supported.</P>

<H2>

<HR>

<A NAME=JDirect></A>JDirect</H2>

<P>Mac OS X implements JDirect3, which allows access to pre-existing
native code libraries from Java. JDirect2 code will require minor
modifications to run under JDirect3. JDirect1, which has been
deprecated since 1997, is no longer supported.</P>

<P>The JDirect sample code supplied in source form in the MRJ 2.2 SDK
will <I>not</I> work on OS X. That code is not <A HREF="http://developer.apple.com/techpubs/carbon/CarbonOverview/index.html">Carbonized</A>
and it does not use JDirect3.</P>

<P>Read <A HREF="http://developer.apple.com/technotes/tn/tn2002.html">Compatibility
between JDirect 2 and JDirect 3</A> for more information on how to
convert JDirect2 code to use JDirect3 on Mac OS X.</P>

<H3>Toolbox synchronization</H3>

<P>It is imperative that you synchronize all Toolbox calls. Java
threads are native Mach threads and can preempt Toolbox calls made by
the host app or by other Java threads. Carbon is not yet reentrant or
thread-safe, and reentrant calls can corrupt memory or crash the app,
so it's imperative that only one thread be inside Carbon at any
time.</P>

<P>The correct method for Toolbox synchronization has changed since
Public Beta. Java on Mac OS X GM no longer supports the
synchronization method (<CODE>Toolbox.LOCK</CODE>) described in the
Public Beta Java release notes. The correct way to call the Toolbox
(aka Carbon) from Java on Mac OS X GM is:</P>

<BLOCKQUOTE><PRE><FONT SIZE="-1">import com.apple.mrj.macos.carbon.CarbonLock;
   
try {
    CarbonLock.acquire();
   
    &lt;Carbon call here&gt;
   
} finally {
    CarbonLock.release();
}</FONT></PRE></BLOCKQUOTE>

<P>This way the CarbonLock handling can easily be reversed for
JDirect callbacks.</P>

<P>Be sure to use CarbonLock around all Carbon calls. Since threads
are preemptive on Mac OS X, one should hold the CarbonLock for the
very least amount of time possible. Deadlocks occur more often when
the CarbonLock is held too long.</P>

<P>Also, don't do anything which may throw exceptions in the
<CODE>finally</CODE> block that calls
<CODE>CarbonLock.release()</CODE>. Structure your code so that the
CarbonLocking is separate from other <CODE>finally</CODE> blocks.</P>

<H3>Debugging features for JDirect</H3>

<P>To help debug JDirect on Mac OS X, if you define a shell variable
named <CODE>JDIRECT_VERBOSE</CODE>, JDirect will write verbose
loading info to stderr. Note that this only works when launching java
code from the command line--not when double-clicking the bundled
application in the Finder. But you can launch any double-clickable
application from the command line by specifying the path to the
application's executable.</P>

<P>For example, to set the shell variable, and then launch an
application called <CODE>Foo.app</CODE> from the command line, you
would do the following in csh:</P>

<BLOCKQUOTE><PRE><FONT SIZE="-1">% setenv JDIRECT_VERBOSE
% /<I>path</I>/Foo.app/Contents/MacOS/Foo</FONT></PRE></BLOCKQUOTE>

<H3>MethodClosureUPP not supported</H3>

<P>The class MethodClosureUPP was created for use on Mac OS 9 and is
not supported on Mac OS X (the design of that class assumes the
existence of MixedMode). If you are using Toolbox callbacks and want
code that will run on Mac OS 9 or Mac OS X, you will need to have a
helper class that creates a new MethodClosureUPP when on Mac OS 9 or
a new MethodClosure when on Mac OS X.</P>

<H3>JDirect implies user interface</H3>

<P>For this release of Mac OS X, any use of JDirect will cause Carbon
to be initialized, a dock entry added, and a menu bar installed. This
was necessary because Carbon is not thread safe and must be
initialized from the correct thread. A future release of JDirect will
provide a way to specify which JDirect native calls do not load
Carbon, and thus are safe to run without initializing Carbon.</P>

<H3>JDirect access to bundles</H3>

<P>Normally, your <CODE>JDirect_MacOSX String</CODE> is a full path
to a dylib which is the standard packaging for shared mach-o code on
Mac OS X. But you can also specify a full path to a CFBundle. The
CFBundle path name must end in "<CODE>.bundle</CODE>" and be a
properly constructed directory. The CFBundle supports both mach-o
code and CFM code. See the <A HREF="http://developer.apple.com/techpubs/macosx/CoreFoundation/BundleServices/bundleservices_carbon.html">Bundle
Services documentation</A> for more details.</P>

<H2>

<HR>

<A NAME=JavaEmbedding></A>Java Embedding API (formerly JManager)</H2>

<P>New functionality in Mac OS X has enabled us to replace JManager
(the embedding technology for MRJ 2.x on Mac OS 9) with a
Carbon-based Java embedding API. JManager is not supported in Mac OS
X. The interfaces to the new API are the headers
<TT>&lt;JavaVM/JavaApplet.h&gt;</TT>,
<TT>&lt;JavaVM/JavaControl.h&gt;</TT> and
<TT>&lt;JavaVM/JavaErrors.h&gt;</TT>.</P>

<P>The new Java Embedding API is smaller and simpler than JManager.
The functionality previously supplied by JManager is available
through the JNI Invocation API, the CoreFoundation API, or is
unnecessary and has been removed. The functions that remain in the
new Java Embedding API are primarily applet embedding and utility
functions.</P>

<P>Native applications that want to invoke Java should launch a Java
VM using the standard JNI Invocation API, and call
<CODE>CreateSafeEnvironment()</CODE> on the main thread.</P>

<P>Only native applications that want to embed a Java frame into
their own windows need to use the new Java Embedding control creation
APIs in <TT>&lt;JavaVM/JavaControl.h&gt;</TT>. These create a "Java
Control" -- a standard Control Manager control that contains a Java
applet. The control creation APIs take a native WindowRef that
references the window into which the Java Control is to be
embedded.</P>

<P><I>Known problems with the Java Embedding API:</I></P>

<UL>
   <LI>There are a number of clipping problems in the current
   release.</LI>
</UL>

<H2>

<HR>

<A NAME=MRJToolkit></A>MRJToolkit</H2>

<P>The MRJToolkit utility routines from previous versions of MRJ are
present in this release, but there are differences.</P>

<H3>Some routines not implemented</H3>

<P>Several of the MRJToolkit routines do not work:
<CODE>openURL()</CODE>, <CODE>setDefaultFileCreator()</CODE>, and
<CODE>setDefaultFileType()</CODE>. In a future release,
<CODE>openURL()</CODE> may be implemented, but the other two will be
removed entirely.</P>

<H3>Handlers in command line applications</H3>

<P>The <CODE>MRJ</CODE><I><CODE>Thing</CODE></I><CODE>Handler</CODE>
interfaces (<CODE>MRJAboutHandler</CODE>,
<CODE>MRJCoercionHandler</CODE>, <CODE>MRJOpenDocumentHandler</CODE>,
<CODE>MRJPrintDocumentHandler</CODE>, <CODE>MRJQuitHandler</CODE>)
will not work until the AWT is initialized. For packaged
double-clickable applications, the AWT is initialized before your
application's <CODE>main()</CODE> is called. If you launch your java
application from the command line, you must either register your
handlers after your code has initialized the AWT, or force the AWT to
be initialized via a simple snippet such as:</P>

<BLOCKQUOTE><FONT SIZE="-1"><CODE>new Frame().pack();</CODE></FONT></BLOCKQUOTE>

<H3>MRJQuitHandler and default Quit menu item behavior</H3>

<P>Every Java application with UI automatically gets an Apple menu
and an application menu. The application menu follows the standard
Aqua guidelines and contains a Quit menu item. By default that Quit
menu item will call <CODE>System.exit()</CODE>. If you have your own
Quit (or Exit) item in your own menu, then when running on Mac OS X,
you should change your menu to remove the Quit item. You can install
an MRJQuitHandler which will be called when the user chooses the Quit
menu item in the application menu.</P>

<P><I>Known problems with MRJQuitHandler:</I></P>

<UL>
   <LI>Your <CODE>MRJQuitHandler</CODE> cannot directly field events.
   For instance, you cannot run a modal dialog which asks the user to
   confirm the Quit. The workaround is to create a new thread and run
   the modal dialog on it.</LI>
   
   <LI>Java applications may not automatically quit on Log Out/Shut
   Down/Restart, even if you have an
   <CODE>MRJQuitHandler</CODE>.</LI>
</UL>

<H2>

<HR>

<A NAME=LaunchingAndPackaging></A>Developing, packaging, and
launching Java</H2>

<H3><A NAME=ProjectBuilder></A>Project Builder for integrated Java
development</H3>

<P>Project Builder is a complete development environment that
supports editing, compiling, packaging, running, and debugging Java
applications, using the Java runtime on Mac OS X. See the <A HREF="http://developer.apple.com/techpubs/macosx/DeveloperTools/ProjectBuilder/ProjectBuilder.help/index.html">Project
Builder documentation</A> for more information.</P>

<H3><A NAME=MRJAppBuilder></A>MRJAppBuilder</H3>

<P>MRJAppBuilder is a utility for packaging already-compiled Java
applications to run on Mac OS X. MRJAppBuilder constructs
applications in the new <A HREF="http://developer.apple.com/techpubs/macosx/CoreFoundation/BundleServices/bundleservices_carbon.html">Carbon
application bundle format</A>. In order to package your application,
you must specify (at a minimum) the main class name and the location
of the output file. If you are not merging your Java class or jar
files into the output, you will need to add them to the classpath.
Each of these values is settable from within the <B>Application</B>
panel.</P>

<P>The main class field is where you must enter the name of the class
that contains <CODE>main()</CODE>. This field represents the value of
the property <CODE>com.apple.mrj.application.main</CODE>. Remember to
include any package information, such as
<CODE>com.foo.myclass</CODE>. You can also press the "Choose..."
button to choose a jar file that contains the main class.</P>

<P>The classpath field allows you to modify the classpath. Usually,
this will be automatically set to point to the jar file that you're
bundling into your application. In the case where you wish to use a
jar file that remains outside the application bundle, you need to add
a classpath entry of the form:</P>

<DL>
   <DD><FONT SIZE="-1"><TT>$APP_PACKAGE/../</TT><I><TT>MyJarFile.</TT></I><TT>jar</TT></FONT></DD>
</DL>

<P><FONT SIZE="-1"><TT>$APP_PACKAGE</TT></FONT> is a special path
string that represents the application bundle directory.</P>

<P>The last required field is the output file field. You must specify
the name and location of the output file. You may either enter the
path in the text field provided or you may press the "Set..." button
to set the location of the output file using the file chooser
dialog.</P>

<P>You can add a custom icon to your application. Click on the icon
in the Output file section to bring up a file chooser dialog for
selecting an <CODE>icns</CODE> file.</P>

<P>Using the other tabbed panels is optional. The <B>Mac OS X</B>
panel allows you to set values specific to the Mac OS X application
bundle format. If you do not specify the CFBundleExecutable or
CFBundleName, they will be set based on the name of the output file
you choose.</P>

<P>The <B>Java Properties</B> panel allows you to set Java runtime
properties. The main and classpath fields are not editable--they can
only be set in the Application panel. The remaining properties are
the standard properties supported by Java on Mac OS along with their
default values. To set additional properties not listed in the table,
simply add them to the end of the list. In previous versions of
MRJAppBuilder, you were required to create a configurations file
defining the Java runtime properties. This panel is a replacement for
the configurations file.</P>

<P>The <B>Merge Files</B> panel provides a means for adding files to
the application, such as zips or jars. Choose the "Add..." button to
add files to the list. Each item added to the merge list will be
copied into the application's <CODE>Contents/Resources/Java/</CODE>
directory. Each item you add to the merge list gets automatically
added to the classpath.</P>

<H4>Console output from applications</H4>

<P>Console output from packaged Java applications built by
MRJAppBuilder, or from applets running inside Applet Launcher,
appears in the system console, which can be viewed by launching
<TT>/Applications/Utilities/Console</TT>.</P>

<P>If you want application output to appear in a Terminal window,
you'll have to launch the application from that Terminal. You can
either use a "<CODE>java</CODE>" command directly with your jar or
class files, as described in <A HREF="#LaunchingCommandLine">Launching
java from the command line</A> below, or launch the packaged
application from the Terminal by specifying the path to the
executable. Assuming the current directory is the parent directory of
the application, you launch a packaged application like this:</P>

<BLOCKQUOTE><PRE><FONT SIZE="-1">MyJavaApp.app/Contents/MacOS/MyJavaApp</FONT></PRE></BLOCKQUOTE>

<P>There are magic strings for IO redirection: <CODE>$CONSOLE</CODE>
causes output to be displayed in a Java console window.
<CODE>$SYSTEM</CODE> leaves stderr and stdout as is (directed to
Console for double-clickable applications, or directed to the parent
shell for applications launched from the command line).</P>

<H4>Setting the Java working directory</H4>

<P>When you build your application with MRJAppBuilder or Project
Builder, the current Java working directory defaults to the
application bundle directory. For example, if you've built an
application named <CODE>myApp.app</CODE> inside the folder
<CODE>/Volumes/HD/myJavaApplications/</CODE>, then the current
directory would be
<CODE>/Volumes/HD/myJavaApplications/myApp.app/</CODE>. As a result,
all of your classpath entries for jar files merged into your
application would be of the form
<CODE>Contents/Resources/Java/myApp.jar</CODE>. Note that the
<CODE>Contents</CODE> folder resides directly inside
<CODE>myApp.app</CODE>.</P>

<P>You can override the current Java working directory by setting the
property <CODE>com.apple.mrj.application.workingdirectory</CODE>.
This property must be an absolute path, or must start with
<CODE>$APP_PACKAGE</CODE>, which is a special path string that
represents the application bundle directory. Therefore, in this
example, these are equivalent current working directory
specifications:</P>

<P><CODE>com.apple.mrj.application.workingdirectory</CODE> =
<CODE>$APP_PACKAGE/Contents/Resources/Java</CODE></P>

<P><CODE>com.apple.mrj.application.workingdirectory</CODE> =<CODE>
/Volumes/HD/myJavaApplications/myApp.app/Contents/Resources/Java</CODE></P>

<H4>Example of creating an application</H4>

<P>Let's assume you have a simple Java program, such as HelloWorld.
Use <CODE>javac</CODE> and <CODE>jar</CODE> in the Terminal (in
<CODE>/Applications/Utilities/</CODE>) to compile the source and
create a jar file named <CODE>HelloWorld.jar</CODE>. Launch
MRJAppBuilder from <CODE>/Developer/Applications/</CODE>. The active
panel will be the Application panel.</P>

<BLOCKQUOTE><H5>Step 1: Set the Main classname.</H5>
   
   <P>Click on the "Choose..." button and navigate to and select the
   <CODE>HelloWorld.jar</CODE> file. Click on "Select". In the
   "Choose Main Class" dialog, you should see only the name
   <CODE>HelloWorld</CODE>, since there is only one class containing
   a <CODE>main()</CODE> method. Click "OK". The main classname field
   should be automatically filled out and the classpath updated with
   the item <CODE>Contents/Resources/Java/HelloWorld.jar</CODE>.</P>
   
   <H5>Step 2: Set the Output file.</H5>
   
   <P>Click on the "Set..." button and navigate to the desired output
   directory. In the "Select" dialog, type the name of the output
   file in the "Name" field. If you don't enter one, the default will
   be the name of the folder you last clicked on. Click on "Select".
   The Output file field should be filled out with the full path to
   the output file. If you don't append a "<CODE>.app</CODE>"
   extension to the name of your application, MRJAppBuilder will add
   the extension when it builds the application.</P>
   
   <H5>Step 3: Build the application</H5>
   
   <P>Click on "Build Application". That's it! Your application can
   now be launched from the Finder. The <CODE>HelloWorld.jar</CODE>
   file was copied into the application, so you can move the
   application to any location and it will run.</P>
   
   <H5>Notes on the example:</H5>
   
   <UL>
      <LI>All of the text fields in the Application panel are
      editable, so instead of using the dialogs, you could type the
      values for each field directly.</LI>
      
      <LI>For more complex applications that have more than one jar
      file, use the Merge Files panel to add those files to your
      application.</LI>
      
      <LI>We recommend that you add jar files to your application as
      opposed to individual class files.</LI>
   </UL>
</BLOCKQUOTE>

<P><I>Known problems with MRJAppBuilder:</I></P>

<UL>
   <LI>Drag and Drop is currently not supported in
   MRJAppBuilder.</LI>
   
   <LI>There is no indication that MRJAppBuilder has finished
   creating the output application.</LI>
   
   <LI>In some cases, MRJAppBuilder may fail to create an
   application, but will not report errors. A known case of this is
   when you do not have permissions to write the output file.</LI>
   
   <LI>There are problems editing the merge list and classpath in
   some cases.</LI>
   
   <LI>Once a jar file and main class are selected, you have to quit
   and relaunch MRJAppBuilder to select a main class from a different
   jar file.</LI>
   
   <LI>Adding individual class files doesn't work well, since the
   classpath entry that is automatically generated is incorrect. Add
   jar files instead, or you can try to fix the classpath entries by
   hand.</LI>
   
   <LI>Watch the output in the Console application for errors and
   information when diagnosing problems with MRJAppBuilder.</LI>
</UL>

<H3><A NAME=AppletLauncher></A>Applet Launcher</H3>

<P>Applet Launcher allows you to run Java applets without the
overhead of launching a web browser. Applet Launcher provides a user
interface around the <CODE>sun.applet.AppletViewer</CODE> class, with
more features than the <TT>appletviewer</TT> command-line tool from
Sun, which is based on the same class. You can enter the path to an
applet using its fully-qualified URL, and then press the Launch
button. For example, entering the following URL will launch the Sun
Tumbling Duke example applet:</P>

<BLOCKQUOTE><FONT SIZE="-1"><CODE>http://java.sun.com/applets/other/TumblingDuke/index.html</CODE></FONT></BLOCKQUOTE>

<P>Applet Launcher has an Applets menu that displays all applets
listed in the <CODE>/Developer/Examples/Java/Applets</CODE>
directory. These applets are provided by Sun Microsystems as
examples.</P>

<H3><A NAME=LaunchingCommandLine></A>Launching java from the command
line</H3>

<P>JDK-style command-line launching from the Terminal app is fully
supported (as are all your favorite JDK tools like <TT>javac</TT> and
<TT>rmic</TT>). You can still use "<TT>java</TT>" to launch apps and
"<TT>appletviewer</TT>" to launch applets. (Invoking these with no
arguments will print a brief help message.) The Terminal window
serves as the Java console. You can kill a Java process by activating
the Terminal window that launched it and pressing Ctrl-C.</P>

<P><I>Known problems with launching from the command line:</I></P>

<UL>
   <LI>When run from the command-line, Java applications that weren't
   built with MRJAppBuilder may not show up in the Dock.</LI>
</UL>

<H6>

<HR>

<FONT SIZE="-2">6.11 t 20010319</FONT></H6>

<P><FONT SIZE="-2" FACE="Geneva,Helvetica,Arial">Copyright &copy;
2001 Apple Computer, Inc.</FONT></P>

</td></tr></table>

<!-- start of footer --> 
<!--#include virtual="/includes/framesetfooter" --> 
<!-- end of footer --> 

</BODY>
</HTML>
