<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>HID LED test tool - /HID LED test tool-Read Me.txt</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../index.html#//apple_ref/doc/uid/TP30000925" target="_top">Sample Code</a> &gt; <a href="../Games/index.html#//apple_ref/doc/uid/TP30000925-TP30000467" target="_top">Games</a> &gt; <a href="../Games/idxHumanInterfaceDeviceForceFeedback-date.html#//apple_ref/doc/uid/TP30000925-TP30000467-TP30000855">Human Interface Device &amp; Force Feedback</a> &gt; <A HREF="javascript:location.replace('index.html');">HID LED test tool</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->


	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">HID LED test tool</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/HID LED test tool-Read Me.txt</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/HID LED test tool-Read Me.txt</option>
<option value="listing2.html">/main.c</option></select>
				</p>
				</form>
				<p><strong><a href="HID_LED_test_tool.zip">Download Sample</a></strong> (&#147;HID_LED_test_tool.zip&#148;, 15.0K)<BR>
<strong><a href="HID_LED_test_tool.dmg">Download Sample</a></strong> (&#147;HID_LED_test_tool.dmg&#148;, 22.6K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">HID LED test tool
Human Interface Device LED test tool

Version 1.0 1 Apr 2008 Initial release.  
----

This application is a command line tool which demonstrates the HID Manager APIs
introduced in Leopard (10.5). 

----

Requirements: Mac OS X 10.5, Xcode 3.0

Packing List
------------
The sample contains the following items:

    HID LED test tool-Read Me.txt   - this file
    HID LED test tool.xcodeproj     - Xcode project file
    configs                         - Xcode configuration files
    main.c                          - main source file
    build                           - contains a prebuilt binary.


Building the Sample
-------------------
The sample was built using Xcode 3.0 on Mac OS X 10.5.  You should be able to
just open the project and choose Build from the Build menu.  This will build
&quot;HID LED test tool&quot; in the &quot;build/debug&quot; or &quot;build/release&quot; directory.

Using the Sample
----------------
Launch &quot;HID LED test tool&quot; 

How the code works
------------
The &quot;main&quot; routine creates a IOHID Manager reference to which we set a matching
dictionary for keyboards. We then open it and copy out a set of its devices
(which should all be keyboards). We then extract all the device references from
this set into a block of memory. We then (pre-)create an element matching
dictionary for LEDs before entering our main loops.

Our outer loop executes 256 passes; the inner loop iterates over all of the
device references that we extracted from the set of devices that we'd copied
from our HID Manager reference. After double checking to be sure that the device
is a keyboard we copy all the matching elements into a CFArray and then iterate
over all the elements in that array. For each element in the array of elements
we double check it's usage page to be sure that it's an LED and then get its
min/max logical range. This range is used as a modulus to compute the LED's
desired value (based on the current pass). This elementvalue is then sent to the
device and all loops continue. If an LED element was sent a value then we delay
half a second between passes.

Caveats
-------

This demonstration application and the set of utilities is constantly evolving
to both address any bugs and provide better support for developer requested
features. Any suggestions and/or bugs can be directed to the Apple bug reporter
at: &lt;http://developer.apple.com/bugreporter/index.html&gt;

We hope this helps people get up and running with the HID Manager APIs
introduced in 10.5 in a quick and painless manner.

Credits and Version History
---------------------------

Version 1.0 1 Apr 2008 Initial release.  

Share and Enjoy.
Apple Developer Technical Support
</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/HID_LED_test_tool/listing1.html%3Fid%3DDTS40007878-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/HID_LED_test_tool/listing1.html%3Fid%3DDTS40007878-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/HID_LED_test_tool/listing1.html%3Fid%3DDTS40007878-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>