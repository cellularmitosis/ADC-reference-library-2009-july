<html><head><title>Mac OS X
 Manual Page For arch(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/arch" title="Mac OS X
 Manual Page for arch(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/arch"; name=arch(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>

ARCH(1)                   BSD General Commands Manual                  ARCH(1)

<b>NAME</b>
     <b>arch</b> -- print architecture type or run selected architecture of a universal binary

<b>SYNOPSIS</b>
     <b>arch</b>
     <b>arch</b> [<b>-h</b>] [[<b>-</b><u>arch</u><b>_</b><u>name</u> | <b>-arch</b> <u>arch</u><b>_</b><u>name</u>]...] <u>prog</u> [<u>args</u> ...]

<b>DESCRIPTION</b>
     The <b>arch</b> command with no arguments, displays the machine's architecture type.

     The other use of the <b>arch</b> command it to run a selected architecture of a universal binary.  A universal
     binary contains code that can run on different architectures.  By default, the operating system will
     select the architecture that most closely matches the processor type.  This means that an intel archi-<font color="#ffffff" class="whiteout">tecture&nbsp;architecture</font>
     tecture is selected on intel processors and a powerpc architecture is selected on powerpc processors.
     A 64-bit architecuture is preferred over a 32-bit architecture on a 64-bit processor, while only 32-bit
     architectures can run on a 32-bit processor.

     When the most natural architecture is unavailable, the operating system will try to pick another archi-<font color="#ffffff" class="whiteout">tecture.&nbsp;architecture.</font>
     tecture.  On 64-bit processors, a 32-bit architecture is tried.  If this is also unavailable, the oper-<font color="#ffffff" class="whiteout">ating&nbsp;operating</font>
     ating system on an intel processor will try running a 32-bit powerpc architecture.  Otherwise, no
     architecture is run, and an error results.

     The <b>arch</b> command can be use to alter the operating system's normal selection order.  The most common
     use is to select the 32-bit architecture on a 64-bit processor, even if a 64-bit architecture is avail-<font color="#ffffff" class="whiteout">able.&nbsp;available.</font>
     able.

     The <b>-h</b> option prints a usage message and exits.

     The <u>arch</u><b>_</b><u>name</u> argument must be one of the currently supported architectures:

           i386    32-bit intel

           ppc     32-bit powerpc

           ppc64   64-bit powerpc

           x86_64  64-bit intel

     Either prefix the architecture with a hyphen, or (for compatibility with other commands), use <b>-arch</b>
     followed by the architecture.

     If more than one architecture is specified, the operating system will try each one in order, skipping
     an architecture that is not supported on the current processor, or is unavailable in the universal
     binary.

     The <u>prog</u> argument is the command to run, followed by any arguments to pass to the command.  It can be a
     full or partial path, while a lone name will be lookup in the user's command search path.

     If no architectures are specified on the command line, the <b>arch</b> command takes the basename of the <u>prog</u>
     argument and searches for the first property list file with that basename and the <u>.plist</u> suffix, in the
     <u>archSettings</u> sub-directory in each of the standard domains, in the following order:

           ~/Library/archSettings         User settings

           /Library/archSettings          Local settings

           /Network/Library/archSettings  Network settings

           /System/Library/archSettings   System settings

     This property list contains the architecture order preferences, as well as the full path to the real
     executable.  For examples of the property list format, look at the files in
     <u>/System/Library/archSettings</u>.

   <b>Example</b>
     On an intel processor:

           % perl -MConfig -e 'printf "%s\n", $Config{byteorder}'
           1234

     shows the intel little endian byte order, while:

           % arch -ppc perl -MConfig -e 'printf "%s\n", $Config{byteorder}'
           4321

     runs the powerpc architecture, and displays big endian byte order.

   <b>Making</b> <b>links</b> <b>to</b> <b>the</b> <b>arch</b> <b>command</b>
     When a link is made to <b>arch</b> command with a different name, that name is used to find the corresponding
     property list file.  Thus, other commands can be wrapped so that they have custom architecture selec-<font color="#ffffff" class="whiteout">tion&nbsp;selection</font>
     tion order.

     Because of some internal logic in the code, hard links to the <b>arch</b> command may not work quite right.
     It is best to avoid using hard links, and only use symbolic links to the <b>arch</b> command.

   <b>Environment</b>
     The environment variable ARCHPREFERENCE can be used to provide architecture order preferences.  It is
     checked before looking for the corresponding property list file.

     The value of the environment variable ARCHPREFERENCE is composed of one or more specifiers, separated
     by semicolons.  A specifier is made up of one, two or three fields, separated by colons.  Architectures
     specified in order, are separated by commas and make up the last (mandatory) field.  The first field,
     if specified, is a name of a program, which selects this specifier if that name matches the program
     name in question.  If the name field is empty or there is no name field, the specifier matches any pro-<font color="#ffffff" class="whiteout">gram&nbsp;program</font>
     gram name.  Thus, ordering of specifiers is important, and the one with no name should be last.

     When the <b>arch</b> command is called directly, the <u>prog</u> name provides the path information to the executable
     (possibly via the command search path).  When a name is specified in a ARCHPREFERENCE specifier, the
     path information can alternately be specified as a second field following the name.  When the <b>arch</b> com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
     mand is called indirectly via a link, this path information must be specified.  If not specified as a
     second field in a specifier, the executable path will be looked up in the corresponding property list
     file.

   <b>Example</b> <b>ARCHPREFERENCE</b> <b>Values</b>
     ppc,i386,ppc64,x86_64
           A specifier that matches any name.

     foo:ppc,i386,ppc64,x86_64
           A specifier that matches the program named <b>foo</b> (the full executable path is in the <u>foo.plist</u>
           file).

     foo:/op/bin/boo:ppc,i386,ppc64,x86_64
           A specifier with all fields specified.

     baz:ppc,i386;i386,ppc
           A specifier for <b>baz</b> and a second specifier that would match any other name.

<b>BUGS</b>
     Running the <b>arch</b> command on an interpreter script may not work if the interpreter is a link to the arch
     command, especially if a 64-bit architecture is specified (since the <b>arch</b> command is 2-way universal,
     32-bit only).

<b>SEE</b> <b>ALSO</b>
     <a href="machine.1.html#//apple_ref/doc/man/1/machine">machine(1)</a>

Mac OS X                       November 12, 2006                      Mac OS X
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/arch.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/arch.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/arch.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
