<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"> <TITLE> Increasing the Listen Queue Depth</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b> Deploying WebObjects Applications</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="Deploying-35.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-46.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-48.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="FM2HeadSplit"><A NAME="pgfId-5169"></A><A NAME="13836"></A>Increasing the Listen Queue Depth</H1><P CLASS="Body"><A NAME="pgfId-5170"></A>The listen queue depth indicates the number of transactions that can be in the socket buffer (the listen queue) awaiting processing. If the number of transactions in the buffer reach the limit set by the listen queue depth, the socket refuses new requests. The default depth is five.</P><P CLASS="Body"><A NAME="pgfId-7794"></A>When an application's request load varies by period (that is, it experiences &quot;spikes&quot;), you can increase the listen queue depth to improve performance. For example, suppose an application can process one transaction per second and it typically receives transactions at the rate of one transaction every two seconds. The application's listen queue remains empty because it can handle the load. Suppose that at certain times of the day this same application receives a much heavier load of two requests per second. At these times, the listen queue fills up because the application cannot process as many requests as it receives. If you know that the request rate will eventually return to the normal load of one request every two seconds, increasing the listen queue depth will help improve performance during the heavy load time. </P><P CLASS="Body"><A NAME="pgfId-5172"></A>On the other hand, suppose that two requests per second becomes the normal request load for this application. In this case, no matter how big the listen queue, the application can never catch up because it only processes one request per second. In this situation, when the average load is higher than the application can handle, load balancing is the proper solution.</P><P CLASS="Body"><A NAME="pgfId-5173"></A>To set the listen queue depth for all instances of an application, do the following in Monitor:</P><OL><LI CLASS="BodyNumber1"><A NAME="pgfId-5174"></A>Click Applications in the Monitor banner to go to the Applications page.</LI><LI CLASS="BodyNumber"><A NAME="pgfId-5175"></A>Click the Config button in any row containing a configured application.</LI><LI CLASS="BodyNumber"><A NAME="pgfId-8699"></A>In the Application Configuration page, click the New Instance Defaults option. This displays the following form:</LI><P CLASS="anchor"><A NAME="pgfId-9664"></A>&nbsp;</P><DIV><IMG SRC="Art/AppInstanceConfig.gif"></DIV><LI CLASS="BodyNumber"><A NAME="pgfId-5177"></A>Type the new listen queue depth in the Listen Queue Size field and check the box to the left of this field.</LI><LI CLASS="BodyNumber"><A NAME="pgfId-8712"></A>Click the Update for New and Existing Instances button.</LI><LI CLASS="BodyNumber"><A NAME="pgfId-8713"></A>Restart any existing instance to have it assume the new listen queue depth.</LI></OL><P CLASS="Body"><A NAME="pgfId-8714"></A>If you want to change the listen queue depth for specific instances, enter the new depth in the List Queue Size field of the Application Start-Up/Command-line Arguments form in the Instance Configuration page for an instance.</P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 25 August 99)<P><A HREF="Deploying-35.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-46.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-48.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>