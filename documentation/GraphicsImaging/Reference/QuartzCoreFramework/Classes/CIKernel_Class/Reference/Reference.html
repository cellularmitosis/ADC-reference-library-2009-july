<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>CIKernel Class Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="CIKernel Class Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001314" title="CIKernel"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../../reference/Cocoa/index.html#//apple_ref/doc/uid/TP30001281-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../../../../reference/Cocoa/idxGraphicsImaging-date.html#//apple_ref/doc/uid/TP30001281-TP30000416-TP30000450" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../index.html" target="_top">CIKernel Class Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/cl/CIKernel" title="CIKernel"></a><a name="//apple_ref/doc/c_ref/CIKernel" title="CIKernel"></a><a name="//apple_ref/doc/uid/TP40001314-BCIHFHHB" title="CIKernel"></a><h1>CIKernel Class Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Inherits from</span></strong></td><td><div style="margin-bottom:1px"><a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html#//apple_ref/occ/cl/NSObject" target="_top">NSObject</a></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Conforms to</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../../Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intf/NSObject" target="_top">NSObject (NSObject)</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">Library/Frameworks/<a href="../../../../CoreImagingRef/index.html#//apple_ref/doc/uid/TP40001171" target="_top">QuartzCore.framework</a></div></td></tr><tr><td scope="row"><strong>Availability</strong></td><td><div style="margin-bottom:1px"><div>Mac OS X v10.4 and later</div></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CIKernel.h</span><br/></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guides</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../Conceptual/CoreImaging/index.html#//apple_ref/doc/uid/TP30001185" target="_top">Core Image Programming Guide</a></span><br/><span class="content_text"><a href="../../../../CIKernelLangRef/index.html#//apple_ref/doc/uid/TP40004397" target="_top">Core Image Kernel Language Reference</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Related sample code</span></strong></td><td><div style="margin-bottom:1px"><div><span class="content_text"><a href="../../../../../../../samplecode/CIAnnotation/index.html#//apple_ref/doc/uid/DTS10003682" target="_top">CIAnnotation</a></span></div></div></td></tr></table></div><br/>




<a name="//apple_ref/doc/uid/TP40001314-743333" title="Overview"></a><h2>Overview</h2><p class="spaceabove">The <code>CIKernel</code> class maintains kernel routines that process individual pixels. The kernel routines in a <code>CIKernel</code> object use a subset of the OpenGL Shading Language and Core Image extensions to this language. You use a <code>CIKernel</code> object in conjunction with other Core Image classes, such as <code><a href="../../CIFilter_Class/Reference/Reference.html#//apple_ref/occ/cl/CIFilter" target="_top">CIFilter</a></code>, <code><a href="../../CIFilterShape_Class/Reference/Reference.html#//apple_ref/occ/cl/CIFilterShape" target="_top">CIFilterShape</a></code>, and <code><a href="../../CISampler_Class/Reference/Reference.html#//apple_ref/occ/cl/CISampler" target="_top">CISampler</a></code>, to create custom filters.</p>



<a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_1" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_2" title="Creating a Kernel"></a>
		<h3 class="tasks">Creating a Kernel</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/CIKernel/kernelsWithString:">+&#xA0;kernelsWithString:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates and returns and array of  <code>CIKernel</code> objects.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_3" title="Getting a Kernel Name"></a>
		<h3 class="tasks">Getting a Kernel Name</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/CIKernel/name">&#8211;&#xA0;name</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the name of a kernel routine.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_4" title="Setting a Selector"></a>
		<h3 class="tasks">Setting a Selector</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/CIKernel/setROISelector:">&#8211;&#xA0;setROISelector:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the selector used to query the region of interest of the kernel.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_5" title="Class Methods"></a><h2>Class Methods</h2><a name="//apple_ref/occ/clm/CIKernel/kernelsWithString:" title="kernelsWithString:"></a><a name="//apple_ref/doc/uid/TP40001314-BABEAECH" title="kernelsWithString:"></a><a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_8"></a>
<h3 class="verytight">kernelsWithString:</h3>
<p class="spaceabove">Creates and returns and array of  <code>CIKernel</code> objects.</p><p class="spaceabovemethod">+ (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)kernelsWithString:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>s</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>s</em></dt><dd><p>A program in the Core Image dialect of the OpenGL Shading Language that contains one or more routines, each of which is marked using the <code>kernel</code> keyword.</p></dd></dl><h5 class="tight">Return Value</h5><p>An array of  <code>CIKernel</code> objects. The array contains one <code>CIKernel</code> objects for each kernel routine in the supplied string.</p><h5 class="tight">Discussion</h5><p>See <em><a href="../../../../CIKernelLangRef/index.html#//apple_ref/doc/uid/TP40004397" target="_top">Core Image Kernel Language Reference</a></em> for more details.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Mac OS X v10.4 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/CIAnnotation/index.html#//apple_ref/doc/uid/DTS10003682" target="_top">CIAnnotation</a></span></li></ul><h5 class="tight">Declared In</h5><code>CIKernel.h</code><a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_6" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/instm/CIKernel/name" title="name"></a><a name="//apple_ref/doc/uid/TP40001314-BBCDBGJD" title="name"></a><a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_9"></a><h3 class="verytight">name</h3>
<p class="spaceabove">Returns the name of a kernel routine.</p><p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)name</p><h5 class="tight">Return Value</h5><p>The name of the kernel routine.</p>

<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>CIKernel.h</code><a name="//apple_ref/occ/instm/CIKernel/setROISelector:" title="setROISelector:"></a><a name="//apple_ref/doc/uid/TP40001314-BAJJDFDE" title="setROISelector:"></a><a name="//apple_ref/doc/uid/TP40001314-DontLinkElementID_10"></a><h3 class="verytight">setROISelector:</h3>
<p class="spaceabove">Sets the selector used to query the region of interest of the kernel.</p><p class="spaceabovemethod">- (void)setROISelector:(SEL)<em>aMethod</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>aMethod</em></dt><dd><p>A selector name. </p></dd></dl>
<h5 class="tight">Discussion</h5><p> The <code>aMethod</code> argument must use the signature that is defined for the <code>regionOf:destRect:userInfo:</code> method, which is as follows:</p><p><code>- (CGRect) regionOf:(int)samplerIndex destRect:(CGRect)r userInfo:obj;</code></p><p>where: </p><ul class="ul">
<li class="li"><p><code>samplerIndex</code> defines the sampler to query</p></li>
<li class="li"><p><code>destRect</code> is the extent of the region, in working space coordinates, to render.</p></li>
<li class="li"><p><code>userInfo</code> is the object associated with the <code>kCIApplyOptionUserInfo</code> option when the kernel is applied to its arguments. The <code>userInfo</code> is important because instance variables can’t be used by the defining class. Instance variables must be passed through the <code>userInfo</code> argument.</p></li></ul><p>The <code>regionOf:destRect:userInfo:</code> method of the CIFilter object is called by the framework. This method returns the rectangle that contains the region of the sampler that the kernel needs to render the specified destination rectangle. </p><p>A sample <code>regionOf:destRect:userInfo:</code> method might look as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>- (CGRect)regionOf:(int)sampler destRect:(CGRect)r userInfo:params<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>  float scale = fabs ([params X]);<span></span></pre></td></tr><tr><td scope="row"><pre>  return CGRectInset (r, scale * -1.3333, scale * -1.3333);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>In the filter code, you set the selector using the following:</p><p><code>kernel setROISelector:@selector(regionOf:destRect:userInfo:)</code>]</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Mac OS X v10.4 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/CIAnnotation/index.html#//apple_ref/doc/uid/DTS10003682" target="_top">CIAnnotation</a></span></li></ul><h5 class="tight">Declared In</h5><code>CIKernel.h</code>





        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-12-05<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Reference/QuartzCoreFramework/Classes/CIKernel_Class/Reference/Reference.html%3Fid%3DTP40003964-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Reference/QuartzCoreFramework/Classes/CIKernel_Class/Reference/Reference.html%3Fid%3DTP40003964-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Reference/QuartzCoreFramework/Classes/CIKernel_Class/Reference/Reference.html%3Fid%3DTP40003964-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>