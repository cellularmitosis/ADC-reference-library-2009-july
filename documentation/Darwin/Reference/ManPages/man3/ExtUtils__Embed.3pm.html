<html><head><title>Mac OS X
 Manual Page For ExtUtils::Embed(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/ExtUtils::Embed" title="Mac OS X
 Manual Page for ExtUtils::Embed(3pm)"><a name="//apple_ref/doc/man/3/ExtUtils::Embed" title="Mac OS X
 Manual Page for ExtUtils::Embed(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/ExtUtils::Embed"; name=ExtUtils::Embed(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ExtUtils::Embed(3pm)                  Perl Programmers Reference Guide                  ExtUtils::Embed(3pm)



<b>NAME</b>
       ExtUtils::Embed - Utilities for embedding Perl in C/C++ applications

<b>SYNOPSIS</b>
        perl -MExtUtils::Embed -e xsinit
        perl -MExtUtils::Embed -e ccopts
        perl -MExtUtils::Embed -e ldopts

<b>DESCRIPTION</b>
       ExtUtils::Embed provides utility functions for embedding a Perl interpreter and extensions in your
       C/C++ applications.  Typically, an application <b>Makefile</b> will invoke ExtUtils::Embed functions while
       building your application.

<b>@EXPORT</b>
       ExtUtils::Embed exports the following functions:

       <u>xsinit()</u>, <u>ldopts()</u>, <u>ccopts()</u>, <u>perl</u><b>_</b><u>inc()</u>, <u>ccflags()</u>, <u>ccdlflags()</u>, <u>xsi</u><b>_</b><u>header()</u>, <u>xsi</u><b>_</b><u>protos()</u>,
       <u>xsi</u><b>_</b><u>body()</u>

<b>FUNCTIONS</b>
       <u>xsinit()</u>
           Generate C/C++ code for the XS initializer function.

           When invoked as `perl -MExtUtils::Embed -e xsinit --` the following options are recognized:

           <b>-o</b> &lt;output filename&gt; (Defaults to <b>perlxsi.c</b>)

           <b>-o</b> <b>STDOUT</b> will print to STDOUT.

           <b>-std</b> (Write code for extensions that are linked with the current Perl.)

           Any additional arguments are expected to be names of modules to generate code for.

           When invoked with parameters the following are accepted and optional:

           "xsinit($filename,$std,[@modules])"

           Where,

           <b>$filename</b> is equivalent to the <b>-o</b> option.

           <b>$std</b> is boolean, equivalent to the <b>-std</b> option.

           <b>[@modules]</b> is an array ref, same as additional arguments mentioned above.

       Examples
            perl -MExtUtils::Embed -e xsinit -- -o xsinit.c Socket

           This will generate code with an <b>xs_init</b> function that glues the perl <b>Socket::bootstrap</b> function
           to the C <b>boot_Socket</b> function and writes it to a file named <u>xsinit.c</u>.

           Note that <b>DynaLoader</b> is a special case where it must call <b>boot_DynaLoader</b> directly.

            perl -MExtUtils::Embed -e xsinit

           This will generate code for linking with <b>DynaLoader</b> and each static extension found in <b>$Con</b>-<font color="#ffffff" class="whiteout">fig{static_ext}.&nbsp;$Config{static_ext}.</font>
           <b>fig{static_ext}</b>.  The code is written to the default file name <b>perlxsi.c</b>.

            perl -MExtUtils::Embed -e xsinit -- -o xsinit.c -std DBI DBD::Oracle

           Here, code is written for all the currently linked extensions along with code for <b>DBI</b> and
           <b>DBD::Oracle</b>.

           If you have a working <b>DynaLoader</b> then there is rarely any need to statically link in any other
           extensions.

       <u>ldopts()</u>
           Output arguments for linking the Perl library and extensions to your application.

           When invoked as `perl -MExtUtils::Embed -e ldopts --` the following options are recognized:

           <b>-std</b>

           Output arguments for linking the Perl library and any extensions linked with the current Perl.

           <b>-I</b> &lt;<a href="path1:path2">path1:path2</a>

           Search path for ModuleName.a archives.  Default path is <b>@INC</b>.  Library archives are expected to
           be found as <b>/some/path/auto/ModuleName/ModuleName.a</b> For example, when looking for <b>Socket.a</b> rela-<font color="#ffffff" class="whiteout">tive&nbsp;relative</font>
           tive to a search path, we should find <b>auto/Socket/Socket.a</b>

           When looking for <b>DBD::Oracle</b> relative to a search path, we should find <b>auto/DBD/Oracle/Oracle.a</b>

           Keep in mind that you can always supply <b>/my/own/path/ModuleName.a</b> as an additional linker argu-<font color="#ffffff" class="whiteout">ment.&nbsp;argument.</font>
           ment.

           <b>--</b>  &lt;list of linker args&gt;

           Additional linker arguments to be considered.

           Any additional arguments found before the <b>--</b> token are expected to be names of modules to gener-<font color="#ffffff" class="whiteout">ate&nbsp;generate</font>
           ate code for.

           When invoked with parameters the following are accepted and optional:

           "ldopts($std,[@modules],[@link_args],$path)"

           Where:

           <b>$std</b> is boolean, equivalent to the <b>-std</b> option.

           <b>[@modules]</b> is equivalent to additional arguments found before the <b>--</b> token.

           <b>[@link_args]</b> is equivalent to arguments found after the <b>--</b> token.

           <b>$path</b> is equivalent to the <b>-I</b> option.

           In addition, when ldopts is called with parameters, it will return the argument string rather
           than print it to STDOUT.

       Examples
            perl -MExtUtils::Embed -e ldopts

           This will print arguments for linking with <b>libperl.a</b>, <b>DynaLoader</b> and extensions found in <b>$Con</b>-<font color="#ffffff" class="whiteout">fig{static_ext}.&nbsp;$Config{static_ext}.</font>
           <b>fig{static_ext}</b>.  This includes libraries found in <b>$Config{libs}</b> and the first ModuleName.a
           library for each extension that is found by searching <b>@INC</b> or the path specified by the <b>-I</b>
           option.  In addition, when ModuleName.a is found, additional linker arguments are picked up from
           the <b>extralibs.ld</b> file in the same directory.

            perl -MExtUtils::Embed -e ldopts -- -std Socket

           This will do the same as the above example, along with printing additional arguments for linking
           with the <b>Socket</b> extension.

            perl -MExtUtils::Embed -e ldopts -- DynaLoader

           This will print arguments for linking with just the <b>DynaLoader</b> extension and <b>libperl.a</b>.

            perl -MExtUtils::Embed -e ldopts -- -std Msql -- -L/usr/msql/lib -lmsql

           Any arguments after the second '--' token are additional linker arguments that will be examined
           for potential conflict.  If there is no conflict, the additional arguments will be part of the
           output.

       <u>perl</u><b>_</b><u>inc()</u>
           For including perl header files this function simply prints:

            -I$Config{archlibexp}/CORE

           So, rather than having to say:

            perl -MConfig -e 'print "-I$Config{archlibexp}/CORE"'

           Just say:

            perl -MExtUtils::Embed -e perl_inc

       <u>ccflags()</u>, <u>ccdlflags()</u>
           These functions simply print $Config{ccflags} and $Config{ccdlflags}

       <u>ccopts()</u>
           This function combines <u>perl</u><b>_</b><u>inc()</u>, <u>ccflags()</u> and <u>ccdlflags()</u> into one.

       <u>xsi</u><b>_</b><u>header()</u>
           This function simply returns a string defining the same <b>EXTERN_C</b> macro as <b>perlmain.c</b> along with
           #including <b>perl.h</b> and <b>EXTERN.h</b>.

       xsi_protos(@modules)
           This function returns a string of <b>boot_$ModuleName</b> prototypes for each @modules.

       xsi_body(@modules)
           This function returns a string of calls to <u></u><b><u>n</u></b><u></u><b><u>w</u></b><u></u><b><u>S</u></b><u></u><b><u>)</u></b> that glue the module <b>bootstrap</b> function to
           <b>boot_ModuleName</b> for each @modules.

           <u></u><b><u>x</u></b><u></u><b><u>i</u></b><u></u><b><u>i</u></b><u></u><b><u>(</u></b> uses the xsi_* functions to generate most of its code.

<b>EXAMPLES</b>
       For examples on how to use <b>ExtUtils::Embed</b> for building C/C++ applications with embedded perl, see
       perlembed.

<b>SEE</b> <b>ALSO</b>
       perlembed

<b>AUTHOR</b>
       Doug MacEachern &lt;<u>dougm@osf.org&gt;</u>

       Based on ideas from Tim Bunce &lt;<u>Tim.Bunce@ig.co.uk&gt;</u> and <b>minimod.pl</b> by Andreas Koenig
       &lt;<u>k@anna.in-berlin.de&gt;</u> and Tim Bunce.



perl v5.8.8                                      2001-09-21                             ExtUtils::Embed(3pm)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/ExtUtils__Embed.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/ExtUtils__Embed.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/ExtUtils__Embed.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
