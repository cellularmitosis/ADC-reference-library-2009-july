<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> How Your Metahandler is Called</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=10500"> </A>How Your Metahandler is Called</H1><P CLASS="T1.Text1"><A NAME="pgfId=10506"> </A>When you pass a metahandler to QuickDraw 3D, it is called multiple times to build method tables and is then thrown away. You are guaranteed that your metahandler will never be called again after the call that was passed to it returns.</P><P CLASS="T1.Text1"><A NAME="pgfId=10511"> </A>Your metahandler should contain a switch on the method type passed to it and should return the corresponding method as a <TT CLASS="cv">TQ3XFunctionPointer</TT>:</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=21021"> </A>typedef void (QD3D_CALLBACK *TQ3XFunctionPointer)(void);<BR></CODE><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=21027"> </A>typedef unsigned long TQ3XMethodType;<BR></CODE><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=21033"> </A>typedef TQ3XFunctionPointer (QD3D_CALLBACK *TQ3XMetaHandler)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(TQ3XMethodType&nbsp;&nbsp;&nbsp;&nbsp;methodType);<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=18129"> </A>For a description of the QD3D_CALLBACK macro, see the <TT CLASS="cv">QD3D.h</TT> header file.</P><P CLASS="I.Important"><A NAME="pgfId=10579"> </A>A metahandler must always return a value. If it is passed a method type that it does not understand, it must return a value of <TT CLASS="cv">NULL</TT>. </P><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>