<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Associating Help Resources With Static Windows (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING151></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-150.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-152.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-138.html"><B>Chapter 3 - Help Manager</B></A> / <A HREF="MoreToolbox-143.html"><B>Using the Help Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING151-0></A>
<H2><A NAME=MARKER-9-291></A>Associating Help Resources With Static Windows</H2>
 To associate <CODE>'hrct'</CODE> and <CODE>'hdlg'</CODE> resources with static windows, create an <CODE>'hwin'</CODE> resource. As shown here, an <CODE>'hwin'</CODE> resource consists of two types of components: a header component and a window component. Use a <B>window component</B> to associate an <CODE>'hrct'</CODE> or <CODE>'hdlg'</CODE> resource with a particular window.<A NAME=MARKER-9-106></A><A NAME=MARKER-9-201></A><A NAME=MARKER-9-257></A>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Component<TH>Element<TR>
<TD rowspan=2>Header<TD>Help Manager version<TR>
<TD>Options<TR>
<TD rowspan=4>First window<TD>Resource ID of an <CODE>'hrct'</CODE> or <CODE>'hdlg'</CODE> resource<TR>
<TD>Resource type (<CODE>'hdlg'</CODE> or <CODE>'hrct'</CODE>)<TR>
<TD>Length used to compare title strings--or, if flagged by a<BR> minus sign (-), the <CODE>windowKind</CODE> value of an untitled window<TR>
<TD>Window title string--or empty string if window is untitled<TR>
<TD rowspan=4>Next window<TD>(Same as the first window component)<TR>
<TD>.<TR>
<TD>.<TR>
<TD>.<A NAME=MARKER-2-7></A><A NAME=MARKER-2-106></A><TR>
<TD>Last window<TD>(Same as the first window component)</TABLE>
<A NAME=MARKER-2-1></A><A NAME=MARKER-21-294></A><P>
<A NAME=HEADING151-2></A>
<H3>Specifying Header Information for the 'hwin' Resource</H3>
 Specify the <CODE>HelpMgrVersion</CODE> constant for the first element of the header component. For the second element, specify a constant (normally, <CODE>hmDefaultOptions</CODE>) or the sum of several constants' values from this list.<A NAME=MARKER-2-257></A><P>
<PRE>
CONST hmDefaultOptions  = 0      {use defaults}
      hmUseSubID        = 1;     {use subrange resource IDs }
                                 { for owned resources}
      hmMatchInTitle    = 16;    {match window by string }
                                 { anywhere in title string}
</PRE>
 Notice that options regarding local coordinates and bits behind the balloon are not applicable to the <CODE>'hwin'</CODE> resource, but, compared to the other resources related to the Help Manager, the <CODE>'hwin'</CODE> resource has a unique option: <CODE>hmMatchInTitle</CODE>.<P>
 If you're providing help balloons for a desk accessory or a driver that owns other resources, use the <CODE>hmUseSubID</CODE> constant in the second element. (See the chapter "Resource Manager" in this book for a discussion of owned resources and their resource IDs.)<P>
 <A NAME=MARKER-9-10></A>You can specify the <CODE>hmMatchInTitle</CODE> constant to match windows containing a specified number of sequential characters starting with any character position in the window title. If you do not specify the <CODE>hmMatchInTitle</CODE> constant for the second element of the header component, the Help Manager matches characters starting with the first character of the window title.<P>
 For example, if an <CODE>'hwin'</CODE> resource specifies the <CODE>hmMatchInTitle</CODE> constant in the header component, specifies in the window component that four characters should be matched, and specifies the character string <CODE>Test</CODE> as the window's title string, the Help Manager uses this <CODE>'hwin'</CODE> resource when the cursor is located in any active window that is titled Test, Window Test, or Test Case or is given a title with any other string that contains the characters <CODE>Test</CODE>.<A NAME=MARKER-2-299></A><P>
 If you supply the <CODE>hmDefaultOptions</CODE> constant, the Help Manager treats the resource IDs in this resource as regular resource IDs and not as subrange IDs, and it begins matching characters at the first character of the window strings specified in each window component. As long as the window components all use the same options, you can list help for all your windows in a single <CODE>'hwin'</CODE> resource. You must create separate <CODE>'hwin'</CODE> resources for window components that require different options.<A NAME=MARKER-2-177></A><P>
<A NAME=HEADING151-10></A>
<H3><A NAME=MARKER-9-301></A>Specifying 'hdlg' or 'hrct' Resources in the 'hwin' Resource</H3>
 You can specify multiple window components after the header component.<A NAME=MARKER-2-270></A><P>
 <A NAME=MARKER-9-89></A>Within the <CODE>'hwin'</CODE> resource you identify <CODE>'hrct'</CODE> resources and <CODE>'hdlg'</CODE> resources by their resource IDs and by their types. Use the first element of a window component to specify the resource ID of either an <CODE>'hrct'</CODE> or an <CODE>'hdlg'</CODE> resource. Use the second element to specify that resource's type--either <CODE>'hrct'</CODE> or <CODE>'hdlg'</CODE>. Use the next <BR>two elements to specify the window with which you want to associate the <CODE>'hrct'</CODE> or <CODE>'hdlg'</CODE> resource identified in the first two elements.<A NAME=MARKER-2-156></A><P>
 You specify windows in one of these two ways:<P>
<UL>
<LI>by specifying the number of characters used for matching a window title in the third element of the window component, and by specifying a string consisting of this number of sequential characters from the window's title in the fourth element
<LI>by flagging the third element of the component with a minus sign (-), specifying the <CODE>windowKind</CODE> value from the window's window record in the third element, and leaving an empty string in the fourth element<A NAME=MARKER-2-190></A><P>
</UL>
 When an active window has a title or <CODE>windowKind</CODE> value that matches an <CODE>'hwin'</CODE> resource, the Help Manager provides help balloons for the hot rectangles associated with the specified <CODE>'hrct'</CODE> and <CODE>'hdlg'</CODE> resources.<A NAME=MARKER-9-105></A><P>
 <A HREF=#MARKER-9-307>Figure 3-19</A> shows a sample palette an application might use and the help balloon displayed for the hammer tool.<P>
<B>Figure 3-19  <A NAME=MARKER-9-307></A><A NAME=MARKER-21-308></A>A tool palette with a help balloon</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/HM-S-19.jpg">
 Note that the help message in <A HREF=#MARKER-9-307>Figure 3-19</A> names the tool. It's a good idea to name tools, because the name of a tool often helps the user determine the purpose of the tool. After naming the tool, describe one or two likely ways to use it. Don't describe every shortcut or trick you can do with the modifier keys.<A NAME=MARKER-2-197></A><A NAME=MARKER-2-189></A><P>
 For dialog boxes and alert boxes, you can use <CODE>'hrct'</CODE> resources to define hot rectangles in addition to or instead of those associated with the items. For example, you might want to use an <CODE>'hwin'</CODE> and an <CODE>'hrct'</CODE> resource in a dialog box to associate a single help balloon with a group of related items rather than provide separate help balloons for all the individual items. (To provide help balloons for individual items by using <CODE>'hdlg'</CODE> resources alone, see <A HREF=MoreToolbox-148.html#MARKER-9-227>"Providing Help Balloons for Items in Dialog Boxes and Alert Boxes" beginning on page 3-47</A>.)<A NAME=MARKER-2-50></A><A NAME=MARKER-9-188></A><A NAME=MARKER-2-9></A><P>
 When providing one help balloon for a group of options in a dialog box, describe first how to implement the options, and then describe how to tell whether an option is selected. If, for example, radio buttons titled Left, Right, and Middle appear in a dialog box grouped under the heading Alignment, a single help balloon explaining this group might state, "To line up the selected text along the left margin, right margin, or middle of the page, click one of these buttons. A dot indicates the selected option." A help balloon for several checkboxes grouped under the heading Style might state, "To apply design elements to the selected text, click the styles you want. To remove design elements, click the styles you want to remove. An X means a style has been applied."<A NAME=MARKER-2-401></A><A NAME=MARKER-2-202></A><P>
 <A HREF=#MARKER-9-316>Listing 3-9</A> shows the <CODE>'hwin'</CODE> resource and the <CODE>'hrct'</CODE> resource for the palette in <BR><A HREF=#MARKER-9-307>Figure 3-19</A>.<P>
<B>Listing 3-9  <A NAME=MARKER-9-316></A>Rez input for corresponding <CODE>'hwin'</CODE> and <CODE>'hrct'</CODE> resources</B><P>
<PRE>
resource 'hwin' (128, &quot;Window help resource&quot;, purgeable) {
   HelpMgrVersion, hmDefaultOptions,/*header component*/
   {                                /*window component*/
      128,        /*resource ID of type specified on next line*/
      'hrct',     /*resource type for defining help*/
      5,          /*length to use when comparing strings*/
      &quot;Tools&quot;     /*window's title string*/
   }
};
resource 'hrct' (128, &quot;Tools palette help&quot;) {
   /*header component*/
   HelpMgrVersion,
   hmDefaultOptions,
   0,                /*balloon definition function*/ 
   0,                /*variation code*/
   {
   /*hot-rectangle component for saw tool goes here*/
   /*hot-rectangle component for hammer tool*/
   HMStringResItem {    
      {50, 127},        /*tip's coordinates*/
      {22,99,54,131},   /*hot rectangle*/
      147,2             /*'STR#' resource ID and index*/
      }
   /*hot-rectangle components for other tools go here*/
   }
};

resource 'STR#' (147, &quot;Tools palette help text&quot;) {
   {
   /*[1] saw tool*/
   /*help text for saw tool goes here*/
   /*[2] hammer tool*/
   &quot;Hammer\n\nTo construct a simple sentence, point to the &quot;
      &quot;space between a verb and a noun, and then click &quot;
      &quot;repeatedly.&quot;;
   /*help for other tools goes here*/
   }
};
</PRE>
 <A NAME=MARKER-21-317></A>You can also use the <CODE>'hwin'</CODE> resource to associate help for items in an alert box or a dialog box. <A HREF=#MARKER-9-318>Figure 3-20</A> shows the Help Manager displaying a help balloon for an item in the dialog box titled Verb Tenses.<P>
<B>Figure 3-20  <A NAME=MARKER-9-318></A><A NAME=MARKER-21-319></A>A help balloon for a dialog box with a title</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/HM-S-20.jpg">
 <A HREF=#MARKER-9-321>Listing 3-10</A> shows how the <CODE>'hwin'</CODE> resource associates an <CODE>'hdlg'</CODE> resource with the dialog box illustrated in <A HREF=#MARKER-9-318>Figure 3-20</A>. This <CODE>'hwin'</CODE> resource associates help with three different windows: the first is the window titled Tools, the second is an untitled window with a <CODE>windowKind</CODE> value of 10, and the third is the dialog box titled Verb Tenses.<A NAME=MARKER-2-320></A><P>
<B>Listing 3-10  <A NAME=MARKER-9-321></A><A NAME=MARKER-21-322></A>Rez input for specifying help for titled and untitled windows</B><P>
<PRE>
resource 'hwin' (128, &quot;Window help resource&quot;, purgeable) {
   /*header component*/
   HelpMgrVersion, hmDefaultOptions,
      {  /*first window component*/
      128,              /*help resource ID for Tools window*/
      'hrct',           /*resource type for defining help*/
      5,                /*length to use when comparing strings*/
      &quot;Tools&quot;,          /*window's title string*/
      /*second window component*/
      129,              /*help resource ID for untitled window*/
      'hdlg',           /*resource type for defining help*/
      -10,              /*match on windowKind values of 10*/
      &quot;&quot;,               /*matching on windowKind, so empty */
                        /* string goes here*/
      /*third window component*/
      130,              /*help res ID for Verb Tenses window*/
      'hdlg',           /*resource type for defining help*/
      11,               /*length to use when comparing strings*/
      &quot;Verb Tenses&quot;,    /*dialog box's title string*/
   }
};
resource 'hdlg' (130, &quot;Help for Verb Tense control&quot;, purgeable) {
   /*header component*/
   HelpMgrVersion,      /*version of Help Manager*/
   0,                   /*start with first item in item list*/
   hmDefaultOptions,    /*options*/
   0,                   /*balloon definition ID*/
   0,                   /*variation code*/
   /*missing-items component*/
   HMSkipItem  {/*no missing-item help message*/
      },
   {  /*first dialog-item component*/
      HMStringResItem {
         {20, 130},     /*tip--local to item's display rectangle*/
         {0,0,0,0},     /*default alternate rectangle: use */
                        /* item's display rectangle*/
         131, 1,        /*highlighted control for future tense*/
         131, 2,        /*dimmed control for future tense*/
         0, 0,          /*no checked state for control*/
         0, 0           /*no other states for control*/
      },
      /*second dialog-item component*/
      HMStringResItem {
         {20, 130},     /*tip--local to item's display rectangle*/
         {0,0,0,0},     /*default alternate rectangle: use */
                        /* item's display rectangle*/
         131, 3,        /*highlighted control for past tense*/
         131, 4,        /*dimmed control for past tense*/
         0, 0,          /*no enabled-and-checked control*/
         0, 0           /*no other marks for control*/
      }
   }
};
resource 'STR#' (131, &quot;Verb tense help strings&quot;) {
   {
   /*[1] highlighted control for future tense: help text*/
   &quot;Click here to replace the selected verb with its &quot;
      &quot;future tense.&quot;;
   /*[2] dimmed control for future tense: help text*/
   &quot;Click here to replace a verb with its future tense. &quot;
      &quot;Not available now because you have not selected a verb.&quot;;
   /*[3] /*highlighted control for past tense: help text*/
   &quot;Click here to replace the selected verb with its past tense.&quot;;
   /*[4] dimmed control for past tense: help text*/
   &quot;Click here to replace a verb with its past tense. &quot;
      &quot;Not available now because you have not selected a verb.&quot;;
   }
};
</PRE>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-150.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-152.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
