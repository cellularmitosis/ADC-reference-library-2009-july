<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Key-Value Coding Programming Guide: What is Key-Value Coding?</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="What is Key-Value Coding?"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001838" title="What is Key-Value Coding?"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../DataManagement-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000445" target="_top">Data Management</a> &gt; <a href="../index.html" target="_top">Key-Value Coding Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../KeyValueCoding.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="Terminology.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20001838-SW1" title="What is Key-Value Coding?"></a><hr /><H1><a name="//apple_ref/doc/uid/20001838-BAJEAIEE" title="What is Key-Value Coding?"></a>What is Key-Value Coding?</H1><p>Key-value coding is a mechanism for accessing an object’s properties indirectly, using strings to identify properties, rather than through invocation of an accessor method or accessing them directly through instance variables. In essence, key-value coding defines the patterns and method signatures that your application’s accessor methods implement.</p><p>Accessor methods, as the name suggests, provide access to your application’s data model’s property values. There are two basic forms of accessor–get accessors and set accessors. Get accessors, also referred to as getters, return the values of a property. Set accessors, also referred to as setters, set the value of a property. There are getter and setter variants for dealing with both object attributes and to-many relationships.</p><p>Implementing key-value coding compliant accessors in your application is an important design principle. Accessors help to enforce proper data encapsulation, isolate memory management to centralized locations, and facilitates integration with other technologies such as key-value observing, Core Data, Cocoa bindings, and scriptability. Key-value coding methods can, in many cases, also be utilized to simplify your application’s code. See <em><a href="../../ModelObjects/index.html#//apple_ref/doc/uid/TP40001931" target="_top">Model Object Implementation Guide</a></em> for more guidance on why your application should implement key-value coding compliant accessors and make use of them.</p><p>The essential methods for key-value coding are declared in the <code>NSKeyValueCoding</code> Objective-C informal protocol and default implementations are provided by <code>NSObject</code>.</p><p>Key-value coding supports properties with object values, as well as the scalar types and <code>structs</code>. Non-object parameters and return types are detected and automatically wrapped, and unwrapped, as described in <span class="content_text"><a href="DataTypes.html#//apple_ref/doc/uid/20002171-BAJEAIEE">“Scalar and Structure Support.”</a></span></p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/20001838-183466">Key-Value Coding and Scripting</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/20001838-183499">Using Key-Value Coding to Simplify Your Code</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20001838-183466" title="Key-Value Coding and Scripting"></a><h2>Key-Value Coding and Scripting</h2><p>The scripting support in Cocoa is designed so an application can easily implement scripting by accessing it’s model objects–the objects that encapsulate the application’s data (see <em><a href="../../ModelObjects/index.html#//apple_ref/doc/uid/TP40001931" target="_top">Model Object Implementation Guide</a></em> for more information). When the user executes an AppleScript command that targets your application, the goal is for that command to go directly to the application’s model objects to get the work done.</p><p>Scripting in Mac OS X relies heavily on key-value coding to provide automatic support for executing AppleScript commands. In a scriptable application, a model object defines a set of keys that it supports. Each key represents a property of the model object. Some examples of scripting-related keys are <code>words</code>, <code>font</code>, <code>documents</code>, and <code>color</code>. The key-value coding API provides a generic and automatic way to query an object for the values of its keys and to set new values for those keys.</p><p>As you design the objects of your application, you should define the set of keys for your model objects and implement the corresponding accessor methods. Then when you define the script suites for your application, you can specify the keys that each scriptable class supports. If you support key-value coding, you will get a great deal of scripting support “for free.” </p><p>In AppleScript, object hierarchies define the structure of the model objects in an application. Most AppleScript commands specify one or more objects within your application by drilling down this object hierarchy from parent container to child element. You can define the relationships between properties available through key-value coding in class descriptions. See <span class="content_text"><a href="Relationships.html#//apple_ref/doc/uid/20000956-BBCDDGCC">“Describing Property Relationships”</a></span> for more details.</p><p>Cocoa’s scripting support takes advantage of key-value coding to get and set information in scriptable objects. The method in the Objective-C informal protocol <code>NSScriptKeyValueCoding</code>  provides additional capabilities for working with key-value coding, including getting and setting key values by index in multivalue keys and coercing (or converting) a key-value to the appropriate data type.</p><a name="//apple_ref/doc/uid/20001838-183499" title="Using Key-Value Coding to Simplify Your Code"></a><h2>Using Key-Value Coding to Simplify Your Code</h2><p>You can use key-value coding methods in your own code to generalize implementations. For example, <code>NSTableView</code> and <code>NSOutlineView</code> objects both associate an identifier string with each of their columns. By making this identifier the same as the key for the property you wish to display, you can significantly simplify your code.</p><p><span class="content_text">Listing 1</span> shows an implementation of an NSTableView delegate method without using key-value coding. <span class="content_text">Listing 2</span> shows an implementation that takes advantage of key-value coding to return the appropriate value using the column identifier as the key.</p><a name="//apple_ref/doc/uid/20001838-183525-BBCBAFDA" title="Listing 1Implementation of data-source method without key-value coding"></a><p class="codesample"><a name="//apple_ref/doc/uid/20001838-183525" title="Listing 1Implementation of data-source method without key-value coding"></a><strong>Listing 1&nbsp;&nbsp;</strong>Implementation of data-source method without key-value coding</p><div class="codesample"><table><tr><td scope="row"><pre>- (id)tableView:(NSTableView *)tableview<span></span></pre></td></tr><tr><td scope="row"><pre>      objectValueForTableColumn:(id)column<span></span></pre></td></tr><tr><td scope="row"><pre>                            row:(int)row<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    ChildObject *child = [childrenArray objectAtIndex:row];<span></span></pre></td></tr><tr><td scope="row"><pre>    if ( [[column identifier] isEqualToString:@"name"] ) {<span></span></pre></td></tr><tr><td scope="row"><pre>        return [child name];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    if ( [[column identifier] isEqualToString:@"age"] ) {<span></span></pre></td></tr><tr><td scope="row"><pre>        return [child age];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    if ( [[column identifier] isEqualToString:@"favoriteColor"] ) {<span></span></pre></td></tr><tr><td scope="row"><pre>        // etc...<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    // etc...<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001838-183618-BBCEJJCE" title="Listing 2Implementation of data-source method with key-value coding"></a><p class="codesample"><a name="//apple_ref/doc/uid/20001838-183618" title="Listing 2Implementation of data-source method with key-value coding"></a><strong>Listing 2&nbsp;&nbsp;</strong>Implementation of data-source method with key-value coding</p><div class="codesample"><table><tr><td scope="row"><pre>- (id)tableView:(NSTableView *)tableview<span></span></pre></td></tr><tr><td scope="row"><pre>      objectValueForTableColumn:(id)column<span></span></pre></td></tr><tr><td scope="row"><pre>                            row:(int)row<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    ChildObject *child = [childrenArray objectAtIndex:row];<span></span></pre></td></tr><tr><td scope="row"><pre>    return [child valueForKey:[column identifier]];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../KeyValueCoding.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="Terminology.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-02-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/KeyValueCoding/Concepts/Overview.html%3Fid%3D10000107i-6.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/KeyValueCoding/Concepts/Overview.html%3Fid%3D10000107i-6.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/KeyValueCoding/Concepts/Overview.html%3Fid%3D10000107i-6.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
