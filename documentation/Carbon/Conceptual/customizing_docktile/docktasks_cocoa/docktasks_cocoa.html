<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Dock Tile Programming Guide: Dock Tile Tasks for Cocoa Applications</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Dock Tile Tasks for Cocoa Applications"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000986-3" title="Dock Tile Tasks for Cocoa Applications"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../Cocoa/index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../Cocoa/UserExperience-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000465" target="_top">User Experience</a> &gt; <a href="../intro/dockintro.html#//apple_ref/doc/uid/TP30000986-1-TP1">Dock Tile Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../concepts/dockconcepts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../tasks/docktasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000986-3-SW1" title="Dock Tile Tasks for Cocoa Applications"></a><h1>Dock Tile Tasks for Cocoa Applications</h1><p>Cocoa applications can customize both the application's Dock Icon and a minimized window’s Dock icon.</p><ul class="ul"><li class="li"><p>The simplest way to customize the application’s Dock icon is to provide a new image to replace the default application icon. See <span class="content_text"><a href="docktasks_cocoa.html#//apple_ref/doc/uid/TP30000986-3-SW2">“Customizing the Application’s Dock Icon.”</a></span></p></li><li class="li"><p>To change a window’s Dock icon, or to dynamically change the application's Dock Icon, you can draw a Dock icon using a custom view. See <span class="content_text"><a href="docktasks_cocoa.html#//apple_ref/doc/uid/TP30000986-3-SW3">“Using a Custom View to Draw a Dock Icon.”</a></span></p></li><li class="li"><p>To add text to a Dock icon, you can apply a badge label. See <span class="content_text"><a href="docktasks_cocoa.html#//apple_ref/doc/uid/TP30000986-3-SW4">“Changing the Text of a Badge Label.”</a></span></p></li><li class="li"><p>To remove the application badge from a window’s Dock icon, see <span class="content_text"><a href="docktasks_cocoa.html#//apple_ref/doc/uid/TP30000986-3-SW5">“Hiding the Application Icon Badge on a Window’s Dock Tile Icon.”</a></span></p></li></ul><p>Your application can also customize the contextual menu for your application Dock tile.</p><ul class="ul"><li class="li"><p>To add static menu items to the contextual menu, you provide a menu in a nib file and reference this nib file inside your application’s Information Property List. See <span class="content_text"><a href="docktasks_cocoa.html#//apple_ref/doc/uid/TP30000986-3-SW6">“Adding Static Menu Items With a Nib File.”</a></span></p></li><li class="li"><p>To dynamically change the menu when the user clicks in the Dock, provide an <code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/NSObject/applicationDockMenu:" target="_top">applicationDockMenu:</a></code> function in your application’s delegate. See <span class="content_text"><a href="docktasks_cocoa.html#//apple_ref/doc/uid/TP30000986-3-SW7">“Dynamically Adding Contextual Menu Items With the Application Delegate.”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP30000986-3-SW2" title="Customizing the Application&acirc;&#128;&#153;s Dock Icon"></a><h2>Customizing the Application’s Dock Icon</h2><p>While your application is running, you can call the <code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/NSApplication/setApplicationIconImage:" target="_top">setApplicationIconImage:</a></code> method of the NSApplication object to directly change the application Dock tile icon.</p><div class="codesample"><table><tr><td scope="row"><pre>myImage = [NSImage imageNamed: @"ChangedIcon"];<span></span></pre></td></tr><tr><td scope="row"><pre>[NSApp setApplicationIconImage: myImage];<span></span></pre></td></tr></table></div><p>To restore your application’s original icon, you call <code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/NSApplication/setApplicationIconImage:" target="_top">setApplicationIconImage:</a></code> with a nil parameter:</p><div class="codesample"><table><tr><td scope="row"><pre>[NSApp setApplicationIconImage: nil];<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000986-3-SW3" title="Using a Custom View to Draw a Dock Icon"></a><h2>Using a Custom View to Draw a Dock Icon</h2><p>Dock tile icons can be customized using an <code>NSView</code> object. This is useful if your application needs to dynamically generate Dock tile icons at run time. To provide a custom view, you instantiate a new view object, retrieve the dock tile object from the application or window object, and set your view as its <code>contentView</code>.</p><div class="codesample"><table><tr><td scope="row"><pre>myView = [[[MyViewClass alloc] init] autorelease];<span></span></pre></td></tr><tr><td scope="row"><pre>[[NSApp dockTile] setContentView: myView];<span></span></pre></td></tr></table></div><p>When the Dock icon needs to be updated, you instruct the Dock to update the icon by calling the dock tile object’s <code>display</code> method.</p><div class="codesample"><table><tr><td scope="row"><pre>[[NSApp dockTile] display];<span></span></pre></td></tr></table></div><div class="notebox"><a name="//apple_ref/doc/uid/TP30000986-3-SW8" title="Note"></a><p><strong>Note:</strong>&nbsp;When a window’s dock tile object has a custom view, no application badge is provided. You are responsible for all content except for the badge label.</p></div><a name="//apple_ref/doc/uid/TP30000986-3-SW4" title="Changing the Text of a Badge Label"></a><h2>Changing the Text of a Badge Label</h2><p>The dock tile object can overlay a short text message on top of the Dock icon. To change the badge label, you call the Dock tile’s <code><a href="../../../../Cocoa/Reference/NSDockTile_Class/Reference/Reference.html#//apple_ref/occ/instm/NSDockTile/setBadgeLabel:" target="_top">setBadgeLabel:</a></code> method.</p><div class="codesample"><table><tr><td scope="row"><pre>[[myWindow dockTile] setBadgeLabel:@"42"];<span></span></pre></td></tr></table></div><div class="notebox"><a name="//apple_ref/doc/uid/TP30000986-3-SW9" title="Note"></a><p><strong>Note:</strong>&nbsp;A window’s Dock tile may only include a badge label if has a custom content view.</p></div><a name="//apple_ref/doc/uid/TP30000986-3-SW5" title="Hiding the Application Icon Badge on a Window&acirc;&#128;&#153;s Dock Tile Icon"></a><h2>Hiding the Application Icon Badge on a Window’s Dock Tile Icon</h2><p>By default, a window’s Dock icon consists of a miniaturized image of the window’s contents with a badge of the  application's Dock Icon layered on top of it. This includes any customized icon you may have provided for the application’s Dock icon. You can optionally turn off the application badge by calling the <code><a href="../../../../Cocoa/Reference/NSDockTile_Class/Reference/Reference.html#//apple_ref/occ/instm/NSDockTile/setShowsApplicationBadge:" target="_top">setShowsApplicationBadge:</a></code> method.</p><div class="codesample"><table><tr><td scope="row"><pre>[[myWindow dockTile] setShowsApplicationBadge: NO];<span></span></pre></td></tr></table></div><p>The application’s Dock Tile icon does not show an application badge, and ignores attempts to show one.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000986-3-SW10" title="Note"></a><p><strong>Note:</strong>&nbsp;If the window’s dock tile object has a custom view, the application badge is not provided, and the dock tile will ignore this method.</p></div><a name="//apple_ref/doc/uid/TP30000986-3-SW6" title="Adding Static Menu Items With a Nib File"></a><h2>Adding Static Menu Items With a Nib File</h2><p>If your application needs to add static items to the application’s Dock tile’s contextual menu, you can provide those items in a nib file. To do this, perform the following steps.</p><ol class="ol"><li class="li"><p>Launch Interface Builder.</p></li><li class="li"><p>Create a new nib file for your menu.</p></li><li class="li"><p>Create a menu that includes the items you wish to add to the contextual menu.</p></li><li class="li"><p>Connect the <code>dockMenu</code> outlet of the file’s owner (which by default is <code>NSApplication</code>) to your menu.</p></li><li class="li"><p>Add the nib name to the <code>Info.plist</code>, using the key <code>AppleDockMenu</code>. The nib name is specified without an extension.</p></li></ol><a name="//apple_ref/doc/uid/TP30000986-3-SW7" title="Dynamically Adding Contextual Menu Items With the Application Delegate"></a><h2>Dynamically Adding Contextual Menu Items With the Application Delegate</h2><p>An application can also provide items dynamically to your application’s Dock tile’s contextual menu. To do this, your application’s delegate object provides a <code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/NSObject/applicationDockMenu:" target="_top">applicationDockMenu:</a></code> method. This method returns a NSMenu object that provides all the custom menu items you wish to add to the menu. If you also provided a menu using a nib file (see <span class="content_text"><a href="docktasks_cocoa.html#//apple_ref/doc/uid/TP30000986-3-SW6">“Adding Static Menu Items With a Nib File”</a></span>), any menu returned by your delegate replaces the menu provided in the nib file.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../concepts/dockconcepts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../tasks/docktasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-03-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/customizing_docktile/docktasks_cocoa/docktasks_cocoa.html%3Fid%3DTP30000986-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/customizing_docktile/docktasks_cocoa/docktasks_cocoa.html%3Fid%3DTP30000986-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/customizing_docktile/docktasks_cocoa/docktasks_cocoa.html%3Fid%3DTP30000986-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>