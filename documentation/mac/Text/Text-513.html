<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Summary of the Dictionary Manager(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING513></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-512.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-514.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-483.html"><B>Chapter 8 - Dictionary Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING513-0></A>
<H1>Summary of the Dictionary Manager</H1>
<A NAME=HEADING513-1></A>
<H2>Pascal Summary</H2>
<A NAME=HEADING513-2></A>
<H3>Constants</H3>
<PRE>
CONST    {Data Insertion Modes}
   kInsert              = 0;  {only insert input entry if nothing in }
                              { dictionary matches key}
   kReplace             = 1;  {only replace entries that match key with }
                              { input entry}
   kInsertOrReplace     = 2;  {insert entry if nothing in the dictionary }
                              { matches key; if already matched }
                              { entries exist, replace them with the }
                              { input entry}
CONST {Key Attribute Constants}
   kIsCaseSensitive           = 16;    {diacritical mark is case sensitive}
   kIsNotDiacriticalSensitive = 32;    {diacritical mark not case sensitive}
CONST {Registered Attribute Types}
   kNoun       =  -1;   {noun}
   kVerb       =  -2;   {verb}
   kAdjective  =  -3;   {adjective}
   kAdverb     =  -4;   {adverb}
</PRE>
<A NAME=HEADING513-6></A>
<H3>Data Types</H3>
<PRE>
TYPE
   InsertMode = Integer;
   AttributeType = Integer:
   DictionaryInformation = 
      RECORD
         dictionaryFSSpec:    FSSpec;        {file system specification }
                                             { record for this dictionary}
         numberOfRecords:     LongInt;       {number of records in }
                                             { this dictionary}
         currentGarbageSize:  LongInt;       {current size of garbage }
                                             { (unusable) data in dictionary}
         script:              ScriptCode;    {script system supported by }
                                             { this dictionary}
         maximumKeyLength:    Integer;       {maximum length of any key }
                                             { in this dictionary}
         keyAttributes:       UnsignedByte;  { key search criteria}
      END;
</PRE>
<A NAME=HEADING513-10></A>
<H3>Routines</H3>
<A NAME=HEADING513-11></A>
<H4>Making a Dictionary</H4>
<PRE>
FUNCTION InitializeDictionary
                          (theFSSpecPtr: FSSpecPtr; 
                           maximumKeyLength: Integer; 
                           keyAttributes: Byte;
                           script: ScriptCode): OSErr;
</PRE>
<A NAME=HEADING513-14></A>
<H4>Accessing a Dictionary</H4>
<PRE>
FUNCTION OpenDictionary   (theFSSpecPtr: FSSpecPtr;
                           accessPermission: SignedByte;
                           VAR dictionaryReference: LongInt):
                           OSErr;
FUNCTION CloseDictionary  (dictionaryReference: LongInt):
                           OSErr;
FUNCTION GetDictionaryInformation
                          (dictionaryReference: LongInt;
                           VAR theDictionaryInformation:
                           DictionaryInformation): OSErr;
</PRE>
<A NAME=HEADING513-19></A>
<H4>Locating Records in a Dictionary</H4>
<PRE>
FUNCTION FindRecordInDictionary
                          (dictionaryReference: LongInt;
                           key: Str255;
                           requestedAttributeTablePointer: Ptr;
                           recordDataHandle: Handle): OSErr;
FUNCTION FindRecordByIndexInDictionary
                          (dictionaryReference: LongInt;
                           recordIndex: LongInt;
                           requestedAttributeTablePointer: Ptr;
                           VAR recordKey: Str255;
                           recordDataHandle: Handle): OSErr;
</PRE>
<A NAME=HEADING513-24></A>
<H4>Modifying a Dictionary</H4>
<PRE>
FUNCTION InsertRecordToDictionary
                          (dictionaryReference:LongInt;
                           key: Str255;
                           recordDataHandle: Handle;
                           whichMode: InsertMode): OSErr;
FUNCTION DeleteRecordFromDictionary
                          (dictionaryReference: LongInt;
                           key: Str255): OSErr;
</PRE>
<A NAME=HEADING513-29></A>
<H4>Compacting a Dictionary</H4>
<PRE>
FUNCTION CompactDictionary (dictionaryReference:LongInt)
OSErr;
</PRE>
<A NAME=HEADING513-31></A>
<H2>C Summary</H2>
<A NAME=HEADING513-32></A>
<H3>Constants</H3>
<PRE>
/* Dictionary data insertion modes. */
enum {
 kInsert = 0,              /* Only insert the input entry if there is nothing 
                              in the dictionary that matches the key. */
 kReplace = 1,             /* Only replace the entries which match the key 
                                 with the input entry. */
kInsertOrReplace = 2       /* Insert the entry if there is nothing in the 
                              dictionary which matches the key. If there are
                              already matched entries, replace the existing 
                              matched entries with the input entry. */
};
/* Key attribute constants. */
#define kIsCaseSensitive 0x10                /* case-sensitive = 16 */
#define kIsNotDiacriticalSensitive 0x20      /* non-diac-sensitive = 32 */
/* Registered attribute type constants.*/
enum {
 kNoun = -1,
 kVerb = -2,
 kAdjective = -3,
 kAdverb = -4
};
</PRE>
<A NAME=HEADING513-37></A>
<H3>Data Types</H3>
<PRE>
typedef short InsertMode;
typedef short AttributeType;
/* Dictionary information record.*/
struct DictionaryInformation{
   FSSpec         dictionaryFSSpec;
   long           numberOfRecords;
   long           currentGarbageSize;
   ScriptCode     script;
   short          maximumKeyLength;
   unsigned char  keyAttributes;
};
typedef struct DictionaryInformation DictionaryInformation;
</PRE>
<A NAME=HEADING513-41></A>
<H3>Routines</H3>
<A NAME=HEADING513-42></A>
<H4>Making a Dictionary</H4>
<PRE>
pascal OSErr InitializeDictionary
                    (FSSpecPtr theFsspecPtr, 
                     short maximumKeyLength, 
                     unsigned char keyAttributes, 
                     ScriptCode script)
</PRE>
<A NAME=HEADING513-45></A>
<H4>Accessing a Dictionary</H4>
<PRE>
pascal OSErr OpenDictionary
                     (FSSpecPtr theFsspecPtr, 
                     char accessPermission, 
                     long *dictionaryReference)
pascal OSErr CloseDictionary
                    (long dictionaryReference)
pascal OSErr GetDictionaryInformation
                    (long dictionaryReference, DictionaryInformation *theDictionaryInformation)
</PRE>
<A NAME=HEADING513-51></A>
<H4>Locating Records in a Dictionary</H4>
<PRE>
pascal OSErr FindRecordInDictionary
                    (long dictionaryReference, ConstStr255Param key, 
                     Ptr requestedAttributeTablePointer, 
                     Handle recordDataHandle)
pascal OSErr FindRecordByIndexInDictionary
                    (long dictionaryReference, 
                     long recordIndex, 
                     Ptr requestedAttributeTablePointer, 
                     Str255 recordKey, Handle recordDataHandle)
</PRE>
<A NAME=HEADING513-56></A>
<H4>Modifying a Dictionary</H4>
<PRE>
pascal OSErr InsertRecordToDictionary
                    (long dictionaryReference, 
                     ConstStr255Param key, Handle recordDataHandle, InsertMode whichMode)
pascal OSErr DeleteRecordFromDictionary 
                    (long dictionaryReference, ConstStr255Param key)
</PRE>
<A NAME=HEADING513-61></A>
<H4>Compacting a Dictionary</H4>
<PRE>
pascal OSErr CompactDictionary
                    (long dictionaryReference)
</PRE>
<A NAME=HEADING513-64></A>
<H2>Assembly-Language Summary</H2>
<A NAME=HEADING513-65></A>
<H3>Trap Macros</H3>
<A NAME=HEADING513-66></A>
<H4>Trap Macro Names
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Pascal name<TH>Trap macro name<TR>
<TD>InitializeDictionary<TD>_InitializeDictionary<TR>
<TD>OpenDictionary<TD>_OpenDictionary<TR>
<TD>CloseDictionary<TD>_CloseDictionary<TR>
<TD>InsertRecordToDictionary<TD>_InsertRecordToDictionary<TR>
<TD>DeleteRecordFromDictionary<TD>_DeleteRecordFromDictionary<TR>
<TD>FindRecordInDictionary<TD>_FindRecordInDictionary<TR>
<TD>FindRecordByIndexInDictionary<TD>_FindRecordByIndexInDictionary<TR>
<TD>GetDictionaryInformation<TD>_GetDictionaryInformation<TR>
<TD>CompactDictionary<TD>_CompactDictionary</TABLE>
</H4>
<A NAME=HEADING513-67></A>
<H2>Result Codes
<TABLE BORDER="0" CELLPADDING=3><TD>notBTree<TD>-410<TD>File not a dictionary<TR>
<TD>btNoSpace<TD>-413<TD>Insufficient disk space to store dictionary information<TR>
<TD>btDupRecErr<TD>-414<TD>Record already exists<TR>
<TD>btRecNotFnd<TD>-415<TD>Record cannot be found<TR>
<TD>btKeyLenErr<TD>-416<TD>Key length too great or equal to zero<TR>
<TD>btKeyAttrErr<TD>-417<TD>Dictionary Manager doesn't understand an attribute<TR>
<TD>unknownInsertModeErr<TD>-20000<TD>No such insertion mode<TR>
<TD>recordDataTooBigErr<TD>-20001<TD>Entry data bigger than buffer size<TR>
<TD>invalidIndexErr<TD>-20002<TD>Invalid index<A NAME=MARKER-2-43></A></TABLE>
</H2>
 <P>

</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-512.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-514.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
