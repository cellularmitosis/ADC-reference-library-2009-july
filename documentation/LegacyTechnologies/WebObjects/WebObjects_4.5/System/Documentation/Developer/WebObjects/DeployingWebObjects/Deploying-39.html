<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"> <TITLE> Logging and Analyzing Adaptor Activity</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b> Deploying WebObjects Applications</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="Deploying-36.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-38.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-40.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="FM3HeadSplit"><A NAME="pgfId-5004"></A>Logging and Analyzing Adaptor Activity</H1><P CLASS="Body"><A NAME="pgfId-5005"></A>If an adaptor sees that a file named <B CLASS="Bold-Body-">logWebObjects</B> exists in the temporary directory, it will log its activity in <B CLASS="Bold-Body-">WebObjects.log</B> in that same directory. Logging adaptor activity significantly decreases performance. Use this feature only if you suspect something is wrong; do not use it during deployment.</P><P CLASS="Body"><A NAME="pgfId-5006"></A>The temporary directory depends on the platform:</P><UL><LI CLASS="BodyBulletLg"><A NAME="pgfId-5007"></A><B CLASS="Bold-Body-">/tmp</B> on Mac OS X Server, Solaris, and HPUX</LI><LI CLASS="BodyBulletLg"><A NAME="pgfId-5008"></A>The directory indicated by the TEMP environment variable on Windows NT</LI></UL><P CLASS="Body"><A NAME="pgfId-5009"></A>You can analyze the information in the log to find out such things as which applications are being requested, which applications are being autostarted, and what the HTTP headers of requests are. You can also use the log to verify if adaptors are properly configured for load balancing. </P><P CLASS="Body"><A NAME="pgfId-10278"></A>The following excerpt includes an error message indicating that ThinkMovies wasn't running when a request for it came in:</P><CODE CLASS="CodeEx"><A NAME="pgfId-10163"></A>Info: &lt;CGI&gt; new request: /cgi-bin/WebObjects/ThinkMovies</CODE><CODE CLASS="CodeEx"><br><A NAME="pgfId-10165"></A>Info: V4 URL: /cgi-bin/WebObjects/ThinkMovies</CODE><CODE CLASS="CodeEx-last-"><br><A NAME="pgfId-10167"></A>Error: Request handling error: The requested application was not found on this server</CODE><P CLASS="Body"><A NAME="pgfId-10290"></A>After ThinkMovies was started, the same request produces the following log file entries:</P><CODE CLASS="CodeEx"><A NAME="pgfId-10237"></A>Info: &lt;CGI&gt; new request: /cgi-bin/WebObjects/ThinkMovies</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10239"></A>Info: V4 URL: /cgi-bin/WebObjects/ThinkMovies</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10241"></A>Info: Selecting new app instance</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10243"></A>Debug: Composed URL to `/cgi-bin/WebObjects/ThinkMovies.woa/1'</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10245"></A>Info: New request is GET /cgi-bin/WebObjects/ThinkMovies.woa/1 HTTP/1.0</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10246"></A>&nbsp;</CODE><br><br><CODE CLASS="CodeEx"><A NAME="pgfId-10249"></A>Info: Trying to contact ThinkMovies:1 on (2001)</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10251"></A>Info: attempting to connect to myhost.apple.com on port 2001</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10253"></A>Info: Created new transient connection to myhost.apple.com:2001</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10255"></A>Info: ThinkMovies:1 on (2001) connected [pooled: No]</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10257"></A>Info: Request GET /cgi-bin/WebObjects/ThinkMovies.woa/1 HTTP/1.0 sent, awaiting response [1 pending]</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-10261"></A>Info: New response: HTTP/1.0 200 Apple WebObjects</CODE><br><CODE CLASS="CodeEx-last-"><A NAME="pgfId-10263"></A>Info: received -&gt;200 Apple</CODE><P CLASS="FM4Head"><A NAME="pgfId-10326"></A><b>Creating the Log File</b></P><P CLASS="Body"><A NAME="pgfId-5011"></A>To cause the log file to be generated, simply create the logWebObjects file in your server's temp directory. The following procedure shows you how to do this:</P><OL><LI CLASS="BodyNumber1"><A NAME="pgfId-5012"></A>Start a command shell window (on NT use the Bourne Shell in the WebObjects program group).</LI><LI CLASS="BodyNumber"><A NAME="pgfId-5013"></A>Change to the temporary directory (using the <B CLASS="Bold-Body-">cd</B> command).</LI><LI CLASS="BodyNumber"><A NAME="pgfId-5014"></A>Enter the following command to create the <B CLASS="Bold-Body-">logWebObjects</B> file:</LI><CODE CLASS="CodeEx-last-"><A NAME="pgfId-5015"></A><TT CLASS="Code">touch logWebObjects</TT></CODE></OL><BLOCKQUOTE CLASS="BodyIndented"><A NAME="pgfId-7580"></A>On UNIX-based systems, you must have root privileges.</BLOCKQUOTE><P CLASS="Body"><A NAME="pgfId-5016"></A>Use the <B CLASS="Bold-Body-">tail</B> command to print the current activity in the adaptor to standard output (the shell window):</P><CODE CLASS="CodeEx-last-"><A NAME="pgfId-5017"></A><TT CLASS="Code">tail -f WebObjects.log</TT></CODE><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 25 August 99)<P><A HREF="Deploying-36.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-38.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-40.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>