<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>PDF Kit Programming Guide: PDF Kit Concepts</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="PDF Kit Concepts"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001863-CH201" title="PDF Kit Concepts"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../Cocoa-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000495" target="_top">Cocoa</a> &gt; <a href="../PDFKit_Prog_Intro/PDFKit_Prog_Intro.html#//apple_ref/doc/uid/TP40001863-CH203-DontLinkElementID_29">PDF Kit Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../PDFKit_Prog_Intro/PDFKit_Prog_Intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../PDFKit_Prog_Tasks/PDFKit_Prog_Tasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_21" title="PDF Kit Concepts"></a><h1><a name="//apple_ref/doc/uid/TP40001863-CH201-CHDIGGFD" title="PDF Kit Concepts"></a>PDF Kit Concepts</h1><p>This chapter gives an overview of PDF concepts and PDF Kit classes. If you are already familiar with the elements of a PDF document, you can skip <span class="content_text"><a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDGAFCD">“PDF Basics”</a></span> and go directly to <span class="content_text"><a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDJBAJI">“PDF Kit Classes.”</a></span></p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDGAFCD">PDF Basics</a>
				
			<br/>
			
        
			
			
				<a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDJBAJI">PDF Kit Classes</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001863-CH201-CHDGAFCD" title="PDF Basics"></a><h2>PDF Basics</h2><p>A PDF is a document stored using Adobe Corporation’s Portable Document Format. The PDF specification, based on the PostScript drawing language, can describe almost any combination of text and images as well as interactive elements.</p><p>The basic building block of a PDF is the document itself. Within the document, you can have various pages and an outline. Within a page you can have text, annotations, and so on. </p><p>For detailed information about the PDF format, see the PDF specification, which you can download from:</p><p><span class="content_text"><a href="http://partners.adobe.com/public/developer/pdf/index_reference.html" target="_blank">http://partners.adobe.com/public/developer/pdf/index_reference.html</a></span></p><p>Note that if you simply want to display PDF documents in your application, you generally don’t need the level of detail that the PDF specification provides. </p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_1" title="Documents"></a><h3>Documents</h3><p>The fundamental building block for a PDF is the document itself. The document is typically stored on disk as a file.</p><p>Documents support versioning and can be tagged with metadata such as the author, creation date, and so on. </p><p>A document can be encrypted, requiring a password to view it. Two levels of encryption exist:</p><ul class="spaceabove"><li class="li"><p>User level encryption: If the user successfully obtains user-level permissions, he or she can view the document but may be restricted from printing or copying the document. </p></li><li class="li"><p>Owner-level encryption: A user who obtains owner-level permissions can view the document and has full usage permissions. </p></li></ul><p>Many encrypted PDF documents have a “dummy” user password which is the empty string. Most PDF document parsers (including PDF Kit) automatically try the empty string password on encrypted documents, and if successful, simply display the document. Therefore, a document that is technically encrypted may not necessarily prompt the user for a password.</p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_2" title="Pages"></a><h3>Pages</h3><p>A PDF document consists of a number of pages. These are the metaphorical equivalent of pages in a physical book, and they are what the user sees onscreen. However, unlike a physical page, PDF pages can contain hyperlinks and annotations. Pages can support cropping as well, which can be useful if you want to hide extraneous portions (such as registration marks) during display. </p><p>Note that most objects on a page are specified in page space, rather than view space. That is, the coordinate system is in points (72 points per inch), with the origin at the bottom left of the page, not the view. Page space doesn’t care about zooming, display mode, and so on. An item that has bounds of, say 32 points square, retains those bounds regardless of display size. <span class="content_text"><a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDDJDFA">Figure 2-1</a></span> compares the two coordinate systems:</p><br/><div><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_22" title="Figure 1-1View space versus page space"></a><p><a name="//apple_ref/doc/uid/TP40001863-CH201-CHDDJDFA" title="Figure 1-1View space versus page space"></a><strong>Figure 1-1&nbsp;&nbsp;</strong>View space versus page space</p><img src = "../Art/view_vspage_space.gif" alt = "View space versus page space" width="351" height="455"></div><br/><p>The PDFView class contains a number of conversion methods to translate coordinates from view space to page space and vice versa. </p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_3" title="Outlines"></a><h3>Outlines</h3><p>An outline is like an interactive table of contents, showing the chapter or structure hierarchy of the document. Outlines make it easy for users to see the structure of a document and to jump to a particular location. </p><br/><div><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_23" title="Figure 1-2An outline for a PDF document"></a><p><strong>Figure 1-2&nbsp;&nbsp;</strong>An outline for a PDF document</p><img src = "../Art/outline.gif" alt = "An outline for a PDF document" width="487" height="352"></div><br/><p>Not all PDF documents contain an outline.</p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_4" title="Annotations"></a><h3>Annotations</h3><p>Annotations are “extra” elements that can appear on a PDF page in addition to the standard text and images. Some annotations merely add visual features, such as lines, circles, and such, while others can have some interactive behavior. </p><p>Some examples of annotations include:</p><ul class="spaceabove"><li class="li"><p>“Sticky notes” displaying text.</p></li><li class="li"><p>Note icons that can display text when clicked upon. </p></li><li class="li"><p>Editable text fields that can accept user text.</p></li><li class="li"><p>Buttons, such as checkboxes. Such annotations, along with editable text fields, may be useful in forms to be filled out by the user. </p></li><li class="li"><p>Circles, arbitrary lines, and boxes.</p></li><li class="li"><p>Links to other documents, or to other sections within a document. </p></li><li class="li"><p>Highlighting, strike-throughs, and other text markups. </p></li></ul><p><span class="content_text"><a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDEIBBG">Figure 2-3</a></span> shows some annotation types available in PDF Kit. </p><br/><div><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_24" title="Figure 1-3Some annotations available in PDF Kit"></a><p><a name="//apple_ref/doc/uid/TP40001863-CH201-CHDEIBBG" title="Figure 1-3Some annotations available in PDF Kit"></a><strong>Figure 1-3&nbsp;&nbsp;</strong>Some annotations available in PDF Kit</p><img src = "../Art/annotations.gif" alt = "Some annotations available in PDF Kit" width="603" height="425"></div><br/><p>These are the annotations that PDF Kit supports and can display in documents. However, PDF Kit can also support additional annotation types if they are specified using appearance streams. Appearance streams let you draw based on a drawing sequence rather than a specification based on a particular annotation type. For example, rather than specify “a circle annotation with a 20 point radius,” an appearance stream would simply contain instructions for drawing a circle of that size. </p><p>Annotations often have content associated with them that your application can display. For example, text annotations typically appear as an icon in the PDF; when the user clicks on it, a window can open displaying its text. </p><p>Note that PDF Kit does not supply a mechanism for displaying the annotation content; your application must create a window to display the content when the user clicks on an annotation. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_25" title="Note"></a><p><strong>Note:</strong>&nbsp;Currently, with the exception of link annotations, any annotations you create using PDF Kit cannot be modified after saving the document. </p></div><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_5" title="Selections"></a><h3>Selections</h3><p>PDF documents let the user select blocks of text, much like word processing applications. However, they offer greater flexibility in that text selections do not have to be linearly contiguous. For example, using PDF Kit, you could select a block of text within a page that doesn’t have to be sequential, as shown in <span class="content_text"><a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDEGJJF">“Arbitrary text selection in a PDF document”</a></span> Such selections can be useful if the document contains multicolumn pages, tables, or other unusual formatting. </p><br/><div><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_26" title="Figure 1-4Arbitrary text selection in a PDF document"></a><p><a name="//apple_ref/doc/uid/TP40001863-CH201-CHDEGJJF" title="Figure 1-4Arbitrary text selection in a PDF document"></a><strong>Figure 1-4&nbsp;&nbsp;</strong>Arbitrary text selection in a PDF document</p><img src = "../Art/text_selection.gif" alt = "Arbitrary text selection in a PDF document" width="462" height="503"></div><br/><p>You can experiment with block selection by holding down the Option key while selecting text in Preview (in Mac OS X v10.4 and later).</p><p>Selections are stored as selection objects, which also store additional data such as the page or pages containing the selection. This information is useful when presenting multiple selections to the user (for example, a list of search results).</p><a name="//apple_ref/doc/uid/TP40001863-CH201-CHDJBAJI" title="PDF Kit Classes"></a><h2>PDF Kit Classes</h2><p>PDF Kit is divided into a number of different classes. With the exception of PDFView and PDFSelection, these classes correspond roughly to various objects in the PDF specification. </p><br/><div><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_27" title="Figure 1-5The PDF Kit class hierarchy"></a><p><a name="//apple_ref/doc/uid/TP40001863-CH201-CHDFCDAD" title="Figure 1-5The PDF Kit class hierarchy"></a><strong>Figure 1-5&nbsp;&nbsp;</strong>The PDF Kit class hierarchy</p><img src = "../Art/pdfkit_inheritancehierarchy.gif" alt = "The PDF Kit class hierarchy" width="290" height="239"></div><br/><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_6" title="The PDFView Class"></a><h3>The PDFView Class</h3><p>The PDFView class, like the Web Kit WebView class, derives from the Application Kit NSView class. You can use a PDFView object directly in your application simply by placing it in a window using Interface Builder. Get the palette from <code>/Developer/Extras/Palettes/PDFKit.palette</code>.</p><p>PDFView may be the only PDF Kit class that you need to deal with. It lets you display PDF data in your application and allows users to select content and navigate through a document, set the zoom level, and copy textual content to the Pasteboard. Users can also drag-and-drop documents into PDFView. </p><p>PDFView calls upon the PDF utility classes to implement much of its functionality. If you want to add special features, you need to use or subclass from the utility classes. </p><br/><div><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_28" title="Figure 1-6Utility classes as used by PDFView"></a><p><strong>Figure 1-6&nbsp;&nbsp;</strong>Utility classes as used by PDFView</p><img src = "../Art/pdfkit_uses_hierarchy.gif" alt = "Utility classes as used by PDFView" width="326" height="361"></div><br/><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_7" title="PDF Kit Utility Classes"></a><h3>PDF Kit Utility Classes</h3><p>The PDF Kit utility classes offer a mix of Foundation-like and Application Kit-like behavior. They are analogous to the NSString class, and its NSString Additions methods, in that many of them support drawing. These classes are subclasses of NSObject, as shown in <span class="content_text"><a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDFCDAD">Figure 2-5</a></span>. </p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_8" title="PDF Document"></a><h4>PDF Document</h4><p>The primary PDF Kit utility class is PDFDocument, which represents PDF data or a PDF file. The other utility classes are either instantiated from methods in PDFDocument, as are PDFPage and PDFOutline; or support it, as do PDFSelection and PDFDestination.</p><p>You initialize a PDFDocument object with PDF data or with a URL to a PDF file. You can then ask for the page count, add or delete pages, perform a find, or parse selected content into an NSString object.</p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_9" title="PDFPage"></a><h4>PDFPage</h4><p>As you might expect, the PDFPage class represents pages in a PDF document. Your application instantiates a PDFPage object by asking for one from a PDFDocument object. PDF page objects are what the user sees onscreen, and a view may display more than one page at a time. You can use PDFPage to render PDF content onscreen, add annotations, count characters, define selections, and get the textual content of a page as an NSString or NSAttributedString object.</p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_10" title="PDFOutline"></a><h4>PDFOutline</h4><p>In addition to displaying the actual document content, PDF Kit can also present outline information if that is included in the PDF. A PDFOutline object represents a parent or child element in an outline hierarchy. </p><p>Outlines are composed of a hierarchy of PDFOutline objects. The top level is the root outline object, which acts only as a container for other outline objects. The root outline is invisible to the user. </p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_11" title="PDFSelection"></a><h4>PDFSelection</h4><p>A PDFSelection object encompasses a span of text in a PDF document. You don’t create PDF selections directly. You get PDFSelection objects as return values from selection methods that you invoke on PDFPage or PDFDocument objects, and as the return values from successful searches.</p><p>Selections on a PDF view may span multiple pages, may be noncontiguous, or both. For example, you can select the text in a single column of consecutive two-column pages. You can get the text and pages covered from a selection, combine selections, or extend selections in either direction.</p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_12" title="PDFAnnotation"></a><h4>PDFAnnotation</h4><p>A PDFAnnotation object can represent a variety of content other than the primary textual content in a PDF file: links, form elements, highlighting circles, and so on. Each annotation is associated with a specific location on a page, and may offer interactivity with the user.</p><p>PDFAnnotation is an abstract superclass of the concrete classes shown in <span class="content_text"><a href="PDFKit_Prog_Conc.html#//apple_ref/doc/uid/TP40001863-CH201-CHDEIBBG">Figure 2-3</a></span>. The various concrete classes represent annotation types that PDF Kit supports. </p><a name="//apple_ref/doc/uid/TP40001863-CH201-DontLinkElementID_13" title="PDFBorder"></a><h4>PDFBorder</h4><p>PDFBorder objects encapsulate the drawing behavior for the border of a PDFAnnotation object. A PDF border lets you specify such attributes as line style (for example, solid, dashed, or beveled), line width, and corner radius.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../PDFKit_Prog_Intro/PDFKit_Prog_Intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../PDFKit_Prog_Tasks/PDFKit_Prog_Tasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-12-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Conceptual/PDFKitGuide/PDFKit_Prog_Conc/PDFKit_Prog_Conc.html%3Fid%3DTP40001863-1.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Conceptual/PDFKitGuide/PDFKit_Prog_Conc/PDFKit_Prog_Conc.html%3Fid%3DTP40001863-1.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Conceptual/PDFKitGuide/PDFKit_Prog_Conc/PDFKit_Prog_Conc.html%3Fid%3DTP40001863-1.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>