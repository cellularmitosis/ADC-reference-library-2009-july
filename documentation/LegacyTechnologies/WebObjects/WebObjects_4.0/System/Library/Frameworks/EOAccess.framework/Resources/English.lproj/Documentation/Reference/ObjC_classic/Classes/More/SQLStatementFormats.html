<html><head>
<script language="JavaScript" src="../../../../../../../../../../../frametest_more.js"></script>
<title>SQL Statement Formats</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../../frameset.html" target="_top">EOAccess Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="MappingAttributes.html"><img src="../../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="../EODatabase.html"><img src="../../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<a name="3532">
<h1> SQL Statement Formats</h1>
</a>In addition to mapping database values to object values, an EOAttribute can alter the way values are selected, inserted, and updated in the database by defining special format strings. These format strings allow a client application to extend its reach right down to the server for certain operations. For example, you might want to view an employee's salary on a yearly basis, without defining a derived attribute as in a previous example. In this case, you could set the salary attribute's SELECT statement format to "salary * 12" (with <a href="../EOAttribute.html#931"><code>setReadFormat:</code></a>) and the INSERT and UPDATE statement formats to "salary / 12" (<a href="../EOAttribute.html#969"><code>setWriteFormat:</code></a>). Thus, whenever your application retrieves values for the salary attribute they're multiplied by 12, and when it writes values back to the database they're divided by 12.<p>
Your application can use any legal SQL value expression in a format string, and can even access server-specific features such as functions and stored procedures (see EOEntity's <a href="../EOEntity.html#934"><code>setStoredProcedure:forOperation:</code></a> method description for more information). Accessing server-specific features can offer your application great flexibility in dealing with its server, but does limit its portability. You're responsible for ensuring that your SQL is well-formed and will be understood by the database server.<p>
Format strings for the <a href="../EOAttribute.html#931"><code>setReadFormat:</code></a> and <a href="../EOAttribute.html#969"><code>setWriteFormat:</code></a> methods should use "%P" as the substitution character for the value that is being formatted. "%@" will not work. For example:<p>
<blockquote><pre>[myAttribute setReadFormat:@"TO_UPPER(%P)"];<br>[myAttribute setWriteFormat:@"TO_LOWER(%P)"];
</pre></blockquote><p>
Instead of setting the read and write formats programmatically, you can set them in EOModeler, which is more common. For more information, see the chapter "Using EOModeler" in <em>WebObjects Tools and Techniques</em>.<p>

<hr><br>
<a href="MappingAttributes.html"><img src="../../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="../EODatabase.html"><img src="../../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/17/98 17:39:52 -->

</body>
</html>
