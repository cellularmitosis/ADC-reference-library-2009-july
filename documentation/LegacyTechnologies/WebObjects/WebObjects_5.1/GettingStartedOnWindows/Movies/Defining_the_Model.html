<HTML>		<HEAD>        <title>Definingthe Model</title>		</HEAD>	<BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Enterprise__es_Database.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Designing_the_Main_Page.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF104"></a><h2><font face="Helvetica,Arial,Lucida Grande">Definingthe Model</font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Times">A <em>model </em>associates database columns withinstance variables of objects. It also specifies relationships betweenobjects in terms of database join criteria. You create model files usingthe EOModeler application. The wizard can assist you in creatinga model using the schema information from an existing database asa starting point. You can then use EOModeler to modify the model.</font></p><a name = "TPXREF105"></a><h3><font face="Helvetica,Arial,Lucida Grande">Creatinga New Model File</font></h3><ol><p><li>Launch EOModeler.<p>TheEOModeler application is located in the WebObjects application group.</p></li></p><p><li>Choose Model &gt; New.<p>The wizard's adaptor selectionpanel appears. An <em>adaptor</em> is a mechanism thatconnects your application to a database. WebObjecject provides aJDBC adaptor that enables you to access any JDBC-compliant database.Make sure that JDBC is selected in the selection list.</p></li></p><p><li>Click Next. <P><img src = "../Art/eomnewmodelwizardjdbc.gif" alt = "[image: ../Art/eomnewmodelwizardjdbc.gif]"><p>This panel lets you specifyconnection information to your database. The only information requiredfor the tutorial is the URL. On the URL field type "jdbc:openbase://localhost/WOMovies"without the quotes.</p></li></p><p><li>Click OK.</li></p></ol><a name = "TPXREF106"></a><h3><font face="Helvetica,Arial,Lucida Grande">ChoosingWhat to Include in Your Model</font></h3><p><font face="Times">In this next wizard page, you can specify the degree to whichthe wizard configures your model.</font></p><P><img src = "../Art/eomnewmodelwizardwhat.gif" alt = "[image: ../Art/eomnewmodelwizardwhat.gif]"><p><font face="Times">The basic model the wizard creates contains entities, attributes,and relationships. An <em>entity</em> is the part ofthe database-to-object mapping that associates a database tablewith an enterprise object class. For example, the Movie entity mapsrows from the MOVIE table to Movie objects. Similarly, an <em>attribute</em> associatesa database column with an instance variable. For example, the <code>title</code> attributein the Movie entity maps the TITLE column of the MOVIE table tothe <code>title</code> instance variableof Movie objects.</font></p><p><font face="Times">A <em>relationship</em> is a link between twoentities that's based on attributes of the entities. For example,the Movie entity has a relationship to the MovieRole entity basedon the entities' <code>movieId</code> attributes(although the attributes in this example have the same name in both entities,they don't have to). This relationship makes it possible to findall of a Movie's MovieRoles.</font></p><p><font face="Times">How complete the basic model is depends on the completenessof the schema information inside your database server. For example,the wizard includes relationships in your model only if the server'sschema information specifies foreign key definitions.</font></p><p><font face="Times">Using the options in this page, you can supplement the basicmodel with additional information. (Note that the wizard doesn'tmodify the underlying database.)</font></p><ol><p><li>Check the"Assign primary keys to all entities" box.<p>Enterprise ObjectsFramework uses primary keys to uniquely identify enterprise objectsand to map them to the appropriate database row. Therefore, youmust assign a primary key to each entity you use in your application.The wizard automatically assigns primary keys to the model if itfinds primary key information in the database's schema information.</p><p>Checkingthis box causes the wizard to prompt you to choose primary keysthat aren't defined in the database's schema information. Ifyour database doesn't define them, the wizard later prompts youto choose primary keys.</p></li></p><p><li>Check the "Ask about relationships" box.<p>If thereare foreign key definitions in the database's schema information,the wizard includes the corresponding relationships in the basicmodel. However, a definition in the schema information doesn'tprovide enough information for the wizard to set all of a relationship'soptions. Checking this box causes the wizard to prompt you to provide theadditional information it needs to complete the relationship configurations.</p></li></p><p><li>Uncheck the "Ask about stored procedures" box.<p>Checkingthis box causes the wizard to read stored procedures from the database's schemainformation, display them, and allow you to choose which to includein your model. Because the Movies application doesn't requirethe use of any stored procedures, don't check this box.</p></li></p><p><li>Uncheck the "Use custom enterprise objects" box.<p>Anentity maps a table to enterprise objects by storing the name ofa database table (MOVIE, for example) and the name of the correspondingenterprise object class (a Java class, Movie, for example). Whendeciding what class to map a table to, you have two choices: EOGenericRecordor a custom class. EOGenericRecord is a class whose instances storekey-value pairs that correspond to an entity's properties andthe data associated with each property.</p><p>If you don'tcheck the "Use custom enterprise objects" box, the wizard mapsall your database tables to EOGenericRecord. If you do check thisbox, the wizard maps all your database tables to custom classes.The wizard assumes that each entity is to be represented by a customclass with the same name. For example, a table named MOVIE has anentity named Movie, whose corresponding custom class is also namedMovie.</p><p>Use a custom enterprise object class only whenyou need to add business logic; otherwise use EOGenericRecord. TheMovies application uses EOGenericRecord for the Movie entity andcustom classes for the Talent and MovieRole entities. Later on, you'lluse EOModeler to specify the custom classes.</p></li></p><p><li>Click Next.</li></p></ol><a name = "TPXREF107"></a><h3><font face="Helvetica,Arial,Lucida Grande">Choosingthe Tables to Include</font></h3><ol><p><li>In the wizardpanel, select MOVIE, MOVIE_ROLE, and TALENT in the Tables browser.<P><img src = "../Art/eomnewmodelwizardtables.gif" alt = "[image: ../Art/eomnewmodelwizardtables.gif]"><p>The wizard creates entitiesonly for the tables you select. Since the Movies application doesn'tinteract with any of the other tables (for example, DIRECTOR, PLOT_SUMMARY,STUDIO, and TALENT_PHOTO), you don't need to include them in themodel.</p><p>Click on Select None. Then select the MOVIE,MOVIE_ROLE, and TALENT tables. You will need to use the Controlkey to make your selections.</p></li></p><p><li>Click Next.</li></p></ol><a name = "TPXREF108"></a><h3><font face="Helvetica,Arial,Lucida Grande">SpecifyingPrimary Keys</font></h3><p><font face="Times">If you are using a database that stores primary key informationin its database server's schema information, the wizard skipsthis step. The wizard has already successfully read primary keyinformation from the schema information and assigned primary keysto your model.</font></p><p><font face="Times">However, if primary key information isn't specified in yourdatabase server's schema information (as with Microsoft Access),the wizard now asks you to specify a primary key for each entity.</font></p><P><img src = "../Art/eomnewmodelwizardpkey.gif" alt = "[image: ../Art/eomnewmodelwizardpkey.gif]"><ol><p><li>Select <code>movieId</code> asthe primary key for the Movie entity.</li></p><p><li>Click Next.</li></p><p><li>Select both <code>movieId</code> and <code>talentId</code> asthe primary key for the MovieRole entity.<p>MovieRole's primarykey is compound; that is, it's composed of more than one attribute.Use a compound primary key when any single attribute isn't sufficientto uniquely identify a row. For MovieRole, the combination of the <code>movieId</code> and <code>talentId</code> attributesis guaranteed to uniquely identify a row.</p></li></p><p><li>Click Next.</li></p><p><li>Select <code>talentId</code> asthe primary key for the Talent entity.</li></p><p><li>Click Next.<P><img src = "../Art/eomnewmodelwizardfinished.gif" alt = "[image: ../Art/eomnewmodelwizardfinished.gif]"></li></p><p><li>Click Finish.</li></p></ol><a name = "TPXREF109"></a><h3><font face="Helvetica,Arial,Lucida Grande">Savingthe Model</font></h3><p><font face="Times">Once the wizard is finished gathering schema information,it's ready to create the model.</font></p><ol><p><li>Choose Model&gt; Save.<p>Navigate to a directory where you want to save themodel.</p></li></p><p><li>Click Save.</li></p><p><li>Close EOModeler.</li></p><p><li>Type Movies in the "File name" field.</li></p></ol><P><img src = "../Art/eomnewmodel.gif" alt = "[image: ../Art/eomnewmodel.gif]">    <br><a href="Enterprise__es_Database.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Designing_the_Main_Page.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<p><font face="Geneva,Helvetica,Arial" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>