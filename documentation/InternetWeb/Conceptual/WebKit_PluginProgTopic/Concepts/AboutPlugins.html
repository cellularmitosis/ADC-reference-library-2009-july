<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebKit Plug-In Programming Topics: About Web Browser Plug-ins</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="About Web Browser Plug-ins"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/30001248" title="About Web Browser Plug-ins"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../AppleApplications/index.html#//apple_ref/doc/uid/TP30000440-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../../AppleApplications/Safari-date.html#//apple_ref/doc/uid/TP30000440-TP30000418-TP30001042" target="_top">Safari</a> &gt; <a href="../index.html" target="_top">WebKit Plug-In Programming Topics</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../WebKitPluginTopics.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/WebKitPlugins.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/30001248-BAJGJJAH" title="About Web Browser Plug-ins"></a><hr /><H1>About Web Browser Plug-ins</H1><p>Web browser plug-ins are considered extensions to existing web browsers. By installing them locally on your machine, you can “teach” your web browsers to support alternative content types—perhaps even custom types you design yourself—or to perform additional tasks that a ready-made browser cannot do. For example, Macromedia Flash animations are not supported natively by any browsers. By installing their plug-in, though, you expand the capabilities of your browser to accept, interpret, and display the animation directly within the main content view. </p><p>The WebKit framework natively supports two different types of browser plug-ins. One is the Netscape-style plug-in, based off a common cross-platform API. The second is the WebKit–based plug-in, developed in Objective-C and supported by all WebKit-based applications.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="AboutPlugins.html#//apple_ref/doc/uid/30001248-198465">Netscape-Style Plug-ins</a>
				
			<br/>
			
        
			
			
				<a href="AboutPlugins.html#//apple_ref/doc/uid/30001248-214197">WebKit–Based Plug-ins</a>
				
			<br/>
			
        
			
			
				<a href="AboutPlugins.html#//apple_ref/doc/uid/30001248-198727">What Kind Of Plug-in Should I Develop?</a>
				
			<br/>
			
        
			
			
				<a href="AboutPlugins.html#//apple_ref/doc/uid/30001248-198944">Registering Your Plug-in</a>
				
			<br/>
			
        
			
			
				<a href="AboutPlugins.html#//apple_ref/doc/uid/30001248-199039">Installing Your Plug-in</a>
				
			<br/>
			
        
			
			
				<a href="AboutPlugins.html#//apple_ref/doc/uid/30001248-206518">Deploying Your Plug-in</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/30001248-198465" title="Netscape-Style Plug-ins"></a><h2>Netscape-Style Plug-ins</h2><p><strong>Netscape-style</strong> plug-ins are written using a cross-platform C API and can be compiled in Mac OS X into either native Mach-O or classic PEF format. Though the API currently supports both formats, Mac OS X natively supports the Mach-O style, and you will find that your plug-in will run much faster if compiled as a Mach-O binary. In the future, Netscape plug-in API s will continue to support the Mach-O format; no such guarantee can be maintained for plug-ins compiled in the PEF format. You can also develop and debug Mach-O plug-ins in Xcode, but not PEF plug-ins. Once compiled, the plug-ins can be installed and used in most web browsers.</p><p></p><p>The original Netscape plug-in architecture was integrated into Netscape 2.0 in 1996. Since then, the API has since been adopted by most common web browsers, including Safari. It has built-in support for onscreen drawing, various types of event handling, and networking functions.</p><p>In addition to the core plug-in functionality, Apple has extended the capabilities of the Netscape-style plug-ins. Starting with the WebKit framework bundled with Safari 1.3 (on Mac OS X version 10.3) or Safari 2.0 (on Mac OS X version 10.4), the Netscape-style plug-ins can also perform scripting functions.</p><p>The new Netscape-style plug-in scripting environment allows plug-ins to access scripting languages such as JavaScript (including accessing script elements such as a web page’s Document Object Model). It also allows scripting languages to access and control elements of the plug-in. </p><p></p><a name="//apple_ref/doc/uid/30001248-214197" title="WebKit&acirc;&#128;&#147;Based Plug-ins"></a><h2>WebKit–Based Plug-ins</h2><p><strong>WebKit-based plug-ins</strong> are written using Objective-C API that is unique to WebKit. Although the API is not cross-platform, any plug-in created in this fashion can be used in Safari and all other WebKit-based applications. This style of plug-in is easy to develop and significantly cuts down on the amount of code you have to write, because it harnesses all the premade API and interface technology available to Cocoa applications.</p><p>Because WebKit-based plug-ins are based on subclasses of Cocoa’s NSView, this style also offers support for onscreen drawing and event handling. </p><p>Apple has also provided these types of plug-ins with access to the enclosing scripting environment; a script can call methods and read properties from the plug-in, and vice versa.</p><p>When you create a WebKit-based plug-in you need to compile it as a universal binary. For more information, see <em><a href="../../../../MacOSX/Conceptual/universal_binary/index.html#//apple_ref/doc/uid/TP40002217" target="_top">Universal Binary Programming Guidelines, Second Edition</a></em>.</p><a name="//apple_ref/doc/uid/30001248-198727" title="What Kind Of Plug-in Should I Develop?"></a><h2>What Kind Of Plug-in Should I Develop?</h2><p>Because the WebKit framework provides for two different and distinct plug-in technologies, you may be asking yourself, what technology should I use?</p><p>You should use the Netscape-style plug-in architecture if:</p><ul class="ul"><li class="li"><p>Your plug-in needs to be supported on multiple Mac browsers, not all of which use the WebKit framework.</p></li><li class="li"><p>Your plug-in will be deployed on multiple platforms. Because the API is cross-platform, you would just have to compile the same code for Windows or Linux.</p></li></ul><p>Otherwise, using the WebKit–based plug-in architecture is probably the right plan for you. You will save lots of development and debugging time, and your total lines of code will be much lower than for a Netscape plug-in. However, you will be able to deploy these plug-ins only on Mac OS X, for applications that use the WebKit framework (including Safari).</p><a name="//apple_ref/doc/uid/30001248-198944" title="Registering Your Plug-in"></a><h2>Registering Your Plug-in</h2><p>Your plug-in will need to register itself with the application that uses it, so that the application knows what content types you support. Your plug-in bundle needs to contain this important registration information. In addition to setting the correct registration information for your plug-in, you must set the correct <code>CFBundlePackageType</code>. The default <code>CFBundlePackageType</code> when you create a new WebKit plug-in in Xcode is <code>BNDL</code>, this must be changed to <code>WBPL</code> to be recognized by WebKit.</p><p>There are two different ways of storing this registration information. One is with an <code>Info.plist</code> file stored within the plug-in bundle. This is an easy-to-edit and easy-to-maintain way to register your content types, but is supported only by applications based on the WebKit (no matter in what style you wrote the plug-in). The other way to register the information—and this method is required if you want other browsers on the Mac platform to support your plug-in—you also have to include a Carbon resources file.</p><p>The <code>Info.plist</code> file contains important information. Let’s use an example from the WebKit movie plug-in, which you will create in <span class="content_text"><a href="../Tasks/WebKitPlugins.html#//apple_ref/doc/uid/30001249-BAJGJJAH">“Creating Plug-ins with Cocoa and WebKit .”</a></span> First, you need to register a description of the plug-in (see <span class="content_text">Listing 1</span>).</p><a name="//apple_ref/doc/uid/30001248-199077-BBCGBEDJ" title="Listing 1Plug-in description in the Info.plist file"></a><p class="codesample"><a name="//apple_ref/doc/uid/30001248-199077" title="Listing 1Plug-in description in the Info.plist file"></a><strong>Listing 1&nbsp;&nbsp;</strong>Plug-in description in the Info.plist file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>WebPluginDescription&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>Simple WebKit plug-in that displays movies&lt;/string><span></span></pre></td></tr></table></div><p>Next, you’ll need to register the MIME types that your plug-in supports (see <span class="content_text">Listing 2</span>).</p><a name="//apple_ref/doc/uid/30001248-199132-BBCFIJFA" title="Listing 2Registering MIME types in the Info.plist file"></a><p class="codesample"><a name="//apple_ref/doc/uid/30001248-199132" title="Listing 2Registering MIME types in the Info.plist file"></a><strong>Listing 2&nbsp;&nbsp;</strong>Registering MIME types in the Info.plist file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>WebPluginMIMETypes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>video/x-webkitmovie&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>WebPluginExtensions&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>mov&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>WebPluginTypeDescription&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>QuickTime Movie&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr></table></div><p>Finally, your plug-in needs a useful name for the application to call it by (see <span class="content_text"><a href="AboutPlugins.html#//apple_ref/doc/uid/30001248-199268-BBCFBICA">Listing 3</a></span>).</p><a name="//apple_ref/doc/uid/30001248-199268-BBCFBICA" title="Listing 3Name That Plug-in"></a><p class="codesample"><a name="//apple_ref/doc/uid/30001248-199268" title="Listing 3Name That Plug-in"></a><strong>Listing 3&nbsp;&nbsp;</strong>Name That Plug-in</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>WebPluginName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>WebKit Movie Plug-in&lt;/string><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/30001248-199039" title="Installing Your Plug-in"></a><h2>Installing Your Plug-in</h2><p>Plug-ins can be stored in one of two places on a Mac OS X system:</p><ul class="ul"><li class="li"><p>Plug-ins stored in <code>/Library/Internet Plug-ins</code> can be shared by all users on the computer.</p></li><li class="li"><p>Plug-ins stored in <code>~/Library/Internet Plug-ins</code> will be available only to the user whose home directory contains them.</p></li></ul><p>In addition, the WebKit-based plug-ins can be stored inside the bundle of <em>any</em> application that uses the WebKit, by storing it in:</p><div class="codesample"><table><tr><td scope="row"><pre>    AppName/Contents/Plug-ins<span></span></pre></td></tr></table></div><p>where <code>AppName</code> is the actual application’s executable bundle.</p><p>Plug-ins are generally reloaded on each application start.</p><a name="//apple_ref/doc/uid/30001248-206518" title="Deploying Your Plug-in"></a><h2>Deploying Your Plug-in</h2><p>Content that your plug-ins will view needs to be embedded within HTML. Most browsers do this with an <code>EMBED</code> tag, but others require the <code>OBJECT</code> tag. For maximum compatibility, you can tune your page to support both. The example in <span class="content_text">Listing 4</span> is specific to the QuickTime plug-in provided by Apple, and you can tune these parameters to your own mode of business.</p><a name="//apple_ref/doc/uid/30001248-206884-BBCCCJGG" title="Listing 4Embedding a movie into an HTML page"></a><p class="codesample"><a name="//apple_ref/doc/uid/30001248-206884" title="Listing 4Embedding a movie into an HTML page"></a><strong>Listing 4&nbsp;&nbsp;</strong>Embedding a movie into an HTML page</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;OBJECT CLASSID="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"<span></span></pre></td></tr><tr><td scope="row"><pre> WIDTH="160"<span></span></pre></td></tr><tr><td scope="row"><pre> HEIGHT="144"<span></span></pre></td></tr><tr><td scope="row"><pre> CODEBASE="http://www.apple.com/qtactivex/qtplugin.cab"><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;PARAM name="SRC" VALUE="sample.mov"><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;PARAM name="AUTOPLAY" VALUE="true"><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;PARAM name="CONTROLLER" VALUE="false"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;EMBED SRC="sample.mov"<span></span></pre></td></tr><tr><td scope="row"><pre>WIDTH="160"<span></span></pre></td></tr><tr><td scope="row"><pre>HEIGHT="144"<span></span></pre></td></tr><tr><td scope="row"><pre>AUTOPLAY="true"<span></span></pre></td></tr><tr><td scope="row"><pre>CONTROLLER="false"<span></span></pre></td></tr><tr><td scope="row"><pre>PLUGINSPAGE="http://www.apple.com/quicktime/download/"><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/EMBED><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/OBJECT><span></span></pre></td></tr></table></div><p>The variables for the Active X controls will change based on your plug-in’s behavior. Read Apple’s <em><a href="../../../../QuickTime/Conceptual/QTScripting_HTML/index.html#//apple_ref/doc/uid/TP40001525" target="_top">HTML Scripting Guide for QuickTime</a></em> tutorial for more information.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../WebKitPluginTopics.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/WebKitPlugins.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/InternetWeb/Conceptual/WebKit_PluginProgTopic/Concepts/AboutPlugins.html%3Fid%3DTP40001521-1.8&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/InternetWeb/Conceptual/WebKit_PluginProgTopic/Concepts/AboutPlugins.html%3Fid%3DTP40001521-1.8&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/InternetWeb/Conceptual/WebKit_PluginProgTopic/Concepts/AboutPlugins.html%3Fid%3DTP40001521-1.8&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
