<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Conditional Display With WOConditionalElements</title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>&gt;</b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Tracing_the_sponse_Loop.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Derived_Properties.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF106"></a><h2><font face="Lucida Grande,Helvetica,Arial">Conditional Display With WOConditionalElements</font></h2><!-- apple_doc: pageHeadingEnd --><p>A WOConditional element provides a means of conditionallydisplaying part of a component. This part could include text, elements,and other components. </p><p>The WOConditional element has two attributes: <code>condition</code> and <code>negate</code>.The <code>condition</code> attributeis required. While it is syntactically correct to use the values <code>YES</code> or <code>NO</code> forthis binding, the element is only useful when <code>condition</code> isbound to a Java method that returns <code>true</code> or <code>false</code> (youcan also bind it to integer objects, in which case nonzero valuesare interpreted as <code>true</code> andzero values as <code>false</code>).If the method evaluates to <code>true</code>,the contents of the conditional are displayed; otherwise, they arenot. If the <code>negate</code> attributeit set to <code>true</code>, thisarrangement is reversed: the contents are displayed only if the <code>condition</code> attributeevaluates to <code>false</code>.</p><p>You can use a pair of WOConditionals to ask the user for inputand then display the information she entered. This is the methodyou'll use to capture and display user data.</p><ol><li>Add an instancevariable you can use to indicate whether the user has entered the necessaryinformation.<p>Add the following variable to <code>Main.java</code>:</p><pre>protected boolean entryIncomplete;</pre><p>Youcan use WebObjects Builder's Edit Source menu or add the variabledirectly to the class file. (If you use WebObjects Builder, be sureto deselect the options under "Create source code for" in theAdd Key dialog.) </p><p>This variable should be initializedto <code>true</code> because the variablesare empty when the page is first displayed, so the entry is incomplete.Otherwise, the fields would not be displayed the first time thepage is shown. Initialize the variable in the component's constructor.</p><pre>public Main(WOContext context) {    super(context);    entryIncomplete = true;}</pre><p>Alsomodify the <code>addUser</code> methodto check the form properties and update the value of <code>entryIncomplete</code>.</p><pre>public WOComponent addUser() {    System.out.println("'addUser' button was clicked.");    if (personName.equals("") || favoriteFood.equals("") {        entryIncomplete = true;    }    else {        entryIncomplete = false; // the entry is now complete    }    return null;}</pre></font></li><li>Save <code>Main.java</code>.</font></li><li>Open <code>Main.wo</code> inWebObjects Builder</font></li><li>Make the form element conditional by wrapping it in a WOConditional.<p>Thefields and the submit button should be displayed only while <code>entryIncomplete</code> is <code>true</code>.Select the form and choose WOConditional from the WebObjects menu.(You can select the form by clicking inside it and then clickingthe <code>&lt;WOForm&gt;</code> tagin the path pane, located below the content editor.)</p></font></li><li>Bind the <code>condition</code> attributeof the WOConditional to the <code>entryIncomplete</code> instance variable.<p>Aslong as <code>entryIncomplete</code> evaluatesto <code>true</code>, WebObjects displaysthe WOConditional's content.</p></font></li><li>Create elements to display the data once it has been entered.<ol><li>Make a new line belowthe WOConditional.</font></li><li>Add two WOStrings.</font></li><li>Add the text "<code> prefers to eat </code>"between the WOStrings (note the leading and trailing spaces).</font></li><li>Bind the first WOString's <code>value</code> attributeto <code>personName</code><code></code>,and the second's to <code>favoriteFood</code><code></code>.</font></li></ol></font></li><li>Select the new items and create a WOConditional around them.</font></li><li>Bind the new WOConditional's <code>condition</code> to <code>entryIncomplete</code>.Click "+" on the WOConditional to invert its meaning. It changesto a "-" and the contents of the second WOConditional are displayedonly when the value of the <code>entryIncomplete</code> variableis <code>false</code>.<br><a name = "BAJEIHFC"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure5-4 WOConditional elements</font></b></p> <img src = "../Art/userinputwocond2.gif" alt = "[image: ../Art/userinputwocond2.gif]"></font></li><li>Build and run the application.</font></li></ol><p>The first time the Main component is generated, you see thesame page as the last version of the application, because <code>entryIncomplete</code> is <code>true</code> andthe contents of the first WOConditional are displayed. </p><p>Once the user enters data and clicks the submit button, the <code>addUser</code> methoddetermines if she entered text in both text fields and, if you so,sets <code>entryIncomplete</code> to <code>false</code>.Since the <code>addUser</code> methodreturns <code>null</code>, the pageis redrawn with the new variable settings, and this time the contentsof the other WOConditional are displayed because the variable changed.</p><br>    <br><a href="Tracing_the_sponse_Loop.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Derived_Properties.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<hr alt=""><p><font face="Palatino" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>