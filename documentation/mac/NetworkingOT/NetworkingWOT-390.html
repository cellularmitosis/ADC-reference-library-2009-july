<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>TCP Options</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING390></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-389.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-391.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-377.html"><B>Chapter 29 - TCP/IP Services Reference</B></A> / <A HREF="NetworkingWOT-388.html"><B>Options</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING390-0></A>
<H2>TCP Options</H2>
 <A NAME=MARKER-13-63></A>You can use the options in this section with a protocol level of <CODE>INET_TCP</CODE>. These TCP options are not association-related. They may be negotiated in all endpoint states except <CODE>T_UNBND</CODE> and <CODE>T_UNINIT</CODE>. They are read-only in state <CODE>T_UNBND</CODE>.<P>
<PRE>
<A NAME=MARKER-0-95></A>#define TCP_NODELAY                 0x01  
#define TCP_MAXSEG                  0x02  
#define TCP_NOTIFY_THRESHOLD        0x10  
#define TCP_ABORT_THRESHOLD         0x11  
#define TCP_CONN_NOTIFY_THRESHOLD   0x12  
#define TCP_CONN_ABORT_THRESHOLD    0x13  
#define TCP_OOBINLINE               0x14  
#define TCP_URGENT_PTR_TYPE         0x15  
#define TCP_KEEPALIVE         OPT_KEEPALIVE
</PRE>
<B>Option descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-13-65></A>TCP_NODELAY<A NAME=MARKER-13-66></A></CODE>
<DD> Sets the TCP delay mode. (<CODE>UInt32</CODE>)<P>
<DT>
<DD> By default, when TCP has a full segment's worth of outgoing data, it sends the segment immediately. However, if it receives less than a segment's worth of outgoing data and has not yet received acknowledgment for the last packet sent, it saves the data until it receives a full segment's worth, or it receives acknowledgment for the last packet, or a timeout period has expired. (In this context, a <I>full segment</I> is the maximum-sized unit of data that can be sent by TCP at one time and a <I>packet</I> is data that is transmitted as a single unit.)<P>
<DT>
<DD> Specify <CODE>T_YES</CODE> for this option to cause all data to be sent immediately. Specify <CODE>T_NO</CODE> to return TCP to the default delay mode. A request to set this option to no delay is an absolute requirement. This means that TCP must support the option, not that the client must use it.<P>
<DT><CODE><A NAME=MARKER-13-67></A>TCP_MAXSEG<A NAME=MARKER-13-68></A></CODE>
<DD> Read the maximum TCP segment size. (<CODE>UInt32</CODE>)<P>
<DT>
<DD> The maximum segment size is returned as an unsigned long specifying the number of bytes. This option is read-only.<P>
<DT><CODE><A NAME=MARKER-13-69></A><A NAME=MARKER-13-72></A>TCP_KEEPALIVE<A NAME=MARKER-9-71></A></CODE>
<DD> Activates the keep-alive timer. (<CODE>UInt32</CODE>). The default setting is off.<P>
<DT>
<DD> If this option is set <CODE>on</CODE>, TCP monitors idle connections and sends a keep-alive packet to check a connection after a preset time has expired. You use a <CODE>t_kpalive</CODE> structure, described later in this section, to specify the value of this option. The default state for the keep-alive timer is <CODE>off</CODE>. A request to activate or deactivate the keep-alive timer is an absolute requirement. <P>
</DL>
 The <A NAME=MARKER-13-72></A><CODE>TCP_KEEPALIVE</CODE> option uses a <CODE>t_kpalive</CODE> structure, defined as follows:<P>
<PRE>
<A NAME=MARKER-14-73></A>struct t_kpalive {
   long  kp_onoff;   
   long  kp_timeout; /
};
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>kp_onoff</CODE>
<DD> Activate or deactivate the keep-alive timer. Set this field to <CODE>T_YES</CODE> to activate the timer or to <CODE>T_NO</CODE> to deactivate it. A request to activate or deactivate the timer is an absolute requirement. The default value of this field is <CODE>T_NO</CODE>. The Open Transport TCP implementation does not support the value <CODE>T_YES|T_GARBAGE</CODE> for this field.
<DT><CODE>kp_timeout</CODE>
<DD> Set the requested timeout value, in minutes. Specify a value of <CODE>T_UNSPEC</CODE> to use the default value. You may specify any positive value for this field of 120 minutes or greater. The timeout value is not an absolute requirement; if you specify a value less than 120 minutes, TCP will renegotiate a timeout of 120 minutes. <A NAME=MARKER-13-74></A>
</DL>
</BLOCKQUOTE><HR>
<center>
<A HREF="NetworkingWOT-389.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-391.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
