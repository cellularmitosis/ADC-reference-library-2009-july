<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>vrscript.win - /Feature Files/VRMovies.h</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/QuickTime/index.html">QuickTime</a> &gt; <a href="../../samplecode/QuickTime/idxVirtualReality-date.html">Virtual Reality</a> &gt; <A HREF="javascript:location.replace('index.html');">vrscript.win</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">vrscript.win</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/Feature Files/VRMovies.h</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/Application Files/ComApplication.c</option>
<option value="listing2.html">/Application Files/ComApplication.h</option>
<option value="listing3.html">/Application Files/ComResource.h</option>
<option value="listing4.html">/Common Files/ComFramework.c</option>
<option value="listing5.html">/Common Files/ComFramework.h</option>
<option value="listing6.html">/Common Files/FileUtilities.c</option>
<option value="listing7.html">/Common Files/FileUtilities.h</option>
<option value="listing8.html">/Common Files/QTUtilities.c</option>
<option value="listing9.html">/Common Files/QTUtilities.h</option>
<option value="listing10.html">/Common Files/QTVRUtilities.c</option>
<option value="listing11.html">/Common Files/QTVRUtilities.h</option>
<option value="listing12.html">/Common Files/URLUtilities.c</option>
<option value="listing13.html">/Common Files/URLUtilities.h</option>
<option value="listing14.html">/Common Files/WinFramework.c</option>
<option value="listing15.html">/Common Files/WinFramework.h</option>
<option value="listing16.html">/Common Files/WinPrefix.h</option>
<option value="listing17.html">/Feature Files/VR3DObjects.c</option>
<option value="listing18.html">/Feature Files/VR3DObjects.h</option>
<option value="listing19.html">/Feature Files/VR3DTexture.c</option>
<option value="listing20.html">/Feature Files/VR3DTexture.h</option>
<option value="listing21.html">/Feature Files/VRActions.c</option>
<option value="listing22.html">/Feature Files/VRActions.h</option>
<option value="listing23.html">/Feature Files/VREffects.c</option>
<option value="listing24.html">/Feature Files/VREffects.h</option>
<option value="listing25.html">/Feature Files/VRHash.c</option>
<option value="listing26.html">/Feature Files/VRHash.h</option>
<option value="listing27.html">/Feature Files/VRMovies.c</option>
<option value="listing28.html">/Feature Files/VRMovies.h</option>
<option value="listing29.html">/Feature Files/VRPicture.c</option>
<option value="listing30.html">/Feature Files/VRPicture.h</option>
<option value="listing31.html">/Feature Files/VRPreferences.c</option>
<option value="listing32.html">/Feature Files/VRPreferences.h</option>
<option value="listing33.html">/Feature Files/VRSound.c</option>
<option value="listing34.html">/Feature Files/VRSound.h</option>
<option value="listing35.html">/Feature Files/VRSprites.c</option>
<option value="listing36.html">/Feature Files/VRSprites.h</option>
<option value="listing37.html">/README.txt</option>
<option value="listing38.html">/VRScript.c</option>
<option value="listing39.html">/VRScript.h</option></select>
				</p>
				</form>
				<p><strong><a href="vrscript.win.zip">Download Sample</a></strong> (&#147;vrscript.win.zip&#148;, 288.7K)<BR>
<strong><a href="vrscript.win.dmg">Download Sample</a></strong> (&#147;vrscript.win.dmg&#148;, 387.0K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">//////////
//
//  File:    VRMovies.h
//
//  Contains:  Support for QuickTime movie playback in VR nodes.
//
//  Written by:  Tim Monroe
//
//  Copyright:  &copy; 1997 by Apple Computer, Inc., all rights reserved.
//
//  Change History (most recent first):
//
//     &lt;1&gt;     12/11/96  rtm    first file 
//     
//////////

#pragma once


//////////
//
// header files
//     
//////////

#ifndef __QDOFFSCREEN__
#include &lt;QDOffscreen.h&gt;
#endif

#include &quot;ComApplication.h&quot;
#include &quot;VRScript.h&quot;

#if TARGET_OS_MAC
#include &quot;MacFramework.h&quot;
#endif

#if TARGET_OS_WIN32
#include &quot;WinFramework.h&quot;
#endif


//////////
//
// compiler macros
//     
//////////

#define RECT_WIDTH(rect)      ((rect).right-(rect).left)
#define RECT_HEIGHT(rect)      ((rect).bottom-(rect).top)


//////////
//
// constants
//     
//////////

#define kVRMoov_HideHotSpotType    FOUR_CHAR_CODE('hide')


//////////
//
// function prototypes
//     
//////////

void                VRMoov_Init (void);
void                VRMoov_Stop (void);
void                VRMoov_StartMovie (Movie theMovie);
void                VRMoov_PlayMovie (WindowObject theWindowObject, UInt32 theNodeID, UInt32 theEntryID, float thePanAngle, float theTiltAngle, float theScale, float theWidth, UInt32 theKeyRed, UInt32 theKeyGreen, UInt32 theKeyBlue, Boolean theUseBuffer, Boolean theUseCenter, Boolean theUseKey, Boolean theUseHide, Boolean theUseDir, Boolean theRotate, float theVolAngle, UInt32 theMode, UInt32 theOptions, char *thePathName);
void                VRMoov_PlayTransitionMovie (WindowObject theWindowObject, UInt32 theOptions, char *thePathName);
Boolean                VRMoov_LoadEmbeddedMovie (char *thePathName, WindowObject theWindowObject, VRScriptMoviePtr theEntry);
void                VRMoov_LoopEmbeddedMovie (Movie theMovie, Boolean isPalindrome);
Boolean                VRMoov_DoIdle (WindowObject theWindowObject);
void                VRMoov_DumpNodeMovies (WindowObject theWindowObject);
void                VRMoov_DumpSceneMovies (WindowObject theWindowObject);
void                VRMoov_DumpSelectedMovies (WindowObject theWindowObject, UInt32 theOptions);
VRScriptMoviePtr          VRMoov_GetEmbeddedVideo (WindowObject theWindowObject);
float                VRMoov_GetEmbeddedMovieWidth (WindowObject theWindowObject);
void                VRMoov_SetEmbeddedMovieWidth (WindowObject theWindowObject, float theWidth);
void                VRMoov_GetEmbeddedMovieCenter (WindowObject theWindowObject, QTVRFloatPoint *theCenter);
void                VRMoov_SetEmbeddedMovieCenter (WindowObject theWindowObject, const QTVRFloatPoint *theCenter);
float                VRMoov_GetEmbeddedMovieScale (WindowObject theWindowObject);
void                VRMoov_SetEmbeddedMovieScale (WindowObject theWindowObject, float theScale);
void                VRMoov_GetEmbeddedMovieRect (WindowObject theWindowObject, Rect *theRect);
void                VRMoov_SetEmbeddedMovieRect (WindowObject theWindowObject, const Rect *theRect);
void                VRMoov_SetAllBalanceAndVolume (WindowObject theWindowObject, float thePan, float theTilt);
void                VRMoov_SetOneBalanceAndVolume (Movie theMovie, MediaHandler theMediaHandler, float thePan, float theTilt, float theMoviePan, float theVolAngle);
OSErr                VRMoov_CalcImagingMatrix (WindowObject theWindowObject, Rect *theBBufRect);
OSErr                VRMoov_SetupDecompSeq (VRScriptMoviePtr theEntry, GWorldPtr theDestGWorld);
OSErr                VRMoov_RemoveDecompSeq (VRScriptMoviePtr theEntry);
PASCAL_RTN OSErr          VRMoov_BackBufferImagingProc (QTVRInstance theInstance, Rect *theRect, UInt16 theAreaIndex, UInt32 theFlagsIn, UInt32 *theFlagsOut, SInt32 theRefCon);
PASCAL_RTN OSErr          VRMoov_CoverProc (Movie theMovie, RgnHandle theRegion, SInt32 theRefCon);
void                VRMoov_SetVideoGraphicsMode (Movie theMovie, VRScriptMoviePtr theEntry, Boolean theSetVGM);
VRScriptMoviePtr          VRMoov_GetFinishedMovie (WindowObject theWindowObject);
void                VRMoov_CheckForCompletedMovies (WindowObject theWindowObject);
void                VRMoov_DumpEntryMem (VRScriptMoviePtr theEntry);
</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/vrscript.win/listing28.html%3Fid%3DDTS10001033-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/vrscript.win/listing28.html%3Fid%3DDTS10001033-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/vrscript.win/listing28.html%3Fid%3DDTS10001033-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>