<HTML>		<HEAD>		<TITLE>			EOEvent		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a><a name = "CIAJIBIA"></a><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/java/cl/EOEvent">EOEvent</a></FONT></h1><br><blockquote><dl><dt><b>Inheritsfrom: </b></dt><dd> NSObject</dd></dl></blockquote><blockquote><dl><dt><b>Package: </b></dt><dd>com.apple.yellow.eocontrol</dd></dl></blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>EOEvent is an abstract class that providesconcrete subclasses with a structure for storing information (suchas duration) about a logged event.</p><br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Thisclass doesn't exist in the com.apple.client.eocontrol package.The event logging system is not available for Java Client. In aJava Client application, you can view event logging informationfor the server side of the application, but not on the client side.</td></tr></table><br><p>Subclasses of EOEvent don't need to override any inheritedmethods or implement any methods at all. You can customize the behaviorif you want, but the EOEvent implementations are sufficient formost cases. Generally, to create a subclass of EOEvent, you merelydeclare it and create a description file that defines the eventsyour subclass logs. The class itself usually declares no instancevariables and implements no methods. The abstract implementationgets all the information it needs from the description file. Formore information on the description file, see the  <a href="#//apple_ref/java/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> method description. </p><p>Most of the work involved in logging custom events is instrumentingyour code. For more information on that and on the event loggingsystem itself, see the  <a href="EOEventCenter.html#CAHBICFD">EOEventCenter</a> class specification.</p><br><br><br><h2>Constants</h2><hr><p>EOAttribute defines the following <code>int</code> constantas a possible signature type for use with the methods  <a href="#//apple_ref/java/instm/EOEvent/signatureOfType">signatureOfType</a>,  <a href="#//apple_ref/java/clm/EOEvent/aggregateEvents">aggregateEvents</a>,and  <a href="#//apple_ref/java/clm/EOEvent/groupEvents">groupEvents</a>. </p><ul><li><a name = "CIAHDADB"></a><tt>EOBasicEventSignature</tt></li></ul><p>Additionally, EOEvent defines the following Stringconstant to be used as a key into the dictionary returned by  <a href="#//apple_ref/java/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a>.The <code>EOEventGroupName</code> entryprovides the description of the family of events represented bythe event class.</p><ul><li><a name = "CIAFDEHF"></a><tt>EOEventGroupName</tt></li></ul><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Defining an event type</dt><dd> <a href="#//apple_ref/java/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a></dd><dd> <a href="#//apple_ref/java/clm/EOEvent/description">description</a></dd></dl><dl><dt>Accessing informationabout the event</dt><dd> <a href="#//apple_ref/java/instm/EOEvent/toString">toString</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/title">title</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/startDate">startDate</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/duration">duration</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/durationWithoutSubevents">durationWithoutSubevents</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/setType">setType</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/type">type</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/setInfo">setInfo</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/info">info</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/comment">comment</a></dd></dl><dl><dt>Grouping and AggregatingEvents</dt><dd> <a href="#//apple_ref/java/clm/EOEvent/aggregateEvents">aggregateEvents</a></dd><dd> <a href="#//apple_ref/java/clm/EOEvent/groupEvents">groupEvents</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/signatureOfType">signatureOfType</a></dd></dl><dl><dt>Displaying event information</dt><dd> <a href="#//apple_ref/java/instm/EOEvent/displayComponentName">displayComponentName</a></dd></dl><dl><dt>Traversing the eventhierarchy</dt><dd> <a href="#//apple_ref/java/instm/EOEvent/parentEvent">parentEvent</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/subevents">subevents</a></dd></dl><dl><dt>Logging events</dt><dd> <a href="#//apple_ref/java/instm/EOEvent/markAtomicWithInfo">markAtomicWithInfo</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/markEnd">markEnd</a></dd><dd> <a href="#//apple_ref/java/instm/EOEvent/markStartWithInfo">markStartWithInfo</a></dd></dl></blockquote><br><br><h2>Static Methods</h2><hr><a name = "CIACBGJG"></a><BR><h3><a name="//apple_ref/java/clm/EOEvent/aggregateEvents">aggregateEvents</a></h3><p><code>public static NSArray <code>aggregateEvents</code>(NSArray <em>events,</em> int <em>tag</em>)</code></p>Returns an array of aggregatedevents. Gets the signature of type <em>tag</em>  fromeach event in <em>events</em>  and aggregatesevents with the same signature into a special, single event. Theresulting array has an event for each different signature. The eventsin this array have a duration equal to the sum of the durations ofits aggregated events. The  <a href="#//apple_ref/java/instm/EOEvent/subevents">subevents</a> ofthese special events are the union of the subevents of its aggregatedevents.<p>This method is for use by the WOEventDisplay page.For more information, see  <a href="More/EOEventCenter.html#CAHGDEGG">"WOEventDisplay page"</a>.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CIADHIFC"></a><BR><h3><a name="//apple_ref/java/clm/EOEvent/description">description</a></h3><p><code>public static String <code>description</code>()</code></p>Returns a description of thefamily of events represented by the class. EOEvent'simplementation returns the event description for the  <a href="#CIAFDEHF">EOEventGroupName</a> key.For more information, see the  <a href="#//apple_ref/java/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> method description.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIACFGID"></a><BR><h3><a name="//apple_ref/java/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a></h3><p><code>public static NSDictionary <code>eventTypeDescriptions</code>()</code></p>Returns a dictionary of eventtypes and descriptions for the family of events represented by theevent class. The keys of this dictionary are eventtypes and the corresponding values are descriptions of events ofthe types. Subclasses don't need to implement this method; EOEvent'simplementation is generally sufficient for subclasses.<p>EOEvent'simplementation reads the event types and their descriptions froma file. To define the types your event class represents, createa description file for your event and add it to your project's Resourcesfolder. An event's description file defines the event <b>categories</b> and <b>subcategories</b> usedin the WOEventDisplay page. The file's contents is a dictionaryin plist format.</p><p>For example, consider the ODBCAdaptorEventthat logs events for the ODBC adaptor. ODBCAdaptorEvent is a subclassof EOEvent. It uses EOEvent's implementation of <code>eventTypeDescriptions</code>.The name of its description file is <tt>ODBCAdaptorEvent.description</tt>,and it looks like this:</p><blockquote><pre>{    EOEventGroupName = "ODBC Adaptor Event";    connect = "Connect";    openChannel = "Open Channel";    evaluateExpression = "Evaluate Expression";    fetchRow = "Fetch Row";    commitTransaction = "Commit Transaction";}</pre></blockquote><br><p>Using the EOEventimplementation, the  <a href="#CIAFDEHF">EOEventGroupName</a> entryis mandatory; it describes the family of events logged by the eventclass. Any other keys are defined by the event class itself. Inthe ODBCAdaptorEvent class, the other keys (<code>connect</code>, <code>openChannel</code>,and so on) are the <b>types</b> of the events ODBCAdaptorEventlogs.</p><p>If the file doesn't exist or if there's anerror reading the file, EOEvent creates a dictionary with a single entry;the entry's key is <code>EOEventGroupName</code> andthe value is the name of the event class (such as ODBCAdaptorEvent).</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CIABDCJC"></a><BR><h3><a name="//apple_ref/java/clm/EOEvent/groupEvents">groupEvents</a></h3><p><code>public static NSArray <code>groupEvents</code>(NSArray <em>events,</em> int <em>tag</em>)</code></p>Returns an array of groupedevents. Gets the signature of type <em>tag</em>  fromeach event in <em>events</em>  and groups eventswith the same signature into a special, single event. The resultingarray has an event for each different signature. The  <a href="#//apple_ref/java/instm/EOEvent/subevents">subevents</a> of thesespecial events are the grouped events.<p>This method is for useby the WOEventDisplay page. For more information, see  <a href="More/EOEventCenter.html#CAHGDEGG">"WOEventDisplay page"</a>.</p><hr WIDTH="25%" ALIGN="LEFT"><BR><BR><h2>Instance Methods</h2><hr><a name = "CIACAHEE"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/comment">comment</a></h3><p><code>public String <code>comment</code>()</code></p>Returns type specific informationabout the event. EOEvent's implementation returnsa string representation of the receiver's  <a href="#//apple_ref/java/instm/EOEvent/info">info</a>.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIABJFAE"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/displayComponentName">displayComponentName</a></h3><p><code>public String <code>displayComponentName</code>()</code></p>Returns the name of a WebObjectscomponent to use to display the receiver's logging information. EOEvent'simplementation uses the WOEventRow component, which is generallysufficient for subclasses.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIACCBBC"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/duration">duration</a></h3><p><code>public int <code>duration</code>()</code></p>Returns the duration of thereceiver, in milliseconds; returns 0 if the event is atomic (nota branch event) or if the branch is not yet closed.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIADHABJ"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/durationWithoutSubevents">durationWithoutSubevents</a></h3><p><code>public int <code>durationWithoutSubevents</code>()</code></p>Returns the duration of receiver,in milliseconds, not including the time spent in its subevents (ifany).<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIADJFJB"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/info">info</a></h3><p><code>public Object <code>info</code>()</code></p>Returns thecustom info for the receiver.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIADFHII"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/markAtomicWithInfo">markAtomicWithInfo</a></h3><p><code>public void <code>markAtomicWithInfo</code>(Object <em>info</em>)</code></p>Initializesthe receiver, a newly allocated event, as an atomic event that hasan absolute  <a href="#//apple_ref/java/instm/EOEvent/startDate">startDate</a> (and nota  <a href="#//apple_ref/java/instm/EOEvent/duration">duration</a>), and assignsthe event's  <a href="#//apple_ref/java/instm/EOEvent/info">info</a>.The newly allocated event is usually created with the EOEventCentermethod  <a href="EOEventCenter.html#//apple_ref/java/clm/EOEventCenter/newEventOfClass">newEventOfClass</a>.<br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Don'tinvoke this method directly. Use the corresponding method definedin EOEventCenter instead.</td></tr></table><br><hr WIDTH="25%" ALIGN="LEFT"><a name = "CIADJBEH"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/markEnd">markEnd</a></h3><p><code>public void <code>markEnd</code>()</code></p>Marks the end of a branch event,which has the side-effect of setting the  <a href="#//apple_ref/java/instm/EOEvent/duration">duration</a>.<br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Don'tinvoke this method directly. Use the corresponding method definedin EOEventCenter instead.</td></tr></table><br><hr WIDTH="25%" ALIGN="LEFT"><a name = "CIACJDFJ"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/markStartWithInfo">markStartWithInfo</a></h3><p><code>public void <code>markStartWithInfo</code>(Object <em>info</em>)</code></p>Initializes the receiver, anewly allocated event, to be a branch event (that possibly has nested subevents),and assigns it's  <a href="#//apple_ref/java/instm/EOEvent/info">info</a> to <em>info.</em>  Thenewly allocated event is usually created with the EOEventCentermethod  <a href="EOEventCenter.html#//apple_ref/java/clm/EOEventCenter/newEventOfClass">newEventOfClass</a>.<br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Don'tinvoke this method directly. Use the corresponding method definedin EOEventCenter instead.</td></tr></table><br><hr WIDTH="25%" ALIGN="LEFT"><a name = "CIACECCA"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/parentEvent">parentEvent</a></h3><p><code>public EOEvent <code>parentEvent</code>()</code></p>Returns theparent event, if any, or null otherwise. Events logged at the rootlevel do not have a parent. Other events return the event that wasopen at the time that they were started.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIACCGEH"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/setInfo">setInfo</a></h3><p><code>public void <code>setInfo</code>(Object <em>info</em>)</code></p>Sets the custom event informationfor the receiver. This information is used todisplay event logging information in the WOEventDisplay page. The <em>info</em>  argumentcan be any kind of object that responds to <code>equals</code> and <code>toString</code>.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIABEAII"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/setType">setType</a></h3><p><code>public void <code>setType</code>(String <em>type</em>)</code></p>Sets the receiver's typeto <em>type.</em>  EOEvent's implementationgets the set of available types from a description file. For moreinformation, see the  <a href="#//apple_ref/java/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> methoddescription.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIABDFDJ"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/signatureOfType">signatureOfType</a></h3><p><code>public Object <code>signatureOfType</code>(int <em>tag</em>)</code></p>Returns the requested receiver'ssignature, which can be used to group and aggregate the receiverwith other events that have the same signature. EOEventdefines one signature type,  <a href="#CIAHDADB">EOBasicEventSignature</a>, whichhas the corresponding signature of the form "title - comment".If the specified type is unknown, EOEvent's implementation returns null otherwise.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/clm/EOEvent/aggregateEvents">aggregateEvents</a>,  <a href="#//apple_ref/java/clm/EOEvent/groupEvents">groupEvents</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "CIACIFIH"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/startDate">startDate</a></h3><p><code>public NSGregorianDate <code>startDate</code>()</code></p>Returns thedate at which the receiver was logged. For a non-atomic event, thereturn value is the time at which the event logging began, not whenit ended.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIABHDHE"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/subevents">subevents</a></h3><p><code>public NSArray <code>subevents</code>()</code></p>Returns thereceiver's immediate subevents; that is, the events that werelogged with this event as their parent.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIADGGDH"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/title">title</a></h3><p><code>public String <code>title</code>()</code></p>Returns the event type descriptioncorresponding with the receiver's  <a href="#//apple_ref/java/instm/EOEvent/type">type</a>. The titleis used by the WOEventDisplay. EOEvent's implementation returnsthe value from the  <a href="#//apple_ref/java/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> dictionaryfor the receiver's type. If there isn't an entry in the <code>eventTypeDescriptions</code> dictionaryfor the receiver's type, EOEvent's implementation returns thename of the receiver's class.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIAHBIIB"></a><BR><h3><code><a name="//apple_ref/java/instm/EOEvent/toString">toString</a></code></h3><p><code>public String <code>toString</code>()</code></p>Returns adescription of the receiver. EOEvent's implementation returnsa string that includes the receiver's  <a href="#//apple_ref/java/instm/EOEvent/title">title</a>,  <a href="#//apple_ref/java/instm/EOEvent/comment">comment</a>, and  <a href="#//apple_ref/java/instm/EOEvent/duration">duration</a> or  <a href="#//apple_ref/java/instm/EOEvent/startDate">startDate</a>.<hr WIDTH="25%" ALIGN="LEFT"><a name = "CIABAGGD"></a><BR><h3><a name="//apple_ref/java/instm/EOEvent/type">type</a></h3><p><code>public String <code>type</code>()</code></p>Returns the receiver's type. Usingthe event type definition scheme implemented by EOEvent, the types aredefined in a description file as described in the  <a href="#//apple_ref/java/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> methoddescription.<hr WIDTH="25%" ALIGN="LEFT"><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a></BODY></HTML>