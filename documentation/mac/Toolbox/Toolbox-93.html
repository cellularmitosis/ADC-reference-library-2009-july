<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Menus(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING93></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-92.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-94.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-89.html"><B>Chapter 3 - Menu Manager</B></A> / <A HREF="Toolbox-90.html"><B>Introduction to Menus</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING93-0></A>
<H2>Menus</H2>
 A menu (as defined by the standard menu definition procedure) is a list of menu items arranged vertically and contained in a rectangle. The rectangle is shaded and can extend vertically for the length of the screen. If a menu has more items than will fit on the screen, the standard menu definition procedure adds a downward-pointing triangular indicator to the last item on the screen, and it automatically scrolls through the additional items when the user moves the cursor past the last menu item currently showing on the screen. When the user begins to scroll through the menu, the standard menu definition procedure adds an upward-pointing triangular indicator to the top item on the screen to indicate that the user can scroll the menu back to its original position. <P>
 Each menu can have color information associated with it. If you do not define the colors for your menus in your application's menu color information table, the Menu Manager uses the default colors for your menus and menu bar. The default colors are black text on a white background. In most cases the default colors should meet the needs of your application. <A HREF=Toolbox-218.html#MARKER-9-309>"The Menu Color Information Table Record" on page 3-98</A> and <A HREF=Toolbox-185.html#MARKER-9-730>"The Menu Color Information Table Resource" on page 3-155</A> give information on how you can define colors for your application's menus.<A NAME=MARKER-9-566></A><P>
 Your application's menus can contain any number of menu items. <A HREF=#MARKER-9-79>"Menu Items"</A> <BR>(the next section) describes the visual variations that you can use when defining your menu items.<P>
 You typically define the order and resource IDs of the menus in your application's menu bar in an <CODE>'MBAR'</CODE> resource. You should define your <CODE>'MBAR'</CODE> resource such that the Apple menu is the first menu in the menu bar. You should define the next two menus as the File and Edit menus, followed by any other menus that your application uses. You do not need to define the Keyboard, Help, or Application menus in your <CODE>'MBAR'</CODE> resource; the Menu Manager automatically adds them to your application's menu bar if your application calls the <CODE>GetNewMBar</CODE> function and your menu bar includes an Apple menu or if your application inserts the Apple menu into the current menu list using the <CODE>InsertMenu</CODE> procedure. <P>
 You define the menu title and characteristics of each individual menu item in a <CODE>'MENU'</CODE> resource. <A HREF=Toolbox-98.html#MARKER-9-227>"Creating a Menu Resource" on page 3-45</A> describes the <CODE>'MENU'</CODE> resource in more detail.<P>
 Pop-up menus do not appear in the menu bar but appear elsewhere on the screen. You often use pop-up menus in a dialog box when you want the user to be able to make a selection from a large list of choices. For example, rather than displaying the choices <BR>as a number of radio buttons, you can use a pop-up menu to display the choices at the user's convenience. <P>
 A hierarchical menu refers to either a pull-down or pop-up menu that has a submenu attached to it. (However, you should avoid attaching a submenu to a pop-up menu whenever possible, as this can make the interface more complex and less intuitive to <BR>the user.)<P>
 <A HREF=Toolbox-100.html#MARKER-9-282>"Creating a Pop-Up Menu" on page 3-58</A> gives additional information about pop-up menus, and <A HREF=Toolbox-99.html#MARKER-9-270>"Creating a Hierarchical Menu" on page 3-55</A> describes hierarchical menus in more detail.<P>
<A NAME=HEADING93-9></A>
<H3><A NAME=MARKER-9-79></A>Menu Items</H3>
 A <B>menu item</B> can contain text or can be a line (a <B>divider</B>) separating groups of choices. A divider is always dimmed, and it has no other characteristics associated with it. <A NAME=MARKER-2-125></A><A NAME=MARKER-2-81></A><A NAME=MARKER-2-82></A><P>
 <A NAME=MARKER-2-83></A>Each menu item (other than dividers) can have a number of visual characteristics:<P>
<UL>
<LI>An icon to the left of the menu item's text. If you define an icon for a menu item, use an icon that gives a symbolic representation of the menu item's meaning or effect. You can specify an icon, a small icon, a reduced icon, or a color icon as the icon for a menu item; however, items with small or reduced icons cannot have submenus and cannot be drawn in a script other than the current system script. 
<LI>A checkmark or other marking character to the left of the menu item's text (and to the left of the item's icon, if any). Use such a mark if you need to denote the status of the menu item or the mode it controls. A menu item can have a mark or a submenu, but not both. <A NAME=MARKER-2-85></A>
<LI>The symbol for the Command key (<P>
</UL>
<IMG ALIGN = BOTTOM SRC = "graphics/Command-key_Symbol_Prop.gif"><P>
<UL>
<LI>) and another 1-byte character to the right of the menu item's text (referred to as the <I>keyboard equivalent</I> of a command). Use this if your application allows the user to invoke the menu command from the keyboard by pressing the Command key and one or more other keys in combination, just as if the user had chosen the command from the menu. An item that has a keyboard equivalent cannot have a submenu, a small icon, or a reduced icon and cannot be drawn in a script other than the current system script.
<LI>A triangular indicator to the right of the menu item's text to indicate that the item has a submenu. A menu item that has a submenu cannot have a keyboard equivalent, a marking character, a small icon, or a reduced icon and cannot be drawn in a script other than the current system script.
<LI>A font style--either plain or one of various other styles--for the menu item's text. You can set the menu item's style to bold, italic, underline, outline, shadow, or any combination of these. <A NAME=MARKER-2-86></A>
<LI>The text of the menu item. Choose words for menu items that declare the action that occurs when the user chooses the command (usually verbs, such as Print or Save). You can also use adjectives if the command changes the attribute of a selected object (for example, Bold or Italic). Unless you specify otherwise, the text of menu items appears in the script of the system font and system font size (for Roman scripts, the system font is Chicago and the system font size is 12 points). If you want a menu item's text to appear in a script other than the current system script, you can specify a script code for the text. The Menu Manager draws the item's text in the script identified by the script code if the script for the specified script system is installed. A menu item that is drawn in another script cannot have a submenu, small icon, or reduced icon. <A NAME=MARKER-2-5></A>
<LI>Three ellipsis points (...) as the last character in the text of the menu item. Use ellipses in the text of menu items to indicate that your application displays a dialog box that requests more information from the user before executing the command. Do not use <BR><BR>ellipses in menu items that display informational dialog boxes that do not require additional information from the user. In addition, you should not use ellipses if your application displays a confirmation alert after the user chooses a menu command. For example, if the user makes changes to a document, then chooses the Close command, your application can display a confirmation alert box, asking the user whether the document should be saved before closing. This type of command should not contain ellipses in its text.<P>
If your application displays a dialog box requesting more information in response to the choice of a menu command, do include ellipses in the menu item's text. For example, the Open command includes ellipses in its text because the user must provide additional information: the name of the file to open. When you request more information from the user in a dialog box, you should provide an OK button or its equivalent in the dialog box that the user can select to perform the command. The dialog box should also include a Cancel button or its equivalent so that the user can cancel the command. See the chapter "Dialog Manager" in this book for information on creating dialog boxes.<A NAME=MARKER-9-489></A>
<LI>A dimmed appearance. When your application disables a menu item, the Menu Manager dims the menu item to indicate that the user can't choose it. Note that the Menu Manager dims the entire menu item, including any mark or icon, the menu text, and any keyboard equivalent symbol. Divider lines always have a dimmed appearance, regardless of whether your application enables them or not. When your application disables an entire menu, the Menu Manager dims the menu title and all menu items in that menu.<P>
</UL>
 <A HREF=#MARKER-9-89>Figure 3-5</A> shows two menus with menu items that illustrate many of the characteristics that you can use when defining your menu items.<P>
<B>Figure 3-5  <A NAME=MARKER-9-89></A>Two menus with various characteristics</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-05_MM-03.jpg"><P>
 When the primary line direction is right to left (as is the case for non-Roman script systems such as Arabic) the Menu Manager reverses the order of elements in menu items. For example, any marking character appears to the far right and any keyboard equivalent appears to the far left of the menu item's text.<P>
 On a monitor that is set to display only black and white, the Menu Manager displays dividers as dotted lines. In all other cases, the Menu Manager displays dividers as appropriate, based on the current color table. For example, on a monitor set to display 4-bit color or greater, the Menu Manager typically displays dividers as gray lines.<P>
 Your menu can contain as many menu items as you wish. However, only the first <BR>31 menu items can be individually disabled (all menu items past 31 are always enabled <BR>if the menu is enabled and always disabled if the menu is disabled). If your menu items exceed the length of the screen, the user must scroll to view the additional items. Keep <BR>in mind that the fewer the menu items in a menu, the simpler and clearer the menu is <BR>for the user. <A NAME=MARKER-2-90></A><A NAME=MARKER-2-91></A><P>
<A NAME=HEADING93-29></A>
<H3><A NAME=MARKER-9-92></A>Groups of Menu Items</H3>
 <A NAME=MARKER-9-626></A>The menu items in a particular menu should be logically related to the title of the menu and grouped to provide greater ease of use and understanding to the user. You should separate groups with dividers. <P>
 A menu can contain both commands that perform actions and commands that set attributes. You should use a verb or verb phrase to name commands that perform actions (for example, Cut, Copy, Paste). You should use an adjective to name commands that set attributes of a selected object (for example, Bold, Italic, Underline). You should group menu items by their type: verbs (actions) or adjectives (attributes). Create groups within each type according to the guidelines described here.<P>
 Group action commands that are logically related but independent; this makes your menus easier to read. For example, the Cut, Copy, Paste, Clear, and Select All commands in the Edit menu are grouped together; the Create Publisher, Subscribe To, and Publisher Options commands are grouped together; and the Show Clipboard command is set <BR>off by itself. (<A HREF=#MARKER-9-89>Figure 3-5 on page 3-13</A> shows these commands in the Edit menu of a typical application.)<P>
 Group attribute commands that are interdependent. You typically group a set <BR>of commands that set attributes into either a mutually exclusive group or an accumulating group. <P>
 Group a set of attribute commands together if only one attribute in the group can be in effect at any one time (a mutually exclusive group). Place a checkmark next to the item that is currently in effect. If the user chooses a different attribute in the group, move the checkmark to the newly chosen attribute. For example, <A HREF=#MARKER-9-95>Figure 3-6</A> shows a Colors menu from the SurfWriter application. The colors listed in the Colors menu form a mutually exclusive group because only one color can be in effect at any one time. In this example, green is the color currently in effect. If the user chooses a different color, such as blue, the SurfWriter application uses the <CODE>SetItemMark</CODE> procedure to remove the checkmark from the Green command and to place a checkmark next to the Blue command. <A NAME=MARKER-2-94></A><P>
<B>Figure 3-6  <A NAME=MARKER-9-95></A>Menu items in a mutually exclusive group</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-06_MMS-06.jpg"><P>
 You can also group a set of attribute commands together if a number of the attributes in the group can be in effect at any one time (an accumulating group). In an accumulating group, use checkmarks to indicate that multiple attributes are in effect. In this type <BR>of group, you also need to provide a command that cancels all the other attributes. For example, a Style menu that lets the user choose any combination of font styles should also include a Plain Text command that cancels all the other attributes. <A HREF=#MARKER-9-99>Figure 3-7</A> shows a Style menu; in this example, the Bold and Outline attributes are both in effect. <A NAME=MARKER-2-6></A><A NAME=MARKER-2-308></A><A NAME=MARKER-2-484></A><P>
<B>Figure 3-7  <A NAME=MARKER-9-99></A>Menu items in an accumulating group</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-07_MMS-07.jpg"><P>
 You can also use a combination of checkmarks and dashes to help indicate the state of the user's content. For example, in a menu that reflects the state of a selection, place a checkmark next to an item if the attribute applies to the entire selection; place a dash next to an item if the attribute applies to only part of the selection. <A HREF=#MARKER-9-100>Figure 3-8</A> shows a Style menu that indicates that the selection contains more than one style. In this figure, the Bold attribute applies to the entire selection; the Underline attribute applies to only part of the selection. <P>
<B>Figure 3-8  <A NAME=MARKER-9-100></A>Use of a checkmark and dash in an accumulating group<A NAME=MARKER-2-101></A><A NAME=MARKER-2-527></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-08_MMS-08.jpg"><P>
 Your application should adjust its menus appropriately before displaying its menus. <BR>For example, you should add checkmarks or dashes to items that are attributes as necessary, based on the state of the user's document and according to the type of window that is in the front. See <A HREF=Toolbox-103.html#MARKER-9-397>"Adjusting the Menus of an Application" on page 3-75</A> for more information.<P>
 Another way to show the presence or absence of an attribute is to use a toggled command. Use a toggled command if the attribute has two states and you want to allow the user to move between the two states using a single menu command. For example, your application could provide a Show Borders command when the borders surrounding publishers and subscribers are not showing in a document. When the user chooses the Show Borders command, your application should show the borders and change the menu item to Hide Borders. When the user chooses the Hide Borders command, your application should hide the borders surrounding any publishers or subscribers and change the menu item to Show Borders. Use a toggled command only when the wording of the two versions of the command is not confusing to the user. Choose a verb phrase as the text of a toggled command; the text should clearly indicate the action your application performs when the user chooses the item. See <A HREF=Toolbox-101.html#MARKER-9-297>"Changing the Text of an Item" on page 3-61</A> for further information on providing a toggled command. <A NAME=MARKER-2-104></A><A NAME=MARKER-2-524></A><P>
<A NAME=HEADING93-45></A>
<H3>Keyboard Equivalents for Menu Commands</H3>
 A menu command can have a keyboard equivalent. The term keyboard equivalent refers to a keyboard combination, such as Command-C (<P>
<IMG ALIGN = BOTTOM SRC = "graphics/Command-key_Symbol_Prop.gif"><P>
 -C) or any other combination of the Command key, another key, and one or more modifier keys, that invokes a corresponding menu command when pressed by the user. For example, if your application supports the New command in the File menu, your application should perform the same action when the user presses Command-N as when the user chooses New from the File menu. <A NAME=MARKER-2-93></A><A NAME=MARKER-2-107></A><A NAME=MARKER-2-503></A><A NAME=MARKER-2-538></A><A NAME=MARKER-2-110></A><P>
 The term <B>Command-key equivalent</B> refers specifically to a keyboard equivalent that the user invokes by holding down the Command key and pressing another key (other than a modifier key) at the same time. This generates a keyboard event that specifies a 1-byte character that your application should pass as a parameter to the <CODE>MenuKey</CODE> function. The <CODE>MenuKey</CODE> function maps the given 1-byte character to the menu item (if any) with that Command-key equivalent.<P>
 The Menu Manager provides support for Command-key equivalents. If you define a Command-key equivalent for a menu item, the standard menu definition procedure draws the Command symbol and the specified 1-byte character to the right of the menu item's text (or to the left of the item's text if the primary line direction is right to left). <P>
 You detect a Command-key equivalent of a command by examining the <CODE>modifiers</CODE> field of the event record for a keyboard event. This allows you to determine whether <BR>the Command key was pressed at the same time as the keyboard event. If so, your application typically calls the <CODE>MenuKey</CODE> function, passing as a parameter the character code that represents the key pressed by the user. The <CODE>MenuKey</CODE> function determines if the 1-byte character matches any of the keyboard equivalents defined for your menu items; if so, <CODE>MenuKey</CODE> returns this information to your application. Your application can then perform the associated menu command, if any. See the chapter "Event Manager" in this book for additional information about the <CODE>modifiers</CODE> field of the event record.<P>
 The<DFN> keyboard layout (<CODE>'KCHR'</CODE></DFN>) resource of some keyboards masks or cancels the effect of the Shift key when the Command key is also pressed. For example, with a U.S. keyboard layout, when a user presses Command-S, the character code in the message field of the event record is $73 (the character code for "s"); when a user presses Command-Shift-S, the character code in the message field of the event record is also $73. However, not all <CODE>'KCHR'</CODE> resources mask the Shift key in this way.<A NAME=MARKER-2-520></A><P>
 Furthermore, when your application uses the <CODE>MenuKey</CODE> function to process Command- key equivalents, <CODE>MenuKey</CODE> does not distinguish between uppercase and lowercase letters. The <CODE>MenuKey</CODE> function takes the 1-byte character passed to it and calls the <CODE>UpperText</CODE> procedure (which provides localizable uppercase conversion of the character). Thus, <CODE>MenuKey</CODE> translates any lowercase character to uppercase when comparing a keyboard event to keyboard equivalents. If your application must distinguish between lowercase and uppercase characters for keyboard equivalents, you need to provide your own method for handling such keyboard equivalents.<P>
 The key you specify for a Command-key equivalent must be a 1-byte character and is usually a letter (although you can specify 1-byte characters other than letters). For consistency and to provide greater support for localizing your application, you should always specify any letters for keyboard equivalents in uppercase when you define your application's menu commands.<P>
 If you wish to provide other types of keyboard equivalents in addition to Command-key equivalents, your application must take additional steps to support them. If your application allows the user to hold down more than one modifier key to invoke a keyboard equivalent, your application must provide in the menu item a visual indication that represents this keyboard combination. In most cases your application must use its own method (other than <CODE>MenuKey</CODE>) for mapping the keyboard equivalent to the corresponding menu item.<P>
 If you specify a key other than a letter for a Command-key equivalent or use more than one modifier key for a keyboard equivalent, you should choose keys and keyboard combinations that can be easily localized for other regions. <P>
 If your application uses other keyboard equivalents, you can examine the state of the modifier keys and use the <CODE>KeyTranslate</CODE> function, if necessary, to help map the keyboard equivalent to a particular menu item. See the chapter "Event Manager" in this book for information on the <CODE>KeyTranslate</CODE> function, and see the discussion of <CODE>'KCHR'</CODE> resources in <I><A HREF="../Text/Text-2.html">Inside Macintosh: Text</A></I> for information on how various keyboard combinations map to specific character codes.<P>
 One command that isn't listed in a menu but can be invoked from the keyboard is the Command-period (<P>
<IMG ALIGN = BOTTOM SRC = "graphics/Command-key_Symbol_Prop.gif"><P>
 -.) or Cancel command. You detect a Command-period command in a method similar to the method for detecting other keyboard equivalents--you examine the <CODE>modifiers</CODE> field of a keyboard event to determine whether the Command key was pressed. In this case, however, if the user pressed the period key in addition to the Command key, rather than invoking a menu command your application should cancel the current operation.<P>
 You typically define the Command-key equivalents for your application's menu commands when you define the menu commands in a <CODE>'MENU'</CODE> resource. The Menu Manager displays the Command-key equivalent for a menu command (if it has one) <BR>to the right of the menu item's text (or to the left of the item's text for right-to-left <BR>script systems).<P>
 Apple reserves several keyboard equivalents for common commands. You should use these keyboard equivalents for commands in the File and Edit menus of your application.<P>
 <A HREF=#MARKER-9-114>Table 3-1</A> show the keyboard equivalents for standard commands. <A NAME=MARKER-2-90></A><A NAME=MARKER-2-170></A><P>
<B>Table 3-1  <A NAME=MARKER-9-114></A><B>Table 3-1 Reserved keyboard equivalents for all systems</B> 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Keys<TH>Command<TH>Menu<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-A<TD>Select All<TD>Edit<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-C<TD>Copy<TD>Edit<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-N<TD>New<TD>File<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-O<TD>Open...<TD>File<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-P<TD>Print...<TD>File<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-Q<TD>Quit<TD>File<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-S<TD>Save<TD>File<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-V<TD>Paste<TD>Edit<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-W<TD>Close<TD>File<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-X<TD>Cut<TD>Edit<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-Z<TD>Undo<TD>Edit</TABLE>
</B><P>
<DL>
<DT><B>Note</B>
<DD>You should use the keyboard equivalents Z, X, C, and V for the editing commands Undo, Cut, Copy, and Paste in order to provide support for editing in desk accessories and dialog boxes.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 Apple also reserves several keyboard equivalents for use with worldwide versions of system software, localized keyboards, and keyboard layouts. <A HREF=#MARKER-9-117>Table 3-2</A> shows these keyboard equivalents. Your application should not use the keyboard equivalents listed in <A HREF=#MARKER-9-117>Table 3-2</A> for its own menu commands.<P>
 See <I><A HREF="../Text/Text-2.html">Inside Macintosh: Text</A></I> for more discussion of handling keyboard equivalents in other script systems. <A NAME=MARKER-2-115></A><P>
 The key combinations listed in <A HREF=#MARKER-9-114>Table 3-1</A> and <A HREF=#MARKER-9-117>Table 3-2</A> are reserved across all applications. Even if your application doesn't support one of these menu commands, it shouldn't use these keyboard equivalents for another command. This guideline is for the user's benefit. Reserving these key combinations provides guaranteed, predictable behavior across all applications. <A NAME=MARKER-2-122></A><P>
<B>Table 3-2  <A NAME=MARKER-9-117></A><B>Table 3-2 Reserved keyboard equivalents for worldwide systems</B>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Keys<TH>Action<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-Space bar<TD>Rotate through enabled script systems <TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-Option-Space bar<TD>Rotate through keyboard layouts or input methods within the active script system<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-modifier key-Space bar<TD>Reserved<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-Right arrow<TD>Change keyboard layout to the current keyboard layout of the Roman script<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-Left arrow<TD>Change keyboard layout to the current keyboard layout of the system script </TABLE>
</B><P>
 <A HREF=#MARKER-9-120>Table 3-3</A> shows other common keyboard equivalents. These keyboard equivalents are secondary to the standard keyboard equivalents listed in <A HREF=#MARKER-9-114>Table 3-1</A> and <A HREF=#MARKER-9-117>Table 3-2</A>. If your application doesn't support one of the functions in <A HREF=#MARKER-9-120>Table 3-3</A>, then you can use the equivalent as you wish. <A NAME=MARKER-2-200></A><A NAME=MARKER-2-119></A><P>
<B>Table 3-3  <A NAME=MARKER-9-120></A><B>Table 3-3 Other common keyboard equivalents</B> 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Keys<TH>Command<TH>Menu<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-B<TD>Bold<TD>Style<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-F<TD>Find<TD>File<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-G<TD>Find Again<TD>File<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-I<TD>Italic<TD>Style<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-T<TD>Plain Text<TD>Style<TR>
<TD>&nbsp;<P>graphics/Command-key_Symbol_Prop.gif<P>-U<TD>Underline<TD>Style</TABLE>
</B><P>
 You shouldn't assign keyboard equivalents to infrequently used menu commands. Only add keyboard equivalents for the commands that your users employ most frequently. <A NAME=MARKER-2-175></A><A NAME=MARKER-2-516></A><A NAME=MARKER-2-517></A><A NAME=MARKER-2-124></A><P>
<A NAME=HEADING93-73></A>
<H3>Menus Added Automatically by the Menu Manager</H3>
 In System 7, the Menu Manager may add as many as three additional menus to your application's menu bar: the Help menu, the Keyboard menu, and the Application menu. These menus provide access to system features such as Balloon Help, keyboard layouts, and application switching. All three of these menus have icons as titles and are positioned at the right side of the menu bar. (These menus are sometimes referred to as the <I>system-handled menus</I>.)<A NAME=MARKER-2-125></A><A NAME=MARKER-2-547></A><A NAME=MARKER-9-183></A><P>
 The Menu Manager automatically inserts these additional menus in your application's current menu list when your application inserts an Apple menu into its menu bar. In this case, the Menu Manager always displays the Application menu, displays the Help menu if space is available, and displays the Keyboard menu if multiple script systems are installed and space is available. The Menu Manager also displays the Keyboard menu if the <CODE>smfShowIcon</CODE> bit is set in the<DFN> flag</DFN>s byte of the <CODE>'itlc'</CODE> resource. <P>
 The Help menu icon or both the Help menu icon and the Keyboard menu icon disappear from the menu bar if your application inserts a menu whose title extends into the space occupied by one or both of those icons. This allows your application to reclaim any space in the menu bar that would have been occupied by one or both of those two menu icons, if necessary. However, if your application inserts a menu whose title is long enough to overlap space occupied by the Application menu icon, the overlapping portion of that title disappears behind the Application menu icon. The Application menu icon is always displayed in the menu bar. <P>
 Because the Menu Manager inserts the Help, Keyboard, and Application menus into your application's current menu bar, you should not make any assumptions about the last menu (or menus) in your menu bar. Apple also reserves the right to add other system-handled menus to your application's menu bar; for compatibility you should define your menu bar such that there is room for the Help, Keyboard, and Application menus and at least one additional system-handled menu.<P>
 Your application does not need to take any action if the user chooses an item from the Keyboard or Application menu; the Menu Manager performs any appropriate actions for these two menus. If the user chooses an item that your application added to the Help menu, your application should perform the corresponding action. <P>
 The following sections describe the Help, Keyboard, and Application menus in more detail, and they also describe other menus in a typical application, including the Apple, File, and Edit menus.<P>
<A NAME=HEADING93-80></A>
<H3>The Apple Menu</H3>
 <A NAME=MARKER-9-324></A>You should define the Apple menu as the first menu in your application. The title of the Apple menu is the Apple icon. The Apple menu of an application typically provides an About command as the first menu item, followed by a divider, which is followed by a list of all desktop objects contained in the Apple Menu Items folder. (The phrase <I>desktop objects</I> refers to applications, desk accessories, documents, folders, and any other item that can reside in the Apple Menu Items folder.) The items following the divider in the Apple menu are listed in alphabetical order. Each item below the divider lists a desktop object and the small icon for that object. <A NAME=MARKER-2-139></A><A NAME=MARKER-2-130></A><P>
 <A HREF=#MARKER-9-135>Figure 3-9</A> shows the Apple menu for the SurfWriter application as it might appear on a particular user's system.<A NAME=MARKER-2-114></A><P>
 To create the items in your application's Apple menu, define the Apple menu title, the characteristics of your application's About command, and the divider following it in a <CODE>'MENU'</CODE> resource.<A NAME=MARKER-2-123></A><P>
 To insert the items contained in the Apple Menu Items folder into your application's Apple menu, use the <CODE>AppendResMenu</CODE> or <CODE>InsertResMenu</CODE> procedure and specify <CODE>'DRVR'</CODE> as the resource type to add in the parameter <CODE>theType</CODE>. If you do this, these procedures automatically add all items in the Apple Menu Items folder in alphabetical order to the specified menu. <A NAME=MARKER-2-404></A><A NAME=MARKER-2-125></A><P>
<B>Figure 3-9  <A NAME=MARKER-9-135></A>The Apple menu for the SurfWriter application</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-09_MMS-09.jpg"><P>
<DL>
<DT><B>Note</B>
<DD>The Apple Menu Items folder is available in System 7 and later. In System 6, the <CODE>AppendResMenu</CODE> and <CODE>InsertResMenu</CODE> procedures add only the desk accessories in the System file to the specified menu when you specify <CODE>'DRVR'</CODE> as the resource type to add in the parameter <CODE>theType</CODE>. <EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 The user can place any desktop object in the Apple Menu Items folder. When the user places an item in this folder, the system software automatically adds it to the list of items in the Apple menu of all open applications. <A NAME=MARKER-2-33></A><P>
 When the user chooses an item other than your application's About command from <BR>the Apple menu, your application should call the <CODE>OpenDeskAcc</CODE> function. The <CODE>OpenDeskAcc</CODE> function prepares to open the desktop object chosen by the user; for example, if the user chooses the Alarm Clock desk accessory, the <CODE>OpenDeskAcc</CODE> function prepares to open the Alarm Clock. The <CODE>OpenDeskAcc</CODE> function schedules the Alarm Clock desk accessory for execution and returns to your application. On your application's next call to <CODE>WaitNextEvent</CODE>, it receives a suspend event, and then <BR>the Alarm Clock desk accessory becomes the foreground process.<A NAME=MARKER-2-137></A><P>
 If the user chooses a desktop object other than a desk accessory or an application, the <CODE>OpenDeskAcc</CODE> function also takes the appropriate action. For example, as shown in <A HREF=#MARKER-9-135>Figure 3-9</A>, if the user chooses a document called MyTideReport created by the SurfWriter application, the <CODE>OpenDeskAcc</CODE> function prepares to open the SurfWriter application (if it isn't already open) and schedules the SurfWriter application for execution. The SurfWriter application is instructed to open the MyTideReport document when it becomes the foreground process.<P>
 <A NAME=MARKER-2-138></A>When the user chooses your application's About command, your application can <BR>display a dialog box or an alert box that contains your application's name, version number, copyright information, or other information as necessary. Your application should provide an OK button in the dialog box; the user clicks the OK button to close <BR>the dialog box.<A NAME=MARKER-2-139></A><P>
 <A HREF=#MARKER-9-140>Figure 3-10</A> shows the alert box that the SurfWriter application displays when the user chooses the About command from the application's Apple menu.<P>
<B>Figure 3-10  <A NAME=MARKER-9-140></A>Choosing the About command of the SurfWriter application <A NAME=MARKER-2-7></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-10_MM-10.jpg"><P>
 If your application provides any application-specific Help commands, place these in the Help menu, not the Apple menu. <P>
<A NAME=HEADING93-96></A>
<H3>The File Menu</H3>
 The standard File menu contains commands related to managing documents. For example, the user can open, close, save, or print documents from this menu. The user should also be able to quit your application by choosing Quit from the File menu.<P>
 Your application should support the menu commands of the standard File menu. If you add other commands to your application's File menu, they should pertain to managing <BR>a document.<P>
 <A HREF=#MARKER-9-143>Figure 3-11</A> shows the standard File menu for applications. <A NAME=MARKER-2-202></A><P>
<B>Figure 3-11  <A NAME=MARKER-9-143></A>The standard File menu for an application</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-11_MMS-11.jpg"><P>
 <A HREF=#MARKER-9-144>Table 3-4</A> describes the standard commands in the File menu and the actions your application should take when a user chooses them.<P>
<B>Table 3-4  <A NAME=MARKER-9-144></A><B>Table 3-4 Actions for standard File menu commands</B>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Command<TH>Action<TR>
<TD>New<TD>Open a new, untitled document. <A NAME=MARKER-2-1></A><A NAME=MARKER-2-2></A><TR>
<TD>Open...<TD>Display the Open dialog box using the Standard File Package. <A NAME=MARKER-2-3></A><A NAME=MARKER-2-4></A><TR>
<TD>Close<TD>Close the active window (which may be a document window, modeless dialog box, or other type of window). If the active window is a document and the document has been changed since the last save, display a dialog box asking the user if the document should be saved before closing. <A NAME=MARKER-2-5></A><A NAME=MARKER-2-6></A><TR>
<TD>Save<TD>Save the active document to a disk, including any changes made to that document since the last time it was saved. If the user chooses Save for a new untitled document (one that the user hasn't named yet), display the Save dialog box using the Standard File Package. <A NAME=MARKER-9-257></A><A NAME=MARKER-2-8></A><TR>
<TD>Save As...<TD>Save a copy of the active document under a new name provided by the user. Display the Save dialog box using the Standard File Package. After your application saves the document, the document should remain open and active. <A NAME=MARKER-2-9></A><A NAME=MARKER-2-10></A><TR>
<TD>Page Setup...<TD>Display the Page Setup dialog box to let the user specify printing parameters such as the paper size and printing orientation. Your application can provide other printing options as appropriate. Your application should save the user's Page Setup printing preferences for the document when the user saves the document. <A NAME=MARKER-2-11></A><A NAME=MARKER-2-12></A><TR>
<TD>Print...<TD>Display the Print job dialog box to let the user specify various parameters, such as print quality and number of copies. Print the document if the user clicks the Print button. The options specified in the Print dialog box apply to only the current printing operation, and your application should not save these settings with the document or restore the settings when the user chooses Print again.<A NAME=MARKER-2-13></A><A NAME=MARKER-2-14></A><TR>
<TD>Quit<TD>Quit your application after performing any necessary cleanup operations. If any open documents have been changed since the user last saved them, display the Save dialog box once for each open document that requires saving. If any background or lengthy operation is still in progress, notify the user, giving the user the option to continue and not quit the application.<A NAME=MARKER-2-15></A><A NAME=MARKER-2-16></A></TABLE>
</B><P>
 See <I>Macintosh Human Interface Guidelines</I> for additional commands that you can provide in the File menu. See the chapter "Introduction to File Management" in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I> for information on how to perform the actions associated with the commands in the File menu. See the chapter "Standard File Package" in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I> for information on the standard file dialog boxes. See the chapter "Printing Manager" in <I>Inside Macintosh: Imaging</I> for information on displaying the Page Setup and Print job dialog boxes.<P>
 The New, Open, Close, Save, Print, and Quit commands have the keyboard equivalents shown in <A HREF=#MARKER-9-143>Figure 3-11 on page 3-28</A>. These keyboard equivalents are reserved for these menu commands; do not assign these keyboard equivalents to any menu command other than the ones shown in <A HREF=#MARKER-9-143>Figure 3-11</A>.<A NAME=MARKER-9-600></A><P>
<A NAME=HEADING93-106></A>
<H3>The Edit Menu</H3>
 The standard Edit menu provides commands that let users change or edit the contents of their documents. It also provides commands that allow users to share data within and between documents created by different applications using editions or the Clipboard. All Macintosh applications should support the Undo, Cut, Copy, Paste, and Clear commands. Use these commands to provide standard text-editing abilities in your application. <A NAME=MARKER-2-203></A><A NAME=MARKER-9-597></A><P>
 <A HREF=#MARKER-9-148>Figure 3-12</A> shows the standard Edit menu supported by Macintosh applications.<P>
<B>Figure 3-12  <A NAME=MARKER-9-148></A>The standard Edit menu for an application</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-12_MMS-12.jpg"><P>
 The standard editing commands (Undo, Cut, Copy, Paste, and Clear) in your application's Edit menu should appear in the order shown in <A HREF=#MARKER-9-148>Figure 3-12</A>. Whenever possible, you should add an additional word or phrase to clarify what action your application will reverse when the user chooses the Undo command. For example, <BR><A HREF=#MARKER-9-148>Figure 3-12</A> shows an application's Edit menu that uses the phrase Undo Typing when typing was the last action performed by the user. If your application can't undo the last operation, you should change the text of the Undo command to Can't Undo and disable the menu item. See <A HREF=Toolbox-101.html#MARKER-9-297>"Changing the Text of an Item" on page 3-61</A> for an example of how to change the text of a menu item. <A NAME=MARKER-2-149></A><P>
 You can include other commands in your application's Edit menu if they're related to editing or changing the content of your application's documents. If you add commands to the Edit menu, add them after the standard menu commands. For example, if appropriate, your application should support a Select All command. If your application supports both the Clear and Select All commands, they should appear in the order shown in <A HREF=#MARKER-9-148>Figure 3-12</A>.<P>
 <A HREF=#MARKER-9-150>Table 3-5</A> describes the standard commands in the Edit menu and the actions your application should take when a user chooses them.<P>
<B>Table 3-5  <A NAME=MARKER-9-150></A><B>Table 3-5 Actions for standard Edit menu commands</B>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Command<TH>Action<TR>
<TD>Undo<TD>Reverse the effect of the previous operation. You should add the name of the last operation to the Undo command. For example, change the item to read Undo Typing if the user just finished entering some text in a document. If your application cannot undo the previous operation, disable this menu item and change the phrase to Can't Undo. <A NAME=MARKER-2-17></A><A NAME=MARKER-2-486></A><A NAME=MARKER-2-206></A><TR>
<TD>Cut<TD>Remove the data in the current selection, if any. Store the cut selection in the scrap (on the Clipboard). This replaces the previous contents of the scrap. <A NAME=MARKER-2-328></A><A NAME=MARKER-2-21></A><TR>
<TD>Copy<TD>Copy the data in the current selection, if any. Copy the selection to the scrap (the Clipboard). This replaces the previous contents of the scrap. <A NAME=MARKER-2-22></A><A NAME=MARKER-2-23></A><TR>
<TD>Paste<TD>Paste the data from the scrap at the insertion point; this replaces any current selection. <A NAME=MARKER-9-440></A><A NAME=MARKER-2-25></A><TR>
<TD>Clear<TD>Remove the data in the highlighted selection; do not copy the data to the scrap (Clipboard). <A NAME=MARKER-2-26></A><A NAME=MARKER-2-27></A><TR>
<TD>Select All<TD>Highlight all data in the document. <A NAME=MARKER-2-318></A><A NAME=MARKER-2-317></A><TR>
<TD>Create Publisher...<TD>Display the Create Publisher dialog box (using the Edition Manager). Create an edition based on the selected data if the user clicks the Publish button. <A NAME=MARKER-2-326></A><A NAME=MARKER-2-142></A><TR>
<TD>Subscribe To...<TD>Display the Subscribe To dialog box (using the Edition Manager). Allow the user to insert data from an edition if the user clicks the Subscribe button. <A NAME=MARKER-2-224></A><A NAME=MARKER-2-301></A><TR>
<TD>Publisher Options...<TD>Display the Publisher Options dialog box (using the Edition Manager) and allow the user to set or change options associated with the publisher. Change this menu item to Subscriber Options if the current selection includes a subscriber. When the user chooses the Subscriber Options command, display the Subscriber Options dialog box. <A NAME=MARKER-2-302></A><A NAME=MARKER-9-325></A><TR>
<TD>Show Clipboard<TD>Display the contents of the Clipboard in a window. Change <BR>this item to Hide Clipboard when the Clipboard window is showing. When the user chooses Hide Clipboard, hide the window displaying the Clipboard contents and change the menu item to Show Clipboard. <A NAME=MARKER-2-36></A><A NAME=MARKER-2-37></A><A NAME=MARKER-2-38></A><A NAME=MARKER-2-39></A><A NAME=MARKER-2-40></A></TABLE>
</B><P>
 The Undo, Cut, Copy, Paste, and Select All commands have the keyboard equivalents shown in <A HREF=#MARKER-9-148>Figure 3-12 on page 3-30</A>. These keyboard equivalents are reserved for these menu commands; do not assign these keyboard equivalents to any menu command other than the ones shown in <A HREF=#MARKER-9-148>Figure 3-12</A>. See the chapter "Scrap Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I> for information on copying data to and from the scrap. See the chapter "Edition Manager" in <I><A HREF="../IAC/IAC-2.html">Inside Macintosh: Interapplication Communication</A></I> for information on supporting the Create Publisher, Subscribe To, and Publisher Options commands in your application.<A NAME=MARKER-9-360></A><P>
<A NAME=HEADING93-116></A>
<H3>The Font Menu</H3>
 You can provide a Font menu to allow the user to choose text fonts. A <DFN>font</DFN> is a complete set of characters created in one typeface and font style. The characters in a font can appear in many different point sizes, but all have the same design elements. <A NAME=MARKER-2-11></A> <P>
 You should list the names of all currently available fonts in your application's Font menu. The currently available fonts are those fonts residing in the Fonts folder of the user's System Folder (or in earlier versions of system software, in the user's System file).<A NAME=MARKER-2-153></A><P>
 You add fonts to the Font menu using the <CODE>AppendResMenu</CODE> or <CODE>InsertResMenu</CODE> procedure. These two procedures add items to the specified menu in alphabetical order. <P>
 The user can install a large number of fonts and thereby create a very large Font menu. Therefore, you should never include other items in the Font menu. Use separate menus to accommodate lists of attributes such as style and size choices.  You can also provide a Size menu to allow the user to choose a specific point size of a font; the next section describes the Size menu.<P>
 <A HREF=#MARKER-9-154>Figure 3-13</A> shows a typical Font menu. Your application should indicate which typeface is in use by adding a checkmark to the left of the name of the current font. In <A HREF=#MARKER-9-154>Figure 3-13</A>, the application has placed a checkmark next to Palatino to indicate that Palatino<Superscript>\xC6<EM></EM> is the current font. When the user starts entering text at the insertion point, your application should display text in the current font. <P>
<B>Figure 3-13  <A NAME=MARKER-9-154></A>A typical Font menu </B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-13_MMS-13.jpg"><P>
 In the Font menu, you can use dashes to indicate that the selection contains more than one font. (Place a checkmark next to an item if the entire selection contains only one font.) If the current selection contains more than one font, place a dash next to the name of each font that the selection contains. See <A HREF=Toolbox-101.html#MARKER-9-313>"Changing the Mark of Menu Items" on page 3-63</A> for information on adding dashes and checkmarks to a menu item.<P>
 <A HREF=#MARKER-9-155>Figure 3-14</A> shows the use of dashes to indicate that a selection contains more than one font. In this figure, part of the selection contains a Helvetica<Superscript>\xC6<EM></EM> font and part of the selection contains a Palatino font. <P>
<B>Figure 3-14  <A NAME=MARKER-9-155></A>A Font menu showing a selection containing more than one font</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-14_MMS-14.jpg"><P>
 The <CODE>AppendResMenu</CODE> and <CODE>InsertResMenu</CODE> procedures can recognize when an added font resource is associated with a script other than the current system script (non-Roman fonts have font numbers greater than $4000). The Menu Manager displays a font name in its corresponding script if the script system for that font is installed.<P>
 You can choose to provide a Size menu and a Style menu in addition to a Font menu. <BR>If you do so, these three menus typically appear in the order Font, Size, Style in <BR>most applications.<A NAME=MARKER-2-156></A><P>
<A NAME=HEADING93-130></A>
<H3>The Size Menu</H3>
 Your application can provide a Size menu to allow the user to choose sizes for fonts. Font sizes are measured in points. A point is a typographical unit of measure equivalent (on Macintosh computers) to 1/72 of an inch. <A NAME=MARKER-2-579></A><P>
 Your application should indicate the current point size by adding a checkmark to the menu item of the current size. You can use dashes if the selection contains more than one point size. <A NAME=MARKER-2-159></A><P>
 System 7 supports both bitmapped and TrueType fonts. TrueType fonts can be displayed in a wider range of point sizes, for example, 12 points, 51 points, 156 points, 578 points, or greater. Your application should not provide an upper limit for font sizes. <A NAME=MARKER-2-25></A><P>
 In the Size menu, your application should outline font sizes to indicate which sizes are directly provided by the current font. If the user chooses a TrueType font, outline all sizes of that font in the Size menu. If the user chooses a bitmapped font, outline only those sizes that appear in the Fonts folder. Use plain type for all other font sizes. See the chapter "Font Manager" in <I><A HREF="../Text/Text-2.html">Inside Macintosh: Text</A></I> for additional information on supporting fonts in your application.<P>
 <A HREF=#MARKER-9-161>Figure 3-15</A> shows a typical Size menu of an application.<P>
<B>Figure 3-15  <A NAME=MARKER-9-161></A>A typical Size menu</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-15_MMS-15.jpg"><P>
 <A NAME=MARKER-9-540></A><A NAME=MARKER-2-163></A>Your application should also provide a method that allows users to choose any point size. You can add an Other command to the end of the Size menu for this purpose. When the user chooses this command, display a dialog box that allows the user to choose any available font size. You can include an editable text item in which the user can type the desired font size. <A HREF=#MARKER-9-164>Figure 3-16</A> shows a dialog box an application might display when the user chooses the Other command from the Size menu.<P>
<B>Figure 3-16  <A NAME=MARKER-9-164></A>A dialog box to select a new point size for a font</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-16_MMS-16.jpg"><P>
 <A HREF=#MARKER-9-165>Figure 3-17</A> shows the Other dialog box after the user has entered a new font size<BR>of 31.<P>
<B>Figure 3-17  <A NAME=MARKER-9-165></A>Entering a new point size for a font</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-17_MMS-17.jpg"><P>
 If the user enters a font size not currently in the menu, your application should add a checkmark to the Other menu command and include the font size as part of the text of the Other command. You should show the font size in parentheses after the text Other, <BR>as shown in <A HREF=#MARKER-9-166>Figure 3-18</A>. <P>
<B>Figure 3-18  <A NAME=MARKER-9-166></A>The Other command with a font size added to it</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-18_MMS-18.jpg"><P>
 If a selection contains more than one nonstandard size, you should include the text Mixed in parentheses following the word Other. In this case leave the editable text field of the Other dialog box blank when the user chooses the Other (Mixed) command. <A NAME=MARKER-2-167></A><P>
 See <A HREF=Toolbox-104.html#MARKER-9-433>"Handling a Size Menu" on page 3-84</A> for more information on how to respond to the user's choice of a command from the Size menu. See the chapter "Dialog Manager" for information on creating a dialog box.<A NAME=MARKER-2-168></A><A NAME=MARKER-2-483></A><P>
<A NAME=HEADING93-149></A>
<H3>The Help Menu</H3>
 The Help menu is specific to each application, just as the Apple, File, and Edit menus are. The Help menu items defined by the Help Manager are common to all applications and give the user access to Balloon Help. <A NAME=MARKER-2-26></A><P>
 You can add menu items to your application's Help menu to give your users access <BR>to any online help that your application supplies in addition to help balloons. If you currently provide your users with help information when they choose the About command from the Apple menu, you should instead append a command for your own help to the Help menu. This gives users one consistent place to obtain help information.<P>
 When adding your own items to the Help menu, include the name of your application in the command so that users can easily determine which application the help relates to.<P>
 <A HREF=#MARKER-9-172>Figure 3-19</A> shows the Help menu for the SurfWriter application. This application appends one item to the end of the standard Help menu: SurfWriter Help. When the <BR>user chooses this item, the application provides access to any application-specific <BR>help information. <A NAME=MARKER-2-171></A><P>
<B>Figure 3-19  <A NAME=MARKER-9-172></A>The Help menu of the SurfWriter application</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-19_MMS-19.jpg"><P>
 You add items to the Help menu by using the <CODE>HMGetHelpMenuHandle</CODE> function and the <CODE>AppendMenu</CODE> procedure. Apple reserves the right to change the number of standard items in the Help menu. You should always append any additional items to the end. See <A HREF=Toolbox-102.html#MARKER-9-353>"Adding Items to the Help Menu" on page 3-69</A> for specific examples.<P>
 The user turns Balloon Help on or off by choosing Show Balloons or Hide Balloons from the Help menu. The Help Manager automatically enables or disables Balloon Help when the user chooses Show Balloons or Hide Balloons from the Help menu. The setting of help is global and affects all applications.<P>
 When the user turns on Balloon Help, the Help Manager displays small help balloons as the user moves the cursor over areas such as scroll bars, buttons, menus, or rectangular areas in windows or dialog boxes that have help information associated with them. <BR><B>Help balloons</B> are rounded-rectangle windows that contain explanatory information for the user. <P>
 The Help Manager provides help balloons for the menu titles of the Apple, Help, Application, and Keyboard menus. The Help Manager also provides help balloons for menu items in the Application and Keyboard menus, for any item from the Apple Menu Items folder in the Apple menu, and for the standard items in the Help menu. The Help Manager provides these help balloons only if your application uses the standard menu definition procedure.<P>
 Your application should provide the content of help balloons for all other menu items and menus in your application.<P>
 <A HREF=#MARKER-9-173>Figure 3-20</A> shows the default help balloons for the Apple menu title and Application menu title.<P>
<B>Figure 3-20  <A NAME=MARKER-9-173></A>Default help balloons for the Apple menu and Application menu</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-20_MMS-23.jpg"><P>
 <A HREF=#MARKER-9-174>Figure 3-21</A> shows help balloons for an application's Cut command when it is enabled and when it is disabled.<P>
<B>Figure 3-21  <A NAME=MARKER-9-174></A>Help balloons for different states of the Cut command</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-21_MMS-24.jpg"><P>
 Your application can provide the content for help balloons for your menus and menu items. You define the help balloons for your application using <CODE>'hmmu'</CODE> resources. <A NAME=MARKER-2-175></A><P>
 For information on how to define the help balloons for your application's menus <BR>in <CODE>'hmmu'</CODE> resources, see the chapter "Help Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>.<A NAME=MARKER-2-176></A><P>
<A NAME=HEADING93-169></A>
<H3>The Keyboard Menu</H3>
 The Keyboard menu displays a list of all the keyboard layouts and input methods that are available for each enabled script system. Each script system has at least one keyboard layout or input method associated with it. If only the Roman script system and the U.S. keyboard layout are available, the Menu Manager does not add the Keyboard menu (unless the <CODE>smfShowIcon</CODE> bit is set in the<DFN> flag</DFN>s byte of the <CODE>'itlc'</CODE> resource). If the user's system includes an additional script system or includes additional keyboard layouts for the Roman script system and the <CODE>smfShowIcon</CODE> bit is set in the <CODE>'itlc'</CODE> resource, the Menu Manager adds the Keyboard menu to your application's menu <BR>bar as long as your application's menu bar includes an Apple menu. The Menu <BR>Manager adds the Keyboard menu to the right of the Help menu and to the left of the <BR>Application menu.<A NAME=MARKER-9-202></A><A NAME=MARKER-2-178></A><A NAME=MARKER-2-179></A><A NAME=MARKER-2-180></A><A NAME=MARKER-2-181></A><P>
 <A HREF=#MARKER-9-182>Figure 3-22</A> shows a Keyboard menu as it might appear on a particular user's system. System software groups the items in the Keyboard menu by their script systems. For example, in <A HREF=#MARKER-9-182>Figure 3-22</A> seven script systems are shown: Arabic, Roman, Cyrillic, Hebrew, Thai, Japanese, and Korean. Two keyboard layouts are available in the user's system for the Arabic script system, two keyboard layouts for the Roman script system, one keyboard layout for the Cyrillic script system, two keyboard layouts for the Hebrew script system, three keyboard layouts for the Thai script system, two input methods for the Japanese script system, and one input method for the Korean script system. <P>
<B>Figure 3-22  <A NAME=MARKER-9-182></A>Accessing the Keyboard menu from an application</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-22_MM-05.jpg"><P>
 When the user chooses an item from the Keyboard menu, the Menu Manager handles it appropriately. For example, if the user chooses a different keyboard layout in a different script, the Menu Manager changes the current keyboard layout and script system to the item chosen by the user. See <I><A HREF="../Text/Text-2.html">Inside Macintosh: Text</A></I> for further information on supporting text and handling text in multiple scripts in your application.<A NAME=MARKER-2-183></A><A NAME=MARKER-9-334></A><P>
<A NAME=HEADING93-175></A>
<H3>The Application Menu</H3>
 The Application menu is the menu farthest to the right in the menu bar; the Application menu contains the icon of the active application or desk accessory for its menu title. <A NAME=MARKER-2-572></A><P>
 The Menu Manager automatically appends the Application menu to your application's menu bar if your menu bar includes an Apple menu. <P>
 When the user chooses an item from the Application menu, the Menu Manager handles the event as appropriate. For example, if the user chooses the Hide Others command, the Menu Manager hides the windows of all other open applications. If the user chooses another application from the Application menu, the Menu Manager sends your application a suspend event. Your application receives the suspend event the next time it calls <CODE>WaitNextEvent</CODE>, and your application is switched out after handling the suspend event. (See the chapter "Event Manager" in this book for information about responding to suspend and resume events.) <A NAME=MARKER-2-186></A><A NAME=MARKER-9-181></A><P>
 <A HREF=#MARKER-9-189>Figure 3-23</A> shows the Application menu for the SurfWriter application as it appears when both SurfWriter and TeachText are open and the user is currently interacting with SurfWriter. The checkmark next to the menu item showing SurfWriter's icon indicates that SurfWriter is the active application.<A NAME=MARKER-2-188></A><P>
<B>Figure 3-23  <A NAME=MARKER-9-189></A>SurfWriter's Application menu</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-23_MMS-40.jpg"><P>
<A NAME=HEADING93-182></A>
<H3>Pop-Up Menus</H3>
 <A NAME=MARKER-2-181></A><A NAME=MARKER-2-191></A>You can use pop-up menus to present the user with a list of choices in a dialog box or window. Pop-up menus are especially useful in dialog boxes that require the user to select one choice from a list of many or to set a specific value.<P>
 In System 7, the standard pop-up menu is implemented by a control definition function. This section explains how the standard pop-up control definition function provides support for pop-up menus. The chapter "Control Manager" in this book explains controls in detail. <A NAME=MARKER-2-192></A><P>
 A pop-up menu appears as a rectangle with a one-pixel border and a one-pixel drop shadow. Pop-up menus are identified by a downward-pointing triangle that appears <BR>in the pop-up box. The title of the pop-up menu appears next to the pop-up box. <BR><A HREF=#MARKER-9-193>Figure 3-24</A> shows a pop-up menu.<P>
<B>Figure 3-24  <A NAME=MARKER-9-193></A>A pop-up menu</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-24_MM-04.jpg"><P>
 To display a pop-up menu, the user presses the mouse button while the cursor is over the pop-up title or pop-up box. If the pop-up menu is in a dialog box and your application uses the Dialog Manager, the Dialog Manager uses the pop-up control definition function to display the pop-up menu and to handle all user interaction in the pop-up menu. If the pop-up menu is in one of your application's windows, your application needs to determine which control the cursor was in when the user pressed the mouse button. Your application can then use the Control Manager routines to display the pop-up menu and to handle user interaction in the control.<P>
 Just like <CODE>MenuSelect</CODE>, the pop-up control definition function highlights the pop-up menu title and highlights menu items appropriately as the user drags the cursor through the menu items. The pop-up control definition function also highlights the default (current) menu item when the pop-up menu is first displayed and adds the checkmark to the menu item. Once the user releases the mouse button, the pop-up control definition function causes the chosen item (if any) to blink, unhighlights the menu title, changes the text in the pop-up box, and stores the item number of the chosen item as the value of the control. Your application can use the Control Manager function <CODE>GetControlValue</CODE> to get the menu item chosen by the user.<A NAME=MARKER-2-528></A><P>
 <A HREF=#MARKER-9-195>Figure 3-25</A> shows a pop-up menu in its closed state (as it appears initially to the user) and its open state (as it appears when the user presses the mouse button while the cursor is in the pop-up menu).<P>
<B>Figure 3-25  <A NAME=MARKER-9-195></A>A pop-up menu in its closed and open states </B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-25_MMS-25.jpg"><P>
 If you don't provide a title for a pop-up menu, the current menu item serves as the title. In most cases you should create pop-up menus that have titles. Choose a title that reflects the contents of the menu or indicates the purpose of the menu.<P>
 <A HREF=#MARKER-9-196>Figure 3-26</A> shows the process of a user making a selection from a pop-up menu.<P>
<B>Figure 3-26  <A NAME=MARKER-9-196></A>Making a selection from a pop-up menu</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-26_MMS-26.jpg"><P>
 In step 1 in <A HREF=#MARKER-9-196>Figure 3-26</A>, the user presses the mouse button while the cursor is over the pop-up box. When this occurs, your application can use the Dialog Manager or Control Manager to call the pop-up control definition function. In step 2, the pop-up control definition function highlights the title of the pop-up menu, removes the downward- pointing triangle from the pop-up box, adds a checkmark to the current item, highlights the current item, and displays the contents of the pop-up menu. In step 3, the pop-up control definition function handles all user interaction, highlighting and unhighlighting menu items, until the user releases the mouse button. When the user releases the mouse button, the pop-up control definition function closes the pop-up menu, unhighlights the pop-up menu title, sets the text of the pop-up box to the item chosen by the user, and stores the item number of the chosen item as the value of the control. Step 4 shows the appearance of the closed pop-up menu after the pop-up control definition function performs these actions.<P>
 If your application does not use the standard pop-up control definition function, you <BR>can create your own control definition function and you can choose to use the <CODE>PopUpMenuSelect</CODE> function to help your application handle pop-up menus. In this case, when the user presses the mouse button when the cursor is in a pop-up menu, <BR>your application should call the <CODE>PopUpMenuSelect</CODE> function. Your application must highlight the pop-up title before calling <CODE>PopUpMenuSelect</CODE> and unhighlight it afterward. The <CODE>PopUpMenuSelect</CODE> function displays the pop-up menu and highlights menu items appropriately as the user drags the cursor through the menu items. Once the user releases the mouse button, <CODE>PopUpMenuSelect</CODE> flashes the chosen item, if any, and returns information indicating which menu item was chosen to your application. Your application is responsible for highlighting and unhighlighting the menu title, updating the text in the pop-up box, and storing any changes to the settings of the menu items if you use the <CODE>PopUpMenuSelect</CODE> function. <A NAME=MARKER-2-523></A><P>
 Pop-up menus work well when your application needs to present several choices to the user. Note that pop-up menus hide these choices from the user until the user chooses to display the pop-up menu. Use pop-up menus when the user doesn't need to see all the choices all the time. For example, <A HREF=#MARKER-9-198>Figure 3-27</A> shows a dialog box that uses a pop-up menu to allow the user to choose one color from a list of many.<P>
<B>Figure 3-27  <A NAME=MARKER-9-198></A>Choosing one attribute from a list of many</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-27_MMS-20.jpg"><P>
 If you need to show only a few choices, you may find that using checkboxes or radio buttons is more appropriate for your application. For example, in <A HREF=#MARKER-9-198>Figure 3-27</A> the selection of columns is implemented with radio buttons rather than a pop-up menu. Whenever possible, you should show all available choices to the user. Note that in this example the amount of space occupied by the radio buttons is about the same as the amount of space required for a corresponding pop-up menu.<P>
 Use pop-up menus to allow the user to choose one option from a set of many choices. Don't use a pop-up menu for multiple-choice lists where the user can make more than one selection. If you do, the text in the menu box will not fully describe the selections in effect. For example, don't use a pop-up menu for font style selections. In a dialog box, font style selections are more appropriately implemented as checkboxes. <A HREF=#MARKER-9-199>Figure 3-28</A> shows a dialog box that uses checkboxes instead of a pop-up menu to allow the user to select more than one font style. The Size and Font choices are implemented as pop-up menus in this example, since the user can choose only one size and one font from a list <BR>of many.<P>
<B>Figure 3-28  <A NAME=MARKER-9-199></A>A dialog box with checkboxes and pop-up menus</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-28_MMS-21.jpg"><P>
 Never use a pop-up menu as a way to provide more commands. Pop-up menus should not contain actions (verbs) but can contain attributes (adjectives) or settings that allow the user to choose one from many. For these reasons, you should not use Command-key equivalents for pop-up menu items.<P>
 Your application can also use type-in pop-up menus when appropriate. Use a type-in pop-up menu to give the user a list of choices and to allow the user to type in an additional choice. The standard pop-up control definition function that implements pop-up menus does not provide specific support for type-in menus. You can create your own control definition function to handle type-in pop-up menus. If you do so, your type-in pop-up menu should adhere to the guidelines described here. <A HREF=Toolbox-312.html#MARKER-9-263>Figure 3-29</A> shows a typical type-in pop-up menu in its closed and open states.<A NAME=MARKER-2-200></A><P>
<B>Figure 3-29  <A NAME=MARKER-9-263></A>A type-in pop-up menu in its closed and open states</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-29_MMS-29.jpg"><P>
 Your application is responsible for drawing and highlighting the type-in field of the pop-up menu. Your application does not need to highlight the title of a type-in pop-up menu; your application should highlight the type-in field instead.<P>
 If the user types in a value that is already in the menu, make that item the current item. If the user types a value that does not match any of the items in the pop-up menu, add the item to the top of the menu and add a divider below the item to separate it from the rest of the standard items. <A HREF=#MARKER-9-202>Figure 3-30</A> on the next page shows a type-in pop-up menu with a user's choice added to it.<P>
<B>Figure 3-30  <A NAME=MARKER-9-202></A>A type-in pop-up menu with a user's choice added</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-30_MMS-22.jpg"><P>
 A type-in pop-up menu should allow the user to type in a single additional choice. That is, a standard type-in pop-up menu does not accumulate the user's choices in the menu.  For example, if the user types in a value of 13, then types in a new choice, such as 43, the menu should appear as shown in <A HREF=#MARKER-9-202>Figure 3-30</A>, except that the type-in field and menu item that previously contained 13 is replaced by 43.<P>
 A type-in pop-up menu should also allow the user to type in any of the standard values in the menu or choose any of the standard items in the pop-up menu. If the user types in or chooses any of the standard items, you should remove any user-specified item previously added to the menu. For example, as shown in <A HREF=#MARKER-9-202>Figure 3-30</A>, the user specified a nonstandard size of 13. If the user then types in or selects 9, your application should return the pop-up menu to its standard state, as shown in <A HREF=Toolbox-312.html#MARKER-9-263>Figure 3-29 on page 3-40</A>. <A NAME=MARKER-2-203></A><P>
<A NAME=HEADING93-216></A>
<H3><A NAME=MARKER-9-204></A>Hierarchical Menus</H3>
 A hierarchical menu is a menu that has a submenu attached to it. Hierarchical menus can be useful when your application needs to offer additional choices to the user without taking up extra space in the menu bar. If you use a hierarchical menu in your application, use it to give the user additional choices or to choose attributes, not to choose additional commands. <A NAME=MARKER-9-49></A><P>
 In a hierarchical menu, a menu item serves as the title of a submenu; this menu item contains a triangle to identify that the item has a submenu. The triangle appears in the location of the keyboard equivalent. The title of a submenu should represent the choices it contains. <A HREF=#MARKER-9-208>Figure 3-31</A> shows a menu with a submenu whose menu title is Label Style.<P>
 When a user drags the cursor through a hierarchical menu and rests the cursor on a menu item that has a submenu, the Menu Manager displays the submenu after a brief delay. The title of the submenu remains highlighted while the user browses through the submenu; the Menu Manager unhighlights the menu title of the submenu when the user releases the mouse button.<P>
 Hierarchical menus are useful for providing lists of related items, such as font sizes and font styles. Never use more than one level of hierarchical menus (in other words, don't attach a submenu to another submenu). You can assign keyboard equivalents to the menu items of a submenu; however, if you do so, you make it harder for the user to quickly scan all menus for their keyboard equivalents.<A NAME=MARKER-2-131></A><A NAME=MARKER-2-135></A><P>
<B>Figure 3-31  <A NAME=MARKER-9-208></A>A hierarchical menu item and its submenu</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-31_MMS-31.jpg"><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-92.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-94.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
