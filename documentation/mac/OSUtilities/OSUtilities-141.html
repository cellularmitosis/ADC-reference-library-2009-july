<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>MyPanelEvent (IM: U)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING141></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="OSUtilities-140.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-142.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="OSUtilities-2.html"><B>Operating System Utilities</B></A> / <BR><DD><A HREF="OSUtilities-129.html"><B>Chapter 5 - Control Panel Extensions</B></A> / <A HREF="OSUtilities-132.html"><B>Control Panel Extensions Reference</B></A><BR><DL><DD><A HREF="OSUtilities-133.html"><B>Control Panel Extension-Defined Routines</B></A> / <A HREF="OSUtilities-139.html"><B>Handling Panel Events</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING141-0></A>
<H3><A NAME=MARKER-2-34></A>MyPanelEvent</H3>
 A control panel extension must respond to the <CODE>kPanelEventSelect</CODE> request code. A control panel sends this request code to your extension whenever an event occurs in your panel. A control panel extension typically responds to the <CODE>kPanelEventSelect</CODE> request code by calling an extension-defined subroutine (for example, <CODE>MyPanelEvent</CODE>) to handle the request. <P>
<PRE>
FUNCTION MyPanelEvent (globals: Handle; dialog: DialogPtr; 
                      itemOffset: Integer; 
                      theEvent: eventRecord; 
                      VAR itemHit: Integer; 
                      VAR handled: Boolean): ComponentResult;
</PRE>
<DL>
<DT><CODE>globals</CODE>
<DD> A handle to the control panel extension's global data.
<DT><CODE>dialog</CODE>
<DD> A pointer to the dialog record of the owning control panel. The owning control panel displays your items in the dialog box (of the control panel) referenced through this parameter.
<DT><CODE>itemOffset</CODE>
<DD> An offset to the panel's first item.
<DT><CODE>theEvent</CODE>
<DD> An event record describing the event being reported to your control panel extension.
<DT><CODE>itemHit</CODE>
<DD> On entry, the item number of an item. This number is valid only for mouse events (on input, do not interpret this parameter for any other type of event). On exit, if the <CODE>MyPanelEvent</CODE> function has handled the event, it should return the item number of the associated item in this parameter.
<DT><CODE>handled</CODE>
<DD> On entry, the value <CODE>FALSE</CODE> for mouse events; the value <CODE>TRUE</CODE> for all other events. On exit, the <CODE>MyPanelEvent</CODE> function should return a Boolean value that indicates whether it has handled the event (<CODE>TRUE</CODE>) or has not handled the event (<CODE>FALSE</CODE>).
</DL>
<A NAME=HEADING141-9></A>
<H5>DESCRIPTION</H5>
 Your <CODE>MyPanelEvent</CODE> function is called whenever an event occurs in your panel. The parameter <CODE>theEvent</CODE> contains a complete description of the event. A control panel handles events in its own items and also gives your component a chance to handle events in its own panel. <P>
 The <CODE>MyPanelEvent</CODE> function is intended to operate just like an event filter function specified in calls to the <CODE>ModalDialog</CODE> procedure or other Dialog Manager routines. The main difference between <CODE>MyPanelEvent</CODE> and other event filter functions is that <CODE>MyPanelEvent</CODE> does not return a Boolean value as its function result. Instead, it indicates whether it handled the event in the <CODE>handled</CODE> parameter. <P>
 If the specified event is a mouse event, you might prefer your extension's <CODE>MyPanelItem</CODE> function to handle the event. In that case, you should return <CODE>FALSE</CODE> in the <CODE>handled</CODE> parameter. Otherwise, you should attempt to handle the event.<P>
 If your <CODE>MyPanelEvent</CODE> function does handle the event, it should update the <CODE>itemHit</CODE> parameter to reflect the affected item and return <CODE>TRUE</CODE> in the <CODE>handled</CODE> parameter. If you set <CODE>handled</CODE> to <CODE>FALSE</CODE>, the owning control panel sends your panel an item-select request.<P>
<A NAME=HEADING141-14></A>
<H5>RESULT CODES</H5>
 Your <CODE>MyPanelEvent</CODE> function should return <CODE>noErr</CODE> if successful, or an appropriate result code otherwise.<P>
<A NAME=HEADING141-16></A>
<H5>SEE ALSO</H5>
 For an example <CODE>MyPanelEvent</CODE> function, see <A HREF=OSUtilities-131.html#MARKER-9-29>Listing 5-6 on page 5-18</A>. See the description of <CODE>MyPanelItem</CODE> on <A HREF=OSUtilities-140.html#MARKER-9-39>page 5-25</A> for information on handling clicks in dialog items. For a description of the fields of the event record, see the chapter "Event Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>.<A NAME=MARKER-2-43></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="OSUtilities-140.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-142.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="OSUtilities-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
