<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> The Name Registry</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.6f.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.71.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.73.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2.Heading2"><A NAME="pgfId=3403"> </A>The Name Registry</H1><P CLASS="T1.Text1"><A NAME="pgfId=3405"> </A>The Mac&nbsp;OS <A NAME="marker=3404"> </A><B CLASS="bold">Name Registry</B> is a database of system information. The native  I/O framework uses the Registry as a general storage and retrieval mechanism for family experts and low-level experts. Device scanning code and the Name Registry help separate system initialization and device driver initialization in a well-defined way, as illustrated in <A HREF="PCI_BOOK.72.html#39325" CLASS="XRef">Figure&nbsp;6-2</A>. The Name Registry is more fully described in <A HREF="PCI_BOOK.f8.html#12320" CLASS="XRef">Name Registry</A>.</P><P CLASS="Fg.Figure"><B><A NAME="pgfId=3416"> </A>Figure&nbsp;6-2	<A NAME="39325"> </A>Typical role of the Name Registry</B></P><DIV><IMG SRC="PCI_BOOK-15.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=3417"> </A>Although it does not drive the startup process, the Name Registry assists system startup by providing a structure for storing information. It does this in several ways:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3418"> </A>During the computer's startup process, low-level experts in the Mac OS ROM and in expansion ROMs install and update system information in the Name Registry.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3419"> </A>Other software in the startup process can then use the Name Registry to locate devices required to initialize the system.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3420"> </A>System firmware installs disk-based drivers and other system components in the Name Registry when the file system becomes available.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3421"> </A>Disk-based experts can then use information in the Name Registry to locate and initialize family devices.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3422"> </A>When device initialization driver code is called, the Name Registry provides configuration information for device drivers and family experts.</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=3426"> </A>These processes are marked by steps in <A HREF="PCI_BOOK.72.html#39325" CLASS="XRef">Figure&nbsp;6-2</A>. In Step 1, low-level experts scan the PCI bus for their device types and create name entries in the Name Registry that identify device properties and contain device drivers. In Step 2, family experts locate all name entries that match their service categories. In Step 3, family experts obtain device drivers and call the drivers' initialization routines.</P><P CLASS="T1.Text1"><A NAME="pgfId=3427"> </A>To make driver design easier, the Name Registry lets all types of device drivers be written identically, whether they are located in expansion ROMs, system firmware, or elsewhere. Drivers can expect basic hardware information to be available in the Registry and are not required to locate or hard code this data.</P><P CLASS="T1.Text1"><A NAME="pgfId=3428"> </A>The Name Registry supports a comprehensive driver replacement capability, described in <A HREF="PCI_BOOK.86.html#33027" CLASS="XRef">Finding, Initializing, and Replacing Drivers</A>. All device entries and their corresponding code drivers exist in the device portion of the Name Registry and are available for this process.<A NAME="marker=3432"> </A></P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.6f.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.71.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.73.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>