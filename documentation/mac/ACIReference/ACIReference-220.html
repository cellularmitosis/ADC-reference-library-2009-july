<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>CMOpenProfile(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING220></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-219.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-221.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-218.html"><B>ColorSync Manager Functions</B></A><BR><DL><DD><A HREF="ACIReference-219.html"><B>Accessing Profiles</B></A> / <A HREF="ACIReference-204.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING220-0></A>
<H3><A NAME=MARKER-11-320></A><A NAME=MARKER-9-321></A>CMOpenProfile</H3>
 Opens the specified profile and returns a reference to the profile.<P>
<PRE>
pascal CMError CMOpenProfile (
                  CMProfileRef *prof         
                  const CMProfileLocation *theProfile);
</PRE>
<DL>
<DT><CODE>prof</CODE>
<DD> A pointer to a profile reference <A HREF=ACIReference-210.html#MARKER-9-299>(page 3-63)</A>. On output, the reference refers to the opened profile.
<DT><CODE>theProfile</CODE>
<DD> The profile location <A HREF=ACIReference-181.html#MARKER-9-224>(page 3-40)</A> of the profile to open. Commonly a profile is disk-file based, but it may instead be temporary, handle-based, pointer-based, or accessed through a procedure supplied by your application.
<DT><I>function result</I>
<DD> A result code of type CMError. See <A HREF=ACIReference-313.html#MARKER-9-479>"Result Codes" (page 3-174)</A> for a list of ColorSync-specific result codes.
</DL>
<A NAME=HEADING220-6></A>
<H5>DISCUSSION</H5>
 If the <CODE>CMOpenProfile</CODE> function executes successfully, the profile reference refers to the opened profile. Your application uses this reference, for example, when it calls functions to color match, copy, and update a profile, and validate its contents. <P>
 The ColorSync Manager maintains private storage for each request to open a profile, allowing more than one application to use a profile concurrently. <P>
 When you create a new profile or modify the elements of an existing profile, the ColorSync Manager stores the new or modified elements in the private storage it maintains for your application. Any new or changed profile elements are not incorporated into the profile itself unless your application calls the <CODE>CMUpdateProfile</CODE> function <A HREF=ACIReference-223.html#MARKER-9-326>(page 3-73)</A> to update the profile. If you call the <CODE>CMCopyProfile</CODE> function <A HREF=ACIReference-225.html#MARKER-9-333>(page 3-76)</A> to create a copy of an existing profile under a new name, any changes you have made are incorporated in the profile duplicate but the original profile remains unchanged.<P>
 Before you call the <CODE>CMOpenProfile</CODE> function, you must set the <CODE>CMProfileLocation</CODE> data structure to identify the location of the profile to open. Most commonly, a profile is stored in a disk file. If the profile is in a disk file, use the profile location data type to provide its file specification. If the profile is in memory, use the profile location data type to specify a handle or pointer to the profile. If the profile is accessed through a procedure provided by your application, use the profile location data type to supply a universal procedure pointer to your procedure.<P>
 Your application must obtain a profile reference before you copy or validate a profile, and before you flatten the profile to embed it. <P>
 For example, your application can<P>
<OL>
<LI>open a profile
<LI>call the <CODE>CMGetProfileHeader </CODE>function to obtain the profile's header to modify its values
<LI>set new values
<LI>call the <CODE>CMSetProfileHeader</CODE> function to replace the modified header
<LI>pass the profile reference to a function such as <CODE>NCWNewColorWorld</CODE> as the source or destination profile in a color world for a color-matching session <P>
</OL>
 When you close your reference to the profile by calling the <CODE>CMCloseProfile</CODE> function <A HREF=ACIReference-221.html#MARKER-9-323>(page 3-71)</A>, your changes are discarded (unless you called the <CODE>CMUpdateProfile</CODE> function).<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-219.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-221.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
