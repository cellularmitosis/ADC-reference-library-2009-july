<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Sound Data (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING46></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-45.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-47.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-44.html"><B>Chapter 2 - Sound Manager</B></A> / <A HREF="Sound-45.html"><B>About the Sound Manager</B></A></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="../../../referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING46-0></A>
<H2>Sound Data</H2>
 The Sound Manager can play sounds defined using one of three kinds of sound data:<P>
<UL>
<LI>square-wave data
<LI>wave-table data
<LI>sampled-sound data<P>
</UL>
 This section provides a brief description of each of these kinds of audio data and introduces some of the concepts that are used in the remainder of this chapter. A complete description of the nature and format of audio data is beyond the scope of this book. There are, however, numerous books available that provide complete discussions of digital audio data.<A NAME=MARKER-9-199></A><P>
<A NAME=HEADING46-6></A>
<H3>Square-Wave Data</H3>
 <A NAME=MARKER-2-6></A><B>Square-wave data</B> is the simplest kind of audio data supported by the Sound Manager. You can use square-wave data to generate a sound based on a square wave. Your application can use square-wave data to play a simple sequence of sounds in which each sound is described completely by three factors: its frequency or pitch, its amplitude (or volume), and its duration.<P>
 The <B>frequency</B> of a sound is the number of cycles per second (or hertz) of the sound wave. Usually, you specify a sound's frequency by a MIDI value. <B>MIDI note values</B> correspond to frequencies for musical notes, such as middle C, which is defined to have a MIDI value of 60, which on Macintosh computers is equivalent to 261.625 hertz.<A NAME=MARKER-2-57></A><A NAME=MARKER-2-58></A><A NAME=MARKER-2-8></A><P>
 <B>Pitch</B> is a lister's subjective interpretation of the sound's frequency. The terms <I>frequency</I> and <I>pitch</I> are used interchangeably in this chapter.<A NAME=MARKER-2-60></A><A NAME=MARKER-2-61></A><P>
 A sound's <B>duration</B> is the length of time a sound takes to play. In the Sound Manager, durations are usually specified in half-milliseconds.<A NAME=MARKER-9-458></A><P>
 The <B>amplitude</B> of a sound is the loudness at which it is being played. Two sounds played at the same amplitude might not necessarily sound equally loud. For example, one sound could be played at a lower volume (which the user may set with the Sound control panel). Or, a sampled sound of a fleeting whisper might sound softer than a sampled sound of continuous gunfire, even if your application plays them at the same amplitude.<A NAME=MARKER-2-94></A><A NAME=MARKER-2-64></A><A NAME=MARKER-2-65></A><P>
<DL>
<DT><B>Note</B>
<DD>Amplitude is traditionally considered to be the height of a sound wave, so that two sounds with the same amplitude would always sound equally loud. However, the Sound Manager considers amplitude to be the adjustment to be made to an existing sound wave. A sound played at maximum amplitude still might sound soft if the wave amplitude is small. <EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 A sound's <B>timbre</B> is its clarity. A sound with a low timbre is very clear; a sound with a high timbre is buzzing. Only sounds defined using square-wave data have timbres.<A NAME=MARKER-2-87></A><P>
<A NAME=HEADING46-14></A>
<H3>Wave-Table Data</H3>
 <A NAME=MARKER-2-280></A>To produce more complex sounds than are possible using square-wave data, your applications can use <B>wave-table data.</B> As the name indicates, wave-table data is based on a description of a single wave cycle. This cycle is called a wave table and is represented as an array of bytes that describe the timbre (or tone) of a sound at any point in the cycle.<A NAME=MARKER-2-68></A><P>
 Your application can use any number of bytes to represent the wave, but 512 is the recommended number because the Sound Manager resizes a wave table to 512 bytes if the table is not exactly that long. Your application can compute the wave table at run time or load it from a resource.<P>
 A <B>wave table</B> is a sequence of wave amplitudes measured at fixed intervals. For instance, a sine wave can be converted into a wave table by taking the value of the wave's amplitude at every 1/512 interval of the wave (see <A HREF=#MARKER-9-71>Figure 2-2</A>).<P>
 A wave table is represented as a packed array of bytes. Each byte contains a value in the range $00-$FF. These values are interpreted as offset values, where $80 represents an amplitude of 0. The largest negative amplitude is $00 and the largest positive amplitude is $FF. When playing a wave-table description of a sound, the Sound Manager loops through the wave table for the duration of the sound.<A NAME=MARKER-2-69></A><A NAME=MARKER-2-70></A><P>
<B>Figure 2-2  <A NAME=MARKER-9-71></A>A graph of a wave table</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/SM-L-01.jpg"><P>
<A NAME=HEADING46-21></A>
<H3><A NAME=MARKER-9-237></A>Sampled-Sound Data</H3>
 <A NAME=MARKER-2-73></A><A NAME=MARKER-2-74></A>You can use <B>sampled-sound data</B> to play back sounds that have been digitally recorded (that is, <B>sampled sounds</B>) as well as sounds that are computed, possibly at run time. Sampled sounds are the most widely used of all the available sound types primarily because it is relatively easy to generate a sampled sound and because sampled-sound data can describe a wide variety of sounds. Sampled sounds are typically used to play back prerecorded sounds such as speech or special sound effects.<A NAME=MARKER-2-75></A><A NAME=MARKER-2-76></A><P>
 You can use the Sound Manager to store sampled sounds in one of two ways, either as resources of type <CODE>'snd '</CODE> or as AIFF or AIFF-C format files. The structure of resources of type <CODE>'snd '</CODE> is given in <A HREF=Sound-60.html#MARKER-9-400>"Sound Resources" on page 2-74</A>, and the structure of AIFF and AIFF-C files is given in <A HREF=Sound-61.html#MARKER-9-424>"Sound Files" on page 2-81</A>. If you simply want to play short prerecorded sampled sounds, you should probably include the sound data in <CODE>'snd '</CODE> resources. If you want to allow the user to transfer recorded sound data from one application to another (or from one operating system to another), you should probably store the sound data in an AIFF or AIFF-C file. In certain cases, you must store sampled sounds in files and not in resources. For example, a sampled sound might be too large to be stored in a resource.<A NAME=MARKER-2-77></A><A NAME=MARKER-2-78></A><A NAME=MARKER-2-79></A><A NAME=MARKER-2-80></A><P>
 Regardless of how you store a sampled sound, you can use Sound Manager routines to play that sound. If you choose to store sampled sounds in files of type AIFF or AIFF-C, you can play those sounds by calling the <CODE>SndStartFilePlay</CODE> function, introduced in the chapter <A HREF=Sound-13.html#MARKER-9-6>"Introduction to Sound on the Macintosh"</A> in this book. If you store sampled sounds in resources, your application can play those sounds by passing the Sound Manager function <CODE>SndPlay</CODE> a handle to a resource of type <CODE>'snd '</CODE> that contains a sampled sound header. (The <CODE>SndStartFilePlay</CODE> function can also play <CODE>'snd '</CODE> resources directly from disk, but this is not recommended.)<P>
 There are three types of sampled-sound headers: the standard sound header, the extended sound header, and the compressed sound header. The<B> sound header</B> contains information about the sample (such as the original sampling rate, the length of the sample, and so forth), together with an indication of where the sample data is to be found. The <B>sampled sound header</B> can reference only buffers of monophonic, 8-bit sound. The <B>extended sound header</B> can be used for 8- or 16-bit stereo sound data as well as monophonic sound data. The <B>compressed sound header</B> can be used to describe compressed sound data, whether monophonic or stereo. Data can be stored in a buffer separate from the sound resource or as part of the sound resource as the last field of the sound header.<A NAME=MARKER-2-126></A><A NAME=MARKER-2-82></A><P>
<DL>
<DT><B>Note</B>
<DD>The terminology <I>sampled sound header</I> can be confusing because in most cases the sound header (and hence the <CODE>'snd '</CODE> resource) contains the sound data as well as information describing the data. Also, do not confuse sampled sound headers with sound resource headers. Sampled sound headers contain information about sampled-sound data, but sound resource headers contain information on the format of an entire sound resource.<EM></EM>   <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 You can play a sampled sound at its original rate or play it at some other rate to change its pitch. Once you install a sampled sound header into a channel, you can play it at varying rates to provide a number of pitches. In this way, you can use a sampled sound as a <B>voice</B> or <B>instrument</B> to play a series of sounds.<A NAME=MARKER-2-31></A><A NAME=MARKER-2-84></A><P>
 <A NAME=MARKER-2-85></A>Sampled-sound data is made up of a series of <B>sample frames,</B> which are stored contiguously in order of increasing time. For noncompressed sound data, each sample frame contains one or more sample points. For compressed sound data, each sample frame contains one or more packets.<A NAME=MARKER-2-86></A><P>
 For multichannel sounds, a sample frame is an interleaved set of sample points or packets. (For monophonic sounds, a sample frame is just a single sample point or a single packet.) The sample points within a sample frame are interleaved by channel number. For example, the sound data for a stereo, noncompressed sound is illustrated in <A HREF=#MARKER-9-91>Figure 2-3</A>.<A NAME=MARKER-2-132></A><A NAME=MARKER-2-88></A><A NAME=MARKER-2-89></A><A NAME=MARKER-2-90></A><P>
<B>Figure 2-3  <A NAME=MARKER-9-91></A>Interleaving stereo sample points</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/SM-L-02.jpg"><P>
 Each <B>sample point</B> of noncompressed sound data in a sample frame is, for sound files, a linear, two's complement value, and, for sound resources, a binary offset value. Sample points are from 1 to 32 bits wide. The size is usually 8 bits, but a different size can be specified in the <CODE>sampleSize</CODE> field of the extended sound header (for sound resources) or in the <CODE>sampleSize</CODE> field of the Common Chunk (for sound files). Each sample point is stored in an integral number of contiguous bytes. Sample points that are from 1 to 8 bits wide are stored in 1 byte, sample points that are from 9 to 16 bits wide are stored in 2 bytes, and so forth. When the width of a sample point is less than a multiple of 8 bits, the sample point data is left aligned (using a shift-left instruction), and the low-order bits at the right end are set to 0.<A NAME=MARKER-2-92></A><A NAME=MARKER-2-93></A><A NAME=MARKER-2-94></A><P>
 For example, for 8-bit noncompressed sound data stored in a sound resource, each sample point is similar to a value in a wave-table description. These values are interpreted as offset values, where $80 represents an amplitude of 0. The value $00 is the most negative amplitude, and $FF is the largest positive amplitude.<P>
 Each <B>packet</B> of 3:1 compressed sound data is 2 bytes; a packet of 6:1 compressed sound is 1 byte. These byte sizes are defined in bits by the constants <CODE>threeToOnePacketSize</CODE> and <CODE>sixToOnePacketSize</CODE>, respectively.<A NAME=MARKER-2-95></A><A NAME=MARKER-2-96></A> <A NAME=MARKER-2-9></A><A NAME=MARKER-2-98></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-45.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-47.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
