<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Playing Sounds Asynchronously  (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.1d.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.a.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.1f.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="H2.Heading2"><A NAME="pgfId=2100"> </A><A NAME="28093"> </A>Playing Sounds Asynchronously<A NAME="marker=23"> </A> <A NAME="marker=155"> </A><A NAME="marker=961"> </A></H1><P CLASS="T0.Text0"><A NAME="pgfId=2101"> </A>The Sound Manager currently allows you to play sounds asynchronously only if you allocate sound channels yourself, using techniques described in <A target="doc" HREF="imsoundmgr.b.htm#33735" CLASS="XRef">&quot;Managing Sound Channels&quot;</A>. But if you use such a technique, your application will need to dispose of a sound channel whenever the application finishes playing a sound. In addition, your application might need to release a sound resource that you played on a sound channel.<A NAME="marker=394"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=2244"> </A>To avoid the problem of not knowing when to dispose of a sound channel playing a sound asynchronously, your application could simply allocate a single sound channel when it starts up (or receives a resume event) and dispose of the channel when the user quits (or the application receives a suspend event). However, this solution will not work if you need to release a resource when a sound finishes playing. Also, you might not want to keep a sound channel allocated when you are not using it. For instance, you might want to use the memory taken up by a sound channel for other tasks when no sound is playing.</P><P CLASS="T1.Text1"><A NAME="pgfId=2243"> </A>Your application could call the <TT CLASS="cv">SndChannelStatus</TT> function once each time through its main event loop to determine if a channel is still making sound. When the <TT CLASS="cv">scBusy</TT> field of the sound channel status record becomes <TT CLASS="cv">FALSE</TT>, your application could then dispose of the channel. This technique is easy, but calling <TT CLASS="cv">SndChannelStatus</TT> frequently uses up processing time unnecessarily.<A NAME="marker=156"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=2136"> </A>The Sound Manager provides other mechanisms that allow your application to find out when a sound finishes playing, so that your application can arrange to dispose of sound channels no longer being used and of other data (such as a sound resource) that you no longer need after disposing of a channel. If you are using the <TT CLASS="cv">SndPlay</TT> function or low-level commands to play sound in a channel, then you can use callback procedures. If you are using the <TT CLASS="cv">SndStartFilePlay</TT> function to play sound in a channel, then you can use completion routines. The following sections illustrate how to use callback procedures and completion routines.</P><P CLASS="Note"><A NAME="pgfId=2246"> </A>Callback procedures are a form of completion routine. However, for clarity, this section uses the terminology &quot;completion routine&quot; only for the routines associated with the <TT CLASS="cv">SndStartFilePlay</TT> function. <A NAME="marker=191"> </A></P><H2 CLASS="H3.Heading3TOC"><A target="doc" HREF="imsoundmgr.1f.htm#pgfId=2245" CLASS="Hypertext">Using Callback Procedures</A></H2><H2 CLASS="H3.Heading3TOC"><A target="doc" HREF="imsoundmgr.20.htm#pgfId=2366" CLASS="Hypertext">Synchronizing Sound With Other Actions</A></H2><H2 CLASS="H3.Heading3TOC"><A target="doc" HREF="imsoundmgr.21.htm#pgfId=2364" CLASS="Hypertext">Managing an Asynchronous Play From Disk</A></H2><H2 CLASS="H3.Heading3TOC"><A target="doc" HREF="imsoundmgr.22.htm#pgfId=4644" CLASS="Hypertext">Playing Selections</A></H2><H2 CLASS="H3.Heading3TOC"><A target="doc" HREF="imsoundmgr.23.htm#pgfId=2173" CLASS="Hypertext">Managing Multiple Sound Channels</A></H2><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.1d.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.a.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.1f.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>