<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> When to Write Custom Rules</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Getting Started With Direct to Java Client</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="D2JCGettingStarted-49.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-50.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-52.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr></A><HR></DIV><H1><A NAME="pgfId-21007"></A>When to Write Custom Rules</H1><A NAME="pgfId-21009"></A>Custom rules are used for a variety of tasks, including the following:</P><UL><LI><A NAME="pgfId-21032"></A>Freezing XML (see<A HREF="D2JCGettingStarted-53.html" CLASS="XRef">Freezing XML</A>)<P><LI><A NAME="pgfId-21033"></A>Freezing nibs (see<A HREF="D2JCGettingStarted-58.html" CLASS="XRef">Freezing Nib Files</A>)<P><LI><A NAME="pgfId-21036"></A>Introducing custom controllers (see<A HREF="D2JCGettingStarted-64.html" CLASS="XRef">Implementing Custom Controller Classes</A>)<P></UL><A NAME="pgfId-21045"></A>However, the most common reason to write custom rules is to configure many different controllers with one simple rule. Right justifying numeric text fields as described earlier in this section is a good example. It's possible to use the Assistant to accomplish the same thing as the custom rule, but using the Assistant has a drawback in this scenario: Each text field has to be configured individually, which is time consuming and error prone. Not only is it easy to overlook a text field; but if the model changes in the future, you have to remember to configure any newly added numeric text fields.</P><A NAME="pgfId-21077"></A>As another example, suppose you want to set the minimum width of all an application's windows. Again this is something you can do in the Assistant, but you have to do it individually for each window. The following single rule can accomplish the same thing:</P><UL><LI><A NAME="pgfId-21087"></A>Condition (Lhs): controllerType = 'windowController'<P><LI><A NAME="pgfId-21088"></A>Request key (Rhs key): minimumWidth<P><LI><A NAME="pgfId-21089"></A>Value (Rhs value): 512<P><LI><A NAME="pgfId-21090"></A>Priority: 50<P></UL><A NAME="pgfId-21029"></A>In this rule, it's necessary to specify what kind of controller the rule system is working on. Many different controllers have the attribute <B>minimumWidth</B>, so to limit this rule's scope to setting the minimum width of only windows, you must restrict the rule to firing only when the rule system is working on window controllers.</P><A NAME="pgfId-23227"></A>The rule system's D2WContext stores the type of controller it's working on and makes the type available with the key <B>controllerType</B>. The possible values for <B>controllerType</B> are:</P><UL><LI><A NAME="pgfId-21148"></A>windowController<P><LI><A NAME="pgfId-21154"></A>modalDialogController<P><LI><A NAME="pgfId-21166"></A>entityController<P><LI><A NAME="pgfId-21172"></A>widgetController<P><LI><A NAME="pgfId-21178"></A>tableController<P><LI><A NAME="pgfId-21125"></A>groupingController<P><LI><A NAME="pgfId-21184"></A>dividingController<P><LI><A NAME="pgfId-21160"></A>actionWidgetController<P></UL><P><A NAME="pgfId-23228"></A><BLOCKQUOTE><B>Note:&nbsp;</B>You can use any state information stored in the D2WContext in the condition (lhs) of a rule. For more information on the entries in a D2WContext, see the section <A HREF="D2JCGettingStarted-40.html#25717" CLASS="XRef">Server Side XML Generation</A>.</P></BLOCKQUOTE><HR>&#169 1999 Apple Computer, Inc. &#150 (Draft. Last updated 05 Jan 00)<P><A HREF="D2JCGettingStarted-49.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-50.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-52.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>