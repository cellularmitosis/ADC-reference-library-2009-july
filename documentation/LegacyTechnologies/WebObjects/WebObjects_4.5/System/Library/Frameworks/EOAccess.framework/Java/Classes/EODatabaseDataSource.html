<HTML>		<HEAD>		<TITLE>			EODatabaseDataSource		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOAdaptor Reference</font><br><br><!--end of path --><a href="../EOAccessTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <BR><h1><FONT COLOR=\"#000066\"><a name="//apple_ref/java/cl/EODatabaseDataSource">EODatabaseDataSource</a></FONT></h1><br><blockquote><b>Inheritsfrom: </b> com.apple.yellow.eocontrol.EODataSource : NSObject</blockquote><blockquote><b>Package: </b>com.apple.yellow.eoaccess</blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>EODatabaseDataSource is a concrete subclass of EODataSource(defined in EOControl) that fetches objects based on an EOModel,using an EODatabaseContext that services the data source's EOEditingContext(defined in EOControl). An EODatabaseDataSource can be set up tofetch all objects for its root entity, to fetch objects matchinga particular EOFetchSpecification, and to further filter its fetchingwith an auxiliary qualifier.</p><p>EODatabaseDataSource implements all the functionality definedby EODataSource: In addition to fetching objects, it can insertand delete them (provided the entity isn't read-only). See the EODataSourceclass specification for more information on these topics.</p><p>As with other data sources, EODatabaseDataSource can alsoprovide a detail data source. The most significant consequence ofusing an master-detail configuration is that the detail operatesdirectly on the master's object graph. The EODetailDataSourcehas a <b>master object</b> and a <b>detail key</b> through whichthe detail data source accesses the its objects. The master objectis simply the object that's selected in the master display group,and the detail key is the name of a relationship property in themaster object. When the detail display group asks its data sourceto fetch, the EODetailDataSource simply gets the value for the relationshipproperty identified by the detail key from its master object andreturns it. When you add and remove objects from the detail, you'redirectly modifying the master's relationship array. In fact, youcan think of EODetailDataSource as an interface to its master object'srelationship property.</p><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Constructors</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/EODatabaseDataSource">EODatabaseDataSource</a></dd></dl><dl><dt>Accessing selection criteria</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/auxiliaryQualifier">auxiliaryQualifier</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecification">fetchSpecification</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationForFetch">fetchSpecificationForFetch</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationName">fetchSpecificationName</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setAuxiliaryQualifier">setAuxiliaryQualifier</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecification">setFetchSpecification</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecificationByName">setFetchSpecificationByName</a></dd></dl><dl><dt>Accessing objects usedfor fetching</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/entity">entity</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/databaseContext">databaseContext</a></dd></dl><dl><dt>Enabling fetching</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchEnabled">setFetchEnabled</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/isFetchEnabled">isFetchEnabled</a></dd></dl><dl><dt>Accessing qualifier bindings</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/qualifierBindingKeys">qualifierBindingKeys</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/qualifierBindings">qualifierBindings</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setQualifierBindings">setQualifierBindings</a></dd></dl><dl><dt>Other</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/deleteObject">deleteObject</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/insertObject">insertObject</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/dataSourceQualifiedByKey">dataSourceQualifiedByKey</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/qualifyWithRelationshipKey">qualifyWithRelationshipKey</a></dd></dl></blockquote><br><br><h2>Constructors</h2><hr><a name = "CJDDDGFG"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/EODatabaseDataSource">EODatabaseDataSource</a></h3></a><p><code>public <b>EODatabaseDataSource</b>(com.apple.yellow.eocontrol.EOEditingContext <em>anEditingContext</em>,String <em>anEntityName</em>)</code></p>Creates and returns a new EODatabaseDataSourceobject. The new EODatabaseDataSource fetches objects into <em>anEditingContext</em> forthe EOEntity named by <em>anEntityName</em>.If anEditingContext's EOObjectStoreCoordinator (EOControl) doesn'thave an EODatabaseContext to service the model containing the namedentity, one is created. The new data source uses a fetch specificationthat fetches all the entity's objects.<p><code>public <b>EODatabaseDataSource</b>(com.apple.yellow.eocontrol.EOEditingContext <em>anEditingContext</em>,String <em>anEntityName</em>,String <em>fetchSpecificationName</em>)</code></p>Creates and returns a new EODatabaseDataSourceobject. The new EODatabaseDataSource fetches objects into <em>anEditingContext</em> forthe EOEntity named by <em>anEntityName</em>.If anEditingContext's EOObjectStoreCoordinator (EOControl) doesn'thave an EODatabaseContext to service the model containing the namedentity, one is created. The <em>fetchSpecificationName</em> argumentis used to find the named fetch specification in the entity. Ifthe <em>fetchSpecificationName</em> is notincluded or is <b>null</b>, a new fetch specificationthat fetches all the entity's objects is created.<hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Instance Methods</h2><hr><a name = "CJDDGBED"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/auxiliaryQualifier">auxiliaryQualifier</a></h3></a><p><code>public com.apple.yellow.eocontrol.EOQualifier <b>auxiliaryQualifier</b>()</code></p>Returns the EOQualifier used to further filterthe objects fetched by the receiver's EOFetchSpecification (inEOControl). <p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationForFetch">fetchSpecificationForFetch</a>,  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecification">fetchSpecification</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "databaseContext"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/databaseContext">databaseContext</a></h3></a><p><code>public EODatabaseContext <b>databaseContext</b>()</code></p>Returns the EODatabaseContext that the receiveruses to access the external database. This is either the root EOObjectStorefor the receiver's EOEditingContext, or if the root is an EOCooperatingObjectStore, it'sthe EODatabaseContext under that EOCooperatingObjectStore that servicesthe EOModel containing the EOEntity for the receiver. (EOObjectStore,EOEditingContext, and EOCooperatingObjectStore are all defined inEOControl.)<hr WIDTH=25% ALIGN=LEFT><a name = "dataSourceQualifiedByKey"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/dataSourceQualifiedByKey">dataSourceQualifiedByKey</a></h3></a><p><code>public com.apple.yellow.eocontrol.EODataSource <b>dataSourceQualifiedByKey</b>(String <em>key</em>)</code></p>Returns a detail data source that provides thedestination objects of the relationship named by <em>key</em>.The returned detail data source can be qualified by using <b>qualifierWithKey</b> toset a specific master object or to change the relationship key.<hr WIDTH=25% ALIGN=LEFT><a name = "deleteObject"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/deleteObject">deleteObject</a></h3></a><p><code>public void <b>deleteObject</b>(Object <em>anObject</em>)</code></p>Deletes <em>anObject</em> fromthe data source. This method raises an exception on failure. Ifthe receiver registers undos for the deletion, the receiver mayreceive a possibly redundant  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/insertObject">insertObject</a> call.<hr WIDTH=25% ALIGN=LEFT><a name = "entity"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/entity">entity</a></h3></a><p><code>public EOEntity <b>entity</b>()</code></p>Returns the EOEntity from which the receiverfetches objects.<hr WIDTH=25% ALIGN=LEFT><a name = "fetchSpecification"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/fetchSpecification">fetchSpecification</a></h3></a><p><code>public com.apple.yellow.eocontrol.EOFetchSpecification <b>fetchSpecification</b>()</code></p>Returns the receiver's basic EOFetchSpecification.Its EOQualifier is conjoined with the receiver's auxiliary EOQualifierwhen the receiver fetches objects. The sender of this message canalter the EOFetchSpecification directly, or replace it using  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecification">setFetchSpecification</a>.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationForFetch">fetchSpecificationForFetch</a>,  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/auxiliaryQualifier">auxiliaryQualifier</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "fetchSpecificationForFetch"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationForFetch">fetchSpecificationForFetch</a></h3></a><p><code>public com.apple.yellow.eocontrol.EOFetchSpecification <b>fetchSpecificationForFetch</b>()</code></p>Returns a copy of the EOFetchSpecification thatthe receiver uses to fetch. This is constructed by conjoining theEOQualifier of the receiver's EOFetchSpecification with its auxiliaryEOQualifier. Modifying the returned EOFetchSpecification doesn'taffect the receiver's fetching behavior; use  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecification">setFetchSpecification</a> and  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setAuxiliaryQualifier">setAuxiliaryQualifier</a> for that purpose.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecification">fetchSpecification</a>,  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/auxiliaryQualifier">auxiliaryQualifier</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "fetchSpecificationName"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationName">fetchSpecificationName</a></h3></a><p><code>public String <b>fetchSpecificationName</b>()</code></p>Returns the name of the fetch specification(or null if there is no name).<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecificationByName">setFetchSpecificationByName</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "insertObject"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/insertObject">insertObject</a></h3></a><p><code>public void <b>insertObject</b>(Object <em>anObject</em>)</code></p>Inserts <em>anObject</em> intothe data source.<hr WIDTH=25% ALIGN=LEFT><a name = "isFetchEnabled"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/isFetchEnabled">isFetchEnabled</a></h3></a><p><code>public boolean <b>isFetchEnabled</b>()</code></p>Returns true if the receiver's <b>fetchObjects</b> methodactually fetches objects, false if it returns an empty array withoutfetching. Fetching is typically disabled in a master-peer configurationwhen no object is selected in the master.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchEnabled">setFetchEnabled</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CJDECBFF"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/qualifierBindingKeys">qualifierBindingKeys</a></h3></a><p><code>public NSArray <b>qualifierBindingKeys</b>()</code></p>Returns an array of strings which is a unionof the binding keys from the fetch specification's qualifier andthe data source's auxiliary qualifier.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setQualifierBindings">setQualifierBindings</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CJDDHHAJ"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/qualifierBindings">qualifierBindings</a></h3></a><p><code>public NSDictionary <b>qualifierBindings</b>()</code></p>Returns a set of bindings that will be usedfor variable replacement on the fetch specification's qualifier andthe auxiliary qualifier before the fetch is executed.<hr WIDTH=25% ALIGN=LEFT><a name = "qualifyWithRelationshipKey"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/qualifyWithRelationshipKey">qualifyWithRelationshipKey</a></h3></a><p><code>public void <b>qualifyWithRelationshipKey</b>(String <em>key</em>,Object <em>sourceObject</em>)</code></p>Displays destination objects for the relationshipnamed <em>key</em> belonging to <em>sourceObject</em>. <em>key</em> shouldbe the same as the key specified in the  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/dataSourceQualifiedByKey">dataSourceQualifiedByKey</a> messagethat created the receiver. If <em>sourceObject</em> is <b>null</b>,the receiver qualifies itself to provide no objects.<hr WIDTH=25% ALIGN=LEFT><a name = "setAuxiliaryQualifier_"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/setAuxiliaryQualifier">setAuxiliaryQualifier</a></h3></a><p><code>public void <b>setAuxiliaryQualifier</b>(com.apple.yellow.eocontrol.EOQualifier <em>aQualifier</em>)</code></p>Sets the receiver's auxiliary qualifier to <em>aQualifier</em>.The auxiliary qualifier usually adds conditions to the primary qualifierand is useful for narrowing the scope of a data source without alteringits primary qualifier. This is especially useful for setting a qualifieron a qualified peer data source, since a peer's primary qualifiersspecifies the matching criteria for the relationship it fetchesfor. For more information on auxiliary qualifiers, see "Creatinga Master-Peer Configuration" in the "WebObjects ProgrammingTopics." <p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationForFetch">fetchSpecificationForFetch</a>,  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecification">fetchSpecification</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "setFetchEnabled_"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/setFetchEnabled">setFetchEnabled</a></h3></a><p><code>public void <b>setFetchEnabled</b>(boolean <em>flag</em>)</code></p>Controls whether the receiver can fetch. If <em>flag</em> is true thereceiver's <b>fetchObjects</b> method actually fetchesobjects, if false it returns an empty array without fetching. Fetchingis typically disabled in a master-peer configuration when no objectis selected in the master. For example, EODatabaseDataSource'simplementation of <b>qualifyWithRelationshipKey</b> invokesthis method to enable or disable fetching based on whether a masterobject is provided.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/isFetchEnabled">isFetchEnabled</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "setFetchSpecification_"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecification">setFetchSpecification</a></h3></a><p><code>public void <b>setFetchSpecification</b>(com.apple.yellow.eocontrol.EOFetchSpecification <em>fetchSpec</em>)</code></p>Sets the receiver's basic EOFetchSpecificationto <em>fetchSpec</em>. Its EOQualifier isconjoined with the receiver's auxiliary EOQualifier when the receiverfetches objects. This method also sets the name of the fetch specificationto null.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setAuxiliaryQualifier">setAuxiliaryQualifier</a>,  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationForFetch">fetchSpecificationForFetch</a>,  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecificationByName">setFetchSpecificationByName</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "setFetchSpecificationByName_"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecificationByName">setFetchSpecificationByName</a></h3></a><p><code>public void <b>setFetchSpecificationByName</b>(String <em>fetchSpecificationName</em>)</code></p>Sets the <em>fetchSpecificationName</em> asgiven, and sets the fetch specification (used when supplying objects)to the named fetch specification of the entity that was used toinitialize the data source. This method is an alternative to  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecification">setFetchSpecification</a>.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecification">fetchSpecification</a>,  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationName">fetchSpecificationName</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CJDDBBGD"><BR><h3><a name="//apple_ref/java/instm/EODatabaseDataSource/setQualifierBindings">setQualifierBindings</a></h3></a><p><code>public void <b>setQualifierBindings</b>(NSDictionary <em>bindings</em>)</code></p>Sets a set of bindings that will be used forvariable replacement on the fetch specification's qualifier and theauxiliary qualifier before the fetch is executed.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/EODatabaseDataSource/qualifierBindingKeys">qualifierBindingKeys</a></p><hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../EOAccessTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>