<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>ResolveAliasFile(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING470></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-469.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-471.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-443.html"><B>Chapter 7 - Finder Interface</B></A> / <A HREF="Toolbox-462.html"><B>Finder Interface Reference</B></A><BR><DL><DD><A HREF="Toolbox-468.html"><B>Routines</B></A> / <A HREF="Toolbox-469.html"><B>Resolving Alias Files</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING470-0></A>
<H3><A NAME=MARKER-9-543></A>ResolveAliasFile</H3>
 <A NAME=MARKER-11-544></A><A NAME=MARKER-2-545></A>If your application bypasses the Finder when manipulating documents, it should check for and resolve aliases itself by using the <CODE>ResolveAliasFile</CODE> function.<P>
<PRE>
FUNCTION ResolveAliasFile (VAR theSpec: FSSpec; 
                           resolveAliasChains: Boolean; 
                           VAR targetIsFolder: Boolean; 
                           VAR wasAliased: Boolean): OSErr;
</PRE>
<DL>
<DT><CODE>theSpec</CODE>
<DD> A file system specification record for the file or directory you plan to open.
<DT><CODE>resolveAliasChains</CODE>
<DD> A Boolean value. Set this parameter to <CODE>TRUE</CODE> if you want <CODE>ResolveAliasFile</CODE> to resolve all aliases in a chain, stopping only when it reaches the target file. Set this parameter to <CODE>FALSE</CODE> if you want to resolve only one alias file, even if the target is another alias file.
<DT><CODE>targetIsFolder</CODE>
<DD> A return parameter only. The <CODE>ResolveAliasFile</CODE> function returns <CODE>TRUE</CODE> in this parameter if the file specification record in the parameter <CODE>theSpec</CODE> points to a directory or a volume; otherwise, <CODE>ResolveAliasFile</CODE> returns <CODE>FALSE</CODE> in this parameter.
<DT><CODE>wasAliased</CODE>
<DD> A return parameter only. The <CODE>ResolveAliasFile</CODE> function returns <CODE>TRUE</CODE> in this parameter if the file specification record in the parameter <CODE>theSpec</CODE> points to an alias; otherwise, <CODE>ResolveAliasFile</CODE> returns <CODE>FALSE</CODE> in this parameter.
</DL>
<A NAME=HEADING470-7></A>
<H5>DESCRIPTION</H5>
 The <CODE>ResolveAliasFile</CODE> function returns in the parameter <CODE>theSpec</CODE> the name and location of the target file that you initially pass in the parameter <CODE>theSpec</CODE>. <P>
 The <CODE>ResolveAliasFile</CODE> function first checks the catalog file for the file or directory specified in the parameter <CODE>theSpec</CODE> to determine whether it is an alias and whether it is a file or a directory. If the object is not an alias, <CODE>ResolveAliasFile</CODE> leaves <CODE>theSpec</CODE> unchanged, sets the <CODE>targetIsFolder</CODE> parameter to <CODE>TRUE</CODE> for a directory or volume and <CODE>FALSE</CODE> for a file, sets <CODE>wasAliased</CODE> to <CODE>FALSE</CODE>, and returns <CODE>noErr</CODE>. If the object is an alias, <CODE>ResolveAliasFile</CODE> resolves it, places the target in the parameter <CODE>theSpec</CODE>, and sets the <CODE>wasAliased</CODE> flag to <CODE>TRUE</CODE>.<P>
 When <CODE>ResolveAliasFile</CODE> finds the specified volume and parent directory but fails to find the target file or directory in that location, <CODE>ResolveAliasFile</CODE> returns a result code of <CODE>fnfErr</CODE> and fills in the parameter <CODE>theSpec</CODE> with a complete file system specification record describing the target (that is, its volume reference number, parent directory ID, and filename or folder name). The file system specification record is valid, although the object it describes does not exist. This information is intended as a "hint" that lets you explore possible solutions to the resolution failure. You can, for example, use the file system specification record to create a replacement for a missing file with the File Manager function <CODE>FSpCreate</CODE>.<P>
 If <CODE>ResolveAliasFile</CODE> receives an error code while resolving an alias, it leaves the input parameters as they are and exits, returning an error code. In addition to any of these result codes, <CODE>ResolveAliasFile</CODE> can also return any Resource Manager or File Manager errors.<P>
<A NAME=HEADING470-12></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Before calling the <CODE>ResolveAliasFile</CODE> function, you should make sure that it is available by using the <CODE>Gestalt</CODE> function with the <CODE>gestaltAliasMgrAttr</CODE> selector. <P>
<A NAME=HEADING470-14></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>nsvErr<TD>-35<TD>Volume not found<TR>
<TD>fnfErr<TD>-43<TD>Target not found, but volume and parent directory found, and <CODE>theSpec</CODE> parameter contains a valid <BR>file system specification record<TR>
<TD>dirNFErr<TD>-120<TD>Parent directory not found</TABLE>
</H5>
<A NAME=HEADING470-15></A>
<H5>SEE ALSO</H5>
 <A HREF=Toolbox-459.html#MARKER-9-440>Listing 7-13 on page 7-39</A> illustrates how to use <CODE>ResolveAliasFile</CODE> from an application's own <CODE>MyOpen</CODE> function. The file system specification record is described in <I>Inside Macintosh: Files.</I> Aliases and other Alias Manager and File Manager routines <BR>are also described in greater detail in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I>. The <CODE>Gestalt</CODE> function is described in the chapter "Gestalt Manager" in Inside Macintosh: Operating System Utilities.<A NAME=MARKER-2-546></A><A NAME=MARKER-2-547></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-469.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-471.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
