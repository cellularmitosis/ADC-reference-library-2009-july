<HTML>	<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="XML_Publisher">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>KeyLargo I/O Controller</title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --> <!-- insert Show/Hide frames --><script type="text/javascript" language="JavaScript"><!--function loadFrames(){if (top == self || (parent.frames[1].name != content))    top.location.href = 'index.html?' + location.href;}if (self != top) {  // loaded in frames  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');  }else {  // not loaded frames	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');}//--></script><!-- end Show/Hide frames --><a href="Uni_N_Bridg_yController.html" target="content"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="../3Input-Output/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerTop -->  <!-- apple_doc: pageHeadingStart --><a name = "TPXREF126"></a><h2><font face="Lucida Grande,Helvetica,Arial">KeyLargo I/O Controller</font></h2><!-- apple_doc: pageHeadingEnd --><p>The KeyLargo custom IC is the third major component of thearchitecture. It provides all the I/O functions except Ethernetand FireWire. The KeyLargo IC provides two USB root hubs, an UltraDMA/66 interface, and support for the communication slot and thesound IC. </p><br><a name = "TPXREF127"></a><h3><font face="Lucida Grande,Helvetica,Arial">DMA Support</font></h3><p>The KeyLargo IC provides DB-DMA (descriptor-based direct memoryaccess) support for the following I/O channels: </p><ul><li>Ultra DMA/66interface</font></li><li>communication slot interface</font></li><li>IIS channel to the sound subsystem</font></li></ul><p>The DB DMA system provides a scatter-gather process basedon memory-resident data structures that describe the data transfers.The DMA engine is enhanced to allow bursting of data files for improvedperformance. </p><br><a name = "TPXREF128"></a><h3><font face="Lucida Grande,Helvetica,Arial">Interrupt Support</font></h3><p>The interrupt controller for the eMac computer is an MPICcell in the KeyLargo IC. In addition to accepting all the KeyLargointernal interrupt sources, the MPIC controller accepts externalinterrupts from dedicated interrupt pins and serial interrupts fromthe Uni-N serial interrupt stream. The signals from the Uni-N ICare synchronized to the operation of the MPIC circuitry, so thereis no additional interrupt latency on the Uni-N interrupts. </p><br><a name = "TPXREF218"></a><h3><font face="Lucida Grande,Helvetica,Arial">USB Interface</font></h3><p>The KeyLargo IC implements two independent USB root hubs.USB port A is connected to one controller and the other two USBports are connected to the other. The use of two independent hubsallows both USB ports to support high data rate devices at the sametime with no degradation of their performance. Thus, if a user connectsa high-speed (12 Mbps) device to USB port A and another high-speeddevice to the port B, both devices can operate at their full datarates. </p><p>Internally, the second port of one controller is routed tothe modem slot for an internal USB modem. The second port of theother controller is connected to the third external USB port.</p><p>The external USB connectors support USB devices with datatransfer rates of 1.5 Mbps or 12 Mbps. For more information aboutthe connectors, see  <a href="../3Input-Output/iUSB_Ports.h_XREF1_1.html" target="_top">"USB Ports"</a>. </p><p>USB devices connected to the eMac are required to supportUSB-suspend mode as defined in the USB specification. Informationabout the operation of USB-suspend mode on Macintosh computers isincluded in the Mac OS USB DDK API Reference. To obtain that document,please see the references at  <a href="../aReferences/iUSB_Interfa_XREF1_9.html" target="_top">"USB Interface"</a>. </p><p>The USB ports on the eMac computer comply with the UniversalSerial Bus Specification 1.1 Final Draft Revision. The USB controllerscomply with the Open Host Controller Interface (OHCI) specification. </p><br><a name = "TPXREF220"></a><h3><font face="Lucida Grande,Helvetica,Arial">Ultra DMA Interface </font></h3><p>In the eMac computer, the KeyLargo IC provides an Ultra DMAIDE (integrated drive electronics) channel that is connected tothe internal hard disk drive. The Ultra DMA IDE interface, alsocalled Ultra-DMA/66 and ATA-5, is an improved version of the EIDE interface. </p><p>The KeyLargo IC provides DB-DMA (descriptor-based direct memoryaccess) support for the Ultra DMA interface.</p><p>The cable is wired to select the internal hard disk driveas device 0 (master) in an ATA Device 0/1 configuration. </p><br><a name = "TPXREF129"></a><h3><font face="Lucida Grande,Helvetica,Arial">Enhanced IDE Interface</font></h3><p>In the eMac computer, the KeyLargo IC provides an enhancedIDE (EIDE) interface that supports the internal Combo (DVD-ROM andCD-RW) disk drive. </p><p>The EIDE interface uses multiword DMA. The Combo drive isconnected as device 0 (master) in an ATA Device 0/1 configuration.</p><p>For information about the Combo drive, see  <a href="../3Input-Output/iDVD_ROM_CD__BCEBJGG.html" target="_top">"DVD-ROM/CD-RW Drive"</a>.</p><br><a name = "TPXREF121"></a><h3><font face="Lucida Grande,Helvetica,Arial">Modem Slot Support</font></h3><p>The KeyLargo IC has a traditional Macintosh serial port thatis connected to the modem slot. The KeyLargo IC also provides digitalaudio to the slot in the form of an IIS port that shares pins withthe serial port. </p><p>The KeyLargo IC provides DB-DMA (descriptor-based direct memoryaccess) support for the modem slot interface. </p><p>The internal hardware modem is a separate module that containsthe datapump IC and the interface to the telephone line (DAA). Formore information about the modem, see  <a href="../3Input-Output/iInternal_Mo_XREF1_8.html" target="_top">"Internal Modem"</a>. </p><br><a name = "TPXREF117"></a><h3><font face="Lucida Grande,Helvetica,Arial">Wireless LAN Module</font></h3><p>The interface between the wireless LAN module and the KeyLargoIC is similar to a PC Card interface. </p><p>The wireless LAN module contains a media access controller(MAC), a digital signal processor (DSP), and a radio-frequency (RF)section. The module has a connector for the cable to the antennas,which are built into the computer's enclosure.</p><p>The wireless LAN module is based on the IEEE 802.11 standard.The wireless LAN module transmits and receives data at up to 11Mbps and is compatible with older systems that operate at 1 or 2Mbps. For information about its operation, see  <a href="../3Input-Output/iAirPort_Car_XREF1_9.html" target="_top">"AirPort Card"</a>. </p><br><a name = "TPXREF223"></a><h3><font face="Lucida Grande,Helvetica,Arial">Sound Circuitry</font></h3><p>The sound circuitry is designed around a set of ICs calledSnapper and is connected to the KeyLargo IC by standard IIC andIIS buses. The IIC bus provides configuration access to the SnapperICs and the IIS bus is used for data transfers. The KeyLargo ICprovides DBDMA (descriptor-based direct memory access) support forthe IIS port. </p><p>The Snapper circuitry performs digital audio processing andcodec functions. The audio processing functions include output equalizationand volume control. The codec functions include A-to-D and D-to-Aconversion. </p><p>Stereo signals from the sound input jack drive Snapper'sA-to-D converter. Audio data from the KeyLargo IC drives Snapper'sD-to-A converter. Analog output from the D-to-A converter is routedto the headphone jack and the audio power amplifier.</p><p>The power amplifier drives the internal speaker. When headphonesare connected to the headphone jack, the internal speaker is muted. </p><p>For a description of the features of the sound system, see  <a href="../3Input-Output/iSound_Syste_XREF124.html" target="_top">"Sound System"</a>. </p><br><a name = "TPXREF116"></a><h3><font face="Lucida Grande,Helvetica,Arial">Power Controller</font></h3><p>The power management controller in the eMac is a custom ICcalled the PMU99. It supports several power-saving modes of operation,including idle, doze, and sleep.</p><!-- insert Show/Hide frames --><script type="text/javascript" language="JavaScript"><!--function loadFrames(){if (top == self || (parent.frames[1].name != content))    top.location.href = 'index.html?' + location.href;}if (self != top) {  // loaded in frames  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');  }else {  // not loaded frames	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');}//--></script><!-- end Show/Hide frames --><a href="Uni_N_Bridg_yController.html" target="content"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="../3Input-Output/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerBottom --> <br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated June 5, 2002)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter-front" --><!-- end of footer --></body></html>