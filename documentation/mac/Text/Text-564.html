<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Tables for 2-Byte Script Systems(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING564></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-563.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-565.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-531.html"><B>Appendix B - International Resources</B></A> / <A HREF="Text-561.html"><B>Encoding/Rendering Resource (Type 'itl5')</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING564-0></A>
<H2>Tables for 2-Byte Script Systems</H2>
 In 2-byte script systems, the encoding/rendering resource contains byte-type and character-type information. The tables immediately follow the directory in the <BR><CODE>'itl5'</CODE> header.<P>
 A byte-type table contains character-size information about a specific byte in the range of $00 to $FF. A character-type table contains detailed information about the character represented by a specific byte, given a particular character-encoding scheme.<P>
 <A HREF=#MARKER-9-69>Table B-9</A> shows the general structure of a typical encoding/rendering resource for a 2-byte script system.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-69></A><B>Table B-9 Sample encoding/rendering resource for a 2-byte script system</B> (Continued)</CAPTION>
<TH>Offset<TH>Value<TH>Explanation<TR>
<TD>0<TD>$00010000<TD>Version number (first release = 1.0)<TR>
<TD>4<TD>2<TD>Two tables in this resource<TR>
<TD>6<TD>$000000000000<TD>(reserved)<TR>
<TD>12<TD>'btyp'<TD>Tag for byte-type table<TR>
<TD>16<TD>$00000000<TD>(reserved)<TR>
<TD>20<TD>30<TD>Offset to the byte-type table<TR>
<TD>24<TD>256<TD>Length of the byte-type table<TR>
<TD>28<TD>'ctyp'<TD>Tag for the character-type table<TR>
<TD>32<TD>$00000000<TD>(reserved)<TR>
<TD>36<TD>286<TD>Offset to the character-type table<TR>
<TD>40<TD>variable<TD>Length of the character-type table<TR>
<TD>44<TD>&nbsp;<TD>Start of byte-type table (256 bytes long)<TR>
<TD>300<TD>&nbsp;<TD>Start of character-type table</TABLE>
<P>
<A NAME=HEADING564-4></A>
<H3>Byte-Type Table</H3>
 <A NAME=MARKER-2-391></A>A byte-type table has 256 integer entries, one for each possible byte value in the range $00 to $FF. Each byte value is an index into the table. At each byte value, the table entry can have one of three values, specifying what kind of character or part of a character that byte value can represent.<P>
<UL>
<LI>  1 = 1-byte character only
<LI>  0 = 1-byte character or low-order byte of a 2-bye character
<LI>-1 = high-order or low-order byte of a 2-byte character<P>
</UL>
 When processing text sequentially in a buffer, you encounter a 2-byte character's high-order byte before its low-order byte. Thus you can determine the character relationship of a given byte (1-byte or 2-byte, high-order or low-order byte) by determining its byte type and, if necessary, comparing it with the byte type of the previous byte in the buffer.<A NAME=MARKER-2-392></A><P>
<A NAME=HEADING564-10></A>
<H3>Character-Type Table</H3>
 <A NAME=MARKER-2-393></A>The character-type table consists of one high-order byte table and a series of low-order byte tables.<P>
 The high-order byte table contains 256 word-length entries. The index position of each entry represents a high-order byte value. Nonzero entries mark valid high-order bytes of a 2-byte character. If a given entry is nonzero, it specifies which low-order byte table to consult to get character-type information.<P>
 There are one or more low-order byte tables, each of which can contain either a single entry or 256 word-length entries. If all low-order bytes for a given high-order byte have the same character type, the low-order byte "table" for that high-order byte consists of a single character-type value. Otherwise, every possible low-order byte is represented by an index into the table, with an appropriate character-type value at each valid index position.<P>
 For example, to find character-type information for the Japanese character with character code $EA40, you would examine location $EA in the high-order byte table; it would indicate the existence of a low-order byte table, and in that table you would examine location $40. That location would contain information showing that the character is a 2-byte JIS level-2 ideographic character that is part of the main character set.<P>
 Character types are discussed under the description of the <CODE>CharacterType</CODE> function in the chapter "Script Manager" in this book.<A NAME=MARKER-2-394></A>   <A NAME=MARKER-2-395></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-563.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-565.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
