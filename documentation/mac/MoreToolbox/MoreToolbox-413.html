<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Translating Files Explicitly (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING413></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-412.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-414.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-402.html"><B>Chapter 7 - Translation Manager</B></A> / <A HREF="MoreToolbox-408.html"><B>Using the Translation Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING413-0></A>
<H2><A NAME=MARKER-9-113></A>Translating Files Explicitly</H2>
 <A NAME=MARKER-2-391></A><A NAME=MARKER-2-115></A>It's possible that your application might open some document files without the assistance of the Finder or the Standard File Package. For example, your application might execute a script that contains the name of a file to open. Because you're bypassing the system software services that invoke implicit translation, you might need to modify your application to perform <B>explicit translation<A NAME=MARKER-2-116></A></B> (the conversion of a file or scrap with direct intervention from your application). The Translation Manager provides several routines that you can use to retrieve information about documents and about the document types that an application can open, as well as to translate documents from one format to another.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>Before calling the routines described in this section, you must make sure that they are available in the current operating environment. See <A HREF=MoreToolbox-409.html#MARKER-9-81>"Checking for the Translation Manager" on page 7-12</A> for details.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 You can use the <CODE>GetFileTypesThatAppCanNativelyOpen</CODE> function to get a list of file types that an application can open by itself. This function takes a volume reference number (where the application resides), an application signature, and a pointer to a buffer to be filled with up to 64 file types. It returns a pointer to the list of the file types that the application can open without translation.<A NAME=MARKER-2-21></A><P>
 You can use the <CODE>ExtendFileTypeList</CODE> function to get a list of all file types that the Translation Manager can translate into file types in a given list. This routine takes the original list, the number of file types in it, a pointer to a buffer to be filled with file types, and the maximum number of file types that can be put into the extended list. The <CODE>ExtendFileTypeList</CODE> function returns a list of all the file types that can be translated into some type in the original list.<A NAME=MARKER-9-93></A><P>
 You can use the <CODE>CanDocBeOpened</CODE> function to verify that a specified application can open the document that it is being requested to open. It takes the source document record, the volume reference number of the application that is to open the document, the creator application signature, and the list of file types that the application can open without translation. It returns a document-opening method (<CODE>howToOpen</CODE>) and document-translation method (<CODE>howToTranslate</CODE>). The choices for document-opening method are<A NAME=MARKER-2-119></A><A NAME=MARKER-2-115></A><P>
<UL>
<LI><CODE>domCannot</CODE>
<LI><CODE>domNative</CODE>
<LI><CODE>domTranslateFirst</CODE>
<LI><CODE>domWildcard</CODE><P>
</UL>
 The Translation Manager uses <CODE>howToTranslate</CODE> to get information on converting the document into a format the application can read. For more information on the <CODE>CanDocBeOpened</CODE> function, see <A HREF=MoreToolbox-426.html#MARKER-9-196>page 7-40</A>.<P>
 You can call the function <CODE>TranslateFile</CODE> to translate a file from one format to another. It takes the source document record, the destination document record, and the <CODE>howToTranslate</CODE> parameter returned by <CODE>CanDocBeOpened</CODE>. In the destination document record, <CODE>TranslateFile</CODE> returns the name and location of the translated file.<A NAME=MARKER-9-278></A><A NAME=MARKER-2-122></A><A NAME=MARKER-2-123></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-412.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-414.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
