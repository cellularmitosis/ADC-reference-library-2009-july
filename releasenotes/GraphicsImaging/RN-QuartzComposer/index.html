<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Quartz Composer Release Note for Mac OS X v10.5</title>
	<meta name="Generator" content="Gutenberg"/>
	<meta name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta name = "Copyright" content="Copyright 2009 AppleInc. All Rights Reserved."/>
	<meta name="IndexTitle" content="Quartz Composer Release Note for Mac OS X v10.5"/>
	<meta name="xcode-display" content="render"/>
	<meta id="RESOURCES" content="../../../documentation/Resources" />
	<link rel="stylesheet" type="text/css" href="../../../documentation/Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/pedia.js"></script>
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006639" title="Quartz Composer Release Note for Mac OS X v10.5"></a>
        <a name="top"></a>
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000872" target="_top">Release Notes</a> &gt; <a href="../index.html#//apple_ref/doc/uid/TP30000872-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../idxQuartz-date.html#//apple_ref/doc/uid/TP30000872-TP30000424-TP30000559">Quartz</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
                
        
        <a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_11" title="Quartz Composer Release Note for Mac OS X v10.5"></a><h1>Quartz Composer Release Note for Mac OS X v10.5</h1><p>This document summarizes the major changes to Quartz Composer in Leopard since the previous version released in Mac OS X v10.4. For a full description of the major improvements see the Release Notes available through the Help menu of the Quartz Composer application, which is located in:</p><p><code>/Developer/Applications/Quartz Composer.app</code>
</p>
<!-- This template is being used for both PDF and HTML. -->
<!-- TopicBook.pm currently relies on the element name bmini_toc. -->

    <h4>Contents:</h4>
    
    <p class="blockquote">

        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_1" target="_top">Redesigned Image Pipeline</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_2" target="_top">Composition Repository</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_3" target="_top">Support for Virtual Patches</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_4" target="_top">New and Updated Patches</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_5" target="_top">Quartz Composer Editor</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_6" target="_top">Quartz Composer Visualizer</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_7" target="_top">Quartz Composer Support in Automator</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_8" target="_top">Quartz Composer Developer Examples</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_9" target="_top">Quartz Composer API</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006639-DontLinkElementID_10" target="_top">Updated Reference Documentation</a>
                
            <br/>
            
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_1" title="Redesigned Image Pipeline"></a><h2>Redesigned Image Pipeline</h2><p>The Quartz Composer image pipeline is completely redesigned and provides the following major enhancements over its previous implementation:</p><ul class="ul"><li class="li"><p>Accurate color management</p></li><li class="li"><p>Support for arbitrary-sized images</p></li><li class="li"><p>Support for floating-point and half-floating point rendering</p></li><li class="li"><p>Improved sharing of resources between all <code>QCView</code>, <code>QCRenderer</code> and <code>QCCompositionLayer</code> objects in the same process</p></li><li class="li"><p>Simplified texture properties (texture target, texturing matrix)</p></li></ul><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_2" title="Composition Repository"></a><h2>Composition Repository</h2><p>To encourage sharing of compositions through the system and applications, there is a new system-wide repository of compositions in these locations:</p><ul class="ul"><li class="li"><p><code>/System/Library/Compositions</code></p></li><li class="li"><p><code>/Library/Compositions</code></p></li><li class="li"><code>~/Library/Compositions</code></li></ul><p>Compositions in the repository must comply to protocols—standardized sets of input and output ports. A composition can be added to the repository either by a user or an installer.  Application clients can find out what’s in the repository by querying it using the new APIs.</p><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_3" title="Support for Virtual Patches"></a><h2>Support for Virtual Patches</h2><p>You can now use composition files as virtual patches. All you need to do is place a composition file in either of these directories:</p><ul class="ul"><li class="li"><p><code>/Library/Graphics/Quartz Composer Patches</code></p></li><li class="li"><p><code>~/Library/Graphics/Quartz Composer Patches</code></p></li></ul><p>Composition files in these directories look like a native patch to Quartz Composer. You can instantiate them in your compositions as you would any of the built-in patches but, contrary to editor clips, each instantiation results in a non-editable virtual copy instead of a real autonomous copy. Furthermore, when saving a composition file that uses virtual patches, Quartz Composer stores only weak references. If the composition file corresponding to a given virtual patch is modified os missing, any composition that depends on it is affected.</p><p>To remove all dependencies to virtual patches from a composition, you can select "Save a Copy As..." while pressing the Option key. Quartz Composer then saves a flattened copy of the composition that embeds real copies of the virtual patches.</p><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_4" title="New and Updated Patches"></a><h2>New and Updated Patches</h2><p>Quartz Composer introduces a significant number of new patches in Mac OS X v105. It has also improved the functionality of many of the existing patches. For a list of what is new or updated, see the Release Notes available through the Help menu of the Quartz Composer application.</p><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_5" title="Quartz Composer Editor"></a><h2>Quartz Composer Editor</h2><p>The Quartz Composer editor include many, many changes. A summary of highlights include:</p><ul class="ul"><li class="li"><p>The  Patch Creator window replaces the Patch browser.  The new window is designed to allow users to quickly find a patch or clip and insert it into the graph by pressing Enter when a patch is selected. You can show the Patch Creator by pressing Command-Return. You can set an option in the Preferences pane to automatically hide the Patch Creator.</p></li><li class="li"><p>Users can now compare two compositions by choosing Compare Compositions from the File menu of the Editor. The comparison window that opens displays  rendering differences as well as differences between the two compositions.</p></li><li class="li"><p>When you open Quartz Composer, you see the Template Assistant. It’s designed to provide a starting point for creating compositions for the composition repository. You can create compositions that conform to multiple Protocols using the Protocol Conformance Editor.</p></li><li class="li"><p>The Metadata Editor provides a way to add information to a composition which may be read within your application, or by other users of your composition.</p></li><li class="li"><p>You can manage clips in the Clips pane of Preferences window.</p></li><li class="li"><p>There is a new Patch inputs pane that allows you to easily compare and edit selected patches input values.  It also shows the input parameters for the parent macro.</p></li><li class="li"><p>To ensure compositions will behave the same in both Mac OS X v10.4 as they do in Mac OS X v10.5, choose Editor > Display 10.4 Compatibility Information. You can also check which compositions won’t be able to run n safe environments (WebKit and QuickTime, for example). To do so, choose Editor > Indicate Unsafe Patches. <strong>Unsafe patches</strong> are those that have the potential to disclose personal user information or access certain hardware resources.</p></li><li class="li"><p>The size of the workspace is now unlimited. The editor supports zooming in several ways: using the scroll wheel, through toolbar buttons, by using keyboard commands. You can also fit the selected set of patches to the viewable workspace.</p></li><li class="li"><p>Previously you made a connection by clicking and dragging. Now you can now click ports to create connections. By using the Option modifier key you can now connect one output to multiple inputs in succession.</p></li><li class="li"><p>The Insert Input/Output Splitter contextual menu allows you to re-factor without breaking connections.</p></li><li class="li"><p>Select Upstream/Downstream Patches allows you to select patches that are connected to the current patch. Connections leading from the currently selected set of patches are highlighted to enhance the editing experience.</p></li><li class="li"><p>Workspace Notes allow you to document you compositions by grouping patches without tying them together at the execution level. You can rename a patches by double clicking its title.</p></li><li class="li"><p>The inspector has a new Inputs/Outputs pane for reordering ports on Macro patches. The Patch Description is now within the tool tip.</p></li><li class="li"><p>You can customize the dimensions and aspect ratios of the Viewer, including a much smaller minimum size. You can add a Snapshot item to the Viewer toolbar that lets you copy the current image to the clipboard.</p></li></ul><p>For a complete list of new and improved features, see the Release Notes available through the Help menu of the Quartz Composer application.</p><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_6" title="Quartz Composer Visualizer"></a><h2>Quartz Composer Visualizer</h2><p>There's a new Quartz Composer developer tool located in <code>/Developer/Applications/Graphic Tools</code>—Quartz Composer Visualizer. This application can render a Quartz Composition so that the rendered output spans multiple screens attached to a single computer or to a cluster of computers.</p><p>The source code of Quartz Composer Visualizer is located in <code>/Developer/Examples/Quartz Composer</code>.</p><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_7" title="Quartz Composer Support in Automator"></a><h2>Quartz Composer Support in Automator</h2><p>There are three new Automator actions for Quartz Composer:</p><ul class="ul"><li class="li"><p>Apply Quartz Composition Filter to Image Files</p></li><li class="li"><p>Convert Quartz Compositions to QuickTime Movies</p></li><li class="li"><p>Render Quartz Compositions to Image Files</p></li></ul><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_8" title="Quartz Composer Developer Examples"></a><h2>Quartz Composer Developer Examples</h2><p>The Quartz Composer Developer Examples, located in <code>/Developer/Examples/Quartz Composer</code>,   contain a many new demonstration compositions, custom patches, and applications that demonstrate a variety of techniques that you can use with Quartz Composer. Make sure to browse them all.</p><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_9" title="Quartz Composer API"></a><h2>Quartz Composer API</h2><p>The Quartz Composer programming interface includes these new classes:</p><ul class="ul"><li class="li"><p><code><a href="../../../documentation/Cocoa/Reference/QCPlugIn_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCPlugIn" target="_top">QCPlugIn</a></code> and <code><a href="../../../documentation/Cocoa/Reference/QCPlugInViewController_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCPlugInViewController" target="_top">QCPlugInViewController</a></code> support writing custom patches for Quartz Composer.</p></li><li class="li"><p><code><a href="../../../documentation/Cocoa/Reference/QCComposition_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCComposition" target="_top">QCComposition</a></code> is an opaque object that represents a Quartz composition, either created directly from a file on disk or from the composition repository.</p></li><li class="li"><p><code><a href="../../../documentation/Cocoa/Reference/QCCompositionRepository_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCCompositionRepository" target="_top">QCCompositionRepository</a></code> provides access to the system-wide repository of compositions that comply to standardized sets of inputs and outputs (also called protocols).</p></li><li class="li"><p><code><a href="../../../documentation/GraphicsImaging/Reference/QCCompositionLayer_class/Introduction/Introduction.html#//apple_ref/occ/cl/QCCompositionLayer" target="_top">QCCompositionLayer</a></code> is a Core Animation layer that renders a Quartz composition within Core Animation.</p></li><li class="li"><p><code><a href="../../../documentation/Cocoa/Reference/QCCompositionPickerView_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCCompositionPickerView" target="_top">QCCompositionPickerView</a></code> and <code><a href="../../../documentation/Cocoa/Reference/QCCompositionPickerPanel_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCCompositionPickerPanel" target="_top">QCCompositionPickerPanel</a></code> are views that display  a configurable picker that allows users to select a composition from the composition repository.</p></li><li class="li"><p><code><a href="../../../documentation/Cocoa/Reference/QCCompositionParameterView_Class/Introduction/Introduction.html#//apple_ref/occ/cl/QCCompositionParameterView" target="_top">QCCompositionParameterView</a></code> is a view that builds a standard user interface to edit the input parameters of a composition loaded on a  <code><a href="../../../documentation/GraphicsImaging/Reference/QuartzFramework/Classes/QCRenderer_Class/Reference/Reference.html#//apple_ref/occ/cl/QCRenderer" target="_top">QCRenderer</a></code> object.</p></li></ul><p>The <code><a href="../../../documentation/GraphicsImaging/Reference/QuartzFramework/Classes/QCView_Class/Reference/Reference.html#//apple_ref/occ/cl/QCView" target="_top">QCView</a></code> class has many new methods:</p><ul class="ul"><li class="li"><p>For loading and unloading compositions:
</p><ul class="simple-spaceabove"><li><p><code>- (BOOL) loadComposition:(QCComposition*)composition;</code></p></li><li><p><code>- (BOOL) isCompositionLoaded;</code></p></li><li><p><code>- (void) unloadComposition;</code></p></li></ul></li><li class="li"><p>To pause rendering:
</p><ul class="simple-spaceabove"><li><p><code>- (void) pauseRendering;</code></p></li><li><p><code>- (BOOL) isPausedRendering;</code></p></li><li><p><code>- (void) resumeRendering;</code></p></li></ul></li><li class="li"><p>To customize rendering by subclassing <code>QCView</code>:
</p><ul class="simple-spaceabove"><li><p><code>- (BOOL) renderAtTime:(NSTimeInterval)time arguments:(NSDictionary*)arguments;</code></p></li><li><p><code>- (NSOpenGLContext*) openGLContext;</code></p></li><li><p><code>- (NSOpenGLPixelFormat*) openGLPixelFormat;</code></p></li></ul></li><li class="li"><p>For retrieving composition results as a given data type:
</p><ul class="simple-spaceabove"><li><p><code>- (id) valueForOutputKey:(NSString*)key ofType:(NSString*)type;</code></p></li></ul></li><li class="li"><p>For controlling a composition from Interface Builder:
</p><ul class="simple-spaceabove"><li><p><code>- (IBAction) play:(id)sender;</code></p></li></ul></li></ul><p>The <code><a href="../../../documentation/GraphicsImaging/Reference/QuartzFramework/Classes/QCRenderer_Class/Reference/Reference.html#//apple_ref/occ/cl/QCRenderer" target="_top">QCRenderer</a></code> class has several new methods:</p><ul class="ul"><li class="li"><p>To create a <code>QCRenderer</code> from a <code>CGLContextObj</code> and a color space:
</p><ul class="simple-spaceabove"><li><p><code>- (id) initWithCGLContext:(CGLContextObj)context pixelFormat:(CGLPixelFormatObj)format colorSpace:(CGColorSpaceRef)colorSpace composition:(QCComposition*)composition;</code></p></li></ul></li><li class="li"><p>To create an offscreen <code>QCRenderer</code>:
</p><ul class="simple-spaceabove"><li><p><code>- (id) initOffScreenWithSize:(NSSize)size colorSpace:(CGColorSpaceRef)colorSpace composition:(QCComposition*)composition;</code></p></li></ul></li><li class="li"><p>To create a <code>QCRenderer</code> with a purely processing composition:
</p><ul class="simple-spaceabove"><li><p><code>- (id) initWithComposition:(QCComposition*)composition colorSpace:(CGColorSpaceRef)colorSpace;</code></p></li></ul></li><li class="li"><p>To capture <code>QCRenderer</code> contents as an <code>NSImage</code>, <code>CIImage</code>, <code>CGImage</code> or other image type:
</p><ul class="simple-spaceabove"><li><p><code>- (NSImage*) snapshotImage;</code></p></li><li><p><code>- (id) createSnapshotImageOfType:(NSString*)type;</code></p></li></ul></li></ul><p>Other updates include:</p><ul class="ul"><li class="li"><p>For optimal image passing between multiple Quartz Composer renderers, Quartz Composer supports a new opaque image, <code>QCImage</code>.</p></li><li class="li"><p>The methods <code>-[QCRenderer attributes]</code> and <code>-[QCView attributes]</code> now return all metadata stored in the composition.</p></li><li class="li"><p>When looking at port attributes for index ports, <code>QCPortAttributeMenuItemsKey</code> may be present and contain an <code>NSArray</code> of <code>NSString</code> objects that represent the menu item titles.
</p></li></ul><a name="//apple_ref/doc/uid/TP40006639-DontLinkElementID_10" title="Updated Reference Documentation"></a><h2>Updated Reference Documentation</h2><p>The complete documentation suites is updated for Mac OS X v10.5:</p><ul class="ul"><li class="li"><p><em><a href="../../../documentation/GraphicsImaging/Conceptual/QuartzComposer_Patch_PlugIn_ProgGuide/index.html#//apple_ref/doc/uid/TP40004787" target="_top">Quartz Composer Custom Patch Programming Guide</a></em>describes how to use the <code>QCPlugIn</code> class.</p></li><li class="li"><p><em><a href="../../../documentation/GraphicsImaging/Conceptual/QuartzComposerUserGuide/index.html#//apple_ref/doc/uid/TP40005381" target="_top">Quartz Composer User Guide</a></em> introduces the features in the latest Quartz Composer editor and describes how to create compositions.</p></li><li class="li"><p><em><a href="../../../documentation/GraphicsImaging/Conceptual/QuartzComposer/index.html#//apple_ref/doc/uid/TP40001357" target="_top">Quartz Composer Programming Guide</a></em> describes how to use the classes and methods provided in the API. In Mac OS X v10.4, this document included a description of the Quartz Composer editor. All information related to the editor is now in the user guide.</p></li><li class="li"><p><em><a href="../../../documentation/GraphicsImaging/Reference/QuartzComposerRef/index.html#//apple_ref/doc/uid/TP40001429" target="_top">Quartz Composer Reference Collection</a></em> provides reference documentation for the classes, protocols, and methods in the API. There are 8 new classes and 6 new protocols in Mac OS X v10.5.</p></li></ul>

        <br/><br/> 
        
        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/releasenotes/GraphicsImaging/RN-QuartzComposer/index.html%3Fid%3DTP40006639-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/releasenotes/GraphicsImaging/RN-QuartzComposer/index.html%3Fid%3DTP40006639-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/releasenotes/GraphicsImaging/RN-QuartzComposer/index.html%3Fid%3DTP40006639-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
</body>
</html>