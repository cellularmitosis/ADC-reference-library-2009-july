Read Me About OTStreamDumper1.0b1OTStreamDumper is a pass through STREAMS module that logs all of the data messages it sees to the STREAMS logging facility (strlog).  The code is pretty simple (it was largely derived from the DTS sample code “StreamNOP”) but the module is very useful when debugging STREAMS software, specifically problems with PPPoE implementations.Packing ListThe OTStreamDumper package contains the following items:• Read Me About OTStreamDumper — This document.• OTStreamDumper.mcp — A PPC project file to build the “OTStreamDumper” module.• OTStreamDumper — A compiled version of the OTStreamDumper.mcp project.• OTStreamDumper.c — Source to the OTStreamDumper module.Using OTStreamDumper to Debug PPPoEThis section describes a common use of OTStreamDumper, namely debugging PPPoE implementations. However, OTStreamDumper is not limited to debuging PPPoE.  You can adapt it for a variety of other debugging problems. After all, you have the source code to all of the components!Before you start debugging, you will need the following components:• OTStreamLogViewer — You can get this from the Apple developer web site.  It allows you to view the messages logged via the STREAMS logging facility (strlog). <http://developer.apple.com/samplecode/Sample_Code/Networking/  OTStreamLogViewer.htm>Chapter 8 of "OT Advanced Client Programming" gives more details about the STREAMS logging facility.  <http://developer.apple.com/macos/opentransport/OTAdvancedClientProg/    StandardModules.html#StreamLogging>• MoreAutoPush — This program lets you set up arbitrary autopushes. You can use it to establish an autopush of the OTStreamDumper module on top of a serial port.  This way you can see the data going in and out of the port without actually modifying any of your code.  Very neat.  <http://developer.apple.com/samplecode/Sample_Code/Networking/   MoreAutoPush.htm>The steps to debug your PPPoE driver using these tools are:1. Place a copy of the OTStreamDumper into your Extensions folder.2. Run “MoreAutoPush-PPC”.  At the prompt, enter the “p” command to set up an autopush. Then enter the name of your serial driver and hit return. Then enter “OTStreamDumper” and hit return.3. Launch OTStreamLogViewer and click the Start button.4. Run the Remote Access control panel and click Connect.  Remote Access will open a stream to your serial driver. The autopush (set up in step 2) will cause the OTStreamDumper module to be pushed on top of ARA's serial stream. The module will log the contents of any data message it sees.  OTStreamLogViewer is connected to the STREAMS logging facility and will display any messages that are dumped.One good way to debug your PPPoE is to take a trace of the data log when ARA is connected over a real modem and compare it to the trace when ARA is connect over your PPPoE pseudo-serial port.Building the SampleThis sample was built using the Metrowerks CodeWarrior Pro 2 environment upgraded to Universal Interfaces 3.3.2.To rebuild the sample, first open the project then choose Make from the Project menu to build the OTStreamDumper module.Credits and Version HistoryIf you find any problems with this sample, mail <DTS@apple.com> as the first line of your mail and I’ll try to fix them up.Version 1.0b1 (Oct 2000) is the first release.Share and EnjoyApple Developer Technical SupportNetworking, Communications, Hardware16 Oct 2000