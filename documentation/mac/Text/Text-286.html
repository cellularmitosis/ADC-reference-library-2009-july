<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Sorting Strings in Different Languages(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING286></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-285.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-287.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-279.html"><B>Chapter 5 - Text Utilities</B></A> / <A HREF="Text-284.html"><B>Using the Text Utilities</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING286-0></A>
<H2><A NAME=MARKER-2-75></A>Sorting Strings in Different Languages</H2>
 Strings in the same language must be sorted according to that language's sorting rules; information about these rules is found in resources that belong to that language's script system.<P>
 However, if the strings are in two different languages or writing systems, sorting order is also governed by rules about the order among languages or writing systems. For example, an application might need to sort names in English, French, and German, or it might need to sort an index of English and Japanese names written in Roman and Katakana characters.<P>
 If you only need to sort strings from a single language in your application, you don't need to read this section or use the routines that are described here. You can skip ahead to the section <A HREF=Text-287.html#MARKER-9-112>"Sorting Strings in the Same Language,"</A> which begins on <A HREF=Text-287.html#MARKER-9-112>page 5-12</A>.<P>
 When you sort strings in different languages, you must use routines that work with script-sorting and language-sorting information. The script-sorting (<CODE>'itlm'</CODE>) resource contains tables that define the sorting order among the languages or writing systems in each script system and among the different script systems that are available. It also shows the parent script for each language, the parent language for each region, and the default language for each script. The <CODE>ScriptOrder</CODE> function, which determines the sorting relationship between two script systems, and the <CODE>LanguageOrder</CODE> function, which determines the sorting relationship between two languages, use the tables in the script-sorting resource to determine their results. For more information on the script-sorting resource, see the appendix "International Resources" in this book.<A NAME=MARKER-2-37></A><P>
 To sort two Pascal strings in different languages, you begin by calling the <CODE>StringOrder</CODE> function. (You can use the <CODE>TextOrder</CODE> function to compare two text strings; it operates in the same way as does <CODE>StringOrder</CODE>.) The <CODE>StringOrder</CODE> function first calls the <CODE>ScriptOrder</CODE> function; if the script codes of the two strings are different, then <CODE>StringOrder</CODE> returns a result indicating the sorting relationship between the two script codes. For example, if the first string is from a Japanese script system and the second is from a Thai script system, then the second string comes before the first according to the tables in the script-sorting resource.<A NAME=MARKER-2-397></A><P>
 If both strings come from the same script system, <CODE>StringOrder</CODE> then compares their language codes by calling the <CODE>LanguageOrder</CODE> function. If the language codes of the two strings are different, then <CODE>StringOrder</CODE> returns a result indicating the sorting relationship between the two language codes. For example, if the first string is in English and the second is in German, then the first string comes before the second according to the tables in the script-sorting resource.<P>
 Finally, if the script codes and language codes for both strings are the same, then <CODE>StringOrder</CODE> compares the two strings using one of the comparison functions described in the next section, <A HREF=Text-287.html#MARKER-9-112>"Sorting Strings in the Same Language."</A><P>
 If you need to sort a collection of strings, you can choose to implement your sorting algorithm so that it uses <CODE>StringOrder</CODE> or <CODE>TextOrder</CODE>, or you can build a list for each language and/or for each script system and sort each list independently. If you want to use <CODE>StringOrder</CODE> or <CODE>TextOrder</CODE>, you need to store each string so that you can easily access its script code and language code during the sort.<P>
 It is usually desirable to sort all strings from a script system together, using the sorting rules that are associated with the current language for that script on the machine (and ignoring the different sorting rules for the different languages). For example, if you are sorting German, French, and English strings together for a system in England, you usually want the English sorting rules to be applied to all of those strings. In some cases, it may be more efficient to build a list for each language by using the language code of each to determine to which list it belongs. After building a list for each language, you can sort each with an algorithm that uses one of the comparison functions described in the next section, <A HREF=Text-287.html#MARKER-9-112>"Sorting Strings in the Same Language."</A><P>
 <A HREF=#MARKER-9-108>Figure 5-3</A> shows a collection of strings from different languages that need to be sorted.<A NAME=MARKER-9-10></A><A NAME=MARKER-2-231></A><P>
<B>Figure 5-3  <A NAME=MARKER-9-108></A>Strings in different languages in one list</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/TU_L-12.jpg">
 In <A HREF=#MARKER-9-109>Figure 5-4</A>, the strings have been sorted into two lists: one for each script system. The Roman script system strings have been sorted according to the sorting rules for English, which is assumed to be the current language for the script in this example.<P>
<B>Figure 5-4  <A NAME=MARKER-9-109></A>Strings in different languages sorted by script</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/TU_L-14.jpg">
 <A HREF=#MARKER-9-110>Figure 5-5</A> shows the same strings separated into three lists: one for each language. <BR>Each list has been sorted independently by applying the sorting rules for a language. The language lists in each script system have been ordered by calling the <CODE>LanguageOrder</CODE> function.<P>
<B>Figure 5-5  <A NAME=MARKER-9-110></A>Strings in different languages sorted by language within script</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/TU_L-15.jpg">
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-285.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-287.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
