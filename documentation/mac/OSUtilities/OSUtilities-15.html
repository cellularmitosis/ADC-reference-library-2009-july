<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The System Environment Record (IM: U)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING15></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="OSUtilities-14.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-16.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="OSUtilities-2.html"><B>Operating System Utilities</B></A> / <BR><DD><A HREF="OSUtilities-9.html"><B>Chapter 1 - Gestalt Manager</B></A> / <A HREF="OSUtilities-12.html"><B>Gestalt Manager Reference</B></A><BR><DL><DD><A HREF="OSUtilities-14.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING15-0></A>
<H3><A NAME=MARKER-9-468></A>The System Environment Record</H3>
 <A NAME=MARKER-2-1></A><A NAME=MARKER-9-85></A>The <CODE>SysEnvirons</CODE> function fills in a system environment record, which describes some aspects of the software and hardware environment.<P>
<PRE>
TYPE SysEnvRec =
   RECORD
      environsVersion:  Integer;
      machineType:      Integer;
      systemVersion:    Integer;
      processor:        Integer;
      hasFPU:           Boolean;
      hasColorQD:       Boolean;
      keyBoardType:     Integer;
      atDrvrVersNum:    Integer;
      sysVRefNum:       Integer;
   END;
</PRE>
<A NAME=HEADING15-3></A>
<H5>FIELD DESCRIPTIONS</H5>
<DL>
<DT><CODE>environsVersion</CODE>
<DD> The version number of the <CODE>SysEnvirons</CODE> function that was used to fill in the record.<A NAME=MARKER-0-30></A>
<DT>
<DD> When you call <CODE>SysEnvirons</CODE>, you specify a version number to ensure that you receive a system environment record that matches your expectations, as explained in the description of <CODE>SysEnvirons</CODE> beginning on <A HREF=OSUtilities-19.html#MARKER-9-491>page 1-32</A>. If you request a more recent version of <CODE>SysEnvirons</CODE> than is available, <CODE>SysEnvirons</CODE> places its own version number in the <CODE>environsVersion</CODE> field and returns a function result <CODE>envVersTooBig</CODE>.
<DT><CODE>machineType</CODE>
<DD> A code for the Macintosh model, which can be one of these values:<A NAME=MARKER-9-67></A><A NAME=MARKER-2-68></A>
</DL>
<PRE>
               CONST
                  envXL                = -2; {Macintosh XL}
                  envMac               = -1; {Macintosh with 64K }
                                             { ROM}
                  envMachUnknown       = 0;  {unknown model, }
                                             { after Macintosh }
                                             { IIfx}
                  env512KE             = 1;  {Macintosh 512K }
                                             { enhanced}
                  envMacPlus           = 2;  {Macintosh Plus}
                  envSE                = 3;  {Macintosh SE}
                  envMacII             = 4;  {Macintosh II}
                  envMacIIx            = 5;  {Macintosh IIx}
                  envMacIIcx           = 6;  {Macintosh IIcx}
                  envSE30              = 7;  {Macintosh SE30}
                  envPortable          = 8;  {Macintosh Portable}
                  envMacIIci           = 9;  {Macintosh IIci}
                  envMacIIfx           = 11; {Macintosh IIfx}
</PRE>
<DL>
<DT><B>Note</B>
<DD>Use Gestalt to obtain information about machine types not listed above.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
<DT><CODE>systemVersion</CODE>
<DD> The version number of the current System file, represented as two byte-long numbers with one or more implied decimal points. The value $0410, for example, represents system software version 4.1.<A NAME=MARKER-0-32></A>
<DT>
<DD> If you call <CODE>SysEnvirons</CODE> when a system earlier than 4.1 is running, the MPW glue places $0 in this field and returns a result code of <CODE>envNotPresent</CODE>.
<DT><CODE>processor</CODE>
<DD> <A NAME=MARKER-2-126></A>A code for the microprocessor, which can be one of these values:<A NAME=MARKER-2-131></A>
</DL>
<PRE>
               CONST
                  envCPUUnknown        = 0;  {unknown }
                                             { microprocessor}
                  env68000             = 1;  {MC68000}
                  env68010             = 2;  {MC68010}
                  env68020             = 3;  {MC68020}
                  env68030             = 4;  {MC68030}
                  env68040             = 5;  {MC68040}
</PRE>
<DL>
<DT><CODE>hasFPU</CODE>
<DD> A Boolean value that indicates whether hardware floating-point processing is available.<A NAME=MARKER-2-39></A>
<DT><CODE>hasColorQD</CODE>
<DD> A Boolean value that indicates whether Color QuickDraw is present. This field says nothing about the presence of a color monitor.<A NAME=MARKER-0-41></A>
<DT><CODE>keyboardType</CODE>
<DD> <A NAME=MARKER-2-143></A>A code for the keyboard type, which can be one of these values:<A NAME=MARKER-0-42></A>
</DL>
<PRE>
               CONST
                  envUnknownKbd     = 0;  {Macintosh Plus with }
                                          { keypad}
                  envMacKbd         = 1;  {Macintosh}
                  envMacAndPad      = 2;  {Macintosh with keypad}
                  envMacPlusKbd     = 3;  {Macintosh Plus}
                  envAExtendKbd     = 4;  {Apple extended}
                  envStandADBKbd    = 5;  {standard ADB}
                  envPrtblADBKbd    = 6;  {Macintosh Portable ADB}
                  envPrtblISOKbd    = 7;  {Macintosh Portable ISO}
                  envStdISOADBKbd   = 8;  {standard ISO ADB}
                  envExtISOADBKbd   = 9;  {extended ISO ADB}
</PRE>
<DL>
<DT><B>Note</B>
<DD>Use Gestalt to obtain information about keyboard types not listed above.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
<DT>
<DD> If the Apple Desktop Bus is in use, this field returns the keyboard type of the keyboard on which the last keystroke was made.
<DT><CODE>atDrvrVersNum</CODE>
<DD> The version number of the AppleTalk driver (specifically, the .MPP driver) currently installed. If AppleTalk is not loaded, this field is 0.<A NAME=MARKER-9-19></A>
<DT><CODE>sysVRefNum</CODE>
<DD> The working-directory reference number of the folder or volume that holds the open System file.<A NAME=MARKER-2-92></A><A NAME=MARKER-9-76></A><A NAME=MARKER-2-79></A><A NAME=MARKER-2-39></A>
</DL>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DT><A HREF="OSUtilities-15.html#HEADING15-3"><B></B>FIELD DESCRIPTIONS</A>
<DD>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="OSUtilities-14.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-16.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="OSUtilities-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
