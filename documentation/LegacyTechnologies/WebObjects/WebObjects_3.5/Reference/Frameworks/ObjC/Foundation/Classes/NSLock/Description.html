<html><head><title></title></head>

<body bgcolor="#ffffff">

 

 

<h1>

<FONT COLOR="#000066">

<a name="63">

 <a name="//apple_ref/occ/cl/NSLock">NSLock </a>

</a>

</FONT>

</h1>

<p><B>Inherits From:</B><BR>  

NSObject



<p><B>Conforms To:</B><BR>

NSLocking<br>

NSObject (NSObject)



<p><B>Declared In:	</B><BR>

Foundation/NSLock.h 



<p><a name="92"></a>

<a name="description"></a>

<H2>Class Description

</H2>

An NSLock object is used to coordinate the operation of multiple threads of execution within the same application. An NSLock object can be used to mediate access to an application's global data or to protect a critical section of code, allowing it to run atomically.<p>

An NSLock object represents a lock that can be acquired by only a single thread at a time. While one thread holds the lock, any other thread is prevented from doing so until the owner relinquishes the lock. An application can have multiple NSLock objects, each protecting different sections of code. However, each NSLock must be created before the application becomes multithreaded. <p>

The basic interface to NSLock is declared by the NSLocking protocol, which declares the <code>lock</code> and <code>unlock</code> methods. To this base, NSLock adds the <code>tryLock</code> and<code> </code><code>lockBeforeDate:</code> methods. Whereas the <code>lock</code> method declared in the protocol doesn't return until it is successful, the methods declared in this class add more flexible means of acquiring a lock.<p>

An NSLock could be used to coordinate the updating of a visual display shared by a number of threads involved in a single calculation:<p>

<blockquote><pre>BOOL moreToDo = YES;<br>NSLock *theLock = [[NSLock alloc] init];<br>...<br>while (moreToDo) {<br>    /* Do another increment of calculation */<br>    /* until there's no more to do. */<br>    if ([theLock tryLock]) {<br>        /* Update display used by all threads. */<br>        [theLock unlock];<br>    }<br>}

</pre></blockquote><p>The NSLock, NSConditionLock, and NSRecursiveLock classes all adopt the NSLocking protocol and offer various additional features and performance characteristics. See the NSConditionLock and NSRecursiveLock class descriptions for more information.<p>

<HR WIDTH="50%" ALIGN="LEFT">

<h2>Adopted Protocols</h2>  





<dl>

<dt>NSLocking<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="../../Protocols/NSLocking.html#//apple_ref/occ/intfm/NSLocking/lock" target="_top">- lock</a><dt><a href="../../Protocols/NSLocking/NSLocking.html#//apple_ref/occ/intfm/NSLocking/unlock" target="_top">- unlock</a></dl></dd>

</dl></dd></dl></dd></dl></dd></dl>

<a name="103">

<HR WIDTH="50%" ALIGN="LEFT">

<h2>Method Types

</h2>

</a><dl>

<dt>Acquiring a lock<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSLock/lockBeforeDate:">- lockBeforeDate:</a><dt><a href="#//apple_ref/occ/instm/NSLock/tryLock">- tryLock</a></dl></dd>

</dl></dd></dl></dd></dl></dd></dl>

<HR WIDTH="50%" ALIGN="LEFT">

<a name="instm"></a>

<h2>Instance Methods</h2>  





<a name="108"></a>

<h3><a name="//apple_ref/occ/instm/NSLock/lockBeforeDate:">lockBeforeDate:</a></h3>

- (BOOL)<code>lockBeforeDate:</code>(NSDate *)<em>limit</em>

<P>Attempts to acquire a lock before the date represented by <em>limit</em>. The thread is blocked until the receiver acquires the lock or <em>limit</em> is reached. Returns YES if the lock is acquired within this time limit. Returns NO if the time limit expires before a lock can be acquired.<p>

<hr WIDTH="25%" ALIGN="LEFT">

<a name="111"></a>

<h3> <a name="//apple_ref/occ/instm/NSLock/tryLock">tryLock</a></h3>

- (BOOL)<code>tryLock</code>

<P>Attempts to acquire a lock. Returns immediately, with a value of YES if successful and NO otherwise.<p>



 

 





<i>Copyright &#169; 1997, Apple Computer, Inc.   All rights

reserved.</i>



<!-- Last updated: 06/17/97 16:50:29 -->



</body>

</html>

