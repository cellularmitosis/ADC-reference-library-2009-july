<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Address Allocations</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.1b.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.1b.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.1d.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H1.Heading1"><A NAME="pgfId=3297"> </A><A NAME="41454"> </A>Address Allocations</H1><P CLASS="T1.Text1"><A NAME="pgfId=3298"> </A>The first implementation of Power Macintosh computers that uses the PCI bus reserves specific areas of the overall 32-bit address space for use by PCI expansion cards. Address allocation in the first Macintosh PCI system follows these general principles:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3299"> </A>A Power Macintosh system may contain up to four peer PowerPC-to-PCI host bridges. The functions of these bridges are described in <A HREF="PCI_BOOK.c.html#36893" CLASS="XRef">PCI Host Bridge Operation</A>.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3304"> </A>After each PCI host bridge, <A NAME="marker=3303"> </A>PCI-to-PCI bridges may be added in any configuration to create up to 256 PCI buses in the Power Macintosh hardware, the maximum that the PCI specification allows. However, properties that must be stored on disk or in NVRAM between system startups can be addressed only to five levels of PCI-to-PCI bridges behind each host bridge. Therefore the number of hardware PCI buses that the system software supports fully is limited to six times the number of host bridges, or 24 buses maximum.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3305"> </A>More than 1.8 GB of address space is allocated for PCI memory space.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3306"> </A>Remaining regions of the Macintosh 32-bit address space are allocated to system RAM, ROM, and control.</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=3308"> </A>The general memory allocation scheme for the first implementation of <A NAME="marker=3307"> </A>Power Macintosh computers with PCI buses is shown in <A HREF="PCI_BOOK.1c.html#27035" CLASS="XRef">Table&nbsp;2-1</A>. </P><DIV><blockquote><p CLASS="ImportantHead"><b><A NAME="pgfId=13785"> </A>IMPORTANT</b></p><P CLASS="I.Important"><A NAME="pgfId=3315"> </A>The information in <A HREF="PCI_BOOK.1c.html#27035" CLASS="XRef">Table&nbsp;2-1</A> is for illustrative purposes only. Neither hardware nor software should rely on the address map described therein.  </P></blockquote><b><P CLASS="Tb.Table"><A NAME="pgfId=3319"> </A>Table&nbsp;2-1	<A NAME="27035"> </A>Power Macintosh memory allocations</P></b><TABLE border=1 cellpadding=3><TR><TH ROWSPAN="1" COLSPAN="1"><P CLASS="TbH.TblHd"><A NAME="pgfId=3323"> </A>Address range</P></TH><TH ROWSPAN="1" COLSPAN="1"><P CLASS="TbH.TblHd"><A NAME="pgfId=3325"> </A>Usage</P></TH></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3327"> </A>0x0000 0000-0x7FFF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3329"> </A>System RAM</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3331"> </A>0x8000 0000-0xEFFF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3333"> </A>Available to PCI expansion cards</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3335"> </A>0xF000 0000-0xF1FF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3337"> </A>PCI host bridge 0 control</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3339"> </A>0xF200 0000-0xF3FF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3341"> </A>PCI host bridge 1 control</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3343"> </A>0xF400 0000-0xF5FF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3345"> </A>PCI host bridge 2 control</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3347"> </A>0xF600 0000-0xF7FF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3349"> </A>PCI host bridge 3 control</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3351"> </A>0xF800 0000-0xF8FF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3353"> </A>System control</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3355"> </A>0xF900 0000-0xFEFF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3357"> </A>Available to PCI expansion cards</FONT></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3359"> </A>0xFF00 0000-0xFFFF FFFF</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=3361"> </A>System ROM</FONT></TD></TR></TABLE></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.1b.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.1b.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.1d.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>