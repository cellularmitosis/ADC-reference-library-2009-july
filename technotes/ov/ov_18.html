<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note OV18: Resource in CDEV?</title><meta name="keywords" content="Mac OS 8 fwst resource CDEV control panels nrct"><meta name="Description" content="Technical Note OV18: This Technical Note discusses the 'fwst'resource added to some Control Panels under System 7.0 andlater. In its discussion, Technical Note describes the functionof the 'fwst', its importance to control panel developersand virus detector developers, and its interaction with otherCDEV resources.">                                                                              <meta name="categories" content="Overview"><meta name="week-posted" content="Jan 27, 1992 - Feb 7, 1992"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002616" title="Resource in CDEV?"></a><A NAME="top"></A><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note OV18</div>
<div id="pageheadsub">Resource in CDEV?</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->										<p id="menutext"><A HREF="#Section1">A New World for Control Panels</A><BR><BR> <A HREF="#Section2">What Is This 'fwst' Thing in My CDev?!?!?!</A><BR><BR> <A HREF="#Section3">One More Thing</A><BR><BR> <A HREF="#Section4">What Does This Have to Do With the 'fwst'?</A><BR><BR> <A HREF="#References">References</A><BR><BR> <A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext">This Technical Note discusses the new <code>'fwst'</code> resource added to some ControlPanels under System 7.0 and later.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Feb 01 1992]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR>          <!-- begin_content -->        <A NAME=Section1></A><h2>A New World for Control Panels</h2><p>System 7 changes many of the rules for Control Panels (cdevs), and thesechanges are very well documented in Chapter 10 of <i>Inside Macintosh</i>Volume VI. However, there is one thing <i>not</i> documented in <i>IM</i>VI that you need to be aware of, as it could cause you confusion andfrustration-- the <code>'fwst'</code> resource.</p><p>Two groups of developers should be interested in this information: ControlPanel developers and developers of virus and disk security software.</p><P><A HREF="#top">Back to top</A></P><a name="Section2"></a><h2>What Is This <code>'fwst'</code> Thing in My CDev?!?!?!</h2><p>OK, we admit it. The System can add a resource to your Control Panel. But itdoes it for a good reason, really!</p><p>Control Panels do not show up in the Control Panel desk accessory anymore. EachControl Panel a user opens will show up in its own window. Because of this, theFinder needs to have a way to remember (among other things) the position of theControl Panel window on the user's desktop so that the Finder can position theControl Panel in the same location every time the user opens it, thereby savingthe user from having to continually reposition the window.</p><p>A new resource type--the <code>'fwst'</code> resource--was created to keep track of theControl Panel window position (and other things). The contents of this resourceis private; you should make no assumptions about the contents, size, or use ofthe components of the <code>'fwst'</code> resource.  The only public aspect of this resourceis that it is used by the Finder to position a Control Panel window on the desktop.</p><p>The <code>'fwst'</code> resource does not automatically get added to your Control Panel. Ifa user opens your Control Panel and closes it without moving the Control Panelwindow, then no <code>'fwst'</code> resource is needed, since the default position for thewindow has not changed.</p><p>However, if the user moves the window and closes the Control Panel, a <code>'fwst'</code>resource is added. This tells the Finder where to place the Control Panelwindow when the user opens it up again. This obviously is a very user-friendlything to do. Users get consistent positioning of their windows, and are notfrustrated by having to shuffle windows all the time. Note, however, that itcould cause problems for you if you don't know that it may show up.</p><p>If you check your own resource fork for any reason (for example, scanning forviruses) you need to know that the <code>'fwst'</code> resource may be there. If it's there,that is normal, and you should not treat that as a damages resource fork or aviral infection. If you notice the <code>'fwst'</code> resource being added to a ControlPanel and if you are a virus protection or disk security software developer youshould not alert the user that a resource has been added or that a viral attackis taking place.</p><P><A HREF="#top">Back to top</A></P><a name="Section3"></a><h2>One More Thing</h2><p>The presence of an <code>'fwst'</code> resource has one more effect that you may find<i>very</i> frustrating, since until you know about it you can't figure it out.Another resource that you normally add to a Control Panel is the <code>'nrct'</code>resource. This resource is used to specify a list of rectangles that yourControl Panel used in the pre-System 7 Control Panel desk accessory.</p><p>The <code>'nrct'</code> rectangle resource  is described in <i>Inside Macintosh</i> VolumeV, and the removal of the size restriction is documented in <i>IM</i> VI.Basically, what <i>IM</i> VI says is that now, since each Control Panel has itsown window, your <code>'nrct'</code> does not have to fit inside the old Control Panelbounding rectangle. Your Control Panel under System 7 can be much bigger thanit was in any previous system.  One thing that <i>IM </i>VI doesn't explicitlysay is that the first rectangle in your <code>'nrct'</code> resource is the boundingrectangle for the Control Panel window under System 7 and later.</p><P><A HREF="#top">Back to top</A></P><a name="Section4"></a><h2>What Does This Have to Do With the <code>'fwst'</code>?</h2><p>The <code>'fwst'</code> takes precedence over the <code>'nrct'</code>. So, if you have a <code>'fwst'</code> in yourControl Panel, any changes to the first rectangle in your <code>'nrct'</code> will<i>not</i> be recognized!</p><p>This can be very frustrating during Control Panel development. You've beenmerrily debugging your Control Panel, moving it around the Finder, and makingsure everything works. You decide you need to add another item to the ControlPanel, and therefore you want the Control Panel window to be bigger. "Great,"think you,"System 7 doesn't care how big I make it!" and you go into ResEditand change your <code>'nrct'</code>.  You go back to the Finder, open the Control Panel, and nothing has changed!</p><p>What's happening is that the <code>'fwst'</code> is overriding the <code>'nrct'</code>. If you need tochange the <code>'nrct'</code> of your Control Panel, make <i>sure</i> you check to see ifthere is an <code>'fwst'</code> resource in your Control Panel's resource fork. If there is,delete it and make the necessary changes to your <code>'nrct'</code>. With no <code>'fwst'</code>, your<code>'nrct'</code> values will be recognized, and a new <code>'fwst'</code> reflecting the correctrectangle will be created if the window is moved.  Use ResEdit, your favoriteresource editor, or Rez in MPW to remove the <code>'fwst'</code>.  Here's a command line youcan add to MPW build script for your Control Panel that will remove the <code>'fwst'</code>resource from the Control Panel automatically during the build process.</p><p>Of course, replace <code>"{MyControlPanelName}" </code>with whatever name orvariable you are using in your build script to identify your Control Panel.</p><p>And remember to remove whatever <code>'fwst'</code> is in the Control Panel before your shipyour product.  This will let the Control Panel come up on your user's machinesin the default location, and the user can decide where he or she would like theControl Panel placed.</p><a name="References"></a><P><A HREF="#top">Back to top</A></P><h2>References</h2><p><i>Inside Macintosh</i>, Volume V,  The Control Panel</p><p><i>Inside Macintosh</i>, Volume VI,  Control Panels</p> <P><A HREF="#top">Back to top</A></P>         <P><A NAME=Downloads></A></P>                  <h2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (48K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/ov_18.pdf">Download</A></P>               </TD>            </TR>                    </TABLE>         <BR></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/ov/ov_18.html%3Fid%3DDTS10002616-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/ov/ov_18.html%3Fid%3DDTS10002616-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/ov/ov_18.html%3Fid%3DDTS10002616-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></html>