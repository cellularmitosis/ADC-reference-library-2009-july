<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>About AppleTalk Protocols Under Open Transport</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING59></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-58.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-60.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-10.html"><B>Part 1 - Open Transport Essentials</B></A><BR><DD><A HREF="NetworkingWOT-57.html"><B>Chapter 12 - Introduction to AppleTalk</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING59-0></A>
<H1>About AppleTalk Protocols Under Open Transport</H1>
 Each of the AppleTalk protocols implements a different set of functions and services, and your choice of which protocol to use depends primarily on your application's needs. For example, if you need a connection-oriented transactionless protocol to exchange data with another endpoint, ADSP is your most likely choice. Open Transport supports most AppleTalk protocols and provides protocol-specific options for various Open Transport functions. Which functions to use with which AppleTalk protocol, and which options are permitted for each, are discussed in this book in the specific chapter for each AppleTalk protocol.<B> <A NAME=MARKER-13-71></A></B><P>
 You use most AppleTalk protocols by specifying them explicitly when opening an endpoint. ADSP, ATP, and PAP fall into this category. Because DDP is the network delivery protocol for AppleTalk, you can specify it explicitly or, more often, you use it implicitly when you choose other higher-level AppleTalk protocols. <P>
 You don't use NBP and ZIP explicitly with endpoints: NBP-configured mapper providers access NBP to register and delete an application's name as a network-visible entity and to look up other endpoint names on the network; AppleTalk service providers use a subset of ZIP functions to provide applications with information about zones and the current AppleTalk environment. <P>
<DL>
<DT><B>Note</B>
<DD>In order to exchange data and share resources, nodes must be running the same protocol, but they do not all have to be running Open Transport. For example, if one endpoint is using ADSP to send data to an endpoint on another computer, the other endpoint must also be running ADSP, although it does not have to be the Open Transport ADSP implementation.   <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 Open Transport implements two connection-oriented transactionless AppleTalk protocols that you can use to send and receive data: ADSP and PAP. As discussed in <A HREF=NetworkingWOT-11.html#MARKER-9-20>"Introduction to Open Transport"</A> the decision of which protocol to use is typically based on whether it maintains a connection and uses discrete transactions or sends a stream of data. <P>
 Open Transport also implements two connectionless AppleTalk protocols that you can use to send and receive data: ATP and DDP. ATP is a transaction-based protocol and sends request transactions and receives replies; DDP does not send transactions, instead it sends individual packets of data, called <A NAME=MARKER-13-72></A><I>datagrams</I>, and expects no reply.<P>
 The AppleTalk protocols that Open Transport supports for endpoints are shown in <A HREF=#MARKER-9-22>Table 12-4</A>.<P>
<B>Table 12-4  Open Transport support for AppleTalk endpoint protocols </B>
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-22></A></CAPTION>
<TH>&nbsp;<TH>Connectionless&nbsp;&nbsp;<TH>Connection-oriented<TR>
<TD><EM>Transactionless</EM><TD>DDP<TD>ADSP<BR>PAP<TR>
<TD><EM>Transaction-based<&nbsp;/EM><TD>ATP<TD>&nbsp;</TABLE>
<P>
 In general, applications use ADSP for symmetrical data exchange between two peer endpoints and PAP for printing data. PAP is a client of ATP, so it takes advantage of ATP's reliable data delivery services. Because DDP underlies all AppleTalk data delivery, all AppleTalk protocols ultimately use DDP for data transport. <P>
<A NAME=HEADING59-9></A>
<H2>AppleTalk Addressing and the Name Binding Protocol (NBP)</H2>
 <A NAME=MARKER-13-73></A>Because AppleTalk assigns node IDs dynamically whenever a node joins the network or is rebooted, a node's address on an AppleTalk network can change from time to time. Applications cannot assume that the physical address of an AppleTalk endpoint is stable, and therefore a reliable mapping of user names to physical addresses is very important for AppleTalk. <P>
 The <B>Name-Binding Protocol (NBP)</B> is an AppleTalk protocol that maintains this mapping, and you can access this information through a mapper provider configured for NBP. Because AppleTalk supports dynamic name registration, NBP mapper providers can use the Open Transport name registration and deletion functions as well as the other mapper functions. <A NAME=MARKER-13-74></A><P>
 In order for you to make the name of your AppleTalk endpoint visible to other applications on a network, you must register its name. There are various ways of doing this: for example, using the <CODE>OTBind</CODE> function or opening a mapper provider. In either case, Open Transport uses NBP to associate the endpoint's name with its physical address. Once your application is registered, it is a network-visible entity that other applications can locate.<P>
 Through mapper library functions, AppleTalk applications can <P>
<UL>
<P><LI>register and delete endpoints as network-visible entities
<P><LI>look up other endpoint names, using wildcards as needed to match <BR>partial names 
<P><LI>initialize name and address structures
<P><LI>get and set endpoint name information<P>
</UL>
 See <A HREF=NetworkingWOT-34.html#MARKER-9-25>"Mappers"</A> for information about how to use Open Transport mapper providers and <A HREF=NetworkingWOT-63.html#MARKER-9-19>"AppleTalk Service Providers"</A> for information about how to use NBP mapper providers to identify and locate endpoints on a network. The two methods of registering a name are discussed in greater detail in <A HREF=NetworkingWOT-62.html#MARKER-9-55>"Registering Your Endpoint's Name"</A>.<A NAME=MARKER-13-75></A><P>
<A NAME=HEADING59-19></A>
<H2>The AppleTalk Service Provider </H2>
 An <A NAME=MARKER-13-76></A><B>AppleTalk service provider</B> is an Open Transport provider that gives applications access to information and services that are specific to the AppleTalk protocol stack. Applications use an AppleTalk service provider to obtain zone names and to get information about the current AppleTalk environment for a given machine. <P>
 The AppleTalk service provider is able to provide information about zones by implementing a subset of the Zone Information Protocol (ZIP). AppleTalk service provider functions allow applications to query routers for information about <P>
<UL>
<P><LI>their own node's zone name
<P><LI>the names of all the zones on their local network
<P><LI>the names of all the zones throughout the AppleTalk internet <A NAME=MARKER-13-21></A><P>
</UL>
 ZIP is implemented primarily in AppleTalk internet routers, each of which maintains a zone information table that maps the relationships between zone names and network numbers for AppleTalk networks.<P>
 See <A HREF=NetworkingWOT-63.html#MARKER-9-19>"AppleTalk Service Providers"</A> for information about how to use AppleTalk service providers.<P>
<A NAME=HEADING59-27></A>
<H2>Datagram Delivery Protocol (DDP)</H2>
 <A NAME=MARKER-13-78></A>The <B>Datagram Delivery Protocol</B> <B>(DDP)</B> is a connectionless transactionless protocol that transfers data between sockets as discrete packets, or <I>datagrams</I>, with each packet carrying its destination socket address. DDP attempts to deliver any packet with a valid address but does not inform the sender when it cannot deliver a packet, and it cannot request the sender to retransmit lost or damaged packets. This level of service is referred to as <B>best-effort delivery.</B> DDP does not include support to ensure that all sent packets are received at the destination or that those packets that are received are in the correct order. Higher-level protocols that use the services of DDP provide for reliable delivery of data. DDP uses whichever link-access protocol the user selects; that is, DDP can send its datagrams through any type of data link and transport media, provided the network hardware is compatible with Open Transport.<P>
 For real-time applications, or applications such as games that do not require reliable delivery of data, or diagnostic tools that retransmit at regular intervals to estimate averages, DDP suffices. DDP involves less overhead and provides faster performance than higher-level protocols. <P>
 See <A HREF=NetworkingWOT-66.html#MARKER-9-22>"Datagram Delivery Protocol (DDP)"</A> for information about how to use DDP under Open Transport. <A NAME=MARKER-13-79></A><P>
<A NAME=HEADING59-31></A>
<H2>AppleTalk Data Stream Protocol (ADSP)</H2>
 The <B>AppleTalk Data Stream Protocol</B> <B>(ADSP)</B> is a connection-oriented transactionless protocol that supports sessions over which applications can exchange full-duplex streams of data. In addition to ensuring reliable delivery of data, ADSP provides a peer-to-peer connection; that is, both ends of the connection can exert equal control over the exchange of data. ADSP also provides an application with a means of sending expedited attention messages to pass control information between the two communicating applications without disrupting the main flow of data. <A NAME=MARKER-13-80></A><P>
 ADSP appears to its clients to maintain an open pipeline between the two entities at either end. Either entity can write a stream of bytes to the pipeline or read data bytes from the pipeline. However, because ADSP, like all other higher-level AppleTalk protocols, is a client of DDP, the data is actually sent as packets. This allows ADSP to correct transmission errors in a way that would not be possible for a true data stream connection. Thus, ADSP retains many of the advantages of a transaction-based protocol while providing to its clients a connection-oriented full-duplex data stream.<P>
 See <A HREF=NetworkingWOT-69.html#MARKER-9-19>"AppleTalk Data Stream Protocol (ADSP)"</A> for information about how to use ADSP under Open Transport.<P>
<A NAME=HEADING59-35></A>
<H2>AppleTalk Transaction Protocol (ATP) </H2>
 The <B>AppleTalk Transaction Protocol</B> <B>(ATP)</B> is a connectionless transaction-based protocol that allows two endpoints to execute request-and-response transactions. Either ATP endpoint can request another ATP endpoint to perform an action; the other ATP endpoint then carries out the action and transmits a response reporting the outcome. ATP provides reliable delivery of data by ensuring that data packets are delivered in the correct sequence and by retransmitting any packets that are lost. <A NAME=MARKER-13-81></A><P>
 ATP is useful if your application sends small amounts of data and can tolerate a minor degree of performance degradation. Games that are based on request-and-response dialogs can make efficient use of ATP. <P>
 See <A HREF=NetworkingWOT-72.html#MARKER-9-24>"AppleTalk Transaction Protocol (ATP)"</A> for information about how to use ATP under Open Transport.<P>
<A NAME=HEADING59-39></A>
<H2>Printer Access Protocol (PAP)</H2>
 The <B>Printer Access Protocol (PAP)</B> is an asymmetrical connection-oriented transactionless protocol that enables communication between client and server endpoints, allowing multiple connections at both ends. PAP uses ATP packets to transport the data once a connection is open to the server. <A NAME=MARKER-13-82></A><P>
 PAP is the protocol that ImageWriter and LaserWriter printers in the AppleTalk environment use for direct printing--that is, when a workstation sends a print job directly to a printer connected to the network instead of using a print spooler. Open Transport PAP provides a single protocol implementation for all AppleTalk printers that is integrated into the AppleTalk protocol stack. <P>
 See <A HREF=NetworkingWOT-75.html#MARKER-9-19>"Printer Access Protocol (PAP)"</A> for information about how to use PAP under Open Transport. <P>
 <A NAME=MARKER-13-83></A><P>
 <P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DT><A HREF="NetworkingWOT-59.html#HEADING59-9">AppleTalk Addressing and the Name Binding Protocol (NBP)</A>
<DD>
<DT><A HREF="NetworkingWOT-59.html#HEADING59-19">The AppleTalk Service Provider </A>
<DD>
<DT><A HREF="NetworkingWOT-59.html#HEADING59-27">Datagram Delivery Protocol (DDP)</A>
<DD>
<DT><A HREF="NetworkingWOT-59.html#HEADING59-31">AppleTalk Data Stream Protocol (ADSP)</A>
<DD>
<DT><A HREF="NetworkingWOT-59.html#HEADING59-35">AppleTalk Transaction Protocol (ATP) </A>
<DD>
<DT><A HREF="NetworkingWOT-59.html#HEADING59-39">Printer Access Protocol (PAP)</A>
<DD>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-58.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-60.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
