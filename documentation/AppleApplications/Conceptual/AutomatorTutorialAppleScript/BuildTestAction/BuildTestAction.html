<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Automator AppleScript Actions Tutorial: Building and Testing the Action</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Building and Testing the Action"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002010-CH208" title="Building and Testing the Action"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../Automator-date.html#//apple_ref/doc/uid/TP30000440-TP30000418-TP40001673" target="_top">Automator</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40002010-CH201-DontLinkElementID_22">Automator AppleScript Actions Tutorial</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../WritingScript/WritingScript.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory/RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40002010-CH208-BAJCAACD" title="Building and Testing the Action"></a><h1>Building and Testing the Action</h1><p>You have completed the steps required to develop the Pass Random Items action. You’ve created the user interface, established bindings, specified the <code>Info.plist</code> properties, and written the script. It’s time to build and test the action.</p><p>But before you begin, look at how an action project sets up its executable for testing. Choose Edit Active Executable ‘Automator’ from the Project menu to display the Executable Info window. In the General pane of this window, you can see that the executable path is initialized to /Applications/Automator.app. Then click the tab for the Arguments pane; as <span class="content_text">Figure 7-1</span> shows, the <code>-action</code> argument passed to Automator tells it to load the Pass Random Items action.</p><br/><div><a name="//apple_ref/doc/uid/TP40002010-CH208-BAJJGJHG" title="Figure 7-1Executable settings for the Pass Random Items action"></a><p><strong>Figure 7-1&nbsp;&nbsp;</strong>Executable settings for the Pass Random Items action</p><img src = "../Art/executable_settings.gif" alt = "Executable settings for the Pass Random Items action" width="311" height="413"></div><br/><p>To build and test the action in Xcode, choose Build and Run from the Build menu. Xcode builds the action and then launches Automator. As part of the build process, Xcode runs the <code>amlint</code> utility to perform a number of action-specific tests. The results of these tests appear along with all other build results.</p><p>Assuming the action builds without error or warning and Automator launches, the next thing you should do is compose a workflow in which users would likely include the Pass Random Items action. <span class="content_text">Figure 7-2</span> shows a possible workflow. The Get Specified Finder Items actions allows you to select a collection of Finder items and then passes it to the Pass Random Items action. You can view the output of your action using the View Results action. Check to see if the correct number or percentage was passed and if the selection is truly random.</p><br/><div><a name="//apple_ref/doc/uid/TP40002010-CH208-BAJEGJBH" title="Figure 7-2Testing the Pass Random Items action in a workflow"></a><p><strong>Figure 7-2&nbsp;&nbsp;</strong>Testing the Pass Random Items action in a workflow</p><img src = "../Art/workflow_test.gif" alt = "Testing the Pass Random Items action in a workflow" width="473" height="443"></div><br/><p>Automator has its own set of actions that are useful in testing. To see them, disclose the Applications folder under the Library column of the application and select Automator. View Results is one of these actions. Others that you might find useful in action development and testing are the following:</p><ul class="ul"><li class="li"><p>Run AppleScript — Enables you to prototype a script before using it in an action.</p></li><li class="li"><p>Wait For User Action — Displays a message informing users what must be done at this point for the workflow; if the action isn’t completed by a specified period, it stops the workflow.</p></li><li class="li"><p>Confirmation Dialog — Allows you to pause or cancel execution of the workflow.</p></li></ul><p>If Xcode displays errors and warnings when you attempt to build the action, or if the action doesn’t behave as expected, and you cannot readily pinpoint the cause of the problem, you can either debug the action (using a special AppleScript debugger) or add log statements. To debug an AppleScript action:</p><ol class="ol"><li class="li"><p>In the Xcode script editor, set a breakpoint in the script. </p><p>Click in the gray strip next to the line you want the debugger to break on. A black breakpoint indicator appears in the gray strip.</p></li><li class="li"><p>Choose Build and Debug from the Build menu.</p></li><li class="li"><p>When Automator launches, construct a workflow with your action in it and execute it.</p><p>When your action runs, the Xcode AppleScript debugger shows a debugging window similar to the one in <span class="content_text">Figure 7-3</span>.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40002010-CH208-BAJICHHI" title="Figure 7-3The AppleScript debugger"></a><p><strong>Figure 7-3&nbsp;&nbsp;</strong>The AppleScript debugger</p><img src = "../Art/as_debugger.gif" alt = "The AppleScript debugger" width="603" height="563"></div><br/><p>The debugger lets you step through the script and shows the values of globals, locals, and properties.</p><p>You can also insert <code>log</code> or <code>display dialog</code> statements in the script at points where you want to display current values. If the log statement is inside an application <code>tell</code> block, use the <code>tell me to log</code> expression instead of the simple <code>log</code>.  The output of these statements appears in the Console log (not in the Automator log).</p><p>For additional debugging information, see the section “Frequently Asked Questions About Debugging Automator Actions” in “<span class="content_text"><a href="../../AutomatorConcepts/Articles/DevelopAction.html#//apple_ref/doc/uid/TP40001511" target="_top">Developing an Action</a></span>” in <em><a href="../../AutomatorConcepts/index.html#//apple_ref/doc/uid/TP40001450" target="_top">Automator Programming Guide</a></em>.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../WritingScript/WritingScript.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory/RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-18<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/AutomatorTutorialAppleScript/BuildTestAction/BuildTestAction.html%3Fid%3DTP40002010-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/AutomatorTutorialAppleScript/BuildTestAction/BuildTestAction.html%3Fid%3DTP40002010-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/AutomatorTutorialAppleScript/BuildTestAction/BuildTestAction.html%3Fid%3DTP40002010-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>