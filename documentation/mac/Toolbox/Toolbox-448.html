<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Creating Icons for the Finder(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING448></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-447.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-449.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-443.html"><B>Chapter 7 - Finder Interface</B></A> / <A HREF="Toolbox-446.html"><B>Using the Finder Interface</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING448-0></A>
<H2><A NAME=MARKER-9-139></A><A NAME=MARKER-21-140></A>Creating Icons for the Finder</H2>
 The Finder represents your files as icons. To distinguish your product for the user, you can design your own icons for all the files associated with your application, including<A NAME=MARKER-2-141></A><A NAME=MARKER-2-142></A><P>
<UL>
<LI>your application file itself
<LI>standard documents created by your application
<LI>stationery pads that users create from your application's documents
<LI>data-sharing editions that users create from your application's documents
<LI>other special documents, such as read-only, graphics, and query documents, which are either created by your Macintosh application or provided by you for use by other Macintosh applications<P>
</UL>
 For most effective display, you should create an icon family for each of your files. <BR>An <B>icon family </B>is the set of icons that represent a single object, such as an application <BR>or a document, that the Finder displays. An entire icon family consists of large <BR>(32-by-32 pixel) and small (16-by-16 pixel) icons, each with a mask, and each available <BR>in three different versions of color: black and white, 4 bits of color data per pixel, and <BR>8 bits of color data per pixel. Specifically, the following icons make up the icon family <BR>for a single file:<A NAME=MARKER-2-143></A><P>
<UL>
<LI>a large (32-by-32 pixel) black-and-white icon and mask--both of which you define in an icon list (<CODE>'ICN#'</CODE>) resource<A NAME=MARKER-2-144></A><A NAME=MARKER-2-240></A>
<LI>a small (16-by-16 pixel) black-and-white icon and mask--both of which you define in a small icon list (<CODE>'ics#'</CODE>) resource
<LI>a large (32-by-32 pixel) color icon with 4 bits of color data per pixel--which you define in a large 4-bit color icon (<CODE>'icl4'</CODE>) resource<A NAME=MARKER-2-148></A><A NAME=MARKER-2-150></A>
<LI>a small (16-by-16 pixel) color icon with 4 bits of color data per pixel--which you define in a small 4-bit color icon (<CODE>'ics4'</CODE>) resource<A NAME=MARKER-8-12></A>
<LI>a large (32-by-32 pixel) color icon with 8 bits of color data per pixel--which you define in a large 8-bit color icon (<CODE>'icl8'</CODE>) resource
<LI>a small (16-by-16 pixel) color icon with 8 bits of color data per pixel--which you define in a small 8-bit color icon (<CODE>'ics8'</CODE>) resource<A NAME=MARKER-2-153></A><A NAME=MARKER-2-154></A><A NAME=MARKER-8-14></A><P>
</UL>
 Plate 3 in the front of this book shows how the SurfWriter sample application uses these resources to define the icon family for its application icon.<P>
 Somewhat related to these resources are the icon (<CODE>'ICON'</CODE>) resource and the color icon (<CODE>'cicn'</CODE>) resource. You can use either to describe a 32-by-32 pixel icon within some element of your application. However, the Finder does <I>not</I> use or display any resources that you create of type <CODE>'ICON'</CODE> or type <CODE>'cicn'</CODE>. Instead, your application uses these resources to display icons within your application. Generally, you use an icon resource to display a black-and-white icon in a menu or dialog box, as described in the chapters "Menu Manager" and "Dialog Manager" in this book. (For example, the color alert box in Plate 2 in the front of this book specifies a resource of type <CODE>'cicn'</CODE> for the color icon in the upper-left corner of the alert box.) If you provide a color icon (<CODE>'cicn'</CODE>) resource with the same resource ID as the icon (<CODE>'ICON'</CODE>) resource, the Menu Manager and the Dialog Manager display the color icons instead of the black-and-white icons for users with color monitors.<A NAME=MARKER-2-156></A><P>
 Before creating icon families for your files, you should begin by designing a graphic element that all of your icon families can share and that can help the users quickly identify the files associated with your product. <A HREF=#MARKER-9-157>Figure 7-4</A>, for example, illustrates how <BR>a company uses the image of a wave in all of its application icons; these icons represent the SurfWriter text-editing application, the SurfPainter graphics application, and the SurfDB database application. As illustrated in Plate 4 at the front of this book, the wave element is also included in icons representing the documents, stationery pads, and editions that users create with these applications.<P>
<B>Figure 7-4  <A NAME=MARKER-9-157></A>Large black-and-white application icons for a company's product line</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/FI-SL-05.jpg"><P>
 If you do not design your own icons, the Finder uses a set of its own default application and document icons for display. <A HREF=#MARKER-9-166>Figure 7-5</A> shows the Finder's default large black-and- white icons. <A NAME=MARKER-2-158></A><A NAME=MARKER-2-159></A><A NAME=MARKER-2-46></A><A NAME=MARKER-2-161></A><A NAME=MARKER-2-162></A><A NAME=MARKER-2-163></A><A NAME=MARKER-2-164></A><A NAME=MARKER-2-165></A><P>
<B>Figure 7-5  <A NAME=MARKER-9-166></A><A NAME=MARKER-21-167></A>Default large black-and-white icons</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/FI-SL-01.jpg"><P>
<DL>
<DT><B>Note</B>
<DD><A NAME=MARKER-2-168></A>Desk accessories, displayed by default with the icon shown in <BR><A HREF=#MARKER-9-166>Figure 7-5</A>, were designed for early versions of Macintosh system software that did not support cooperative multitasking. Desk <BR>accessories and applications are much more alike in their appearance and behavior in System 7. Because there are no longer any compelling reasons for creating desk accessories, you should generally write a <BR>small application instead of a desk accessory if you wish to create <BR>a small or simple program.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 If you don't want the Finder to display the default icons for your application or documents, you must at least define an icon list (<CODE>'ICN#'</CODE>) resource for each icon. <P>
 The term <I>icon list</I> has become a bit of a misnomer, because you can define only two images in the icon list resource: a 32-by-32 pixel black-and-white icon and its mask. <BR>To define color and 16-by-16 pixel icons for a file, you create additional resources, as described later in this section. (If you don't define color versions of your icons, the Finder displays the black-and-white icon defined in your icon list resource on all displays, and if you don't define 16-by-16 pixel icons, the Finder algorithmically reduces the 32-by-32 pixel icon to half size when needed.)<A NAME=MARKER-2-169></A><A NAME=MARKER-2-170></A><A NAME=MARKER-2-171></A><A NAME=MARKER-2-172></A><A NAME=MARKER-2-499></A><A NAME=MARKER-2-174></A><P>
 An icon list resource defines one icon. It contains two icon descriptions: the actual icon for display and an all-black mask that shows the area covered by the icon. The Finder uses the mask to crop the icon's outline into whatever background color or pattern is on the desktop. The Finder then draws the icon into this shape. Therefore, it's important that the mask be exactly the same shape as the icon. The mask also defines the area that users need to click to select the icon. Therefore, it's best not to have any holes in the mask; otherwise, users may have trouble selecting your icon. <P>
 <A HREF=#MARKER-9-178>Figure 7-6</A> illustrates a black-and-white icon and its mask for an application. The area around the pencil just underneath the wave creates a problem with this sample icon and its mask: like a hole in a mask, it creates two small areas within the middle of the icon that the user cannot select with the cursor.<A NAME=MARKER-9-44></A><A NAME=MARKER-2-502></A><A NAME=MARKER-2-177></A><P>
<B>Figure 7-6  <A NAME=MARKER-9-178></A><A NAME=MARKER-21-179></A>A black-and-white icon and its mask for an application</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/FI-SL-02.jpg"><P>
 An icon list resource is defined to be an array of two items of type <CODE>String[128]</CODE>; each bit in the first array represents a pixel in the 32-by-32 pixel icon, and each bit in the second array represents a pixel in the 32-by-32 pixel mask. Typically, you use a high-level tool such as the ResEdit application, which is available through APDA, to create your icon list resources. <A HREF=#MARKER-9-181>Figure 7-7</A> shows how the icon list resource for the icon in <A HREF=#MARKER-9-178>Figure 7-6</A> was created using the ResEdit icon editor.<A NAME=MARKER-2-180></A> When you are satisfied with the appearance of your icons, you can use the DeRez decompiler to convert your icon list resources into Rez input. <P>
 <A HREF=#MARKER-9-183>Listing 7-2</A> is a partial listing of the icon list resource's Rez input that describes the application icon shown in <A HREF=#MARKER-9-181>Figure 7-7</A>; <A HREF=#MARKER-9-183>Listing 7-2</A> also shows partial listings for the icon list resources used for the icons that represent the documents created by the application. This listing and those that follow in this chapter use Rez input format to help you understand the format of the resources and see how they work together.<P>
<B>Figure 7-7  <A NAME=MARKER-9-181></A><A NAME=MARKER-21-182></A>The ResEdit view of an icon</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/FI-S-01.jpg"><P>
<B>Listing 7-2  <A NAME=MARKER-9-183></A><A NAME=MARKER-21-184></A>Rez input for an icon list resource</B><P>
<PRE>
data 'ICN#' (128, purgeable) {      /*application icon &amp; mask*/
                        /*array: 2 elements*/
                        /*[1]: the application icon*/
      $&quot;0E 00 00 00&quot;    /*1st line of icon: 4 bytes (32 bits)*/
      .                 /*32 lines total in icon*/
      .                 
      .
      ,                 /*[2]: the mask*/
      $&quot;0E 00 00 00     /*1st line of mask: 4 bytes (32 bits)*/
      .                 /*32 lines total in mask*/
      .
      .
};
data 'ICN#' (129, purgeable) {    /*text document icon and mask*/
                        /*icon data goes here*/
};
data 'ICN#' (130, purgeable) {      /*stationery pad icon &amp; mask*/
                        /*icon data goes here*/
};
data 'ICN#' (131, purgeable) {      /*edition icon &amp; mask*/
                        /*icon data goes here*/
};
</PRE>
 You can also define a small (16-by-16 pixel) version of your icon in a small icon list resource (that is, in a resource of resource type <CODE>'ics#'</CODE>). On black-and-white monitors, the Finder displays the small icon in windows when the user chooses by Small Icon <BR>from the View menu. On black-and-white monitors, the small icon also appears in the Application menu after the user launches your application and in the Apple menu if <BR>the user places your application or an alias to it in the Apple Menu Items folder. (Alias files and the Apple Menu Items folder are described, respectively, in <A HREF=Toolbox-459.html#MARKER-9-427>"Using Aliases" beginning on page 7-37</A> and <A HREF=Toolbox-460.html#MARKER-9-442>"Using the System Folder and Its Related Directories" beginning on page 7-39</A>.)<A NAME=MARKER-2-185></A><A NAME=MARKER-2-186></A><A NAME=MARKER-2-187></A><A NAME=MARKER-2-188></A><P>
 <A NAME=MARKER-2-189></A>You should also define color versions of both large and small icons by using several resource types. The resource for each icon variation has the same resource ID as the icon list resource that defines the large black-and-white icon. For example, if the resource ID number of your application icon's icon list resource is 128, its small icon list resource should have a resource ID number of 128; and the following resources should also have resource IDs of 128: the large 4-bit color icon resource, the small 4-bit color icon resource, the large 8-bit color icon resource, and the small 8-bit color icon resource.<P>
 Don't define masks for the resources that define color icons. The large 4-bit color icon resource and large 8-bit color icon resource use the black-and-white icon mask defined in their companion icon list resource, and the small 4-bit color icon resource and small 8-bit color icon resource use the black-and-white icon mask defined in their companion <CODE>'ics#'</CODE> resource. Because of this, the outline shapes of your color icons should exactly match those defined in your <CODE>'ICN#'</CODE> and <CODE>'ics#'</CODE> resources.<A NAME=MARKER-2-190></A><A NAME=MARKER-2-191></A><P>
 ResEdit 2.1 includes an icon family editor to help you easily manage the creation of these related resources. See the <I>ResEdit Reference</I> for details.<P>
 See <I>Macintosh Human Interface Guidelines</I> for information about the most effective use of color and shape for your icons. It is generally best that you first create the black-and- white icons in the icon list resource and small icon list resource and then add color to them using the resources that define color icons. Don't alter the shapes of your icons among these resources; otherwise, the masks defined in the icon list resource and the small icon list resource won't match these shapes. Choose your colors from the 36 recommended icon colors in the system palette. (If you use ResEdit 2.1, these colors appear in a palette when you choose Apple Icon Colors from the Color menu.) Note that you cannot specify your own color table for these resources.<A NAME=MARKER-2-192></A><A NAME=MARKER-2-193></A><A NAME=MARKER-2-194></A><A NAME=MARKER-2-195></A><P>
 For more information about color palettes, see <I>Inside Macintosh: Imaging</I>. Although the Palette Manager allows you to define a palette for the system to use when it needs to define the color environment, you should rely on the system palette colors for your icons. Users may often use the Finder when your application is not running, and the user can switch to another application when your application is running. Relying on the system palette gives your icons a more consistent look in the Finder regardless of what the active application is. Also, because users can change the desktop color and pattern, your application gives users more control over their work environment if your icons rely on the system palette. Users can always alter your color definitions by selecting an icon and choosing a color from the Label menu. The Finder then blends the chosen color into those of the selected icon. To restore the original colors, users must choose None from the Label menu.<A NAME=MARKER-2-196></A><A NAME=MARKER-2-197></A><A NAME=MARKER-2-198></A><A NAME=MARKER-2-199></A><A NAME=MARKER-2-200></A><A NAME=MARKER-2-201></A><P>
 If your application creates documents, it should also define at least two additional icon families: one to be displayed for documents created by your application and another <BR>to be displayed when the user creates a stationery pad from one of your applica-<BR>tion's documents. (<A HREF=Toolbox-456.html#MARKER-9-383>"Supporting Stationery Pads" beginning on page 7-32</A> describes stationery pads.)<A NAME=MARKER-9-70></A><A NAME=MARKER-9-150></A><A NAME=MARKER-9-135></A><P>
 If your application creates other variations of its documents, you can assist your users <BR>by providing different icons for the different documents. For example, TeachText has separate icon families to distinguish its read-only and graphics documents.<P>
 If your application supports data sharing through the Edition Manager, your application should also define an icon family for editions. The Edition Manager (described in <I><A HREF="../IAC/IAC-2.html">Inside Macintosh: Interapplication Communication</A></I>) allows users to share and automatically update data from numerous documents and applications. For example, a user might want to capture sales figures and totals from within a spreadsheet and then include this information in a word-processing document that summarizes sales for a given month. If both the spreadsheet and word-processing applications support the Edition Manager, the user begins by selecting data within the spreadsheet document and creating a publisher. The spreadsheet application then writes a copy of that data to a separate file, called an <I>edition</I>. The edition is represented by an icon; by default, it appears as the edition icon shown in <A HREF=#MARKER-9-166>Figure 7-5 on page 7-12</A>. If the user opens a word-processing document and creates a subscriber to the spreadsheet document's edition, the word-processing application then incorporates the desired sales figures and totals from the spreadsheet document's edition into the document.<P>
 If you design your application to create editions, consider creating an icon that uniquely identifies your editions and that associates them with your application's documents. The file type for your edition containers should be <CODE>'edtt'</CODE> (for text-oriented data), <CODE>'edtp'</CODE> (for graphics-oriented data), or <CODE>'edts'</CODE> (for sound-oriented data); and the creator, of course, should be the signature of your application.<A NAME=MARKER-2-206></A><P>
 If your Macintosh application is a database program or serves as a source for data (as <BR>a spreadsheet program often does), you might wish to create query documents so that other Macintosh applications can gain access to that data through the Data Access Manager; in this case, your application should also define an icon family for its query documents. (See <I>Inside Macintosh: Communications</I> for information on sharing data in <BR>this manner.)<A NAME=MARKER-2-207></A><P>
 Plate 4 at the front of this book shows the large color icons for the various documents that the sample SurfWriter application creates: text documents, stationery pads, <BR>and editions.<P>
 Defining icon resources is not enough to display your icons. In addition, you must follow one of two sets of procedures:<P>
<UL>
<LI>If you are an application developer, you must define file reference resources and a bundle resource for your application, as described in <A HREF=Toolbox-450.html#MARKER-9-233>"Creating File Reference Resources" beginning on page 7-17</A> and <A HREF=Toolbox-451.html#MARKER-9-262>"Creating a Bundle Resource" beginning on page 7-19</A>.
<LI>If you are an information provider or a database developer--that is, if you provide documents that are used by other applications--you don't need to create file reference resources or a bundle resource to provide document icons on Macintosh computers running System 7. You can instead create customized icons for your documents as described in the following section.<A NAME=MARKER-2-209></A><A NAME=MARKER-9-161></A><A NAME=MARKER-9-159></A><A NAME=MARKER-2-212></A><P>
</UL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-447.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-449.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
