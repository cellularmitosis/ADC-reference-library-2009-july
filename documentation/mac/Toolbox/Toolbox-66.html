<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PPostEvent(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING66></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-65.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-67.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-28.html"><B>Chapter 2 - Event Manager</B></A> / <A HREF="Toolbox-43.html"><B>Event Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-49.html"><B>Event Manager Routines</B></A> / <A HREF="Toolbox-64.html"><B>Sending Events</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING66-0></A>
<H3>PPostEvent</H3>
 <A NAME=MARKER-11-430></A><A NAME=MARKER-2-411></A>In most cases your application does not need to post events in the Operating System event queue; however, if you must do so, you can use the <CODE>PPostEvent</CODE> function.<P>
<PRE>
FUNCTION PPostEvent (eventCode: Integer; eventMsg: LongInt;
                     VAR qEl: EvQElPtr): OSErr;
</PRE>
<DL>
<DT><CODE>eventCode</CODE>
<DD> A value that indicates the type of event to post into the Operating System event queue. The types of events that can be posted in this queue are represented by these constants: <CODE>mouseDown</CODE>, <CODE>mouseUp</CODE>, <CODE>keyDown</CODE>, <CODE>keyUp</CODE>, <CODE>autoKey</CODE>, and <CODE>diskEvt</CODE>. Do not attempt to post any other type of event in the Operating System event queue.
<DT><CODE>eventMsg</CODE>
<DD> A long integer that contains the contents of the <CODE>message</CODE> field for the event that <CODE>PPostEvent</CODE> should post in the queue. 
<DT><CODE>qEl</CODE>
<DD> <CODE>PPostEvent</CODE> returns a pointer to the event queue entry of the posted event in this parameter.
</DL>
<A NAME=HEADING66-6></A>
<H5>DESCRIPTION</H5>
 In the <CODE>eventCode</CODE> and <CODE>eventMsg</CODE> parameters, you specify the value for the <CODE>what</CODE> and <CODE>message</CODE> fields of the event's event record. The <CODE>PPostEvent</CODE> function fills out the <CODE>when</CODE>, <CODE>where</CODE>, and <CODE>modifiers</CODE> fields of the event record with the current time, current mouse location, and current state of the modifier keys and mouse button.<P>
 The<DFN> <CODE>PPostEvent</CODE></DFN> function returns a pointer to the event queue entry of the posted event in the <CODE>qEl</CODE> parameter. You can change any fields of the posted event by changing the fields of its event queue entry. For example, you can change the posted event's modifier keys by changing the value of the evtQModifiers field of the event queue entry.<P>
 The <CODE>PPostEvent</CODE> function posts only events that are enabled by the system event mask. If the event queue is full, <CODE>PPostEvent</CODE> removes the oldest event in the queue and posts the new event.<P>
<DL>
<DT><B>WARNING</B>
<DD>Do not post any events other than mouse-down, mouse-up, key-down, key-up, auto-key, and disk-inserted events in the Operating System event queue. Attempting to post other events into the Operating <BR>System event queue interferes with the internal operation of the <BR>Event Manager. <EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
<A NAME=HEADING66-11></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 You must set up register A0 and register D0 before invoking <CODE>PPostEvent</CODE>. The <CODE>PPostEvent</CODE> function returns values in registers A0 and D0.
<TABLE BORDER="0" CELLPADDING=3><TH colspan=2>Registers on entry  <TR>
<TD>A0<TD>Event number (low-order word)<TR>
<TD>D0<TD>Event message (long)</TABLE>
 
<TABLE BORDER="0" CELLPADDING=3><TH colspan=2>Registers on exit<TR>
<TD>A0<TD>Pointer to an event queue entry (long)<TR>
<TD>D0<TD>Result code (low-order word)</TABLE>
<P>
<A NAME=HEADING66-13></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>evtNotEnb<TD>1<TD>Event type not valid--event not posted <A NAME=MARKER-2-483></A><TR>
<TD>noErr<TD>0<TD>No error</TABLE>
</H5>
<A NAME=HEADING66-14></A>
<H5>SEE ALSO</H5>
 For a description of the entries in the event queue, see <A HREF=Toolbox-48.html#MARKER-9-356>"The Event Queue" on page 2-83</A>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-65.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-67.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
