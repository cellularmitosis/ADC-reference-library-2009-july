<html><head><title>Mac OS X Developer Tools
 Manual Page For SSL_read(3ssl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3ssl/SSL_read" title="Mac OS X Developer Tools
 Manual Page for SSL_read(3ssl)"><a name="//apple_ref/doc/man/3/SSL_read" title="Mac OS X Developer Tools
 Manual Page for SSL_read(3ssl)"><!-- headerDoc=man; indexgroup=Section 3ssl; uid="//apple_ref/doc/man/3ssl/SSL_read"; name=SSL_read(3ssl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SSL_read(3)                                        OpenSSL                                       SSL_read(3)



<b>NAME</b>
       SSL_read - read bytes from a TLS/SSL connection.

<b>SYNOPSIS</b>
        #include &lt;openssl/ssl.h&gt;

        int SSL_read(SSL *ssl, void *buf, int num);

<b>DESCRIPTION</b>
       <u>SSL</u><b>_</b><u>read()</u> tries to read <b>num</b> bytes from the specified <b>ssl</b> into the buffer <b>buf</b>.

<b>NOTES</b>
       If necessary, <u>SSL</u><b>_</b><u>read()</u> will negotiate a TLS/SSL session, if not already explicitly performed by
       <a href="SSL_connect.3ssl.html#//apple_ref/doc/man/3/SSL_connect"><u>SSL</u><b>_</b><u>connect</u>(3)</a> or <a href="SSL_accept.3ssl.html#//apple_ref/doc/man/3/SSL_accept"><u>SSL</u><b>_</b><u>accept</u>(3)</a>. If the peer requests a re-negotiation, it will be performed
       transparently during the <u>SSL</u><b>_</b><u>read()</u> operation. The behaviour of <u>SSL</u><b>_</b><u>read()</u> depends on the underlying
       BIO.

       For the transparent negotiation to succeed, the <b>ssl</b> must have been initialized to client or server
       mode. This is being done by calling <a href="SSL_set_connect_state.3ssl.html#//apple_ref/doc/man/3/SSL_set_connect_state"><u>SSL</u><b>_</b><u>set</u><b>_</b><u>connect</u><b>_</b><u>state</u>(3)</a> or <u>SSL</u><b>_</b><u>set</u><b>_</b><u>accept</u><b>_</b><u>state()</u> before the
       first call to an <u>SSL</u><b>_</b><u>read()</u> or <a href="SSL_write.3ssl.html#//apple_ref/doc/man/3/SSL_write"><u>SSL</u><b>_</b><u>write</u>(3)</a> function.

       <u>SSL</u><b>_</b><u>read()</u> works based on the SSL/TLS records. The data are received in records (with a maximum
       record size of 16kB for SSLv3/TLSv1). Only when a record has been completely received, it can be
       processed (decryption and check of integrity). Therefore data that was not retrieved at the last call
       of <u>SSL</u><b>_</b><u>read()</u> can still be buffered inside the SSL layer and will be retrieved on the next call to
       <u>SSL</u><b>_</b><u>read()</u>. If <b>num</b> is higher than the number of bytes buffered, <u>SSL</u><b>_</b><u>read()</u> will return with the bytes
       buffered.  If no more bytes are in the buffer, <u>SSL</u><b>_</b><u>read()</u> will trigger the processing of the next
       record. Only when the record has been received and processed completely, <u>SSL</u><b>_</b><u>read()</u> will return
       reporting success. At most the contents of the record will be returned. As the size of an SSL/TLS
       record may exceed the maximum packet size of the underlying transport (e.g. TCP), it may be necessary
       to read several packets from the transport layer before the record is complete and <u>SSL</u><b>_</b><u>read()</u> can
       succeed.

       If the underlying BIO is <b>blocking</b>, <u>SSL</u><b>_</b><u>read()</u> will only return, once the read operation has been
       finished or an error occurred, except when a renegotiation take place, in which case a
       SSL_ERROR_WANT_READ may occur.  This behaviour can be controlled with the SSL_MODE_AUTO_RETRY flag of
       the <a href="SSL_CTX_set_mode.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_set_mode"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>set</u><b>_</b><u>mode</u>(3)</a> call.

       If the underlying BIO is <b>non-blocking</b>, <u>SSL</u><b>_</b><u>read()</u> will also return when the underlying BIO could not
       satisfy the needs of <u>SSL</u><b>_</b><u>read()</u> to continue the operation. In this case a call to <a href="SSL_get_error.3ssl.html#//apple_ref/doc/man/3/SSL_get_error"><u>SSL</u><b>_</b><u>get</u><b>_</b><u>error</u>(3)</a>
       with the return value of <u>SSL</u><b>_</b><u>read()</u> will yield <b>SSL_ERROR_WANT_READ</b> or <b>SSL_ERROR_WANT_WRITE</b>. As at any
       time a re-negotiation is possible, a call to <u>SSL</u><b>_</b><u>read()</u> can also cause write operations! The calling
       process then must repeat the call after taking appropriate action to satisfy the needs of <u>SSL</u><b>_</b><u>read()</u>.
       The action depends on the underlying BIO. When using a non-blocking socket, nothing is to be done,
       but <u>select()</u> can be used to check for the required condition. When using a buffering BIO, like a BIO
       pair, data must be written into or retrieved out of the BIO before being able to continue.

<b>WARNING</b>
       When an <u>SSL</u><b>_</b><u>read()</u> operation has to be repeated because of <b>SSL_ERROR_WANT_READ</b> or
       <b>SSL_ERROR_WANT_WRITE</b>, it must be repeated with the same arguments.

<b>RETURN</b> <b>VALUES</b>
       The following return values can occur:

       &gt;0  The read operation was successful; the return value is the number of bytes actually read from the
           TLS/SSL connection.

       0   The read operation was not successful. The reason may either be a clean shutdown due to a "close
           notify" alert sent by the peer (in which case the SSL_RECEIVED_SHUTDOWN flag in the ssl shutdown
           state is set (see <a href="SSL_shutdown.3ssl.html#//apple_ref/doc/man/3/SSL_shutdown"><u>SSL</u><b>_</b><u>shutdown</u>(3)</a>, <a href="SSL_set_shutdown.3ssl.html#//apple_ref/doc/man/3/SSL_set_shutdown"><u>SSL</u><b>_</b><u>set</u><b>_</b><u>shutdown</u>(3)</a>). It is also possible, that the peer
           simply shut down the underlying transport and the shutdown is incomplete. Call <u>SSL</u><b>_</b><u>get</u><b>_</b><u>error()</u>
           with the return value <b>ret</b> to find out, whether an error occurred or the connection was shut down
           cleanly (SSL_ERROR_ZERO_RETURN).

           SSLv2 (deprecated) does not support a shutdown alert protocol, so it can only be detected,
           whether the underlying connection was closed. It cannot be checked, whether the closure was
           initiated by the peer or by something else.

       &lt;0  The read operation was not successful, because either an error occurred or action must be taken
           by the calling process. Call <u>SSL</u><b>_</b><u>get</u><b>_</b><u>error()</u> with the return value <b>ret</b> to find out the reason.

<b>SEE</b> <b>ALSO</b>
       <a href="SSL_get_error.3ssl.html#//apple_ref/doc/man/3/SSL_get_error"><u>SSL</u><b>_</b><u>get</u><b>_</b><u>error</u>(3)</a>, <a href="SSL_write.3ssl.html#//apple_ref/doc/man/3/SSL_write"><u>SSL</u><b>_</b><u>write</u>(3)</a>, <a href="SSL_CTX_set_mode.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_set_mode"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>set</u><b>_</b><u>mode</u>(3)</a>, <a href="SSL_CTX_new.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_new"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>new</u>(3)</a>, <a href="SSL_connect.3ssl.html#//apple_ref/doc/man/3/SSL_connect"><u>SSL</u><b>_</b><u>connect</u>(3)</a>, <a href="SSL_accept.3ssl.html#//apple_ref/doc/man/3/SSL_accept"><u>SSL</u><b>_</b><u>accept</u>(3)</a>
       <a href="SSL_set_connect_state.3ssl.html#//apple_ref/doc/man/3/SSL_set_connect_state"><u>SSL</u><b>_</b><u>set</u><b>_</b><u>connect</u><b>_</b><u>state</u>(3)</a>, <a href="SSL_shutdown.3ssl.html#//apple_ref/doc/man/3/SSL_shutdown"><u>SSL</u><b>_</b><u>shutdown</u>(3)</a>, <a href="SSL_set_shutdown.3ssl.html#//apple_ref/doc/man/3/SSL_set_shutdown"><u>SSL</u><b>_</b><u>set</u><b>_</b><u>shutdown</u>(3)</a>, <a href="ssl.3ssl.html#//apple_ref/doc/man/3/ssl"><u>ssl</u>(3)</a>, <a href="bio.3ssl.html#//apple_ref/doc/man/3/bio"><u>bio</u>(3)</a>



0.9.7l                                           2001-09-13                                      SSL_read(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/SSL_read.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/SSL_read.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/SSL_read.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
