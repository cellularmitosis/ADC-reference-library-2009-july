<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Text Services Manager Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Text Services Manager Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000174-DontLinkChapterID_1" title="Text Services Manager Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxTextFonts-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">Text Services Manager Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000174-DontLinkChapterID_1-DontLinkElementID_8" title="Text Services Manager Reference"></a><h1>Text Services Manager Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">
Carbon/Carbon.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CarbonEvents.h</span><br/><span class="content_text">TextServices.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP30000174-DontLinkElementID_6" title="Overview"></a><h2>Overview</h2><p>The Text Services Manager (&quot;TSM&quot;) provides an environment
for applications to use non-application-specific text services.
The Text Services Manager handles communication between client applications
that request text services and the software modules, known as text
service components, that provide them. The Text Services Manager
exists so that these two types of programs can work together without
needing to know anything about the internal structures or identities
of each other.</p><p>A <strong>client application</strong> is any text-processing
program that uses the Text Services Manager to request a service
from a text service component. To accomplish this, a client application needs
to make specific Text Services Manager calls during execution.</p><p>A <strong>text service component</strong> is a utility program
that uses the Text Services Manager to provide a text service to
an application. Text service components are registered components
with the Component Manager. Text services can include many different
types of specific text-handling tasks, including spell-checking,
hyphenation, and handling the input of complex text.</p><p>The most prevalent category of text services are those that
handle the entry of complex text, that is, input methods. A typical
example of an input method is a service that converts keyboard input
into text that cannot be directly entered via a keyboard. Text input
in Japanese, Chinese, Korean, or Unicode usually requires an input
method.</p><p>TSM introduces input modes in Mac OS X version 10.3. An <strong>input
mode</strong> allows an input method to temporarily accept text
input in a script other than the one it normally supports. An input
method uses a CFDictionary to define the input modes it supports
and the tag <code>kTextServiceInputModePropertyTag</code> to
specify that the input method supports input modes. An application
finds out what input modes are supported by an input method by calling
the function <code><a href="reference.html#//apple_ref/doc/c_ref/CopyTextServiceInputModeList">CopyTextServiceInputModeList</a></code>. </p><p>Also new in Mac OS X version 10.3 is a suite of Carbon events
that allow a text service relatively direct access to a document's
text content and text attributes, such as font and glyph information.
To take advantage of this new functionality in TSM, all text and
offsets in your application must map to and from a flattened Unicode
space. Your application must also implement callback functions to
handle the appropriate Carbon events.</p><p>Mac OS X version 10.4 introduces input mode palette configuration
routines.</p><p>The Text Services Manager defines three separate programming
interfaces:</p><ul class="ul"><li class="li"><p>The first are functions implemented by the Text
Services Manager and called by the application clients of text service
components.</p></li>
<li class="li"><p>The second are functions implemented by the Text Services
Manager and called by text service components.</p></li>
<li class="li"><p>The third are low-level functions implemented by text service
components and called by either applications or the Text Services
Manager.</p></li></ul>









<a name="//apple_ref/doc/uid/TP30000174-DontLinkChapterID_1-DontLinkElementID_7" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-86430" title="Applications - Facilitating User Interactions With Components"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF103" title="Applications - Facilitating User Interactions With Components"></a>
    
    <h3 class="tasks">Applications - Facilitating User Interactions With Components</h3>
        
    <ul class="tooltip">
            
            
            
            
            
            
            
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CopyTextServiceInputModeList">CopyTextServiceInputModeList</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains a copy of the set of input modes supported by a keyboard-class input method.'/>
            </span></li>
            
            
            
            
    <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/CloseTextService">CloseTextService</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Closes a text service component, other than an input method, and disassociates it from the active TSM document.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetDefaultInputMethod">GetDefaultInputMethod</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains the default input method text service component for a given script and language.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetDefaultInputMethodOfClass">GetDefaultInputMethodOfClass</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains the default input method text service component for a given text service class.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetServiceList">GetServiceList</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains a list of the text service components of a specified type that are currently available.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetTextServiceLanguage">GetTextServiceLanguage</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains the current input script and language.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a text service component, other than an input method, and associates it with a TSM document.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/SetDefaultInputMethod">SetDefaultInputMethod</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a default input method to a given script and language.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/SetDefaultInputMethodOfClass">SetDefaultInputMethodOfClass</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the default input method text service component for a given text service class.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/SetTextServiceLanguage">SetTextServiceLanguage</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Changes the current input script and language.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/TSMCopyInputMethodEnabledInputModes">TSMCopyInputMethodEnabledInputModes</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtain the array of the enabled (and visible) input modes for a component.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/TSMSelectInputMode">TSMSelectInputMode</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the specified input method input mode as the current input source.'/>
            </span></li></ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-89113" title="Applications - Managing TSM Documents"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF104" title="Applications - Managing TSM Documents"></a>
    
    <h3 class="tasks">Applications - Managing TSM Documents</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a TSM document and returns a handle to the document’s ID.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DeleteTSMDocument">DeleteTSMDocument</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Closes all opened text service components for the TSM document.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ActivateTSMDocument">ActivateTSMDocument</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the Text Services Manager that a TSM document is active.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DeactivateTSMDocument">DeactivateTSMDocument</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the Text Services Manager that a TSM document is inactive.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FixTSMDocument">FixTSMDocument</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the Text Services Manager that user input for a TSM document has been interrupted.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/UseInputWindow">UseInputWindow</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Associates a floating input window with one or more TSM documents.'/>
            </span></li>
            
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/TSMGetActiveDocument">TSMGetActiveDocument</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains the active TSM document in the current application context.'/>
            </span></li>
    <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/TSMSetInlineInputRegion">TSMSetInlineInputRegion</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Defines a region within a TSM document in which inline input can occur.'/>
            </span></li></ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-95961" title="Components - Sending Events"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF105" title="Components - Sending Events"></a>
    
    <h3 class="tasks">Components - Sending Events</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends Carbon text input events from a text service component to a client application.'/>
            </span></li>
            
    <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/SendAEFromTSMComponent">SendAEFromTSMComponent</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends Apple events from a text service component to a client application. '/>
            </span></li></ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-97152" title="Low Level - Accessing Text Service Properties"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF106" title="Low Level - Accessing Text Service Properties"></a>
    
    <h3 class="tasks">Low Level - Accessing Text Service Properties</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTextServiceProperty">SetTextServiceProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that one of its properties has been selected.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTextServiceProperty">GetTextServiceProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that it must identify the current value of one of its properties.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-98117" title="Low Level - Confirming Text Service Input"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF107" title="Low Level - Confirming Text Service Input"></a>
    
    <h3 class="tasks">Low Level - Confirming Text Service Input</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FixTextService">FixTextService</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that it must complete the processing of any input that is in progress.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-100658" title="Low Level - Managing Text Service States"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF108" title="Low Level - Managing Text Service States"></a>
    
    <h3 class="tasks">Low Level - Managing Text Service States</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/InitiateTextService">InitiateTextService</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that it must perform any necessary set-up tasks and begin operating.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ActivateTextService">ActivateTextService</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that its associated document window is becoming active.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DeactivateTextService">DeactivateTextService</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that its associated document window is becoming inactive.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/TerminateTextService">TerminateTextService</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that it must terminate its operations in preparation for closing.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/HidePaletteWindows">HidePaletteWindows</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that it must hide its floating windows.'/>
            </span></li>
            
            
            
    <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/DeselectTextService">DeselectTextService</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies TSM that an input method has been closed.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/IsTextServiceSelected">IsTextServiceSelected</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines if a text service component is selected.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/SelectTextService">SelectTextService</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Selects a text service.'/>
            </span></li></ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-102721" title="Low Level - Querying Text Services"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF109" title="Low Level - Querying Text Services"></a>
    
    <h3 class="tasks">Low Level - Querying Text Services</h3>
        
    <ul class="tooltip">
            
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTextServiceMenu">GetTextServiceMenu</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that it must produce a handle to its menu.'/>
            </span></li>
    <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetScriptLanguageSupport">GetScriptLanguageSupport</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies a text service component that it must produce a list of its supported languages and scripts.'/>
            </span></li></ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-103776" title="Low Level - Sending Events to Text Services"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF110" title="Low Level - Sending Events to Text Services"></a>
    
    <h3 class="tasks">Low Level - Sending Events to Text Services</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/TextServiceEventRef">TextServiceEventRef</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Provides an opportunity for a text service component to handle a Carbon event.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-138528" title="Working With Document Properties"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF111" title="Working With Document Properties"></a>
    
    <h3 class="tasks">Working With Document Properties</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/TSMSetDocumentProperty">TSMSetDocumentProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a property for a TSM document.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/TSMGetDocumentProperty">TSMGetDocumentProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains a TSM document property.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/TSMRemoveDocumentProperty">TSMRemoveDocumentProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a property from a TSM document.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000174-CH1g-195879" title="Input Mode Palette Configuration"></a>
    
    <h3 class="tasks">Input Mode Palette Configuration</h3>
        
    <ul class="tooltip">
            
            
            
            
    <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetInputModePaletteMenu">GetInputModePaletteMenu</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains from an input method the menu to display for a pull-down menu on the input mode palette.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/InputModePaletteItemHit">InputModePaletteItemHit</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs an input method that a function button on the input mode palette was pressed.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/TSMInputModePaletteLoadButtons">TSMInputModePaletteLoadButtons</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies the input mode palette of changes to the controls for an input method and replaces the current controls with the new control array.'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/TSMInputModePaletteUpdateButtons">TSMInputModePaletteUpdateButtons</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies the input mode palette of changes to the controls for an input method and updates the controls.'/>
            </span></li></ul>

<a name="//apple_ref/doc/uid/TP30000174-CH1g-86397" title="Functions"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-TPXREF102" title="Functions"></a><h2>Functions</h2>




















































<a name="//apple_ref/c/func/ActivateTextService" title="ActivateTextService"></a><a name="//apple_ref/doc/c_ref/ActivateTextService" title="ActivateTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F00012" title="ActivateTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_11"></a><h3 class="tight">ActivateTextService</h3>
<p class="spaceabove">Notifies a text service component that its associated document window is becoming active.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> ActivateTextService (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components must implement a function for this call.</p>
<p>The appropriate response to <code>ActivateTextService</code> is for the text service component to restore its active state, including displaying all floating windows if they have been hidden. (Note that typically an input-method component should not hide its windows in response to being deactivated. If the subsequent document being activated is using the same component’s service, it would be irritating to the user to hide and then immediately redisplay the same windows. An input-method component should hide its windows only in response to a <code>HidePaletteWindows</code> call.) If the component is an input method, it should specify the redisplay of any unconfirmed text currently in the active input area.</p>
<p>The Text Services Manager makes this call either on its own or in response to application-interface calls it receives from client applications. Client applications may directly make this call, but the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/ActivateTSMDocument" title="ActivateTSMDocument"></a><a name="//apple_ref/doc/c_ref/ActivateTSMDocument" title="ActivateTSMDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F00013" title="ActivateTSMDocument"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_12"></a><h3 class="tight">ActivateTSMDocument</h3>
<p class="spaceabove">Informs the Text Services Manager that a TSM document is active.</p>
<p class="spaceabove"><pre>
OSErr ActivateTSMDocument (
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> idocID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>idocID</em></dt>
<dd><p>A TSM document identification number created by a prior call to the <code><a href="reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code> function. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>When a window that has an associated TSM document becomes active, your client application must call the <code>ActivateTSMDocument</code> function to inform the Text Services Manager that the document is activated and is ready to use text service components.</p>
<p><code>ActivateTSMDocument</code> calls the equivalent text service component function <code><a href="reference.html#//apple_ref/c/func/ActivateTextService">ActivateTextService</a></code> for all open text service components associated with the TSM document.</p>
<p>If a text service component has a menu, the Text Services Manager inserts the menu into the menu bar. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/CopyTextServiceInputModeList" title="CopyTextServiceInputModeList"></a><a name="//apple_ref/doc/c_ref/CopyTextServiceInputModeList" title="CopyTextServiceInputModeList"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-BAJDIIBE" title="CopyTextServiceInputModeList"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_14"></a><h3 class="tight">CopyTextServiceInputModeList</h3>
<p class="spaceabove">Obtains a copy of the set of input modes supported by a keyboard-class input method.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> CopyTextServiceInputModeList (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts,
   <a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> *outInputModes
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>The component whose set of input modes you want to obtain.</p></dd>
<dt><em>outInputModes</em></dt>
<dd><p>On output, the CFDictionary contains the list of supported input modes. See the Discussion for more information on the structure and requirements of the dictionary.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>This function is supported by input methods that adopt the input mode protocol. If this component call is not supported by an input method, calls to functions that access text service properties (using the tag <code>kTextServiceInputModePropertyTag</code>) return the result <code>tsmComponentPropertyUnsupportedErr</code>. </p>
<p>The CFDictionary of input modes (available in TSM 2.2 and later) must have the following form:</p>
<div class="codesample"><table><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key> kTSInputModeListKey &lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key> modeSignature : (internal ascii name)&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!-- This can be any of the generic input modes defined in this  file,--><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!-- such as kTextServiceInputModeRoman,or can be a private input--><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!-- mode such as CFSTR("com.apple.MyInputmethod.Japanese.CoolMode")  --><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>menuIconFile&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;string> (path for menu icon image file)&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>alternateMenuIconFile&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;string> (path for alternate menu icon image file, when item  is hilited)&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>paletteIconFile&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;string> (path for palette icon image file) &lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>defaultState&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;boolean> (default on/off state) &lt;/boolean><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>script&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;string> (scriptCode string for this mode, for example, "smRoman")  &lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>primaryInScript&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;boolean> (true if this is primary mode in this script) &lt;/boolean><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>isVisible&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;boolean> (true if this input mode should appear in System  UI) &lt;/boolean><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>keyEquivalentModifiers&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;integer> (modifiers)&lt;/integer><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>keyEquivalent&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;string> (key equivalent character) &lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;key>JISKeyboardShortcut&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;integer> (optional: 0=none,1=hiragana, 2=katakana, 3=eisu)  &lt;/integer><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr></table></div>
<p>This dictionary must also be present in the Info.plist for the component bundle, in addition to being available through this component call. Availability in the Info.plist allows retrieval of input modes by the system without opening the component. The component call is used whenever the system is notified of a change in the contents of the input mode list, such as when the name or key-equivalents of individual input modes have changed.</p>
<p>If, when the input method is first activated in a login session, the settings of the individual input modes (names or key-equivalents) differ from the default settings as found in the component bundle Info.plist, the system needs to be notified of the change. The input method does this by sending out the Carbon event <code>kEventTextInputInputMenuChanged</code>, just as when the change originally took place.</p>
<p>For more information on the dictionary keys used to define input modes and the input mode dictionary, see <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Input_Mode_Dictionary_Key">“Input Mode Dictionary Key”</a></span> and <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Individual_Input_Mode_Keys">“Individual Input Mode Keys.”</a></span> </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.3 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/DeactivateTextService" title="DeactivateTextService"></a><a name="//apple_ref/doc/c_ref/DeactivateTextService" title="DeactivateTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F01017" title="DeactivateTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_15"></a><h3 class="tight">DeactivateTextService</h3>
<p class="spaceabove">Notifies a text service component that its associated document window is becoming inactive.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> DeactivateTextService (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components must implement a function for this call.</p>
<p>When it receives a <code>DeactivateTextService</code> call, the text service component is responsible for saving whatever state information it needs to save, so that it can restore the proper information when it becomes active again. Note that an input method should not confirm any unconfirmed text in the active input area, but should save it until reactivated.</p>
<p>A component other than an input method should hide all its floating windows and menus. However, an input-method component should not hide its windows in response to this call. If the subsequent document being activated is using the same component’s service, it would be irritating to the user to hide and then immediately redisplay the same windows. An input-method component should hide its windows only in response to a <code>HidePaletteWindows</code> call.</p>
<p>The Text Services Manager makes this call either on its own or in response to application-interface calls it receives from client applications. Client applications may directly make this call, but the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/DeactivateTSMDocument" title="DeactivateTSMDocument"></a><a name="//apple_ref/doc/c_ref/DeactivateTSMDocument" title="DeactivateTSMDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F01018" title="DeactivateTSMDocument"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_16"></a><h3 class="tight">DeactivateTSMDocument</h3>
<p class="spaceabove">Informs the Text Services Manager that a TSM document is inactive.</p>
<p class="spaceabove"><pre>
OSErr DeactivateTSMDocument (
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> idocID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>idocID</em></dt>
<dd><p>A TSM document identification number created by a prior call to the <code><a href="reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code> function. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>DeactivateTSMDocument</code> function lets you inform the Text Services Manager that a TSM document in your client application is no longer active and must temporarily stop using text service components.</p>
<p>The Text Services Manager calls the equivalent text service component function <code><a href="reference.html#//apple_ref/c/func/DeactivateTextService">DeactivateTextService</a></code> for any text service component associated with the TSM document being deactivated.</p>
<p>An application that supports inline input should always strive to have a TSM document active at all times. If a situation arises in which all TSM documents are inactive and keyboard input occurs, the Text Services Manager automatically interacts with the user via its floating input window. (This is the same floating window that the Text Services Manager displays if an application calls the function <code><a href="reference.html#//apple_ref/c/func/UseInputWindow">UseInputWindow</a></code> with a value of <code>TRUE</code> for the <code>useWindow</code> parameter.) </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/DeleteTSMDocument" title="DeleteTSMDocument"></a><a name="//apple_ref/doc/c_ref/DeleteTSMDocument" title="DeleteTSMDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F01056" title="DeleteTSMDocument"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_17"></a><h3 class="tight">DeleteTSMDocument</h3>
<p class="spaceabove">Closes all opened text service components for the TSM document.</p>
<p class="spaceabove"><pre>
OSErr DeleteTSMDocument (
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> idocID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>idocID</em></dt>
<dd><p>A TSM document identification number created by a prior call to the <code><a href="reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code> function. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>When your application disposes of a TSM document, it must call the <code>DeleteTSMDocument</code> function to inform the Text Services Manager that the document is no longer using text service components. <code>DeleteTSMDocument</code> invokes the Component Manager <code>CloseComponent</code> function for each open text service component associated with this document. It also disposes of the internal data structure for the TSM document. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/FixTextService" title="FixTextService"></a><a name="//apple_ref/doc/c_ref/FixTextService" title="FixTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F01517" title="FixTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_19"></a><h3 class="tight">FixTextService</h3>
<p class="spaceabove">Notifies a text service component that it must complete the processing of any input that is in progress.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> FixTextService (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components must implement a function for this call.</p>
<p>For input method components, this function is equivalent to the user explicitly confirming text, but in this case the request comes instead from the application or from the Text Services Manager. Typically, users confirm text explicitly (such as by pressing the Return key), and input methods continually process these user events and send the confirmed text to client applications. Circumstances may arise, however, in which an application needs the input method to confirm and send input without an explicit confirmation from the user.</p>
<p>If, for example, the user clicks the mouse in text outside the active input area, that constitutes an implicit user acceptance of the text in the active input area. In this case, applications should explicitly terminate any active input by calling the <code><a href="reference.html#//apple_ref/c/func/FixTSMDocument">FixTSMDocument</a></code> function, which notifies the Text Services Manager. The Text Services Manager then calls the <code>FixTextService</code> function, which notifies the text service component that it must stop accepting further input and pass the current contents (both converted and unconverted) of the active input area as confirmed text to the client application.</p>
<p>Client applications may directly make this call, but the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/FixTSMDocument" title="FixTSMDocument"></a><a name="//apple_ref/doc/c_ref/FixTSMDocument" title="FixTSMDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F01518" title="FixTSMDocument"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_20"></a><h3 class="tight">FixTSMDocument</h3>
<p class="spaceabove">Informs the Text Services Manager that user input for a TSM document has been interrupted.</p>
<p class="spaceabove"><pre>
OSErr FixTSMDocument (
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> idocID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>idocID</em></dt>
<dd><p>The identification number of a TSM document created by a prior call to the <code><a href="reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code> function. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Typically, an inline input text service component removes confirmed input from the active input area each time the user presses the Return key, and passes the confirmed text to your application through a Carbon event or an Apple event.</p>
<p>In certain situations, however, your client application may need to inform the text service component that input in the active input area of a specified TSM document has been interrupted, and that the text service component must confirm the text and terminate user input.In this case you call the <code>FixTSMDocument</code> function to give the input method text service component the opportunity to confirm any input in progress.</p>
<p>For instance, if the user clicks in the close box of the window in which active input is taking place, call <code>FixTSMDocument</code> before you close the window. The text service component will pass you the current contents (both converted and unconverted) of the active input area as confirmed text.</p>
<p>For simple activating and deactivating of your application’s window, it is not necessary to confirm the text in the active inline area. The input method saves the text and restores it when your window is reactivated. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/GetTextServiceMenu" title="GetTextServiceMenu"></a><a name="//apple_ref/doc/c_ref/GetTextServiceMenu" title="GetTextServiceMenu"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F02040" title="GetTextServiceMenu"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_27"></a><h3 class="tight">GetTextServiceMenu</h3>
<p class="spaceabove">Notifies a text service component that it must produce a handle to its menu.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> GetTextServiceMenu (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts,
   <a href="../../Menu_Manager/Reference/reference.html#//apple_ref/doc/c_ref/MenuRef" target="_top">MenuRef</a> *serviceMenu
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd>
<dt><em>serviceMenu</em></dt>
<dd><p>A pointer to a menu handle (defined by the Menu Manager <code>MenuHandle</code> data type) for the text service component that is to be updated. The menu handle may be preallocated or it may be <code>NULL</code>. If the menu handle is <code>NULL</code>, the text service component should allocate a new menu and return it. On Mac OS 8 and 9, note that all instances of a component must share a single menu handle, allocated in the system heap. On Mac OS X, all instances of a component must share a single menu handle within an application’s context. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>If the text service component does not have a menu, it should return a <code>ComponentResult</code> value of <code>TSMHasNoMenuErr</code>. See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components must implement a function for this call.</p>
<p>The Text Services Manager calls <code>GetTextServiceMenu</code> when a component is opened or activated, so that it can put the component’s menu on the menu bar. </p>
<p>Client applications may directly make this call, but the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/GetTextServiceProperty" title="GetTextServiceProperty"></a><a name="//apple_ref/doc/c_ref/GetTextServiceProperty" title="GetTextServiceProperty"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F10757" title="GetTextServiceProperty"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_28"></a><h3 class="tight">GetTextServiceProperty</h3>
<p class="spaceabove">Notifies a text service component that it must identify the current value of one of its properties.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> GetTextServiceProperty (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts,
   <a href="reference.html#//apple_ref/doc/c_ref/TextServicePropertyTag">TextServicePropertyTag</a> inPropertyTag,
   <a href="reference.html#//apple_ref/doc/c_ref/TextServicePropertyValue">TextServicePropertyValue</a> *outPropertyValue
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd>
<dt><em>propertySelector</em></dt>
<dd><p>A constant identifying a general property of a text service. For descriptions of the system-defined property selectors, see <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/TextServicePropertyTag">“Text Service Properties.”</a></span></p></dd>
<dt><em>result</em></dt>
<dd><p>On return, a constant specifying the value for a text service property. For descriptions of the system-defined property values, see <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/TextServicePropertyTag">“Text Service Properties.”</a></span></p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components have the option of implementing a function for this call.</p>
<p>Both the Text Services Manager and client applications can call this function to manage text service properties. If client applications directly make this call, the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/HidePaletteWindows" title="HidePaletteWindows"></a><a name="//apple_ref/doc/c_ref/HidePaletteWindows" title="HidePaletteWindows"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F02853" title="HidePaletteWindows"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_29"></a><h3 class="tight">HidePaletteWindows</h3>
<p class="spaceabove">Notifies a text service component that it must hide its floating windows.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> HidePaletteWindows (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>If the text service component has no palettes, it should return a <code>ComponentResult</code> value of <code>noErr</code>. See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components must implement a function for this call.</p>
<p>If a window associated with a TSM document associated with your text service is being deactivated, your text service component receives the <code><a href="reference.html#//apple_ref/c/func/DeactivateTextService">DeactivateTextService</a></code> call. You should perform any necessary cleanup or other tasks associated with deactivating your current component instance. If your text service component is not an input method, you should also hide all floating windows associated with the document being deactivated. If your text service component is an input method and if the newly activated document does not use your text services, you receive the <code>HidePaletteWindows</code> call. When it receives a <code>HidePaletteWindows</code> call, your input method should hide all its floating and nonfloating windows associated with the component instance being deactivated. Its menus, if any, will be removed from the menu bar by the Text Services Manager.</p>
<p>The Text Services Manager makes this call either on its own or in response to application-interface calls it receives from client applications. Client applications may directly make this call, but the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/InitiateTextService" title="InitiateTextService"></a><a name="//apple_ref/doc/c_ref/InitiateTextService" title="InitiateTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F03007" title="InitiateTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_30"></a><h3 class="tight">InitiateTextService</h3>
<p class="spaceabove">Notifies a text service component that it must perform any necessary set-up tasks and begin operating.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> InitiateTextService (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>This function should return a <code>ComponentResult</code> value of zero if there is no error, and an error code if there is one. See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components must implement a function for this call.</p>
<p>The Text Services Manager can call <code>InitiateTextService</code> to any component that it has already opened with the Component Manager <code>OpenComponent</code> or <code>OpenDefaultComponent</code> functions. Text service components should be prepared to handle <code>InitiateTextService</code> calls at any time.</p>
<p>Any text service component can receive multiple <code>InitiateTextService</code> calls. The Text Services Manager calls <code>InitiateTextService</code> each time the user adds a text service to a TSM document, even if the text service component has already been opened. This provides an opportunity for the component to restart or to display user interface elements that the user may have closed.</p>
<p>The Text Services Manager makes this call either on its own or in response to application-interface calls it receives from client applications. Client applications may directly make this call, but the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/NewTSMDocument" title="NewTSMDocument"></a><a name="//apple_ref/doc/c_ref/NewTSMDocument" title="NewTSMDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F04264" title="NewTSMDocument"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_33"></a><h3 class="tight">NewTSMDocument</h3>
<p class="spaceabove">Creates a TSM document and returns a handle to the document’s ID.</p>
<p class="spaceabove"><pre>
OSErr NewTSMDocument (
   <!--a-->SInt16<!--/a--> numOfInterface,
   <a href="reference.html#//apple_ref/doc/c_ref/InterfaceTypeList">InterfaceTypeList</a> supportedInterfaceTypes,
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> *idocID,
   <!--a-->SRefCon<!--/a--> refcon
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>numOfInterface</em></dt>
<dd><p>The number of text service interface types that your application supports. </p></dd>
<dt><em>supportedInterfaceTypes</em></dt>
<dd><p>A value of type <code><a href="reference.html#//apple_ref/c/tdef/InterfaceTypeList">InterfaceTypeList</a></code> specifying the kinds of text services that your program supports. This list helps the Text Services Manager locate the text services that have the correct interface type. </p></dd>
<dt><em>idocID</em></dt>
<dd><p>Upon successful completion of the call, a pointer to the document identification number of the TSM document created. If <code><a href="reference.html#//apple_ref/doc/c_ref/NewTSMDocument">NewTSMDocument</a></code> fails to create a new TSM document, it returns an error and sets <code>idocID</code> to <code>NULL</code>. </p></dd>
<dt><em>refcon</em></dt>
<dd><p>A reference constant to be associated with the TSM document. This may have any value you wish. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Each time your client application calls the <code>NewTSMDocument</code> function, the Text Services Manager creates an internal structure called a TSM document and returns its ID.</p>
<p>If the call is successful, <code>NewTSMDocument</code> opens the default input method text service component of the current keyboard script and assigns it to this document. If <code>NewTSMDocument</code> returns <code>tsmScriptHasNoIMErr</code>, it has still created a valid TSM document, but has not associated an input method with it. </p>
<p>Starting in Mac OS X v10.3, the <code>NewTSMDocument</code> function turns on the <code>kTSMDocumentUnicodeInputWindowPropertyTag</code> implicitly for TSMDocuments of interface type <code>kUnicodeDocumentInterfaceType</code>. The effect is that Unicode input sources (keyboard layouts) can remain available, not only in an editing mode where Unicode is supported by an application, but also outside of editing mode where no TSMDocument in particular is active.  </p>
<p>This change also provides compatibility with many applications that relied on Unicode input being available even without activating any of their own TSMDocuments, as well as other applications that do create their own Unicode TSMDocument but call the function <code><a href="reference.html#//apple_ref/doc/c_ref/UseInputWindow">UseInputWindow</a></code> passing <code>true</code> (which was really an undefined operation in the original Unicode/TSM specification). </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/SendTextInputEvent" title="SendTextInputEvent"></a><a name="//apple_ref/doc/c_ref/SendTextInputEvent" title="SendTextInputEvent"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F16297" title="SendTextInputEvent"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_37"></a><h3 class="tight">SendTextInputEvent</h3>
<p class="spaceabove">Sends Carbon text input events from a text service component to a client application.</p>
<p class="spaceabove"><pre>
OSStatus SendTextInputEvent (
   <a href="../../Carbon_Event_Manager_Ref/Reference/reference.html#//apple_ref/doc/c_ref/EventRef" target="_top">EventRef</a> inEvent
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inEvent</em></dt>
<dd><p>A reference to the Carbon event to be sent. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span> The <code>SendTextInputEvent</code> function returns <code>noErr</code> if the event is successfully handled. If the event is not handled, the function may return a Carbon Event Manager error, as well as Apple event or Text Encoding Conversion Manager errors.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>SendTextInputEvent</code> function allows a Carbon text service component on Mac OS X to send a Carbon text input event to the Text Services Manager for dispatching to a client application. This function can be used for events of Carbon event class <code>kEventClassTextInput</code> as well as for events of class <code>kEventClassTSMDocumentAccess</code>.</p>
<p>If the client application does not handle a particular Carbon text input event, the Text Services Manager converts the event to the corresponding Apple event and sends it again. An exception to this is when the application is not Unicode-aware (that is, the active TSM document was not created with the <code>kUnicodeDocument</code> interface type). In this case, a <code>kEventUnicodeForKeyEvent</code> Carbon event would not be converted to the corresponding Apple event (<code>kUnicodeNotFromInputMethod</code>). In every case, if the application handles neither the Unicode Carbon text input event nor the corresponding Apple event, the Text Services Manager converts the component’s text input event into a stream of “classic” key events for delivery to <code>WaitNextEvent</code> clients.</p>
<p>If the application has no active TSM documents or has called the function <code><a href="reference.html#//apple_ref/c/func/UseInputWindow">UseInputWindow</a></code> to request input via the Text Services Manager’s floating input window—that is, if the application does not handle the event at all—the Text Services Manager routes the component’s text input event to the floating input window to allow bottom-line input. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Note that this function replaces the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/SendAEFromTSMComponent">SendAEFromTSMComponent</a></code> on Mac OS X only. With Mac OS X, text service components must be Carbon clients. This is in contrast to Mac OS 8 and 9, where text service components must not be Carbon clients. (This restriction is due to the fact that it is potentially destabilizing for a Carbon-based component to load Carbon in the context of a non-Carbon application.) Therefore, text service components use Carbon text input events and the <code>SendTextInputEvent</code> function only on Mac OS X. The function <code>SendAEFromTSMComponent</code> must be used by components running on Mac OS 8 and 9.</p>
<p>On any system, the Text Services Manager automatically converts component-originated text input events to the proper form for client applications. On Mac OS X, the Text Services Manager automatically converts component-originated Carbon events to Apple events, if a client application does not provide handlers for Carbon events. Conversely, on Mac OS 8 and 9, the Text Services Manager automatically converts component-originated Apple events to Carbon events and provides these Carbon events to applications, so they have the option of handling them.</p><h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/SetTextServiceProperty" title="SetTextServiceProperty"></a><a name="//apple_ref/doc/c_ref/SetTextServiceProperty" title="SetTextServiceProperty"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F10758" title="SetTextServiceProperty"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_41"></a><h3 class="tight">SetTextServiceProperty</h3>
<p class="spaceabove">Notifies a text service component that one of its properties has been selected.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> SetTextServiceProperty (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts,
   <a href="reference.html#//apple_ref/doc/c_ref/TextServicePropertyTag">TextServicePropertyTag</a> inPropertyTag,
   <a href="reference.html#//apple_ref/doc/c_ref/TextServicePropertyValue">TextServicePropertyValue</a> inPropertyValue
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd>
<dt><em>propertySelector</em></dt>
<dd><p>A constant identifying a general property of a text service. For descriptions of the system-defined property selectors, see <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/TextServicePropertyTag">“Text Service Properties.”</a></span></p></dd>
<dt><em>value</em></dt>
<dd><p>A constant specifying a particular value for the text service property. For descriptions of the system-defined property values, see <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/TextServicePropertyTag">“Text Service Properties.”</a></span></p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components have the option of implementing a function for this call.</p>
<p>An application can call <code>SetTextServiceProperty</code> to request that a text service component use a specific feature or functionality of the component’s program. For example, if an application knows that a Japanese input method which supports various typing methods is the currently active input method, the application can solicit the user’s preference of typing methods. Then the application can call <code>SetTextServiceProperty</code> to request that the input method use the preferred typing method, for example, Roman or Kana. Currently, the only properties that are defined by the system are typing methods for Japanese input methods.</p>
<p>Both the Text Services Manager and client applications can call this function to manage text service properties. If client applications directly make this call, the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TerminateTextService" title="TerminateTextService"></a><a name="//apple_ref/doc/c_ref/TerminateTextService" title="TerminateTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F07834" title="TerminateTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_42"></a><h3 class="tight">TerminateTextService</h3>
<p class="spaceabove">Notifies a text service component that it must terminate its operations in preparation for closing.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> TerminateTextService (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>If the text service component needs to remain open, it should return an <code>OSErr</code> value in the component result return value. This could happen, for example, if the user chooses Cancel in response to a text service component dialog box. See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components must implement a function for this call.</p>
<p>The Text Services Manager calls <code>TerminateTextService</code> before closing the component instance. A text service component must use this opportunity to confirm any inline input in progress. If this call is made to the last open instance of a text service component, the component should hide any open palette windows. If it is an input method, the component should not dispose of its menu handle if it has a menu.</p>
<p>The Text Services Manager makes this call either on its own or in response to application-interface calls it receives from client applications. Client applications may directly make this call, but the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TextServiceEventRef" title="TextServiceEventRef"></a><a name="//apple_ref/doc/c_ref/TextServiceEventRef" title="TextServiceEventRef"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F14851" title="TextServiceEventRef"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_43"></a><h3 class="tight">TextServiceEventRef</h3>
<p class="spaceabove">Provides an opportunity for a text service component to handle a Carbon event.</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> TextServiceEventRef (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts,
   <a href="../../Carbon_Event_Manager_Ref/Reference/reference.html#//apple_ref/doc/c_ref/EventRef" target="_top">EventRef</a> event
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd>
<dt><em>event</em></dt>
<dd><p>A reference to the Carbon event being passed to the component. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>If the text service component handles the event, it should return a nonzero value for <code>componentResult</code>. If it does not handle the event, it should return 0. Note that the Text Services Manager clones an event before passing it to a component, so any changes made to the contents of an event by the text service have no effect on the original event. See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Carbon text service components (that is, Mac OS X text services) must implement a function for this call.</p>
<p>The Text Services Manager automatically passes raw keyboard Carbon events (events of class <code>kEventClassKeyboard</code>) and some Carbon mouse events to text service components associated with an active TSM document. The Text Services Manager passes mouse-click events (<code>kEventMouseDown</code>, <code>kEventMouseUp</code>, <code>kEventMouseDragged</code>) to active text services directly. However, the Text Services Manager does not send <code>kEventMouseMoved</code> events to text service components. Instead, when a mouse-moved event occurs inside an inline input region (as registered via an application call to the <code>TSMSetInlineInputRegion</code> function), the Text Services Manager promotes the <code>kEventMouseMoved</code> event to the window-specific <code>kEventWindowCursorChange</code> event, which it then sends to the text service. For more details, see the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/TSMSetInlineInputRegion">TSMSetInlineInputRegion</a></code>.</p>
<p>Both the Text Services Manager and client applications can call this function to send Carbon events to components. If client applications directly make this call, the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.1 and later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMGetActiveDocument" title="TSMGetActiveDocument"></a><a name="//apple_ref/doc/c_ref/TSMGetActiveDocument" title="TSMGetActiveDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F16878" title="TSMGetActiveDocument"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_45"></a><h3 class="tight">TSMGetActiveDocument</h3>
<p class="spaceabove">Obtains the active TSM document in the current application context.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> TSMGetActiveDocument (
   void
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef"></dl>
<h5 class="tight">Return Value</h5>
<p>If the Text Services Manager has enabled bottom line input because no TSM document is active, <code>NULL</code> is returned. See the description of the <code>TSMDocumentID</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>This function can be useful to identify whether the currently active TSM document belongs to the application, or whether it may belong to a control or a plug-in which has user focus within the application’s window. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.3 and later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMGetDocumentProperty" title="TSMGetDocumentProperty"></a><a name="//apple_ref/doc/c_ref/TSMGetDocumentProperty" title="TSMGetDocumentProperty"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F18286" title="TSMGetDocumentProperty"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_46"></a><h3 class="tight">TSMGetDocumentProperty</h3>
<p class="spaceabove">Obtains a TSM document property.</p>
<p class="spaceabove"><pre>
OSStatus TSMGetDocumentProperty (
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> docID,
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentPropertyTag">TSMDocumentPropertyTag</a> propertyTag,
   UInt32 bufferSize,
   UInt32 *actualSize,
   void *propertyBuffer
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>docID</em></dt>
<dd><p>The <code>TSMDocumentID</code> that identifies the document whose property you want to obtain. </p></dd>
<dt><em>propertyTag</em></dt>
<dd><p>A tag that specifies the property you want to obtain.</p></dd>
<dt><em>bufferSize</em></dt>
<dd><p>The size of the data pointed to by the <code>propertyBuffer</code> parameter. See the Discussion for what to supply.</p></dd>
<dt><em>actualSize</em></dt>
<dd><p>On return, the actual size of the data. </p></dd>
<dt><em>propertyBuffer</em></dt>
<dd><p>On return, a pointer to the property data.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>You can call the function <code><a href="reference.html#//apple_ref/doc/c_ref/TSMGetDocumentProperty">TSMGetDocumentProperty</a></code> to retrieve arbitrary data with a specific TSM document. You associated arbitrary data with a TSM document by calling the function <code><a href="reference.html#//apple_ref/doc/c_ref/TSMSetDocumentProperty">TSMSetDocumentProperty</a></code>. </p>
<p>Input methods can call the function <code><a href="reference.html#//apple_ref/doc/c_ref/TSMGetDocumentProperty">TSMGetDocumentProperty</a></code> to determine whether the application that owns the document supports the glyph ID specification (<code>kTSMDocumentPropertySupportGlyphInfo</code>). </p>
<p>You can call the function <code><a href="reference.html#//apple_ref/doc/c_ref/TSMGetDocumentProperty">TSMGetDocumentProperty</a></code> to check for the following predefined properties:</p>
<ul class="ul"><li class="li"><p><code>kUseFloatingWindowTag</code>. The presence of this property indicates the document is using bottom-line floating window for input. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Collection_Tags">“Collection Tags”</a></span> for more information.</p></li>
<li class="li"><p><code>kUnicodeDocument</code>. The presence of this property indicates the document is Unicode-savvy. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Unicode_Identifiers">“Unicode Identifiers”</a></span> for more information.</p></li>
<li class="li"><p><code>kTSMTEInterfaceType</code>. The presence of this property indicates a TSM Text Edit interface. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/TSM_Document_Interfaces">“TSM Document Interfaces”</a></span> for more information.</p></li>
<li class="li"><p><code>kTextService</code>. The presence of this property indicates the document is not Unicode-savvy. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/TSM_Document_Interfaces">“TSM Document Interfaces”</a></span> for more information.</p></li></ul>
<p>These properties do not have any data associated with them. If the function <code><a href="reference.html#//apple_ref/doc/c_ref/TSMGetDocumentProperty">TSMGetDocumentProperty</a></code> returns <code>noErr</code> when you call the function with one of these properties, it indicated the property is present.</p>
<p>Typically you need to call this function twice, as follows:</p>
<ol class="ol"><li class="li"><p>Pass the document ID for the document, the tag that specifies the property you want to obtain, 0 for the <code>bufferSize</code> parameter, <code>NULL</code> for the <code>actualSize</code> parameter, and <code>NULL</code> for the <code>propertyBuffer</code> parameter.</p></li>
<li class="li"><p>Allocate enough space for a buffer of the returned size, then call the function again, passing a pointer in the <code>propertyBuffer</code> parameter. On return, the pointer references the property data.</p></li></ol>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.2 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMRemoveDocumentProperty" title="TSMRemoveDocumentProperty"></a><a name="//apple_ref/doc/c_ref/TSMRemoveDocumentProperty" title="TSMRemoveDocumentProperty"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F18287" title="TSMRemoveDocumentProperty"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_49"></a><h3 class="tight">TSMRemoveDocumentProperty</h3>
<p class="spaceabove">Removes a property from a TSM document.</p>
<p class="spaceabove"><pre>
OSStatus TSMRemoveDocumentProperty (
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> docID,
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentPropertyTag">TSMDocumentPropertyTag</a> propertyTag
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>docID</em></dt>
<dd><p>The <code>TSMDocumentID</code> that identifies the document whose property you want to obtain. </p></dd>
<dt><em>propertyTag</em></dt>
<dd><p>A tag that specifies the property you want to remove.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.2 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMSetDocumentProperty" title="TSMSetDocumentProperty"></a><a name="//apple_ref/doc/c_ref/TSMSetDocumentProperty" title="TSMSetDocumentProperty"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F18285" title="TSMSetDocumentProperty"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_51"></a><h3 class="tight">TSMSetDocumentProperty</h3>
<p class="spaceabove">Sets a property for a TSM document.</p>
<p class="spaceabove"><pre>
OSStatus TSMSetDocumentProperty (
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> docID,
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentPropertyTag">TSMDocumentPropertyTag</a> propertyTag,
   UInt32 propertySize,
   void *propertyData
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>docID</em></dt>
<dd><p>The <code>TSMDocumentID</code> that identifies the document whose property you want to set. </p></dd>
<dt><em>propertyTag</em></dt>
<dd><p>A tag that specifies the property you want to set.</p></dd>
<dt><em>propertySize</em></dt>
<dd><p>The size of the property data.</p></dd>
<dt><em>propertyData</em></dt>
<dd><p>A pointer to the property data.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>You can call the function <code><a href="reference.html#//apple_ref/doc/c_ref/TSMSetDocumentProperty">TSMSetDocumentProperty</a></code> to associate arbitrary data with a specific TSM document. You can call the function <code><a href="reference.html#//apple_ref/doc/c_ref/TSMGetDocumentProperty">TSMGetDocumentProperty</a></code> to retrieve arbitrary data.</p>
<p>If your application supports input of unencoded glyphs you must notify the Text Service Manager and input methods by setting the glyph ID specification (<code>kTSMDocumentPropertySupportGlyphInfo</code>) as a property of each TSM document.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.2 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/UseInputWindow" title="UseInputWindow"></a><a name="//apple_ref/doc/c_ref/UseInputWindow" title="UseInputWindow"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F08044" title="UseInputWindow"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_53"></a><h3 class="tight">UseInputWindow</h3>
<p class="spaceabove">Associates a floating input window with one or more TSM documents.</p>
<p class="spaceabove"><pre>
OSErr UseInputWindow (
   <a href="reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> idocID,
   <!--a-->Boolean<!--/a--> useWindow
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>idocID</em></dt>
<dd><p>The TSM document ID of the particular TSM document to be associated with the floating input window. If <code>NULL</code>, this call affects all your application’s TSM documents. </p></dd>
<dt><em>useWindow</em></dt>
<dd><p>Indicates whether to use the floating input window. Pass <code>TRUE</code> if you want to use a floating window; pass <code>FALSE</code> if you do not want to use a floating window.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The Text Services Manager provides a floating input window for your application’s use if you call <code>UseInputWindow</code> with a value of <code>TRUE</code> in the <code>useWindow</code> parameter. To specify inline input instead, call <code>UseInputWindow</code> with a value of <code>FALSE</code> in the <code>useWindow</code> parameter.</p>
<p>The default value for <code>useWindow</code> is <code>FALSE</code>; if you do not call <code>UseInputWindow</code>, the Text Services Manager assumes that your application wants to use inline input. If your application wants to save the user’s choice, it can put the last-used value for <code>useWindow</code> in a preferences file before quitting.</p>
<p>If you pass a valid TSM document ID for the <code>idocID</code> parameter, the <code>useWindow</code> parameter affects only that TSM document. If you pass <code>NULL</code> for the <code>idocID</code> parameter, the <code>useWindow</code> parameter affects all your application’s TSM documents, including documents you create after making this call. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/doc/uid/TP30000174-CH2g-107469" title="Data Types"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-TPXREF112" title="Data Types"></a><h2>Data Types</h2>
<a name="//apple_ref/c/tdef/TSMDocumentInterfaceType" title="TSM Document Interface Type"></a><a name="//apple_ref/doc/c_ref/TSMDocumentInterfaceType" title="TSM Document Interface Type"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-BAJCGEDB" title="TSM Document Interface Type"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_54"></a><h3 class="tight">TSM Document Interface Type</h3>
<p class="spaceabove"> Defines an interface type for a TSM document.</p>
<p class="spaceabove"><pre>
typedef <!--a-->OSType<!--/a--> TSMDocumentInterfaceType;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>As of Mac OS X version 10.3, TSM interface types are also
stored as TSM document properties. Interface types are a subset
of TSM document properties; not all properties are interface types.
Once a TSM document is created, you can easily find out its interface
types at document creation. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/TSM_Document_Interfaces">“TSM Document Interfaces”</a></span> for
a list of the possible interface types.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/InterfaceTypeList" title="InterfaceTypeList"></a><a name="//apple_ref/doc/c_ref/InterfaceTypeList" title="InterfaceTypeList"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C007395" title="InterfaceTypeList"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_55"></a><h3 class="tight">InterfaceTypeList</h3>
<p class="spaceabove"> An array of four-character codes identifying Text Services
Manager interface types.</p>
<p class="spaceabove"><pre>
typedef <!--a-->OSType<!--/a--> InterfaceTypeList[1];
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <code>InterfaceTypeList</code> type
is used in the function <code><a href="reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code> to
identify the type of interfaces that an application supports and
in the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetServiceList">GetServiceList</a></code> to
identify the types of interfaces that are currently available. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/TSM_Document_Interfaces">“TSM Document Interfaces”</a></span> for
a list of the possible interfaces.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/ScriptLanguageRecord" title="ScriptLanguageRecord"></a><a name="//apple_ref/doc/c_ref/ScriptLanguageRecord" title="ScriptLanguageRecord"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C002024" title="ScriptLanguageRecord"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_56"></a><h3 class="tight">ScriptLanguageRecord</h3>
<p class="spaceabove">Identifies a specific script-language combination.</p>
<p class="spaceabove"><pre>
struct ScriptLanguageRecord {
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> fScript;
   <!--a-->LangCode<!--/a--> fLanguage;
};
typedef struct ScriptLanguageRecord ScriptLanguageRecord;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>fScript</code></dt>
<dd><p>A <code>ScriptCode</code> value
identifying a particular set of written characters (for example,
Roman versus Cyrillic) and their encoding. </p></dd>
<dt><code>fLanguage</code></dt>
<dd><p>A <code>LangCode</code> value
identifying a particular language (for example, English), as represented
using a particular <code>ScriptCode</code> value.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Structures of type ScriptLanguageRecord are used in the functions <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/SetDefaultInputMethod">SetDefaultInputMethod</a></code>, <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetDefaultInputMethod">GetDefaultInputMethod</a></code>, <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/SetTextServiceLanguage">SetTextServiceLanguage</a></code>,
and <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetTextServiceLanguage">GetTextServiceLanguage</a></code>. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/ScriptLanguageSupport" title="ScriptLanguageSupport"></a><a name="//apple_ref/doc/c_ref/ScriptLanguageSupport" title="ScriptLanguageSupport"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C002025" title="ScriptLanguageSupport"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_57"></a><h3 class="tight">ScriptLanguageSupport</h3>
<p class="spaceabove">Lists a component&#8217;s supported scripts and languages.</p>
<p class="spaceabove"><pre>
struct ScriptLanguageSupport {
   short fScriptLanguageCount;
   <a href="reference.html#//apple_ref/doc/c_ref/ScriptLanguageRecord">ScriptLanguageRecord</a> fScriptLanguageArray[1];
};
typedef struct ScriptLanguageSupport ScriptLanguageSupport;
typedef ScriptLanguageSupport * ScriptLanguageSupportPtr;
typedef ScriptLanguageSupportPtr * ScriptLanguageSupportHandle;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>fScriptLanguageCount</code></dt>
<dd><p>An integer specifying the number of <code>ScriptLanguageRecord</code> structures provided
in the <code>fScriptLanguageArray</code> field.</p></dd>
<dt><code>fScriptLanguageArray</code></dt>
<dd><p>A variable-length array of structures of type <code><a href="reference.html#//apple_ref/c/tdef/ScriptLanguageRecord">ScriptLanguageRecord</a></code>.
Each of these structures identifies a specific script-language combination. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>A structure of type <code>ScriptLanguageSupport</code> is
used in the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetScriptLanguageSupport">GetScriptLanguageSupport</a></code> to
list all of a component&#8217;s supported scripts and languages. If you
are a component developer filling out a <code>ScriptLanguageSupport</code> structure,
you should start with the component&#8217;s primary script and language
as specified in the <code>componentFlags</code> field
of its <code>ComponentDescription</code> structure. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/TextServiceInfo" title="TextServiceInfo"></a><a name="//apple_ref/doc/c_ref/TextServiceInfo" title="TextServiceInfo"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C002155" title="TextServiceInfo"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_58"></a><h3 class="tight">TextServiceInfo</h3>
<p class="spaceabove">Identifies a single text service component by name and <code>Component</code> value.</p>
<p class="spaceabove"><pre>
struct TextServiceInfo {
   <!--a-->Component<!--/a--> fComponent;
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> fItemName;
};
typedef struct TextServiceInfo TextServiceInfo;
typedef TextServiceInfo *TextServiceInfoPtr;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>fComponent</code></dt>
<dd><p>A Component Manager value of type <code>Component</code>.
A <code>Component</code> value is
a pointer to an opaque structure called a <code>ComponentRecord</code> that
describes a component. You must supply a <code>Component</code> value
in the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd>
<dt><code>fItemName</code></dt>
<dd><p>A Pascal string with the name of a text service
component. (The script system to use for displaying the string is
specified in the <code>componentFlags</code> field
of a <code>ComponentDescription</code> structure. </p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/TextServiceList" title="TextServiceList"></a><a name="//apple_ref/doc/c_ref/TextServiceList" title="TextServiceList"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C002156" title="TextServiceList"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_59"></a><h3 class="tight">TextServiceList</h3>
<p class="spaceabove">Lists one or more text service components by name and <code>Component</code> value.</p>
<p class="spaceabove"><pre>
struct TextServiceList {
   short fTextServiceCount;
   <a href="reference.html#//apple_ref/doc/c_ref/TextServiceInfo">TextServiceInfo</a> fServices[1];
};
typedef struct TextServiceList TextServiceList;
typedef TextServiceList * TextServiceListPtr;
typedef TextServiceListPtr * TextServiceListHandle;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>fTextServiceCount</code></dt>
<dd><p>An integer specifying the number of <code>TextServiceInfo</code> structures
in the text service component list provided in the <code>fServices</code> field.</p></dd>
<dt><code>fServices</code></dt>
<dd><p>A variable-length array of structures of type <code><a href="reference.html#//apple_ref/c/tdef/TextServiceInfo">TextServiceInfo</a></code>. Each <code>TextServiceInfo</code> structure
identifies a specific component by name and <code>Component</code> value. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>A structure of type <code>TextServiceInfo</code> is
used in the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetServiceList">GetServiceList</a></code> to
list of all the text service components of a specified type that
are currently available on a system. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/TextServicePropertyValue" title="TextServicePropertyValue"></a><a name="//apple_ref/doc/c_ref/TextServicePropertyValue" title="TextServicePropertyValue"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_4" title="TextServicePropertyValue"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_60"></a><h3 class="tight">TextServicePropertyValue</h3>
<p class="spaceabove">Defines a data type for text service property values.</p>
<p class="spaceabove"><pre>
typedef SInt32 TextServicePropertyValue;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The property values associated with this data type are <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Text_Services_Property_Values">“Text Services Property Values.”</a></span> Note that these values are declared as <code>CFStringRef</code> data
types, so they require a cast to the <code>SInt32</code> data
type before you can supply them as a <code>TextServicePropertyValue</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/TSMContext" title="TSMContext"></a><a name="//apple_ref/doc/c_ref/TSMContext" title="TSMContext"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C018255" title="TSMContext"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_61"></a><h3 class="tight">TSMContext</h3>
<p class="spaceabove">A reference to an opaque object that specifies a TSM context.</p>
<p class="spaceabove"><pre>
typedef struct <!--a-->OpaqueTSMContext<!--/a--> * TSMContext;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 through Mac OS X v10.2.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/TSMDocumentID" title="TSMDocumentID"></a><a name="//apple_ref/doc/c_ref/TSMDocumentID" title="TSMDocumentID"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C002475" title="TSMDocumentID"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_62"></a><h3 class="tight">TSMDocumentID</h3>
<p class="spaceabove">A reference to an opaque object that identifies a specific
TSM document.</p>
<p class="spaceabove"><pre>
typedef struct <!--a-->OpaqueTSMDocumentID<!--/a--> * TSMDocumentID;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Each time a client application calls the function <code><a href="reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code>, the
Text Services Manager creates an opaque internal structure called
a TSM Document and returns a pointer to the document&#8217;s identification
number. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/TSMGlyphInfo" title="TSMGlyphInfo"></a><a name="//apple_ref/doc/c_ref/TSMGlyphInfo" title="TSMGlyphInfo"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C018258" title="TSMGlyphInfo"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_63"></a><h3 class="tight">TSMGlyphInfo</h3>
<p class="spaceabove">Describes one glyph embedded in a run of text.</p>
<p class="spaceabove"><pre>
struct TSMGlyphInfo {
   <a href="../../../../CoreFoundation/Reference/CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> range;
   <a href="../../ATS/Reference/reference.html#//apple_ref/doc/c_ref/ATSFontRef" target="_top">ATSFontRef</a> fontRef;
   UInt16 collection;
   UInt16 glyphID;
};
typedef struct TSMGlyphInfo TSMGlyphInfo;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>range</code></dt>
<dd><p>A <code>CFRange</code> data
structure that specifies, in UTF-16 offsets, a range within the
text to which this <code>TSMGlyphInfo</code> data
structure applies. I </p></dd>
<dt><code>fontRef</code></dt>
<dd><p>An ATS font reference that specifies the font
with which the glyph should be displayed. Note that the character
collection ROS (Adobe Registry, Ordering, Supplement) is a property
of the font. </p></dd>
<dt><code>collection</code></dt>
<dd><p>A glyph collection type that specifies how the <code>glyphID</code> parameter
should be interpreted. When the value is <code>kGlyphCollectionID</code>, <code>glyphID</code> specifies the
glyph's ID. When <code>collection</code> is
a non-zero value, it specifies a character collection and <code>glyphID</code> specifies
a CID. Note that <code>collection</code> must
match the character collection of the font specified by the <code>fontRef</code> parameter. </p><p>When
collections do not match, the <code>TSMGlyphInfo</code> data
structure is invalid and should be ignored. You need to supply an
ATSUI constant of type <code>GlyphCollection</code> to
specify the character set you want to use. See <em>Inside Mac
OS X: ATSUI Reference</em> for a list of the glyph collection
constants you can specify.</p></dd>
<dt><code>glyphID</code></dt>
<dd><p>A glyph ID that specifies the glyph to use you
to use in place of the current glyph. If you pass 0 instead of specifying
a glyph, the <code>TSMGlyphInfo</code> data structure
is used to attach a font to a range of text. In this case, the <code>fontRef</code> parameter
specifies a font that should be used to display the range of text specified
by the <code>range</code> parameter.
This is useful when using characters in the Unicode private use
area. Windings and other Windows based pi fonts are examples of
such characters. When <code>glyphID</code> is
zero, <code>collection</code> should
also be zero and applications should ignore its value.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>TSMGlyphInfo</code> data
structure is used as an item in the <code><a href="reference.html#//apple_ref/c/tdef/TSMGlyphInfoArray">TSMGlyphInfoArray</a></code> data structure. You
use these structures to provide TSM with glyph and font information
when you want to override the current glyph or font. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code>
<a name="//apple_ref/c/tdef/TSMGlyphInfoArray" title="TSMGlyphInfoArray"></a><a name="//apple_ref/doc/c_ref/TSMGlyphInfoArray" title="TSMGlyphInfoArray"></a><a name="//apple_ref/doc/uid/TP30000174-CH2g-C018259" title="TSMGlyphInfoArray"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH2g-DontLinkElementID_64"></a><h3 class="tight">TSMGlyphInfoArray</h3>
<p class="spaceabove">Contains an array of glyph information structures.</p>
<p class="spaceabove"><pre>
struct TSMGlyphInfoArray {
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> numGlyphInfo;
   <a href="reference.html#//apple_ref/doc/c_ref/TSMGlyphInfo">TSMGlyphInfo</a> glyphInfo[1];
};
typedef struct TSMGlyphInfoArray TSMGlyphInfoArray;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>numGlyphInfo</code></dt>
<dd><p>The number of items in the <code>glyphInfo</code> array.</p></dd>
<dt><code>glyphInfo</code></dt>
<dd><p>An array of glyph information structures. </p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/doc/uid/TP30000174-CH3g-109572" title="Constants"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-TPXREF113" title="Constants"></a><h2>Constants</h2>
<a name="//apple_ref/doc/constant_group/Attribute_Bits_for_TSM_Document_Access_Carbon_Events" title="Attribute Bits for TSM Document Access Carbon Events" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJIDCHG" title="Attribute Bits for TSM Document Access Carbon Events" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_65"></a><h3 class="tight">Attribute Bits for TSM Document Access Carbon Events</h3>
<p class="spaceabove">Represents TSM document attributes. </p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocAccessFontSizeAttributeBit">kTSMDocAccessFontSizeAttributeBit</a> = 0,
   <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocAccessEffectiveRangeAttributeBit">kTSMDocAccessEffectiveRangeAttributeBit</a> = 1
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTSMDocAccessFontSizeAttributeBit" title="kTSMDocAccessFontSizeAttributeBit"></a><a name="//apple_ref/doc/c_ref/kTSMDocAccessFontSizeAttributeBit" title="kTSMDocAccessFontSizeAttributeBit"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_66"></a><dt><code>kTSMDocAccessFontSizeAttributeBit</code></dt>
<dd><p>When this bit is set, indicates to obtain font
size information; used in the Carbon event <code>kEventTSMDocumentAccessGetFont</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocAccessEffectiveRangeAttributeBit" title="kTSMDocAccessEffectiveRangeAttributeBit"></a><a name="//apple_ref/doc/c_ref/kTSMDocAccessEffectiveRangeAttributeBit" title="kTSMDocAccessEffectiveRangeAttributeBit"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_67"></a><dt><code>kTSMDocAccessEffectiveRangeAttributeBit</code></dt>
<dd><p>When this bit is set, indicates to obtain effective
range information used in the Carbon events <code>kEventTSMDocumentAccessGetFont</code> and <code>kEventTSMDocumentAccessGetGlyphInfo</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>These bit assignments are used for the TSM document access
attribute parameters. You can use these bits to specify desired
(optional) attributes in the <code>kEventParamTSMDocAccessRequestedCharacterAttributes</code> parameter
available for the events <code>kEventTSMDocumentAccessGetFont</code> and <code>kEventTSMDocumentAccessGetGlyphInfo</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.3 and later.</li></ul>
<a name="//apple_ref/c/tdef/TSMDocAccessAttributes" title="Attribute Masks for TSM Document Access Carbon Events" role="Enum"></a><a name="//apple_ref/doc/c_ref/TSMDocAccessAttributes" title="Attribute Masks for TSM Document Access Carbon Events" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJICJGJ" title="Attribute Masks for TSM Document Access Carbon Events" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_68"></a><h3 class="tight">Attribute Masks for TSM Document Access Carbon Events</h3>
<p class="spaceabove">Used to set or test for document-access attributes.</p>
<p class="spaceabove"><pre>
typedef UInt32 TSMDocAccessAttributes;
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocAccessFontSizeAttribute">kTSMDocAccessFontSizeAttribute</a> = 1<!--a-->L<!--/a--> &lt;&lt; <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocAccessFontSizeAttributeBit">kTSMDocAccessFontSizeAttributeBit</a>,
   <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocAccessEffectiveRangeAttribute">kTSMDocAccessEffectiveRangeAttribute</a> = 1<!--a-->L<!--/a--> &lt;&lt;  <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocAccessEffectiveRangeAttributeBit">kTSMDocAccessEffectiveRangeAttributeBit</a>
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTSMDocAccessFontSizeAttribute" title="kTSMDocAccessFontSizeAttribute"></a><a name="//apple_ref/doc/c_ref/kTSMDocAccessFontSizeAttribute" title="kTSMDocAccessFontSizeAttribute"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_69"></a><dt><code>kTSMDocAccessFontSizeAttribute</code></dt>
<dd><p>Use to set or test for the <code>kTSMDocAccessFontSizeAttributeBit</code> bit.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocAccessEffectiveRangeAttribute" title="kTSMDocAccessEffectiveRangeAttribute"></a><a name="//apple_ref/doc/c_ref/kTSMDocAccessEffectiveRangeAttribute" title="kTSMDocAccessEffectiveRangeAttribute"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_70"></a><dt><code>kTSMDocAccessEffectiveRangeAttribute</code></dt>
<dd><p>Use to set or test for the <code>kTSMDocAccessEffectiveRangeAttributeBit</code> bit.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.3 and later.</li></ul>
<a name="//apple_ref/doc/constant_group/Carbon_Event_Class_for_TSM_Document_Access" title="Carbon Event Class for TSM Document Access" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJGHBBE" title="Carbon Event Class for TSM Document Access" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_71"></a><h3 class="tight">Carbon Event Class for TSM Document Access</h3>
<p class="spaceabove">Defines a constant for the Carbon event class used to
allow TSM access to application documents content.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kEventClassTSMDocumentAccess">kEventClassTSMDocumentAccess</a> = 'tdac'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kEventClassTSMDocumentAccess" title="kEventClassTSMDocumentAccess"></a><a name="//apple_ref/doc/c_ref/kEventClassTSMDocumentAccess" title="kEventClassTSMDocumentAccess"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_72"></a><dt><code>kEventClassTSMDocumentAccess</code></dt>
<dd><p>Used to request and deliver document content
information. The events associated with this class provide text
access, text attribute access, and transaction information. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Carbon_Events_for_TSM_Document_Access">“Carbon Events for TSM Document Access”</a></span> for a list of the events defined for this class.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The Text Services Manager (TSM) dispatches TSM document access
events as Carbon events. You must install a Carbon event handler
to access these events because they are not available through AppleEvent
handlers. </p>
<p>Text Services dispatches these Carbon events through the function <code><a href="reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.3 and later.</li></ul>
<a name="//apple_ref/doc/constant_group/Carbon_Events_for_TSM_Document_Access" title="Carbon Events for TSM Document Access" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJIJBBD" title="Carbon Events for TSM Document Access" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_73"></a><h3 class="tight">Carbon Events for TSM Document Access</h3>
<p class="spaceabove">Define constants for the Carbon events associated with
the TSM document access event class.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetLength">kEventTSMDocumentAccessGetLength</a> = 1,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetSelectedRange">kEventTSMDocumentAccessGetSelectedRange</a> = 2,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetCharactersPtr">kEventTSMDocumentAccessGetCharactersPtr</a> = 3,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer">kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer</a> = 4,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetCharacters">kEventTSMDocumentAccessGetCharacters</a> = 5,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetFont">kEventTSMDocumentAccessGetFont</a> = 6,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetGlyphInfo">kEventTSMDocumentAccessGetGlyphInfo</a> = 7,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessLockDocument">kEventTSMDocumentAccessLockDocument</a> = 8,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventTSMDocumentAccessUnlockDocument">kEventTSMDocumentAccessUnlockDocument</a> = 9
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessGetLength" title="kEventTSMDocumentAccessGetLength"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetLength" title="kEventTSMDocumentAccessGetLength"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_74"></a><dt><code>kEventTSMDocumentAccessGetLength</code></dt>
<dd><p>Returns the number of 16-bit Unicode characters
in the document. </p><p>You can obtain the following event parameters
from this event:</p><ul class="termdef"><li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the text service originating the event.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessCharacterCount</code>.
The size of the document in <code>UniChar</code> characters.</p></li></ul><p>You
can obtain the same information from this event as you can by calling the
function <code>CFStringGetLength</code>,
passing the document content formatted as a CFString.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessGetSelectedRange" title="kEventTSMDocumentAccessGetSelectedRange"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetSelectedRange" title="kEventTSMDocumentAccessGetSelectedRange"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_75"></a><dt><code>kEventTSMDocumentAccessGetSelectedRange</code></dt>
<dd><p>Returns the selection range in the document. </p><p>You
can obtain the following event parameters from this event:</p><ul class="termdef">
<li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the text service originating the event.
This can be <code>NULL</code> for input
methods of the palette class, such as the typography panel.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessReplyCharacterRange</code>.
The selection range as a CFRange in <code>UniChar</code> characters.
If the selection is empty, the range identifies the insertion point
and the range specifies a length of 0. </p></li></ul><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessGetCharactersPtr" title="kEventTSMDocumentAccessGetCharactersPtr"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetCharactersPtr" title="kEventTSMDocumentAccessGetCharactersPtr"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_76"></a><dt><code>kEventTSMDocumentAccessGetCharactersPtr</code></dt>
<dd><p>Returns a Unicode pointer to the entire document
content. Handle this event when your application has access to the
entire document. If your application has access to a cache, use
the event <code>kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer</code>. </p><p>Some
text engines may not support this event for reasons that are implementation-dependent.
For example, a text engine backing store may consist of legacy encoding
runs. It may also consist of unflattened Unicode, stored as a B-tree
of text blocks. For such reasons, a text engine may reject a request
for a pointer to a flattened Unicode buffer. Note that text access through
this pointer is to be strictly read-only, so any changes to the document
should be made through TSM text input events, such as <code>kEventTextInputUpdateActiveInputArea</code> or <code>kEventTextInputUnicodeText</code>. This
pointer is valid only during a transaction surrounded by document lock/unlock
events, or until an event causes the document to change, such as
dispatching <code>kEventTextInputUpdateActiveInputArea</code> or <code>kEventTextInputUnicodeText</code> events,
whichever occurs first.</p><p> You can obtain the following
event parameters from this event:</p><ul class="termdef"><li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the input method originating the event.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessReplyCharactersPtr</code>.
The <code>UniChar</code> pointer to the
document.</p></li></ul><p>You can obtain the same information
from this event as you can by calling the function <code>CFStringGetCharactersPtr</code>,
passing the document content formatted as a CFString. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer" title="kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer" title="kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_77"></a><dt><code>kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer</code></dt>
<dd><p>Returns a Unicode pointer to a portion of the
document. Handle this event when your application has access to
a cache. If your application has access to the entire document,
use the event <code>kEventTSMDocumentAccessGetCharactersPtr</code>.</p><p>Some
text engines keep text in unflattened Unicode&#8212;for example, stored as
a B-tree of text blocks. Sometimes, especially for chunks of text
near the insertion point, the text engine caches a chunk of text
to which it can readily provide a pointer. But because the text
is not flattened, the text engine might reject a request for such
a pointer. See the Discussion for more information.</p><p>Note
that text access through this pointer is strictly read-only, so
any changes to the document should be made through TSM text input
events, such as <code>kEventTextInputUpdateActiveInputArea</code> or <code>kEventTextInputUnicodeText</code>.
This pointer is valid only during a transaction surrounded by document
lock/unlock, or until an event causes the document to change, such
as dispatching <code>kEventTextInputUpdateActiveInputArea</code> or <code>kEventTextInputUnicodeText</code> events. </p><p>You
can obtain the following event parameters from this event:</p><ul class="termdef">
<li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the input method originating the event.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/doc/c_ref/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendCharacterIndex</code>.
The location in the document for which the caller wants a pointer
to a buffer of text that includes that location. This buffer could
be available from a cache due to recent interaction near that location,
such as the insertion point.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessReplyCharactersPtr</code>.
The <code>UniChar</code> pointer to a
portion of the document text.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessReplyCharacterRange</code>.
A <code>CFRange</code> value for the
text returned by the text pointer. The initial offset in the range
is document-relative.</p></li></ul><p>This event is similar
to calling the function <code>CFStringGetCharactersPtr</code> on a
portion of the document content formatted as a CFString, except
that the substring is determined by the text engine.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessGetCharacters" title="kEventTSMDocumentAccessGetCharacters"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetCharacters" title="kEventTSMDocumentAccessGetCharacters"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_78"></a><dt><code>kEventTSMDocumentAccessGetCharacters</code></dt>
<dd><p>This fills a caller provided buffer with Unicode
characters in the specified range. This event is equivalent to calling
the function <code>CFStringGetCharacters</code> on
the document content treated as a CFString. </p><p>You can obtain
the following event parameters from this event:</p><ul class="termdef">
<li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the input method originating the event.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/doc/c_ref/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendCharacterRange</code>.
The range of text that should be copied into the buffer provided
by the caller.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendCharactersPtr</code>.
A buffer provided by the caller to contain the specified range of <code>UniChar</code> characters.
This buffer is identical in usage to the one used in the function <code><a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringGetCharacters" target="_top">CFStringGetCharacters</a></code>.</p></li></ul><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessGetFont" title="kEventTSMDocumentAccessGetFont"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetFont" title="kEventTSMDocumentAccessGetFont"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_79"></a><dt><code>kEventTSMDocumentAccessGetFont</code></dt>
<dd><p>Returns font, font size, and the range over
which these attributes are constant. Where the font/font size attributes
span multiple characters, an effective range (over which requested
attributes are constant) is returned by the text engine. </p><p>You
can obtain the following event parameters from this event:</p><ul class="termdef">
<li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the input method originating the event.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/doc/c_ref/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendCharacterIndex</code>.
The location in the document for which the caller would like font
information.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessRequestedCharacterAttributes</code>.
A <code>TSMDocAccessAttributes</code> bit
field filled out with the desired attributes. Applicable values
for this event are: <code>kTSMDocAccessFontSizeAttribute</code> which
requests font size information through the <code>kEventParamTSMDocAccessReplyFontSize</code> parameter,
and <code>kTSMDocAccessEffectiveRangeAttribute</code> which
requests the text range over which font or font/size is constant.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessReplyATSFont</code>.
The <code>ATSFontRef</code> for the location
specified by the caller.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessReplyFontSize</code>.
The font size for the requested location. This is an optional reply
parameter. Return this information if <code>kTSMDocAccessFontSizeAttribute</code> is
specified in the bit field passed as the <code>kEventParamTSMDocAccessRequestedCharacterAttributes </code>parameter.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendCharacterRange</code>.
The maximum range of text the caller cares about. This is used to
restrict the area of interest to the caller so the text engine doesn't
process more characters than necessary in order to return an effective
range.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessEffectiveRange</code>.
The range of text over which both font and size are constant, within
the bounds of the <code>kEventParamTSMDocAccessSendCharacterRange</code> parameter.
This is an optional reply parameter. Return this information if <code>kTSMDocAccessEffectiveRangeAttribute</code> is
specified in the bit field passed as the <code>kEventParamTSMDocAccessRequestedCharacterAttributes</code> parameter.</p></li></ul><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessGetGlyphInfo" title="kEventTSMDocumentAccessGetGlyphInfo"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessGetGlyphInfo" title="kEventTSMDocumentAccessGetGlyphInfo"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_80"></a><dt><code>kEventTSMDocumentAccessGetGlyphInfo</code></dt>
<dd><p>Returns glyph info and the range covered by
that glyph. Where a glyph spans multiple characters, the effective
range, represented by the glyph, is returned by the application. </p><p>You
can obtain the following event parameters from this event:</p><ul class="termdef">
<li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the input method originating the event.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/doc/c_ref/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendCharacterIndex</code>.
The location in the document for which the caller would like glyph
information.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessRequestedCharacterAttributes</code>.
A <code>TSMDocAccessAttributes</code> bit
field filled out with the information desired. The applicable value
for this event is <code>kTSMDocAccessEffectiveRangeAttribute</code>,
which requests the text range represented by a glyph.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessReplyATSUGlyphSelector</code>.
The glyph used to display the range of text returned in the <code>kEventParamTSMDocAccessEffectiveRange</code> parameter.
If the glyph used is the one that ATSUI would normally derive, this
parameter can be omitted.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessEffectiveRange</code>.
The range of text displayed as a glyph ID or CID. This is an optional
reply parameter. Return this information if <code>kTSMDocAccessEffectiveRangeAttribute</code> is
specified in the bit field passed as the <code>kEventParamTSMDocAccessRequestedCharacterAttributes</code> parameter.</p></li></ul><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessLockDocument" title="kEventTSMDocumentAccessLockDocument"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessLockDocument" title="kEventTSMDocumentAccessLockDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_81"></a><dt><code>kEventTSMDocumentAccessLockDocument</code></dt>
<dd><p>Notifies the application that it should not
change its document's text content (on its own) while a text service
is involved in a transaction. The application should not allow changes,
for example, by its secondary threads. This type of event defines
how a text service can obtain access to a document in a way that
ensures data integrity during its transaction. The event can be
used to prevent the application from letting its secondary threads
modify the document while a text service is busy servicing an event, such
as a key event, or some user interaction with text-service-provided user
interface such as a menu selection. Also, while the document is
locked, a text service is free to request pointer access to the
document's text content (if this is supported by the application&#8217;s
text engine.) These lock-related events should be implemented using
a retention counting scheme. Most applications will not support
this kind of threading, so implementation of these events in the
text engine are optional. In most text engines, the implementation
of these events should be trivial, that is, just maintain a simple
semaphore. TSM itself will implicitly lock/unlock around normal entry
points into a text service, such as when it delivers key events
to an input method, but there may be times when document changes
can be driven by an input method without TSM involvement, such as
the Carbon events involved when the user interacts with some user
interface. In this case, the input method must manage locking, if
the application supports it. However, the logic in an input method
should not depend on whether TSM is in the call chain or not, and
TSM should not depend on whether an input method performs correctly.
This is why the lock mechanism needs to be some kind of retention
counting scheme instead of a simple on and off mechanism. Document
lock support is optional on the part of the text engine (if it is
not threaded). TSM implicitly locks/unlocks the document around
delivery of events to input methods, if the application supports
it.You can obtain the following event parameters from this event:</p><ul class="termdef">
<li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the input method originating the event.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessLockCount</code>.
The resulting retention count of locks on the document. </p></li></ul><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventTSMDocumentAccessUnlockDocument" title="kEventTSMDocumentAccessUnlockDocument"></a><a name="//apple_ref/doc/c_ref/kEventTSMDocumentAccessUnlockDocument" title="kEventTSMDocumentAccessUnlockDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_82"></a><dt><code>kEventTSMDocumentAccessUnlockDocument</code></dt>
<dd><p>Unlock the document so the application text
engine is free to initiate changes again. (See <code>kEventTSMDocumentAccessLockDocument</code>). </p><p>You
can obtain the following event parameters from this event:</p><ul class="termdef">
<li class="termdef"><p><code>kEventParamTSMDocAccessSendComponentInstance</code>.
This parameter is provided by the input method originating the event.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessSendRefCon</code>.
The TSM function <code><a href="reference.html#//apple_ref/doc/c_ref/SendTextInputEvent">SendTextInputEvent</a></code>,
called by an input method, inserts this parameter before dispatching
the event to the user focus.</p></li>
<li class="termdef"><p><code>kEventParamTSMDocAccessLockCount</code>.
The resulting retention count of locks on the document.</p></li></ul><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Text-access events are very similar in design to the CFString
API. You can think of an entire document as a flattened Unicode
string, and the events in this interface can access any portion
of it. Just as the text is Unicode, the text offsets are also Unicode.</p>
<p>The event <code>kEventTSMDocumentAccessGetSelectedRange</code> allows
a text service to obtain text near the insertion point (or selection),
but access is by no means restricted to this vicinity. Use the event <code>kEventTSMDocumentAccessGetLength</code> to
obtain the size of the document.</p>
<p>Supporting these events effectively provide hooks into the
text engine, but it is understood that access to a document in this
way is strictly read-only. Where direct access to document content
cannot be provided through a pointer, the requested text can be copied
instead. Situations where a pointer may not be available from the
text engine include the following:</p>
<ul class="ul"><li class="li"><p>The pointer requires conversion of text in Mac
encodings to Unicode.</p></li>
<li class="li"><p>The pointer requires sparse Unicode text blocks to be flattened
into a single buffer.</p></li></ul>
<p>The idea is to minimize copying and converting text encodings
where possible. The text service typically begins by asking for
a document pointer through the event <code>kEventTSMDocumentAccessGetCharactersPtr</code>.
If this fails, it typically falls back to the event <code>kEventTSMDocumentAccessGetCharactersPtrForLargestBuffer</code>,
specifying a location of interest. If this fails, it falls back
to <code>kEventTSMDocumentAccessGetCharacters</code>,
specifying a range of interest. Of course, when requesting small
amounts of data with such a few characters on either side of the
insertion point, there is no obligation to optimize in this way.
It's valid to simply use <code>kEventTSMDocumentAccessGetCharacters</code>.</p>
<p>The text engine is entirely free to deny a request for a text
pointer for these or any other implementation-specific reason.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.3 and later.</li></ul>
<a name="//apple_ref/doc/constant_group/Carbon_Event_Parameters_for_General_TSM_Events" title="Carbon Event Parameters for General TSM Events" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJIEAEJ" title="Carbon Event Parameters for General TSM Events" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_83"></a><h3 class="tight">Carbon Event Parameters for General TSM Events</h3>
<p class="spaceabove">Define general parameters for TSM events.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMSendRefCon">kEventParamTSMSendRefCon</a>      = 'tsrc',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMSendComponentInstance">kEventParamTSMSendComponentInstance</a> = 'tsci'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kEventParamTSMSendRefCon" title="kEventParamTSMSendRefCon"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMSendRefCon" title="kEventParamTSMSendRefCon"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_84"></a><dt><code>kEventParamTSMSendRefCon</code></dt>
<dd><p>This parameter is equivalent to the text input
parameter <code>kEventParamTextInputSendRefCon</code>;
the parameter data type is <code>typeLongInteger</code>. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMSendComponentInstance" title="kEventParamTSMSendComponentInstance"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMSendComponentInstance" title="kEventParamTSMSendComponentInstance"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_85"></a><dt><code>kEventParamTSMSendComponentInstance</code></dt>
<dd><p>This parameter is equivalent to the text input
parameter <code>kEventParamTextInputSendComponentInstance</code>;
the parameter data type is <code>typeComponentInstance</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.3 and later.</li></ul>
<a name="//apple_ref/doc/constant_group/Carbon_Event_Parameters_for_TSM_Document_Access" title="Carbon Event Parameters for TSM Document Access" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJBJAIG" title="Carbon Event Parameters for TSM Document Access" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_86"></a><h3 class="tight">Carbon Event Parameters for TSM Document Access</h3>
<p class="spaceabove">Define document access parameters for TSM events.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendRefCon">kEventParamTSMDocAccessSendRefCon</a> = <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMSendRefCon">kEventParamTSMSendRefCon</a>,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendComponentInstance">kEventParamTSMDocAccessSendComponentInstance</a> =  <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMSendComponentInstance">kEventParamTSMSendComponentInstance</a>,
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessCharacterCount">kEventParamTSMDocAccessCharacterCount</a> = 'tdct',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyCharacterRange">kEventParamTSMDocAccessReplyCharacterRange</a> = 'tdrr',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyCharactersPtr">kEventParamTSMDocAccessReplyCharactersPtr</a> = 'tdrp',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendCharacterIndex">kEventParamTSMDocAccessSendCharacterIndex</a> = 'tdsi',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendCharacterRange">kEventParamTSMDocAccessSendCharacterRange</a> = 'tdsr',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendCharactersPtr">kEventParamTSMDocAccessSendCharactersPtr</a> = 'tdsp',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessRequestedCharacterAttributes">kEventParamTSMDocAccessRequestedCharacterAttributes</a> = 'tdca',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyATSFont">kEventParamTSMDocAccessReplyATSFont</a> = 'tdaf',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyFontSize">kEventParamTSMDocAccessReplyFontSize</a> = 'tdrs',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessEffectiveRange">kEventParamTSMDocAccessEffectiveRange</a> = 'tder',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyATSUGlyphSelector">kEventParamTSMDocAccessReplyATSUGlyphSelector</a> = 'tdrg',
   <a href="reference.html#//apple_ref/doc/c_ref/kEventParamTSMDocAccessLockCount">kEventParamTSMDocAccessLockCount</a> = 'tdlc',
   <a href="reference.html#//apple_ref/doc/c_ref/typeATSFontRef">typeATSFontRef</a>                = 'atsf',
   <a href="reference.html#//apple_ref/doc/c_ref/typeGlyphSelector">typeGlyphSelector</a>             = 'glfs'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessSendRefCon" title="kEventParamTSMDocAccessSendRefCon"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendRefCon" title="kEventParamTSMDocAccessSendRefCon"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_87"></a><dt><code>kEventParamTSMDocAccessSendRefCon</code></dt>
<dd><p>The TSM function <code><a href="reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code>, called by an input
method, inserts this parameter before dispatching the event to the
user focus. The parameter data type is <code>typeLongInteger</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessSendComponentInstance" title="kEventParamTSMDocAccessSendComponentInstance"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendComponentInstance" title="kEventParamTSMDocAccessSendComponentInstance"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_88"></a><dt><code>kEventParamTSMDocAccessSendComponentInstance</code></dt>
<dd><p>The parameter data type is <code>typeComponentInstance</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessCharacterCount" title="kEventParamTSMDocAccessCharacterCount"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessCharacterCount" title="kEventParamTSMDocAccessCharacterCount"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_89"></a><dt><code>kEventParamTSMDocAccessCharacterCount</code></dt>
<dd><p>The parameter data type is <code>typeCFIndex</code>. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessReplyCharacterRange" title="kEventParamTSMDocAccessReplyCharacterRange"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyCharacterRange" title="kEventParamTSMDocAccessReplyCharacterRange"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_90"></a><dt><code>kEventParamTSMDocAccessReplyCharacterRange</code></dt>
<dd><p>The parameter data type is <code>typeCFRange</code>. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessReplyCharactersPtr" title="kEventParamTSMDocAccessReplyCharactersPtr"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyCharactersPtr" title="kEventParamTSMDocAccessReplyCharactersPtr"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_91"></a><dt><code>kEventParamTSMDocAccessReplyCharactersPtr</code></dt>
<dd><p>The parameter data type is <code>typePtr</code>. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessSendCharacterIndex" title="kEventParamTSMDocAccessSendCharacterIndex"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendCharacterIndex" title="kEventParamTSMDocAccessSendCharacterIndex"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_92"></a><dt><code>kEventParamTSMDocAccessSendCharacterIndex</code></dt>
<dd><p>The parameter data type is <code>typeCFIndex</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessSendCharacterRange" title="kEventParamTSMDocAccessSendCharacterRange"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendCharacterRange" title="kEventParamTSMDocAccessSendCharacterRange"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_93"></a><dt><code>kEventParamTSMDocAccessSendCharacterRange</code></dt>
<dd><p>The parameter data type is <code>typeCFRange</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessSendCharactersPtr" title="kEventParamTSMDocAccessSendCharactersPtr"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessSendCharactersPtr" title="kEventParamTSMDocAccessSendCharactersPtr"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_94"></a><dt><code>kEventParamTSMDocAccessSendCharactersPtr</code></dt>
<dd><p>The parameter data type is <code>typePtr</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessRequestedCharacterAttributes" title="kEventParamTSMDocAccessRequestedCharacterAttributes"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessRequestedCharacterAttributes" title="kEventParamTSMDocAccessRequestedCharacterAttributes"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_95"></a><dt><code>kEventParamTSMDocAccessRequestedCharacterAttributes</code></dt>
<dd><p>The parameter data type is <code>typeUInt32</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessReplyATSFont" title="kEventParamTSMDocAccessReplyATSFont"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyATSFont" title="kEventParamTSMDocAccessReplyATSFont"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_96"></a><dt><code>kEventParamTSMDocAccessReplyATSFont</code></dt>
<dd><p>The parameter data type is t<code>ypeATSFontRef</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessReplyFontSize" title="kEventParamTSMDocAccessReplyFontSize"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyFontSize" title="kEventParamTSMDocAccessReplyFontSize"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_97"></a><dt><code>kEventParamTSMDocAccessReplyFontSize</code></dt>
<dd><p>The parameter data type is <code>typeFloat</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessEffectiveRange" title="kEventParamTSMDocAccessEffectiveRange"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessEffectiveRange" title="kEventParamTSMDocAccessEffectiveRange"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_98"></a><dt><code>kEventParamTSMDocAccessEffectiveRange</code></dt>
<dd><p>The parameter data type is <code>typeRange</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessReplyATSUGlyphSelector" title="kEventParamTSMDocAccessReplyATSUGlyphSelector"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessReplyATSUGlyphSelector" title="kEventParamTSMDocAccessReplyATSUGlyphSelector"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_99"></a><dt><code>kEventParamTSMDocAccessReplyATSUGlyphSelector</code></dt>
<dd><p>The parameter data type is <code>typeGlyphSelector</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kEventParamTSMDocAccessLockCount" title="kEventParamTSMDocAccessLockCount"></a><a name="//apple_ref/doc/c_ref/kEventParamTSMDocAccessLockCount" title="kEventParamTSMDocAccessLockCount"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_100"></a><dt><code>kEventParamTSMDocAccessLockCount</code></dt>
<dd><p>The parameter data type is <code>typeCFIndex</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/typeATSFontRef" title="typeATSFontRef"></a><a name="//apple_ref/doc/c_ref/typeATSFontRef" title="typeATSFontRef"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_101"></a><dt><code>typeATSFontRef</code></dt>
<dd><p>The parameter data type is <code>ATSFontRef</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd>
<a name="//apple_ref/c/econst/typeGlyphSelector" title="typeGlyphSelector"></a><a name="//apple_ref/doc/c_ref/typeGlyphSelector" title="typeGlyphSelector"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_102"></a><dt><code>typeGlyphSelector</code></dt>
<dd><p>The parameter data type is <code>ATSUGlyphSelector</code>.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>CarbonEvents.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Carbon_Events_for_TSM_Document_Access">“Carbon Events for TSM Document Access”</a></span> for more information
on these parameters and the information they contain for a specific
event.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.3 and later.</li></ul>
<a name="//apple_ref/doc/constant_group/Component_Flags" title="Component Flags" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C004255" title="Component Flags" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_103"></a><h3 class="tight">Component Flags</h3>
<p class="spaceabove">Specify flags used for input method components.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/bTakeActiveEvent">bTakeActiveEvent</a> = 15,
   <a href="reference.html#//apple_ref/doc/c_ref/bHandleAERecording">bHandleAERecording</a> = 16,
   <a href="reference.html#//apple_ref/doc/c_ref/bScriptMask">bScriptMask</a> = 0<!--a-->x00007F00<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/bLanguageMask">bLanguageMask</a> = 0<!--a-->x000000FF<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/bScriptLanguageMask">bScriptLanguageMask</a> = <a href="reference.html#//apple_ref/doc/c_ref/bScriptMask">bScriptMask</a> + <a href="reference.html#//apple_ref/doc/c_ref/bLanguageMask">bLanguageMask</a>
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/bTakeActiveEvent" title="bTakeActiveEvent"></a><a name="//apple_ref/doc/c_ref/bTakeActiveEvent" title="bTakeActiveEvent"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_104"></a><dt><code>bTakeActiveEvent</code></dt>
<dd><p>This bit is set if the component takes an active
event,</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/bHandleAERecording" title="bHandleAERecording"></a><a name="//apple_ref/doc/c_ref/bHandleAERecording" title="bHandleAERecording"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_105"></a><dt><code>bHandleAERecording</code></dt>
<dd><p>This bit is set if the component takes care
of recording Apple Events.</p><p>Available beginning with version 2.0.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/bScriptMask" title="bScriptMask"></a><a name="//apple_ref/doc/c_ref/bScriptMask" title="bScriptMask"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_106"></a><dt><code>bScriptMask</code></dt>
<dd><p>Specifies bits 8 - 14.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/bLanguageMask" title="bLanguageMask"></a><a name="//apple_ref/doc/c_ref/bLanguageMask" title="bLanguageMask"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_107"></a><dt><code>bLanguageMask</code></dt>
<dd><p>Specifies bits 0 - 7. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/bScriptLanguageMask" title="bScriptLanguageMask"></a><a name="//apple_ref/doc/c_ref/bScriptLanguageMask" title="bScriptLanguageMask"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_108"></a><dt><code>bScriptLanguageMask</code></dt>
<dd><p>Specifies bits 0 - 14.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<a name="//apple_ref/c/tdef/TSMDocumentPropertyTag" title="Document Property Tags" role="Enum"></a><a name="//apple_ref/doc/c_ref/TSMDocumentPropertyTag" title="Document Property Tags" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C018249" title="Document Property Tags" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_109"></a><h3 class="tight">Document Property Tags</h3>
<p class="spaceabove">Specify property tags for a TSM document.</p>
<p class="spaceabove"><pre>
typedef <!--a-->OSType<!--/a-->      TSMDocumentPropertyTag;
enum {
   
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentSupportGlyphInfoPropertyTag">kTSMDocumentSupportGlyphInfoPropertyTag</a> = 'dpgi',
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentUseFloatingWindowPropertyTag">kTSMDocumentUseFloatingWindowPropertyTag</a> = 'uswm',
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentUnicodeInputWindowPropertyTag">kTSMDocumentUnicodeInputWindowPropertyTag</a> = 'dpub',
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentSupportDocumentAccessPropertyTag">kTSMDocumentSupportDocumentAccessPropertyTag</a> = 'dapy',
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentRefconPropertyTag">kTSMDocumentRefconPropertyTag</a> = 'refc',
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentInputModePropertyTag">kTSMDocumentInputModePropertyTag</a> = 'imim',
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentPropertySupportGlyphInfo">kTSMDocumentPropertySupportGlyphInfo</a> =
   <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentSupportGlyphInfoPropertyTag">kTSMDocumentSupportGlyphInfoPropertyTag</a>,
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentPropertyUnicodeInputWindow">kTSMDocumentPropertyUnicodeInputWindow</a> =
   <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentUnicodeInputWindowPropertyTag">kTSMDocumentUnicodeInputWindowPropertyTag</a>,
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentTextServicePropertyTag">kTSMDocumentTextServicePropertyTag</a> = <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceDocumentInterfaceType">kTextServiceDocumentInterfaceType</a>,
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentUnicodePropertyTag">kTSMDocumentUnicodePropertyTag</a> = <a href="reference.html#//apple_ref/doc/c_ref/kUnicodeDocumentInterfaceType">kUnicodeDocumentInterfaceType</a>,
<a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentTSMTEPropertyTag">kTSMDocumentTSMTEPropertyTag</a>  = <a href="reference.html#//apple_ref/doc/c_ref/kTSMTEDocumentInterfaceType">kTSMTEDocumentInterfaceType</a>
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTSMDocumentSupportGlyphInfoPropertyTag" title="kTSMDocumentSupportGlyphInfoPropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentSupportGlyphInfoPropertyTag" title="kTSMDocumentSupportGlyphInfoPropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_110"></a><dt><code>kTSMDocumentSupportGlyphInfoPropertyTag</code></dt>
<dd><p>The existence of this property in a TSM document
indicates that the event handlers associated with he TSM document
are aware of the TSM <code>GlyhInfo</code> data
structure. This structure allows the input source producing text
to apply Glyph IDs, CIDs, or fonts to subranges of text produced.
This is useful or characters in Unicode private use area, such as
Windings. For more information, see <span class="content_text"><a href="../../../../../technotes/tn2002/tn2079.html" target="_top">Technical Note TN2079 Glyph Access Protocol</a></span>. By convention, this value
can be a <code>UInt32</code> with
a value of 0, but this is arbitrary. Available in TSM 1.5, in Mac
OS X 10.2 and later.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentUseFloatingWindowPropertyTag" title="kTSMDocumentUseFloatingWindowPropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentUseFloatingWindowPropertyTag" title="kTSMDocumentUseFloatingWindowPropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_111"></a><dt><code>kTSMDocumentUseFloatingWindowPropertyTag</code></dt>
<dd><p>The presence of this property tag indicates
that the TSM document should use the TSM floating input window to
handle input from input methods. This form of input does not support
Unicode input by default, unless the property <code>kTSMDocumentUnicodeInputWindowPropertyTag</code> is
set. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentUnicodeInputWindowPropertyTag" title="kTSMDocumentUnicodeInputWindowPropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentUnicodeInputWindowPropertyTag" title="kTSMDocumentUnicodeInputWindowPropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_112"></a><dt><code>kTSMDocumentUnicodeInputWindowPropertyTag</code></dt>
<dd><p>The presence of this property tag indicates
that although the TSM document has been told to use the TSM floating
input window to handle input from input methods, the floating window
is to support Unicode input. This is useful when non input-related
activity is to produce Unicode, such as keyboard navigation. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentSupportDocumentAccessPropertyTag" title="kTSMDocumentSupportDocumentAccessPropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentSupportDocumentAccessPropertyTag" title="kTSMDocumentSupportDocumentAccessPropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_113"></a><dt><code>kTSMDocumentSupportDocumentAccessPropertyTag</code></dt>
<dd><p> The presence of this property tag indicates
that the event handlers associated with this TSM document support
the TSM document access event suite (see <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Carbon_Events_for_TSM_Document_Access">“Carbon Events for TSM Document Access.”</a></span>)
This property also indicates that the handler for the TSMevent <code>kEventTextInputUpdateActiveInputArea</code> supports
the <code>replaceRange</code> parameter
and that the handler is a Carbon event handler, not an AppleEvent
handler. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentRefconPropertyTag" title="kTSMDocumentRefconPropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentRefconPropertyTag" title="kTSMDocumentRefconPropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_114"></a><dt><code>kTSMDocumentRefconPropertyTag</code></dt>
<dd><p>The property value initially contains the <code>refcon</code> value
passed to the function <code>NewTSMDocument</code>.
This property is useful for changing the <code>refcon</code> value
after the TSM document has been created. The <code>refcon</code> value
is a <code>long</code>, the same as
that passed to <code>NewTSMDocument</code>.
Property is value-dependent; see the Discussion for more information.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentInputModePropertyTag" title="kTSMDocumentInputModePropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentInputModePropertyTag" title="kTSMDocumentInputModePropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_115"></a><dt><code>kTSMDocumentInputModePropertyTag</code></dt>
<dd><p>The property value indicates which input mode
should be used by the current keyboard-class input method. It is
useful for temporarily restricting text input to a subset of characters
normally produced by an input method in a given script, such as
Katakana for Japanese input. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/TextServicePropertyTag">“Text Service Properties”</a></span> for
more details. Also note that this property tag and value are passed
unchanged to the function <span class="content_text"><a href="reference.html#//apple_ref/c/func/SetTextServiceProperty">“SetTextServiceProperty,”</a></span>
so it also serves as a text service property tag. See <code>kTextServiceInputModePropertyTag</code> for
discussion on the values associated with this property. </p><p>The
property value is a <code>CFStringRef</code> data
type. With the function <code>TSMGetTextServiceProperty</code>,
the behavior is that of a Copy function. The implementation of <code><a href="reference.html#//apple_ref/doc/c_ref/SetTextServiceProperty">SetTextServiceProperty</a></code> (in
the component) retains or copies the CFString object. In either
case the caller is responsible for releasing the reference. Property
is value-dependent; see the Discussion for more information. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentPropertySupportGlyphInfo" title="kTSMDocumentPropertySupportGlyphInfo"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentPropertySupportGlyphInfo" title="kTSMDocumentPropertySupportGlyphInfo"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_116"></a><dt><code>kTSMDocumentPropertySupportGlyphInfo</code></dt>
<dd><p>You should no longer use this property. </p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentPropertyUnicodeInputWindow" title="kTSMDocumentPropertyUnicodeInputWindow"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentPropertyUnicodeInputWindow" title="kTSMDocumentPropertyUnicodeInputWindow"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_117"></a><dt><code>kTSMDocumentPropertyUnicodeInputWindow</code></dt>
<dd><p>You should no longer use this property.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentTextServicePropertyTag" title="kTSMDocumentTextServicePropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentTextServicePropertyTag" title="kTSMDocumentTextServicePropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_118"></a><dt><code>kTSMDocumentTextServicePropertyTag</code></dt>
<dd><p>Specifies a non-Unicode savvy document. This
property is equivalent to a pre-existing document interface type. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentUnicodePropertyTag" title="kTSMDocumentUnicodePropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentUnicodePropertyTag" title="kTSMDocumentUnicodePropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_119"></a><dt><code>kTSMDocumentUnicodePropertyTag</code></dt>
<dd><p>This property is equivalent to the Unicode
document interface type.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMDocumentTSMTEPropertyTag" title="kTSMDocumentTSMTEPropertyTag"></a><a name="//apple_ref/doc/c_ref/kTSMDocumentTSMTEPropertyTag" title="kTSMDocumentTSMTEPropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_120"></a><dt><code>kTSMDocumentTSMTEPropertyTag</code></dt>
<dd><p>This property is equivalent to the TSMTE document
interface type.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can use the functions <code><a href="reference.html#//apple_ref/c/func/TSMSetDocumentProperty">TSMSetDocumentProperty</a></code> and <code><a href="reference.html#//apple_ref/c/func/TSMGetDocumentProperty">TSMGetDocumentProperty</a></code> to
set and get arbitrary property data needed by your application. </p>
<p>Unless otherwise noted, all properties are read-only, value-independent,
and available in TSM version 2.2, which is the version available
starting in Mac OS X version 10.3.</p>
<p><strong>Value-independent properties</strong> are used where
the existence of the property, and not its value, is sufficient.
These properties can read by other clients, and are most often used
by input methods. For example, input methods can query the current
TSM document to see if supports unrestricted Unicode input, or if
it supports the <code>GlyphInfo</code> protocol.</p>
<p><strong>Value-dependent properties</strong> are used when
the value associated with a property is meaningful.</p>
<a name="//apple_ref/doc/constant_group/Input_Method_Identifier" title="Input Method Identifier" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C018260" title="Input Method Identifier" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_121"></a><h3 class="tight">Input Method Identifier</h3>
<p class="spaceabove">Specifies a keyboard input method text service.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kInputMethodService">kInputMethodService</a> = <a href="reference.html#//apple_ref/doc/c_ref/kKeyboardInputMethodClass">kKeyboardInputMethodClass</a>
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kInputMethodService" title="kInputMethodService"></a><a name="//apple_ref/doc/c_ref/kInputMethodService" title="kInputMethodService"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_122"></a><dt><code>kInputMethodService</code></dt>
<dd><p>A four-character code identifying an input
method text service. Specifies that the older constant name <code>kInputMethodService</code> is
equivalent to the newer constant name <code>kKeyboardInputMethodClass</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<a name="//apple_ref/doc/constant_group/Input_Mode_Dictionary_Key" title="Input Mode Dictionary Key" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJDJCII" title="Input Mode Dictionary Key" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_123"></a><h3 class="tight">Input Mode Dictionary Key</h3>
<p class="spaceabove">Defines a string for the input mode dictionary key that
you can use in the Component bundle info.plist.</p>
<p class="spaceabove"><pre>
#<!--a-->define<!--/a--> <!--a-->kComponentBundleInputModeDictKey<!--/a-->  <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;ComponentInputModeDict&quot;)
</pre></p>
<h5 class="tight">Discussion</h5>
<p>If you are developing an input method, you use this key in
the component bundle info.plist to identify a dictionary of input
mode information. The dictionary should contain keys to identify
input modes&#8212;see <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Individual_Input_Mode_Keys">“Individual Input Mode Keys”</a></span>&#8212;and should have the form described
in the Discussion section of the function <code><a href="reference.html#//apple_ref/c/func/CopyTextServiceInputModeList">CopyTextServiceInputModeList</a></code>. The function <code><a href="reference.html#//apple_ref/doc/c_ref/CopyTextServiceInputModeList">CopyTextServiceInputModeList</a></code> returns
an input mode dictionary.</p>
<a name="//apple_ref/doc/constant_group/Input_Mode_Palette_Menu_Definition_Keys" title="Input Mode Palette Menu Definition Keys" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BCIHADEE" title="Input Mode Palette Menu Definition Keys" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_124"></a><h3 class="tight">Input Mode Palette Menu Definition Keys</h3>
<p class="spaceabove">Defines keys used to describe the items in a pull-down
menu.</p>
<p class="spaceabove"><pre>
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemTitleKey">kTSInputModePaletteItemTitleKey</a>   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemTitleKey&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemKeyEquivalentKey">kTSInputModePaletteItemKeyEquivalentKey</a>   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemKeyEquivalentKey&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemKeyEquivalentModifiersKey">kTSInputModePaletteItemKeyEquivalentModifiersKey</a>   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemKeyEquivalentModifiersKey&quot;)
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTSInputModePaletteItemTitleKey" title="kTSInputModePaletteItemTitleKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemTitleKey" title="kTSInputModePaletteItemTitleKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_125"></a><dt><code>kTSInputModePaletteItemTitleKey</code></dt>
<dd><p>A CFString that specifies a menu item title.
Use <code>-</code> for a separator.</p></dd>
<a name="//apple_ref/c/econst/kTSInputModePaletteItemKeyEquivalentKey" title="kTSInputModePaletteItemKeyEquivalentKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemKeyEquivalentKey" title="kTSInputModePaletteItemKeyEquivalentKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_126"></a><dt><code>kTSInputModePaletteItemKeyEquivalentKey</code></dt>
<dd><p>A CFString that specifies a menu item keyboard
shortcut .</p></dd>
<a name="//apple_ref/c/econst/kTSInputModePaletteItemKeyEquivalentModifiersKey" title="kTSInputModePaletteItemKeyEquivalentModifiersKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemKeyEquivalentModifiersKey" title="kTSInputModePaletteItemKeyEquivalentModifiersKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_127"></a><dt><code>kTSInputModePaletteItemKeyEquivalentModifiersKey</code></dt>
<dd><p>A CFNumber that specifies a menu item keyboard
shortcut modifier (from Events.h).</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>These keys are returned by the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetInputModePaletteMenu">GetInputModePaletteMenu</a></code>, in the <code>outMenuItemsArray</code> parameter.
For information on the structure of the CFDictionary, see the TextServices.h
header file.</p>
<a name="//apple_ref/doc/constant_group/Input_Mode_Palette_Control_Keys" title="Input Mode Palette Control Keys" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BCIGECHD" title="Input Mode Palette Control Keys" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_128"></a><h3 class="tight">Input Mode Palette Control Keys</h3>
<p class="spaceabove">Defines keys used to describe controls for an input palette.</p>
<p class="spaceabove"><pre>
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemTypeKey">kTSInputModePaletteItemTypeKey</a>  <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemTypeKey&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemIconKey">kTSInputModePaletteItemIconKey</a>   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemIconKey&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemAltIconKey">kTSInputModePaletteItemAltIconKey</a>   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemAltIconKey&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemStateKey">kTSInputModePaletteItemStateKey</a>   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemStateKey&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemEnabledKey">kTSInputModePaletteItemEnabledKey</a>   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemEnabledKey&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTSInputModePaletteItemIDKey">kTSInputModePaletteItemIDKey</a>    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteItemIDKey&quot;)
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTSInputModePaletteItemTypeKey" title="kTSInputModePaletteItemTypeKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemTypeKey" title="kTSInputModePaletteItemTypeKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_129"></a><dt><code>kTSInputModePaletteItemTypeKey</code></dt>
<dd><p>A CFNumber that specifies the type of control
(0: push button, 1: toggle button, 2: pull-down menu),</p></dd>
<a name="//apple_ref/c/econst/kTSInputModePaletteItemIconKey" title="kTSInputModePaletteItemIconKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemIconKey" title="kTSInputModePaletteItemIconKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_130"></a><dt><code>kTSInputModePaletteItemIconKey</code></dt>
<dd><p>A CFString that specifies an icon file name.
The file should be located in the input method bundle resource directory,
so this is just the file name, not full path.</p></dd>
<a name="//apple_ref/c/econst/kTSInputModePaletteItemAltIconKey" title="kTSInputModePaletteItemAltIconKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemAltIconKey" title="kTSInputModePaletteItemAltIconKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_131"></a><dt><code>kTSInputModePaletteItemAltIconKey</code></dt>
<dd><p>A CFString that specifies an alternate icon
file name. The file should be located in the input method bundle
resource directory, so this is just the file name, not full path.</p></dd>
<a name="//apple_ref/c/econst/kTSInputModePaletteItemStateKey" title="kTSInputModePaletteItemStateKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemStateKey" title="kTSInputModePaletteItemStateKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_132"></a><dt><code>kTSInputModePaletteItemStateKey</code></dt>
<dd><p>A CFNumber that specifies the state of the
control (0: clear or unpressed, 1: checked or pressed, 2: mixed).</p></dd>
<a name="//apple_ref/c/econst/kTSInputModePaletteItemEnabledKey" title="kTSInputModePaletteItemEnabledKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemEnabledKey" title="kTSInputModePaletteItemEnabledKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_133"></a><dt><code>kTSInputModePaletteItemEnabledKey</code></dt>
<dd><p>A CFBoolean that specifies the enabled state
of the control.</p></dd>
<a name="//apple_ref/c/econst/kTSInputModePaletteItemIDKey" title="kTSInputModePaletteItemIDKey"></a><a name="//apple_ref/doc/c_ref/kTSInputModePaletteItemIDKey" title="kTSInputModePaletteItemIDKey"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_134"></a><dt><code>kTSInputModePaletteItemIDKey</code></dt>
<dd><p>A CFNumber that specifies a <code>UInt32 </code>tag
ID for the control.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You use these keys in a CFDictionary that contains control
descriptions passed to the functions <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/TSMInputModePaletteLoadButtons">TSMInputModePaletteLoadButtons</a></code> and <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/TSMInputModePaletteUpdateButtons">TSMInputModePaletteUpdateButtons</a></code>.
For information on the structure of the CFDictionary, see the TextServices.h
header file.</p>
<a name="//apple_ref/doc/constant_group/Individual_Input_Mode_Keys" title="Individual Input Mode Keys" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJIGDEG" title="Individual Input Mode Keys" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_135"></a><h3 class="tight">Individual Input Mode Keys</h3>
<p class="spaceabove">Defines keys used to identify input modes in an input
mode dictionary.</p>
<p class="spaceabove"><pre>
#<!--a-->define<!--/a--> <!--a-->kTSInputModeListKey<!--/a--> <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeListKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModeMenuIconFileKey<!--/a--> <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeMenuIconFileKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModeAlternateMenuIconFileKey<!--/a-->
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeAlternateMenuIconFileKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModePaletteIconFileKey<!--/a-->
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePaletteIconFileKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModeDefaultStateKey<!--/a--> <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeDefaultStateKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModeScriptKey<!--/a--> <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeScriptKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModePrimaryInScriptKey<!--/a-->
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModePrimaryInScriptKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModeIsVisibleKey<!--/a-->      <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeIsVisibleKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModeKeyEquivalentModifiersKey<!--/a-->
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeKeyEquivalentModifiersKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModeKeyEquivalentKey<!--/a-->
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeKeyEquivalentKey&quot;)
#<!--a-->define<!--/a--> <!--a-->kTSInputModeJISKeyboardShortcutKey<!--/a-->
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;tsInputModeJISKeyboardShortcutKey&quot;)
</pre></p>
<h5 class="tight">Discussion</h5>
<p>If you are developing an input method, you use these keys
in a dictionary of input mode information. The Component bundle
info.plist should an input mode dictionary key that identifies the
dictionary&#8212;see <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Input_Mode_Dictionary_Key">“Input Mode Dictionary Key.”</a></span> The dictionary should have the
form described in the Discussion section of the function <code><a href="reference.html#//apple_ref/c/func/CopyTextServiceInputModeList">CopyTextServiceInputModeList</a></code>.
The function <code><a href="reference.html#//apple_ref/doc/c_ref/CopyTextServiceInputModeList">CopyTextServiceInputModeList</a></code> returns
an input mode dictionary. </p>
<a name="//apple_ref/doc/constant_group/Interfaces" title="Interfaces" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_5" title="Interfaces" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_136"></a><h3 class="tight">Interfaces</h3>
<p class="spaceabove">Specify types of text services interfaces.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kTextService">kTextService</a> = 'tsvc'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTextService" title="kTextService"></a><a name="//apple_ref/doc/c_ref/kTextService" title="kTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_137"></a><dt><code>kTextService</code></dt>
<dd><p>A four-character code identifying a text service
of any kind (including input methods). This value is also used to
identify non-Unicode TSM documents.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This constant is used in arrays of type <code><a href="reference.html#//apple_ref/c/tdef/InterfaceTypeList">InterfaceTypeList</a></code>. In addition to this
constants, the constant <code>kTSMTEInterfaceType</code> 
(<code>'tmTE'</code>), from TSMTE.h,
is a supported interface type that allows TextEdit to provide automatic
inline input support in TextEdit documents.</p>
<a name="//apple_ref/doc/constant_group/Language_and_Script_Constants" title="Language and Script Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C005396" title="Language and Script Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_138"></a><h3 class="tight">Language and Script Constants</h3>
<p class="spaceabove">Specify the language or script is not known or neutral.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kUnknownLanguage">kUnknownLanguage</a> = 0<!--a-->xFFFF<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kUnknownScript">kUnknownScript</a> = 0<!--a-->xFFFF<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kNeutralScript">kNeutralScript</a> = 0<!--a-->xFFFF<!--/a-->
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kUnknownLanguage" title="kUnknownLanguage"></a><a name="//apple_ref/doc/c_ref/kUnknownLanguage" title="kUnknownLanguage"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_139"></a><dt><code>kUnknownLanguage</code></dt>
<dd><p>Specifies an unknown language.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kUnknownScript" title="kUnknownScript"></a><a name="//apple_ref/doc/c_ref/kUnknownScript" title="kUnknownScript"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_140"></a><dt><code>kUnknownScript</code></dt>
<dd><p>Specifies an unknown script.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kNeutralScript" title="kNeutralScript"></a><a name="//apple_ref/doc/c_ref/kNeutralScript" title="kNeutralScript"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_141"></a><dt><code>kNeutralScript</code></dt>
<dd><p>Specifies a neutral script.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<a name="//apple_ref/doc/constant_group/Low_level_Routine_Selectors" title="Low-level Routine Selectors" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C004738" title="Low-level Routine Selectors" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_142"></a><h3 class="tight">Low-level Routine Selectors</h3>
<p class="spaceabove">Specify low level routines which are dispatched directly
to the Component Manager.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kCMGetScriptLangSupport">kCMGetScriptLangSupport</a> = 0<!--a-->x0001<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMInitiateTextService">kCMInitiateTextService</a> = 0<!--a-->x0002<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMTerminateTextService">kCMTerminateTextService</a> = 0<!--a-->x0003<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMActivateTextService">kCMActivateTextService</a> = 0<!--a-->x0004<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMDeactivateTextService">kCMDeactivateTextService</a> = 0<!--a-->x0005<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMTextServiceEvent">kCMTextServiceEvent</a> = 0<!--a-->x0006<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMGetTextServiceMenu">kCMGetTextServiceMenu</a> = 0<!--a-->x0007<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMTextServiceMenuSelect">kCMTextServiceMenuSelect</a> = 0<!--a-->x0008<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMFixTextService">kCMFixTextService</a> = 0<!--a-->x0009<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMSetTextServiceCursor">kCMSetTextServiceCursor</a> = 0<!--a-->x000A<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMHidePaletteWindows">kCMHidePaletteWindows</a> = 0<!--a-->x000B<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMGetTextServiceProperty">kCMGetTextServiceProperty</a> = 0<!--a-->x000C<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kCMSetTextServiceProperty">kCMSetTextServiceProperty</a> = 0<!--a-->x000D<!--/a-->
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kCMGetScriptLangSupport" title="kCMGetScriptLangSupport"></a><a name="//apple_ref/doc/c_ref/kCMGetScriptLangSupport" title="kCMGetScriptLangSupport"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_143"></a><dt><code>kCMGetScriptLangSupport</code></dt>
<dd><p>Specifies the function <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/GetScriptLanguageSupport">GetScriptLanguageSupport</a></code>; Component
Manager call selector 1.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMInitiateTextService" title="kCMInitiateTextService"></a><a name="//apple_ref/doc/c_ref/kCMInitiateTextService" title="kCMInitiateTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_144"></a><dt><code>kCMInitiateTextService</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/InitiateTextService">InitiateTextService</a></code>; Component Manager
call selector 2.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMTerminateTextService" title="kCMTerminateTextService"></a><a name="//apple_ref/doc/c_ref/kCMTerminateTextService" title="kCMTerminateTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_145"></a><dt><code>kCMTerminateTextService</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/TerminateTextService">TerminateTextService</a></code>; Component Manager
call selector 3.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMActivateTextService" title="kCMActivateTextService"></a><a name="//apple_ref/doc/c_ref/kCMActivateTextService" title="kCMActivateTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_146"></a><dt><code>kCMActivateTextService</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/ActivateTextService">ActivateTextService</a></code>; Component Manager
call selector 4.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMDeactivateTextService" title="kCMDeactivateTextService"></a><a name="//apple_ref/doc/c_ref/kCMDeactivateTextService" title="kCMDeactivateTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_147"></a><dt><code>kCMDeactivateTextService</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/DeactivateTextService">DeactivateTextService</a></code>; Component Manager
call selector 5.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMTextServiceEvent" title="kCMTextServiceEvent"></a><a name="//apple_ref/doc/c_ref/kCMTextServiceEvent" title="kCMTextServiceEvent"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_148"></a><dt><code>kCMTextServiceEvent</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/TextServiceEventRef">TextServiceEventRef</a></code>; Component Manager
call selector 6.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMGetTextServiceMenu" title="kCMGetTextServiceMenu"></a><a name="//apple_ref/doc/c_ref/kCMGetTextServiceMenu" title="kCMGetTextServiceMenu"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_149"></a><dt><code>kCMGetTextServiceMenu</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/GetTextServiceMenu">GetTextServiceMenu</a></code>; Component Manager
call selector 7.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMTextServiceMenuSelect" title="kCMTextServiceMenuSelect"></a><a name="//apple_ref/doc/c_ref/kCMTextServiceMenuSelect" title="kCMTextServiceMenuSelect"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_150"></a><dt><code>kCMTextServiceMenuSelect</code></dt>
<dd><p>Component Manager call selector 8.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMFixTextService" title="kCMFixTextService"></a><a name="//apple_ref/doc/c_ref/kCMFixTextService" title="kCMFixTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_151"></a><dt><code>kCMFixTextService</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/FixTextService">FixTextService</a></code>; Component Manager call
selector 9.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMSetTextServiceCursor" title="kCMSetTextServiceCursor"></a><a name="//apple_ref/doc/c_ref/kCMSetTextServiceCursor" title="kCMSetTextServiceCursor"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_152"></a><dt><code>kCMSetTextServiceCursor</code></dt>
<dd><p>Component Manager call selector 10.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMHidePaletteWindows" title="kCMHidePaletteWindows"></a><a name="//apple_ref/doc/c_ref/kCMHidePaletteWindows" title="kCMHidePaletteWindows"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_153"></a><dt><code>kCMHidePaletteWindows</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/HidePaletteWindows">HidePaletteWindows</a></code>; Component Manager
call selector 11.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMGetTextServiceProperty" title="kCMGetTextServiceProperty"></a><a name="//apple_ref/doc/c_ref/kCMGetTextServiceProperty" title="kCMGetTextServiceProperty"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_154"></a><dt><code>kCMGetTextServiceProperty</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/GetTextServiceProperty">GetTextServiceProperty</a></code>; Component Manager
call selector 12.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCMSetTextServiceProperty" title="kCMSetTextServiceProperty"></a><a name="//apple_ref/doc/c_ref/kCMSetTextServiceProperty" title="kCMSetTextServiceProperty"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_155"></a><dt><code>kCMSetTextServiceProperty</code></dt>
<dd><p>Specifies the function <code><a href="reference.html#//apple_ref/c/func/SetTextServiceProperty">SetTextServiceProperty</a></code>; Component Manager
call selector 13.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<a name="//apple_ref/doc/constant_group/New_Low_level_Routine_Selector" title="New Low-level Routine Selector" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C004742" title="New Low-level Routine Selector" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_156"></a><h3 class="tight">New Low-level Routine Selector</h3>
<p class="spaceabove">Specifies new low-level routine that are dispatched directly
to the Component Manager.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kCMUCTextServiceEvent">kCMUCTextServiceEvent</a> = 0<!--a-->x000E<!--/a-->
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kCMUCTextServiceEvent" title="kCMUCTextServiceEvent"></a><a name="//apple_ref/doc/c_ref/kCMUCTextServiceEvent" title="kCMUCTextServiceEvent"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_157"></a><dt><code>kCMUCTextServiceEvent</code></dt>
<dd><p>Component Manager call selector 14.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<a name="//apple_ref/c/tdef/TextServiceClass" title="Text Service Classes" role="Enum"></a><a name="//apple_ref/doc/c_ref/TextServiceClass" title="Text Service Classes" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C018245" title="Text Service Classes" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_158"></a><h3 class="tight">Text Service Classes</h3>
<p class="spaceabove">Specify text service classes supported by TSM.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kKeyboardInputMethodClass">kKeyboardInputMethodClass</a> = 'inpm',
   <a href="reference.html#//apple_ref/doc/c_ref/kInkInputMethodClass">kInkInputMethodClass</a> = '<!--a-->ink<!--/a--> ',
   <a href="reference.html#//apple_ref/doc/c_ref/kCharacterPaletteInputMethodClass">kCharacterPaletteInputMethodClass</a> = 'cplt',
   <a href="reference.html#//apple_ref/doc/c_ref/kSpeechInputMethodClass">kSpeechInputMethodClass</a> = 'voic',
   <a href="reference.html#//apple_ref/doc/c_ref/kOCRInputMethodClass">kOCRInputMethodClass</a> = '<!--a-->ocr<!--/a--> '
};
typedef <!--a-->OSType<!--/a--> TextServiceClass;
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kKeyboardInputMethodClass" title="kKeyboardInputMethodClass"></a><a name="//apple_ref/doc/c_ref/kKeyboardInputMethodClass" title="kKeyboardInputMethodClass"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_159"></a><dt><code>kKeyboardInputMethodClass</code></dt>
<dd><p>Specifies a text service class for keyboard
input methods. Behavior is exclusive. Input methods in this class
are normally associated with a Mac ScriptCode or Unicode, although
they can be associated with several scripts by adopting the input
mode protocol.</p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kInkInputMethodClass" title="kInkInputMethodClass"></a><a name="//apple_ref/doc/c_ref/kInkInputMethodClass" title="kInkInputMethodClass"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_160"></a><dt><code>kInkInputMethodClass</code></dt>
<dd><p>Specifies a text service class for Ink input
methods. Behavior is additive. Text services in the Ink class do
not belong to any given script in the sense that those of the Keyboard
class do. Once selected, this kind of text service remains active
regardless of the current keyboard script. Although text services
in this class are keyboard script agnostic, similar to input methods of
the keyboard class they can still profess to produce only those
Unicodes that are encoded in the Mac encoding specified in their
component description record or their implementation of the <code>GetScriptLanguageSupport</code> component
call. </p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCharacterPaletteInputMethodClass" title="kCharacterPaletteInputMethodClass"></a><a name="//apple_ref/doc/c_ref/kCharacterPaletteInputMethodClass" title="kCharacterPaletteInputMethodClass"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_161"></a><dt><code>kCharacterPaletteInputMethodClass</code></dt>
<dd><p>Specifies a text service class for Character
Palette input methods. Behavior is additive. Text services in the
character palette class do not belong to any given script in the
same sense that do those of the keyboard class. Once selected, this
kind of text service remains active regardless of the current keyboard
script. Although text services in this class are keyboard script agnostic,
similar to input methods of the keyboard class, they can still produce
only those Unicodes that are encoded in the Mac encoding specified
in their component description record or their implementation of the <code>GetScriptLanguageSupport</code> component
call. Unlike input methods in the keyboard class, multiple such
text services can be activate in parallel. Mac OS X provides a System
user interface to allow the user to both enable and select multiple
such input methods. </p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kSpeechInputMethodClass" title="kSpeechInputMethodClass"></a><a name="//apple_ref/doc/c_ref/kSpeechInputMethodClass" title="kSpeechInputMethodClass"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_162"></a><dt><code>kSpeechInputMethodClass</code></dt>
<dd><p>Specifies a text service class for Speech input
methods. Behavior is additive. Similar to Character palette class. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kOCRInputMethodClass" title="kOCRInputMethodClass"></a><a name="//apple_ref/doc/c_ref/kOCRInputMethodClass" title="kOCRInputMethodClass"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_163"></a><dt><code>kOCRInputMethodClass</code></dt>
<dd><p>Specifies a text service class for Optical
Character Recognition input methods. Behavior is additive. Similar
to Character palette class. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Text service classes fall in two categories or behaviors.
Text services that belong to some classes are exclusive of one another
within a given Mac script code, such input methods of the keyboard
class. Input Methods of other classes are additive in nature, regardless
of the current keyboard script. </p>
<p>Within a given class and script, exclusive input methods can
only be activated one at a time. Input methods in additive classes
are keyboard script agnostic and can be active in parallel with
other text services in the same class, such as multiple character
palettes.</p>
<p>These are the same as the component subtype for the component
description.</p>
<a name="//apple_ref/doc/constant_group/Text_Service_Version" title="Text Service Version" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C018250" title="Text Service Version" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_164"></a><h3 class="tight">Text Service Version</h3>
<p class="spaceabove">Specifies the interface type for version 2.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceVersion2">kTextServiceVersion2</a> = 'tsv2'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTextServiceVersion2" title="kTextServiceVersion2"></a><a name="//apple_ref/doc/c_ref/kTextServiceVersion2" title="kTextServiceVersion2"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_165"></a><dt><code>kTextServiceVersion2</code></dt>
<dd><p>The interface type for V2 interfaces</p><p>Available in Mac OS X v10.0 through Mac OS X v10.2.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<a name="//apple_ref/c/tdef/TextServicePropertyTag" title="Text Service Properties" role="Enum"></a><a name="//apple_ref/doc/c_ref/TextServicePropertyTag" title="Text Service Properties" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C006750" title="Text Service Properties" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_166"></a><h3 class="tight">Text Service Properties</h3>
<p class="spaceabove">Specify a feature or functionality of a component.</p>
<p class="spaceabove"><pre>
typedef <!--a-->OSType<!--/a--> TextServicePropertyTag;
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModePropertyTag">kTextServiceInputModePropertyTag</a> = <a href="reference.html#//apple_ref/doc/c_ref/kTSMDocumentInputModePropertyTag">kTSMDocumentInputModePropertyTag</a>,
   <a href="reference.html#//apple_ref/doc/c_ref/kIMJaTypingMethodRoman">kIMJaTypingMethodRoman</a> = 'roma',
   <a href="reference.html#//apple_ref/doc/c_ref/kIMJaTypingMethodKana">kIMJaTypingMethodKana</a> = 'kana',
   <a href="reference.html#//apple_ref/doc/c_ref/kIMJaTypingMethodProperty">kIMJaTypingMethodProperty</a> = <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceJaTypingMethodPropertyTag">kTextServiceJaTypingMethodPropertyTag</a>,
   <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceJaTypingMethodPropertyTag">kTextServiceJaTypingMethodPropertyTag</a> = 'jtyp'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTextServiceInputModePropertyTag" title="kTextServiceInputModePropertyTag"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModePropertyTag" title="kTextServiceInputModePropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_167"></a><dt><code>kTextServiceInputModePropertyTag</code></dt>
<dd><p>Specifies the input mode property for input
methods. This property is a CFString object that uniquely identifies
which input mode should be made current by a keyboard class input
method, if possible. This property tag is identical to the tag <code>kTSMDocumentInputModePropertyTag</code> passed
to the function <code>TSMDocumentProperty</code>.
This allows the tag and value to be passed through without interpretation. </p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kIMJaTypingMethodRoman" title="kIMJaTypingMethodRoman"></a><a name="//apple_ref/doc/c_ref/kIMJaTypingMethodRoman" title="kIMJaTypingMethodRoman"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_168"></a><dt><code>kIMJaTypingMethodRoman</code></dt>
<dd><p>Not recommended. Specify Japanese input in
Roman script.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kIMJaTypingMethodKana" title="kIMJaTypingMethodKana"></a><a name="//apple_ref/doc/c_ref/kIMJaTypingMethodKana" title="kIMJaTypingMethodKana"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_169"></a><dt><code>kIMJaTypingMethodKana</code></dt>
<dd><p>Not recommended. Specify Japanese input in
Kana script.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kIMJaTypingMethodProperty" title="kIMJaTypingMethodProperty"></a><a name="//apple_ref/doc/c_ref/kIMJaTypingMethodProperty" title="kIMJaTypingMethodProperty"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_170"></a><dt><code>kIMJaTypingMethodProperty</code></dt>
<dd><p>Deprecated. Specify the typing method as Japanese
input. This property is deprecated. Use the tag <code>kTextServiceInputModePropertyTag</code> instead.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTextServiceJaTypingMethodPropertyTag" title="kTextServiceJaTypingMethodPropertyTag"></a><a name="//apple_ref/doc/c_ref/kTextServiceJaTypingMethodPropertyTag" title="kTextServiceJaTypingMethodPropertyTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_171"></a><dt><code>kTextServiceJaTypingMethodPropertyTag</code></dt>
<dd><p>Deprecated.Use the tag <code>kTextServiceInputModePropertyTag</code> instead.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Text Service Property constants are used in <code><a href="reference.html#//apple_ref/c/func/SetTextServiceProperty">SetTextServiceProperty</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTextServiceProperty">GetTextServiceProperty</a></code>.
The only property that is recommend for you to use is the property <code>kTextServiceInputModePropertyTag</code>.</p>
<p>Input modes are either generic (pre-defined by TSM), or specific
to an input method. An example of a generic input mode is Katakana
input (Japanese) where input in a text field needs to be restricted
to that character subset. Another is Roman input mode. This is useful to
temporarily provide Roman input from an input method that normally
allows text input in another script. The advantage to using Roman
input mode over forcing the keyboard script to Roman is that the
same user interface for the input method continues to be available
to the user, even though the input script changed. An example of
a special input mode (input method specific) is Hanin input mode
in Traditional Chinese input methods. </p>
<p>To temporarily change the current input mode from whatever
it is to a generic one, use the function <code>GetTextServiceProperty</code> to
obtain the current input mode, then call the function <code>SetTextServiceProperty</code> to
switch to the generic mode. When done using the generic input mode,
you can restore the original input mode. </p>
<p>You can find out what input modes are supported by an input
method by calling the function <code><a href="reference.html#//apple_ref/doc/c_ref/CopyTextServiceInputModeList">CopyTextServiceInputModeList</a></code>.
If the input method does not support a specified input mode, the
functions <code><a href="reference.html#//apple_ref/doc/c_ref/GetTextServiceProperty">GetTextServiceProperty</a></code> and <code><a href="reference.html#//apple_ref/doc/c_ref/SetTextServiceProperty">SetTextServiceProperty</a></code> return the
result <code><!--a-->tsmComponentPropertyUnsupportedErr<!--/a--></code>.
The function <code><a href="reference.html#//apple_ref/doc/c_ref/GetTextServiceProperty">GetTextServiceProperty</a></code> returns
the result <code><!--a-->tsmComponentPropertyNotFoundErr<!--/a--></code>. </p>
<a name="//apple_ref/doc/constant_group/Text_Services_Property_Values" title="Text Services Property Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJEFFEJ" title="Text Services Property Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_172"></a><h3 class="tight">Text Services Property Values</h3>
<p class="spaceabove">Define values for the text services input mode property
tags.</p>
<p class="spaceabove"><pre>
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeRoman">kTextServiceInputModeRoman</a>     <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Roman&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModePassword">kTextServiceInputModePassword</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Password&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseHiragana">kTextServiceInputModeJapaneseHiragana</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Japanese.Hiragana&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseKatakana">kTextServiceInputModeJapaneseKatakana</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Japanese.Katakana&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseFullWidthRoman">kTextServiceInputModeJapaneseFullWidthRoman</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Japanese.FullWidthRoman&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseHalfWidthKana">kTextServiceInputModeJapaneseHalfWidthKana</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Japanese.HalfWidthKana&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeJapanesePlaceName">kTextServiceInputModeJapanesePlaceName</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Japanese.PlaceName&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseFirstName">kTextServiceInputModeJapaneseFirstName</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Japanese.FirstName&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseLastName">kTextServiceInputModeJapaneseLastName</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Japanese.LastName&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeBopomofo">kTextServiceInputModeBopomofo</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.TradChinese.Bopomofo&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeTradChinesePlaceName">kTextServiceInputModeTradChinesePlaceName</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.TradChinese.PlaceName&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeHangul">kTextServiceInputModeHangul</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Korean.Hangul&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeJapanese">kTextServiceInputModeJapanese</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Japanese&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeTradChinese">kTextServiceInputModeTradChinese</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.TradChinese&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeSimpChinese">kTextServiceInputModeSimpChinese</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.SimpChinese&quot;)
#<!--a-->define<!--/a--> <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceInputModeKorean">kTextServiceInputModeKorean</a>
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFSTR" target="_top">CFSTR</a>(&quot;com.apple.inputmethod.Korean&quot;)
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTextServiceInputModeRoman" title="kTextServiceInputModeRoman"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeRoman" title="kTextServiceInputModeRoman"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_173"></a><dt><code>kTextServiceInputModeRoman</code></dt>
<dd><p> Specifies to restrict output to Roman characters
only.</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModePassword" title="kTextServiceInputModePassword"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModePassword" title="kTextServiceInputModePassword"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_174"></a><dt><code>kTextServiceInputModePassword</code></dt>
<dd> </dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeJapaneseHiragana" title="kTextServiceInputModeJapaneseHiragana"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseHiragana" title="kTextServiceInputModeJapaneseHiragana"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_175"></a><dt><code>kTextServiceInputModeJapaneseHiragana</code></dt>
<dd><p>Specifies to restrict output to Hiragana characters
only (no conversion to Kanji, that is, yomi).</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeJapaneseKatakana" title="kTextServiceInputModeJapaneseKatakana"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseKatakana" title="kTextServiceInputModeJapaneseKatakana"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_176"></a><dt><code>kTextServiceInputModeJapaneseKatakana</code></dt>
<dd><p>Specifies to restrict output to Katakana characters
only (no conversion to Kanji).</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeJapaneseFullWidthRoman" title="kTextServiceInputModeJapaneseFullWidthRoman"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseFullWidthRoman" title="kTextServiceInputModeJapaneseFullWidthRoman"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_177"></a><dt><code>kTextServiceInputModeJapaneseFullWidthRoman</code></dt>
<dd> </dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeJapaneseHalfWidthKana" title="kTextServiceInputModeJapaneseHalfWidthKana"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseHalfWidthKana" title="kTextServiceInputModeJapaneseHalfWidthKana"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_178"></a><dt><code>kTextServiceInputModeJapaneseHalfWidthKana</code></dt>
<dd> </dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeJapanesePlaceName" title="kTextServiceInputModeJapanesePlaceName"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeJapanesePlaceName" title="kTextServiceInputModeJapanesePlaceName"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_179"></a><dt><code>kTextServiceInputModeJapanesePlaceName</code></dt>
<dd> </dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeJapaneseFirstName" title="kTextServiceInputModeJapaneseFirstName"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseFirstName" title="kTextServiceInputModeJapaneseFirstName"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_180"></a><dt><code>kTextServiceInputModeJapaneseFirstName</code></dt>
<dd> </dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeJapaneseLastName" title="kTextServiceInputModeJapaneseLastName"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeJapaneseLastName" title="kTextServiceInputModeJapaneseLastName"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_181"></a><dt><code>kTextServiceInputModeJapaneseLastName</code></dt>
<dd> </dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeBopomofo" title="kTextServiceInputModeBopomofo"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeBopomofo" title="kTextServiceInputModeBopomofo"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_182"></a><dt><code>kTextServiceInputModeBopomofo</code></dt>
<dd><p>Specifies to restrict output to Bopomofo characters
only (no conversion to Han).</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeTradChinesePlaceName" title="kTextServiceInputModeTradChinesePlaceName"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeTradChinesePlaceName" title="kTextServiceInputModeTradChinesePlaceName"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_183"></a><dt><code>kTextServiceInputModeTradChinesePlaceName</code></dt>
<dd><p>Specifies to restrict output to traditional
chines place name.</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeHangul" title="kTextServiceInputModeHangul"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeHangul" title="kTextServiceInputModeHangul"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_184"></a><dt><code>kTextServiceInputModeHangul</code></dt>
<dd><p>Specifies to restrict output to Hangul syllables
only (no conversion to Hanja).</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeJapanese" title="kTextServiceInputModeJapanese"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeJapanese" title="kTextServiceInputModeJapanese"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_185"></a><dt><code>kTextServiceInputModeJapanese</code></dt>
<dd><p>Specifies unrestricted Japanese output.</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeTradChinese" title="kTextServiceInputModeTradChinese"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeTradChinese" title="kTextServiceInputModeTradChinese"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_186"></a><dt><code>kTextServiceInputModeTradChinese</code></dt>
<dd><p>Specifies traditional Chinese generic (unrestricted)
input mode.</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeSimpChinese" title="kTextServiceInputModeSimpChinese"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeSimpChinese" title="kTextServiceInputModeSimpChinese"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_187"></a><dt><code>kTextServiceInputModeSimpChinese</code></dt>
<dd><p>Specifies simplified Chinese generic (unrestricted)
input mode.</p></dd>
<a name="//apple_ref/c/econst/kTextServiceInputModeKorean" title="kTextServiceInputModeKorean"></a><a name="//apple_ref/doc/c_ref/kTextServiceInputModeKorean" title="kTextServiceInputModeKorean"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_188"></a><dt><code>kTextServiceInputModeKorean</code></dt>
<dd><p>Specifies Korean generic (unrestricted) output
(Hanja possible).</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>These values require a cast from the <code>CFStringRef</code> data
type to an <code>SInt32</code> data
type before they can be used in text services functions. </p>
<a name="//apple_ref/doc/constant_group/Text_Services_Object_Attributes" title="Text Services Object Attributes" role="PoundDefineGroup"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-TextServicesObjectAttributes" title="Text Services Object Attributes" role="PoundDefineGroup"></a>
<a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_189"></a><h3 class="tight">Text Services Object Attributes</h3>
<p class="spaceabove">Specify characteristics of text services.</p>
<p class="spaceabove"><pre>
#define <!--a-->kKeyboardInputMethodTypeName<!--/a--> <!--a-->&quot<!--/a-->;\pkeyboardinputmethod&quot;
#define <!--a-->kHandwritingInputMethodTypeName<!--/a--> <!--a-->&quot<!--/a-->;\phandwritinginputmethod&quot;
#define <!--a-->kSpeechInputMethodTypeName<!--/a--> <!--a-->&quot<!--/a-->;\pspeechinputmethod&quot;
#define <!--a-->kTokenizeServiceTypeName<!--/a--> <!--a-->&quot<!--/a-->;\ptokenizetextservice&quot;
#define <!--a-->kInteractiveTextServiceTypeName<!--/a--> <!--a-->&quot<!--/a-->;\pinteractivetextservice&quot;
#define <!--a-->kInputMethodModeName<!--/a--> <!--a-->&quot<!--/a-->;\pinputmethodmode&quot;
#define <!--a-->kInputMethodModeVariantName<!--/a--> <!--a-->&quot<!--/a-->;\pinputmethodvariantmode&quot;
#define <!--a-->kTextServiceModeName<!--/a--> <!--a-->&quot<!--/a-->;\ptextservicemode&quot;
#define <!--a-->kTextServiceNeedsInlineAppMode<!--/a--> <!--a-->&quot<!--/a-->;\ptextservicesneedsinlineapp&quot;
#define <!--a-->kTextServiceNeedsGetProtocolMode<!--/a--> <!--a-->&quot<!--/a-->;\ptextservicesneedsGetProtocol&quot;
#define <!--a-->kTextServiceAnyAppMode<!--/a--> <!--a-->&quot<!--/a-->;\ptextservicesanyapp&quot;
</pre></p>
<a name="//apple_ref/doc/constant_group/TSM_Document_Interfaces" title="TSM Document Interfaces" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C005309" title="TSM Document Interfaces" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_190"></a><h3 class="tight">TSM Document Interfaces</h3>
<p class="spaceabove">Specify types of TSM document interfaces.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kTextServiceDocumentInterfaceType">kTextServiceDocumentInterfaceType</a> = <a href="reference.html#//apple_ref/doc/c_ref/kTextService">kTextService</a>,
   <a href="reference.html#//apple_ref/doc/c_ref/kTSMTEDocumentInterfaceType">kTSMTEDocumentInterfaceType</a>   = 'tmTE',
   <a href="reference.html#//apple_ref/doc/c_ref/kUnicodeDocumentInterfaceType">kUnicodeDocumentInterfaceType</a> = 'udoc',
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTextServiceDocumentInterfaceType" title="kTextServiceDocumentInterfaceType"></a><a name="//apple_ref/doc/c_ref/kTextServiceDocumentInterfaceType" title="kTextServiceDocumentInterfaceType"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_191"></a><dt><code>kTextServiceDocumentInterfaceType</code></dt>
<dd><p>A four-character code identifying a TSM document
type for traditional (non-Unicode) TSM documents. This is the traditional
TSM document type. It does not support Unicode. TSM converts all
Unicode produced by input methods to the Mac encoding represented
by the current keyboard script (or the Mac encoding specified by
the input method producing text.) Full Unicode input sources may
not be selectable when this TSM document is active.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSMTEDocumentInterfaceType" title="kTSMTEDocumentInterfaceType"></a><a name="//apple_ref/doc/c_ref/kTSMTEDocumentInterfaceType" title="kTSMTEDocumentInterfaceType"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_192"></a><dt><code>kTSMTEDocumentInterfaceType</code></dt>
<dd><p>Deprecated. Specifies a TSM document type for
TSMTE document (see <code>kTSMTEInterfaceType</code> in
TSMTE.h). This requests automatic management of inline input sessions
by TextEdit (the text engine.) See <em>Technote TE27 - Inline
Input for TextEdit with TSMTE</em>. This document interface
type should no longer be used because TextEdit has been replaced
by MLTE.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kUnicodeDocumentInterfaceType" title="kUnicodeDocumentInterfaceType"></a><a name="//apple_ref/doc/c_ref/kUnicodeDocumentInterfaceType" title="kUnicodeDocumentInterfaceType"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_193"></a><dt><code>kUnicodeDocumentInterfaceType</code></dt>
<dd><p>Specifies a TSM document type for Unicode-savvy
applications. TSM pass through all Unicode text unchanged. When
this TSM document is active, the full range of input sources is
available to the user, such as Unicode keyboard layouts.</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>These constants are used in arrays of type <code><a href="reference.html#//apple_ref/c/tdef/InterfaceTypeList">InterfaceTypeList</a></code>. TSM Interface types,
as of Mac OS X 10.3, are also stored as TSM document properties,
so once a TSM document is created, you can easily find out its interface
types at document creation.</p>
<a name="//apple_ref/doc/constant_group/Unicode_Identifiers" title="Unicode Identifiers" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C006902" title="Unicode Identifiers" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_194"></a><h3 class="tight">Unicode Identifiers</h3>
<p class="spaceabove">Specify constants that identify Unicode components and
documents.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kUnicodeDocument">kUnicodeDocument</a> = 'udoc',
   <a href="reference.html#//apple_ref/doc/c_ref/kUnicodeTextService">kUnicodeTextService</a> = 'utsv'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kUnicodeDocument" title="kUnicodeDocument"></a><a name="//apple_ref/doc/c_ref/kUnicodeDocument" title="kUnicodeDocument"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_195"></a><dt><code>kUnicodeDocument</code></dt>
<dd><p>A four-character code that identifies a Unicode
TSM document, for use by Unicode-savvy applications.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kUnicodeTextService" title="kUnicodeTextService"></a><a name="//apple_ref/doc/c_ref/kUnicodeTextService" title="kUnicodeTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_196"></a><dt><code>kUnicodeTextService</code></dt>
<dd><p>Specifies a component type for a Unicode text
service.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<a name="//apple_ref/doc/constant_group/Collection_Tags" title="Collection Tags" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C018251" title="Collection Tags" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_197"></a><h3 class="tight">Collection Tags</h3>
<p class="spaceabove">Specify collection tags.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->kInteractiveServicesTag<!--/a--> = 'tmin',
   <!--a-->kLocaleIDTag<!--/a--> = 'loce',
   <!--a-->kTextInputObjectTag<!--/a--> = 'tiot',
   <!--a-->kLocaleObjectRefTag<!--/a--> = 'lobj',
   <!--a-->kLocaleRefTag<!--/a--> = 'lref',
   <!--a-->kKeyboardInputMethodContextTag<!--/a--> = 'kinp',
   <!--a-->kKeyboardLocaleObjectRefTag<!--/a--> = 'kilo',
   <!--a-->kHandwritingInputMethodContextTag<!--/a--> = 'hinp',
   <!--a-->kHandwritingLocaleObjectRefTag<!--/a--> = 'hilo',
   <!--a-->kSpeechInputMethodContextTag<!--/a--> = 'sinp',
   <!--a-->kSpeechLocaleObjectRefTag<!--/a--> = 'silo',
   <!--a-->kPasswordModeTag<!--/a--> = 'pwdm',
   <!--a-->kRefconTag<!--/a--> = 'refc',
   <a href="reference.html#//apple_ref/doc/c_ref/kUseFloatingWindowTag">kUseFloatingWindowTag</a> = 'uswm',
   <!--a-->kReadOnlyDocumentTag<!--/a--> = 'isro',
   <!--a-->kSupportsMultiInlineHolesTag<!--/a--> = 'minl',
   <!--a-->kProtocolVersionTag<!--/a--> = 'nprt',
   <!--a-->kTSMContextCollectionTag<!--/a--> = 'tsmx'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kUseFloatingWindowTag" title="kUseFloatingWindowTag"></a><a name="//apple_ref/doc/c_ref/kUseFloatingWindowTag" title="kUseFloatingWindowTag"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_198"></a><dt><code>kUseFloatingWindowTag</code></dt>
<dd><p>Specifies the use of a bottom-line floating
window for an input method. </p><p>Available in Mac OS X v10.0 through Mac OS X v10.2.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>All the constants in this enumeration, except <code>kUseFloatingWindowTag</code>,
are reserved for future use.</p>
<a name="//apple_ref/doc/constant_group/Input_Mode_Variants" title="Input Mode Variants" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C018253" title="Input Mode Variants" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_199"></a><h3 class="tight">Input Mode Variants</h3>
<p class="spaceabove">Specify variant tags for input modes.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kIM2ByteInputMode">kIM2ByteInputMode</a> = '2byt',
   <a href="reference.html#//apple_ref/doc/c_ref/kIM1ByteInputMode">kIM1ByteInputMode</a> = '1byt',
   <a href="reference.html#//apple_ref/doc/c_ref/kIMDirectInputMode">kIMDirectInputMode</a> = 'dinp'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kIM2ByteInputMode" title="kIM2ByteInputMode"></a><a name="//apple_ref/doc/c_ref/kIM2ByteInputMode" title="kIM2ByteInputMode"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_200"></a><dt><code>kIM2ByteInputMode</code></dt>
<dd><p>Specifies a double-byte input mode.</p><p>Available in Mac OS X v10.0 through Mac OS X v10.2.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kIM1ByteInputMode" title="kIM1ByteInputMode"></a><a name="//apple_ref/doc/c_ref/kIM1ByteInputMode" title="kIM1ByteInputMode"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_201"></a><dt><code>kIM1ByteInputMode</code></dt>
<dd><p>Specifies a single-byte input mode.</p><p>Available in Mac OS X v10.0 through Mac OS X v10.2.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kIMDirectInputMode" title="kIMDirectInputMode"></a><a name="//apple_ref/doc/c_ref/kIMDirectInputMode" title="kIMDirectInputMode"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_202"></a><dt><code>kIMDirectInputMode</code></dt>
<dd><p>Specifies a direct input mode.</p><p>Available in Mac OS X v10.0 through Mac OS X v10.2.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>These constants are reserved for future use. </p>
<a name="//apple_ref/doc/constant_group/Input_Mode_Standard_Tags" title="Input Mode - Standard Tags" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C018252" title="Input Mode - Standard Tags" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_203"></a><h3 class="tight">Input Mode - Standard Tags</h3>
<p class="spaceabove">Specify standard tags for input method modes.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->kIMRomanInputMode<!--/a--> = 'romn',
   <!--a-->kIMPasswordInputMode<!--/a--> = 'pasw',
   <!--a-->kIMXingInputMode<!--/a--> = 'xing',
   <!--a-->kIMHuaInputMode<!--/a--> = 'huam',
   <!--a-->kIMPinyinInputMode<!--/a--> = 'piny',
   <!--a-->kIMQuweiInputMode<!--/a--> = 'quwe',
   <!--a-->kIMCangjieInputMode<!--/a--> = 'cgji',
   <!--a-->kIMJianyiInputMode<!--/a--> = 'jnyi',
   <!--a-->kIMZhuyinInputMode<!--/a--> = 'zhuy',
   <!--a-->kIMB5CodeInputMode<!--/a--> = 'b5cd',
   <!--a-->kIMKatakanaInputMode<!--/a--> = 'kata',
   <!--a-->kIMHiraganaInputMode<!--/a--> = 'hira'
};
</pre></p>
<h5 class="tight">Discussion</h5>
<p>These constants are reserved for future use.</p>
<a name="//apple_ref/doc/constant_group/Locale_Object_Attributes" title="Locale Object Attributes" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-C018254" title="Locale Object Attributes" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_204"></a><h3 class="tight">Locale Object Attributes</h3>
<p class="spaceabove">Specify attributes of a locale object.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->kNeedsInputWindow<!--/a--> = 1,
   <!--a-->kHandlesUpdateRegion<!--/a--> = 2,
   <!--a-->kHandlesGetRegion<!--/a--> = 3,
   <!--a-->kHandlesPos2Offset<!--/a--> = 4,
   <!--a-->kHandlesOffset2Pos<!--/a--> = 5,
   <!--a-->kInPasswordMode<!--/a--> = 6,
   <!--a-->kHandleMultipleHoles<!--/a--> = 7,
   <!--a-->kDocumentIsReadOnly<!--/a--> = 8
};
</pre></p>
<h5 class="tight">Discussion</h5>
<p>These constants are reserved for future use.</p>
<a name="//apple_ref/doc/constant_group/Version_Constants" title="Version Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-BAJIEFCI" title="Version Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_205"></a><h3 class="tight">Version Constants</h3>
<p class="spaceabove">Specify versions of the Text Services Manager.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kTSMVersion">kTSMVersion</a> = 0<!--a-->x0150<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kTSM15Version">kTSM15Version</a> = <a href="reference.html#//apple_ref/doc/c_ref/kTSMVersion">kTSMVersion</a>,
   <a href="reference.html#//apple_ref/doc/c_ref/kTSM20Version">kTSM20Version</a> = 0<!--a-->x0200<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kTSM22Version">kTSM22Version</a> = 0<!--a-->x0220<!--/a-->,
   <a href="reference.html#//apple_ref/doc/c_ref/kTSM23Version">kTSM23Version</a> = 0<!--a-->x0230<!--/a-->
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kTSMVersion" title="kTSMVersion"></a><a name="//apple_ref/doc/c_ref/kTSMVersion" title="kTSMVersion"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_206"></a><dt><code>kTSMVersion</code></dt>
<dd><p>Specifies the version of the Text Services
Manager is 1.5</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSM15Version" title="kTSM15Version"></a><a name="//apple_ref/doc/c_ref/kTSM15Version" title="kTSM15Version"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_207"></a><dt><code>kTSM15Version</code></dt>
<dd><p>Specifies the version of the Text Services
Manager is 1.5</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSM20Version" title="kTSM20Version"></a><a name="//apple_ref/doc/c_ref/kTSM20Version" title="kTSM20Version"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_208"></a><dt><code>kTSM20Version</code></dt>
<dd><p>Specifies the version of the Text Services
Manager is 2.0 (Mac OS X v10.0).</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSM22Version" title="kTSM22Version"></a><a name="//apple_ref/doc/c_ref/kTSM22Version" title="kTSM22Version"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_209"></a><dt><code>kTSM22Version</code></dt>
<dd><p>Specifies the version of the Text Services
Manager is 2.2 (Mac OS X 1v0.3).</p><p>Available in Mac OS X v10.3 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kTSM23Version" title="kTSM23Version"></a><a name="//apple_ref/doc/c_ref/kTSM23Version" title="kTSM23Version"></a><a name="//apple_ref/doc/uid/TP30000174-CH3g-DontLinkElementID_210"></a><dt><code>kTSM23Version</code></dt>
<dd><p>Specifies the version of the Text Services
Manager is 2.3 (Mac OS X v10.4).</p><p>Available in Mac OS X v10.4 and later.</p><p>Declared in <code>TextServices.h</code>.</p></dd></dl><a name="//apple_ref/doc/uid/TP30000174-CH4g-RCM0099" title="Result Codes"></a><h2><a name="//apple_ref/doc/uid/TP30000174-CH4g-113087" title="Result Codes"></a><a name="//apple_ref/doc/uid/TP30000174-CH4g-TPXREF114" title="Result Codes"></a>Result Codes</h2>
<p>The most common result codes returned by Text Services Manager
are listed below.</p>



<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><strong>Result Code</strong></th><th scope="col" align="left"><strong>Value</strong></th><th scope="col" align="left"><strong>Description</strong></th></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_211"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmComponentNoErr" title="tsmComponentNoErr"></a><a name="//apple_ref/doc/c_ref/tsmComponentNoErr" title="tsmComponentNoErr"></a><code>tsmComponentNoErr</code></td>
<td align="right" valign="top" class="content_text noWrap">0</td>

<td valign="top" class="content_text"><p>Component result: no error</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_212"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmUnsupScriptLanguageErr" title="tsmUnsupScriptLanguageErr"></a><a name="//apple_ref/doc/c_ref/tsmUnsupScriptLanguageErr" title="tsmUnsupScriptLanguageErr"></a><code>tsmUnsupScriptLanguageErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2500</td>

<td valign="top" class="content_text"><p>Specified script and language are not supported</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_213"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmInputMethodNotFoundErr" title="tsmInputMethodNotFoundErr"></a><a name="//apple_ref/doc/c_ref/tsmInputMethodNotFoundErr" title="tsmInputMethodNotFoundErr"></a><code>tsmInputMethodNotFoundErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2501</td>

<td valign="top" class="content_text"><p>Specified input method cannot be found</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_214"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmNotAnAppErr" title="tsmNotAnAppErr"></a><a name="//apple_ref/doc/c_ref/tsmNotAnAppErr" title="tsmNotAnAppErr"></a><code>tsmNotAnAppErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2502</td>

<td valign="top" class="content_text"><p>The caller was not an application</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_215"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmAlreadyRegisteredErr" title="tsmAlreadyRegisteredErr"></a><a name="//apple_ref/doc/c_ref/tsmAlreadyRegisteredErr" title="tsmAlreadyRegisteredErr"></a><code>tsmAlreadyRegisteredErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2503</td>

<td valign="top" class="content_text"><p>The caller is already TSM-initialized</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_216"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmNeverRegisteredErr" title="tsmNeverRegisteredErr"></a><a name="//apple_ref/doc/c_ref/tsmNeverRegisteredErr" title="tsmNeverRegisteredErr"></a><code>tsmNeverRegisteredErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2504</td>

<td valign="top" class="content_text"><p>The caller is not TSM-aware</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_217"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmInvalidDocIDErr" title="tsmInvalidDocIDErr"></a><a name="//apple_ref/doc/c_ref/tsmInvalidDocIDErr" title="tsmInvalidDocIDErr"></a><code>tsmInvalidDocIDErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2505</td>

<td valign="top" class="content_text"><p>Invalid TSM document ID</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_218"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmTSMDocBusyErr" title="tsmTSMDocBusyErr"></a><a name="//apple_ref/doc/c_ref/tsmTSMDocBusyErr" title="tsmTSMDocBusyErr"></a><code>tsmTSMDocBusyErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2506</td>

<td valign="top" class="content_text"><p>Document is still active</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_219"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmDocNotActiveErr" title="tsmDocNotActiveErr"></a><a name="//apple_ref/doc/c_ref/tsmDocNotActiveErr" title="tsmDocNotActiveErr"></a><code>tsmDocNotActiveErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2507</td>

<td valign="top" class="content_text"><p>Document is not active</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_220"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmNoOpenTSErr" title="tsmNoOpenTSErr"></a><a name="//apple_ref/doc/c_ref/tsmNoOpenTSErr" title="tsmNoOpenTSErr"></a><code>tsmNoOpenTSErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2508</td>

<td valign="top" class="content_text"><p>There is no open text service component</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_221"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmCantOpenComponentErr" title="tsmCantOpenComponentErr"></a><a name="//apple_ref/doc/c_ref/tsmCantOpenComponentErr" title="tsmCantOpenComponentErr"></a><code>tsmCantOpenComponentErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2509</td>

<td valign="top" class="content_text"><p>Can&#8217;t open the component</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_222"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmTextServiceNotFoundErr" title="tsmTextServiceNotFoundErr"></a><a name="//apple_ref/doc/c_ref/tsmTextServiceNotFoundErr" title="tsmTextServiceNotFoundErr"></a><code>tsmTextServiceNotFoundErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2510</td>

<td valign="top" class="content_text"><p>No text service component found</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_223"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmDocumentOpenErr" title="tsmDocumentOpenErr"></a><a name="//apple_ref/doc/c_ref/tsmDocumentOpenErr" title="tsmDocumentOpenErr"></a><code>tsmDocumentOpenErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2511</td>

<td valign="top" class="content_text"><p>There are open documents</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_224"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmUseInputWindowErr" title="tsmUseInputWindowErr"></a><a name="//apple_ref/doc/c_ref/tsmUseInputWindowErr" title="tsmUseInputWindowErr"></a><code>tsmUseInputWindowErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2512</td>

<td valign="top" class="content_text"><p>An input window is being used</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_225"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmTSHasNoMenuErr" title="tsmTSHasNoMenuErr"></a><a name="//apple_ref/doc/c_ref/tsmTSHasNoMenuErr" title="tsmTSHasNoMenuErr"></a><code>tsmTSHasNoMenuErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2513</td>

<td valign="top" class="content_text"><p>The text service component has no menu</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_226"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmTSNotOpenErr" title="tsmTSNotOpenErr"></a><a name="//apple_ref/doc/c_ref/tsmTSNotOpenErr" title="tsmTSNotOpenErr"></a><code>tsmTSNotOpenErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2514</td>

<td valign="top" class="content_text"><p>Text service component is not open</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_227"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmComponentAlreadyOpenErr" title="tsmComponentAlreadyOpenErr"></a><a name="//apple_ref/doc/c_ref/tsmComponentAlreadyOpenErr" title="tsmComponentAlreadyOpenErr"></a><code>tsmComponentAlreadyOpenErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2515</td>

<td valign="top" class="content_text"><p>Text service component already open for
document</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_228"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmInputMethodIsOldErr" title="tsmInputMethodIsOldErr"></a><a name="//apple_ref/doc/c_ref/tsmInputMethodIsOldErr" title="tsmInputMethodIsOldErr"></a><code>tsmInputMethodIsOldErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2516</td>

<td valign="top" class="content_text"><p>The default input method is old-style</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_229"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmScriptHasNoIMErr" title="tsmScriptHasNoIMErr"></a><a name="//apple_ref/doc/c_ref/tsmScriptHasNoIMErr" title="tsmScriptHasNoIMErr"></a><code>tsmScriptHasNoIMErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2517</td>

<td valign="top" class="content_text"><p>Script has no (or old) input method</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_230"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmUnsupportedTypeErr" title="tsmUnsupportedTypeErr"></a><a name="//apple_ref/doc/c_ref/tsmUnsupportedTypeErr" title="tsmUnsupportedTypeErr"></a><code>tsmUnsupportedTypeErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2518</td>

<td valign="top" class="content_text"><p>Unsupported interface type</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_231"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmUnknownErr" title="tsmUnknownErr"></a><a name="//apple_ref/doc/c_ref/tsmUnknownErr" title="tsmUnknownErr"></a><code>tsmUnknownErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2519</td>

<td valign="top" class="content_text"><p>Any other error not listed in this table</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_232"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmDefaultIsNotInputMethodErr" title="tsmDefaultIsNotInputMethodErr"></a><a name="//apple_ref/doc/c_ref/tsmDefaultIsNotInputMethodErr" title="tsmDefaultIsNotInputMethodErr"></a><code>tsmDefaultIsNotInputMethodErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2524</td>

<td valign="top" class="content_text"><p>Current input source is a keyboard layout
resource</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_233"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmDocPropertyNotFoundErr" title="tsmDocPropertyNotFoundErr"></a><a name="//apple_ref/doc/c_ref/tsmDocPropertyNotFoundErr" title="tsmDocPropertyNotFoundErr"></a><code>tsmDocPropertyNotFoundErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2528</td>

<td valign="top" class="content_text"><p>Requested TSM document property not found</p><p>Available in Mac OS X v10.2 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_234"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmDocPropertyBufferTooSmallErr" title="tsmDocPropertyBufferTooSmallErr"></a><a name="//apple_ref/doc/c_ref/tsmDocPropertyBufferTooSmallErr" title="tsmDocPropertyBufferTooSmallErr"></a><code>tsmDocPropertyBufferTooSmallErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2529</td>

<td valign="top" class="content_text"><p>Buffer passed for property value is too
small</p><p>Available in Mac OS X v10.2 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000174-CH4g-DontLinkElementID_235"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/tsmCantChangeForcedClassStateErr" title="tsmCantChangeForcedClassStateErr"></a><a name="//apple_ref/doc/c_ref/tsmCantChangeForcedClassStateErr" title="tsmCantChangeForcedClassStateErr"></a><code>tsmCantChangeForcedClassStateErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-2530</td>

<td valign="top" class="content_text"><p>Enabled state of a <code>TextService</code> class
has been forced and cannot be changed</p><p>Available in Mac OS X v10.2 and later.</p></td></tr>
</table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-11-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/Text_Services_Manager/Reference/reference.html%3Fid%3DTP30000174-4.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/Text_Services_Manager/Reference/reference.html%3Fid%3DTP30000174-4.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/Text_Services_Manager/Reference/reference.html%3Fid%3DTP30000174-4.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>