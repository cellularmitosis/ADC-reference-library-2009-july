<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Menu Color Information Table Record(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING111></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-110.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-112.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-89.html"><B>Chapter 3 - Menu Manager</B></A> / <A HREF="Toolbox-107.html"><B>Menu Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-108.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING111-0></A>
<H3><A NAME=MARKER-9-309></A>The Menu Color Information Table Record<A NAME=MARKER-2-471></A></H3>
 <A NAME=MARKER-16-472></A><A NAME=MARKER-2-473></A>Your application's <B>menu color information table</B> defines the standard color for the menu bar, titles of menus, text and characteristics of menu items, and background color of a displayed menu. If you do not add any entries to this table, the Menu Manager draws your menus using the default colors, black on white. You can add colors to your menus by adding entries to your application's menu color information table by using Menu Manager routines or by defining these entries in an <CODE>'mctb'</CODE> resource. Note that the menu color information table uses a format that is different from the standard color table format.<P>
 The Menu Manager maintains information about an application's menu color information table as an array of menu color entry records. <P>
<PRE>
TYPE  MCTable = ARRAY[0..0] OF MCEntry;         {menu color table}
      MCTablePtr = ^MCTable;      {pointer to a menu color table}
      MCTableHandle = ^MCTablePtr;{handle to a menu color table}
</PRE>
 <A NAME=MARKER-2-476></A>A menu color entry is defined by the <CODE>MCEntry</CODE> data type. <A NAME=MARKER-2-476></A><P>
<PRE>
TYPE  MCEntry =                  {menu color entry}
      RECORD
         mctID:      Integer;    {menu ID or 0 for menu bar}
         mctItem:    Integer;    {menu item number or 0 for }
                                 { menu title}
         mctRGB1:    RGBColor;   {usage depends on mctID and }
                                 { mctItem}
         mctRGB2:    RGBColor;   {usage depends on mctID and }
                                 { mctItem}
         mctRGB3:    RGBColor;   {usage depends on mctID and }
                                 { mctItem}
         mctRGB4:    RGBColor;   {usage depends on mctID and }
                                 { mctItem}
         mctreserved:Integer;    {reserved}
      END;

      MCEntryPtr = ^MCEntry;     {pointer to a menu color entry}
</PRE>
 The first two fields of a menu color entry record, mctID and mctItem, define whether the entry is a menu bar entry, a menu title entry, or a menu item entry. The following four fields specify color information for whatever type of entry the <CODE>mctID</CODE> and mctItem fields describe. The value of the mctID field in the last entry in a menu color information table is -99, and the rest of the fields of the last entry are reserved. The Menu Manager automatically creates the last entry in a menu color information table; your application should not use the value -99 as the menu ID of a menu if you wish to add a menu color entry for it.<P>
 The Menu Manager creates your application's menu color information table the first <BR>time your application calls <CODE>InitMenus</CODE> or <CODE>InitProcMenu</CODE>. It creates the menu color information table as initially empty except for the last entry, which indicates the end <BR>of the table.<P>
 <A HREF=#MARKER-9-477>Table 3-7</A> shows how the Menu Manager interprets the <CODE>mctID</CODE> and mctItem fields for each type of menu color entry in a menu color information table.<P>
<B>Table 3-7  <A NAME=MARKER-9-477></A><B>Table 3-7 Color information for menu entries</B>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>ID<TH>Item<TH>RGB1<TH>RGB2<TH>RGB3<TH>RGB4<TR>
<TD>Menu bar<TD>0<TD>0<TD>Default menu title color<TD>Default back- ground color of menus<TD>Default item color<TD>Default bar color<TR>
<TD>Menu title<TD><I>N</I>&lt;&gt;0<TD>0<TD>Menu title color<TD>Bar color<TD>Default item color<TD>Backgroundcolor of menu<TR>
<TD>Menu item<TD><I>N</I>&lt;&gt;0<TD><I>M</I>&lt;&gt;0<TD>Mark color<TD>Item text color<TD>Keyboard equivalent color<TD>Backgroundcolor of menu<TR>
<TD>Last entry<TD>-99<TD>Reserved<TD>Reserved<TD>Reserved<TD>Reserved<TD>Reserved</TABLE>
</B><P>
 A <B>menu bar entry</B> is defined by a menu color entry record that contains 0 in both the <CODE>mctID</CODE> and mctItem fields. You can define only one menu bar entry in a menu color information table. If you don't provide a menu bar entry for your application's menu color information table, the Menu Manager uses the standard menu bar colors (black text on a white background), and it uses the standard colors for the other menu elements. You can provide a menu bar entry to specify default colors for the menu title, the background of a displayed menu, the items in a menu, and the menu bar. The color information fields for a menu bar entry are interpreted as follows: <A NAME=MARKER-2-533></A><P>
<UL>
<LI><CODE>mctRGB1</CODE> specifies the default color for menu titles. If a menu doesn't have a menu title entry, the Menu Manager uses the value in this field as the color of the menu title.
<LI><CODE>mctRGB2</CODE> specifies the default color for the background of a displayed menu. If a menu doesn't have a menu title entry, the Menu Manager uses the value in this field as the color of the menu's background when it is displayed.
<LI><CODE>mctRGB3</CODE> specifies the default color for the items in a displayed menu. If a menu item doesn't have a menu item entry or a default color defined in a menu title entry, the Menu Manager uses the value in this field as the color of the menu item.
<LI><CODE>mctRGB4</CODE> specifies the default color for the menu bar. If a menu doesn't have a menu bar entry (and doesn't have any menu title entries), the Menu Manager uses the standard colors for the menu bar.<P>
</UL>
 A <B>menu title entry</B> is defined by a menu color entry record that contains a menu ID in the <CODE>mctID</CODE> field and 0 in the mctItem field. You can define only one menu title entry for each menu. If you don't provide a menu title entry for a menu in your application's menu color information table, the Menu Manager uses the colors defined by the menu bar entry. If a menu bar entry doesn't exist, the Menu Manager uses the standard colors <BR><BR><BR><BR><BR>(black on white). You can provide a menu title entry to specify a color for the title and background of a specific menu and a default color for its items. The color information fields for a menu title entry are interpreted as follows: <A NAME=MARKER-2-479></A><P>
<UL>
<LI><CODE>mctRGB1</CODE> specifies the color for the menu title of the specified menu. If a menu doesn't have a menu title entry, the Menu Manager uses the default value defined <BR>in the menu bar entry.
<LI><CODE>mctRGB2</CODE> specifies the default color for the menu bar. If a menu color information table doesn't have a menu bar entry, the Menu Manager uses the value in this field as the color of the menu bar. If a menu bar entry already exists, the Menu Manager replaces the value in the <CODE>mctRGB2</CODE> field of the menu title entry with the value defined in the <CODE>mctRGB4</CODE> field of the menu bar entry. 
<LI><CODE>mctRGB3</CODE> specifies the default color for the items in the menu. If a menu item doesn't have a menu item entry or a default color defined in a menu bar entry, the Menu Manager uses the value in this field as the color of the menu item.
<LI><CODE>mctRGB4</CODE> specifies the color for the background of the menu. <P>
</UL>
 A <B>menu item entry</B> is defined by a menu color entry record that contains a menu ID in the <CODE>mctID</CODE> field and an item number in the mctItem field. You can define only one menu item entry for each menu item. If you don't provide a menu item entry for an item in your application's menu color information table, the Menu Manager uses the colors defined by the menu title entry (or by the menu bar entry if the menu containing the item doesn't have a menu title entry). If neither a menu title entry nor a menu bar entry exists, the Menu Manager draws the mark, text, and keyboard equivalent in black. You can provide a menu item entry to specify a color for the mark, text, and keyboard equivalent of a specific menu item. The color information fields for a menu item entry are interpreted as follows: <A NAME=MARKER-9-506></A><P>
<UL>
<LI><CODE>mctRGB1</CODE> specifies the color for the mark of the menu item. If a menu item doesn't have a menu item entry, the Menu Manager uses the default value defined in the menu title entry or the menu bar entry.
<LI><CODE>mctRGB2</CODE> specifies the color for the text of the menu item. If a menu item doesn't have a menu item entry, the Menu Manager uses the default value defined in the menu title entry or the menu bar entry. The Menu Manager also draws a black-and-white icon of a menu item using the same color as defined by the <CODE>mctRGB2</CODE> field. (Use a <CODE>'cicn'</CODE> resource to provide a menu item with a color icon.)
<LI><CODE>mctRGB3</CODE> specifies the color for the keyboard equivalent of the menu item. If a menu item doesn't have a menu item entry, the Menu Manager uses the default value defined in the menu title entry or the menu bar entry.
<LI><CODE>mctRGB4</CODE> specifies the color for the background of the menu. If the menu color information table doesn't have a menu title entry for the menu this item is in, or doesn't have a menu bar entry, the Menu Manager uses the value in this field as the background color of the menu. If a menu title entry already exists, the Menu Manager replaces the value in the <CODE>mctRGB4</CODE> field of the menu item entry with the value defined in the <CODE>mctRGB4</CODE> field of the menu title entry (or with the <CODE>mctRGB2</CODE> field of the menu bar entry).<P>
</UL>
 You can use the <CODE>GetMCInfo</CODE> function to get a copy of your application's menu color information table and the <CODE>SetMCEntries</CODE> procedure to set entries of your application's menu color information table, or you can provide<DFN> <CODE>'mctb'</CODE></DFN> resources that define the color entries for your menus.<P>
 The <CODE>GetMenu</CODE>, <CODE>GetNewMBar</CODE>, and <CODE>ClearMenuBar</CODE> routines can also modify the entries in the menu color information table. The <CODE>GetMenu</CODE> function looks for an <CODE>'mctb'</CODE> resource with a resource ID equal to the value in the <CODE>menuID</CODE> parameter. If it finds one, it adds the entries to the application's menu color information table. <P>
 The <CODE>GetNewMBar</CODE> function builds a new menu color information table when it creates the new menu list. If you want to save the current menu color information table, call <CODE>GetMCInfo</CODE> before calling <CODE>GetNewMBar</CODE>.<P>
 The <CODE>ClearMenuBar</CODE> procedure reinitializes both the current menu list and the menu color information table. <A NAME=MARKER-2-537></A> <A NAME=MARKER-2-482></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-110.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-112.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
