<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>SetResInfo (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING59></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-58.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-60.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-9.html"><B>Chapter 1 - Resource Manager</B></A> / <A HREF="MoreToolbox-24.html"><B>Resource Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-30.html"><B>Resource Manager Routines</B></A> / <A HREF="MoreToolbox-57.html"><B>Getting and Setting Resource Information</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING59-0></A>
<H3><A NAME=MARKER-9-322></A>SetResInfo</H3>
 <A NAME=MARKER-11-323></A><A NAME=MARKER-2-324></A>You can use the <CODE>SetResInfo</CODE> procedure to change the name and resource ID of a resource.<P>
<PRE>
PROCEDURE SetResInfo (theResource: Handle; theID: Integer; 
                      name: Str255);
</PRE>
<DL>
<DT><CODE>theResource</CODE>
<DD> A handle to a resource.
<DT><CODE>theID</CODE>
<DD> The new resource ID.
<DT><CODE>name</CODE>
<DD> The new name or an empty string to preserve the resource name.
</DL>
<A NAME=HEADING59-6></A>
<H5>DESCRIPTION</H5>
 Given a handle to a resource, <CODE>SetResInfo</CODE> changes the resource ID and the resource name of the specified resource to the values given in <CODE>theID</CODE> and <CODE>name</CODE>. If you pass an empty string for the <CODE>name</CODE> parameter, the resource name is not changed. The <CODE>SetResInfo</CODE> procedure changes the information in the resource map in memory, not in the resource file itself.<P>
<DL>
<DT><B>WARNING</B>
<DD>Do not change a system resource's resource ID or name. Other applications may already access the resource and may not work properly if you change the resource ID, resource name, or both.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 If the parameter <CODE>theResource</CODE> doesn't contain a handle to an existing resource, <CODE>SetResInfo</CODE> does nothing, and <CODE>ResError</CODE> returns the result code <CODE>resNotFound</CODE>. If <BR>the resource map becomes too large to fit in memory (for example, after an unnamed resource is given a name), <CODE>SetResInfo</CODE> does nothing, and <CODE>ResError</CODE> returns an appropriate Memory Manager result code. The same is true if the resource data in memory can't be written to the resource fork (for example, because the disk is full). If the <CODE>resProtected</CODE> attribute is set for the resource, <CODE>SetResInfo</CODE> does nothing, and <CODE>ResError</CODE> returns the result code <CODE>resAttrErr</CODE>.<P>
 If you want to write changes to the resource map on disk after updating the resource map in memory, call the <CODE>ChangedResource</CODE> procedure for the same resource after you call <CODE>SetResInfo</CODE>.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>Even if you don't call <CODE>ChangedResource</CODE> after using <CODE>SetResInfo</CODE> to change the name and resource ID of a resource, the change may be written to disk when the Resource Manager updates the resource fork. If you call <CODE>ChangedResource</CODE> for <I>any</I> resource in the same resource fork, or if you add or remove a resource, the Resource Manager writes the entire resource map to disk after a call to <CODE>UpdateResFile</CODE> or when your application terminates. In these cases, all changes to resource information in the resource map become permanent. If you want any of the changes to be temporary, you should restore the original information before the resource is updated.<EM></EM><A NAME=MARKER-3-325></A>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
<A NAME=HEADING59-12></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>SetResInfo</CODE> procedure may move or purge memory blocks in the application heap. Your application should not call this procedure at interrupt time.<P>
<A NAME=HEADING59-14></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>resNotFound<TD>-192<TD>Resource not found<TR>
<TD>resAttrErr<TD>-198<TD>Attribute does not permit operation</TABLE>
</H5>
<A NAME=HEADING59-15></A>
<H5>SEE ALSO</H5>
 To check for errors, call the <CODE>ResError</CODE> function as described on <A HREF=MoreToolbox-35.html#MARKER-9-220>page 1-47</A>.<P>
 For a description of the <CODE>ChangedResource</CODE> and <CODE>UpdateResFile</CODE> procedures, see <A HREF=MoreToolbox-63.html#MARKER-9-338>page 1-83</A> and <A HREF=MoreToolbox-66.html#MARKER-9-349>page 1-87</A>, respectively.<A NAME=MARKER-3-326></A> <A NAME=MARKER-2-327></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-58.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-60.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
