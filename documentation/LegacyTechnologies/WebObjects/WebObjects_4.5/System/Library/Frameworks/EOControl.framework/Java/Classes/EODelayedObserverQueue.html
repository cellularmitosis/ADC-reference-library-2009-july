<HTML>		<HEAD>		<TITLE>			EODelayedObserverQueue		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a><a name = "EODelayedObserverQueue"></a><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/java/cl/EODelayedObserverQueue">EODelayedObserverQueue</a></FONT></h1><br><blockquote><dl><dt><b>Inherits from: </b></dt><dd> (com.apple.client.eocontrol) Object<br>(com.apple.yellow.eocontrol) NSObject</dd></dl></blockquote><blockquote><dl><dt><b>Package: </b></dt><dd>com.apple.client.eocontrol</dd><dd>com.apple.yellow.eocontrol</dd></dl></blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>The EODelayedObserverQueue class is a part of EOControl'schange tracking mechanism. An EODelayedObserverQueue collects changenotifications for observers of multiple objects and notifies themof the changes <em>en masse</em> during the application'srun loop, according to their individual priorities. For an overviewof the general change tracking mechanism, see  <a href="../Introduction.html#BIADGEAG">"Tracking Enterprise Objects Changes"</a> in the introductionto the EOControl Framework.</p><p>EODelayedObserverQueue's style of notification is particularlyuseful for coalescing and prioritizing multiple changes; the interfacelayer's EOAssociation classes use it extensively to update JavaClient and Application Kit user interfaces, for example. Insteadof being told that an object will change, an EODelayedObserver istold that it did change, with a  <a href="EODelayedObserver.html#//apple_ref/java/instm/EODelayedObserver/subjectChanged">subjectChanged</a> message, as describedin the EODelayedObserver class specification. Delayed observationis thus not useful for comparing old and new states, but only forexamining the new state. Delayed observation also isn't ordinarilyused outside the scope of a Java Client or Application Kit application(in a command line tool or WebObjects application, for example).</p><p>The motivation for a delayed change notification mechanismarises mainly from issues in observing multiple objects. Any singlechange to an observed object typically requires the observer toupdate some state or perform an action. When many such objects change,it makes no sense to recalculate the new state and perform the actionfor each object. EODelayedObserverQueue allows these changes to becollected into a single notification. It further orders change notificationsaccording to priorities, allowing observers to be updated in sequenceaccording to dependencies among them. For example, an EOMasterDetailAssociation(EOInterface), which must update its detail EODisplayGroup (EOInterface)according to the selection in the master <em>before</em>  anyredisplay occurs, has an earlier priority than the default for EOAssociations.This prevents regular EOAssociations from redisplaying old valuesand then displaying the new values after the EOMasterDetailAssociationupdates.</p><p>For more information on using EODelayedObserverQueues, seethe sections</p><ul><li> <a href="More/EODelayedObserverQueue.html#BABDFBBD">"Enqueuing a Delayed Observer"</a></li><li> <a href="More/EODelayedObserverQueue.html#BABDHJBI">"Change Notification"</a></li><li> <a href="More/EODelayedObserverQueue.html#BABCJAEA">"Observer Proxies"</a></li></ul><br><br><br><h2>Constants</h2><hr><p>EODelayedObserverQueue defines the following <code>int</code> constant:</p><br><table border = "1"><tr><td scope="row"><b>Constant</b></td><td><b>Description</b></td></tr><tr><td scope="row"><a name = "BABECIDE"></a><tt>FlushDelayedObserversRunLoopOrdering</tt></td><td>Determines when to notify delayed observers during endof event processing.</td></tr></table><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Constructors</dt><dd> <a href="#//apple_ref/java/instm/EODelayedObserverQueue/EODelayedObserverQueue">EODelayedObserverQueue</a></dd></dl><dl><dt>Getting the default queue</dt><dd> <a href="#//apple_ref/java/clm/EODelayedObserverQueue/defaultObserverQueue">defaultObserverQueue</a></dd></dl><dl><dt>Enqueuing and dequeuingobservers</dt><dd> <a href="#//apple_ref/java/instm/EODelayedObserverQueue/enqueueObserver">enqueueObserver</a></dd><dd> <a href="#//apple_ref/java/instm/EODelayedObserverQueue/dequeueObserver">dequeueObserver</a></dd></dl><dl><dt>Sending change notifications</dt><dd> <a href="#//apple_ref/java/instm/EODelayedObserverQueue/notifyObserversUpToPriority">notifyObserversUpToPriority</a></dd></dl><dl><dt>Configuring notificationbehavior</dt><dd> <a href="#//apple_ref/java/instm/EODelayedObserverQueue/runLoopModes">runLoopModes</a> (com.apple.yellow.eocontrol only)</dd><dd> <a href="#//apple_ref/java/instm/EODelayedObserverQueue/setRunLoopModes">setRunLoopModes</a> (com.apple.yellow.eocontrol only)</dd></dl></blockquote><br><br><h2>Constructors</h2><hr><a name = "BBCBJEGJ"></a><BR><h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/EODelayedObserverQueue">EODelayedObserverQueue</a></h3><p><code>public <code>EODelayedObserverQueue</code>()</code></p>Creates and returns a new EODelayedObserverQueuewith NSRunLoop.DefaultRunLoopMode as its only run loop mode.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/instm/EODelayedObserverQueue/runLoopModes">runLoopModes</a> (com.apple.yellow.eocontrol only)</p><hr WIDTH="25%" ALIGN="LEFT"><br><br><h2>Static Methods</h2><hr><a name = "defaultObserverQueue"></a><BR><h3><a name="//apple_ref/java/clm/EODelayedObserverQueue/defaultObserverQueue">defaultObserverQueue</a></h3><p><code>public static EODelayedObserverQueue <code>defaultObserverQueue</code>()</code></p>Returns the EODelayedObserverQueue that EODelayedObserversuse by default.<hr WIDTH="25%" ALIGN="LEFT"><BR><BR><h2>Instance Methods</h2><hr><a name = "dequeueObserver_"></a><BR><h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/dequeueObserver">dequeueObserver</a></h3><p><code>public void <code>dequeueObserver</code>(EODelayedObserver <em>anObserver</em>)</code></p>Removes <em>anObserver</em>  fromthe receiver.<p><b>See Also: </b>  <a href="#//apple_ref/java/instm/EODelayedObserverQueue/enqueueObserver">enqueueObserver</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "enqueueObserver_"></a><BR><h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/enqueueObserver">enqueueObserver</a></h3><p><code>public void <code>enqueueObserver</code>(EODelayedObserver <em>anObserver</em>)</code></p>Records <em>anObserver</em>  tobe sent  <a href="EODelayedObserver.html#//apple_ref/java/instm/EODelayedObserver/subjectChanged">subjectChanged</a> messages. If <em>anObserver</em>'spriority is  <a href="EODelayedObserver.html#CEGDIDDF">ObserverPriorityImmediate</a>, it's immediatelysent the message and not enqueued. Otherwise <em>anObserver</em>  issent the message the next time  <a href="#//apple_ref/java/instm/EODelayedObserverQueue/notifyObserversUpToPriority">notifyObserversUpToPriority</a> is invokedwith a priority later than or equal to <em>anObserver</em>'s.Does nothing if <em>anObserver</em>  is alreadyrecorded.<p>The first time this method is invoked during therun loop with an observer whose priority isn't <code>ObserverPriorityImmediate</code>,it registers the receiver to be sent a  <a href="#//apple_ref/java/instm/EODelayedObserverQueue/notifyObserversUpToPriority">notifyObserversUpToPriority</a> message atthe end of the run loop, using  <a href="#BABECIDE">FlushDelayedObserversRunLoopOrdering</a> andthe receiver's run loop modes. This causes enqueued observersup to a priority of  <a href="EODelayedObserver.html#CEGDDCGF">ObserverPrioritySixth</a> to be notified automaticallyduring each pass of the run loop.</p><p>When <em>anObserver</em>  is doneobserving changes<code></code>, it should invoke  <a href="EODelayedObserver.html#//apple_ref/java/instm/EODelayedObserver/discardPendingNotification">discardPendingNotification</a> toremove itself from the queue.</p><p><b>See Also: </b>  <a href="#//apple_ref/java/instm/EODelayedObserverQueue/dequeueObserver">dequeueObserver</a>,  <a href="EODelayedObserver.html#//apple_ref/java/instm/EODelayedObserver/priority">priority</a> (EODelayedObserver),  <a href="EODelayedObserver.html#//apple_ref/java/instm/EODelayedObserver/discardPendingNotification">discardPendingNotification</a> (EODelayedObserver),  <a href="#//apple_ref/java/instm/EODelayedObserverQueue/runLoopModes">runLoopModes</a> (com.apple.yellow.eocontrol only)</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "notifyObserversUpToPriority_"></a><BR><h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/notifyObserversUpToPriority">notifyObserversUpToPriority</a></h3><p><code>public void <code>notifyObserversUpToPriority</code>(int <em>priority</em>)</code></p>Sends  <a href="EODelayedObserver.html#//apple_ref/java/instm/EODelayedObserver/subjectChanged">subjectChanged</a> messages to all ofthe receiver's enqueued observers whose priority is <em>priority</em>  orearlier. This method cycles through the receiver's enqueued observersin priority order, sending each a <code>subjectChanged</code><code> </code>messageand then returning to the very beginning of the queue, in case another observerwith an earlier priority was enqueued as a result of the message.<p>EODelayedObserverQueueinvokes this method automatically as needed during the run loop,with a <em>priority</em>  of  <a href="EODelayedObserver.html#CEGDDCGF">ObserverPrioritySixth</a>.</p><p><b>SeeAlso: </b>  <a href="#//apple_ref/java/instm/EODelayedObserverQueue/enqueueObserver">enqueueObserver</a>,  <a href="EODelayedObserver.html#//apple_ref/java/instm/EODelayedObserver/priority">priority</a> (EODelayedObserver)</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BBCDDJJE"></a><BR><h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/runLoopModes">runLoopModes</a></h3><p><code>public NSArray <code>runLoopModes</code>()</code></p><p>(com.apple.yellow.eocontrol only) Returnsthe receiver's run loop modes.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "setRunLoopModes_"></a><BR><h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/setRunLoopModes">setRunLoopModes</a></h3><p><code>public void <code>setRunLoopModes</code>(NSArray <em>modes</em>)</code></p><p>(com.apple.yellow.eocontrol only) Setsthe receiver's run loop modes to <em>modes,</em> an array of NSString objects representing run loop modes. For moreinformation see the Foundation class NSRunLoop.</p><hr WIDTH="25%" ALIGN="LEFT"><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a></BODY></HTML>