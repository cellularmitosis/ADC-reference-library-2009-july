<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects Deployment Guide Using JavaMonitor: HTTP Adaptors</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="HTTP Adaptors"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000062" title="HTTP Adaptors"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../MacOSXServer/index.html#//apple_ref/doc/uid/TP30000440-TP30000426" target="_top">Mac OS X Server</a> &gt; <a href="../../../../MacOSXServer/WebObjects-date.html#//apple_ref/doc/uid/TP30000440-TP30000426-TP30000592" target="_top">WebObjects</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP30000059-TPXREF101">WebObjects Deployment Guide Using JavaMonitor</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Installation/Installation.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../DeploymentElements/DeploymentElements.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000062-TPXREF101" title="HTTP Adaptors"></a><h1>HTTP Adaptors</h1><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_398"></a>This chapter provides detailed information about the HTTP adaptors that are included in a WebObjects Deployment installation. The HTTP adaptor is an important piece of an application site. It sits between your web server and your application instances. It forwards requests from the web server to the appropriate application instance and responses from the instance back to the web server. It also performs load balancing between instances of an application.</p><p>This chapter contains the following sections:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCGIBCI">“Adaptors, Applications, and Hosts”</a></span> provides a high-level view of the interaction between the HTTP adaptor, application instances, and application hosts.</p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCGAHBF">“Types of Adaptors”</a></span> explains the differences among the two types of HTTP adaptors that you can use on your site.</p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCFAAIE">“State Discovery”</a></span> describes how to configure an HTTP adaptor to obtain your site’s state dynamically or using a configuration file. It also explains how to change a dynamic configuration into a static one.</p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCECHF">“The WebObjects Adaptor Information Page”</a></span> shows an example of the web browser page that displays information about an HTTP adaptor.</p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCDGJGH">“Customizing HTTP Adaptors”</a></span> summarizes all the settings available for HTTP adaptors.</p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCGIBCI" title="Adaptors, Applications, and Hosts"></a><h2>Adaptors, Applications, and Hosts</h2><p>The HTTP adaptor forwards requests from an web server to application instances and returns responses from instances back to the server. You may need to have more than one instance of a given application to support a large number of concurrent users. <span class="content_text">Figure 3-1</span> illustrates a simple site, implemented with one computer. It serves two applications, with two instances for each application.</p><br/><div><a name="//apple_ref/doc/uid/TP30000062-BBCJHEBG" title="Figure 3-1Deployment on one computer, using one adaptor"></a><p><strong>Figure 3-1&nbsp;&nbsp;</strong>Deployment on one computer, using one adaptor</p><img src = "../Art/onemachine.gif" alt = "Deployment on one computer, using one adaptor" width="314" height="176"></div><br/><p>Although the WebObjects installation provides several HTTP adaptors, only one is active by default (see <span class="content_text"><a href="../Installation/Installation.html#//apple_ref/doc/uid/TP30000061-BCIDHGEE">“HTTP Adaptors”</a></span> for details). However, an application instance<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_399"></a> can communicate with an adaptor other than the active adaptor.</p><p><span class="content_text">Figure 3-2</span> depicts an application site running on one computer, using two adaptors.</p><br/><div><a name="//apple_ref/doc/uid/TP30000062-BBCGGDDA" title="Figure 3-2Deployment on one computer using two adaptors"></a><p><strong>Figure 3-2&nbsp;&nbsp;</strong>Deployment on one computer using two adaptors</p><img src = "../Art/onemachinetwoadaptors.gif" alt = "Deployment on one computer using two adaptors" width="314" height="178"></div><br/><p>Most sites require multiple computers to ensure that an instance of a particular application is always available. In this kind of deployment, usually one computer runs the web server<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_400"></a> and the HTTP adaptor<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_401"></a>, while one or more additional computers serve as application hosts<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_402"></a>. <span class="content_text">Figure 3-3</span> illustrates an application site using three computers, one running the web server and the adaptor, and the other two running application instances.</p><br/><div><a name="//apple_ref/doc/uid/TP30000062-BBCGJGGA" title="Figure 3-3Deployment using three computers using one adaptor"></a><p><strong>Figure 3-3&nbsp;&nbsp;</strong>Deployment using three computers using one adaptor</p><img src = "../Art/multiplemachines.gif" alt = "Deployment using three computers using one adaptor" width="334" height="188"></div><br/><p>The HTTP adaptor needs to periodically determine your site’s state<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_403"></a>—which application instances are running. There are two ways in which the adaptor can obtain this information:</p><ul class="ul"><li class="li"><p><strong>dynamically<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_404"></a></strong>: The adaptor determines your site’s state by asking each application host for its state. The adaptor can use a multicast request<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_405"></a> to find out which hosts are available or you can define a host list<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_406"></a> for it. Using this method, you avoid having to configure new hosts as you add them to your site.</p></li><li class="li"><p><strong>from a static file<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_407"></a></strong>: An adaptor configuration file<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_408"></a> contains host and application information about your site; it includes information about every application instance you want to run. After the adaptor reads the file, it has all the information it needs to communicate with the application instances<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_409"></a> you want to run. Using this kind of configuration avoids multicast requests and host polling. However, when you add new hosts, you have to update the configuration file. For more information on the adaptor configuration file, see <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCHAFB">“Using a Configuration File.”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCGAHBF" title="Types of Adaptors"></a><h2>Types of Adaptors</h2><p>There are two general types of HTTP adaptors, <strong>CGI adaptors</strong> and <strong>API-based adaptors</strong>. CGI adaptors are portable across many platforms. API-based adaptors are generally more efficient than CGI adaptors.</p><a name="//apple_ref/doc/uid/TP30000062-TPXREF103" title="CGI Adaptors"></a><h3>CGI Adaptors</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_410"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_411"></a>WebObjects Deployment includes a CGI adaptor, which is an executable file named <code>WebObjects</code>. The CGI adaptor resides in the Web server’s <code>cgi-bin</code> or <code>scripts</code> directory. This adaptor works with any web server<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_412"></a> that conforms to the CGI standard.</p><p>The major drawback of CGI adaptors is their performance. When the web server receives a request from a web browser, it creates a new process for the HTTP adaptor. When the adaptor is done processing the request, the process is terminated.</p><p>The CGI adaptor is installed by default on all platforms, but it may not be the active one on your platform. See <span class="content_text"><a href="../Installation/Installation.html#//apple_ref/doc/uid/TP30000061-BCIDHGEE">“HTTP Adaptors”</a></span> for more information.</p><a name="//apple_ref/doc/uid/TP30000062-TPXREF104" title="API-Based Adaptors"></a><h3>API-Based Adaptors</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_413"></a>API-based adaptors are founded on API specific to a particular web server. They allow CGI-like tasks to run as part of the main server process, avoiding the creation and termination of a process for each request. WebObjects Deployment includes Apache’s module API.</p><a name="//apple_ref/doc/uid/TP30000062-BBCFAAIE" title="State Discovery"></a><h2>State Discovery</h2><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_414"></a>Your site’s state is represented by</p><ul class="ul"><li class="li"><p>a list of application hosts</p></li><li class="li"><p>a list of running application instances on each host</p></li></ul><p>The HTTP adaptor captures your site’s state at regular intervals, which you set when you configure the adaptor. You also define the method that the adaptor uses to gather state information by configuring the adaptor itself. For details, see <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCDGJGH">“Customizing HTTP Adaptors.”</a></span></p><p>The adaptor can obtain the state of your site using one of three methods:</p><ul class="ul"><li class="li"><p><strong>Multicast request<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_415"></a></strong>: The adaptor sends a multicast request to find out what application hosts are available. After compiling the host list, the adaptor polls each host to get its list of running application instances.</p></li><li class="li"><p><strong>Static host list<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_416"></a></strong>: This method requires that you configure the host list in the adaptor itself. As with the first method, the adaptor polls the hosts on the list for their lists of running application instances.</p></li><li class="li"><p><strong>Configuration file<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_417"></a></strong>: The adaptor obtains the site’s configuration by reading an <strong>XML</strong> (Extensible Markup Language) document.</p></li></ul><p>The method that requires the least administration on your part is the multicast request. If an application host goes down, the adaptor automatically removes the application instances running on it from its list of active instances<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_418"></a>. When the host is brought back up, the adaptor adds the instances back to its list. You should use this method if your site has many application hosts. See <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCFGHFE">“Using a Multicast Request”</a></span> for more information.</p><p>The second method, defining a host list for your adaptor, eliminates the multicast request. Use this method if you do not want the adaptor to send regular multicast requests<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_419"></a> out on your network or if you seldom add or remove application hosts<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_420"></a> from your site. This is the method that is active by default. However, the host list contains only one host, <code>localhost</code>. For details, see <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCIEFDB">“Using a Static Host List.”</a></span></p><p>In the third method, using a configuration file, the HTTP adaptor obtains your site’s configuration by reading a file. This file can be static or it can be dynamically updated as you configure your site with Monitor. For details, see <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCHAFB">“Using a Configuration File.”</a></span></p><p>You can write the adaptor configuration file<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_421"></a> in one of two ways:</p><ul class="ul"><li class="li"><p><strong>Manually</strong>: The information in the configuration file is stored in an XML document. For details, see <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCHBGFJ">“The HTTP Adaptor Configuration File.”</a></span></p></li><li class="li"><p><strong>Using JavaMonitor and wotaskd</strong>: After configuring your site to your liking using JavaMonitor, you can have a file created for you or you can copy-and-paste the information. See <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCGBGJA">“Creating the HTTP Adaptor Configuration File”</a></span> for more information.</p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCFGHFE" title="Using a Multicast Request"></a><h3>Using a Multicast Request</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_422"></a>When you configure an adaptor to obtain your site’s state using a multicast discovery request, the adaptor obtains the list of active application hosts by broadcasting a message to which each computer configured as a WebObjects application host responds. After the adaptor compiles the list of available hosts, it polls each one to obtain its state (the list of running application instances).</p><p>There are drawbacks to using the multicast method:</p><ul class="spaceabove"><li class="li"><p>It increases network traffic. By default, the HTTP adaptor sends a multicast request every 100 seconds.</p></li><li class="li"><p>A host may become unavailable between discovery requests if the multicast request or a wotaskd process’s response is lost (multicast is an inherently unreliable protocol).</p></li><li class="li"><p>Normally, multicast broadcasts are limited to a subnet. However, you can configure your routers to pass-on the multicast request to other subnets if you wish.</p></li></ul><div class="warningbox"><img src="../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_60" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;By default, wotaskd<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_423"></a> does not respond to multicast requests. To be able to use the multicast request method, you must configure wotaskd processes in your application hosts to respond to multicast requests. If you configure wotaskd to respond to multicast requests, your server may be vulnerable to attacks unless properly protected by a firewall or other security measures.</p><p></p><div class="clear"></div></div><a name="//apple_ref/doc/uid/TP30000062-BBCDGCAE" title="Multicast Request"></a><h4>Multicast Request</h4><p>To discover available hosts, the adaptor sends a host-discovery request on the multicast channel<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_424"></a> (a nonrouting IP address and a port number), which is set to IP address <code>239.128.14.2</code> and port <code>1085</code> by default. The frequency of each multicast request is ten times as long as the adaptor’s configuration refresh interval<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_425"></a>. For details on how to change the multicast channel, read <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCCFFI">“Setting the Multicast Address and Port.”</a></span> Also, see <code>WOPort</code>, <code>WOMulticastAddress</code>, and <code>WORespondsToMulticastQuery</code> in <em><a href="../../../WOAppProperties/index.html#//apple_ref/doc/uid/TP30001020" target="_top">WebObjects Application Properties Reference</a></em>.  When a wotaskd process starts, it creates a UDP (User Datagram Protocol) socket<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_426"></a> that listens to the multicast channel through which it receives multicast requests.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_61" title="Note"></a><p><strong>Note:</strong>&nbsp;If you change the address and port that adaptors use to send multicast requests, you must also change the address and port that wotaskd processes use to receive multicast requests.</p></div><p>When each wotaskd<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_427"></a> process receives the multicast request, it replies with its URL, such as <code>http://host1.site.com:1085</code>. The adaptor in turn compiles a list of these URLs.</p><p>Sending a multicast request on an entire subnet is an expensive process. If your available hosts never change, consider using a static host list<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_428"></a> instead.</p><a name="//apple_ref/doc/uid/TP30000062-TPXREF105" title="Host Polling"></a><h4>Host Polling</h4><p>After the HTTP adaptor constructs the host list, it polls each application host on the list for information on the active application instances running on it. Each wotaskd process, in turn, sends its state information using the format in <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCBEBDJ">Listing 3-2</a></span>. Host polling to obtain information on active instances occurs at the interval indicated in the configuration refresh interval setting for the HTTP adaptor. <span class="content_text">Figure 3-4</span> illustrates the process used to determine the configuration of the site in <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCGJGGA">Figure 3-3</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000062-BBCFBIGF" title="Figure 3-4Dynamic site configuration using multicast request and polling"></a><p><strong>Figure 3-4&nbsp;&nbsp;</strong>Dynamic site configuration using multicast request and polling</p><img src = "../Art/configadaptor_auto.gif" alt = "Dynamic site configuration using multicast request and polling" width="510" height="577"></div><br/><a name="//apple_ref/doc/uid/TP30000062-BBCIEFDB" title="Using a Static Host List"></a><h3>Using a Static Host List</h3><p>This method is similar to the one described in <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCFGHFE">“Using a Multicast Request.”</a></span> The only difference is that the HTTP adaptor skips the first part, the multicast request. The host polling<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_429"></a> process occurs at the interval set in the adaptor’s configuration refresh interval<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_430"></a> setting.</p><p>You must explicitly define a host list for each adaptor. See <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCGDFA">“Setting the Host List”</a></span> for details on defining the host list for each of the adaptors provided.</p><a name="//apple_ref/doc/uid/TP30000062-BBCCHAFB" title="Using a Configuration File"></a><h3>Using a Configuration File</h3><p>Using an HTTP adaptor configuration file is useful when you want to have a static site configuration<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_431"></a> (one in which application instances are not stopped after they are started) or if you want to use JavaMonitor<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_432"></a> to configure your site and have the adaptor read your configuration changes immediately. (The adaptor reads the configuration file every 10 seconds to determine which application instances are active.)</p><p>This method also provides a way of having more than one configuration of your site available. You can switch among different configurations by placing the appropriate configuration file in the configuration directory.</p><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCHBGFJ">“The HTTP Adaptor Configuration File”</a></span> explains how the file is structured and lists the properties that it defines. For instructions on creating the configuration file and configuring the HTTP adaptor to use it, see <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCGBGJA">“Creating the HTTP Adaptor Configuration File.”</a></span></p><a name="//apple_ref/doc/uid/TP30000062-BBCHBGFJ" title="The HTTP Adaptor Configuration File"></a><h4>The HTTP Adaptor Configuration File</h4><p>You can set up the HTTP adaptor to get your site’s configuration by reading an HTTP adaptor configuration file (called <code>WOConfig.xml</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_433"></a> by default) in the configuration directory (<code>/Library/WebObjects/Configuration</code> by default). You should have only one adaptor configuration file per web server so that it can perform load balancing<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_434"></a> effectively. (See <span class="content_text"><a href="../Deployment/Deployment.html#//apple_ref/doc/uid/TP30000064-BCIIIBEB">“Load Balancing”</a></span> for details.) In addition, in a site with multiple web servers<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_435"></a>, if two servers share the configuration file, instead of deploying two sites you would be deploying the same site twice. <span class="content_text">Listing 3-1</span> shows a configuration file that defines a site with two application hosts (<code>ebruce.apple.com</code> and <code>ejays.apple.com</code>), each running two application instances, one of the Payroll application<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_436"></a> and the other of the HR application<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_437"></a>.</p><a name="//apple_ref/doc/uid/TP30000062-TPXREF102" title="Listing 3-1A WebObjects adaptor configuration file"></a><p class="codesample"><strong>Listing 3-1&nbsp;&nbsp;</strong>A WebObjects adaptor configuration file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="ASCII"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;adaptor><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;application name="Payroll" urlVersion="4"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;instance id="1" port="2002" host="ebruce.apple.com"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;instance id="2" port="2001" host="ejays.apple.com"/><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/application><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;application name="HR" urlVersion="4"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;instance id="1" port="2001" host="ebruce.apple.com"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;instance id="2" port="2002" host="ejays.apple.com"/><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/application><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/adaptor><span></span></pre></td></tr></table></div><p>The HTTP adaptor configuration file provides the HTTP adaptor with information about your site’s registered application instances. The structure of the configuration file<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_438"></a> is provided in <span class="content_text">Listing 3-2</span> (you can also view it by opening the <code>woadaptor.dtd</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_439"></a> file, located in the <code>/Developer/Examples/WebObjects/Source/Adaptors</code> directory). For information on the properties defined in the configuration file, consult <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-TPXREF106">Table 3-1</a></span>.</p><a name="//apple_ref/doc/uid/TP30000062-BBCBEBDJ" title="Listing 3-2Structure of the HTTP adaptor configuration file"></a><p class="codesample"><strong>Listing 3-2&nbsp;&nbsp;</strong>Structure of the HTTP adaptor configuration file</p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_440"></a><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="ASCII"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!DOCTYPE WebObjectsAdaptorConfiguration SYSTEM "woadaptor.dtd"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;adaptor><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;application name=STRING<span></span></pre></td></tr><tr><td scope="row"><pre>            retries=NUMBER<span></span></pre></td></tr><tr><td scope="row"><pre>            scheduler=["RANDOM"|"ROUNDROBIN"|"LOADAVERAGE"]<span></span></pre></td></tr><tr><td scope="row"><pre>            dormant=NUMBER<span></span></pre></td></tr><tr><td scope="row"><pre>            protocol="http"<span></span></pre></td></tr><tr><td scope="row"><pre>            redir=URL<span></span></pre></td></tr><tr><td scope="row"><pre>            poolSize=NUMBER<span></span></pre></td></tr><tr><td scope="row"><pre>            urlVersion=["3"|"4"]<span></span></pre></td></tr><tr><td scope="row"><pre>            additionalArgs="unspecified"<span></span></pre></td></tr><tr><td scope="row"><pre>        ><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;instance    id=NUMBER  port=NUMBER  host=STRING<span></span></pre></td></tr><tr><td scope="row"><pre>            sendTimeout=NUMBER<span></span></pre></td></tr><tr><td scope="row"><pre>            recvTimeout=NUMBER<span></span></pre></td></tr><tr><td scope="row"><pre>            cnctTimeout=NUMBER<span></span></pre></td></tr><tr><td scope="row"><pre>            sendBufSize=NUMBER<span></span></pre></td></tr><tr><td scope="row"><pre>            recvBufSize=NUMBER<span></span></pre></td></tr><tr><td scope="row"><pre>            additionalArgs="unspecified"<span></span></pre></td></tr><tr><td scope="row"><pre>        ><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/instance><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/application><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/adaptor><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_441"></a><a name="//apple_ref/doc/uid/TP30000062-TPXREF106" title="Table 3-1The properties of the HTTP adaptor configuration file "></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 3-1&nbsp;&nbsp;</strong>The properties of the HTTP adaptor configuration file </caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>name</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_442"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_443"></a></p></td><td ><p>This property is used by the adaptor to implement load balancing<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_444"></a>. The adaptor can load-balance only between instances with the same application name<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_445"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_446"></a>. The property can be used to create groups of instances<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_447"></a>, even when the instances share the same executable file. This argument is set automatically for instances started by wotaskd.</p></td></tr><tr><td  scope="row"><p><code>retries</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_448"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_449"></a></p></td><td ><p>The number of times a request is retried (trying several instances) if a communications failure occurs before an error page is returned to the web server.</p></td></tr><tr><td  scope="row"><p><code>scheduler</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_450"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_451"></a></p></td><td ><p>The load-balancing scheme<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_452"></a> used by the adaptor for instances of the application. The options provided by WebObjects are Round Robin, Random, and Load Average. You can also use a custom load balancer; see <span class="content_text"><a href="../Deployment/Deployment.html#//apple_ref/doc/uid/TP30000064-BCIBEJHC">“Load Balancing and Adaptor Settings”</a></span> for details.</p></td></tr><tr><td  scope="row"><p><code>dormant</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_453"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_454"></a></p></td><td ><p>The number of times the adaptor skips an instance of the application before trying again.</p></td></tr><tr><td  scope="row"><p><code>redir</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_455"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_456"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_457"></a></p></td><td ><p>The URL that the user is redirected to when an instance fails to respond to a direct request.</p></td></tr><tr><td  scope="row"><p><code>poolSize</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_458"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_459"></a></p></td><td ><p>The maximum number of simultaneous connections the adaptor should keep open for each configured instance.</p></td></tr><tr><td  scope="row"><p><code>urlVersion</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_460"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_461"></a></p></td><td ><p>The WebObjects version to use for URL parsing and formatting<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_462"></a>. All WebObjects 4, 4.5, and 5.x applications use version 4 URLs by default.</p></td></tr><tr><td  scope="row"><p><code>additionalArgs</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_463"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_464"></a></p></td><td ><p>Additional information to send to the instance when it’s started.</p></td></tr><tr><td  scope="row"><p><code>id</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_465"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_466"></a></p></td><td ><p>The instance’s identification number. Must be unique for the load-balancing process to operate correctly.</p></td></tr><tr><td  scope="row"><p><code>port</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_467"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_468"></a></p></td><td ><p>The port on which the instance runs.</p></td></tr><tr><td  scope="row"><p><code>host</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_469"></a></p></td><td ><p>Specifies the network interface that an instance binds to. This argument should only be used on hosts with <a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_470"></a>multiple network interfaces (IP addresses).</p></td></tr><tr><td  scope="row"><p><code>sendTimeout</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_471"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_472"></a></p></td><td ><p>The length of time, in seconds, that the adaptor attempts to send data to an instance of the application before giving up.</p></td></tr><tr><td  scope="row"><p><code>recvTimeout</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_473"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_474"></a></p></td><td ><p>The length of time, in seconds, that the adaptor waits for a response from an instance of the application before giving up.</p></td></tr><tr><td  scope="row"><p><code>cnctTimeout</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_475"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_476"></a></p></td><td ><p>The length of time, in seconds, before the adaptor gives up connecting to an instance.</p></td></tr><tr><td  scope="row"><p><code>sendBufSize</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_477"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_478"></a></p></td><td ><p>The size, in bytes, of the <a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_479"></a>TCP/IP socket send buffer that’s used for adaptor-to-instance communication.</p></td></tr><tr><td  scope="row"><p><code>recvBufSize</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_480"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_481"></a></p></td><td ><p>The size, in bytes, of the TCP/IP socket receive buffer that’s used for adaptor-to-instance communication.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000062-BBCGBGJA" title="Creating the HTTP Adaptor Configuration File"></a><h4>Creating the HTTP Adaptor Configuration File</h4><p>You can define your site’s configuration by writing the HTTP adaptor configuration file by hand. However, <a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_482"></a>JavaMonitor provides you with an easy-to-use interface that facilitates this task.</p><p><span class="content_text"><a href="../Deployment/Deployment.html#//apple_ref/doc/uid/TP30000064-TPXREF101">“Deployment Tasks”</a></span> shows you how to configure your site using JavaMonitor. When you are satisfied with the configuration, you can save the settings into a configuration file by copying and pasting or by telling wotaskd to write the file.</p><p>To use the copy-and-paste method<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_483"></a>, follow these steps:</p><ol class="ol"><li class="li"><p>In JavaMonitor, display the Hosts page.</p></li><li class="li"><p>Click YES for any host.</p><p>The host configuration page is displayed in a new web browser window.</p></li><li class="li"><p>Copy the contents of the section Adaptor Config as written to disk—All Registered Applications and Instances, as shown in <span class="content_text">Figure 3-5</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000062-BBCDAJFA" title="Figure 3-5Copying the information that makes up the HTTP adaptor configuration file"></a><p><strong>Figure 3-5&nbsp;&nbsp;</strong>Copying the information that makes up the HTTP adaptor configuration file</p><img src = "../Art/woconfigxmlcopy.gif" alt = "Copying the information that makes up the HTTP adaptor configuration file" width="452" height="339"></div></li><li class="li"><p>Using a text editor, create a new file and paste the contents of the clipboard into it.</p></li><li class="li"><p>Save the file as <code>WOConfig.xml</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_484"></a> (or any other name you choose) in the configuration directory.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000062-TPXREF107" title="Figure 3-6Creating and saving the HTTP adaptor configuration file"></a><p><strong>Figure 3-6&nbsp;&nbsp;</strong>Creating and saving the HTTP adaptor configuration file</p><img src = "../Art/woconfigxmlpaste.gif" alt = "Creating and saving the HTTP adaptor configuration file" width="500" height="497"></div></li></ol><p>If instead of copying and pasting you want wotaskd to create the configuration file for you, you can start a wotaskd process specifically to create the file or you can tell wotaskd to continually maintain the configuration file.</p><p>To start a wotaskd process specifically to create the file, you must first stop the process that corresponds to the site you configured if it’s already running on the web server computer.</p><p>To start a wotaskd process that writes the configuration file to the default location, execute the following two commands using your command shell editor:</p><div class="codesample"><table><tr><td scope="row"><pre>cd /System/Library/WebObjects/JavaApplications/wotaskd.woa<span></span></pre></td></tr><tr><td scope="row"><pre>./wotaskd -WOPort &lt;port> -WOSavesAdaptorConfiguration true<span></span></pre></td></tr></table></div><p>To specify a different location for the HTTP adaptor configuration file, see <code>WODeploymentConfigurationDirectory</code> in <em><a href="../../../WOAppProperties/index.html#//apple_ref/doc/uid/TP30001020" target="_top">WebObjects Application Properties Reference</a></em>. If you want to give the file a different name, <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCEFGD">“Setting the Name of the HTTP Adaptor Configuration File”</a></span> shows you how.</p><p>To tell wotaskd<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_485"></a> to maintain the configuration file on a permanent basis, add the following to the WOServices<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_486"></a> script line that starts the wotaskd process:</p><p><code>-WOSavesAdaptorConfiguration true</code><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_487"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_488"></a></p><p>When you restart your web server, the HTTP adaptor configuration file is updated every time you make a change to your site’s configuration through JavaMonitor. The changes are picked up by the HTTP adaptor the next time it reads the configuration file.</p><p>To configure the HTTP adaptor to read the configuration file<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_489"></a> instead of using a multicast request or a host list, follow the instructions in <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCEFGD">“Setting the Name of the HTTP Adaptor Configuration File.”</a></span></p><a name="//apple_ref/doc/uid/TP30000062-BBCCECHF" title="The WebObjects Adaptor Information Page"></a><h2>The WebObjects Adaptor Information Page</h2><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_490"></a>The WebObjects Adaptor Information page displays information about an HTTP adaptor. Access<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_491"></a> to this page is disabled by default so you must modify the adaptor configuration file to allow access. See <span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCBEFIC">“Setting Access to the WebObjects Adaptor Information Page”</a></span> for details. <span class="content_text">Figure 3-7</span> shows an example of the WebObjects Adaptor Information page.</p><br/><div><a name="//apple_ref/doc/uid/TP30000062-BBCJAJFB" title="Figure 3-7The WebObjects Adaptor Information page"></a><p><strong>Figure 3-7&nbsp;&nbsp;</strong>The WebObjects Adaptor Information page</p><img src = "../Art/woadaptorinfo.gif" alt = "The WebObjects Adaptor Information page" width="581" height="587"></div><br/><a name="//apple_ref/doc/uid/TP30000062-BBCDGJGH" title="Customizing HTTP Adaptors"></a><h2>Customizing HTTP Adaptors</h2><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_492"></a>For the most part, you shouldn’t need to modify the default values of settings in the configuration file. However, if you want to change the way the HTTP adaptor obtains your site’s state information, for example, you need to perform some of the procedures explained here.</p><p>These are the tasks explained in this section:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCCFFI">“Setting the Multicast Address and Port”</a></span></p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCGDFA">“Setting the Host List”</a></span></p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCCEFGD">“Setting the Name of the HTTP Adaptor Configuration File”</a></span></p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCBEFIC">“Setting Access to the WebObjects Adaptor Information Page”</a></span></p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCBHEGI">“Setting an Alias for cgi-bin in the WebObjects URL”</a></span></p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCFEDEH">“Setting the Document Root Path of the Web server”</a></span></p></li><li class="li"><p><span class="content_text"><a href="WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCICHCG">“Setting WebObjects Options”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCCCFFI" title="Setting the Multicast Address and Port"></a><h3>Setting the Multicast Address and Port</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_493"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_494"></a>The following list explains how to set the multicast address, port, and configuration refresh interval<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_495"></a> (in seconds) in the supported HTTP adaptors. The default values for each of these properties are <code>239.128.14.2</code>, <code>1085</code>, and <code>10</code> respectively. The adaptor uses the configuration interval to determine the amount of time that passes between state discoveries on your site. The host-discovery<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_496"></a> process occurs 10 times less frequently than the time indicated by the configuration refresh interval. For example, with the configuration refresh interval set to <code>10</code>, the discovery process occurs every 100 seconds.</p><ul class="spaceabove"><li class="li"><p><strong>Apache</strong>: Set the value of the <code>WebObjectsConfig</code> variable in the <code>apache.conf </code>file to the desired values, using the format shown below:</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsConfig webobjects://&lt;address>:&lt;port> &lt;configuration_interval><span></span></pre></td></tr></table></div></li><li class="li"><p><strong>CGI</strong>: Set the <code>WO_CONFIG_URL</code> environment variable to <code>webobjects://&lt;address>:&lt;port></code>. Make sure your web server is configured to pass the variable to the adaptor (consult your web server’s documentation for instructions).</p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCCGDFA" title="Setting the Host List"></a><h3>Setting the Host List</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_497"></a>The following list explains how to set a host list for a site with two hosts, <code>host1</code> and <code>host2</code>, in the supported adaptors with a configuration interval<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_498"></a> of <code>10</code> (the configuration interval cannot be set in the CGI adaptor). </p><ul class="spaceabove"><li class="li"><p><strong>Apache</strong>: Set the <code>WebObjectsConfig</code> variable in the <code>apache.conf</code> file to the desired list of hosts. By default it’s set to <code>http://localhost:1085 10</code> (the <code>10</code> is the configuration refresh interval). Separate each host with a comma, as shown in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsConfig http://host1:1085,http://host2:1085 10<span></span></pre></td></tr></table></div></li><li class="li"><p><strong>CGI</strong>: Set the <code>WO_CONFIG_URL</code> environment variable to <code>http://host1:1085,http://host:1085</code>. Make sure the web server is configured to pass the variable to the adaptor (consult your web server’s documentation for instructions).</p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCCEFGD" title="Setting the Name of the HTTP Adaptor Configuration File"></a><h3>Setting the Name of the HTTP Adaptor Configuration File</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_499"></a>The following list shows how to set the name and location of the HTTP adaptor configuration file for the supported HTTP adaptors.</p><ul class="spaceabove"><li class="li"><p><strong>Apache</strong>: Set the value of <code>WebObjectsConfig</code> variable in the <code>apache.conf</code> file to the path of the adaptor configuration file.</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsConfig file://&lt;path-to-an-xml-config-file> 10<span></span></pre></td></tr></table></div></li><li class="li"><p><strong>CGI</strong>: Set the <code>WO_CONFIG_URL</code> environment variable to <code>file://&lt;path-to-an-xml-config-file></code>. Make sure the web server is configured to pass the variable to the adaptor (consult your web server’s documentation for instructions).</p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCBEFIC" title="Setting Access to the WebObjects Adaptor Information Page"></a><h3>Setting Access to the WebObjects Adaptor Information Page</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_500"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_501"></a>You can provide access to the WebObjects adaptor information page (WOAdaptorInfo) to a specific user or to everyone. To provide access to a single user, you set the values of the <code>username</code> and <code>password</code> properties. To provide public access, set the <code>username</code> attribute to <code>public</code>. The following list explains how to provide access to the information page to a user named Joe in the supported adaptors. For the changes to take effect, you need to restart the web server.</p><ul class="spaceabove"><li class="li"><p><strong>Apache</strong>: Add the following lines to the <code>apache.conf</code> file, located in the <code>/System/Library/WebObjects/Adaptors/Apache</code> directory:</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsAdminUsername joe<span></span></pre></td></tr><tr><td scope="row"><pre>WebObjectsAdminPassword secret<span></span></pre></td></tr></table></div></li><li class="li"><p><strong>CGI</strong>: Set the <code>WO_ADAPTOR_INFO_USERNAME</code> and <code>WO_ADAPTOR_INFO_PASSWORD</code> environment variables to the appropriate values. Make sure the web server is configured to pass the variables to the adaptor (consult your web server’s documentation for instructions).</p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCBHEGI" title="Setting an Alias for cgi-bin in the WebObjects URL"></a><h3>Setting an Alias for cgi-bin in the WebObjects URL</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_502"></a>The following list explains how to change the <code>cgi-bin</code> part of the URL used to connect to an application instance to <code>Store</code> in the Apache, and CGI adaptors:</p><ul class="spaceabove"><li class="li"><p><strong>Apache and CGI</strong>: In the <code>apache.conf</code> file, change the line</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsAlias /cgi-bin/WebObjects<span></span></pre></td></tr></table></div><p>to</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsAlias /Store/WebObjects<span></span></pre></td></tr></table></div></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCFEDEH" title="Setting the Document Root Path of the Web server"></a><h3>Setting the Document Root Path of the Web server</h3><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_503"></a>The following list explains how to set the path to the document root of the supported web servers.</p><ul class="spaceabove"><li class="li"><p><strong>Apache</strong>: In the <code>apache.conf</code> file, change the line</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsDocumentRoot /Library/WebServer/Documents<span></span></pre></td></tr></table></div><p>to</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsDocumentRoot &lt;document-root-path><span></span></pre></td></tr></table></div></li><li class="li"><p><strong>CGI</strong>: Set the value of the <code>CGI_DOCUMENT_ROOT</code> environment variable to the desired path. Make sure that your web server is configured to pass the variable to the adaptor (consult your web server’s documentation for instructions).</p></li></ul><a name="//apple_ref/doc/uid/TP30000062-BBCICHCG" title="Setting WebObjects Options"></a><h3>Setting WebObjects Options</h3><p>You can set several WebObjects options<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_504"></a> through an environment variable or Registry setting, depending on which web server you’re using. <span class="content_text">Table 3-2</span> shows the WebObjects options available:</p><a name="//apple_ref/doc/uid/TP30000062-BBCHEECD" title="Table 3-2WebObjects options"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 3-2&nbsp;&nbsp;</strong>WebObjects options</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Option</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>logPath</code></p></td><td ><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_505"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_506"></a>Full path to log file.</p></td></tr><tr><td  scope="row"><p><code>logLevel</code></p></td><td ><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_507"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_508"></a>Logging level used to log HTTP adaptor activity. Values (from most verbose to least verbose) <code>Debug</code>, <code>Info</code>, <code>Warn</code>, <code>Error</code>, and <code>User</code>.</p></td></tr><tr><td  scope="row"><p><code>stateFile</code></p></td><td ><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_509"></a><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_510"></a>Filename to use for the shared state file (applicable to Apache and CGI on Unix or Mac OS X Server only). Use when running multiple<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_511"></a> HTTP adaptors on a single computer.</p></td></tr><tr><td  scope="row"><p><code>redir</code></p></td><td ><p><a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_512"></a>The URL users are redirected to when the application or Web page they try to access is unavailable.</p></td></tr></table></div><p>The following list explains how to set WebObjects options for the supported HTTP adaptors:</p><ul class="spaceabove"><li class="li"><p><strong>Apache</strong>: Add the <code>WebObjectsOptions</code> variable to the <code>apache.conf</code> file:</p><div class="codesample"><table><tr><td scope="row"><pre>WebObjectsOptions redir=&lt;redirection_url>, logLevel=Debug<span></span></pre></td></tr></table></div></li><li class="li"><p><strong>CGI</strong>: Set the <code>WEBOBJECTS_OPTIONS</code> environment variable to the appropriate value; for example, <code>redir=&lt;redirection_url>, logLevel=Debug</code>. Make sure the web server is configured to pass the variable to the adaptor (consult your web server’s documentation for instructions).<a name="//apple_ref/doc/uid/TP30000062-DontLinkElementID_513"></a></p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Installation/Installation.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../DeploymentElements/DeploymentElements.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/Deployment/Deploying_Applications/WebObjectsAdaptors/WebObjectsAdaptors.html%3Fid%3DTP30001009-4.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/Deployment/Deploying_Applications/WebObjectsAdaptors/WebObjectsAdaptors.html%3Fid%3DTP30001009-4.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/Deployment/Deploying_Applications/WebObjectsAdaptors/WebObjectsAdaptors.html%3Fid%3DTP30001009-4.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>