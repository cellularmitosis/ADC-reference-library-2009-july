<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Summary of the Scrap Manager (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING137></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-136.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-138.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-109.html"><B>Chapter 2 - Scrap Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING137-0></A>
<H1>Summary of the Scrap Manager</H1>
<A NAME=HEADING137-1></A>
<H2>Pascal Summary</H2>
<A NAME=HEADING137-2></A>
<H3>Constants</H3>
<PRE>
gestaltScrapMgrAttr              = 'scra';{Gestalt selector for }
                                          { Scrap Mgr attributes}
gestaltScrapMgrTranslationAware  = 0;     {check this bit in the }
                                          { response parameter to see }
                                          { whether Scrap Mgr supports }
                                          { Translation Mgr}
</PRE>
<A NAME=HEADING137-4></A>
<H3>Data Types</H3>
<PRE>
TYPE
   ScrapStuff =                  {scrap information record}
   RECORD
      scrapSize:     LongInt;    {size (in bytes) of scrap}
      scrapHandle:   Handle;     {handle to scrap}
      scrapCount:    Integer;    {indicates whether the contents }
                                 { of the scrap have changed}
      scrapState:    Integer;    {indicates state and location }
                                 { of scrap}
      scrapName:     StringPtr;  {filename of the scrap}
   END;
   PScrapStuff = ^ScrapStuff;    {pointer to a scrap information record}
</PRE>
<A NAME=HEADING137-6></A>
<H3>Routines</H3>
<A NAME=HEADING137-7></A>
<H4>Getting Information About the Scrap</H4>
<PRE>
FUNCTION InfoScrap : PScrapStuff;
</PRE>
<A NAME=HEADING137-9></A>
<H4>Writing Information to the Scrap</H4>
<PRE>
FUNCTION ZeroScrap   : LongInt;
FUNCTION PutScrap    (length: LongInt; theType: ResType; source: Ptr)
                     : LongInt;
</PRE>
<A NAME=HEADING137-12></A>
<H4>Reading Information From the Scrap</H4>
<PRE>
FUNCTION GetScrap    (hDest: Handle; theType: ResType; 
                      VAR offset: LongInt): LongInt;
</PRE>
<A NAME=HEADING137-14></A>
<H4>Transferring Data Between the Scrap in Memory and the Scrap on Disk</H4>
<PRE>
FUNCTION UnloadScrap : LongInt;
FUNCTION LoadScrap   : LongInt;
</PRE>
<A NAME=HEADING137-17></A>
<H2>C Summary</H2>
<PRE>
enum {
#define gestaltScrapMgrAttr       'scra'     /*Gestalt selector for */
                                             /* Scrap Mgr attributes*/
gestaltScrapMgrTranslationAware  = 0         /*check this bit in the */
                                             /* response parameter to see */
                                             /* whether Scrap Mgr supports */
                                             /* Translation Mgr*/
};
</PRE>
<A NAME=HEADING137-19></A>
<H3>Data Types</H3>
<PRE>
   struct ScrapStuff {           /*scrap information record*/
      long           scrapSize;  /*size (in bytes) of scrap*/
      Handle         scrapHandle;/*handle to scrap*/
      short          scrapCount; /*indicates whether the contents */
                                 /* of the scrap have changed*/
      short          scrapState; /*indicates state and location */
                                 /* of scrap*/
      StringPtr      scrapName;  /*filename of the scrap*/
   };
   typedef struct ScrapStuff ScrapStuff;
   typedef ScrapStuff *PScrapStuff;
</PRE>
<A NAME=HEADING137-21></A>
<H3>Routines</H3>
<A NAME=HEADING137-22></A>
<H4>Getting Information About the Scrap</H4>
<PRE>
pascal PScrapStuff InfoScrap
(void);
</PRE>
<A NAME=HEADING137-25></A>
<H4>Writing Information to the Scrap</H4>
<PRE>
pascal long ZeroScrap  (void);
pascal long PutScrap   (long length, ResType theType, Ptr source);
</PRE>
<A NAME=HEADING137-28></A>
<H4>Reading Information From the Scrap</H4>
<PRE>
pascal long GetScrap     (Handle hDest, ResType theType, long *offset);
</PRE>
<A NAME=HEADING137-30></A>
<H4>Transferring Data Between the Scrap in Memory and the Scrap on Disk</H4>
<PRE>
pascal long UnloadScrap  (void);
pascal long LoadScrap    (void);
</PRE>
<A NAME=HEADING137-33></A>
<H2>Assembly-Language Summary</H2>
<A NAME=HEADING137-34></A>
<H3>Data Structures</H3>
<A NAME=HEADING137-35></A>
<H4>Scrap Information Data Structure</H4>
<TABLE BORDER="0" CELLPADDING=3><TD>0<TD>ScrapSize<TD>long<TD>size (in bytes) of the scrap<TR>
<TD>4<TD>ScrapHandle<TD>long<TD>handle to scrap<TR>
<TD>8<TD>ScrapCount<TD>2 bytes<TD>indicates whether the contents of the scrap have changed<TR>
<TD>10<TD>ScrapState<TD>2 bytes<TD>indicates state and location of scrap<TR>
<TD>12<TD>ScrapName<TD>long<TD>pointer to the filename of the scrap</TABLE>

<A NAME=HEADING137-36></A>
<H2>Result Codes</H2>
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>dskFulErr<TD>-34<TD>Disk full<TR>
<TD>ioErr<TD>-36<TD>I/O error<TR>
<TD>noScrapErr<TD>-100<TD>Scrap does not exist (not initialized)<TR>
<TD>noTypeErr<TD>-102<TD>No data of the requested scrap format type in scrap<TR>
<TD>memFullErr<TD>-108<TD>Not enough memory in heap zone</TABLE>


</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-136.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-138.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
