<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>NewFatRoutineDescriptor (IM: PS)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING32></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCSoftware-31.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-33.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCSoftware-2.html"><B>PowerPC System Software</B></A> / <BR><DD><A HREF="PPCSoftware-17.html"><B>Chapter 2 - Mixed Mode Manager</B></A> / <A HREF="PPCSoftware-20.html"><B>Mixed Mode Manager Reference</B></A><BR><DL><DD><A HREF="PPCSoftware-29.html"><B>Mixed Mode Manager Routines</B></A> / <A HREF="PPCSoftware-30.html"><B>Creating and Disposing of Routine Descriptors</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING32-0></A>
<H3>NewFatRoutineDescriptor<A NAME=MARKER-2-343></A></H3>
 You can call the <CODE>NewFatRoutineDescriptor</CODE> function to create a new fat routine descriptor.<P>
<PRE>
pascal UniversalProcPtr NewFatRoutineDescriptor 
                     (ProcPtr theM68kProc, ProcPtr thePowerPCProc, 
                        ProcInfoType theProcInfo);
</PRE>
<DL>
<DT><CODE>theM68kProc</CODE>
<DD> The address of a 680x0 routine.
<DT><CODE>thePowerPCProc</CODE>
<DD> The address of a PowerPC routine.
<DT><CODE>theProcInfo</CODE>
<DD> The procedure information to be associated with the routine.
</DL>
<A NAME=HEADING32-6></A>
<H5>DESCRIPTION</H5>
 The <CODE>NewFatRoutineDescriptor</CODE> function creates a new fat routine descriptor and returns a pointer (of type <CODE>UniversalProcPtr</CODE>) to it. The routine descriptor contains routine records for both 680x0 and PowerPC versions of a routine. If the value of either the <CODE>theM68kProc</CODE> parameter or the <CODE>thePowerPCProc</CODE> parameter is <CODE>NULL</CODE>, <CODE>NewFatRoutineDescriptor</CODE> returns the value <CODE>NULL</CODE>.<P>
 The memory occupied by the new routine descriptor is allocated in the current heap. If you want the memory to be allocated in some other heap, you'll need to set the current heap to that heap and then restore the original heap before exiting.<P>
<A NAME=HEADING32-9></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>NewFatRoutineDescriptor</CODE> function allocates memory; you should not call it at interrupt time or from any code that might be executed when memory is low. In addition, the block of memory allocated by <CODE>NewFatRoutineDescriptor</CODE> is nonrelocatable. To help minimize heap fragmentation, you should try to allocate any routine descriptors you will need early in your application's execution.<P>
 When the <CODE>USESROUTINEDESCRIPTORS</CODE> compile flag is <CODE>false</CODE>, the <CODE>NewFatRoutineDescriptor</CODE> function is undefined.<P>
<A NAME=HEADING32-12></A>
<H5>SEE ALSO</H5>
 See <A HREF=PPCSoftware-19.html#MARKER-9-67>"Using Universal Procedure Pointers" beginning on page 2-21</A> for a more complete description of when and how to create routine descriptors. See <A HREF=PPCSoftware-19.html#MARKER-9-50>"Specifying Procedure Information" beginning on page 2-14</A> for information on creating procedure information.<A NAME=MARKER-2-344></A><A NAME=MARKER-2-345></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="PPCSoftware-31.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-33.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="PPCSoftware-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
