<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><head><script language="JavaScript" src="../../frametest.js"></script><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><!-- Link line removed --><TITLE> ExtendedSoundParamBlock</TITLE><script language=javascript> window.parent.focus(); </script></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="QT41WhatsNew-94.html">Previous</A> | <A HREF="QT41WhatsNew-1.html">Chapter Contents</A> | <A HREF="QT41WhatsNew.html">Chapter Top</A> | <A HREF="QT41WhatsNew-96.html">Next</A> |</P><!-- QTnavbar end --><H1 CLASS="H3-Heading3"><A NAME="pgfId-30172"></A>ExtendedSoundParamBlock</H1><P CLASS="T1-Text1"><A NAME="pgfId-30173"></A>The <TT>ExtendedSoundParamBlock</TT> is an extended form of <TT>SoundParamBlock</TT>. Like <TT>ExtendedSoundComponentData</TT>, it consists of the unextended classic structure followed by new fields.</P><TT><A NAME="pgfId-55752"></A>struct&nbsp;ExtendedSoundParamBlock&nbsp;{<BR>SoundParamBlock&nbsp;&nbsp;&nbsp;pb;&nbsp;&nbsp;&nbsp;&nbsp;/*classic&nbsp;SoundParamBlock<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;recordSize&nbsp;==&nbsp;sizeof(ExtendedSoundParamBlock)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;&nbsp;reserved;<BR>&nbsp;&nbsp;&nbsp;&nbsp;long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extendedFlags;&nbsp;&nbsp;/*flags*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bufferSize;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*size&nbsp;of&nbsp;buffer&nbsp;in&nbsp;bytes*/<BR>};<BR>typedef&nbsp;struct&nbsp;ExtendedSoundParamBlock&nbsp;ExtendedSoundParamBlock;<BR>typedef&nbsp;ExtendedSoundParamBlock&nbsp;*&nbsp;&nbsp;ExtendedSoundParamBlockPtr;</TT><P CLASS="T1-Text1"><A NAME="pgfId-30175"></A>Unlike <TT>SoundComponentData</TT>, however, the <TT>recordSize</TT> field of the <TT>SoundParamBlock</TT> is used to detect if this is an <TT>ExtendedSoundParamBlock</TT>.</P><P CLASS="T1-Text1"><A NAME="pgfId-30176"></A>If the record size is greater than <TT>SoundParamBlock</TT>, then you know it has been extended. Also, in the future, it is expected that this structure will grow, so you want to check for a record of sufficient size to hold the fields you are seeking.</P><P CLASS="T1-Text1"><A NAME="pgfId-30177"></A>The fields of <TT>ExtendedSoundParamBlock</TT> are:</P><DL COMPACT><DT CLASS="DT-DefinitionTerm"><A NAME="pgfId-55754"></A><TT>pb</TT> </DT><DD CLASS="DD-DefinitionDef"><A NAME="pgfId-30178"></A>Classic <TT>SoundParamBlock</TT> record. Its <TT>recordSize</TT> field allows you to detect extended records.</DD><P><DT CLASS="DT-DefinitionTerm"><A NAME="pgfId-55770"></A><TT>reserved</TT> </DT><P><DD CLASS="DD-DefinitionDef"><A NAME="pgfId-30179"></A>Reserved. </DD><P><DT CLASS="DT-DefinitionTerm"><A NAME="pgfId-55780"></A><TT>extendedFlags</TT> </DT><DD CLASS="DD-DefinitionDef"><P><DD CLASS="DD-DefinitionDefCont"><A NAME="pgfId-30181"></A>Same interpretation as <TT>extendedFlags</TT> in <TT>ExtendedSoundComponentData</TT>.</DD><P><DT CLASS="DT-DefinitionTerm"><A NAME="pgfId-55789"></A><TT>bufferSize</TT> </DT><P><DD CLASS="DD-DefinitionDef"><A NAME="pgfId-30182"></A>Size of buffer in bytes. Only valid if <TT>extendedFlags</TT> field has the <TT>kExtendedSoundBufferSizeValid</TT> flag set.</DD><P></DL COMPACT><P CLASS="T1-Text1"><A NAME="pgfId-30183"></A>Since the embedded <TT>SoundParamBlock</TT> contains a <TT>SoundComponentData</TT>, the <TT>kExtendedSoundSampleCountNotValid</TT> flag set refers to the <TT>sampleCount</TT> field of that record. Be aware that the embedded SoundComponentData's <TT>flags</TT> field should never have its <TT>kExtendedSoundData</TT> flag set. This would mislead a client passed only a pointer to the <TT>SoundComponentData</TT> to misinterpet it as an extended record.</P><P CLASS="T1-Text1"><A NAME="pgfId-30184"></A>An <TT>ExtendedSoundParamBlock</TT> can be passed to the sound component's <TT>SoundComponentPlaySourceBuffer</TT> routine. Also, the <TT>moreRtn</TT> of the <TT>SoundParamBlock</TT> may return a reference to an <TT>ExtendedSoundParamBlock</TT>.</P><P CLASS="T1-Text1"><A NAME="pgfId-30185"></A>In both cases, check that the record is extended before interpreting the extended fields.</P><hr>&#169; 2000 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="QT41WhatsNew-94.html">Previous</A> | <A HREF="QT41WhatsNew-1.html">Chapter Contents</A> | <A HREF="QT41WhatsNew.html">Chapter Top</A> | <A HREF="QT41WhatsNew-96.html">Next</A> |</P><!-- QTnavbar end --></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>