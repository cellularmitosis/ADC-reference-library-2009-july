<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Creating and Configuring Attribute Sets</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3180"> </A>Creating and Configuring Attribute Sets</H1><P CLASS="T1.Text1"><A NAME="pgfId=3181"> </A>You create a new attribute set by calling the <TT CLASS="cv">Q3AttributeSet_New</TT> function. You configure the attribute set by adding the desired attributes to the set, using the <TT CLASS="cv">Q3AttributeSet_Add</TT> function. Finally, you attach the configured attribute set to an object by calling an appropriate QuickDraw&nbsp;3D routine. For example, to attach an attribute set to a vertex of a triangle, you call the function <TT CLASS="cv">Q3Triangle_SetVertexAttributeSet</TT>. <A HREF="qd3dattributes.6.htm#11584" CLASS="XRef">Listing&nbsp;8</A> illustrates how to set the three vertices of a triangle to a specific diffuse color.</P><P CLASS="L.Listing"><A NAME="pgfId=3189"> </A>Listing&nbsp;8<A NAME="11584"> </A>Creating and configuring a vertex attribute set</P><CODE CLASS="Cv.Code"><A NAME="pgfId=6068"> </A>TQ3Status MySetTriangleVerticesDiffuseColor <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(TQ3GeometryObject triangle, TQ3ColorRGB color)<BR>{<BR>&nbsp;&nbsp;&nbsp;&nbsp;TQ3AttributeSet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myAttrSet;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*attribute set*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;TQ3Status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myResult;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*result code*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;unsigned long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myIndex;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*vertex index*/<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;/*Create a new empty attribute set.*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;myAttrSet = Q3AttributeSet_New();<BR>&nbsp;&nbsp;&nbsp;&nbsp;if (myAttrSet == NULL)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return (kQ3Failure);<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=6074"> </A>&nbsp;&nbsp;&nbsp;&nbsp;/*Add the specified color attribute to the attribute set.*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;myResult = Q3AttributeSet_Add<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(myAttrSet, kQ3AttributeTypeDiffuseColor, &amp;color);<BR>&nbsp;&nbsp;&nbsp;&nbsp;if (myResult == kQ3Failure)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return (kQ3Failure);<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;/*Attach the attribute set to each triangle vertex.*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;for (myIndex = 0; myIndex &lt; 3; myIndex++) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myResult = Q3Triangle_SetVertexAttributeSet<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(triangle, myIndex, myAttrSet);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (myResult == kQ3Failure)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return (kQ3Failure);<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;return (kQ3Success);<BR>}<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=3192"> </A><A NAME="marker=6076"> </A>You can assign any number of different attribute types to a single attribute set. The function defined in <A HREF="qd3dattributes.6.htm#11584" CLASS="XRef">Listing&nbsp;8</A> assigns only one attribute--a diffuse color--to the new attribute set.</P><P CLASS="T1.Text1"><A NAME="pgfId=3196"> </A>If you want to change the value of a certain attribute in an attribute set, you can simply overwrite the data associated with that attribute by calling <TT CLASS="cv">Q3AttributeSet_Add</TT> once again. You can remove an attribute from an attribute set by calling <TT CLASS="cv">Q3AttributeSet_Clear</TT>. To remove all attributes from an attribute set, you can call <TT CLASS="cv">Q3AttributeSet_Empty</TT>.</P><hr>&#169; 1997 Apple Computer, Inc.</DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>