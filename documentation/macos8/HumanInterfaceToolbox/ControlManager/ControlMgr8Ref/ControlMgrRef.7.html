<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<script language="JavaScript" src="frametest.js"></script>

<TITLE> Handling Events in Controls1</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<a name="top"></a>
<!-- start of banner -->			
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!-- start of path -->
<table border="0" cellpadding="0" cellspacing="2" width="432">	
	<tr>
	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">
	<b>PATH<img src="../../../images/space.gif" width="6" height="12"></b><a href="../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../mac8.html" target="_top">Mac OS 8 and 9</a> 
	<b>&gt;</b> Human Interface Toolbox
	<b>&gt;</b> <a href="../controlmanager.html" target="_top">Control Manager</a> 
	<b>&gt;</b>
	</font></td>
	</tr>
	<tr><td align="left" scope="row"><br>
	<img src="../../../images/im_smblue.gif" width="116" height="8"><img src="../../../images/space.gif" width="6" height="11">
	<font face="Geneva,Helvetica,Arial">Mac OS 8 Control Manager Reference</font>
	</td></tr>
</table><br>
<!-- end of path -->


<!-- top navigation -->
<DIV>
<P><A HREF="ControlMgrRef.2.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="ControlMgrRef.6.html"><img src="images/previous.gif" border="0"></A> <A HREF="ControlMgrRef.8.html"><img src="images/next.gif" border="0"></A>

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a></div>
<!-- end top navigation -->

<hr>

<H1 CLASS="RH2.RoutineHd2">
<A NAME="pgfId=119839">
 </A>
<A NAME="23768">
 </A>
Handling Events in Controls</H1>
<P CLASS="T1.Text1">
<A NAME="pgfId=239956">
 </A>
The following Control Manager functions for handling events in controls are new, changed, or not recommended with Appearance Manager 1.0:</P>
<UL>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=239984">
 </A>
<A HREF="ControlMgrRef.7.html#13857" CLASS="XRef"><CODE>FindControlUnderMouse</A></CODE>
 obtains the location of a mouse-down event in a control. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=239989">
 </A>
<A HREF="ControlMgrRef.7.html#31439" CLASS="XRef"><CODE>FindControl</A></CODE>
 obtains the location of a mouse-down event in a control. Not recommended with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=239994">
 </A>
<A HREF="ControlMgrRef.7.html#31800" CLASS="XRef"><CODE>HandleControlKey</A></CODE>
 sends a keyboard event to a control with keyboard focus. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=239999">
 </A>
<A HREF="ControlMgrRef.7.html#28111" CLASS="XRef"><CODE>IdleControls</A></CODE>
 performs idle event processing. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240004">
 </A>
<A HREF="ControlMgrRef.7.html#21975" CLASS="XRef"><CODE>HandleControlClick</A></CODE>
 responds to cursor movements in a control while the mouse button is down and returns the location of the next mouse-up event. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=239960">
 </A>
<A HREF="ControlMgrRef.7.html#34113" CLASS="XRef"><CODE>TrackControl</A></CODE>
 responds to cursor movements in a control while the mouse button is down. Not recommended with Appearance Manager 1.0.</LI>
</UL>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=63571">
 </A>
<A NAME="13857">
 </A>
FindControlUnderMouse</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=63572">
 </A>
Obtains the location of a mouse-down event in a control.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259167">
 </A>
pascal ControlHandle FindControlUnderMouse (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Point inWhere,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WindowPtr inWindow,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 *outPart);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259171">
 </A>
<CODE>inWhere</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=192458">
 </A>
A point, specified in coordinates local to the window, where the mouse-down event occurred. Before calling <CODE>FindControlUnderMouse</CODE>
, use the QuickDraw <CODE>GlobalToLocal</CODE>
 function to convert the point stored in the <CODE>where</CODE> field of the event structure (which describes the location of the mouse-down event) to coordinates local to the window.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259181">
 </A>
<CODE>inWindow</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=240725">
 </A>
A pointer to the window in which the mouse-down event occurred.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259190">
 </A>
<CODE>outPart</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=240726">
 </A>
Pass a pointer to a signed 16-bit integer value. On return, the value is set to the part code of the control part that was selected; see <A HREF="ControlMgrRef.1d.html#13866" CLASS="XRef">Control Part Code Constants</A>
.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259199">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=63581">
 </A>
Returns a handle to the control that was selected. If the mouse-down event did not occur over a control part, <CODE>FindControlUnderMouse</CODE>
 returns <CODE>nil</CODE>
.</DD>
</DL COMPACT>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=63582">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=121511">
 </A>
You should call the <CODE>FindControlUnderMouse</CODE>
 function instead of <A HREF="ControlMgrRef.7.html#31439" CLASS="XRef"><CODE>FindControl</A></CODE>
 to determine whether a mouse-down event occurred in a control, particularly if an embedding hierarchy is present. <CODE>FindControlUnderMouse</CODE>
 will return a handle to the control even if no part was hit and can determine whether a mouse-down event has occurred even if the control is deactivated, while <CODE>FindControl</CODE>
 does not. </P>
<P CLASS="T1.Text1">
<A NAME="pgfId=121978">
 </A>
When a mouse-down event occurs, your application should call <CODE>FindControlUnderMouse</CODE>
 after using the Window Manager function <CODE>FindWindow</CODE>
 to ascertain that a mouse-down event has occurred in the content region of a window containing controls.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=219111">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=219112">
 </A>
Available with Appearance Manager 1.0 and later.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=153318">
 </A>
SEE ALSO</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=153322">
 </A>
<A HREF="ControlMgrRef.4.html#26656" CLASS="XRef">Embedding Controls</A>
.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=9892">
 </A>
<A NAME="31439">
 </A>
FindControl</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=129483">
 </A>
Obtains the location of a mouse-down event in a control.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=232580">
 </A>
When the Appearance Manager is available, you should call <A HREF="ControlMgrRef.7.html#13857" CLASS="XRef"><CODE>FindControlUnderMouse</A></CODE>
 to determine the location of a mouse-down event in a control. <CODE>FindControlUnderMouse</CODE>
 will return a handle to the control even if no part was hit and can determine whether a mouse-down event has occurred even if the control is deactivated, while <CODE>FindControl</CODE>
 does not.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=219138">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=219139">
 </A>
Not recommended with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=100647">
 </A>
<A NAME="31800">
 </A>
HandleControlKey</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=100649">
 </A>
Sends a keyboard event to a control with keyboard focus.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259210">
 </A>
pascal SInt16 HandleControlKey (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle inControl,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 inKeyCode,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 inCharCode,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 inModifiers);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259214">
 </A>
<CODE>inControl</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100652">
 </A>
A handle to the control that currently has keyboard focus.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259224">
 </A>
<CODE>inKeyCode</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100653">
 </A>
The virtual key code, derived from the event structure. This value represents the key pressed or released by the user. It is always the same for a specific physical key on a particular keyboard regardless of which modifier keys were also pressed.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259233">
 </A>
<CODE>inCharCode</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100654">
 </A>
A character, derived from the event structure. The value that is generated depends on the virtual key code, the state of the modifier keys, and the current <CODE>'KCHR'</CODE>
 resource. </DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259242">
 </A>
<CODE>inModifiers</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100655">
 </A>
Information from the <CODE>modifiers</CODE>
 field of the event structure specifying the state of the modifier keys and the mouse button at the time the event was posted.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259251">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100659">
 </A>
 Returns the part code that was hit during the keyboard event; see <A HREF="ControlMgrRef.1d.html#13866" CLASS="XRef">Control Part Code Constants</A>
.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=100660">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=136060">
 </A>
If you have determined that a keyboard event has occurred in a given window, before calling the <CODE>HandleControlKey</CODE>
 function, call <A HREF="ControlMgrRef.8.html#23982" CLASS="XRef"><CODE>GetKeyboardFocus</A></CODE>
 to get the handle to the control that currently has keyboard focus. The <CODE>HandleControlKey</CODE>
 function passes the values specified in its <CODE>inKeyCode</CODE>
, <CODE>inCharCode</CODE>
, and <CODE>inModifiers</CODE>
 parameters to control definition functions that set the <CODE>kControlSupportsFocus</CODE>
 feature bit.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=219115">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=219116">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=136066">
 </A>
<A NAME="28111">
 </A>
IdleControls</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=100664">
 </A>
Performs idle event processing.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259262">
 </A>
pascal void IdleControls (WindowPtr inWindow);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259266">
 </A>
<CODE>inWindow</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100667">
 </A>
A pointer to a window containing controls that support idle events.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=107186">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=121691">
 </A>
Your application should call the <CODE>IdleControls</CODE>
 function to give idle time to any controls that want the <CODE>kControlMsgIdle</CODE>
 message. <CODE>IdleControls</CODE>
 calls the control with an idle event so the control can do idle-time processing. You should call <CODE>IdleControls</CODE>
 at least once in your event loop. see <A HREF="ControlMgrRef.a.html#11861" CLASS="XRef">Performing Idle Processing</A>
 for more details on how a control definition function should handle idle processing.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=219121">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=219122">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=9962">
 </A>
<A NAME="21975">
 </A>
HandleControlClick</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=10013">
 </A>
Responds to cursor movements in a control while the mouse button is down and returns the location of the next mouse-up event.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259278">
 </A>
pascal ControlPartCode HandleControlClick (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle inControl,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Point inWhere,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 inModifiers,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlActionUPP inAction);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259282">
 </A>
<CODE>inControl</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=9973">
 </A>
A handle to the control in which the mouse-down event occurred. Pass the control handle returned by <CODE>FindControl</CODE>
 or <CODE>FindControlUnderMouse</CODE>
.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259292">
 </A>
<CODE>inWhere</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=223996">
 </A>
A point, specified in local coordinates, where the mouse-down event occurred. 
Supply the same point you passed to <CODE>FindControl</CODE>
 or <CODE>FindControlUnderMouse</CODE>
.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259301">
 </A>
<CODE>inModifiers</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=223997">
 </A>
Information from the <CODE>modifiers</CODE>
 field of the event structure specifying the state of the modifier keys and the mouse button at the time the event was posted. </DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259310">
 </A>
<CODE>inAction</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=99716">
 </A>
A universal procedure pointer to an action function defining what action your application takes while the user holds down the mouse button. The value of the <CODE>inAction</CODE>
 parameter can be a valid <CODE>procPtr</CODE>
, <CODE>nil</CODE>
, or -1. A value of -1 indicates that the control should either perform auto tracking, or if it is incapable of doing so, do nothing (like <CODE>nil</CODE>
). For custom controls, what you pass in this parameter depends on how you define the control. If the part index is greater than 128, the pointer must be of type <CODE>DragGrayRegionUPP</CODE>
 unless the control supports live feedback, in which case it should be a <CODE>ControlActionUPP</CODE>
.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259319">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=129550">
 </A>
Returns a value of type <CODE>ControlPartCode </CODE>
identifying the control's part; see <A HREF="ControlMgrRef.1d.html#13866" CLASS="XRef">Control Part Code Constants</A>
.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=206118">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=206119">
 </A>
Call the <CODE>HandleControlClick</CODE>
 function after a call to <CODE>FindControl</CODE>
 or <CODE>FindControlUnderMouse</CODE>
. The <CODE>HandleControlClick</CODE>
 function should be called instead of <A HREF="ControlMgrRef.7.html#34113" CLASS="XRef"><CODE>TrackControl</A></CODE>
 to follow the user's cursor movements in a control and provide visual feedback until the user releases the mouse button. Unlike <CODE>TrackControl</CODE>
, <CODE>HandleControlClick</CODE>
 allows modifier keys to be passed in so that the control may use these if the control (such as a list box or editable text field) is set up to handle its own tracking.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=194254">
 </A>
The visual feedback given by <CODE>HandleControlClick</CODE>
 depends on the control part in which the mouse-down event occurs. When highlighting is appropriate, for example, <CODE>HandleControlClick</CODE>
 highlights the control part (and removes the highlighting when the user releases the mouse button). When the user holds down the mouse button while the cursor is in an indicator (such as the scroll box of a scroll bar) and moves the mouse, <CODE>HandleControlClick</CODE>
 responds by dragging a dotted outline or a ghost image of the indicator. If the user releases the mouse button when the cursor is in an indicator such as the scroll box, <CODE>HandleControlClick</CODE>
 calls the control definition function to reposition the indicator. </P>
<P CLASS="T1.Text1">
<A NAME="pgfId=121880">
 </A>
While the user holds down the mouse button with the cursor in one of the standard controls, 
<CODE>HandleControlClick</CODE>
 performs the following actions, depending on the value you pass in the parameter <CODE>inAction</CODE>
.</P>
<UL>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=121881">
 </A>
If you pass <CODE>nil</CODE>
 in the <CODE>inAction</CODE>
 parameter, <CODE>HandleControlClick</CODE>
 uses no action function and therefore performs no additional actions beyond highlighting the control or dragging the indicator. This is appropriate for push buttons, checkboxes, radio buttons, and the scroll box of a scroll bar. </LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=121882">
 </A>
If you pass a pointer to an action function in the <CODE>inAction</CODE>
 parameter, it must define some action that your application repeats as long as the user holds down the mouse button. This is appropriate for the scroll arrows and gray areas of a scroll bar.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=121883">
 </A>
If you pass <CODE>(ControlActionUPP)-1L</CODE>
 in the <CODE>inAction</CODE>
 parameter, <CODE>HandleControlClick</CODE>
 looks in the <CODE>contrlAction</CODE>
 field of the control structure for a pointer to the control's action function. This is appropriate when you are tracking the cursor in a pop-up menu. You can call <CODE>GetControlAction</CODE>
 to determine the value of this field, and you can call <A HREF="ControlMgrRef.9.html#33812" CLASS="XRef"><CODE>SetControlAction</A></CODE>
 to change this value. If the <CODE>contrlAction</CODE>
 field of the control structure contains a function pointer, <CODE>HandleControlClick</CODE>
 uses the action function it points to; if the field of the control structure also contains the value <CODE>(ControlActionUPP)-1L</CODE>
, <CODE>HandleControlClick</CODE>
 calls the control definition function to perform the necessary action; you may wish to do this if you define your own control definition function for a custom control. If the field of the control structure contains the value <CODE>nil</CODE>
, <CODE>HandleControlClick</CODE>
 performs no action.</LI>
</UL>
</DIV>
<DIV>
<BLOCKQUOTE><H3 CLASS="NoteHead">
<A NAME="pgfId=259328">
 </A>
Note</H3>
<P CLASS="Note">
<A NAME="pgfId=194268">
 </A>
For <CODE>'CDEF'</CODE>
 resources that implement custom dragging, you usually call <CODE>HandleControlClick</CODE>
, which returns 0 regardless of the user's changes of the control setting. To avoid this, you should use another method to determine whether the user has changed the control setting, for instance, comparing the control's value before and after your call to <CODE>HandleControlClick</CODE>
.</P></BLOCKQUOTE>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=219126">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=219127">
 </A>
Available with Appearance Manager 1.0 and later.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=105164">
 </A>
SEE ALSO</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=105172">
 </A>
<A HREF="ControlMgrRef.b.html#27959" CLASS="XRef"><CODE>MyActionProc</A></CODE>
.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=3838">
 </A>
<A NAME="34113">
 </A>
TrackControl</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=121761">
 </A>
Responds to cursor movements in a control while the mouse button is down.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=232581">
 </A>
When the Appearance Manager is available, call <A HREF="ControlMgrRef.7.html#21975" CLASS="XRef"><CODE>HandleControlClick</A></CODE>
 instead of <CODE>TrackControl</CODE>
 to follow the user's cursor movements in a control and provide visual feedback until the user releases the mouse button. Unlike the <CODE>TrackControl</CODE>
 function, <CODE>HandleControlClick</CODE>
 also accepts modifier key information so that the control may take into account the current modifier key state if the control is set up to handle its own tracking.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=222444">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=222445">
 </A>
Not recommended with Appearance Manager 1.0 and later.
</DIV>

<HR>\xA9 1998 Apple Computer, Inc. &#150 (Last Updated 19 Nov 98)<P><A HREF="ControlMgrRef.2.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="ControlMgrRef.6.html"><img src="images/previous.gif" border="0"></A> <A HREF="ControlMgrRef.8.html"><img src="images/next.gif" border="0"></A> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>

<!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->

</body>
</HTML>
