<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>MyBalloonDef (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING192></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-191.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-193.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-138.html"><B>Chapter 3 - Help Manager</B></A> / <A HREF="MoreToolbox-157.html"><B>Help Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-191.html"><B>Application-Defined Routines</B></A> / <A HREF="MoreToolbox-188.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING192-0></A>
<H3>MyBalloonDef</H3>
 <A NAME=MARKER-2-513></A>Here's a sample declaration for a balloon definition function called <CODE>MyBalloonDef</CODE>.<P>
<PRE>
FUNCTION MyBalloonDef (variant: Integer; theBalloon: WindowPtr; 
                       message: Integer; 
                       param: LongInt): LongInt;
</PRE>
<DL>
<DT><CODE>variant</CODE>
<DD> The variation code used to specify the shape and position of the help balloon. You should use the same relative position for the tip of the <BR>help balloon that the standard variation codes 0 through 7 specify. This ensures that the tip of the help balloon points to the object that the help balloon describes.
<DT><CODE>theBalloon</CODE>
<DD> A pointer to the window of the help balloon.
<DT><CODE>message</CODE>
<DD> Identifies the action your balloon definition function should perform. Your balloon definition function can be sent the same messages as a window definition function, but the only ones your balloon definition function needs to process are the <CODE>wCalcRgns</CODE> and <CODE>wDraw</CODE> messages.
<DT>
<DD> When your balloon definition function receives the <CODE>wCalcRgns</CODE> message, your function should calculate the content region and structure region of the help balloon.
<DT>
<DD> When your balloon definition function receives the <CODE>wDraw</CODE> message, your function should draw the frame of the help balloon.
<DT>
<DD> If you want to process other messages in your balloon definition function (for example, performing any additional initialization), you can also process the other standard <CODE>'WDEF'</CODE> messages.
<DT><CODE>param</CODE>
<DD> As with a window definition function, the value of this parameter depends on the value of the <CODE>message</CODE> parameter. Because this parameter is not used by the <CODE>wCalcRgns</CODE> and <CODE>wDraw</CODE> messages, your balloon definition function should disregard the value of this parameter. 
</DL>
<A NAME=HEADING192-10></A>
<H5>DESCRIPTION</H5>
 Your balloon definition function must define the appearance of the help balloon, which is a special type of window. You can implement your own balloon definition function by writing a window definition function that performs the tasks described in this section. (The standard balloon definition function is of type <CODE>'WDEF'</CODE> with resource ID 126.)<P>
 Your balloon definition function is also responsible for calculating the content region and structure region of the help balloon window and drawing the frame of the help balloon. The content region is the area inside the balloon frame; it contains the help message. The structure region is the boundary region of the entire balloon, including the content area and the pointer that extends from one of the help balloon's corners.<P>
 If you want the Help Manager to use your balloon definition function, you specify its resource ID and the desired variation code either in the <CODE>HMShowBalloon</CODE> function or in the appropriate elements of the <CODE>'hmnu'</CODE>, <CODE>'hdlg'</CODE>, or <CODE>'hrct'</CODE> resource. The Help Manager derives your balloon's window definition ID from its resource ID.<P>
<A NAME=HEADING192-14></A>
<H5>SEE ALSO</H5>
 In the <CODE>variant</CODE> parameter, you should use the same relative position for the tip of the help balloon that the standard variation codes 0 through 7 specify, as illustrated in <BR><A HREF=MoreToolbox-140.html#MARKER-9-48>Figure 3-4 on page 3-9</A>.<P>
 The <CODE>wCalcRgns</CODE> and <CODE>wDraw</CODE> messages are described in the chapter "Window Manager" of <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>.<A NAME=MARKER-2-514></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-191.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-193.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
