<html><head><title>Mac OS X
 Manual Page For ldapsearch(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/ldapsearch" title="Mac OS X
 Manual Page for ldapsearch(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/ldapsearch"; name=ldapsearch(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
LDAPSEARCH(1)                                                                                  LDAPSEARCH(1)



<b>NAME</b>
       ldapsearch - LDAP search tool

<b>SYNOPSIS</b>
       <b>ldapsearch</b>  [<b>-n</b>]  [<b>-u</b>]  [<b>-v</b>]  [<b>-t</b>] [<b>-A</b>] [<b>-L[L[L]]</b>] [<b>-M[M]</b>] [<b>-d</b> <u>debuglevel</u>] [<b>-f</b> <u>file</u>] [<b>-D</b> <u>binddn</u>] [<b>-W</b>]
       [<b>-w</b> <u>passwd</u>]  [<b>-y</b> <u>passwdfile</u>]  [<b>-H</b> <u>ldapuri</u>]  [<b>-h</b> <u>ldaphost</u>]  [<b>-p</b> <u>ldapport</u>]   [<b>-P</b> <u>2</u>|<u>3</u>]   [<b>-b</b> <u>searchbase</u>]
       [<b>-s</b> <u>base</u>|<u>one</u>|<u>sub</u>|<u>children</u>]  [<b>-a</b> <u>never</u>|<u>always</u>|<u>search</u>|<u>find</u>] [<b>-l</b> <u>timelimit</u>] [<b>-z</b> <u>sizelimit</u>] [<b>-O</b> security-<font color="#ffffff" class="whiteout">properties]&nbsp;securityproperties]</font>
       properties<b>]</b> [<b>-I</b>] [<b>-Q</b>] [<b>-U</b> <u>authcid</u>] [<b>-R</b> <u>realm</u>] [<b>-x</b>] [<b>-X</b> <u>authzid</u>] [<b>-Y</b> <u>mech</u>] [<b>-Z[Z]</b>] <u>filter</u> [<u>attrs...</u>]

<b>DESCRIPTION</b>
       <u>ldapsearch</u> is a shell-accessible interface to the <a href="../man3/ldap_search.3.html#//apple_ref/doc/man/3/ldap_search"><b>ldap_search</b>(3)</a> library call.

       <b>ldapsearch</b> opens a connection to an LDAP server, binds, and performs a search using specified parame-<font color="#ffffff" class="whiteout">ters.&nbsp;parameters.</font>
       ters.    The  <u>filter</u> should conform to the string representation for search filters as defined in RFC
       2254.  If not provided, the default filter, (objectClass=*), is used.

       If <b>ldapsearch</b> finds one or more entries, the attributes specified by <u>attrs</u> are  returned.   If  *  is
       listed,  all  user attributes are returned.  If + is listed, all operational attributes are returned.
       If no <u>attrs</u> are listed, all user attributes are returned.  If only 1.1 is listed, no attributes  will
       be returned.

<b>OPTIONS</b>
       <b>-n</b>     Show  what would be done, but don't actually perform the search.  Useful for debugging in con-<font color="#ffffff" class="whiteout">junction&nbsp;conjunction</font>
              junction with -v.

       <b>-u</b>     Include the User Friendly Name form of the Distinguished Name (DN) in the output.

       <b>-v</b>     Run in verbose mode, with many diagnostics written to standard output.

       <b>-t</b>     Write retrieved non-printable values to a set of temporary files.  This is useful for  dealing
              with values containing non-character data such as jpegPhoto or audio.

       <b>-A</b>     Retrieve  attributes  only  (no  values).   This  is  useful  when  you just want to see if an
              attribute is present in an entry and are not interested in the specific values.

       <b>-L</b>     Search results are display in LDAP Data Interchange Format detailed in <a href="../man5/ldif.5.html#//apple_ref/doc/man/5/ldif"><b>ldif</b>(5)</a>.  A  single  -L
              restricts  the output to LDIFv1.  A second -L disables comments.  A third -L disables printing
              of the LDIF version.  The default is to use an extended version of LDIF.

       <b>-M[M]</b>  Enable manage DSA IT control.  <b>-MM</b> makes control critical.

       <b>-S</b> <u>attribute</u>
              Sort the entries returned based on <u>attribute</u>. The default is not to sort entries returned.  If
              <u>attribute</u> is a zero-length string (""), the entries are sorted by the components of their Dis-<font color="#ffffff" class="whiteout">tinguished&nbsp;Distinguished</font>
              tinguished Name.  See <a href="../man3/ldap_sort.3.html#//apple_ref/doc/man/3/ldap_sort"><b>ldap_sort</b>(3)</a> for more details. Note that <b>ldapsearch</b> normally prints  out
              entries  as  it  receives  them.  The  use of the <b>-S</b> option defeats this behavior, causing all
              entries to be retrieved, then sorted, then printed.

       <b>-d</b> <u>debuglevel</u>
              Set the LDAP debugging level to <u>debuglevel</u>.   <b>ldapsearch</b>  must  be  compiled  with  LDAP_DEBUG
              defined for this option to have any effect.

       <b>-f</b> <u>file</u>
              Read a series of lines from <u>file</u>, performing one LDAP search for each line.  In this case, the
              <u>filter</u> given on the command line is treated as a pattern where the first occurrence of  <b>%s</b>  is
              replaced with a line from <u>file</u>.  If <u>file</u> is a single <u>-</u> character, then the lines are read from
              standard input.

       <b>-x</b>     Use simple authentication instead of SASL.

       <b>-D</b> <u>binddn</u>
              Use the Distinguished Name <u>binddn</u> to bind to the LDAP directory.

       <b>-W</b>     Prompt for simple authentication.  This is used instead of specifying the password on the com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
              mand line.

       <b>-w</b> <u>passwd</u>
              Use <u>passwd</u> as the password for simple authentication.

       <b>-y</b> <u>passwdfile</u>
              Use complete contents of <u>passwdfile</u> as the password for simple authentication.

       <b>-H</b> <u>ldapuri</u>
              Specify  <!-- a -->URI(s)<!-- /a -->  referring  to  the  ldap  <!-- a -->server(s)<!-- /a -->;  only  the protocol/host/port fields are
              allowed; a list of URI, separated by whitespace or commas is expected.

       <b>-h</b> <u>ldaphost</u>
              Specify an alternate host on which the ldap server is running.  Deprecated in favor of -H.

       <b>-p</b> <u>ldapport</u>
              Specify an alternate TCP port where the ldap server is listening.  Deprecated in favor of  -H.

       <b>-b</b> <u>searchbase</u>
              Use <u>searchbase</u> as the starting point for the search instead of the default.

       <b>-s</b> <u>base</u>|<u>one</u>|<u>sub</u>|<u>children</u>
              Specify  the  scope  of  the search to be one of <u>base</u>, <u>one</u>, <u>sub</u>, or <u>children</u> to specify a base
              object, one-level, subtree, or children search.  The default is  <u>sub</u>.   Note:  <u>children</u>  scope
              requires LDAPv3 subordinate feature extension.

       <b>-a</b> <u>never</u>|<u>always</u>|<u>search</u>|<u>find</u>
              Specify how aliases dereferencing is done.  Should be one of <u>never</u>, <u>always</u>, <u>search</u>, or <u>find</u> to
              specify that aliases are never dereferenced, always dereferenced, dereferenced when searching,
              or  dereferenced  only  when locating the base object for the search.  The default is to never
              dereference aliases.

       <b>-P</b> <u>2</u>|<u>3</u> Specify the LDAP protocol version to use.

       <b>-l</b> <u>timelimit</u>
              wait at most <u>timelimit</u> seconds for a search to complete.  A timelimit  of  <u>0</u>  (zero)  or  <u>none</u>
              means  no  limit.   A timelimit of <u>max</u> means the maximum integer allowable by the protocol.  A
              server may impose a maximal timelimit which only the root user may override.

       <b>-z</b> <u>sizelimit</u>
              retrieve at most <u>sizelimit</u> entries for a search.  A sizelimit of <u>0</u> (zero)  or  <u>none</u>  means  no
              limit.   A sizelimit of <u>max</u> means the maximum integer allowable by the protocol.  A server may
              impose a maximal sizelimit which only the root user may override.

       <b>-O</b> <u>security-properties</u>
              Specify SASL security properties.

       <b>-I</b>     Enable SASL Interactive mode.  Always prompt.  Default is to prompt only as needed.

       <b>-Q</b>     Enable SASL Quiet mode.  Never prompt.

       <b>-U</b> <u>authcid</u>
              Specify the authentication ID for SASL bind. The form of the ID depends  on  the  actual  SASL
              mechanism used.

       <b>-R</b> <u>realm</u>
              Specify  the  realm  of  authentication ID for SASL bind. The form of the realm depends on the
              actual SASL mechanism used.

       <b>-X</b> <u>authzid</u>
              Specify the requested authorization ID for SASL bind.  <u>authzid</u> must be one  of  the  following
              formats: <b>dn:</b><u>&lt;distinguished</u> <u>name&gt;</u> or <b>u:</b><u>&lt;username&gt;</u>

       <b>-Y</b> <u>mech</u>
              Specify  the  SASL mechanism to be used for authentication. If it's not specified, the program
              will choose the best mechanism the server knows.

       <b>-Z[Z]</b>  Issue StartTLS (Transport Layer Security) extended operation. If you use <b>-ZZ</b>, the command will
              require the operation to be successful.

<b>OUTPUT</b> <b>FORMAT</b>
       If  one  or more entries are found, each entry is written to standard output in LDAP Data Interchange
       Format or <a href="../man5/ldif.5.html#//apple_ref/doc/man/5/ldif"><b>ldif</b>(5)</a>:

           version: 1

           # bjensen, example, net
           dn: uid=bjensen,dc=example,dc=net
           objectClass: person
           objectClass: dcObject
           uid: bjensen
           cn: Barbara Jensen
           sn: Jensen
           ...

       If the -t option is used, the URI of a temporary file is used in place of the actual value.   If  the
       -A option is given, only the "attributename" part is written.

<b>EXAMPLE</b>
       The following command:

           ldapsearch -LLL "(sn=smith)" cn sn telephoneNumber

       will  perform  a  subtree  search  (using  the  default  search  base and other parameters defined in
       <a href="../man5/ldap.conf.5.html#//apple_ref/doc/man/5/ldap.conf"><b>ldap.conf</b>(5)</a>) for entries with a surname (sn) of smith.  The common name (cn), surname (sn) and tele-<font color="#ffffff" class="whiteout">phoneNumber&nbsp;telephoneNumber</font>
       phoneNumber values will be retrieved and printed to standard output.  The output might look something
       like this if two entries are found:

           dn: uid=jts,dc=example,dc=com
           cn: John Smith
           cn: John T. Smith
           sn: Smith
           sn;lang-en: Smith
           sn;lang-de: Schmidt
           telephoneNumber: 1 555 123-4567

           dn: uid=sss,dc=example,dc=com
           cn: Steve Smith
           cn: Steve S. Smith
           sn: Smith
           sn;lang-en: Smith
           sn;lang-de: Schmidt
           telephoneNumber: 1 555 765-4321

       The command:

           ldapsearch -LLL -u -t "(uid=xyz)" jpegPhoto audio

       will perform a subtree search using the default search base for entries with user id of  "xyz".   The
       user  friendly  form of the entry's DN will be output after the line that contains the DN itself, and
       the jpegPhoto and audio values will be retrieved and written to temporary files.   The  output  might
       look like this if one entry with one value for each of the requested attributes is found:

           dn: uid=xyz,dc=example,dc=com
           ufn: xyz, example, com
           audio:&lt; file:///tmp/ldapsearch-audio-a19924
           jpegPhoto:&lt; file:///tmp/ldapsearch-jpegPhoto-a19924

       This command:

           ldapsearch -LLL -s one -b "c=US" "(o=University*)" o description

       will  perform a one-level search at the c=US level for all entries whose organization name (o) begins
       begins with <b>University</b>.  The organization name and description attribute values will be retrieved and
       printed to standard output, resulting in output similar to this:

           dn: o=University of Alaska Fairbanks,c=US
           o: University of Alaska Fairbanks
           description: Preparing Alaska for a brave new yesterday
           description: leaf node only

           dn: o=University of Colorado at Boulder,c=US
           o: University of Colorado at Boulder
           description: No personnel information
           description: Institution of education and research

           dn: o=University of Colorado at Denver,c=US
           o: University of Colorado at Denver
           o: UCD
           o: CU/Denver
           o: CU-Denver
           description: Institute for Higher Learning and Research

           dn: o=University of Florida,c=US
           o: University of Florida
           o: UFl
           description: Warper of young minds

           ...

<b>DIAGNOSTICS</b>
       Exit  status  is  zero  if no errors occur.  Errors result in a non-zero exit status and a diagnostic
       message being written to standard error.

<b>SEE</b> <b>ALSO</b>
       <a href="ldapadd.1.html#//apple_ref/doc/man/1/ldapadd"><b>ldapadd</b>(1)</a>,   <a href="ldapdelete.1.html#//apple_ref/doc/man/1/ldapdelete"><b>ldapdelete</b>(1)</a>,   <a href="ldapmodify.1.html#//apple_ref/doc/man/1/ldapmodify"><b>ldapmodify</b>(1)</a>,   <a href="ldapmodrdn.1.html#//apple_ref/doc/man/1/ldapmodrdn"><b>ldapmodrdn</b>(1)</a>,   <a href="../man5/ldap.conf.5.html#//apple_ref/doc/man/5/ldap.conf"><b>ldap.conf</b>(5)</a>,   <a href="../man5/ldif.5.html#//apple_ref/doc/man/5/ldif"><b>ldif</b>(5)</a>,    <a href="../man3/ldap.3.html#//apple_ref/doc/man/3/ldap"><b>ldap</b>(3)</a>,
       <a href="../man3/ldap_search.3.html#//apple_ref/doc/man/3/ldap_search"><b>ldap_search</b>(3)</a>

<b>AUTHOR</b>
       The OpenLDAP Project &lt;<a href="http://www.openldap.org/">http://www.openldap.org/</a>

<b>ACKNOWLEDGEMENTS</b>
       <b>OpenLDAP</b> is developed and maintained by The OpenLDAP Project (<a href="http://www.openldap.org/)">http://www.openldap.org/)</a>  <b>OpenLDAP</b> is
       derived from University of Michigan LDAP 3.3 Release.



OpenLDAP 2.3.27                                  2006/08/19                                    LDAPSEARCH(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/ldapsearch.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/ldapsearch.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/ldapsearch.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
