<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Software Delivery Guide: Specifying System and Volume Requirements in Pre-Tiger Systems</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Specifying System and Volume Requirements in Pre-Tiger Systems"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/10000145i-CH13" title="Specifying System and Volume Requirements in Pre-Tiger Systems"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../FilesSoftwareInstallation-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000524" target="_top">Files &amp; Software Installation</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/10000145i-CH1-DontLinkElementID_69">Software Delivery Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Remote_Installs/Remote_Installs.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Prebinding/Prebinding.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/10000145i-CH13-SW1" title="Specifying System and Volume Requirements in Pre-Tiger Systems"></a><h1>Specifying System and Volume Requirements in Pre-Tiger Systems</h1><p>JavaScript-based system and volume requirements are not supported on Pre-Tiger systems. To check installation requirements in computers running Mac OS X v10.2 or v10.3, you must use executable-based installation requirements. These installation requirements rely on two executable files that you create and include in an installation package.</p><p>You specify system and volume requirements using executables named <code>InstallationCheck</code> and <code>VolumeCheck</code>, respectively. These executables can be binary files or text-based scripts.</p><p>This chapter shows how to define executable-based installation requirements.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Legacy_Requirements.html#//apple_ref/doc/uid/10000145i-CH13-SW6">Overview of Executable-Based Installation Requirements</a>
				
			<br/>
			
        
			
			
				<a href="Legacy_Requirements.html#//apple_ref/doc/uid/10000145i-CH13-1001988-CHEGAGIH">Strings Files for InstallationCheck and VolumeCheck Denials</a>
				
			<br/>
			
        
			
			
				<a href="Legacy_Requirements.html#//apple_ref/doc/uid/10000145i-CH13-1032302-CHEFBDAB">InstallationCheck Messages</a>
				
			<br/>
			
        
			
			
				<a href="Legacy_Requirements.html#//apple_ref/doc/uid/10000145i-CH13-DontLinkElementID_14">VolumeCheck Messages</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/10000145i-CH13-SW6" title="Overview of Executable-Based Installation Requirements"></a><h2>Overview of Executable-Based Installation Requirements</h2><p>During the installation process, the Installer application invokes <code>InstallationCheck</code> and <code>VolumeCheck</code> when it needs to check system and volume requirements, respectively. See <span class="content_text"><a href="../Managed_Installs/Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-SW10">“The Installation Process”</a></span> for details.</p><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH13-DontLinkElementID_72" title="Note"></a><p><strong>Note:</strong>&nbsp;For executable-based installation requirements to work, the executables must have their executable bit set. PackageMaker does this automatically when it builds a package.</p></div><p>The <code>InstallationCheck</code> executable can use any criteria to allow or disallow an install. It returns a value that tells Installer whether to continue the installation process.</p><p>Similarly, <code>VolumeCheck</code> can use any criteria to accept or reject a volume as a potential installation volume. The return value of <code>VolumeCheck</code> tells Installer whether to allow the user to choose a particular volume as an installation destination.</p><p>In addition to stopping the installation process and disallowing volumes to be chosen as installation volumes, the return values of these executables tell Installer which informational message to display to the user. You use strings files to define these informational messages.</p><a name="//apple_ref/doc/uid/20001943-1001988" title="Strings Files for InstallationCheck and VolumeCheck Denials"></a><a name="//apple_ref/doc/uid/10000145i-CH13-1001988-CHEGAGIH" title="Strings Files for InstallationCheck and VolumeCheck Denials"></a><h2>Strings Files for InstallationCheck and VolumeCheck Denials</h2><p>When <code>InstallationCheck</code> cancels an install or when <code>VolumeCheck</code> disallows a volume to be chosen as the installation volume, the Installer application displays a default message or the message specified by the executable’s return value. To specify your own messages, place the files <code>InstallationCheck.strings</code> and <code>VolumeCheck.strings</code> (for system requirement and volume requirement failure messages, respectively) in a localized directory inside the package’s scripts directory. <span class="content_text">Table A-1</span> shows the directory names for the languages Installer recognizes.</p><a name="//apple_ref/doc/uid/10000145i-CH13-1020628-CHDEFFJF" title="Table A-1Localized directories"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001767-1020628" title="Table A-1Localized directories"></a><strong>Table A-1&nbsp;&nbsp;</strong>Localized directories</caption><tr><td  scope="row"><p><code>Dutch.lproj</code></p></td></tr><tr><td  scope="row"><p><code>English.lproj</code></p></td></tr><tr><td  scope="row"><p><code>French.lproj</code></p></td></tr><tr><td  scope="row"><p><code>German.lproj</code></p></td></tr><tr><td  scope="row"><p><code>Italian.lproj</code></p></td></tr><tr><td  scope="row"><p><code>Japanese.lproj</code></p></td></tr><tr><td  scope="row"><p><code>Spanish.lproj</code></p></td></tr><tr><td  scope="row"><p><code>da.lproj</code></p></td></tr><tr><td  scope="row"><p><code>fi.lproj</code></p></td></tr><tr><td  scope="row"><p><code>ko.lproj</code></p></td></tr><tr><td  scope="row"><p><code>no.lproj</code></p></td></tr><tr><td  scope="row"><p><code>pt.lproj</code></p></td></tr><tr><td  scope="row"><p><code>sv.lproj</code></p></td></tr><tr><td  scope="row"><p><code>zh_CN.lproj</code></p></td></tr><tr><td  scope="row"><p><code>zn_TW.lproj</code></p></td></tr></table></div><p>A strings file defines messages in the following format:</p><div class="codesample"><table><tr><td scope="row"><pre>"&lt;message_ID>" = "&lt;message_string>";<span></span></pre></td></tr></table></div><ul class="simple"><li><p><code>&lt;message_ID></code>: Integer between 16 and 31.</p></li><li><p><code>&lt;message_string></code>: Informational message string.</p></li></ul><p><span class="content_text">Listing A-1</span> and <span class="content_text">Listing A-2</span> show sample <code>InstallationCheck.strings</code> and <code>VolumeCheck.strings</code> files, respectively.</p><a name="//apple_ref/doc/uid/10000145i-CH13-SW2" title="Listing A-1A sample InstallationCheck.strings file"></a><p class="codesample"><a name="//apple_ref/doc/uid/20001943-1002600" title="Listing A-1A sample InstallationCheck.strings file"></a><strong>Listing A-1&nbsp;&nbsp;</strong>A sample <code>InstallationCheck.strings</code> file</p><div class="codesample"><table><tr><td scope="row"><pre>"16" = "Can't install unless you have a Super Drive.";<span></span></pre></td></tr><tr><td scope="row"><pre>"17" = "Can’t install unless you have more than 128MB of RAM.";<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/10000145i-CH13-SW3" title="Listing A-2A sample VolumeCheck.strings file"></a><p class="codesample"><a name="//apple_ref/doc/uid/20001944-1011743" title="Listing A-2A sample VolumeCheck.strings file"></a><strong>Listing A-2&nbsp;&nbsp;</strong>A sample <code>VolumeCheck.strings</code> file</p><div class="codesample"><table><tr><td scope="row"><pre>"16" = "Can't install on volumes named Panther.";<span></span></pre></td></tr><tr><td scope="row"><pre>"17" = "Can’t install on volumes named Jaguar.";<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001943-1032302" title="InstallationCheck Messages"></a><a name="//apple_ref/doc/uid/10000145i-CH13-1032302-CHEFBDAB" title="InstallationCheck Messages"></a><h2>InstallationCheck Messages</h2><p>The <code>InstallationCheck</code> executable returns an integer that the Installer application uses to determine whether to proceed with the installation process or which informational message to display as the reason for canceling the install. To allow the install, return <code>0</code>. To cancel the process, return an integer that specifies the message ID of the localized message to display. This integer, however, must also have bits 5 and 6 set to <code>1</code>.</p><p>For example, to instruct Installer to display message 16, return <code>112</code>. You can use the Calculator application to determine the correct return value for a specific message ID, or compute it in your executable.</p><p><span class="content_text">Table A-2</span> lists the message IDs of the default messages for <code>InstallationCheck</code> failures. If you use these messages, you don’t need to create an <code>InstallationCheck.strings</code> file.</p><a name="//apple_ref/doc/uid/10000145i-CH13-SW4" title="Table A-2Installer default messages for InstallationCheck failures"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001943-1002490" title="Table A-2Installer default messages for InstallationCheck failures"></a><strong>Table A-2&nbsp;&nbsp;</strong>Installer default messages for <code>InstallationCheck</code> failures</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Message ID</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Message string</p></th></tr><tr><td  scope="row"><p><code>1</code></p></td><td ><p>This software cannot be installed on this computer.</p></td></tr><tr><td  scope="row"><p><code>2</code></p></td><td ><p>The software &lt;package_name> cannot be installed on this computer.</p></td></tr><tr><td  scope="row"><p><code>3</code></p></td><td ><p>&lt;package_name> cannot be installed on this computer.</p></td></tr><tr><td  scope="row"><p><code>4</code></p></td><td ><p>An error was encountered while running the InstallationCheck tool for package &lt;package_name>.</p></td></tr></table></div><a name="//apple_ref/doc/uid/10000145i-CH13-DontLinkElementID_14" title="VolumeCheck Messages"></a><h2>VolumeCheck Messages</h2><p>The <code>VolumeCheck</code> executable returns an integer that the Installer application uses to determine whether to allow the user to choose a volume as the installation volume and which informational message to display when the user selects a disallowed volume. Returning <code>0</code> allows the user to identify a volume as the installation volume. When a volume doesn’t meet the volume requirements, the <code>VolumeCheck</code> return value specifies the message ID of the localized message to display when the user selects the volume. This integer, however, must also have bit 5 set to <code>1</code>.</p><p>For example, to disallow a volume and set the message ID of the appropriate message to <code>17</code>, return <code>49</code>. You can use the Calculator application to determine the correct return value for a specific message ID, or compute it in your executable.</p><p><span class="content_text">Table A-3</span> lists the message IDs of the default messages for volumes that fail <code>VolumeCheck</code>. If you use these messages, you don’t need to create a <code>VolumeCheck.strings</code> file.</p><a name="//apple_ref/doc/uid/10000145i-CH13-SW5" title="Table A-3Installer default messages for VolumeCheck failures"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001944-1011359" title="Table A-3Installer default messages for VolumeCheck failures"></a><strong>Table A-3&nbsp;&nbsp;</strong>Installer default messages for <code>VolumeCheck</code> failures</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Message ID</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Message string</p></th></tr><tr><td  scope="row"><p><code>0</code></p></td><td ><p>You cannot install this software on this disk. You are not allowed to install the software on this disk for an unknown reason.</p></td></tr><tr><td  scope="row"><p><code>1</code></p></td><td ><p>You cannot install this software on this disk. Could not find specified message for index 1.</p></td></tr><tr><td  scope="row"><p><code>2</code></p></td><td ><p>You cannot install this software on this disk. An error was encountered while running the VolumeCheck tool for package &lt;package_name>.</p></td></tr></table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Remote_Installs/Remote_Installs.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Prebinding/Prebinding.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-07-24<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Legacy_Requirements/Legacy_Requirements.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Legacy_Requirements/Legacy_Requirements.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Legacy_Requirements/Legacy_Requirements.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>