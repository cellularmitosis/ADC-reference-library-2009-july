<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"> <TITLE> Playing Back a Session</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b> Deploying WebObjects Applications</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="Deploying-41.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-42.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-44.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="FM3Head"><A NAME="pgfId-9062"></A>Playing Back a Session</H1><P CLASS="Body"><A NAME="pgfId-9063"></A>Once you have recorded a session with your application, you can use the <B CLASS="Bold-Body-">Playback</B> command-line tool to simulate users accessing the application. This Java tool is part of the PlaybackManager project, which must be compiled for the tool to exist. </P><P CLASS="Body"><A NAME="pgfId-9064"></A>To play back a recorded session:</P><OL><LI CLASS="BodyNumber1"><A NAME="pgfId-9065"></A>Add the following directory to your CLASSPATH environment variable:</LI><CODE CLASS="CodeEx"><A NAME="pgfId-10018"></A><I CLASS="Italic">NEXT_ROOT</I>/Library/WebObjects/Applications/PlaybackManager.woa/WebServerResources/Java</CODE><LI CLASS="BodyNumber"><A NAME="pgfId-10017"></A>In a separate shell, start the application as you normally would (do <I CLASS="Italic">not</I> use the<B CLASS="Bold-Body-"> -WORecordingPath</B> flag here). When you start the application you can use adaptors or direct connect.</LI><br><LI CLASS="BodyNumber"><A NAME="pgfId-9066"></A>Start the <B CLASS="Bold-Body-">Playback</B> java tool by entering a command similar to the following:</LI><CODE CLASS="CodeEx-last-"><A NAME="pgfId-9067"></A>java com.apple.client.playback.Playback -r /tmp/tape1.rec</CODE><p CLASS="BodyIndented"><A NAME="pgfId-9068"></A>The Playback class must be found in the Java classpath. When the PlayBack Manager project has been compiled, the <B CLASS="Bold-Body-">Playback</B> tool bytecode is in the subdirectory <B CLASS="Bold-Body-">Playback Manager.woa/WebServerResources/Java.</B></p><p CLASS="BodyIndented"><A NAME="pgfId-9069"></A>Alternatively, you can explictly give the class path on the command line, as in this example:</p><CODE CLASS="CodeEx-last-"><A NAME="pgfId-9070"></A>java -classpath &quot;.:$NEXT_ROOT/Library/WebObjects/Applications/PlaybackManager.woa/WebServerResources/Java:`javaconfig DefaultClasspath`&quot; com.apple.client.playback.Playback -r /tmp/tape1.rec</CODE></OL><P CLASS="Body"><A NAME="pgfId-9071"></A>The <B CLASS="Bold-Body-">Playback</B> tool plays the recorded session repeatedly until you explicitly stop it (for example, by pressing Control-C in a command shell window). You can run several instances of the tool at the same time to put more load on the server. To manage multiple instances it's better to use the Playback Manager application.</P><P CLASS="Body"><A NAME="pgfId-9340"></A>If you want, you can specify other options of the <B CLASS="Bold-Body-">Playback</B> tool. The following list describes these options:</P><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9073"></A><B CLASS="Bold-Body-">-h</B> <I CLASS="Italic">hostname</I></H4><P CLASS="DefinText"><A NAME="pgfId-9357"></A>Sets the host to send the requests to (the default is <B CLASS="Bold-Sidebar-">localhost</B>).</P></DIV><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9074"></A> <B CLASS="Bold-Body-">-p</B> <I CLASS="Italic">adaptorPath</I></H4><P CLASS="DefinText"><A NAME="pgfId-9358"></A>Sends requests using the specified adaptor path instead of the recorded URL. For example, suppose you recorded a session using a Netscape server whose cgi-bin directory is named <B CLASS="Bold-Body-">cgi-bin</B> and you want to play it back using the Microsoft Internet Information Server, whose cgi-bin directory is named <B CLASS="Bold-Body-">Scripts</B> and whose adaptor is named <B CLASS="Bold-Body-">WebObjects.dll</B>. Your adaptor path is <B CLASS="Bold-Body-">/Scripts/WebObjects.dll.</B></P></DIV><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9076"></A> <B CLASS="Bold-Body-">-port</B> <I CLASS="Italic">portNumber</I></H4><P CLASS="DefinText"><A NAME="pgfId-9362"></A>Sets the port the requests are sent to (the default is 80).</P></DIV><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9077"></A> <B CLASS="Bold-Body-">-c</B> <I CLASS="Italic">limit</I></H4><P CLASS="DefinText"><A NAME="pgfId-9363"></A>Limits the number of times to repeat the session playback (there is no limit by default).</P></DIV><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9401"></A><B CLASS="Bold-Body-">-s</B> <I CLASS="Italic">sleepTime</I></H4><P CLASS="DefinText"><A NAME="pgfId-9364"></A>Sets the interval between requests in seconds (the default is zero).</P></DIV><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9079"></A> <B CLASS="Bold-Body-">-diff</B> <I CLASS="Italic">percents</I></H4><P CLASS="DefinText"><A NAME="pgfId-9365"></A>Sets the percentage difference between received and recorded response sizes (the default is 5%).</P></DIV><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9080"></A> <B CLASS="Bold-Body-">-d</B></H4><P CLASS="DefinText"><A NAME="pgfId-9379"></A>Turns debugging on.</P></DIV><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9081"></A> <B CLASS="Bold-Body-">-r</B> <I CLASS="Italic">recordingDir</I> </H4><P CLASS="DefinText"><A NAME="pgfId-9380"></A>Sets the recording directory.</P></DIV><DIV><H4 CLASS="DefinList"><A NAME="pgfId-9384"></A><B CLASS="Bold-Body-">-help</B></H4><P CLASS="DefinText"><A NAME="pgfId-9385"></A>Prints a summary of options</P><P CLASS="Body"><A NAME="pgfId-9386"></A>Here is an example of a command beginning a playback session using direct connect:</P><CODE CLASS="CodeEx-last-"><A NAME="pgfId-9084"></A>java -classpath com.apple.client.playback.Playback -d -h mymachine -r /tmp/tape1.rec -port 3456 -diff 20</CODE><P CLASS="Body"><A NAME="pgfId-9738"></A>Additional information on the Playback Manager can be found in <I CLASS="Italic">NEXT_ROOT</I><B CLASS="Bold-Body-">/Library/WebObjects/Applications/PlaybackManager.woa/Resources/ReadMe.html</B>.</P></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 25 August 99)<P><A HREF="Deploying-41.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-42.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-44.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>