<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Keyboards and Input Methods(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING19></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-18.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-20.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-13.html"><B>Chapter 1 - Introduction to Text on the Macintosh</B></A> / <A HREF="Text-14.html"><B>Macintosh Text Overview</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING19-0></A>
<H2>Keyboards and Input Methods</H2>
 <A NAME=MARKER-2-128></A>By means of keyboard input, the user can create text that your application stores as character codes and displays as glyphs. At first glance this may seem a difficult task: your application should be able to handle input from at least 13 different hardware types of Apple keyboards, as listed in the appendix "Keyboard Resources" in this book. Furthermore, it must be able to derive the proper character codes for any writing system from each of the keyboards and recognize the states of the <A NAME=MARKER-9-247></A><B>modifier keys</B> (Shift, Caps Lock, Command, Option, and Control).<A NAME=MARKER-2-164></A><P>
 <A NAME=MARKER-9-50></A>The system software and the<B> keyboard resources</B> make this relatively easy for <BR>you. The Event Manager uses the keyboard resources to convert keypresses into the correct character codes for the current writing system, for whatever keyboard is used. Your application receives the codes directly and needn't keep track of the specific keyboard in use.<P>
 <A NAME=MARKER-2-175></A><A HREF=#MARKER-9-63>Figure 1-7</A> is a simplified view of <B>key translation,</B> the process by which character codes are generated. Each keyboard has a particular physical arrangement of keys, and each keypress generates a value called a<B> <A NAME=MARKER-2-219></A>raw key code,</B> which indicates which key was pressed. The keyboard driver that handles the keypress uses the <A NAME=MARKER-2-157></A><B>key-map resource</B> to map these raw key codes to keyboard-independent<B> <A NAME=MARKER-9-6></A>virtual key codes.</B> It then uses the Event Manager and the<A NAME=MARKER-2-8></A> <B>keyboard-layout resource</B> to convert a virtual key code into a character code, and passes it to your application in the event record generated by the keypress. See <A HREF=Text-33.html#MARKER-9-399>"Keyboards and Key Translation" beginning on page 1-87</A> for a more complete description of key translation; see the Event Manager chapter in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for a description of events and event records.<P>
<B>Figure 1-7  <A NAME=MARKER-9-63></A>Key translation (simplified)<A NAME=MARKER-2-176></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IT_L-03.jpg">
 <B><A NAME=MARKER-9-54></A>Keyboard layout</B> can be considered the overall relationship between the physical arrangement of keys on a keyboard and the glyphs produced when those keys are pressed. It is what the Key Caps desk accessory shows; see <A HREF=#MARKER-9-66>Figure 1-8</A>.<P>
<B>Figure 1-8  <A NAME=MARKER-9-66></A>Key Caps display of Thai keyboard layout (no modifier keys pressed)</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IT_S-05.jpg">
 Changing the physical keyboard, changing the keyboard-layout resource, pressing modifier keys, and changing the font can all change the relationship between keypresses and glyphs. <A HREF=#MARKER-9-67>Figure 1-9</A> is a Key Caps display for the same physical keyboard as that <BR>in <A HREF=#MARKER-9-66>Figure 1-8</A>, but the writing system has been changed from Thai to Cyrillic. For <BR>the purposes of this book, however, the keyboard-layout resource is the critical <BR>item in determining keyboard layout; <I>changing the keyboard layout means changing <BR>the keyboard-layout resource.</I> Because keyboard layouts are independent of the <BR>physical keyboard attached to the computer, your application has the flexibility <BR>of changing text input from one writing system to another by simply using a different keyboard-layout resource.<P>
<B>Figure 1-9  <A NAME=MARKER-9-67></A>Key Caps display of Cyrillic keyboard layout (Caps Lock key pressed)<A NAME=MARKER-2-68></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IT_S-01.jpg">
 <A NAME=MARKER-9-698></A>For languages with large character sets, it is impractical to manufacture keyboards with keys for every possible character. In such a case, it is usually the job of an input method, working in conjunction with a keyboard, to handle text input. An<A NAME=MARKER-2-943></A> <B>input method</B> is a software module, often independent of the application it serves, that converts character codes that can be entered from the keyboard into character codes that cannot. Japanese and Chinese input methods commonly display a small window, into which the user types a sequence of phonetic characters; the input method converts them into one or more ideographic character codes and sends them to the application. A more sophisticated input method is <A NAME=MARKER-2-307></A><B>inline input,</B> in which entry and conversion of text occur directly in the window of the text document being edited. See <A HREF=Text-33.html#MARKER-9-415>"Input Methods" beginning on page 1-91</A> and the chapter "Text Services Manager" in this book for more information on input methods and inline input.<A NAME=MARKER-2-308></A><P>
 <A NAME=MARKER-2-716></A>In most cases, your application does not need to do anything special related to keyboard input. You can use the character codes returned by the Event Manager function <CODE>WaitNextEvent</CODE>--whether generated directly from keypresses or through an input method--and handle the text appropriately for the language being used for input. Remember, however, that keyboard input is independent of text display; it is your responsibility to keep the two synchronized when necessary. If the user switches language for text input, you must switch the language for text display accordingly. The Font Manager and Script Manager provide routines that help you with that; see <A HREF=Text-33.html#MARKER-9-409>"Font and Keyboard Synchronization" beginning on page 1-90</A>, and further discussion in the chapter "Script Manager" in this book.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-18.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-20.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
