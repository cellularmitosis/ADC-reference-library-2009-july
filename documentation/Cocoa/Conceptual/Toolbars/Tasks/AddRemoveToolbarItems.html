<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Toolbar Programming Topics for Cocoa: Adding and Removing Toolbar Items</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Adding and Removing Toolbar Items"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000755" title="Adding and Removing Toolbar Items"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../UserExperience-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000465" target="_top">User Experience</a> &gt; <a href="../index.html" target="_top">Toolbar Programming Topics for Cocoa</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Concepts/HowTBsCreated.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Articles/ToolbarInIB.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20000755-BBCGJCDJ" title="Adding and Removing Toolbar Items"></a><hr /><H1>Adding and Removing Toolbar Items</H1><p>The delegate of an NSToolbar instance is responsible for providing the identifiers specifying the toolbar items that are allowed in a toolbar, as well as the default items visible in a new toolbar.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="AddRemoveToolbarItems.html#//apple_ref/doc/uid/20000755-1048361">Allowed and default toolbar items</a>
				
			<br/>
			
        
			
			
				<a href="AddRemoveToolbarItems.html#//apple_ref/doc/uid/20000755-1050048">Creating new toolbar items when requested</a>
				
			<br/>
			
        
			
			
				<a href="AddRemoveToolbarItems.html#//apple_ref/doc/uid/20000755-1049544">Programmatically inserting and removing toolbar items</a>
				
			<br/>
			
        
			
			
				<a href="AddRemoveToolbarItems.html#//apple_ref/doc/uid/20000755-1049589">Being notified when items are added or removed from the toolbar</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20000755-1048361" title="Allowed and default toolbar items"></a><h2>Allowed and default toolbar items</h2><p>The required delegate method <code>toolbarAllowedItemIdentifiers:</code> returns an array of identifiers specifying the toolbar items that can be displayed by the specified NSToolbar instance. By default, a new toolbar instance does not assume any items are allowed, not even the separator item.</p><p>The example implementation shown in <span class="content_text">Listing 1</span> configures the toolbar to allow a selection of the standard Cocoa toolbar items as well as two application specific toolbar items. The resulting toolbar is shown in <span class="content_text">Figure 1</span>.</p><a name="//apple_ref/doc/uid/20000755-1050312-BBCEGFED" title="Listing 1Example toolbarAllowedItemIdentifiers: method implementation"></a><p class="codesample"><a name="//apple_ref/doc/uid/20000755-1050312" title="Listing 1Example toolbarAllowedItemIdentifiers: method implementation"></a><strong>Listing 1&nbsp;&nbsp;</strong>Example toolbarAllowedItemIdentifiers: method implementation</p><div class="codesample"><table><tr><td scope="row"><pre>- (NSArray *) toolbarAllowedItemIdentifiers: (NSToolbar *) toolbar {<span></span></pre></td></tr><tr><td scope="row"><pre>    return [NSArray arrayWithObjects: SaveDocToolbarItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarPrintItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarShowColorsItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarShowFontsItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarCustomizeToolbarItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarFlexibleSpaceItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarSpaceItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarSeparatorItemIdentifier, nil];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><br/><div><a name="//apple_ref/doc/uid/20000755-1048606-BBCDHJAG" title="Figure 1Example toolbar item configuration "></a><p><a name="//apple_ref/doc/uid/20000755-1048606" title="Figure 1Example toolbar item configuration "></a><strong>Figure 1&nbsp;&nbsp;</strong>Example toolbar item configuration </p><img src = "art/allowed_toolbar_items.gif" alt = "Example toolbar item configuration" width="345" height="75"></div><br/><p>The default set of toolbar items is returned by implementing the required method <code>toolbarDefaultItemIdentifiers:</code>. The implementation is expected to return an array of identifiers containing the specified toolbar's default items. If during the toolbar's initialization no overriding values are found in the user defaults (by having called <code>setAutosavesConfiguration:</code> with <code><a href="../../../Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/YES" target="_top">YES</a></code> as the argument) these items are used as the default set for the toolbar. In addition, if the user chooses to revert to the default toolbar items the set returned by <code>toolbarDefaultItemIdentifiers:</code> will be used.</p><p>The example code in <span class="content_text">Listing 2</span> causes the default items to be configured as shown in <span class="content_text">Figure 2</span>.</p><a name="//apple_ref/doc/uid/20000755-1050240-BBCBBIED" title="Listing 2Example toolbarDefaultItemIdentifiers: method implementation "></a><p class="codesample"><a name="//apple_ref/doc/uid/20000755-1050240" title="Listing 2Example toolbarDefaultItemIdentifiers: method implementation "></a><strong>Listing 2&nbsp;&nbsp;</strong>Example toolbarDefaultItemIdentifiers: method implementation </p><div class="codesample"><table><tr><td scope="row"><pre>- (NSArray *) toolbarDefaultItemIdentifiers: (NSToolbar *) toolbar {<span></span></pre></td></tr><tr><td scope="row"><pre>    return [NSArray arrayWithObjects: SaveDocToolbarItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarPrintItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarSeparatorItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarShowColorsItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarShowFontsItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarFlexibleSpaceItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        NSToolbarSpaceItemIdentifier,<span></span></pre></td></tr><tr><td scope="row"><pre>        SearchDocToolbarItemIdentifier, nil];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><br/><div><a name="//apple_ref/doc/uid/20000755-1048736-BBCCCJGE" title="Figure 2Example toolbar items configuration "></a><p><a name="//apple_ref/doc/uid/20000755-1048736" title="Figure 2Example toolbar items configuration "></a><strong>Figure 2&nbsp;&nbsp;</strong>Example toolbar items configuration </p><img src = "art/default_toolbar_items.gif" alt = "Example toolbar items configuration" width="387" height="40"></div><br/><a name="//apple_ref/doc/uid/20000755-1050048" title="Creating new toolbar items when requested"></a><h2>Creating new toolbar items when requested</h2><p>An implementation of the required method <code>toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:</code> returns an NSToolbarItem instance as specified by the toolbar item identifier. The item may not be immediately added to the toolbar, as this method is also called when the customization sheet is created.</p><p>The example code in <span class="content_text">Listing 3</span> creates a simple NSToolbarItem instance for the application's custom toolbar item, <code>SaveDocToolbarItemIdentifier</code>. This item appears as an icon in the toolbar using the default NSToolbarItem rendering.</p><a name="//apple_ref/doc/uid/20000755-1050068-BBCJCHGD" title="Listing 3A toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar: method implementation to create a simple NSToolbarItem instance"></a><p class="codesample"><a name="//apple_ref/doc/uid/20000755-1050068" title="Listing 3A toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar: method implementation to create a simple NSToolbarItem instance"></a><strong>Listing 3&nbsp;&nbsp;</strong>A <code>toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:</code> method implementation to create a simple NSToolbarItem instance</p><div class="codesample"><table><tr><td scope="row"><pre>- (NSToolbarItem *) toolbar:(NSToolbar *)toolbar<span></span></pre></td></tr><tr><td scope="row"><pre>      itemForItemIdentifier:(NSString *)itemIdentifier<span></span></pre></td></tr><tr><td scope="row"><pre>  willBeInsertedIntoToolbar:(BOOL)flag<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSToolbarItem *toolbarItem = [[[NSToolbarItem alloc] initWithItemIdentifier: itemIdentifier] autorelease];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if ([itemIdentifier isEqual: SaveDocToolbarItemIdentifier]) {<span></span></pre></td></tr><tr><td scope="row"><pre>    // Set the text label to be displayed in the<span></span></pre></td></tr><tr><td scope="row"><pre>    // toolbar and customization palette<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setLabel:@"Save"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setPaletteLabel:@"Save"];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Set up a reasonable tooltip, and image<span></span></pre></td></tr><tr><td scope="row"><pre>    // you will likely want to localize many of the item's properties<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setToolTip:@"Save Your Document"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setImage:[NSImage imageNamed:@"SaveDocumentItemImage"]];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Tell the item what message to send when it is clicked<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setTarget:self];<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setAction:@selector(saveDocument:)];<span></span></pre></td></tr><tr><td scope="row"><pre>    } else  {<span></span></pre></td></tr><tr><td scope="row"><pre>    // itemIdentifier referred to a toolbar item that is not<span></span></pre></td></tr><tr><td scope="row"><pre>    // provided or supported by us or Cocoa<span></span></pre></td></tr><tr><td scope="row"><pre>    // Returning nil will inform the toolbar<span></span></pre></td></tr><tr><td scope="row"><pre>    // that this kind of item is not supported<span></span></pre></td></tr><tr><td scope="row"><pre>    toolbarItem = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    return toolbarItem;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Returning a toolbar item that creates a custom view is somewhat more complicated. In addition to specifying the information required for a simple toolbar item, the application must also explicitly set the view that should be used to draw the item, the minimum size that the view requires to display properly, and the maximum size that the custom toolbar item can be resized.</p><div class="notebox"><a name="//apple_ref/doc/uid/20000755-SW1" title="Note"></a><p><strong>Note:</strong>&nbsp;As of Mac OS X v10.5, if you call <code><a href="../../../Reference/ApplicationKit/Classes/NSToolbarItem_Class/Reference/Reference.html#//apple_ref/occ/instm/NSToolbarItem/setView:" target="_top">setView:</a></code> on an NSToolbarItem object without also calling <code><a href="../../../Reference/ApplicationKit/Classes/NSToolbarItem_Class/Reference/Reference.html#//apple_ref/occ/instm/NSToolbarItem/setMinSize:" target="_top">setMinSize:</a></code> or <code><a href="../../../Reference/ApplicationKit/Classes/NSToolbarItem_Class/Reference/Reference.html#//apple_ref/occ/instm/NSToolbarItem/setMaxSize:" target="_top">setMaxSize:</a></code>, the toolbar item sets its minimum and maximum size equal to the viewâ€™s frame.</p></div><p>One side effect of using a custom view for a toolbar item that must be considered is the case when the toolbar is being displayed as text-only. The default behavior is to display the item's label as disabled text, effectively disabling the toolbar item entirely. A toolbar item can instead specify an NSMenu instance that will be used when the toolbar is displayed in the text-only mode. This menu is also used when a toolbar item that uses a custom view is displayed in a toolbar's overflow menu. </p><p>The example code in <span class="content_text">Listing 4</span> implements the search toolbar item as shown in <span class="content_text"><a href="AddRemoveToolbarItems.html#//apple_ref/doc/uid/20000755-1048606-BBCDHJAG">Figure 1</a></span>.</p><a name="//apple_ref/doc/uid/20000755-1049210-BBCEICBA" title="Listing 4A toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar: method implementation to create an view- based NSToolbarItem instance"></a><p class="codesample"><a name="//apple_ref/doc/uid/20000755-1049210" title="Listing 4A toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar: method implementation to create an view- based NSToolbarItem instance"></a><strong>Listing 4&nbsp;&nbsp;</strong>A <code>toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar</code>: method implementation to create an view- based NSToolbarItem instance</p><div class="codesample"><table><tr><td scope="row"><pre>- (NSToolbarItem *) toolbar:(NSToolbar *)toolbar<span></span></pre></td></tr><tr><td scope="row"><pre>      itemForItemIdentifier:(NSString *)itemIdentifier<span></span></pre></td></tr><tr><td scope="row"><pre>  willBeInsertedIntoToolbar:(BOOL)flag<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSToolbarItem *toolbarItem = [[[NSToolbarItem alloc] initWithItemIdentifier:itemIdentifier] autorelease];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if ([itemIdentifier isEqual: SearchDocToolbarItemIdentifier]) {<span></span></pre></td></tr><tr><td scope="row"><pre>    // Set up the standard properties<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setLabel:@"Search"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setPaletteLabel:@"Search"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setToolTip:@"Search Your Document"];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Use a custom view, a rounded text field,<span></span></pre></td></tr><tr><td scope="row"><pre>    // attached to searchFieldOutlet in InterfaceBuilder as<span></span></pre></td></tr><tr><td scope="row"><pre>    // the custom view<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setView:searchFieldOutlet];<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setMinSize:NSMakeSize(100,NSHeight([searchFieldOutlet frame]))];<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setMaxSize:NSMakeSize(400,NSHeight([searchFieldOutlet frame]))];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create the custom menu<span></span></pre></td></tr><tr><td scope="row"><pre>    NSMenu *submenu=[[[NSMenu alloc] init] autorelease];<span></span></pre></td></tr><tr><td scope="row"><pre>    NSMenuItem *submenuItem=[[[NSMenuItem alloc] initWithTitle: @"Search Panel"<span></span></pre></td></tr><tr><td scope="row"><pre>            action:@selector(searchUsingSearchPanel:)<span></span></pre></td></tr><tr><td scope="row"><pre>            keyEquivalent: @""] autorelease];<span></span></pre></td></tr><tr><td scope="row"><pre>    NSMenuItem *menuFormRep=[[[NSMenuItem alloc] init] autorelease];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    [submenu addItem: submenuItem];<span></span></pre></td></tr><tr><td scope="row"><pre>    [submenuItem setTarget:self];<span></span></pre></td></tr><tr><td scope="row"><pre>    [menuFormRep setSubmenu:submenu];<span></span></pre></td></tr><tr><td scope="row"><pre>    [menuFormRep setTitle:[toolbarItem label]];<span></span></pre></td></tr><tr><td scope="row"><pre>    [toolbarItem setMenuFormRepresentation:menuFormRep];<span></span></pre></td></tr><tr><td scope="row"><pre>    } else {<span></span></pre></td></tr><tr><td scope="row"><pre>    // itemIdentifier referred to a toolbar item that is not<span></span></pre></td></tr><tr><td scope="row"><pre>    // not provided or supported by us or cocoa<span></span></pre></td></tr><tr><td scope="row"><pre>    // Returning nil will inform the toolbar<span></span></pre></td></tr><tr><td scope="row"><pre>    // this kind of item is not supported<span></span></pre></td></tr><tr><td scope="row"><pre>    toolbarItem = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    return toolbarItem;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><div class="notebox"><a name="//apple_ref/doc/uid/20000755-SW2" title="Note"></a><p><strong>Note:</strong>&nbsp;Beginning in Mac OS X v10.5, if you always set a fresh view on the toolbar item in <code><a href="../../../Reference/ApplicationKit/Classes/NSToolbar_Class/Reference/Reference.html#//apple_ref/occ/instm/NSObject/toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:" target="_top">toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:</a></code>, then <code>NSToolbar</code> does not copy that view.  In previous versions of the operating system, <code>NSToolbar</code> would always copy the view when displaying it in the customization palette, using a keyed archiver.</p></div><a name="//apple_ref/doc/uid/20000755-1049544" title="Programmatically inserting and removing toolbar items"></a><h2>Programmatically inserting and removing toolbar items</h2><p>While under most circumstances the user will add and remove items from a toolbar using the customization sheet or the context menu, it is possible to insert and remove items programmatically.</p><p>The method <code>insertItemWithItemIdentifier:atIndex:</code> inserts the item specified by the item identifier at the specified index.</p><p>The method <code>removeItemAtIndex:</code> removes the toolbar item at the specified index.</p><a name="//apple_ref/doc/uid/20000755-1049589" title="Being notified when items are added or removed from the toolbar"></a><h2>Being notified when items are added or removed from the toolbar</h2><p>An <code>NSToolbar</code> delegate can optionally be notified when toolbar items have been added or removed from the toolbar.</p><p>The optional delegate method <code>toolbarWillAddItem:</code> provides notification that a toolbar item is about to be added to the toolbar. The identifier for the toolbar item is contained in the notification's userInfo dictionary under the key <code>@"item"</code>. The typical use for this method is to set the target for a standard toolbar item, such as Print, and perhaps to alter other attributes of the item, such as its tool tip. </p><p>The example code in <span class="content_text">Listing 5</span> sets the target and action for the standard toolbar Print item when the delegate is notified that the item will be added to the toolbar.</p><a name="//apple_ref/doc/uid/20000755-1049645-BBCEBCEH" title="Listing 5An implementation of the toolbarWillAddItem: method to configure an NSToolbarItem before it is added to the toolbar"></a><p class="codesample"><a name="//apple_ref/doc/uid/20000755-1049645" title="Listing 5An implementation of the toolbarWillAddItem: method to configure an NSToolbarItem before it is added to the toolbar"></a><strong>Listing 5&nbsp;&nbsp;</strong>An implementation of the toolbarWillAddItem: method to configure an NSToolbarItem before it is added to the toolbar</p><div class="codesample"><table><tr><td scope="row"><pre>- (void) toolbarWillAddItem:(NSNotification *)notification {<span></span></pre></td></tr><tr><td scope="row"><pre>    NSToolbarItem *addedItem = [[notification userInfo] objectForKey: @"item"];<span></span></pre></td></tr><tr><td scope="row"><pre>    if ([[addedItem itemIdentifier] isEqual: NSToolbarPrintItemIdentifier]) {<span></span></pre></td></tr><tr><td scope="row"><pre>    [addedItem setToolTip:@"Print Your Document"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [addedItem setTarget:self];<span></span></pre></td></tr><tr><td scope="row"><pre>    [addedItem setAction:@selector(myCustomPrintAction:)];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The optional delegate method <code>toolbarDidRemoveItem:</code> provides notification that the toolbar has removed a toolbar item from the toolbar. The identifier for the toolbar item is contained in the notification's userInfo dictionary under the key <code>@"item"</code>. You could use this opportunity to inform the window controller that the data associated with this item is no longer valid. </p><p>The example in <span class="content_text">Listing 6</span> invalidates the application's search string when the search item is removed from the toolbar.</p><a name="//apple_ref/doc/uid/20000755-1049767-BBCJBDGH" title="Listing 6An implementation of the toolbarDidRemoveItem: method that invalidates a value when a toolbar item is removed from the toolbar."></a><p class="codesample"><a name="//apple_ref/doc/uid/20000755-1049767" title="Listing 6An implementation of the toolbarDidRemoveItem: method that invalidates a value when a toolbar item is removed from the toolbar."></a><strong>Listing 6&nbsp;&nbsp;</strong>An implementation of the <code>toolbarDidRemoveItem:</code> method that invalidates a value when a toolbar item is removed from the toolbar.</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)toolbarDidRemoveItem:(NSNotification *)notification {<span></span></pre></td></tr><tr><td scope="row"><pre>    NSToolbarItem *removedItem = [[notification userInfo] objectForKey: @"item"];<span></span></pre></td></tr><tr><td scope="row"><pre>    if ([removedItem itemIdentifier] isEqual:SearchDocToolbarItemIdentifier) {<span></span></pre></td></tr><tr><td scope="row"><pre>    [self invalidateSearchString];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Objects other than the toolbar's delegate can track the adding and removing toolbar items by registering for <code><a href="../../../Reference/ApplicationKit/Classes/NSToolbar_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSToolbarWillAddItemNotification" target="_top">NSToolbarWillAddItemNotification</a></code> and <code><a href="../../../Reference/ApplicationKit/Classes/NSToolbar_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSToolbarDidRemoveItemNotification" target="_top">NSToolbarDidRemoveItemNotification</a></code> notifications explicitly.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Concepts/HowTBsCreated.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Articles/ToolbarInIB.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-02-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/Toolbars/Tasks/AddRemoveToolbarItems.html%3Fid%3D10000109i-4.5&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/Toolbars/Tasks/AddRemoveToolbarItems.html%3Fid%3D10000109i-4.5&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/Toolbars/Tasks/AddRemoveToolbarItems.html%3Fid%3D10000109i-4.5&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
