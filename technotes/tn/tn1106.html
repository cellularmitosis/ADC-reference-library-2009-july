<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 01-05-01 --><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css">   <title>Technical Note TN1106: Update: Borrowed AFP Sessions</title>    <meta name="keywords" content="Mac OS 8 borrowed AFP sessions mounted volume File Manager">    <meta name="Description" content="Technical Note TN1106: This Technical Note shows how to borrowthe session reference number of an AFP volume mounted bythe Macintosh File System. It also shows how to retrieveother information from the file system for a mounted AFPvolume. This revision of the Borrowed AFP Sessions Technoteapplies to systems that are using AppleShare Client 3.7 andlater."><meta name="categories" content="Networking"><meta name="week-posted" content="Feb 24, 1997 - Mar 7, 1997"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002946" title="Update: Borrowed AFP Sessions"></a><A NAME="top"></A><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/Networking/index.html">Networking</a> &gt; <a href="../../technicalnotes/Networking/idxCarbon-date.html">Carbon</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1106</div>
<div id="pageheadsub">Update: Borrowed AFP Sessions</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><center><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left">          <!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                        <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left><!-- begin_toc --><p id="menutext"><A HREF = "#Introduction">Introduction</A><BR>         <BR>         <A HREF = "#ServerVolume">The Server Volume          Information Status Call</A><BR>         <BR>         <A HREF = "#Conclusion">Conclusion</A><BR><BR>          <A HREF="#References">References</a><BR><BR>                              <A HREF="#Downloads">Downloadables</A></p>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left>			<!-- begin_intro_text --><p id="introtext">This Technote shows how to borrow the session reference number of an AFP volume mounted by the Macintosh File System. It also shows how to retrieve other information from the file system for a mountedAFP volume. <I><B>This revision of the Borrowed AFP Sessions Technote applies to systems thatare using AppleShare Client 3.7 and later. Previous versions of theAppleShare client should use the information contained in<BR><A HREF = "../nw/nw_16.html">Technote NW 16</A>.</b></I><BR><BR><B><I>* The updated information is in bold and italic.</i></b></p> <BR><BR><!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [Feb 09 1998]</h3><!-- end_date -->        </td>    </tr></table> <!-- end_header_box --><BR><BR><hr width=500 align=center><BR><BR>          <!-- begin_content --><A NAME="Introduction"></A>          <H2>Introduction</H2><P>The AppleShare Chooser extension allows Macintosh applications toperform almost all volume and file access operations on an AppleTalkFiling Protocol (AFP) file server by translating File Managercommands to their AFP equivalent commands. To access a file server,an application normally calls the File Manager. The File Managercalls the AppleShare external file system (part of the AppleShareChooser extension) which translates the File Manager command into anAFP call. The AppleShare external file system then calls the<I><B>.AFPTranslator</B></I> driver. The <B><I>.AFPTranslator</I></B> driverdelivers the AFP call to the server and returns the reply to theAppleShare external file system. <B><I>The connection to the server canbe either over AppleTalk or TCP/IP depending on the connectiontransport type.</I></B> The AppleShare external file system translatesthe reply data (if any) and returns it to the File Manager whichreturns it to the application. Figure 1 shows the normal flow ofcommands between a Macintosh application and an AFP file server.</P><P><img src="images/tn1106_001.gif" width=355 height=240 align=bottom alt="AFP File Server"><BR><BR><B>Figure 1. Application Using the File Server Through the File Manager</B></P><P>However, there are a few instances for which no equivalent FileManager commands exist to perform operations supported by AFP. Inthose instances, an application must use the <I><B>.AFPTranslator</B></I>driver to access the file server with AFP commands.</P><P>Applications accessing a file server with AFP commands need tohave an open AFP session with the file server. When no sessionexists, the application must use the <B><I>.AFPTranslator</I></B> driver toopen an AFP session with the <CODE>afpLogin</CODE> (and possibly<CODE>afpLoginCont</CODE>) command. However, when an AFP volume on thefile server is already mounted by the Macintosh File System, asession is already open with the file server. If the sessionreference number is retrieved from the .AFPTranslator driver (anotherpart of the AppleShare Chooser extension), that session can be used,<I>with restrictions</I>, to access the file server with AFPcommands. Figure 2 shows the flow of commands when a Macintoshapplication accesses an AFP file server directly through the<I><B>.AFPTranslator</B></I> driver using the session reference numberborrowed from the .AFPTranslator driver.</P><img src="images/tn1106_002.gif" width=451 height=253 align=bottom alt="AFP Translator"><BR><BR><B>Figure 2. Application Using File Server Through the<B><I>.AFPTranslator</I></B> Driver</B><B>with Borrowed Session Reference Number</B><P>The next section of this Technote tells how to get the AFPsession reference number for a mounted AFP volume from the.AFPTranslator driver. It also lists the restrictions you mustobserve when using the borrowed AFP session.</p><BR><P><A HREF="#top">Back to top</A></P><A NAME="ServerVolume"></A><h2>The Server Volume Information Status Call</H2><P>The AppleShare external file system performs the translation ofFile Manager commands to AFP commands and maintains sessions with AFPfile servers. The server volume information (<CODE>AFPSVolInfo</CODE>)status call to the .AFPTranslator driver can be used to retrieveseveral important pieces of information stored by the driver. Theinformation returned by the <CODE>AFPSVolInfo</CODE> status call is:</P><UL TYPE=DISC>    <LI> the AFP version used to open the session with the server. Thislets you know what possible AFP calls can be made with this session.<BR><BR></li><LI> the <I><B>AFP</B></I> session reference number. The session referencenumber is passed to the <I><B>.AFPTranslator</B></I> driver whenever youmake an AFP call.<BR><BR></li><LI> the AFP volume ID number. This is the number you pass to AFPcalls that require the volume ID number.<BR><BR></li><LI> the file server's internet socket address. This is the sameinternet socket address returned by the File Manager<CODE>PBHGetVolParms</CODE> function in the <CODE>vMServerAdr</CODE> field ofthe <CODE>GetVolParmsInfoBuffer</CODE> record. <B><I>It is a pointer to anOTAddress structure.</I></B><BR><BR></li><LI> the user authentication method (UAM) used to establish thesession. This is the same word value returned by the File Manager<CODE>PBHGetLogInInfo</CODE> function in <CODE>ioObjType</CODE> and by theFile Manager <CODE>PBGetVolMountInfo</CODE> function in the<CODE>uamType</CODE> field of the <CODE>AFPVolMountInfo</CODE> record.<BR><BR></li><LI> the user name used to establish the session. This is the samestring returned by the File Manager <CODE>PBHGetLogInInfo</CODE> functionin the string pointed to by <CODE>ioObjNamePtr</CODE> and by the FileManager <CODE>PBGetVolMountInfo</CODE> function as part of the<CODE>AFPData</CODE> field in the <CODE>AFPVolMountInfo</CODE> record (theexact location of the user name in the <CODE>AFPData</CODE> field in the<CODE>AFPVolMountInfo</CODE> record is determined by the<CODE>userNameOffset</CODE> field).<BR><BR></li><LI> the server's volume icon and mask. This is the same 256-byteicon and mask returned by a control call to the disk driver with<CODE>csCode</CODE> = 21.<BR><BR></li><LI> the string displayed by the Finder's Get Info dialog (after theword "Where:"). This is the same string returned by a control call tothe disk driver with <CODE>csCode</CODE> = 21.</li></UL><P>The information list above is returned in a<CODE>GetVolSessInfoRec</CODE> record. The <CODE>GetVolSessInfoRec</CODE>record is defined as follows:</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>GetVolSessInfoRec = RECORD        sessAFPVersion: Integer;           {AFP version number: }                                           {    1 = version 1.1 }                                           {    2 = version 2.0 }                                           {    3 = version 2.1 }                                           <I><B>{    4 = version 2.2 }</B></I>        sessReferenceNumber: Integer;      {<I><B>AFP</B></I> session reference number}        sessAFPVolID: Integer;             {AFP volume identifier}        sessServerAddress: <I><B>OTAddressPtr</B></I>;   {server internet address}        sessUAMType: Integer;              {user authentication method: }                                           {    1 = 'No User Authent' }                                           {    2 = 'Cleartxt Passwrd' }                                           {    3 = 'Randnum Exchange' }                                           {    6 = '2-Way Randnum exchange' }        sessUserNamePtr: StringPtr;        {ptr to user name string}        sessVolIconPtr: Ptr;               {ptr to server volume icon/mask}        sessWhereStringPtr: StringPtr;     {ptr to "where" information string}      END;</pre></TD></TR></TABLE></CENTER><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>WARNING:</B><BR><CODE>sessUserNamePtr</CODE>, <CODE>sessVolIconPtr</CODE>,<I><B><CODE>sessServerAddress</CODE></B></I> , and <CODE>sessWhereStringPtr</CODE>point to data owned by the .AFPTranslator driver. You must copy thatdata into your program variables before using it.</P></TD></TR></TABLE></CENTER><BR><BR><P>The fields in the <CODE>ParamBlockRec</CODE> record used for the<CODE>AFPSVolInfo</CODE> status call to the .AFPTranslator driver aredefined as follows:</P><P>-&gt; 12 <CODE>ioCompletion</CODE> long pointer to completion routine</P><P>&lt;- 16 <CODE>ioResult</CODE> word result code</P><P>-&gt; 24 <CODE>ioRefNum</CODE> word .AFPTranslator reference number</P><P>-&gt; 26 <CODE>csCode</CODE> word always <CODE>AFPSVolInfo</CODE></P><P>-&gt; 28 <CODE>ioMisc</CODE> long pointer to volume's <CODE>VCB</CODE></P><P>-&gt; 32 <CODE>ioBuffer</CODE> long pointer to<CODE>GetVolSessInfoRec</CODE></P><P>-&gt; 36 <CODE>ioReqCount</CODE> long size of data requested</P><P>&lt;- 40 <CODE>ioActCount</CODE> long size of data returned</P><P>&nbsp;</P><P>Here are the detailed descriptions of the parameter block fields:</P><UL TYPE=DISC>    <LI><CODE>ioCompletion</CODE> Longword input pointer: If the<CODE>AFPSVolInfo</CODE> status cell is called asynchronously, this mustbe a pointer to the completion routine or NIL.<BR><BR></li><LI><CODE>ioResult</CODE> Word result value: The result code from thefunction.<BR><BR></li><LI><CODE>ioRefNum</CODE> Word input value: The driver reference number ofthe .AFPTranslator driver.<BR><BR></li><LI><CODE>csCode</CODE> Word input value: Always <CODE>AFPSVolInfo</CODE>(124).<BR><BR></li><LI><CODE>ioMisc</CODE> Longword input pointer: A pointer to the volume'svolume control block (<CODE>VCB</CODE>).<BR><BR></li><LI><CODE>ioBuffer</CODE> Longword input pointer: A pointer to the<CODE>GetVolSessInfoRec</CODE> where the server volume information isreturned.<BR><BR></li><LI><CODE>ioReqCount</CODE> Longword input value: The size of the<CODE>GetVolSessInfoRec</CODE> pointed to by <CODE>ioBuffer</CODE>.<BR><BR></li><LI><CODE>ioActCount</CODE> Longword result value: The size of the datareturned in the <CODE>GetVolSessInfoRec</CODE> pointed to by<CODE>ioBuffer</CODE>.</li></UL><P>The following result codes can be returned by the<CODE>AFPSVolInfo</CODE> status call:</P><UL TYPE=DISC><LI><CODE>noErr </CODE>0 No error.<BR><BR></li><LI><CODE>badUnitErr </CODE>-21 The driver reference number is bad.<BR><BR></li><LI><CODE>unitEmptyErr </CODE>-22 The driver reference number is bad.<BR><BR></li><LI><CODE>notOpenErr </CODE>-28 The driver isn't open.<BR><BR></li><LI><CODE>statusErr </CODE>-18 The driver can't respond to this statuscall.<BR><BR></li><LI><CODE>paramErr </CODE>-50 Either <CODE>ioReqCount</CODE> indicates the<CODE>GetVolSessInfoRec</CODE> record is too small, or the volumespecified by <CODE>ioMisc</CODE> is not owned by the .AFPTranslatordriver.</li></UL><P>The following code shows how to use the <CODE>AFPSVolInfo</CODE>status call to get the server volume information for the volumespecified by its volume reference number.</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>USES      AppleTalk, Files;    CONST      { AFP version numbers }      AFPVer1_1 = 1;  { AFP version 1.1 }      AFPVer2_0 = 2;  { AFP version 2.0 }      AFPVer2_1 = 3;  { AFP version 2.1 }      <B><I>AFPVer2_2 = 4;  { AFP version 2.2 }</I></B>      AFPSVolInfo = 124;  { server volume information call }    TYPE      GetVolSessInfoRec = RECORD          sessAFPVersion: Integer;           {AFP version number}          sessReferenceNumber: Integer;      {<B><I>AFP</I></B> session reference number}          sessAFPVolID: Integer;             {AFP volume identifier}          sessServerAddress: <B><I>OTAddressPtr</I></B>;  {server internet address}          sessUAMType: Integer;              {user authentication method}          sessUserNamePtr: StringPtr;        {ptr to user name string}          sessVolIconPtr: Ptr;               {ptr to server volume icon/mask}          sessWhereStringPtr: StringPtr;     {ptr to "where" information string}        END;    FUNCTION GetVolSessionInfo (theVRefNum: Integer;                 VAR theVolSessInfoRec: GetVolSessInfoRec): OSErr;      CONST        TSigWord = $4244; { HFS volume signature }      VAR        pb: ParamBlockRec;        vcbPtr: QElemPtr;        afpTranslatorRefNum: Integer;        err: OSErr;    BEGIN      { get the .AFPTranslator driver refNum }      err := OpenDriver('.AFPTranslator', afpTranslatorRefNum);      IF err &lt;&gt; noErr THEN        BEGIN { couldn't open the driver }          GetVolSessionInfo := err;          Exit(GetVolSessionInfo);        END;      { find the VCB with the volume reference number }      QHdrPtr(vcbPtr) := GetVCBQHdr;  { pointer to VCB queue header }      vcbPtr := QHdrPtr(vcbPtr)^.qHead;  { pointer to first VCB }      WHILE (vcbPtr &lt;&gt; NIL) DO        BEGIN          IF VCB(vcbPtr^).vcbSigWord = TSigWord THEN { must be HFS volume }            IF VCB(vcbPtr^).vcbVRefNum = theVRefNum THEN              Leave;  { we found the VCB }          vcbPtr := vcbPtr^.vcbQElem.qLink;  { next VCB }        END;      IF (vcbPtr = NIL) THEN        BEGIN  { couldn't find the volume }          GetVolSessionInfo := nsvErr;          Exit(GetVolSessionInfo);        END;      { make the status call to get the volume session info }      WITH pb DO        BEGIN          ioRefNum := afpTranslatorRefNum;          csCode := AFPSVolInfo;          ioMisc := Ptr(vcbPtr);          ioBuffer := @theVolSessInfoRec;          ioReqCount := LongInt(sizeof(GetVolSessInfoRec));        END;      GetVolSessionInfo := PBStatus(@pb, FALSE);    END;    FUNCTION DoGetVolSessionInfo (vRefNum: Integer): OSErr;      VAR        err: OSErr;        myVolSessInfoRec: GetVolSessInfoRec;        myIconHandle: Handle;        myUserName: Str31;        myWhereString: Str255;    BEGIN      err := GetVolSessionInfo(vRefNum, myVolSessInfoRec);      IF err = noErr THEN        BEGIN          WITH myVolSessInfoRec DO            BEGIN              { copy user name into a string variable }              myUserName := sessUserNamePtr^;              { allocate a handle and move the icon into it }              myIconHandle := NewHandle(kLargeIconSize);              IF myIconHandle = NIL THEN                BEGIN                  DoGetVolSessionInfo := MemError;                  Exit(DoGetVolSessionInfo);                END;              BlockMove(sessVolIconPtr, myIconHandle^, kLargeIconSize);              { copy where information string into a string variable }              myWhereString := sessWhereStringPtr^;              { at this point, you can use all of the information just copied }              { from myGetVolSessInfoRec or still in myGetVolSessInfoRec }              DisposHandle(myIconHandle);            END;        END;      DoGetVolSessionInfo := err;    END;</pre></TD></TR></TABLE></CENTER><BR><BR><P><B>Session Borrowing Rules and Restrictions</B> <B>Warning:</B>The restrictions listed in this Note must be observed when yourprogram borrows an AFP session owned by the Macintosh File System.</P><P>There is a good reason why Apple has not documented the<CODE>AFPSVolInfo</CODE> status call in the past. AFP file serversdifferentiate users by their sessions and the AppleShare externalfile system makes certain assumptions about AFP volumes (and theircontents) that it has open. If the session owned by the MacintoshFile System is used improperly, you can confuse the AppleShareexternal file system or the file server. The basic rule you shoulduse when borrowing an AFP session owned by the file system is</P><P>If it can be done with File Manager functions, use the FileManager functions--<I>don't </I>use AFP calls.</P><P>That means you shouldn't open or close volumes, directories,files, or a volume's desktop database, you shouldn't use calls thatrequire a file or desktop database to be open, and you definitelyshould not close the AFP session. If you need to do any of those AFPoperations, you should use the <I><B>.AFPTranslator</B></I> driver to openyour own AFP session with the file server.</P><P>The following is a list of AFP calls that are safe to use with asession borrowed from the file system. For each AFP call, there's andescription of what you can do with the call that you cannot do withthe File Manager functions.</P><UL TYPE=DISC><LI><CODE>afpGetSParms</CODE> This call can be used to retrieve the servertime and the list of server volumes. For each volume, you also candetermine if the volume is password-protected and if the volumecontains Apple II configuration information.<BR><BR></li><LI><CODE>afpSetVolParms</CODE> This call can be used to set the backupdate of a volume.<BR><BR></li><LI><CODE>afpChangePassword</CODE> This call can be used to change theuser's password.<BR><BR></li><LI><CODE>afpGetUserInfo</CODE> This call can be used to retrieve thespecified user's user ID or primary group ID.<BR><BR></li><LI><CODE>afpGetSrvrMsg</CODE> This call can be used to retrieve thecurrent greeting message or server message. This call is onlysupported by AFP 2.1 servers. Note: the server message may not beapplicable to the user.<BR><BR></li><LI><CODE>afpMiscUserCommand</CODE> reserved for developer use. SeeTechnote #323, "Arbitrating Use of afpMiscUserCommand andafpMiscUserWrite."<BR><BR></li><LI><CODE>afpMiscUserWrite</CODE> reserved for developer use. SeeTechnote #323, "Arbitrating Use of afpMiscUserCommand andafpMiscUserWrite."<BR><BR></li></UL><P>The list continues. However, these calls should be used only whenyou need to retrieve or set information (such as ProDOS information)that is inaccessible through File Manager functions.</P><UL TYPE=DISC>    <LI><CODE>afpEnumerate</CODE> This call can be used to list the contentsof a directory when either ProDOS information or specific file ordirectory attribute information is needed. For all other purposes,the File Manager's <CODE>PBGetCatInfo</CODE> function should be used.<BR><BR></li><LI><CODE>afpGetVolParms</CODE> This call can be used to retrieve theparameters for a particular server volume. For most purposes, theFile Manager's <CODE>PBHGetVInfo</CODE> function should be used instead.<BR><BR></li><LI><CODE>afpSetDirParms</CODE> This call can be used to set parametersfor a specified directory when either ProDOS information or specificdirectory attribute information must be set. For all other purposes,the File Manager's <CODE>PBSetCatInfo</CODE> function should be used.<BR><BR></li><LI><CODE>afpSetFileParms</CODE> This call can be used to set parametersfor a specified file when either ProDOS information or specific fileattribute information must be set. For all other purposes, the FileManager's <CODE>PBSetCatInfo</CODE> function should be used.<BR><BR></li><LI><CODE>afpGetFlDrParms</CODE> This call can be used to retrieve theparameters for a specified file or directory when either ProDOSinformation or specific file or directory attribute information isneeded. For all other purposes, the File Manager's<CODE>PBGetCatInfo</CODE> function should be used.<BR><BR></li><LI><CODE>afpSetFlDrParms</CODE> This call can be used to set parametersfor a specified file or directory when either ProDOS information orspecific file or directory attribute information must be set. For allother purposes, the File Manager's <CODE>PBSetCatInfo</CODE> functionshould be used.<BR><BR></li></UL><P>If the AppleShare 3.0 (or later) Chooser extension is used withSystem 6, you can make the following AFP 2.1 calls to an AFP 2.1 fileserver. These calls are not supported by the System 6 File Manager.</P><UL TYPE=DISC>    <LI><CODE>afpGetSrvrMsg</CODE> See description in list above.<BR><BR></li><LI><CODE>afpCreateID</CODE> This call can be used to create a unique fileID for a specified file.<BR><BR></li><LI><CODE>afpDeleteID</CODE> This call can be used to invalidate allinstances of the specified file&nbsp;ID.<BR><BR></li><LI><CODE>afpResolveID</CODE> This call can be used to return information(including the file location) of the specified file ID.<BR><BR></li><LI><CODE>afpExchangeFiles</CODE> This call can be used to exchange thecontents of two files on a server volume.<BR><BR></li><LI><CODE>afpCatSearch</CODE> This call can be used to search a volume forfiles or folders that match specified criteria.</li></UL>   <BR><P><A HREF="#top">Back to top</A></P><A NAME="Conclusion"></A><H2>Conclusion</H2><P>The <CODE>AFPSVolInfo</CODE> status call to the .AFPTranslator driverreturns useful information for developers who need to access an AFPfile server in ways not supported by the Macintosh File System.However, the restrictions lists in this note must be observed toprevent problems on the client Macintosh or the AFP file server.</p>     <BR><P><A HREF="#top">Back to top</A></P><A NAME="References"></A><H2>References</H2>   <p> Inside Macintosh, Volume V, The AppleTalk Manager</p>      <p> <A HREF = "../nw/nw_15.html"><B><I>M.NW.afpMiscUserCommand</I></B></A></p>      <p> Inside AppleTalk, Second Edition, AppleTalk Filing Protocol</p>      <p> AppleShare 3.0 Developer's Kit, AppleTalk Filing Protocol   Version 2.1</p>              <BR><P><A HREF="#top">Back to top</A></P>        <A NAME="Downloads"></A>         <br><h2>Downloadables</h2>        <TABLE BORDER=0 CELLPADDING=3 WIDTH="600">          <TR>             <td width=50 align=left>               <P ALIGN=center><img src="images/acrobatsmall.gif" align=middle alt="Acrobat" width=22 height=23></P>            </TD>            <td align="left">               <p>Acrobat version of this Note (164K).</P>            </TD>            <td width=60 align=left>               <p><A HREF="pdf/tn1106.pdf">Download</A></P>            </TD>          </TR>        </TABLE><BR><BR>   <BR><P><A HREF="#top">Back to top</A></P>        </td></tr></table></center><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1106.html%3Fid%3DDTS10002946-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1106.html%3Fid%3DDTS10002946-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1106.html%3Fid%3DDTS10002946-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>