<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PostEvent(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING67></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-66.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-68.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-28.html"><B>Chapter 2 - Event Manager</B></A> / <A HREF="Toolbox-43.html"><B>Event Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-49.html"><B>Event Manager Routines</B></A> / <A HREF="Toolbox-64.html"><B>Sending Events</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING67-0></A>
<H3>PostEvent</H3>
 <A NAME=MARKER-11-432></A><A NAME=MARKER-2-433></A>The Toolbox Event Manager uses the <CODE>PostEvent</CODE> function to post events into the Operating System event queue. In most cases your application should not call the <CODE>PostEvent</CODE> function.<P>
<PRE>
FUNCTION PostEvent (eventNum: Integer; eventMsg: LongInt): OSErr;
</PRE>
<DL>
<DT><CODE>eventNum</CODE>
<DD> A value that indicates the type of event to post into the Operating System event queue. The types of events that can be posted in this queue are represented by these constants: <CODE>mouseDown</CODE>, <CODE>mouseUp</CODE>, <CODE>keyDown</CODE>, <CODE>keyUp</CODE>, <CODE>autoKey</CODE>, and <CODE>diskEvt</CODE>. Do not attempt to post any other type of event in the Operating System event queue.
<DT><CODE>eventMsg</CODE>
<DD> A long integer that contains the contents of the <CODE>message</CODE> field for the event that <CODE>PostEvent</CODE> should post in the queue.
</DL>
<A NAME=HEADING67-5></A>
<H5>DESCRIPTION</H5>
 In the <CODE>eventNum</CODE> and <CODE>eventMsg</CODE> parameters, you specify the value for the <CODE>what</CODE> and <CODE>message</CODE> fields of the event's event record. The <CODE>PostEvent</CODE> function fills out the <CODE>when</CODE>, <CODE>where</CODE>, and <CODE>modifiers</CODE> fields of the event record with the current time, current mouse location, and current state of the modifier keys and mouse button.<P>
 The <CODE>PostEvent</CODE> function posts only events that are enabled by the system event mask. If the event queue is full, <CODE>PostEvent</CODE> removes the oldest event in the queue and posts the new event.<P>
 Note that if you use <CODE>PostEvent</CODE> to repost an event, the <CODE>PostEvent</CODE> function fills out the <CODE>when</CODE>, <CODE>where</CODE>, and <CODE>modifier</CODE> fields of the event record, giving these fields of the reposted event different values from the values contained in the original event.<P>
<DL>
<DT><B>WARNING</B>
<DD><A NAME=MARKER-9-434></A>Do not post any events other than mouse-down, mouse-up, key-down, key-up, auto-key, and disk-inserted events in the Operating System event queue. Attempting to post other events into the Operating <BR>System event queue interferes with the internal operation of the <BR>Event Manager. <EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
<A NAME=HEADING67-10></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 <DFN>You must set up register A0 with the event code and register D0 with the event <BR>message before invoking <CODE>PostEvent. When PostEvent returns, register D0 <BR>contains the result code.</CODE></DFN>
<TABLE BORDER="0" CELLPADDING=3><TH colspan=2>Registers on entry  <TR>
<TD>A0<TD>Event number (low-order word)<TR>
<TD>D0<TD>Event message (long)</TABLE>
 
<TABLE BORDER="0" CELLPADDING=3><TH colspan=2>Registers on exit<TR>
<TD>D0<TD>Result code (low-order word)</TABLE>
<P>
<A NAME=HEADING67-12></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>evtNotEnb<TD>1<TD>Event type not valid--event not posted <A NAME=MARKER-2-527></A><TR>
<TD>noErr<TD>0<TD>No error</TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-66.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-68.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
