<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Using a Texture Map Alpha Channel</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=58970"> </A>Using a Texture Map Alpha Channel</H1><P CLASS="T1.Text1"><A NAME="pgfId=58971"> </A><A NAME="marker=59158"> </A>Texture maps whose pixel type is either <TT CLASS="cv">kQAPixel_ARGB16</TT> or <TT CLASS="cv">kQAPixel_ARGB32</TT> contain an alpha channel value for each pixel in the map. You can use the alpha channel value to control the transparency of an object on a pixel-by-pixel basis, or you can use the alpha channel value as a blend matte that exposes only certain portions of an image.</P><P CLASS="T1.Text1"><A NAME="pgfId=58976"> </A>To use the alpha channel to control transparency, you should set the drawing engine's transparency blending mode to <TT CLASS="cv">kQABlend_Premultiply</TT>. (You specify an engine's transparency blending mode by assigning a value to its <TT CLASS="cv">kQATag_Blend</TT> state variable.) For pixels of type <TT CLASS="cv">kQAPixel_ARGB16</TT>, the alpha channel value occupies bit 15; when the value is 1, the pixel is opaque; when the value is 0, the pixel is completely transparent. For pixels of type <TT CLASS="cv">kQAPixel_ARGB32</TT>, the alpha channel value occupies bits 31 through 24; when the value is 255, the pixel is opaque; when the value is 0, the pixel is completely transparent.</P><P CLASS="I.Important"><A NAME="pgfId=59030"> </A>The <TT CLASS="cv">kQABlend_Premultiply</TT> transparency model assumes that the diffuse color of a pixel has been premultiplied by the alpha channel value. As a result, every pixel of the texture map must be premultiplied by its associated alpha channel value before you create the texture map by calling <TT CLASS="cv">QATextureNew</TT>. </P><P CLASS="T1.Text1"><A NAME="pgfId=58943"> </A>Note that the specular highlight is unaffected by the diffuse transparency of an object. As a result, setting an object's alpha channel value to 0 when using the <TT CLASS="cv">kQABlend_Premultiply</TT> transparency blending mode does not cause the object to vanish. The specular highlight is still rendered.<A NAME="marker=59159"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=59091"> </A><A NAME="marker=59160"> </A><A NAME="marker=59157"> </A>To use the alpha channel as a <B CLASS="bold">blend matte</B> to cut out certain portions of a rendered object, you should set the drawing engine's transparency blending mode to <TT CLASS="cv">kQABlend_Interpolate</TT>. If the alpha channel value of all pixels in an object is 0, neither the object nor its specular highlight is rendered. This effectively eliminates the object from the rendered image.</P><P CLASS="I.Important"><A NAME="pgfId=59134"> </A>The <TT CLASS="cv">kQABlend_Interpolate</TT> transparency model assumes that the diffuse color of a pixel has <I CLASS="italics">not</I> been premultiplied by the alpha channel value. This multiplication is performed by the blending operation. </P><P CLASS="T1.Text1"><A NAME="pgfId=59089"> </A>The <TT CLASS="cv">kQABlend_Interpolate</TT> blending mode cannot render a transparent surface as accurately as the <TT CLASS="cv">kQABlend_Premultiply</TT> mode, because the specular highlight is scaled by the alpha value. In some cases, you can compensate for this behavior by increasing the brightness of the specular highlight.<A NAME="marker=59161"> </A></P><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>