<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Data Browser Programming Guide: Data Browser Concepts</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Data Browser Concepts"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TBD" title="Data Browser Concepts"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../UserExperience-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000465" target="_top">User Experience</a> &gt; <a href="../databrowser_intro/databrowser_intro.html#//apple_ref/doc/uid/TP30000968-CH205-TPXREF101">Data Browser Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../databrowser_intro/databrowser_intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../databrowser_tasks/databrowser_tasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TBD-TPXREF101" title="Data Browser Concepts"></a><h1>Data Browser Concepts</h1><p>This section provides definitions for key concepts needed to understand and use the data browser API. It contains information on the following topics:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJBJBHD">“The Data Browser User Interface.”</a></span> Provides a description of list and column views and shows a variety of implementations that call out the use of such things as disclosure triangles, placards, icons with text, relevance ranking, and date-time information. </p></li><li class="li"><p><span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJEBJFJ">“How the Data Browser Works.”</a></span> Discusses how data is identified in each view, how your application specifies the identifying values, the tasks performed by callbacks you supply, how a view gets populated with data, the view hierarchy, and the types of data you can display.</p></li></ul>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJBJBHD">The Data Browser User Interface</a>
				
			<br/>
			
        
			
			
				<a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJEBJFJ">How the Data Browser Works</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TBD-BAJBJBHD" title="The Data Browser User Interface"></a><h2>The Data Browser User Interface</h2><p>The data browser can present data in two different kinds of displays—list view and column view. List view displays data in a list with one or more columns. A simple list with four columns—Title, Time, Genre, and My Rating—is shown in <span class="content_text">Figure 1-1</span>.</p><br/><div><a name="//apple_ref/doc/uid/TBD-BAJHCBBD" title="Figure 1-1Data displayed in a list view data browser"></a><p><strong>Figure 1-1&nbsp;&nbsp;</strong>Data displayed in a list view data browser</p><img src = "../art/simplelist.gif" alt = "Data displayed in a list view data browser" width="410" height="193"></div><br/><p>A list can display hierarchically arranged data, as shown in <span class="content_text">Figure 1-2</span>. A disclosure triangle next to an item indicates that the item is a container. The user can open and close a container by clicking its disclosure triangle.</p><br/><div><a name="//apple_ref/doc/uid/TBD-BAJGCHDF" title="Figure 1-2Hierarchical data displayed in a list view data browser"></a><p><strong>Figure 1-2&nbsp;&nbsp;</strong>Hierarchical data displayed in a list view data browser</p><img src = "../art/hierlist2.gif" alt = "Hierarchical data displayed in a list view data browser" width="460" height="172"></div><br/><p>A list can be set up to provide the user with the option to move the columns, as shown in <span class="content_text">Figure 1-3</span>. This example shows the user dragging the My Rating column so it is positioned between the Title column and the Time column.</p><br/><div><a name="//apple_ref/doc/uid/TBD-BAJEHHIE" title="Figure 1-3A list with movable columns"></a><p><strong>Figure 1-3&nbsp;&nbsp;</strong>A list with movable columns</p><img src = "../art/move2.gif" alt = "A list with movable columns" width="404" height="188"></div><br/><p>List view can also support sorting, as shown in <span class="content_text">Figure 1-4</span>. The triangle to the right of a column title indicates whether the current sorting order is ascending or descending. In the figure, the sorting order is descending. The user can change the sorting order by clicking the column title. </p><br/><div><a name="//apple_ref/doc/uid/TBD-BAJFGJDF" title="Figure 1-4A sortable column"></a><p><strong>Figure 1-4&nbsp;&nbsp;</strong>A sortable column</p><img src = "../art/sort.gif" alt = "A sortable column" width="401" height="178"></div><br/><p>Column view provides in-place browsing using fixed navigation columns. <span class="content_text">Figure 1-5</span> shows the same data that is displayed in <span class="content_text">Figure 1-4</span>, but in column view. Column view is typically used to navigate to items in a data hierarchy, while list view is used to find out information about a specific data item. The Finder is an example of an application that can display data in either list view or column view.</p><br/><div><a name="//apple_ref/doc/uid/TBD-BAJCIIIH" title="Figure 1-5Data displayed using column view"></a><p><strong>Figure 1-5&nbsp;&nbsp;</strong>Data displayed using column view</p><img src = "../art/columns.gif" alt = "Data displayed using column view" width="323" height="133"></div><br/><p>A data browser can display various types of data. The list view data browser in <span class="content_text">Figure 1-6</span> shows checkboxes, icons, text, dates, and relevance indicators, but a data browser can also display pop-up menus and progress indicators. </p><br/><div><a name="//apple_ref/doc/uid/TBD-BAJDHGJF" title="Figure 1-6A list view data browser that displays a variety of data"></a><p><strong>Figure 1-6&nbsp;&nbsp;</strong>A list view data browser that displays a variety of data</p><img src = "../art/db_features.gif" alt = "A list view data browser that displays a variety of data" width="391" height="213"></div><br/><p>Other options available in a data browser include:</p><ul class="ul"><li class="li"><p>Displaying items as active or inactive</p></li><li class="li"><p>Providing a placard, similar to that shown in the lower left of the window in <span class="content_text">Figure 1-6</span></p></li><li class="li"><p>Using items that are aliases</p></li></ul><a name="//apple_ref/doc/uid/TBD-BAJEBJFJ" title="How the Data Browser Works"></a><h2>How the Data Browser Works</h2><p>This section describes how the data browser works and provides information you need to know before you begin to write any code. You’ll find out:</p><ul class="ul"><li class="li"><p>How list and column views are implemented and the impact that has on the functions available in the API</p></li><li class="li"><p>How the data browser refers to data, including the assumptions it makes about the data you want to display</p></li><li class="li"><p>The callbacks you can provide and what the most important callbacks—item-data and item-notification—handle</p></li><li class="li"><p>How a data browser gets populated with data</p></li><li class="li"><p>What types of data can be displayed by the data browser</p></li></ul><a name="//apple_ref/doc/uid/TBD-TPXREF117" title="How Views are Implemented"></a><h3>How Views are Implemented</h3><p>The data browser implementation is object oriented. Its views—list and column—are derived from the table view class, as shown in <span class="content_text">Figure 1-7</span>. Although there isn’t a user interface for table view, the data browser API defines a number of table-view functions, most of which can be used with list view and some of which can be used with column view. </p><br/><div><a name="//apple_ref/doc/uid/TBD-BAJBJBDC" title="Figure 1-7Column and list views are subclasses of table view"></a><p><strong>Figure 1-7&nbsp;&nbsp;</strong>Column and list views are subclasses of table view</p><img src = "../art/classes.gif" alt = "Column and list views are subclasses of table view" width="230" height="70"></div><br/><p>The API contains sets of functions that format and set attributes for the data browser and other sets of functions that get, set, or operate on the displayed data. Although the formatting can be set up programmatically, it’s easier to set up the initial look and behavior of the data browser graphically using Interface Builder.</p><a name="//apple_ref/doc/uid/TBD-BAJCEECG" title="Referring to Data"></a><h3>Referring to Data</h3><p>An <strong>item</strong> in a data browser refers to the data displayed at a particular row and column intersection. Two values are associated with each item—an item ID and a property ID.</p><p>Keep in mind that the data browser displays data; it does not store data. It the responsibility of your application to store data and to supply data to the data browser when requested. Your application stores all data and sets up item IDs to refer to your stored data. </p><p>An <strong>item ID</strong> is a unique 32-bit value that your application uses to refer to data. When you ask the data browser to display one or more items in a data browser, you provide an item ID for each data item. You can store the actual data in memory, on disk, or across a network. The data browser passes item IDs to the appropriate callback to get information about properties of the data items and to signal your application to provide the data associated with an item ID. Item IDs must be greater than 0. (Zero is reserved for use as the data browser constant <code>kDataBrowserNoItem</code>.) Item IDs can be pointer values, data file offsets, and 32-bit TCP/IP host addresses. </p><p>Item IDs are position independent—they specify data, not its specific position, in the data browser. The constant <code>kDataBrowserNoItem</code> is an API-defined item ID used by the data browser to mean none of the item IDs currently stored in the data browser.</p><p>Item IDs have slightly different interpretations in column view and in list view. In list view, an item ID refers to a row of data. In column view, an item ID refers to one entry in a column. In list view, to refer to an entry in a cell (a column, row intersection), you must supply the item ID as well as a property ID.</p><p>A <strong>property ID</strong> is a nonzero, 32-bit unsigned integer value that uniquely identifies a list view column. Property IDs do not need to be ordered or sequential, but they cannot be values 0 through 1023 because those values are reserved by Apple. A property ID is typically defined as a four-character sequence. For example, a column that displays dates could be assigned the property ID <code>DATE</code>. </p><p>Columns in column view don’t use application-defined property IDs. Instead, they have the predefined property <code>kDataBrowserItemSelfIdentityProperty</code>. </p><p><span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-CJBDHGBD">Figure 1-8</a></span> shows item IDs and property IDs in list and column view. Take a look at the song “Who Invented The Wheel.” List view displays the song title and its three attributes—time (length of song), genre, and a listener-assigned rating. Every attribute in this row has the same item ID—the value 16. This value is assigned by the application. The song title is an item that is uniquely identified by its item ID (<code>16</code>) and its property ID (<code>kMyTitleColumn</code>). The genre data for the song “Who Invented The Wheel” is uniquely identified by its item ID (<code>16</code>) and its property ID (<code>kMyGenreColumn</code>).</p><p>Data items in column view are uniquely identified by an item ID. In the case of columns, the property ID is always <code>kDataBrowserItemSelfIdentityProperty</code>, so it’s really the item ID that is the distinguishing value for an item. Compare the song title “Who Invented The Wheel” in list and column views. In each case the song title has the same item ID. But for list view the property ID is <code>kMyTitleColumn</code> whereas for column view it is the generic <code>kDataBrowserItemSelfIdentityProperty</code>. </p><br/><div><a name="//apple_ref/doc/uid/TBD-CJBDHGBD" title="Figure 1-8An item is data at a row, column intersection"></a><p><strong>Figure 1-8&nbsp;&nbsp;</strong>An item is data at a row, column intersection</p><img src = "../art/referencingitems.gif" alt = "An item is data at a row, column intersection" width="496" height="397"></div><br/><a name="//apple_ref/doc/uid/TBD-TPXREF118" title="Callbacks and the Data Browser "></a><h3>Callbacks and the Data Browser </h3><p>The data browser relies on callbacks provided by your application to take care of any tasks that relate to the displayed data, including populating the data browser with data. At a minimum, you must supply an <strong>item-data callback</strong> that responds to requests for data; this is the main path of communication between the data browser and your application. Without a callback to respond data requests, the data browser is not able to display and update your data. In all cases except for the simplest list-view data browser, you also need to supply an <strong>item notification callback</strong> to respond to messages sent to your application from the data browser. Messages are generated by the data browser in response to a changed condition in the browser. You’ll see how to write an item-data (<code>DataBrowserItemDataProcPtr</code>) and item-notification (<code>DataBrowserItemNotificationWithItemProcPtr</code>) callbacks in <span class="content_text"><a href="../databrowser_tasks/databrowser_tasks.html#//apple_ref/doc/uid/TP30000968-CH206-TPXREF101">“Data Browser Tasks.”</a></span></p><p>You can optionally set up callbacks to:</p><ul class="spaceabove"><li class="li"><p>Compare items for the purpose of sorting them</p></li><li class="li"><p>Support drag and drop</p></li><li class="li"><p>Provide a contextual menu in the data browser</p></li><li class="li"><p>Provide help tags</p></li><li class="li"><p>Control how custom items are drawn, tracked, and dragged. See <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJEJCIH">“What Can Be Displayed”</a></span> for more information on custom items.</p></li></ul><p>You can find more information about using the optional callbacks in <span class="content_text"><a href="../databrowser_tasks/databrowser_tasks.html#//apple_ref/doc/uid/TP30000968-CH206-TPXREF101">“Data Browser Tasks”</a></span> and in <em><a href="../../../Reference/databrow_reference/index.html#//apple_ref/doc/uid/TP30000969" target="_top">Data Browser Reference</a></em>. But right now let’s focus on the two most important callbacks you need to use—the item-data and item-notification callbacks.</p><a name="//apple_ref/doc/uid/TBD-CJBIHGCF" title="The Item-Data Callback"></a><h4>The Item-Data Callback</h4><p>The purpose of an item-data callback is to respond to data requests. The data browser sends an item ID and a property to the item-data callback. In response, your callback provides the data associated with the property. Properties are either the API-defined properties shown in <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BEIIGCIC">Table 1-1</a></span> or a four-character sequence that you assign to represent a column in list view. </p><p>Your callback responds only to the properties that it makes sense to respond to for your application. <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BEIIGCIC">Table 1-1</a></span> provides some guidance. For example, if the browser you create doesn’t display hierarchical data, then you don’t need to respond to the properties that support hierarchical data.</p><a name="//apple_ref/doc/uid/TBD-BEIIGCIC" title="Table 1-1Properties you can respond to in an item-data callback"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 1-1&nbsp;&nbsp;</strong>Properties you can respond to in an item-data callback</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Properties</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Respond to this . . .</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Provide</p></th></tr><tr><td  scope="row"><p><code>kDataBrowserItemIsActiveProperty</code></p></td><td ><p>when items can be active or inactive</p></td><td ><p><code>Boolean</code>; default <code>true</code></p></td></tr><tr><td  scope="row"><p><code>kDataBrowserItemIsSelectableProperty</code></p></td><td ><p>to support item selection </p></td><td ><p><code>Boolean</code>; default <code>true</code></p></td></tr><tr><td  scope="row"><p><code>kDataBrowserItemIsEditableProperty</code></p></td><td ><p>to support editing items</p></td><td ><p><code>Boolean</code>; default <code>false</code></p></td></tr><tr><td  scope="row"><p><code>kDataBrowserItemIsContainerProperty</code></p></td><td ><p>to support display of hierarchical data</p></td><td ><p><code>Boolean</code>; default <code>false</code></p></td></tr><tr><td  scope="row"><p><code>kDataBrowserItemParentContainerProperty</code></p></td><td ><p>to support display of hierarchical data</p></td><td ><p>item ID for parent</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerIsOpenableProperty</code></p></td><td ><p>to report whether a container in a hierarchical list can be opened</p></td><td ><p><code>Boolean</code>; default <code>true</code></p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerIsClosableProperty</code></p></td><td ><p>to report whether a container in a hierarchical list can be closed</p></td><td ><p><code>Boolean</code>; default <code>true</code></p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerIsSortableProperty</code></p></td><td ><p>to report whether a container in a hierarchical list can be sorted</p></td><td ><p><code>Boolean</code>; default <code>true</code></p></td></tr><tr><td  scope="row"><p><code>kDataBrowserItemSelfIdentityProperty</code></p></td><td ><p>to display data in column view</p></td><td ><p>data to display</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerAliasIDProperty</code></p></td><td ><p>to report whether a container is an alias or symbolic link to some other container</p></td><td ><p><code>DataBrowserItemID</code></p></td></tr></table></div><p>You respond to an application-defined property by providing the data displayed for that item. Recall that application-defined properties are relevant only to list view, because you use them to distinguish one column in list view from another. For example, in <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-CJBDHGBD">Figure 1-8</a></span>, the song “Who Invented the Wheel” has four application-defined properties—each associated with a column, Title, Time, Genre, and MyRating. You define a four character sequence for each property—such as, <code>'NAME'</code>, <code>'TIME'</code>, <code>'GENR</code>', and <code>'RATE'</code>. When the data browser passes your item-data callback an item ID and one of these four properties, you supply the data to display in the column. For example, for the data shown in <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-CJBDHGBD">Figure 1-8</a></span>, if your item-data callback receives an item ID equal to <code>16</code> and the <code>GENR</code> property, you’d supply <code>Country</code> as the data. </p><a name="//apple_ref/doc/uid/TBD-TPXREF119" title="The Item-Notification Callback"></a><h4>The Item-Notification Callback</h4><p>The purpose of an item-notification callback is to respond to messages, as appropriate. The data browser sends an item ID and a message to your item-notification callback. The messages, shown in <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BEIGGAFF">Table 1-2</a></span>, inform your application of changes to the state of your browser. You take action when it makes sense to do so for your application. For example, when a container is opened, you add items to the display by calling the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code>.</p><a name="//apple_ref/doc/uid/TBD-BEIGGAFF" title="Table 1-2Messages sent by the data browser to the item-notification callback"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 1-2&nbsp;&nbsp;</strong>Messages sent by the data browser to the item-notification callback</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Notification</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Sent when . . .</p></th></tr><tr><td  scope="row"><p><code>kDataBrowserItemAdded</code></p></td><td ><p>An item is added to the data browser</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserItemRemoved</code></p></td><td ><p>An item is removed from the data browser</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserEditStarted</code></p></td><td ><p>A text editing session is started for an item</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserEditStopped</code></p></td><td ><p>A text editing session is stopped for an item</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserItemSelected</code></p></td><td ><p>An item is added to the selection set</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserItemDeselected</code></p></td><td ><p>An item is removed from the selection set</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserDoubleClicked</code></p></td><td ><p>The user double clicks an item</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerOpened</code></p></td><td ><p>A container is opened</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerClosing</code></p></td><td ><p>A container is in the process of closing; at the start of the close operation.</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerClosed</code></p></td><td ><p>A container is closed, after the close operation.</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerSorting</code></p></td><td ><p>A container is about to be sorted.</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserContainerSorted</code></p></td><td ><p>A container is sorted.</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserUserStateChanged</code></p></td><td ><p>The user reformats the view for the target. For example, the user changes a sorting order or a column width.</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserSelectionSetChanged</code></p></td><td ><p>The selection set is modified.</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserTargetChanged</code></p></td><td ><p>The target changes to the specified item.</p></td></tr><tr><td  scope="row"><p><code>kDataBrowserUserToggledContainer</code></p></td><td ><p>The user toggles a container (opened or closed) by clicking a disclosure triangle. This does not get sent if the container is programmatically opened or closed through one of the routines in the Data Browser API.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TBD-TPXREF120" title="How a Data Browser Gets Populated With Data"></a><h3>How a Data Browser Gets Populated With Data</h3><p>To populate the data browser with data, your application can call these functions: <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code> and <code>SetDataBrowserTarget</code>. In response to each of these functions, the data browser invokes your item-data and item-notification callbacks, sending the callbacks a variety of data requests or messages. In this section, you’ll take a behind-the-scenes look at the requests and messages the data browser sends for these three scenarios:</p><ul class="spaceabove"><li class="li"><p>Calling the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code> to populate a simple list view data browser</p></li><li class="li"><p>Calling the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code> to populate a hierarchical list view data browser</p></li><li class="li"><p>Calling the function <code>SetDataBrowserTarget</code> to populate a column view data browser</p></li></ul><a name="//apple_ref/doc/uid/TBD-CJBCEGAI" title="Adding Items to a Simple List View"></a><h4>Adding Items to a Simple List View</h4><p>You add items to a simple list of nonhierarchical data, similar to that shown in <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJHCBBD">Figure 1-1</a></span> by calling the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code>. When you implement a simple list you need only to supply an item-data callback. You don’t need an item-notification callback. You’ll see exactly how to write an item-data callback in <span class="content_text"><a href="../databrowser_tasks/databrowser_tasks.html#//apple_ref/doc/uid/TP30000968-CH206-BAJCJJJH">“Displaying Data in a Simple List View.”</a></span></p><p>After you call the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code>, the data browser invokes your item-data callback to find out whether the items to be added are active, and then to obtain the data to display for each item. As you add each item, the data browser:</p><ol class="ol"><li class="li"><p>Sends a request for the active property for the item. The data browser passes you an item ID and the API-defined property <code>kDataBrowserItemIsActiveProperty</code>. If data in the list can be active or inactive, you can respond to this request by setting the active state of the item using the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/SetDataBrowserItemDataBooleanValue" target="_top">SetDataBrowserItemDataBooleanValue</a></code>. If items are always active, you don’t need to respond to the request.</p></li><li class="li"><p>Sends a request for data you want displayed in each column of the list. The data browser passes you an item ID and an application-defined property that specifies the column. You must respond to this request by calling the appropriate function for setting the data.</p></li></ol><p>To populate a simple list with the six rows of data shown in <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJHCBBD">Figure 1-1</a></span>, the data browser would invoke your item-data callback to fetch data as needed. Each time the data browser needs data, it sends a request for the active property followed by a request for data. </p><a name="//apple_ref/doc/uid/TBD-TPXREF121" title="Adding Items to a Hierarchical List View"></a><h4>Adding Items to a Hierarchical List View</h4><p>To display hierarchical data, you must provide both an item-data callback and an item-notification callback. The data browser populates a list of hierarchical data similar to the way it populates a simple list, but there is a message and an additional data request sent to your callbacks. See <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJGCHDF">Figure 1-2</a></span> for an example of such a list. When you call the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code>, the data browser:</p><ol class="ol"><li class="li"><p>Sends a message for each item ID provided to the list, to the item-notification callback informing you the item is added (<code>kDataBrowserItemAdded</code> ).</p></li><li class="li"><p>Sends a request for the active property for the item. The data browser passes you an item ID and the API-defined property <code>kDataBrowserItemIsActiveProperty</code>. If data in the list can be active or inactive, you can respond to this request by setting the active state of the item using the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/SetDataBrowserItemDataBooleanValue" target="_top">SetDataBrowserItemDataBooleanValue</a></code>. If items are always active, you don’t need to respond to the request.</p></li><li class="li"><p>Sends a request for data you want displayed for that item. The data browser passes you an item ID and an application-defined property that specifies the column. You must respond to this request by calling the appropriate function for setting the data.</p></li><li class="li"><p>The data browser sends a request to check whether the item is a container (<code>kDataBrowserItemIsContainerProperty</code>)</p></li><li class="li"><p>Repeats steps 2 through 4 for each application-defined property of each item ID.</p></li></ol><a name="//apple_ref/doc/uid/TBD-TPXREF122" title="Setting a Target for a Column View"></a><h4>Setting a Target for a Column View</h4><p>You can populate a column view data browser, similar to that shown in <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJCIIIH">Figure 1-5</a></span>, by calling the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/SetDataBrowserTarget" target="_top">SetDataBrowserTarget</a></code>. You can set the target to any item in the hierarchy to have the data browser open with that item selected. When you call the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/SetDataBrowserTarget" target="_top">SetDataBrowserTarget</a></code>, the data browser:</p><ol class="ol"><li class="li"><p>Sends a request to your item-data callback for the container property for the target item (<code>kDataBrowserItemIsContainerProperty</code>).</p></li><li class="li"><p>If the target item is a container, sends a container-opened message (<code>kDataBrowserItemContainerOpened</code>) to your item-notification callback. You respond by calling the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code>, supplying the items that are in the container. This function call sets off the requests and messages described previously in <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-CJBCEGAI">“Adding Items to a Simple List View”</a></span> for the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code>.</p><p>If the target item is not a container, sends a request to your item-data callback to get the parent of the item (<code>kDataBrowserItemParentContainerProperty</code>). </p></li></ol><p>The next set of steps describe what happens for a target item after you supply the item ID of the target’s parent:</p><ol class="ol"><li class="li"><p>Sends a container-opened message (<code>kDataBrowserContainerOpened</code>) to your item-notification callback. You callback responds by supplying the items in the container by calling the function <code><a href="../../../Reference/databrow_reference/Reference/reference.html#//apple_ref/doc/c_ref/AddDataBrowserItems" target="_top">AddDataBrowserItems</a></code>.</p></li><li class="li"><p>After all items in the target’s parent container are added, the data browser sends a request for the is-sortable-property (<code>kDataBrowserItemIsSortableProperty</code>) to you item-data callback. If you don’t respond to this request, the data browser assumes the items in the container are sortable. If the container is sortable, the data browser invokes your item-compare callback if you supply one (see <span class="content_text"><a href="../databrowser_tasks/databrowser_tasks.html#//apple_ref/doc/uid/TP30000968-CH206-BEIGIFID">“Sorting Items”</a></span> ). Otherwise, it uses its built-in sorting routing.</p></li><li class="li"><p>If it is sortable, sends a container-sorting message (<code>kDataBrowserItemContainerSorting</code>) followed by a container-sorted message (<code>kDataBrowserItemContainerSorted</code>) to your item-notification callback.</p></li><li class="li"><p>Sends a target-changed message (<code>kDataBrowserTargetChanged</code>) to your item-notification callback.</p></li></ol><a name="//apple_ref/doc/uid/TBD-BAJEJCIH" title="What Can Be Displayed"></a><h3>What Can Be Displayed</h3><p>The data browser API defines several display types that your application uses to designate the kind of data shown in a column. For these predefined types, the data browser automatically handles a number of tasks, such as drawing the item. If you prefer to draw the items and provide custom behavior, you can use a custom type. </p><p>Each display type is listed below. Only icon and text can be used for a column view data browser. All display types can be used for a list view data browser.</p><ul class="spaceabove"><li class="li"><p><strong>Text</strong>. Columns with the display type <code>kDataBrowserTextType</code> display text in list view. For an example of a column that displays text, see <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJEHHIE">Figure 1-3</a></span>.</p></li><li class="li"><p><strong>Icon and text</strong>. Columns with the display type <code>kDataBrowserIconAndTextType</code> display an icon with text next to it in list or column view. Your application provides the icon to draw in a cell and the text to draw next to the icon. For an example of a column that displays icon and text, see <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJCIIIH">Figure 1-5</a></span>.</p></li><li class="li"><p><strong>Icon</strong>. Columns with the display type <code>kDataBrowserIconType</code> display icons in list view. Your application provides the icon to draw in a cell. You can also provide other drawing information such as color and an icon transformation type.</p></li><li class="li"><p><strong>Date and time</strong>. Columns with the display type <code>kDataBrowserDateTimeType</code> can display values, in list view, returned by the date and time utilities routines. Time can be displayed as a relative time value (Today, Yesterday, and so forth) or absolute. For an example of a column that displays time, see <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJDHGJF">Figure 1-6</a></span>.</p></li><li class="li"><p><strong>Checkboxes</strong>. Columns created with the display type <code>kDataBrowserCheckboxType</code> display checkboxes in list view. Checkboxes can be shown in three states—on, off, or mixed. To allow users to change the checkbox setting, your application sets the flag <code>kDataBrowserPropertyIsEditable</code>. For an example of a column that displays checkboxes, see <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJDHGJF">Figure 1-6</a></span>.</p></li><li class="li"><p><strong>Progress indicators</strong>. Columns with the display type <code>kDataBrowserProgressBarType</code> can show progress indicators in list view. The appearance of a progress indicator is defined by minimum, maximum, and current values.</p></li><li class="li"><p><strong>Relevance indicators</strong>. Columns with the display type <code>kDataBrowserRelevanceRankType</code> display relevance indicators in list view. The appearance of a relevance indicator is defined by minimum, maximum, and current values. For an example of a column that displays relevance indicators, see <span class="content_text"><a href="databrowser_concepts.html#//apple_ref/doc/uid/TBD-BAJDHGJF">Figure 1-6</a></span>.</p></li><li class="li"><p><strong>Pop-up menus</strong>. Columns with the display type <code>kDataBrowserPopupMenuType</code> display pop-up menus in list view. Your application provides the menu and sets the value of the menu item to display. To allow a user to choose menu items, your application sets the flag <code>kDataBrowserPropertyIsEditable</code>.</p></li><li class="li"><p><strong>Custom</strong>. Columns with the display type <code>kDataBrowserCustomType</code> display data, in list view, for which your application provides the routines needed to display the data and support custom behavior for tasks such as dragging or tracking.</p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../databrowser_intro/databrowser_intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../databrowser_tasks/databrowser_tasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-08-07<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/display_databrowser/databrowser_concepts/databrowser_concepts.html%3Fid%3DTP30000968-1.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/display_databrowser/databrowser_concepts/databrowser_concepts.html%3Fid%3DTP30000968-1.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/display_databrowser/databrowser_concepts/databrowser_concepts.html%3Fid%3DTP30000968-1.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>