<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"        "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd"><HTML><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><meta name="keywords" content="NuBus power limits"><meta name="Description" content="Technical Note HW18: This Technical Note discusses a veryreal power  limit for NuBus(TM) expansion cards and warnsdevelopers to heed this limit lest they want users trashingtheir machines by overextending the Macintosh power supply."><title>Technical Note HW18: NuBus Power Allocation</title><meta name="categories" content="Hardware"><meta name="week-posted" content="Sep 25, 1989 - Oct 6, 1989"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"><a name="//apple_ref/doc/uid/DTS10002487" title="NuBus Power Allocation"></a><a name="top"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxHardwareDrivers-date.html">Hardware & Drivers</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="../../referencelibrary/HardwareDrivers/index.html" target="_blank">Reference Library > Hardware & Drivers</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note HW18</div>
<div id="pageheadsub">NuBus Power Allocation</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->                     <P id = "menutext">         <A HREF="#Section1">Click-Click Mode?</A><BR><BR>          <A HREF="#Section2">What's Allowed and Why</A><BR><BR>          <A HREF="#Section3">But I Need the Power...</A><BR><BR>           <A HREF="#Section4">Don't Get Flamed</A><BR><BR> <A HREF="#References">References</A><BR><BR>          <A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --> <P id = "introtext">This Technical Note discusses a very real power limit for NuBus(TM) expansioncards and warns developers to heed this limit lest they want users trashingtheir machines by overextending the Macintosh power supply.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Oct 01 1989]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR><!-- begin_content --><a name="Section1"></a><h2>Click-Click Mode?</h2><p><i>Designing Cards and Drivers for the Macintosh</i> clearly states that allowedpower per NuBus slot is 13.9 watts (pg. 6-6).  That is 2 amps at 5 volts, 0.175amps at 12 volts, and 0.15 amps at -12 volts.  If your Nubus card requires morethan this allocation, then you need to make sure that users do not fill all oftheir Nubus slots.  A good rule of thumb is that if users can fill all of theirslots with your card and the machine is still able to boot, then you are okay.If the machine goes into click-click mode, then you need to make sure thatusers cannot fill their slots.  Click-click mode is a safety feature of theMacintosh power supply.  The Macintosh is trying to start the machine andfinding that the power requirements are greater than it can handle.  Theproblem is that the power supply is not getting far enough into the startupprocedure to turn itself off, so it keeps trying to turn itself on.  The onlyway out of this mode is to pull the plug.</p><a name="Section2"></a><P><A HREF="#top">Back to top</A></P><h2>What's Allowed and Why</h2><p>Following are a few scenarios which might cause major heart problems for a user(these stories are fictional, and the names have been made generic to protectthe innocent).</p><P align=center><img src="images/hw_18_001.gif" alt="" width=280 height=121></p><p>This first scenario ends with a power requirement which exceeds the allowedpower by 1.6 watts.  The result of this over requirement can cause some verynasty results.  Even if the machine could work, there is no guarantee to covera thermal problem.  The Macintosh was designed with the assumption that therewould only be a need to dissipate 83.4 watts of NuBus power.  If the machinemust dissipate more than 83.4 watts of NuBus power, then it is possible thatyou might start burning chips.</p><p>An even worse scenario considers a fully loaded Macintosh IIcx.  It is a loteasier to load up a IIcx, since the IIcx has half as many slots as the II and apower limit of 41.7 watts.  This second scenario demonstrates a lesshigh-powered user with a IIcx.</p><P align=center><img src="images/hw_18_002.gif" alt="" width=288 height=85></p><p>In the second case, the machine is overdrawn by 3.3 watts.  You may think thatthis is not a reasonable list of power requirements, but the reality of thepower requirements is not the point.  The point is that card developers mustput forth an effort to protect the users, or we all look very bad when thesilicon starts to melt.  It is not very favorable to have our users burning uptheir machines because a NuBus card needed more power than it was allowed.</p><p>The wattage which a card requires is not the entire problem.  It is possible tostay within the 13.9 watt limit and still have problems.  You must also staywithin the amperage limit for each voltage.  You cannot just assume that sinceyou are not using the 12 and -12 volts that you can use 2.78 amps of 5 volts(13.9 watts); the Macintosh power supply was not designed to convert 12 voltpower allocation to 5 volt when it is needed.  Scenario three presents anexample of a Macintosh II which is filled with cards that are within thewattage limit, but that exceed the amperage limit.</p><p align=center><img src="images/hw_18_003.gif" alt="" width=416 height=125></p><p>Under normal conditions, the Macintosh II power supply can handle up to 12 ampsat 5 volts.  In the third scenario the NuBus cards are drawing 14.34 amps.Half of the cards are within the limit, but the other cards are not, and theresult is a Macintosh which goes click-click.</p><a name="Section3"></a><P><A HREF="#top">Back to top</A></P><h2>But I Need the Power...</h2><p>Now that we've told you not to take more power than you are allowed, we aregoing to give you a way out.  We understand that it is impossible to fit withinthis power budget with some types of NuBus cards; if your card contains aprocessor, or worse, a lot of RAM, then you are going to run into the powerallocation very quickly.  In the rare case when you do need to consume thepower of multiple slots, then you really must make absolutely sure that theslot or slots next to your card are not used.</p><p>The first possible solution is simply blocking off the slot or slots next toyour board.  You can build a device which extends out of your card to preventthe user from inserting other cards in the adjoining slot or slots.  Thefirst slot to cover is the one on the component side of your card, thusallowing increased air flow on the side of your card which is most likely alittle warm.  This method, however, is not necessarily the method of choice.One of the problems with this method is that the power allocation is not partof the NuBus specification, it is a Macintosh-specific limit.  It is alwayspossible that this limit will be raised on future machines, and you do not wantto implement this solution on machines where the problem is not a problem.  Thesecond solution is a bit cleaner than the first; however, it also has thepotential for a similar problem with future machines.</p><p>The second solution is to design your card as a multiple-card implementationand have an internal bus which connects the two cards with ribbon cables oranother type of connector.  The benefits to this solution are a guarantee thatusers physically cannot put more cards in their systems than the power supplycan handle and you get additional real estate with which to play.</p><p>A third, and perhaps simpler, solution is to ship a slot cover with your card.You can ask users to install the cover over the slot next to your card (ormultiple slots if necessary).  This cover should keep the user frominadvertently using the slot while not forcing the loss of a slot in any futuremachine with an increased power budget.  This route would require anexplanation and visible warning in the documentation; however, if the users donot heed your warning, then they cannot very well blame you for their clickingMacintosh (they will probably blame us).</p><p>These solutions are not the only ones which exist, but we haven't thought ofany other great ideas.  The main goal is to provide a method which protectsusers from overextending their machines.  If you can devise such a method, thenmore power to you (well, not really).</p><P><A HREF="#top">Back to top</A></P><a name="Section4"></a><h2>Don't Get Flamed</h2><p>So the moral (what's that) of the story is that you need to put yourself intothe shoes of your users (but don't try it literally).  If they burn up ourcomputers or find themselves in click-click mode because a NuBus card got alittle greedy, then they are going to be very upset, and that is something thatboth Apple and third-party developers need to work very hard to prevent.  Ifyou "need" the extra power, then you must make absolutely sure that users arenot going to get burned by your NuBus card.</p><P><A HREF="#top">Back to top</A></P><a name="References"></a><h2>References</h2><P>Designing Cards and Drivers for the Macintosh</p><P>IEEE Standard for a Simple 32-Bit Backplane Bus: NuBus</p><P>Technical Note M.HW.NuBusDesign - <A HREF = "hw_17.html">NuBus Physical Designs - Beware</a></p><P>NuBus is a trademark of Texas Instruments</p><P><A HREF="#top">Back to top</A></P><P><A NAME=Downloads></A></P>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (128K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/hw_18.pdf">Download</A></P>               </TD>            </TR></table><BR><P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/hw/hw_18.html%3Fid%3DDTS10002487-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/hw/hw_18.html%3Fid%3DDTS10002487-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/hw/hw_18.html%3Fid%3DDTS10002487-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --><hr width=500 align=center></BODY></HTML>