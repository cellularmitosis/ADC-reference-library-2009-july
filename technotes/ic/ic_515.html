<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"    "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd"><HTML><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note IC515: PPC Toolbox Q&amp;As</title><meta name="keywords" content="Mac OS 8 PPCToolbox Apple Event Manager PPCEnd PPCClose"><meta name="Description" content="Technical Note IC515: This Technical Note contains a collectionof archived Q&amp;As relating to the PPC Toolbox--questions sentthe Developer Support Center (DSC) along with answers fromthe DSC engineers. Archived Q&amp;As include: The PPC Toolboxand its use of AppleTalk protocol layers; When PPCEnd shouldbe called instead of PPCClose; Can the PPCToolbox be usedto create a Guest session."><meta name="categories" content="Interapplication Communication"><meta name="week-posted" content="Oct 1, 1990 - Oct 5, 1990"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"><a name="//apple_ref/doc/uid/DTS10002518" title="PPC Toolbox Q&As"></a><a name="top"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxCarbon-date.html">Carbon</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Carbon/idxInterapplicationCommunication-date.html" target="_blank">Carbon > Interapplication Communication</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note IC515</div>
<div id="pageheadsub">PPC Toolbox Q&amp;As</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->										<p id="menutext">                  <A HREF="#Section1">PPC Toolbox and its use of AppleTalk protocol layers</A><BR><BR>                  <A HREF="#Section2">Call PPCEnd before PPCClose</A><BR><BR>                  <A HREF="#Section3">Apple events and user authentication</A><BR><BR><A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext">This Technical Note contains a collection of archived Q&amp;As relating to a specific topic--questions sent the Developer Support Center (DSC) along with answers from the DSC engineers. Current Q&amp;As can be found on the <a href="../../qa/index.html">Macintosh Technical Q&amp;As web site</a>.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Oct 01 1990]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR>          <!-- begin_content --><a name="Section1"></a><h2>PPC Toolbox and its use of AppleTalk protocol layers</h2><p>Date Written:  6/21/91</p><p>Last reviewed:  11/6/91</p><p>Can I use the PPC Toolbox's program linking dialog interface via the <code>PPCBrowser</code>function with AppleTalk protocols such as ADSP, ATP, and DDP? If not, can Iaccess the ADSP data structures used by the PPC Toolbox?</p><p>___</p><p>The <code>PPCBrowser</code> function is for use by applications that use the PPC Toolbox,high-level events, or Apple events (high-level events and Apple events dependon the services of the PPC Toolbox). The <code>PPCBrowser</code> uses the functions<code>GetZoneList</code>, <code>PLookupName</code>, and <code>IPCListPorts</code> to fill the AppleTalk Zones,Macintoshes, and Programs lists in the program linking dialog. Since the<code>IPCListPorts</code> function returns a list of <code>PPCPorts</code> at a particular location, itisn't useful for AppleTalk protocols and thus, makes the <code>PPCBrowser</code> functionunsuitable for use with AppleTalk protocols which don't have <code>PPCPorts</code>associated with them. It's fairly easy for an application to create a browsingdialog for AppleTalk protocols that has two lists, one for zones found with<code>GetZoneList</code> and one for entity names found with <code>PLookupName</code>. See the "dmz"example on the Macintosh System Software 7 Golden Master CD for example codethat builds two such lists.</p><p>Although the PPC Toolbox currently uses ADSP as the transport mechanism tocommunicate with other Macintosh systems, the ADSP structures used by the PPCToolbox aren't accessible for good reason: The transport mechanism used by thePPC Toolbox could change in the future to support other transport mechanismsbesides ADSP. (On the local machine, PPC transfers the data directly,circumventing ADSP.) If you really need to use ADSP in a way that the PPCToolbox does not, then you should skip the PPC Toolbox and use ADSP directly.</p><a name="Section2"></a><h2>Call PPCEnd before PPCClose</h2><p>Date Written:  9/3/91</p><p>Last reviewed:  8/1/92</p><p>Before closing a PPC port with PPCClose, is it necessary to call <code>PPCEnd</code> for my open sessions?</p><p>___</p><p>It isn't always necessary to call <code>PPCEnd</code> before closing a PPC port. Calling<code>PPCClose</code> by itself will invalidate any active sessions for the given port andforce the completion routines of all outstanding asynchronous calls to becalled. This should be sufficient to close the port.</p><p>However, there are a few instances where you will want to call <code>PPCEnd</code>. If anerror is returned in the completion routine of an asynchronous <code>PPCRead</code> or<code>PPCWrite</code> call you should then call <code>PPCEnd</code> asynchronously. This will allow PPCToolbox resources to be released so they may be reused. If <code>PPCEnd</code> is not calledin this manner, it will prevent the PPC Toolbox from cleaning up resources thatit used for the active session.</p><a name="Section3"></a><h2>Apple events and user authentication</h2><p>Date Written:  11/6/91</p><p>Last reviewed:  3/25/99 (updated to point to latest AutoGuest software)</p><p>I'd like to be able to start an Apple event-based session between two machinesthat are networked together without the user identity dialog box that always comes up, even if I only want to use Guest access. Is there any way I can use the PPC Toolbox's <code>PPCStart</code> function to create a Guest session and use it for Apple Events?</p><p>___</p><p>Sessions set up by the Apple Event Manager with other Macintosh computers are always authenticated. That's why you always get to see the user identity dialog box, even if you want to use Guest access. You're always automatically authenticated with other processes on the local system, and that's the only time you won't see the user identity dialog box.</p><p>You cannot use the PPC Toolbox to start a session and then pass that sessionoff to the Apple Event Manager, even though the PPC Toolbox is the underlyingtransport mechanism used to send Apple events to other systems. By isolatingthe Apple Event Manager from the transport layer it uses to send Apple eventsas much as possible, Apple can change which transport layers are used in thefuture without breaking your applications.</p><p>If you really need to have connections made with no user intervention, you'llhave to use the PPC Toolbox or go directly to one of the AppleTalk protocollayers. If you choose the PPC Toolbox, you'll have to make sure Guest access isallowed on the system you're trying to connect to or you'll still have toauthenticate the session. (The <code>authRequired</code> field in the <code>PortInfoRec</code> returnedby the <code>PPCBrowser</code> or <code>IPCListPorts</code> functions will be FALSE if Guest programlinking is allowed). Since Guest access is global on a particular system andsince some people may be nervous about allowing guests to Link with allhigh-level event aware applications on their systems, you might want toconsider ADSP instead since it doesn't require any user authentication.</p><p>An unsupported init called <A HREF = "ftp://ftp.apple.com/developer/Tool_Chest/OS_Utilities/AutoGuest_3.0.sit.hqx">AutoGuest</a>, available on the <i>Developer CD Series</i> as well as our ftp site, circumvents this limitation by means of trap patches. DTScan't recommend using this init, however, because it almost certainly will break in future software builds.</p>         <P><A HREF="#top">Back to top</A></P>                  <P><A NAME=Downloads></A></P>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (32K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/ic_515.pdf">Download</A></P>               </TD>            </TR>                     </TABLE>         <BR>                  <P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/ic/ic_515.html%3Fid%3DDTS10002518-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/ic/ic_515.html%3Fid%3DDTS10002518-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/ic/ic_515.html%3Fid%3DDTS10002518-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>