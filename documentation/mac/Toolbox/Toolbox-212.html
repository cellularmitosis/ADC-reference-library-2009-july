<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Hiding and Showing a Window(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING212></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-211.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-213.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-188.html"><B>Chapter 4 - Window Manager</B></A> / <A HREF="Toolbox-201.html"><B>Using the Window Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING212-0></A>
<H2><A NAME=MARKER-9-250></A>Hiding and Showing a Window</H2>
 <A NAME=MARKER-2-212></A>Whenever the user clicks a window's close box, you remove the window from the screen. Sometimes, however, you might find it's more efficient to merely hide the window, instead of removing its data structures.<P>
 If your application includes a Find modeless dialog box that searches for a string, for example, you might want to keep the structures in memory as long as the user is working. When the user closes the dialog box by clicking the close box, you simply hide the window by calling the <CODE>HideWindow</CODE> procedure. The next time the user chooses the Find command, your dialog box window is already available, in the same location and with the same text selected as when it was last used.<P>
 To reverse the <CODE>HideWindow</CODE> procedure, you must call both <CODE>ShowWindow</CODE>, which makes the window visible, and <CODE>SelectWindow</CODE>, which makes it the active window. <A HREF=#MARKER-9-252>Figure 4-22</A> illustrates how the three procedures affect the window's status on the screen.<P>
<B>Figure 4-22  <A NAME=MARKER-9-252></A>The cumulative effects of <CODE>HideWindow</CODE>, <CODE>ShowWindow</CODE>, and <CODE>SelectWindow</CODE></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/WM-LS-10.jpg"><P>
 The application-defined procedure for closing a window--<CODE>DoCloseCmd</CODE>, described <BR>on <A HREF=Toolbox-211.html#MARKER-9-245>page 4-54</A>--hides the Find and Spell Check dialog box windows when the <BR>user closes them. <A HREF=#MARKER-9-253>Listing 4-18</A> illustrates a sample application-defined procedure, <CODE>DoShowModelessFindDialogBox</CODE>, for redisplaying the Find dialog box when the <BR>user next chooses the Find command.<P>
<B>Listing 4-18  <A NAME=MARKER-9-253></A>Showing a hidden dialog box</B><P>
<PRE>
PROCEDURE DoShowModelessFindDialogBox;
BEGIN
   IF gFindDialog = NIL THEN     {no Find dialog box exists yet}
   BEGIN
      {create Find dialog box}
      gFindDialog := GetNewDialog(rFindModelessDialog, NIL,
                                  Pointer(-1));
      IF gFindDialog = NIL THEN        {creation failed}
         Exit(DoShowModelessFindDialogBox);     {exit}
      {store value that identifies dbox in window refCon field}
      SetWRefCon(gFindDialog, LongInt(kMyFindModelessDialog))
      ShowWindow(gFindDialog);         {make dialog box visible}
   END
   ELSE              {dialog box already exists}
   BEGIN
      ShowWindow(gFindDialog);         {make it visible}
      SelectWindow(gFindDialog);       {select it}
   END;
END;
</PRE>
 The <CODE>DoShowModelessFindDialogBox</CODE> procedure first checks whether the Find <BR>dialog box already exists. If it doesn't, then <CODE>DoShowModelessFindDialogBox</CODE> creates a new dialog box through the Dialog Manager. It stores the constant that represents <BR>the Find dialog box in the <CODE>refCon</CODE> field of the new window record, makes the window visible, and draws the dialog box contents. If the Find dialog box already exists, <CODE>DoShowModelessFindDialogBox</CODE> makes the dialog box window visible and selects it. When the Window Manager then generates an activate event, the application calls its own procedure to draw the contents.<A NAME=MARKER-2-214></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-211.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-213.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
