<html><head><title>Mac OS X
 Manual Page For sha(n)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/n/sha" title="Mac OS X
 Manual Page for sha(n)"><a name="//apple_ref/doc/man/n/sha" title="Mac OS X
 Manual Page for sha(n)"><!-- headerDoc=man; indexgroup=Section n; uid="//apple_ref/doc/man/n/sha"; name=sha(n) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
sha(n)                                                                                                sha(n)



<b>NAME</b>
       sha - Message digest "sha"

<b>SYNOPSIS</b>
       package require <b>Tcl</b>  <b>?8.2?</b>

       package require <b>Trf</b>  <b>?2.1p2?</b>

       <b>sha</b> ?<u>options...</u>? ?<u>data</u>?


<b>DESCRIPTION</b>
       The  command  <b>sha</b> is one of several message digests provided by the package <b>trf</b>. See <b>trf-intro</b> for an
       overview of the whole package.


       <b>sha</b> ?<u>options...</u>? ?<u>data</u>?
              The options listed below are understood by the digest if and only if the digest is <u>attached</u> to
              a channel.  See section <b>IMMEDIATE</b> <b>versus</b> <b>ATTACHED</b> for an explanation of the term <u>attached</u>.

              <b>-mode</b> <b>absorb</b>|<b>write</b>|<b>transparent</b>
                     This  option  has to be present. The specified argument determines the behaviour of the
                     digest in <u>attached</u> mode.

                     Beyond the argument values listed above all unique abbreviations  are  recognized  too.
                     Their meaning is explained below:

                     <b>absorb</b> All  data  written  to the channel is used to calculate the value of the message
                            digest and then passed unchanged to the next level in the stack  of  transforma-<font color="#ffffff" class="whiteout">tions&nbsp;transformations</font>
                            tions for the channel the digest is attached to.  When the channel is closed the
                            completed digest is written out too, essentially  attaching  the  vlaue  of  the
                            diggest after the information actually written to the channel.

                            When  reading from the channel a value for the digest is computed too, and after
                            closing of the channel compared to the digest  which  was  attached,  i.e.  came
                            behind  the  actual data.  The option <b>-matchflag</b> has to be specified so that the
                            digest knows where to store the result of said  comparison.  This  result  is  a
                            string and either "<b>ok</b>", or "<b>failed</b>".

                     <b>write</b>  All  data  read  from  or  written  to  the channel the digest is attached to is
                            ignored and thrown away. Only a value for the digest of the  data  is  computed.
                            When the channel is closed the computed values are stored as ordered through the
                            options <b>-write-destination</b>, <b>-write-type</b>, <b>-read-destination</b>, and <b>-read-type</b>.

                     <b>transparent</b>
                            This mode is a mixture of both <b>absorb</b> and <b>write</b> modes. As for <b>absorb</b>  all  data,
                            read  or  written, passes through the digest unchanged. The generated values for
                            the digest however are handled in the same way as for <b>write</b>.


              <b>-matchflag</b> <u>varname</u>
                     This option can be used if and only if the option "<b>-mode</b> <b>absorb</b>" is  present.  In  that
                     situation  the argument is the name of a global or namespaced variable. The digest will
                     write the result of comparing two digest values into this variable. The option will  be
                     ignored  if the channel is write-only, because in that case there will be no comparison
                     of digest values.

              <b>-write-type</b> <b>variable</b>|<b>channel</b>
                     This option can be used for digests in mode <b>write</b> or  <b>transparent</b>.  Beyond  the  values
                     listed  above  all their unique abbreviations are also allowed as argument values.  The
                     option determines the type of the argument to option <b>-write-destination</b>. It defaults to
                     <b>variable</b>.

              <b>-read-type</b> <b>variable</b>|<b>channel</b>
                     Like option <b>-write-type</b>, but for option <b>-read-destination</b>.

              <b>-write-destination</b> <u>data</u>
                     This  option  can  be used for digests in mode <b>write</b> or <b>transparent</b>.  The value <u>data</u> is
                     either the name of a global (or namespaced) variable or the handle of a writable  chan-<font color="#ffffff" class="whiteout">nel,&nbsp;channel,</font>
                     nel, dependent on the value of option <b>-write-type</b>. The message digest computed for data
                     written to the attached channel is written into  it  after  the  attached  channel  was
                     closed.  The option is ignored if the channel is read-only.

                     <u>Note</u>  that  using a variable may yield incorrect results under tcl 7.6, due to embedded
                     \0's.

              <b>-read-destination</b> <u>data</u>
                     This option can be used for digests in mode <b>write</b> or <b>transparent</b>.  The  value  <u>data</u>  is
                     either  the name of a global (or namespaced) variable or the handle of a writable chan-<font color="#ffffff" class="whiteout">nel,&nbsp;channel,</font>
                     nel, dependent on the value of option <b>-read-type</b>. The message digest computed for  data
                     read  from  the  attached  channel  is  written  into it after the attached channel was
                     closed.  The option is ignored if the channel is write-only.

                     <u>Note</u> that using a variable may yield incorrect results under tcl 7.6, due  to  embedded
                     \0's.

       The options listed below are always understood by the digest, <u>attached</u> versus <u>immediate</u> does not mat-<font color="#ffffff" class="whiteout">ter.&nbsp;matter.</font>
       ter. See section <b>IMMEDIATE</b> <b>versus</b> <b>ATTACHED</b> for explanations of these two terms.

              <b>-attach</b> <u>channel</u>
                     The presence/absence of this option determines the main operation mode of the transfor-<font color="#ffffff" class="whiteout">mation.&nbsp;transformation.</font>
                     mation.

                     If  present  the transformation will be stacked onto the <u>channel</u> whose handle was given
                     to the option and run in <u>attached</u> mode. More about this  in  section  <b>IMMEDIATE</b>  <b>versus</b>
                     <b>ATTACHED</b>.

                     If  the  option  is absent the transformation is used in <u>immediate</u> mode and the options
                     listed below are recognized. More about this in section <b>IMMEDIATE</b> <b>versus</b> <b>ATTACHED</b>.

              <b>-in</b> <u>channel</u>
                     This options is legal if and only if the transformation is used in <u>immediate</u>  mode.  It
                     provides the handle of the channel the data to transform has to be read from.

                     If the transformation is in <u>immediate</u> mode and this option is absent the data to trans-<font color="#ffffff" class="whiteout">form&nbsp;transform</font>
                     form is expected as the last argument to the transformation.

              <b>-out</b> <u>channel</u>
                     This options is legal if and only if the transformation is used in <u>immediate</u>  mode.  It
                     provides the handle of the channel the generated transformation result is written to.

                     If the transformation is in <u>immediate</u> mode and this option is absent the generated data
                     is returned as the result of the command itself.

<b>IMMEDIATE</b> <b>versus</b> <b>ATTACHED</b>
       The transformation distinguishes between two main ways of using  it.  These  are  the  <u>immediate</u>  and
       <u>attached</u> operation modes.

       For  the  <u>attached</u>  mode  the option <b>-attach</b> is used to associate the transformation with an existing
       channel. During the execution of the command no transformation is performed, instead the  channel  is
       changed  in  such  a  way,  that  from then on all data written to or read from it passes through the
       transformation and is modified by it according to the  definition  above.   This  attachment  can  be
       revoked  by  executing the command <b>unstack</b> for the chosen channel. This is the only way to do this at
       the Tcl level.

       In the second mode, which can be detected by the absence of option <b>-attach</b>, the transformation  imme-<font color="#ffffff" class="whiteout">diately&nbsp;immediately</font>
       diately  takes  data  from either its commandline or a channel, transforms it, and returns the result
       either as result of the command, or writes it into a channel.  The mode is named after the  immediate
       nature of its execution.

       Where  the  data  is  taken  from,  and  delivered to, is governed by the presence and absence of the
       options <b>-in</b> and <b>-out</b>.  It should be noted that this ability to immediately read from and/or write  to
       a  channel  is an historic artifact which was introduced at the beginning of Trf's life when Tcl ver-<font color="#ffffff" class="whiteout">sion&nbsp;version</font>
       sion 7.6 was current as this and earlier versions have trouble to deal with  \0  characters  embedded
       into either input or output.

<b>SEE</b> <b>ALSO</b>
       adler,  crc,  crc-zlib,  haval,  md2, md5, md5_otp, ripemd-128, ripemd-160, sha, sha1, sha1_otp, trf-<font color="#ffffff" class="whiteout">intro&nbsp;trfintro</font>
       intro

<b>KEYWORDS</b>
       authentication, hash, hashing, mac, message digest, sha

<b>COPYRIGHT</b>
       Copyright (c) 1996-2003, Andreas Kupries &lt;andreas_kupries@users.sourceforge.net&gt;




Trf transformer commands                            2.1p2                                             sha(n)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/mann/sha.n.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/mann/sha.n.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/mann/sha.n.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
