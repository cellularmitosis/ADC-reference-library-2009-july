<html><head><title>Mac OS X
 Manual Page For slapd-shell(5)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/5/slapd-shell" title="Mac OS X
 Manual Page for slapd-shell(5)"><!-- headerDoc=man; indexgroup=Section 5; uid="//apple_ref/doc/man/5/slapd-shell"; name=slapd-shell(5) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SLAPD-SHELL(5)                                                                                SLAPD-SHELL(5)



<b>NAME</b>
       slapd-shell - Shell backend to slapd

<b>SYNOPSIS</b>
       /etc/openldap/slapd.conf

<b>DESCRIPTION</b>
       The  Shell backend to <a href="../man8/slapd.8.html#//apple_ref/doc/man/8/slapd"><b>slapd</b>(8)</a> executes external programs to implement operations, and is designed to
       make it easy to tie an existing database to the <b>slapd</b> front-end.

       This backend is is primarily intended to be used in prototypes.

<b>WARNING</b>
       The <b>abandon</b> shell command has been removed since OpenLDAP 2.1.

<b>CONFIGURATION</b>
       These <b>slapd.conf</b> options apply to the SHELL backend database.  That is, they must follow a  "database
       shell" line and come before any subsequent "backend" or "database" lines.  Other database options are
       described in the <a href="slapd.conf.5.html#//apple_ref/doc/man/5/slapd.conf"><b>slapd.conf</b>(5)</a> manual page.

       These options specify the pathname and arguments of the program to execute in response to  the  given
       LDAP operation.  Each option is followed by the input lines that the program receives:

       <b>add</b> <b>&lt;pathname&gt;</b> <b>&lt;argument&gt;...</b>
              ADD
              msgid: &lt;message id&gt;
              &lt;repeat { "suffix:" &lt;database suffix DN&gt; }&gt;
              &lt;entry in LDIF format&gt;

       <b>bind</b> <b>&lt;pathname&gt;</b> <b>&lt;argument&gt;...</b>
              BIND
              msgid: &lt;message id&gt;
              &lt;repeat { "suffix:" &lt;database suffix DN&gt; }&gt;
              dn: &lt;DN&gt;
              method: &lt;method number&gt;
              credlen: &lt;length of &lt;credentials&gt;&gt;
              cred: &lt;credentials&gt;

       <b>compare</b> <b>&lt;pathname&gt;</b> <b>&lt;argument&gt;...</b>
              COMPARE
              msgid: &lt;message id&gt;
              &lt;repeat { "suffix:" &lt;database suffix DN&gt; }&gt;
              dn: &lt;DN&gt;
              &lt;attribute&gt;: &lt;value&gt;

       <b>delete</b> <b>&lt;pathname&gt;</b> <b>&lt;argument&gt;...</b>
              DELETE
              msgid: &lt;message id&gt;
              &lt;repeat { "suffix:" &lt;database suffix DN&gt; }&gt;
              dn: &lt;DN&gt;

       <b>modify</b> <b>&lt;pathname&gt;</b> <b>&lt;argument&gt;...</b>
              MODIFY
              msgid: &lt;message id&gt;
              &lt;repeat { "suffix:" &lt;database suffix DN&gt; }&gt;
              dn: &lt;DN&gt;
              &lt;repeat {
                  &lt;"add"/"delete"/"replace"&gt;: &lt;attribute&gt;
                  &lt;repeat { &lt;attribute&gt;: &lt;value&gt; }&gt;
                  -<font color="#ffffff" class="whiteout">}&gt;&nbsp;}&gt;}&gt;</font>
              }&gt;

       <b>modrdn</b> <b>&lt;pathname&gt;</b> <b>&lt;argument&gt;...</b>
              MODRDN
              msgid: &lt;message id&gt;
              &lt;repeat { "suffix:" &lt;database suffix DN&gt; }&gt;
              dn: &lt;DN&gt;
              newrdn: &lt;new RDN&gt;
              deleteoldrdn: &lt;0 or 1&gt;
              &lt;if new superior is specified: "newSuperior: &lt;DN&gt;"&gt;

       <b>search</b> <b>&lt;pathname&gt;</b> <b>&lt;argument&gt;...</b>
              SEARCH
              msgid: &lt;message id&gt;
              &lt;repeat { "suffix:" &lt;database suffix DN&gt; }&gt;
              base: &lt;base DN&gt;
              scope: &lt;0-2, see ldap.h&gt;
              deref: &lt;0-3, see ldap.h&gt;
              sizelimit: &lt;size limit&gt;
              timelimit: &lt;time limit&gt;
              filter: &lt;filter&gt;
              attrsonly: &lt;0 or 1&gt;
              attrs: &lt;"all" or space-separated attribute list&gt;

       <b>unbind</b> <b>&lt;pathname&gt;</b> <b>&lt;argument&gt;...</b>
              UNBIND
              msgid: &lt;message id&gt;
              &lt;repeat { "suffix:" &lt;database suffix DN&gt; }&gt;
              dn: &lt;bound DN&gt;

       Note that you need only supply configuration lines for those commands you want the backend to handle.
       Operations for which a command is not supplied will be refused with an "unwilling to perform"  error.

       The <b>search</b> command should output the entries in LDIF format, each entry followed by a blank line, and
       after these the RESULT below.

       All commands except <b>unbind</b> should then output:
              RESULT
              code: &lt;integer&gt;
              matched: &lt;matched DN&gt;
              info: &lt;text&gt;
       where only the RESULT line is mandatory.  Lines starting with `#' or `DEBUG:' are ignored.

<b>ACCESS</b> <b>CONTROL</b>
       The <b>shell</b> backend does not honor all ACL semantics as  described  in  <a href="slapd.access.5.html#//apple_ref/doc/man/5/slapd.access"><b>slapd.access</b>(5)</a>.   In  general,
       access  to objects is checked by using a dummy object that contains only the DN, so access rules that
       rely on the contents of the object are not honored.  In detail:

       The <b>add</b> operation does not require <b>write</b> <b>(=w)</b> access to the <b>children</b> pseudo-attribute of  the  parent
       entry.

       The  <b>bind</b>  operation requires <b>auth</b> <b>(=x)</b> access to the <b>entry</b> pseudo-attribute of the entry whose iden-<font color="#ffffff" class="whiteout">tity&nbsp;identity</font>
       tity is being assessed; <b>auth</b> <b>(=x)</b> access to the credentials is not checked, but rather  delegated  to
       the underlying shell script.

       The  <b>compare</b>  operation requires <b>read</b> <b>(=r)</b> access (FIXME: wouldn't <b>compare</b> <b>(=c)</b> be a more appropriate
       choice?)  to the <b>entry</b> pseudo-attribute of the object whose value is  being  asserted;  <b>compare</b>  <b>(=c)</b>
       access to the attribute whose value is being asserted is not checked.

       The  <b>delete</b> operation does not require <b>write</b> <b>(=w)</b> access to the <b>children</b> pseudo-attribute of the par-<font color="#ffffff" class="whiteout">ent&nbsp;parent</font>
       ent entry.

       The <b>modify</b> operation requires <b>write</b> <b>(=w)</b> access to the <b>entry</b> pseudo-attribute; <b>write</b> <b>(=w)</b>  access  to
       the specific attributes that are modified is not checked.

       The  <b>modrdn</b> operation does not require <b>write</b> <b>(=w)</b> access to the <b>children</b> pseudo-attribute of the par-<font color="#ffffff" class="whiteout">ent&nbsp;parent</font>
       ent entry, nor to that of the new parent, if different; <b>write</b> <b>(=w)</b> access to the distinguished values
       of the naming attributes is not checked.

       The <b>search</b> operation does not require <b>search</b> <b>(=s)</b> access to the <b>entry</b> pseudo_attribute of the search-<font color="#ffffff" class="whiteout">Base;&nbsp;searchBase;</font>
       Base; <b>search</b> <b>(=s)</b> access to the attributes and values used in the filter is not checked.


<b>EXAMPLE</b>
       There is an example search script in the slapd/back-shell/ directory in the OpenLDAP source tree.

<b>LIMITATIONS</b>
       The shell backend does not support threaded environments.  When using  the  shell  backend,  <a href="../man8/slapd.8.html#//apple_ref/doc/man/8/slapd"><b>slapd</b>(8)</a>
       should be built <u>--without-threads</u>.

<b>FILES</b>
       /etc/openldap/slapd.conf
              default slapd configuration file

<b>SEE</b> <b>ALSO</b>
       <a href="slapd.conf.5.html#//apple_ref/doc/man/5/slapd.conf"><b>slapd.conf</b>(5)</a>, <a href="../man8/slapd.8.html#//apple_ref/doc/man/8/slapd"><b>slapd</b>(8)</a>, <a href="../man1/sh.1.html#//apple_ref/doc/man/1/sh"><b>sh</b>(1)</a>.



OpenLDAP 2.3.27                                  2006/08/19                                   SLAPD-SHELL(5)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man5/slapd-shell.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man5/slapd-shell.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man5/slapd-shell.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
