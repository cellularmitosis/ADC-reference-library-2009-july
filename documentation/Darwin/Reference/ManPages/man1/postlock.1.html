<html><head><title>Mac OS X
 Manual Page For postlock(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/postlock" title="Mac OS X
 Manual Page for postlock(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/postlock"; name=postlock(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
POSTLOCK(1)                                                                                      POSTLOCK(1)



<b>NAME</b>
       postlock - lock mail folder and execute command

<b>SYNOPSIS</b>
       <b>postlock</b> [<b>-c</b> <u>config</u><b>_</b><u>dir</u><b>]</b> <b>[-l</b> <u>lock</u><b>_</b><u>style</u><b>]</b>
               <b>[-v</b>] <u>file</u> <u>command...</u>

<b>DESCRIPTION</b>
       The  <b>postlock</b>(1) command locks <u>file</u> for exclusive access, and executes <u>command</u>. The locking method is
       compatible with the Postfix UNIX-style local delivery agent.

       Options:

       <b>-c</b> <u>config</u><b>_</b><u>dir</u>
              Read the <b>main.cf</b> configuration file in the named directory instead of the  default  configura-<font color="#ffffff" class="whiteout">tion&nbsp;configuration</font>
              tion directory.

       <b>-l</b> <u>lock</u><b>_</b><u>style</u>
              Override  the  locking  method specified via the <b>mailbox_delivery_lock</b> configuration parameter
              (see below).

       <b>-v</b>     Enable verbose logging for debugging purposes. Multiple <b>-v</b> options make the software  increas-<font color="#ffffff" class="whiteout">ingly&nbsp;increasingly</font>
              ingly verbose.

       Arguments:

       <u>file</u>   A mailbox file. The user should have read/write permission.

       <u>command...</u>
              The  command  to  execute  while <u>file</u> is locked for exclusive access.  The command is executed
              directly, i.e. without interpretation by a shell command interpreter.

<b>DIAGNOSTICS</b>
       The result status is 75 (EX_TEMPFAIL) when <b>postlock</b>(1) could not  perform  the  requested  operation.
       Otherwise, the exit status is the exit status from the command.

<b>BUGS</b>
       With  remote  file  systems, the ability to acquire a lock does not necessarily eliminate access con-<font color="#ffffff" class="whiteout">flicts.&nbsp;conflicts.</font>
       flicts. Avoid file access by processes running on different machines.

<b>ENVIRONMENT</b>
       <b>MAIL_CONFIG</b>
              Directory with Postfix configuration files.

       <b>MAIL_VERBOSE</b>
              Enable verbose logging for debugging purposes.

<b>CONFIGURATION</b> <b>PARAMETERS</b>
       The following <b>main.cf</b> parameters are especially relevant to this program.  The  text  below  provides
       only a parameter summary. See <a href="../man5/postconf.5.html#//apple_ref/doc/man/5/postconf"><b>postconf</b>(5)</a> for more details including examples.

<b>LOCKING</b> <b>CONTROLS</b>
       <b>deliver_lock_attempts</b> <b>(20)</b>
              The  maximal  number  of  attempts to acquire an exclusive lock on a mailbox file or <a href="../man8/bounce.8.html#//apple_ref/doc/man/8/bounce"><b>bounce</b>(8)</a>
              logfile.

       <b>deliver_lock_delay</b> <b>(1s)</b>
              The time between attempts to acquire an exclusive lock on a mailbox file or <a href="../man8/bounce.8.html#//apple_ref/doc/man/8/bounce"><b>bounce</b>(8)</a> logfile.

       <b>stale_lock_time</b> <b>(500s)</b>
              The time after which a stale exclusive mailbox lockfile is removed.

       <b>mailbox_delivery_lock</b> <b>(see</b> <b>'postconf</b> <b>-d'</b> <b>output)</b>
              How to lock a UNIX-style <a href="../man8/local.8.html#//apple_ref/doc/man/8/local"><b>local</b>(8)</a> mailbox before attempting delivery.

<b>RESOURCE</b> <b>AND</b> <b>RATE</b> <b>CONTROLS</b>
       <b>fork_attempts</b> <b>(5)</b>
              The maximal number of attempts to fork() a child process.

       <b>fork_delay</b> <b>(1s)</b>
              The delay between attempts to fork() a child process.

<b>MISCELLANEOUS</b> <b>CONTROLS</b>
       <b>config_directory</b> <b>(see</b> <b>'postconf</b> <b>-d'</b> <b>output)</b>
              The default location of the Postfix main.cf and master.cf configuration files.

<b>SEE</b> <b>ALSO</b>
       <a href="../man5/postconf.5.html#//apple_ref/doc/man/5/postconf">postconf(5)</a>, configuration parameters

<b>LICENSE</b>
       The Secure Mailer license must be distributed with this software.

<b>AUTHOR(S)</b>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA



                                                                                                 POSTLOCK(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/postlock.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/postlock.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/postlock.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
