This app builds an AIFF file (actually it rebuilds a file which is selected).  Then it records to the file with the low level sound input calls.  When the recording is done, the code make sure that the AIFF header is correct and then plays the sound back with SndStartFilePlay.