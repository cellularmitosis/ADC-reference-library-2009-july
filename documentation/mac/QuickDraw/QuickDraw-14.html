<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Multiple Screens (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING14></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-13.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-15.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-9.html"><B>Chapter 1 - Introduction to QuickDraw</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING14-0></A>
<H1>Multiple Screens</H1>
 A <B>video device</B> is a piece of hardware, such as a plug-in video card or a built-in video interface, that controls a screen. To use more than one screen, a user may have more than one video device installed on his or her computer.<P>
 <A NAME=MARKER-2-107></A><A NAME=MARKER-2-113></A>In a drawing environment with multiple screens, the one with the menu bar is the <B>main screen.</B> Color QuickDraw maps the (0,0) origin point of the global coordinate plane to the main screen's upper-left corner, and other screens are positioned adjacent to it. In <A HREF=#MARKER-9-95>Figure 1-16</A>, a full-page screen sits next to the main screen. Remember that each window--even a window that overlaps two screens--has its own local coordinate system with a (0,0) point at its upper-left corner.<A NAME=MARKER-2-125></A><A NAME=MARKER-9-157></A><P>
<B>Figure 1-16  <A NAME=MARKER-9-95></A>A two-screen system</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/INTRO-L-22.jpg"><BR>
 <A NAME=MARKER-2-230></A><A NAME=MARKER-2-17></A><A NAME=MARKER-2-45></A>Color QuickDraw stores state information for a video device in a <CODE>GDevice<B> record.</B></CODE> (Color QuickDraw creates <CODE>GDevice</CODE> records--basic QuickDraw does not, nor does basic QuickDraw support multiple screens.) When a computer supporting Color QuickDraw starts up, it allocates and initializes a handle to a <CODE>GDevice</CODE> record for each video device it finds. The firmware in the ROM for each video device supplies information about whether the device uses indexed or direct colors, how much video RAM is available, and so on. Some of this information is stored in the <CODE>GDevice</CODE> record, where it is available to the entire graphics system.<P>
 As illustrated in <A HREF=#MARKER-9-99>Figure 1-17</A>, when your application opens a color window, the <CODE>CGrafPort</CODE> record for the window contains a handle to a <CODE>PixMap</CODE> record contained in the main screen's <CODE>GDevice</CODE> record. The <CODE>PixMap</CODE> record for your window thereby contains the correct pixel specifications for the main screen. Color QuickDraw internally calculates the changes required for drawing to any other screens.<P>
<B>Figure 1-17  <A NAME=MARKER-9-99></A>The <CODE>GDevice</CODE> record and pixel map for a 4-bit video card</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/INTRO-L-24.jpg"><BR>
 When a multiscreen system starts up, one of the screens is the <B>startup screen,</B> the screen on which the "happy Macintosh" appears. By default, the main screen is the startup screen. However, by using the Monitors control panel, the user can specify a different startup screen.<A NAME=MARKER-9-171></A><P>
 During the startup of a multiscreen environment, system software calls the Window Manager procedure <CODE>InitWindows</CODE> to create a region that is the union of all the active screens (minus the menu bar and the rounded corners on the outermost screens). The Window Manager saves this region, called the <B>gray region,</B> as the global variable <CODE>GrayRgn</CODE>. The gray region describes and defines the desktop: the area in which the user can drag windows. <P>
 Users can drag windows from one screen to another and even across multiple screens. Color QuickDraw calculates the global coordinates of the rectangle into which it must draw and issues the drawing command to each video device that the rectangle intersects.<A NAME=MARKER-9-176></A><A NAME=MARKER-9-247></A><P>
 For many applications, Color QuickDraw provides a device-independent interface; your application can draw images in a color graphics port for a window, and Color QuickDraw automatically manages the screen display--even if the user has multiple screens. Your application generally never needs to create <CODE>GDevice</CODE> records. However, you may find it useful for your application to examine <CODE>GDevice</CODE> records to determine the capabilities of the user's screens. When zooming a window, for example, your application can use <CODE>GDevice</CODE> records to determine which screen contains the largest area of a window, and then determine the ideal window size for that screen. <P>
 You may also wish to use the <CODE>DeviceLoop</CODE> procedure to optimize your application's drawing for screens with different capabilities. The <CODE>DeviceLoop</CODE> procedure searches for video devices that intersect your graphics port's drawing region, and it informs your application of each video device it finds. The <CODE>DeviceLoop</CODE> procedure provides your application with information about the pixel depth and other attributes of the video device on which drawing is currently taking place. Your application can then choose what drawing technique to use for the current device. When highlighting, for example, your application might invert black and white when drawing onto a 1-bit video device but use magenta as the highlight color on a color screen.<A NAME=MARKER-9-167></A> <A NAME=MARKER-9-209></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-13.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-15.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
