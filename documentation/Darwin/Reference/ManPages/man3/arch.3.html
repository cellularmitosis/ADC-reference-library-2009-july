<html><head><title>Mac OS X Developer Tools
 Manual Page For arch(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/arch" title="Mac OS X Developer Tools
 Manual Page for arch(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/arch"; name=arch(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ARCH(3)                  BSD Library Functions Manual                  ARCH(3)

<b>NAME</b>
     <b>NXGetAllArchInfos</b>, <b>NXGetLocalArchInfo</b>, <b>NXGetArchInfoFromName</b>, <b>NXGetArchInfoFromCpuType</b>,
     <b>NXFindBestFatArch</b>, <b>NXCombineCpuSubtypes</b> -- get architecture information

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;mach-o/arch.h&gt;</b>

     <u>extern</u> <u>const</u> <u>NXArchInfo</u> <u>*</u>
     <b>NXGetAllArchInfos</b>(<u>void</u>);

     <u>extern</u> <u>const</u> <u>NXArchInfo</u> <u>*</u>
     <b>NXGetLocalArchInfo</b>(<u>void</u>);

     <u>extern</u> <u>const</u> <u>NXArchInfo</u> <u>*</u>
     <b>NXGetArchInfoFromName</b>(<u>const</u> <u>char</u> <u>*name</u>);

     <u>extern</u> <u>const</u> <u>NXArchInfo</u> <u>*</u>
     <b>NXGetArchInfoFromCpuType</b>(<u>cpu</u><b>_</b><u>type</u><b>_</b><u>t</u> <u>cputype</u>, <u>cpu</u><b>_</b><u>subtype</u><b>_</b><u>t</u> <u>cpusubtype</u>);

     <u>extern</u> <u>struct</u> <u>fat</u><b>_</b><u>arch</u> <u>*</u>
     <b>NXFindBestFatArch</b>(<u>cpu</u><b>_</b><u>type</u><b>_</b><u>t</u> <u>cputype</u>, <u>cpu</u><b>_</b><u>subtype</u><b>_</b><u>t</u> <u>cpusubtype</u>, <u>struct</u> <u>fat</u><b>_</b><u>arch</u> <u>*fat</u><b>_</b><u>archs</u>,
         <u>unsigned</u> <u>long</u> <u>nfat</u><b>_</b><u>archs</u>);

     <u>extern</u> <u>cpu</u><b>_</b><u>subtype</u><b>_</b><u>t</u>
     <b>NXCombineCpuSubtypes</b>(<u>cpu</u><b>_</b><u>type</u><b>_</b><u>t</u> <u>cputype</u>, <u>cpu</u><b>_</b><u>subtype</u><b>_</b><u>t</u> <u>cpusubtype1</u>, <u>cpu</u><b>_</b><u>subtype</u><b>_</b><u>t</u> <u>cpusubtype2</u>);

<b>DESCRIPTION</b>
     These functions are intended for use in programs that have to deal with universal files or programs
     that can target multiple architectures.  Typically, a program will use a command-line argument that
     starts with ``-arch <b>name</b>'', where this specifies an architecture.  These functions and data structures
     provide some help for processing architecture flags and then processing the contents of a universal
     file.

     The structure <u>NXArchInfo</u> is defined in &lt;<u>mach-o/arch.h&gt;</u>:

                   typedef struct {
                           const char *name;
                           cpu_type_t cputype;
                           cpu_subtype_t cpusubtype;
                           enum NXByteOrder byteorder;
                           const char *description;
                   } NXArchInfo;
     It is used to hold the name of the architecture and the corresponding CPU type and CPU subtype,
     together with the architecture's byte order and a brief description string.

     The currently known architectures are:

     <u>Name</u>          <u>CPU</u> <u>Type</u>            <u>CPU</u> <u>Subtype</u>                 <u>Description</u>
     ppc           CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_ALL     PowerPC
     ppc64         CPU_TYPE_POWERPC64  CPU_SUBTYPE_POWERPC64_ALL   PowerPC 64-bit
     i386          CPU_TYPE_I386       CPU_SUBTYPE_I386_ALL        Intel 80x86
     x86_64        CPU_TYPE_X86_64     CPU_SUBTYPE_X86_64_ALL      Intel x86-64
     m68k          CPU_TYPE_MC680x0    CPU_SUBTYPE_MC680x0_ALL     Motorola 68K
     hppa          CPU_TYPE_HPPA       CPU_SUBTYPE_HPPA_ALL        HP-PA
     i860          CPU_TYPE_I860       CPU_SUBTYPE_I860_ALL        Intel 860
     m88k          CPU_TYPE_MC88000    CPU_SUBTYPE_MC88000_ALL     Motorola 88K
     sparc         CPU_TYPE_SPARC      CPU_SUBTYPE_SPARC_ALL       SPARC
     ppc601        CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_601     PowerPC 601
     ppc603        CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_603     PowerPC 603
     ppc604        CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_604     PowerPC 604
     ppc604e       CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_604e    PowerPC 604e
     ppc750        CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_750     PowerPC 750
     ppc7400       CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_7400    PowerPC 7400
     ppc7450       CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_7450    PowerPC 7450
     ppc970        CPU_TYPE_POWERPC    CPU_SUBTYPE_POWERPC_970     PowerPC 970
     i486          CPU_TYPE_I386       CPU_SUBTYPE_486             Intel 486
     i486SX        CPU_TYPE_I386       CPU_SUBTYPE_486SX           Intel 486SX
     pentium       CPU_TYPE_I386       CPU_SUBTYPE_PENT            Intel Pentium
     i586          CPU_TYPE_I386       CPU_SUBTYPE_586             Intel 586
     pentpro       CPU_TYPE_I386       CPU_SUBTYPE_PENTPRO         Intel Pentium Pro
     i686          CPU_TYPE_I386       CPU_SUBTYPE_PENTPRO         Intel Pentium Pro
     pentIIm3      CPU_TYPE_I386       CPU_SUBTYPE_PENTII_M3       Intel Pentium II Model 3
     pentIIm5      CPU_TYPE_I386       CPU_SUBTYPE_PENTII_M5       Intel Pentium II Model 5
     pentium4      CPU_TYPE_I386       CPU_SUBTYPE_PENTIUM_4       Intel Pentium 4
     m68030        CPU_TYPE_MC680x0    CPU_SUBTYPE_MC68030_ONLY    Motorola 68030
     m68040        CPU_TYPE_MC680x0    CPU_SUBTYPE_MC68040         Motorola 68040
     hppa7100LC    CPU_TYPE_HPPA       CPU_SUBTYPE_HPPA_7100LC     HP-PA 7100LC

     The first set of entries are used for the architecture family.  The second set of entries are used for
     a specific architecture, when more than one specific architecture is supported in a family of architec-<font color="#ffffff" class="whiteout">tures.&nbsp;architectures.</font>
     tures.

     <b>NXGetAllArchInfos</b>() returns a pointer to an array of all known NXArchInfo structures.  The last NXArch-<font color="#ffffff" class="whiteout">Info&nbsp;NXArchInfo</font>
     Info is marked by a NULL name.

     <b>NXGetLocalArchInfo</b>() returns the NXArchInfo for the local host, or NULL if none is known.

     <b>NXGetArchInfoFromName</b>() and <b>NXGetArchInfoFromCpuType</b>() return the NXArchInfo from the architecture's
     name or CPU type/CPU subtype combination.  A CPU subtype of CPU_SUBTYPE_MULTIPLE can be used to request
     the most general NXArchInfo known for the given CPU type.  NULL is returned if no matching NXArchInfo
     can be found.

     <b>NXFindBestFatArch</b>() is passed a CPU type and CPU subtype and a set of fat_arch structs.  It selects the
     best one that matches (if any), and returns a pointer to that fat_arch struct (or NULL).  The fat_arch
     structs must be in the host byte order and correct such that fat_archs really points to enough memory
     for nfat_archs structs.  It is possible that this routine could fail if new CPU types or CPU subtypes
     are added and an old version of this routine is used.  But if there is an exact match between the CPU
     type and CPU subtype and one of the fat_arch structs, this routine will always succeed.

     <b>NXCombineCpuSubtypes</b>() returns the resulting CPU subtype when combining two different CPU subtypes for
     the specified CPU type.  If the two CPU subtypes can't be combined (the specific subtypes are mutually
     exclusive), -1 is returned, indicating it is an error to combine them.  This can also fail and return
     -1 if new CPU types or CPU subtypes are added and an old version of this routine is used.  But if the
     CPU subtypes are the same, they can always be combined and this routine will return the CPU subtype
     passed in.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/arch.1.html#//apple_ref/doc/man/1/arch">arch(1)</a>

                                 July 28, 2005
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/arch.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/arch.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/arch.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
