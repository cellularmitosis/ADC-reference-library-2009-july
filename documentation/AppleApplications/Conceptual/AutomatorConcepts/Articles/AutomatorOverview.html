<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Automator Programming Guide: Automator and the Developer</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Automator and the Developer"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001508" title="Automator and the Developer"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../Automator-date.html#//apple_ref/doc/uid/TP30000440-TP30000418-TP40001673" target="_top">Automator</a> &gt; <a href="../index.html" target="_top">Automator Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Automator.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="HowAutomatorWorks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40001508-BCIJAFHH" title="Automator and the Developer"></a><hr /><H1>Automator and the Developer</H1><p>Automator<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_24"></a> is an Apple application that lets users automate repetitive procedures performed on a computer. With Automator, users can quickly construct arbitrarily complex sequences of configurable tasks that they can set in motion with a click of a button. And they do not need to write a single line of code to do so. </p><p>All kinds of Mac OS X users, including system administrators and developers, can derive huge benefits from Automator. It enables them to accomplish in a few seconds a complex or tedious procedure that manually might take many minutes. Developers<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_25"></a> can contribute to what Automator offers users in two ways: by making their applications scriptable<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_26"></a><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_27"></a> and by creating loadable bundles specifically designed for Automator.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="AutomatorOverview.html#//apple_ref/doc/uid/TP40001508-96839">Constructing Workflows With Automator</a>
				
			<br/>
			
        
			
			
				<a href="AutomatorOverview.html#//apple_ref/doc/uid/TP40001508-97876">Workflow Scenarios</a>
				
			<br/>
			
        
			
			
				<a href="AutomatorOverview.html#//apple_ref/doc/uid/TP40001508-97708">Developing for Automator</a>
				
			<br/>
			
        
			
			
				<a href="AutomatorOverview.html#//apple_ref/doc/uid/TP40001508-DontLinkElementID_1">Automator Actions as Universal Binaries</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001508-96839" title="Constructing Workflows With Automator"></a><h2>Constructing Workflows With Automator</h2><p>As a developer, you can best appreciate how to integrate your software products with Automator by understanding how users might use the application, which is located in <code>/Applications</code>. <span class="content_text">Figure 1</span> shows a typical Automator workflow<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_28"></a>.</p><br/><div><a name="//apple_ref/doc/uid/TP40001508-97215-BCIICCHI" title="Figure 1A typical Automator workflow"></a><p><a name="//apple_ref/doc/uid/TP40001508-97215" title="Figure 1A typical Automator workflow"></a><strong>Figure 1&nbsp;&nbsp;</strong>A typical Automator workflow</p><img src = "Art/automator_workflow.gif" alt = "A typical Automator workflow" width="695" height="509"></div><br/><p>A workflow in Automator consists of a sequence of discrete tasks called actions<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_29"></a>. An Automator action is a kind of functional building block. An Automator workflow hooks the actions together so that—in most cases—the output of one action is the input of the subsequent action. Clicking the run button in the upper-right corner of the window causes Automator to invoke each action of the workflow in turn, passing it (usually) the output of the previous action.</p><p><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_30"></a>To create a workflow<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_31"></a>, users choose each action they want from the browser on the left side of the application window and drag it into the layout view in the right side of the window. They can search for specific actions by application, category, or keyword. Once dropped, an action presents a view which, in almost all cases, contains text fields, buttons, and other user-interface elements for configuring the action. In addition to configuring each action, users can move actions around in the workflow to put them in the desired sequence. They can then save the workflow as a document that can be run again and again in Automator.</p><p>Actions can be virtually anything that you can do on a Mac OS X system (version 10.4 and later). You can have an action that copies files, an action that crops an image, an action that burns a DVD, or an action that builds a project in Xcode. Actions can either interact with applications or draw on system resources to get their work done. By stringing actions together in a meaningful sequence—that is, in a workflow—a user can accomplish complex and highly customized procedures with a click of a button. Apple provides dozens of actions for use in Automator (Mac OS X version 10.4 and later).</p><a name="//apple_ref/doc/uid/TP40001508-97876" title="Workflow Scenarios"></a><h2>Workflow Scenarios</h2><p><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_32"></a>A general description of Automator and its actions and workflows goes only so far to convey the power and flexibility of the application. To better appreciate what users can do with Automator—and how your actions can play a part in it—consider the following workflow scenarios: </p><ul class="ul"><li class="li"><p>Workflow 1—Copies the content of all messages flagged in the currently displayed mailbox to a TextEdit document. This workflow consists of the following actions:</p><ol class="ol"><li class="li"><p>Find Messages in Mail (Mail), configured to find messages whose flagged status is true</p></li><li class="li"><p>Display Messages (Mail)</p></li><li class="li"><p>Combine Messages (Mail)</p></li><li class="li"><p>New TextEdit Document (TextEdit)</p></li></ol></li><li class="li"><p>Workflow 2—Imports images on a webpage (such as .Mac photo album) into iPhoto:</p><p>This workflow requires users to go to the webpage in Safari before running the workflow.</p><ol class="ol"><li class="li"><p>Get Current Webpage from Safari </p></li><li class="li"><p>Get Image URLs from Webpage, configured to get the URLs linked from this webpage</p></li><li class="li"><p>Download URLs, configured to a specified location on the local computer</p></li><li class="li"><p>Import Images into iPhoto, configured to put them in a new or existing album</p></li></ol></li><li class="li"><p>Workflow 3—Finds people with birthdays in the current month and creates an iCal event for each person:</p><ol class="ol"><li class="li"><p>Find People with Birthdays (Address Book), configured to this month.</p></li><li class="li"><p>New iCal Event, configured to create one event for each person received. It is also configured with any relevant event information, such as calendar and alarm.<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_33"></a></p></li></ol></li></ul><a name="//apple_ref/doc/uid/TP40001508-97708" title="Developing for Automator"></a><h2>Developing for Automator</h2><p>Given an automation tool as powerful and flexible as Automator, it’s clear that any action you develop for it benefits<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_34"></a> both you and the user, especially if that action accesses what your application has to offer. Users have an additional path to the features and services that make your products unique, and this in turn enhances the visibility and reputation of your products. </p><p>You don’t even have to be a programmer (in the traditional sense) to develop actions for Automator. You can write an action in <a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_35"></a>AppleScript as well as in Objective-C (and AppleScript actions have full access to such things as Standard Additions<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_36"></a>). You can also mix AppleScript<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_37"></a> scripts and Objective-C<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_38"></a> code when you develop an action; the script can invoke Objective-C methods implemented for the action. AppleScript has the advantage of being easier to learn, but it requires that applications that are the targets of commands be scriptable. As an object-oriented superset of ANSI C, Objective-C is a full-fledged programming language, which makes it harder to master than AppleScript but allows you to take full advantage of the Cocoa Objective-C frameworks—as well as all C-based frameworks.</p><p>If have experience in UNIX environments, you can also write shell scripts, Perl scripts, or Python scripts to drive the behavior of actions. These kinds of actions are known as shell script actions<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_39"></a>. The scripts in these actions can also work together with AppleScript scripts and Objective-C classes in an action project.</p><p>In light of these language alternatives, there are three general types of Automator actions<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_40"></a>:</p><ul class="ul"><li class="li"><p>An action that controls an application to get something done. AppleScript-based actions can do this if the application is scriptable. Objective-C actions can do this if the application has a public programmatic interface (as do, for example, Address Book and iChat).</p></li><li class="li"><p>An action that uses system frameworks and other system resources to get something done. Actions that are strictly based on AppleScript cannot do this, but Objective-C actions—and actions that are a mixture of AppleScript and Objective-C—can. An Objective-C action, for example, could use the network-services classes NSNetService and NSNetServiceBrowser to implement an action that offers dynamic printer discovery. Shell script actions also fall into this category, because they have hundreds of BSD command-line tools at their disposal.</p></li><li class="li"><p>An action that performs some small but necessary “bridge” function such as prompting the user for input, writing output to disk, or informing the user of progress. You can create these types of actions using AppleScript, Objective-C, and shell scripts (including Perl or Python).</p></li></ul><div class="importantbox"><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_4" title="Important:"></a><p><strong>Important:</strong>&nbsp;Consider making your applications accessible to actions even if you do not provide any Automator actions of your own. For AppleScript-based actions, that means making your applications scriptable<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_41"></a><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_42"></a>—that is, responsive to AppleScript commands. For Objective-C based actions, that means publishing a programmatic interface. Other developers may decide to create actions that access your application’s services. See <em><a href="../../../../AppleScript/Conceptual/AppleScriptX/index.html#//apple_ref/doc/uid/10000156i" target="_top">AppleScript Overview</a></em> for information on making applications scriptable.</p><p></p></div><p>From a developer’s perspective, actions have a common programmatic interface and a common set of properties. The programmatic interface is defined by four classes: AMAction<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_43"></a>, AMBundleAction<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_44"></a>, AMAppleScriptAction<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_45"></a>, and AMShellScriptAction<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_46"></a> (discussed in <span class="content_text"><a href="HowAutomatorWorks.html#//apple_ref/doc/uid/TP40001509-BAJIFDIE">“How Automator Works”</a></span>). Action properties<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_47"></a><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_48"></a>, which are specified in an action bundle’s information property list (<code>Info.plist</code>), define characteristics such as:</p><ul class="ul"><li class="li"><p>The types of data the action accepts and provides</p></li><li class="li"><p>The application the action is associated with and the category of task it performs</p></li><li class="li"><p>Other keywords to identify the action in searches</p></li><li class="li"><p>The default parameters of the action</p></li><li class="li"><p>Warnings given to users if the action, as configured, might result in loss of data</p></li></ul><p>See <span class="content_text"><a href="AutomatorPropRef.html#//apple_ref/doc/uid/TP40001515-BCIJHBJC">“Automator Action Property Reference”</a></span> for further information on Automator action properties.</p><p>The Apple integrated development environment, Xcode<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_49"></a>, provides support for Automator action developers. There are Xcode project types <a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_50"></a>for AppleScript, Objective-C, and shell script actions. Included in these project types are all required files and templates. For example, the default nib file<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_51"></a><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_52"></a> (<code>main.nib</code>) contains an initial user interface, an instance of NSObjectController for establishing bindings, and File’s Owner already set up to be your action object. For more on the Automator action project types see <span class="content_text"><a href="DevelopAction.html#//apple_ref/doc/uid/TP40001511-BAJBICGH">“Developing an Action.”</a></span> </p><p>If you install actions<a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_53"></a><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_54"></a> as part of your product, be sure to install them in <code>/Library/Automator</code> (if they are to be available to all users of a system) or in <code>~/Library/Automator</code> (if they are to be available only to the current user). <code>/System/Library/Automator</code> is reserved for Apple-developed actions. You can also install actions in the bundle of the application that uses them. Automator also looks for actions in application bundles. If you provide actions, you may want to advertise them to your users so they can look forward to using them in new workflows.</p><a name="//apple_ref/doc/uid/TP40001508-DontLinkElementID_1" title="Automator Actions as Universal Binaries"></a><h2>Automator Actions as Universal Binaries</h2><p>A universal binary is executable code that can run on either PowerPC-based or Intel-based Macintosh computers. To move a PowerPC-only project to a universal-binary project may require work involving such programming details as endianness, alignment, and calling conventions. The amount of work generally depends on the level of the source code; lower-level source code (for example, the kernel) requires more work than higher-level code (for example, an application based on Carbon).</p><p>The need to make an Automator action a universal binary depends on the language used:</p><ul class="ul"><li class="li"><p>AppleScript actions are platform-independent and do not require any changes to run on Intel processors.</p></li><li class="li"><p>An action that contains Objective-C code, whether a Cocoa-only action or an action that contains a mix of Objective-C and AppleScript, must be built as a universal binary to run correctly on both Intel and PowerPC processors.</p></li></ul><p>For information on making universal binaries, see <em><a href="../../../../MacOSX/Conceptual/universal_binary/index.html#//apple_ref/doc/uid/TP40002217" target="_top">Universal Binary Programming Guidelines, Second Edition</a></em>.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Automator.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="HowAutomatorWorks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-12-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/AutomatorConcepts/Articles/AutomatorOverview.html%3Fid%3DTP40001450-3.5&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/AutomatorConcepts/Articles/AutomatorOverview.html%3Fid%3DTP40001450-3.5&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/AutomatorConcepts/Articles/AutomatorOverview.html%3Fid%3DTP40001450-3.5&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
