<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Pascal Calling Conventions</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING133></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="RTArch-132.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="RTArch-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="RTArch-147.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="RTArch-134.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="RTArch-2.html"><B>Mac OS Runtime Architectures</B></A> / <BR><DD><A HREF="RTArch-130.html"><B>Chapter 11 - Classic 68K Runtime Conventions</B></A> / <A HREF="RTArch-132.html"><B>Classic 68K Stack Structure and Calling Conventions</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING133-0></A>
<H2>Pascal Calling Conventions</H2>
 <A NAME=MARKER-2-35></A>When following P<A NAME=MARKER-2-36></A>ascal calling conventions, the caller passes space for the return value before pushing any parameters. The caller then passes parameters from left to right. For example, given the code<P>
<PRE>
cow = PasFunc(moo1, moo2, moo3);
</PRE>
 the calling routine first pushes the value of <CODE>moo1</CODE> onto the stack, followed by <CODE>moo2</CODE> and then <CODE>moo3</CODE> as shown in <A HREF=#MARKER-9-37>Figure 11-2</A>.<P>
<B>Figure 11-2  <A NAME=MARKER-9-37></A>Passing parameters onto the stack in Pascal</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RUN-07.jpg"> <P>
 <A NAME=MARKER-2-38></A>Pascal allows only a fixed number of parameters to be passed to the called routine. However, this means the size of the stack frame can be determined at compile time, so the called routine assumes responsibility for deallocating (popping) parameters before returning.<P>
 <A NAME=MARKER-2-39></A>Function values are returned on the stack, as follows:<P>
<UL>
<LI>If the value is 4 bytes or smaller in size, the item on the stack is the return value.
<LI>If the return value is larger than 4 bytes, the item on the stack is a pointer to the return value. <P>
</UL>
 The calling routine must allocate space on the stack for the return value before pushing any parameters, and the same routine is responsible for popping the result after the call<A NAME=MARKER-2-40></A>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="RTArch-132.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="RTArch-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="RTArch-147.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="RTArch-134.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="RTArch-3.html">&copy; Apple Computer, Inc.</A><br>11 MARCH 1997<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
