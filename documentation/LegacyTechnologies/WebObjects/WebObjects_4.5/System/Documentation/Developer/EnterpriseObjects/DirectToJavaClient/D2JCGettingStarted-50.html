<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Using the Rule Editor</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Getting Started With Direct to Java Client</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="D2JCGettingStarted-49.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-49.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-51.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr></A><HR></DIV><H1><A NAME="pgfId-19996"></A>Using the Rule Editor</H1><A NAME="pgfId-19993"></A>Suppose you want to right align all text fields that contain numeric data. The Assistant isn't sophisticated enough to allow you to do this. However, you can configure your application to have this alignment behavior by writing a custom rule. The procedure is as follows:</P><OL><LI><A NAME="pgfId-19999"></A>Start the Rule Editor.<P><A NAME="pgfId-20000"></A>On Mac OS X Server, choose WebObjects <IMG SRC="images/arrow.gif" ALIGN="BASELINE"> Rule Editor in the Apple menu.<P><A NAME="pgfId-20079"></A>On Windows, choose Rule Editor in the WebObjects program group.<P><A NAME="pgfId-20140"></A>When the Rule Editor starts, it opens a new, untitled rule file.<P><LI><A NAME="pgfId-20053"></A>Click New to create a new rule.<P><LI><A NAME="pgfId-20080"></A>Set the rule's condition, key, and value.<P><A NAME="pgfId-20173"></A>Note that the Rule Editor uses formal rule terminology to refer to parts of a rule. Formally, a rule is expressed as follows:<P><P><A NAME="pgfId-20174"></A><TT>(condition) =&gt; key = value</P></TT><A NAME="pgfId-20175"></A>The condition of a rule is known as the left hand side of the rule (lhs), the key is known as the right hand side key (rhs key), and the value is known as the right hand side value (rhs value). For example, a rule that right aligns numeric text fields can be expressed as follows:<P><P><A NAME="pgfId-20176"></A><TT>(not (attribute = nil)) and ((attribute.valueClassName = 'NSNumber') or (attribute.valueClassName = 'NSDecimalNumber')) =&gt; alignment = "Right"</P></TT><A NAME="pgfId-20177"></A>In this rule, the condition or lhs is:<P><P><A NAME="pgfId-20178"></A><TT>((not (attribute = nil)) and ((attribute.valueClassName = 'NSNumber') or (attribute.valueClassName = 'NSDecimalNumber')))</TT></P><A NAME="pgfId-20179"></A>The key or rhs key is "alignment", and the value or rhs value is "Right."<P><LI><A NAME="pgfId-20046"></A>Set the rule's priority to 50.<P><A NAME="pgfId-20208"></A>The priority of the Assistant's rules is 100. Use a lower priority than 100 if you want the Assistant's rules to be preferred to your own rules, or a higher priority otherwise. Don't create rules that have the same priority as the Assistant's rules, because this can confuse the Assistant.<P><A NAME="pgfId-20236"></A>The priority of the default rules is 0, so both the Assistant's and your custom rules are preferred to the default rules.<P><LI><A NAME="pgfId-20341"></A>Set the rule's assignment class to Assignment.<P><A NAME="pgfId-20342"></A>In the Class pop-up list on the right side of the window, select Assignment. This class is selected by default, so you shouldn't actually have to change it. Other assignment classes allow you to programmatically determine rule results. For more information, see <I>Developing WebObjects Applications with Direct to Web.</I><P><LI><A NAME="pgfId-20182"></A>Name the rule file <B>d2w.d2wmodel</B> and save it in the Resources folder of your application's project.<P><A NAME="pgfId-20047"></A>Rules are stored in files with the extension <B>.d2wmodel</B>.<P><A NAME="pgfId-20278"></A>In addition to your custom rule file, there are two other rule files that are used by an application: a file containing the default rules and a file containing the Assistant's rules. The default rules are also in a file named <B>d2w.d2wmodel</B>, but the default rule file is located in the Resources folder of the DirectToJavaClient framework. The other rule file is the Assistant's rule file. It is located in the Resources folder of an application's project along with the custom rules file, but it has the name <B>user.d2wmodel</B>.<P><A NAME="pgfId-20279"></A>You can look at the Assistant rules by opening the <B>user.d2wmodel</B>; simply double-click the file, which opens it in the Rule Editor. However, don't edit the Assistant's file because the Assistant writes out the file whenever it saves, removing rules it doesn't create itself. By storing your custom rules in the <B>d2w.d2wmodel</B> file, you can write custom rules and still use the Assistant.<P></OL><HR>&#169 1999 Apple Computer, Inc. &#150 (Draft. Last updated 05 Jan 00)<P><A HREF="D2JCGettingStarted-49.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-49.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-51.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>