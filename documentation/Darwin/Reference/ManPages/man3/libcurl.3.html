<html><head><title>Mac OS X
 Manual Page For libcurl(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/libcurl" title="Mac OS X
 Manual Page for libcurl(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/libcurl"; name=libcurl(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
libcurl(3)                                    libcurl overview                                    libcurl(3)



<b>NAME</b>
       libcurl - client-side URL transfers

<b>DESCRIPTION</b>
       This  is an short overview on how to use libcurl in your C programs. There are specific man pages for
       each function mentioned in here. There are also the <a href="libcurl-easy.3.html#//apple_ref/doc/man/3/libcurl-easy"><u>libcurl-easy(3)</u></a><u></u> man  page,  the  <a href="libcurl-multi.3.html#//apple_ref/doc/man/3/libcurl-multi"><u>libcurl-multi(3)</u></a><u></u>
       man page, the <a href="libcurl-share.3.html#//apple_ref/doc/man/3/libcurl-share"><u>libcurl-share(3)</u></a><u></u> man page and the <a href="libcurl-tutorial.3.html#//apple_ref/doc/man/3/libcurl-tutorial"><u>libcurl-tutorial(3)</u></a><u></u> man page for in-depth understand-<font color="#ffffff" class="whiteout">ing&nbsp;understanding</font>
       ing on how to program with libcurl.

       There are more than thirty custom bindings available that bring libcurl access to your favourite lan-<font color="#ffffff" class="whiteout">guage.&nbsp;language.</font>
       guage. Look elsewhere for documentation on those.

       libcurl  has  a  global  constant  environment that you must set up and maintain while using libcurl.
       This  essentially  means  you  call  <a href="curl_global_init.3.html#//apple_ref/doc/man/3/curl_global_init"><u>curl</u><b>_</b><u>global</u><b>_</b><u>init(3)</u></a><u></u>  at  the   start   of   your   program   and
       <a href="curl_global_cleanup.3.html#//apple_ref/doc/man/3/curl_global_cleanup"><u>curl</u><b>_</b><u>global</u><b>_</b><u>cleanup(3)</u></a><u></u> at the end.  See GLOBAL CONSTANTS below for details.

       To  transfer files, you always set up an "easy handle" using <a href="curl_easy_init.3.html#//apple_ref/doc/man/3/curl_easy_init"><u>curl</u><b>_</b><u>easy</u><b>_</b><u>init(3)</u></a><u></u>, but when you want the
       <!-- a -->file(s)<!-- /a --> transferred you have the option of using the "easy" interface, or the "multi" interface.

       The easy interface is a synchronous interface with which you call  <a href="curl_easy_perform.3.html#//apple_ref/doc/man/3/curl_easy_perform"><u>curl</u><b>_</b><u>easy</u><b>_</b><u>perform(3)</u></a><u></u>  and  let  it
       perform  the  transfer.  When it is completed, the function return and you can continue. More details
       are found in the <a href="libcurl-easy.3.html#//apple_ref/doc/man/3/libcurl-easy"><u>libcurl-easy(3)</u></a><u></u> man page.

       The multi interface on the other hand is an asynchronous interface, that you call and  that  performs
       only  a little piece of the transfer on each invoke. It is perfect if you want to do things while the
       transfer is in progress, or similar. The multi interface allows you to select()  on  libcurl  action,
       and  even  to easily download multiple files simultaneously using a single thread. See further deails
       in the <a href="libcurl-multi.3.html#//apple_ref/doc/man/3/libcurl-multi"><u>libcurl-multi(3)</u></a><u></u> man page.

       You can have multiple easy handles share certain data, even if they are used  in  different  threads.
       This magic is setup using the share interface, as described in the <a href="libcurl-share.3.html#//apple_ref/doc/man/3/libcurl-share"><u>libcurl-share(3)</u></a><u></u> man page.

       There is also a series of other helpful functions to use, including these:

              curl_version_info()
                     gets detailed libcurl (and other used libraries) version info

              curl_getdate()
                     converts a date string to time_t

              curl_easy_getinfo()
                     get information about a performed transfer

              curl_formadd()
                     helps building an HTTP form POST

              curl_formfree()
                     free a list built with <a href="curl_formadd.3.html#//apple_ref/doc/man/3/curl_formadd"><u>curl</u><b>_</b><u>formadd(3)</u></a><u></u>

              curl_slist_append()
                     builds a linked list

              curl_slist_free_all()
                     frees a whole curl_slist


<b>LINKING</b> <b>WITH</b> <b>LIBCURL</b>
       On unix-like machines, there's a tool named curl-config that gets installed with the rest of the curl
       stuff when 'make install' is performed.

       curl-config is added to make it easier for applications to link with libcurl and developers to  learn
       about libcurl and how to use it.

       Run  'curl-config --libs' to get the (additional) linker options you need to link with the particular
       version of libcurl you've installed. See the <a href="../man1/curl-config.1.html#//apple_ref/doc/man/1/curl-config"><u>curl-config(1)</u></a><u></u> man page for further details.

       Unix-like operating system that ship libcurl as part of their distributions often don't  provide  the
       curl-config tool, but simply install the library and headers in the common path for this purpose.


<b>LIBCURL</b> <b>SYMBOL</b> <b>NAMES</b>
       All public functions in the libcurl interface are prefixed with 'curl_' (with a lowercase c). You can
       find other functions in the library source code, but other prefixes indicate that the  functions  are
       private and may change without further notice in the next release.

       Only use documented functions and functionality!

<b>PORTABILITY</b>
       libcurl works <b>exactly</b> the same, on any of the platforms it compiles and builds on.

<b>THREADS</b>
       Never  ever call curl-functions simultaneously using the same handle from several threads. libcurl is
       thread-safe and can be used in any number of threads, but you must use separate curl handles  if  you
       want to use libcurl in more than one thread simultaneously.

       The global environment functions are not thread-safe.  See GLOBAL CONSTANTS below for details.


<b>PERSISTENT</b> <b>CONNECTIONS</b>
       Persistent  connections  means  that libcurl can re-use the same connection for several transfers, if
       the conditions are right.

       libcurl will <b>always</b> attempt to use persistent connections. Whenever you use  <a href="curl_easy_perform.3.html#//apple_ref/doc/man/3/curl_easy_perform"><u>curl</u><b>_</b><u>easy</u><b>_</b><u>perform(3)</u></a><u></u>  or
       <a href="curl_multi_perform.3.html#//apple_ref/doc/man/3/curl_multi_perform"><u>curl</u><b>_</b><u>multi</u><b>_</b><u>perform(3)</u></a><u></u>,  libcurl will attempt to use an existing connection to do the transfer, and if
       none exists it'll open a new one that will be subject for re-use on  a  possible  following  call  to
       <a href="curl_easy_perform.3.html#//apple_ref/doc/man/3/curl_easy_perform"><u>curl</u><b>_</b><u>easy</u><b>_</b><u>perform(3)</u></a><u></u> or <a href="curl_multi_perform.3.html#//apple_ref/doc/man/3/curl_multi_perform"><u>curl</u><b>_</b><u>multi</u><b>_</b><u>perform(3)</u></a><u></u>.

       To allow libcurl to take full advantage of persistent connections, you should do as many of your file
       transfers as possible using the same curl handle. When you call <a href="curl_easy_cleanup.3.html#//apple_ref/doc/man/3/curl_easy_cleanup"><u>curl</u><b>_</b><u>easy</u><b>_</b><u>cleanup(3)</u></a><u></u>, all the  possi-<font color="#ffffff" class="whiteout">bly&nbsp;possibly</font>
       bly open connections held by libcurl will be closed and forgotten.

       Note  that  the options set with <a href="curl_easy_setopt.3.html#//apple_ref/doc/man/3/curl_easy_setopt"><u>curl</u><b>_</b><u>easy</u><b>_</b><u>setopt(3)</u></a><u></u> will be used in on every repeated <a href="curl_easy_perform.3.html#//apple_ref/doc/man/3/curl_easy_perform"><u>curl</u><b>_</b><u>easy</u><b>_</b><u>per</u></a>-<font color="#ffffff" class="whiteout">form(3)&nbsp;curl_easy_perform(3)</font>
       <a href="curl_easy_perform.3.html#//apple_ref/doc/man/3/curl_easy_perform"><u>form(3)</u></a><u></u> call.


<b>GLOBAL</b> <b>CONSTANTS</b>
       There are a variety of constants that  libcurl  uses,  mainly  through  its  internal  use  of  other
       libraries,  which  are  too  complicated for the library loader to set up.  Therefore, a program must
       call a library function after the program is loaded and running to  finish  setting  up  the  library
       code.   For  example,  when  libcurl is built for SSL capability via the GNU TLS library, there is an
       elaborate tree inside that library that describes the SSL protocol.

       <u>curl</u><b>_</b><u>global</u><b>_</b><u>init()</u> is the function that you must call.  This may allocate resources (e.g. the  memory
       for the GNU TLS tree mentioned above), so the companion function <u>curl</u><b>_</b><u>global</u><b>_</b><u>cleanup()</u> releases them.

       The basic rule for constructing a program that uses libcurl is this: Call <u>curl</u><b>_</b><u>global</u><b>_</b><u>init()</u>, with  a
       <u>CURL</u><b>_</b><u>GLOBAL</u><b>_</b><u>ALL</u> argument, immediately after the program starts, while it is still only one thread and
       before it uses libcurl at all.  Call <u>curl</u><b>_</b><u>global</u><b>_</b><u>cleanup()</u> immediately before the program exits, when
       the program is again only one thread and after its last use of libcurl.

       You  can call both of these multiple times, as long as all calls meet these requirements and the num-<font color="#ffffff" class="whiteout">ber&nbsp;number</font>
       ber of calls to each is the same.

       It isn't actually required that the functions be called at the beginning and end of  the  program  --<font color="#ffffff" class="whiteout">that's&nbsp;-that's</font>
       that's  just  usually  the easiest way to do it.  It <u>is</u> required that the functions be called when no
       other thread in the program is running.

       These global constant functions are <u>not</u> <u>thread</u> <u>safe</u>, so you must not call them when any other  thread
       in  the  program is running.  It isn't good enough that no other thread is using libcurl at the time,
       because these functions internally call similar functions of other libraries, and those functions are
       similarly thread-unsafe.  You can't generally know what these libraries are, or whether other threads
       are using them.

       The global constant situation merits special consideration when the  code  you  are  writing  to  use
       libcurl is not the main program, but rather a modular piece of a program, e.g. another library.  As a
       module, your code doesn't know about other parts of the program -- it doesn't know whether  they  use
       libcurl or not.  And its code doesn't necessarily run at the start and end of the whole program.

       A  module  like this must have global constant functions of its own, just like <u>curl</u><b>_</b><u>global</u><b>_</b><u>init()</u> and
       <u>curl</u><b>_</b><u>global</u><b>_</b><u>cleanup()</u>.  The module thus has control at the beginning and end of the program and has a
       place  to call the libcurl functions.  Note that if multiple modules in the program use libcurl, they
       all  will  separately  call  the  libcurl  functions,  and  that's  OK   because   only   the   first
       <u>curl</u><b>_</b><u>global</u><b>_</b><u>init()</u> and the last <u>curl</u><b>_</b><u>global</u><b>_</b><u>cleanup()</u> in a program changes anything.  (libcurl uses a
       reference count in static memory).

       In a C++ module, it is common to deal with the global constant situation by defining a special  class
       that  represents  the  global  constant  environment of the module.  A program always has exactly one
       object of the class, in static storage.  That way, the program automatically calls the constructor of
       the  object  as  the  program  starts  up and the destructor as it terminates.  As the author of this
       libcurl-using module, you can make the constructor call <u>curl</u><b>_</b><u>global</u><b>_</b><u>init()</u> and  the  destructor  call
       <u>curl</u><b>_</b><u>global</u><b>_</b><u>cleanup()</u>  and satisfy libcurl's requirements without your user having to think about it.

       <u>curl</u><b>_</b><u>global</u><b>_</b><u>init()</u> has an argument that tells what particular parts of the global  constant  environ-<font color="#ffffff" class="whiteout">ment&nbsp;environment</font>
       ment  to set up.  In order to successfully use any value except <u>CURL</u><b>_</b><u>GLOBAL</u><b>_</b><u>ALL</u> (which says to set up
       the whole thing), you must have specific knowledge of internal workings  of  libcurl  and  all  other
       parts of the program of which it is part.

       A  special  part  of  the  global  constant  environment  is  the  identity  of the memory allocator.
       <u>curl</u><b>_</b><u>global</u><b>_</b><u>init()</u>   selects   the   system   default   memory   allocator,   but   you    can    use
       <u>curl</u><b>_</b><u>global</u><b>_</b><u>init</u><b>_</b><u>mem()</u>   to   supply   one   of   your   own.   However,  there  is  no  way  to  use
       <u>curl</u><b>_</b><u>global</u><b>_</b><u>init</u><b>_</b><u>mem()</u> in a modular program -- all modules in the  program  that  might  use  libcurl
       would have to agree on one allocator.

       There  is a failsafe in libcurl that makes it usable in simple situations without you having to worry
       about the global constant environment at all: <u>curl</u><b>_</b><u>easy</u><b>_</b><u>init()</u> sets up the environment itself  if  it
       hasn't  been done yet.  The resources it acquires to do so get released by the operating system auto-<font color="#ffffff" class="whiteout">matically&nbsp;automatically</font>
       matically when the program exits.

       This failsafe feature exists mainly for backward compatibility because there  was  a  time  when  the
       global  functions didn't exist.  Because it is sufficient only in the simplest of programs, it is not
       recommended for any program to rely on it.



libcurl 7.9.6                                   19 March 2002                                     libcurl(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/libcurl.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/libcurl.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/libcurl.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
