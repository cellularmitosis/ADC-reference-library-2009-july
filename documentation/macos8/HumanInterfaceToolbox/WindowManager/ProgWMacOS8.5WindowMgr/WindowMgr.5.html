<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<script language="JavaScript" src="frametest.js"></script>

<TITLE> Window Proxy Icons</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a><!-- start of banner -->			
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->
</DIV>

<!-- start of path -->
<table border="0" cellpadding="0" cellspacing="2" width="480">	
	<tr>
	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">
	<b>PATH<img src="images/space.gif" width="6" height="12"></b><a href="../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../mac8.html" target="_top">Mac OS 8 and 9</a> 
	<b>&gt;</b> Human Interface Toolbox
	<b>&gt;</b> <a href="../windowmanager.html" target="_top">Window Manager</a> 
	<b>&gt;</b>
	</font></td>
	</tr>
	<tr><td align="left" scope="row"><br>
	<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">
	<font face="Geneva,Helvetica,Arial">Programming With the Mac OS 8.5 Window Manager</font>
	</td></tr>
</table><br>
<!-- end of path -->

<P><A HREF=WindowMgr.2.html border=0><img src=images/up.gif border=0></A> <A HREF=WindowMgr.4.html><img src=images/previous.gif border=0></A> <A HREF=WindowMgr.6.html><img src=images/next.gif border=0></A>   <!-- insert Show/Hide frames --> <a href=javascript:testFrame()> <script> <!--
  document.write(frameLink); //--> </script> <!-- end Show/Hide frames -->
</a>

<hr>





<H1 CLASS="H1.Heading1">
<A NAME="pgfId=250674">
 </A>
<A NAME="18037">
 </A>
Window Proxy Icons</H1>
<P CLASS="T1.Text1">
<A NAME="pgfId=250675">
 </A>
The Mac OS 8.5 Window Manager supports the display of a small icon in the title bar of document windows (next to the window title) that serves as a proxy for the document's icon in the Finder. This <B CLASS="bold">
proxy icon</B>
 appears and behaves the way the icon for the document does in the Finder. For example, the user can drag a document's <A NAME="marker=252354">
 </A>
proxy icon to move or copy the document file.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=252128">
 </A>
Additionally, the proxy icon is a source of visual feedback for the user on the current state of the document, such as whether the document window is a valid drag-and-drop target and whether the document has unsaved changes. <A HREF="WindowMgr.5.html#42491" CLASS="XRef">
Figure&nbsp;1-2</A>
 shows a proxy icon in a window that contains a document with no unsaved changes.</P>
<P CLASS="Fg.Figure">
<A NAME="pgfId=250683">
 </A>
<B>Figure&nbsp;1-2<A NAME="42491">
 </A>
&nbsp;Proxy icon in a window containing a document with no unsaved changes</B></P>
<DIV>
<IMG SRC="85WM-L-002.gif">
</DIV>
<P CLASS="T1.Text1">
<A NAME="pgfId=252004">
 </A>
The Mac OS 8.5 Window Manager provides the following functions for establishing proxy icons in your application's windows. See <A HREF="WindowMgr.13.html#14881" CLASS="XRef">
Supporting Window Proxy Icons</A> for examples of how your application can provide proxy icon support in its document windows.</P>
<UL>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250688">
 </A>
<A HREF="WindowMgr.4d.html#21700" CLASS="XRef">
<TT>SetWindowProxyFSSpec</TT></A>
 associates a file with a window.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250692">
 </A>
<A HREF="WindowMgr.48.html#23404" CLASS="XRef">
<TT>GetWindowProxyFSSpec</TT></A>
 obtains a file system specification structure for the file that is associated with a window.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250696">
 </A>
<A HREF="WindowMgr.4b.html#26361" CLASS="XRef">
<TT>SetWindowProxyAlias</TT></A>
 associates a file with a window.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250700">
 </A>
<A HREF="WindowMgr.47.html#40978" CLASS="XRef">
<TT>GetWindowProxyAlias</TT></A>
 obtains an alias for the file that is associated with a window.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250704">
 </A>
<A HREF="WindowMgr.4c.html#27394" CLASS="XRef">
<TT>SetWindowProxyCreatorAndType</TT></A>
 sets the proxy icon for a window that lacks an associated file.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250708">
 </A>
<A HREF="WindowMgr.4e.html#33331" CLASS="XRef">
<TT>SetWindowProxyIcon</TT></A>
 overrides the default proxy icon for a window.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250712">
 </A>
<A HREF="WindowMgr.49.html#23281" CLASS="XRef">
<TT>GetWindowProxyIcon</TT></A>
 obtains a window's proxy icon.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250716">
 </A>
<A HREF="WindowMgr.4a.html#23495" CLASS="XRef">
<TT>RemoveWindowProxy</TT></A>
 dissociates a file from a window.</LI>
</UL>
<P CLASS="T1.Text1">
<A NAME="pgfId=252058">
 </A>
Note that, in <A HREF="WindowMgr.5.html#42491" CLASS="XRef">
Figure&nbsp;1-2</A>
, the proxy icon is drawn in the enabled state to indicate that the file represented by the icon has no unsaved changes and that the user may therefore manipulate the icon and thereby the file itself. If a user drags a proxy icon to a folder, Finder window, the desktop, or another volume, the file represented by the proxy icon is moved or copied accordingly, as if the user had dragged the file's icon in the Finder.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=250721">
 </A>
The Mac OS 8.5 Window Manager provides the following functions for dragging proxy icons. See <A HREF="WindowMgr.17.html#30431" CLASS="XRef">
Tracking a Window Proxy Icon Drag</A> for an example of how your application can call these functions.</P>
<UL>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250725">
 </A>
<A HREF="WindowMgr.55.html#31493" CLASS="XRef">
<TT>TrackWindowProxyDrag</TT></A>
 handles all aspects of the drag process when the user drags a proxy icon.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250729">
 </A>
<A HREF="WindowMgr.56.html#23131" CLASS="XRef">
<TT>TrackWindowProxyFromExistingDrag</TT></A>
 allows custom handling of the drag process when the user drags a proxy icon.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250733">
 </A>
<A HREF="WindowMgr.50.html#39681" CLASS="XRef">
<TT>BeginWindowProxyDrag</TT></A>
 creates the drag reference and the drag image when the user drags a proxy icon.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250737">
 </A>
<A HREF="WindowMgr.51.html#29298" CLASS="XRef">
<TT>EndWindowProxyDrag</TT></A>
 disposes of the drag reference when the user completes the drag of a proxy icon.</LI>
</UL>
<P CLASS="T1.Text1">
<A NAME="pgfId=251498">
 </A>
An application typically tracks the <A NAME="marker=252355">
 </A>
modification state of a document. A common reason to do so is to inform the user that they have made changes to the document which they might wish to save before closing the window.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=251519">
 </A>
When your application uses proxy icons, it should inform the Window Manager when a document has unsaved changes. When you do so, the Window Manager displays the document's proxy icon in a disabled state and prevents the user from dragging the proxy icon. Disabled proxy icons cannot be dragged because unsaved documents cannot be moved or copied in a manner predictable to the user. <A HREF="WindowMgr.5.html#13117" CLASS="XRef">
Figure&nbsp;1-3</A>
 shows a proxy icon in a document window with unsaved changes.</P>
<DIV>
<BLOCKQUOTE><H5 CLASS="ImportantHead">
<A NAME="pgfId=262402">
 </A>
IMPORTANT</H5>
<P CLASS="I.Important">
<A NAME="pgfId=251511">
 </A>
The only time that a document's proxy icon should be disabled is when the document has unsaved changes. Your application should not disable the proxy icon at any other time. </P></BLOCKQUOTE>
<P CLASS="Fg.Figure">
<A NAME="pgfId=251506">
 </A>
<B>Figure&nbsp;1-3<A NAME="13117">
 </A>
&nbsp;Proxy icon in a window containing a document with unsaved changes</B></P>
<DIV>
<IMG SRC="85WM-L-003.gif">
</DIV>
<P CLASS="T1.Text1">
<A NAME="pgfId=250749">
 </A>
The Mac OS 8.5 Window Manager provides the following functions for accessing the modification state of a window. See <A HREF="WindowMgr.1e.html#17293" CLASS="XRef">
Setting a Window's Modification State</A> for an example of how your application can call these functions.</P>
<UL>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250753">
 </A>
<A HREF="WindowMgr.54.html#29636" CLASS="XRef">
<TT>SetWindowModified</TT></A>
 sets the modification state of the specified window.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250757">
 </A>
<A HREF="WindowMgr.53.html#26695" CLASS="XRef">
<TT>IsWindowModified</TT></A>
 obtains the modification state of the specified window.</LI>
</UL>
<P CLASS="T1.Text1">
<A NAME="pgfId=250758">
 </A>
When the user drags content that an application can accept into the content area of one of its windows, the structure region of the window, including the proxy icon, should become highlighted, as shown in <A HREF="WindowMgr.5.html#31276" CLASS="XRef">
Figure&nbsp;1-4</A>
. This gives visual feedback that the window is a valid destination for the content.</P>
<P CLASS="Fg.Figure">
<A NAME="pgfId=250766">
 </A>
<B>Figure&nbsp;1-4<A NAME="31276">
 </A>
&nbsp;Proxy icon in a window that is a valid drag-and-drop target</B></P>
<DIV>
<IMG SRC="85WM-L-004.gif">
</DIV>
<P CLASS="T1.Text1">
<A NAME="pgfId=250767">
 </A>
The Mac OS 8.5 Window Manager provides the following function for indicating to the user whether a window is a valid drag-and-drop target:</P>
<UL>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=250771">
 </A>
<A HREF="WindowMgr.52.html#28465" CLASS="XRef">
<TT>HiliteWindowFrameForDrag</TT></A>
 sets the highlight state of the window's structure region to reflect the window's validity as a drag-and-drop destination.</LI>
</UL>
<P CLASS="T1.Text1">
<A NAME="pgfId=252110">
 </A>
<A HREF="WindowMgr.5.html#31630" CLASS="XRef">
Figure&nbsp;1-5</A>
 compares the various <A NAME="marker=252388">
 </A>
states of a proxy icon: enabled, for a document with no unsaved changes; disabled, for a document that does have unsaved changes; and highlighted, for when the document window is a valid destination for content that the user is dragging.</P>
<P CLASS="Fg.Figure">
<A NAME="pgfId=252115">
 </A>
<B>Figure&nbsp;1-5<A NAME="31630">
 </A>
&nbsp;Proxy icon states</B></P>
<DIV>
<IMG SRC="85WM-L-007.gif">
</DIV>
</DIV>
<HR>\xA9 1999 Apple Computer, Inc. &#150 (Last Updated 18 March 99)<P><A HREF="WindowMgr.2.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="WindowMgr.4.html"><img src="images/previous.gif" border="0"></A> <A HREF="WindowMgr.6.html"><img src="images/next.gif" border="0"></A> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>

</P><!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer --></body> </BODY>
</HTML>
