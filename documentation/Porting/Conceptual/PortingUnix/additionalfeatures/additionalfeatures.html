<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Porting UNIX/Linux Applications to Mac OS X: Additional Features</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Additional Features"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002856" title="Additional Features"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../Darwin/index.html#//apple_ref/doc/uid/TP30000440-TP30000422" target="_top">Darwin</a> &gt; <a href="../../../../Darwin/Porting-date.html#//apple_ref/doc/uid/TP30000440-TP30000422-TP30000553" target="_top">Porting</a> &gt; <a href="../intro/intro.html#//apple_ref/doc/uid/TP40002847-TPXREF101">Porting UNIX/Linux Applications to Mac OS X</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../distributing/distibuting.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../portability/portability.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40002856-TPXREF101" title="Additional Features"></a><h1>Additional Features</h1><p>Although many parts of Mac OS X are the same as other UNIX-based operating systems, Mac OS X also includes many things that set it apart. This chapter lists some of the key details that distinguish Mac OS X from most other UNIX-based operating systems. These may not be important for a basic port of a simple application, but the more robust your application and the more tightly it integrates with the underlying operating system, the more important it is to understand the additional functionality provided by the operating system. Most of the information here is covered only as an overview, with references to more detailed documentation where appropriate.</p><p>This chapter is of interest to all varieties of developers, though different developers will have different interests, depending on the nature of your application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF122">AppleScript and AppleScript Studio</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF119">Audio Architecture</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF104">Boot Sequence</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF106">Configuration Files</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-BAJHDECF">Device Drivers</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF114">The File System</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-BAJHJCCB">The Kernel</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-BBCCCCIE">Open Directory and the dscl Tool</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF123">Printing (CUPS)</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF124">Bonjour</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF109">Scripting Languages</a>
				
			<br/>
			
        
			
			
				<a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-TPXREF112">Security and Security Services</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40002856-TPXREF122" title="AppleScript and AppleScript Studio"></a><h2>AppleScript and AppleScript Studio</h2><p>AppleScript is a technology that does for GUI applications what shell scripts do for command-line applications. The scripts control applications using a relatively straightforward messaging protocol (whose commands are application-dependent).</p><p>AppleScript Studio is a suite of tools—Xcode, Interface Builder, and the Cocoa application framework—that together allow you to create whole applications written entirely in AppleScript.</p><p>For more information on AppleScript and AppleScript Studio, see the AppleScript documentation at <span class="content_text"><a href="../../../../../documentation/ScriptingAutomation/index.html" target="_top">http://developer.apple.com/documentation/ScriptingAutomation</a></span>.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF119" title="Audio Architecture"></a><h2>Audio Architecture</h2><p>Mac OS X provides much of the audio functionality normally associated with third-party MIDI and audio toolkits. This gives developers a simple platform for developing dynamic audio applications. For end users, it minimizes the configuration that is normally required to get high-end audio applications to work. As a UNIX developer, it means that if you have been looking for a platform to develop a robust audio application on, you now have one. Among the high-level features of the Mac OS X Core Audio subsystem are these:</p><ul class="ul"><li class="li"><p>Native multi-channel audio with plug-in support</p></li><li class="li"><p>Native MIDI<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_40"></a></p></li><li class="li"><p>Audio Hardware Abstraction Layer <a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_41"></a>(HAL)</p></li><li class="li"><p>A built-in USB class driver compliant with the USB audio specification</p></li><li class="li"><p>A simplified driver model</p></li><li class="li"><p>A direct relation with the I/O Kit through the <code>IOAudioDevice</code> class that enables rapid device-driver development</p></li></ul><p>If you are developing applications that need access to the audio layer of Mac OS X, you can pursue the extensive resources available at <span class="content_text"><a href="http://developer.apple.com/audio/" target="_top">http://developer.apple.com/audio/</a></span>.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF104" title="Boot Sequence"></a><h2>Boot Sequence</h2><p>The boot sequence in Mac OS X offers a number of advanced features that are not yet common in other UNIX-based and UNIX-like operating systems. These differences are significant enough to warrant their own document: <em><a href="../../../../MacOSX/Conceptual/BPSystemStartup/index.html#//apple_ref/doc/uid/10000172i" target="_top">System Startup Programming Topics</a></em>.</p><p>In that document, you will learn about legacy startup items (the recommended way to start daemons prior to v10.4), <code>launchd</code> (the recommended way in v10.4 and later), and why you should start your daemons with these mechanisms instead of modifying <code>rc</code> files.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF106" title="Configuration Files"></a><h2>Configuration Files</h2><p><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_42"></a>Often on a UNIX-based system, you find system configuration files in <code>/etc</code>. This is still true in Mac OS X, but configuration information is also found in other places. Networking, printing, and user system configuration details are, by default, regulated by the NetInfo database. Applications usually make use of XML property lists (plists) to hold configuration information. You can view many example property lists by looking in <code>~/Library/Preferences</code>.</p><p>If changing a configuration file in <code>/etc</code> does not have your desired effect, then that information is probably regulated by information in the NetInfo database or by an application’s property list.<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_43"></a></p><p>For example, users and groups are not handled with files in <code>/etc</code>. To create a user, you instead should use the Accounts preferences pane or NetInfo Manager. NetInfo Manager can also be used to create groups.</p><a name="//apple_ref/doc/uid/TP40002856-BAJHDECF" title="Device Drivers"></a><h2>Device Drivers</h2><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_44"></a><p><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_45"></a>Mac OS X implements an object-oriented programming model for developing device drivers. This technology is called the I/O Kit. It is a collection of system frameworks, libraries, tools, and other resources. This model is different from the model traditionally found on a BSD system.<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_46"></a> If your code needs to access any devices other than disks, you use the I/O Kit. I/O Kit programming is done using a restricted subset of C++ that omits features unsuitable for use within a multithreaded kernel. By modeling the hardware connected to a Mac OS X system and abstracting common functionality for devices in particular categories, the I/O Kit streamlines the process of device-driver development. I/O Kit information and documentation is available at <span class="content_text"><a href="../../../../../documentation/DeviceDrivers/Conceptual/IOKitFundamentals/index.html" target="_top">http://developer.apple.com/documentation/DeviceDrivers/Conceptual/IOKitFundamentals/index.html</a></span>.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF114" title="The File System"></a><h2>The File System</h2><p>The Mac OS X file system is similar to other UNIX-based operating systems, but there are some significant differences in the file system structure and in case sensitivity. These differences are described in the sections that follow.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF107" title="File-System Structure and Visibility"></a><h3>File-System Structure and Visibility</h3><p><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_47"></a>The file-system structure of Mac OS X is similar to a BSD-style system. A quick glance at <code><a href="../../../../Darwin/Reference/ManPages/man7/hier.7.html#//apple_ref/doc/man/7/hier" target="_top">hier</a></code><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_48"></a> should comfort you. When in doubt as to where to put things, you can put them where you would in a BSD-style system.There are a few directories that you might not recognize.<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_49"></a> These differences are described in more detail in <span class="content_text"><a href="../io_porting/io_porting.html#//apple_ref/doc/uid/TP40002854-BCIGEJCD">“File System Organization.”</a></span></p><p>The default behavior of the Mac OS X Finder is to hide the directories that users normally would not be interested in, as well as invisible files, such as those preceded by a dot (<code>.</code>). This appearance is maintained by the Finder to promote simplicity in the user interface. As a developer, you might want to see the dot files and your complete directory layout. The <code>/usr/bin/defaults<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_50"></a></code> tool allows you to override the default behavior of hiding invisible files. To show all of the files that the Finder ordinarily hides, type the following command in the shell:</p><div class="codesample"><table><tr><td scope="row"><pre>defaults write com.apple.Finder AppleShowAllFiles true<span></span></pre></td></tr></table></div><p>Then restart the Finder either by logging out and back in or by choosing Force Quit from the Apple Menu. </p><p>There are a couple of other simple ways to view the contents of hidden folders without modifying the default behavior of the Finder itself. You can use the <code>/usr/bin/open</code> command or the Finder Go to Folder command. With <code><a href="../../../../Darwin/Reference/ManPages/man1/open.1.html#//apple_ref/doc/man/1/open" target="_top">open</a></code> you can open a directory in the Finder, hidden or not, from the shell. For example,<code> open /usr/include</code> opens the hidden folder in a new Finder window. If you are in the Finder and want to see the contents of an invisible folder hierarchy, choose Go to Folder from the Go menu, or just press command-~, and type in the pathname of your desired destination. </p><p>For information on how to lay out the directory structure of your completed Mac OS X applications, consult <em><a href="../../../../UserExperience/Conceptual/AppleHIGuidelines/index.html#//apple_ref/doc/uid/20000957" target="_top">Apple Human Interface Guidelines</a></em><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_51"></a> and <em><a href="../../../../MacOSX/Conceptual/OSX_Technology_Overview/index.html#//apple_ref/doc/uid/TP40001067" target="_top">Mac OS X Technology Overview</a></em>.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF120" title="Supported File-System Types"></a><h3>Supported File-System Types</h3><p>Mac OS X supports Mac OS Extended (HFS+<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_52"></a>), the traditional Macintosh volume format, and the UNIX File System (UFS<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_53"></a>). HFS+ is recommended and is what most users have their system installed on. Some more server-centric installations have their system installed on UFS. If you develop on UFS, you should thoroughly test your code on HFS+ as well. Although the HFS+ file system preserves case, it is not case sensitive. This means that if you have two files whose names differ only by case, the HFS+ file system regards them as the same file. In designing your application, you should therefore not attempt to put two objects with names that differ only by case in the same directory—for example Makefile and makefile.</p><p>However, developing on HFS+ does not necessarily ensure that your application will work on UFS. It is far too easy to write code in which your program opens a file as org.mklinux.formattool.prefs one time and as org.MkLinux.formattool.prefs another time and gets completely different results.</p><p>Also, do not assume that a bug is unimportant simply because you have seen it only on UFS. Other file systems have similar properties, including potentially an NFS, SMB, or AFP share, particularly when those shares are being served by something other than a Mac. Thus, a bug that occurs on one file system will likely occur on others.</p><a name="//apple_ref/doc/uid/TP40002856-BAJHJCCB" title="The Kernel"></a><h2>The Kernel</h2><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_54"></a><p>The core of any operating system is its kernel. Though Mac OS X shares much of its underlying architecture with BSD, the Mac OS X kernel, known as XNU<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_55"></a>, differs significantly. XNU is based on the Mach microkernel design, but it also incorporates BSD features. It is not technically a microkernel implementation, but still has many of the benefits of a microkernel, such as Mach interprocess communication mechanisms and a relatively clean API separation between various parts of the kernel. </p><p>Why is it designed like this? With pure Mach, the core parts of the operating system are user space processes. This gives you flexibility, but also slows things down because of message passing performance between Mach and the layers built on top of it. To regain that performance, BSD functionality has been incorporated in the kernel alongside Mach. The result is that the kernel combines the strengths of Mach with the strengths of BSD.</p><p>How does this relate to the actual tasks the kernel must accomplish? <span class="content_text"><a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-BBCEFDCJ">Figure 9-1</a></span> illustrates how the kernel’s different personalities are manifested.</p><br/><div><a name="//apple_ref/doc/uid/TP40002856-BBCEFDCJ" title="Figure 9-1XNU personalities"></a><p><strong>Figure 9-1&nbsp;&nbsp;</strong>XNU personalities</p><img src = "../art/bsd_mach.gif" alt = "XNU personalities" width="231" height="78"></div><br/><p>The Mach aspects of the kernel handle</p><ul class="ul"><li class="li"><p>Memory management<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_56"></a></p></li><li class="li"><p>Mach messaging<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_57"></a> and Mach inter process communication (IPC)<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_58"></a></p></li><li class="li"><p>Device drivers<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_59"></a></p></li></ul><p><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_60"></a>The BSD components</p><ul class="ul"><li class="li"><p>Manage users and permissions</p></li><li class="li"><p>Contain the networking stack<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_61"></a></p></li><li class="li"><p>Provide a virtual file system<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_62"></a></p></li><li class="li"><p>Maintain the POSIX<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_63"></a> compatibility layer<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_64"></a></p></li></ul><p>See Inside <em><a href="../../../../Darwin/Conceptual/KernelProgramming/index.html#//apple_ref/doc/uid/TP30000905" target="_top">Kernel Programming Guide</a></em> for more information on why you would (or wouldn’t) want to program in the kernel space, including a discussion on the kernel extension (KEXT) mechanism.<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_65"></a></p><a name="//apple_ref/doc/uid/TP40002856-BBCCCCIE" title="Open Directory and the dscl Tool"></a><h2>Open Directory and the dscl Tool</h2><p>Open Directory is the built-in Mac OS X directory system that system and application processes can use to store and find administrative information about resources and users. Open Directory includes components such as OpenLDAP and Kerberos for providing local and remote authentication.</p><p>By default, each Mac OS X computer runs client and server processes, but the server only serves to the local client. You can also bind client computers to servers other than the local server over a number of protocols including LDAP. Information is then accessed in a hierarchical scheme. In such a scheme, each client computer accesses the union of the information provided first by its local server and then by any higher-level servers it is bound to.</p><p>Directory Services is the default way that Mac OS X stores user and some network information. When a user is added, the system automatically adds their information to a local database using Open Directory. Traditional tools such as <code>adduser</code> either do not exist or do not work as you might expect. You can add users and groups in several ways:</p><ul class="ul"><li class="li"><p>Through the Users pane of System Preferences</p></li><li class="li"><p>Through <code>/Applications/Utilities/Directory</code> (for adding groups)</p></li><li class="li"><p>From the command line (see <span class="content_text"><a href="additionalfeatures.html#//apple_ref/doc/uid/TP40002856-BBCDBFBD">“Example: Adding a User From the Command Line”</a></span>)</p></li></ul><p>You can find more information on NetInfo in the manual pages for <code><!--a  -->netinfo<!--/a--></code>, <code><!--a  -->netinfo<!--/a--></code>, <code><!--a  -->nidump<!--/a--></code>, <code><!--a  -->nicl<!--/a--></code>, <code><!--a  -->nifind<!--/a--></code>, <code><!--a  -->niload<!--/a--></code>, <code>niutil</code>, and <code>nireport</code> on a computer running Mac OS X v10.4 or earlier. NetInfo is no longer supported in Mac OS X v10.5 and later. You should use Directory Service functionality instead.</p><p>You can find more information on Directory Service in <em><a href="../../../../Networking/Conceptual/Open_Directory/index.html#//apple_ref/doc/uid/TP40000917" target="_top">Open Directory Programming Guide</a></em>, <em><a href="../../../../../server/macosx/docs/Open_Directory_Admin_v10.5_3rd_Ed.pdf" target="_top">Mac OS X Server Open Directory Administration</a></em>, and the manual pages <code><a href="../../../../Darwin/Reference/ManPages/man8/DirectoryService.8.html#//apple_ref/doc/man/8/DirectoryService" target="_top">DirectoryService</a></code>, <code><a href="../../../../Darwin/Reference/ManPages/man1/dscl.1.html#//apple_ref/doc/man/1/dscl" target="_top">dscl</a></code>, <code><a href="../../../../Darwin/Reference/ManPages/man1/dsconfigldap.1.html#//apple_ref/doc/man/1/dsconfigldap" target="_top">dsconfigldap</a></code>, <code><a href="../../../../Darwin/Reference/ManPages/man1/dsexport.1.html#//apple_ref/doc/man/1/dsexport" target="_top">dsexport</a></code>, <code><a href="../../../../Darwin/Reference/ManPages/man1/dsimport.1.html#//apple_ref/doc/man/1/dsimport" target="_top">dsimport</a></code>, and <code><a href="../../../../Darwin/Reference/ManPages/man1/dsperfmonitor.1.html#//apple_ref/doc/man/1/dsperfmonitor" target="_top">dsperfmonitor</a></code>.</p><a name="//apple_ref/doc/uid/TP40002856-BBCDBFBD" title="Example: Adding a User From the Command Line"></a><h3>Example: Adding a User From the Command Line</h3><p>This section shows a simple example of using the Directory Service command-line tool, <code><a href="../../../../Darwin/Reference/ManPages/man1/dscl.1.html#//apple_ref/doc/man/1/dscl" target="_top">dscl</a></code>, to add a user to the system. The example specifies some of the properties that you would normally associate with any user.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_2" title="Note"></a><p><strong>Note:</strong>&nbsp;These commands must be run as the root user. If you are executing them from the command line manually, you should do this with <code><a href="../../../../Darwin/Reference/ManPages/man8/sudo.8.html#//apple_ref/doc/man/8/sudo" target="_top">sudo</a></code>. If you are using them in a script, you should use <code>sudo</code> when running the script.</p></div><ol class="ol"><li class="li"><p>Create a new entry in the local (<code>/</code>) domain under the category <code>/users</code>.</p><p><code>dscl / -create /Users/portingunix</code></p></li><li class="li"><p>Create and set the shell property to <code>bash</code>.</p><p><code>dscl / -create /Users/portingunix UserShell /bin/bash</code></p></li><li class="li"><p>Create and set the user’s full name.</p><p><code>dscl / -create /Users/portingunix RealName "Porting Unix Applications To Mac OS X"</code></p></li><li class="li"><p>Create and set the user’s ID.</p><p><code>dscl / -create /Users/portingunix UniqueID 503</code></p></li><li class="li"><p>Create and set the user’s group ID property.</p><p><code>dscl / -create /Users/portingunix PrimaryGroupID 1000</code></p></li><li class="li"><p>Create and set the user home directory. (Despite the name <code>NFSHomeDirectory</code>, this can also be used for a path to a home directory on a local volume.)</p><p><code>dscl / -create /Users/portingunix NFSHomeDirectory /Network/Servers/techno/Users/portingunix</code></p><p>or</p><p><code>dscl / -create /Users/portingunix NFSHomeDirectory /Users/portingunix</code></p></li><li class="li"><p>Set the password.</p><p><code>dscl / -passwd /Users/portingunix PASSWORD</code></p><p><em>or</em></p><p><code>passwd portingunix</code></p></li><li class="li"><p>To make that user useful, you might want to add them to the admin group. </p><p><code>dscl / -append /Groups/admin GroupMembership portingunix</code></p></li></ol><p>This is essentially what System Preferences does when it makes a new user, but the process is presented here so you can see more clearly what is going on behind the scenes with the database. A look through the hierarchies using <code>dscl</code> interactively also helps you understand how the database is organized.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF123" title="Printing (CUPS)"></a><h2>Printing (CUPS)</h2><p>Mac OS X, beginning in version 10.2, uses the Common UNIX Printing System (CUPS) as the basis of its printing system. CUPS is a free software (open source) print system that is also popular in Linux and UNIX circles. For more information on CUPS, see the Mac OS X Printing website at <span class="content_text"><a href="http://developer.apple.com/printing" target="_top">http://developer.apple.com/printing</a></span>.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF124" title="Bonjour"></a><h2>Bonjour</h2><p>Bonjour is an implementation of the IETF ZeroConf working draft. Bonjour has three basic parts:</p><ul class="ul"><li class="li"><p>IP assignment</p></li><li class="li"><p>Multicast DNS</p></li><li class="li"><p>Service discovery</p></li></ul><p>You can see the first part, IP assignment, simply by plugging two computers together using a crossover cable and setting them up to use DHCP to obtain an address. Upon failing to obtain an address, the computers choose an IP number randomly from within the range reserved for ZeroConf numbers, then ARP to see if anyone has that address already, repeating this process as needed until a free address is found. This means that a relatively large number of machines can choose their own IP numbers without any administration.</p><p>Multicast DNS is a service that allows you to look up the ZeroConf IP number assigned to a particular machine without an established DNS infrastructure. Your computer sends out a request using IP multicast, asking who responds for a particular host name. The host in question then responds. That host could be a computer, a printer, or any other device that might reasonably exist on an IP-based network.</p><p>Service discovery is a way to query local machines (using multicast DNS) or a DNS server to see what machines (computers, printers, and so on) support a given service. If you are writing a service, you can register the service using Bonjour. Then anyone else who makes a request sees that your machine supports that service.</p><p>The service discovery portion of Bonjour is independent of the IP assignment portion. Thus, Bonjour can also be used for service discovery on a more traditional, configured IP network.</p><p>For more information about Bonjour, see <em><a href="../../../../Networking/Conceptual/dns_discovery_api/index.html#//apple_ref/doc/uid/TP30000964" target="_top">DNS Service Discovery Programming Guide</a></em>.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF109" title="Scripting Languages"></a><h2>Scripting Languages</h2><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_66"></a><p>With Mac OS X, you can run shell scripts in its native <code>sh</code> compatible shell, <code>bash</code>, or the included <code>csh</code> and <code>tcsh</code>. You can also run Ruby<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_67"></a>, Perl<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_68"></a>, Python,<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_69"></a> Tcl, PHP, and other scripts you have developed. In addition, Mac OS X provides an Apple-specific scripting language, AppleScript<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_70"></a>. Although AppleScript is immensely powerful and can be used to build applications itself, it is designed mainly to communicate with graphical components of the operating system. There are other uses you can find for it, but it is not a replacement for UNIX-style scripting languages. You can use it, though, to put a GUI front end onto your traditional scripts.</p><p>AppleScript conforms to the Open Scripting Architecture<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_71"></a> (OSA) language and can be used from the command line through the <code><a href="../../../../Darwin/Reference/ManPages/man1/osascript.1.html#//apple_ref/doc/man/1/osascript" target="_top">osascript</a></code> command. Other languages can be made OSA compliant to enable interaction with the operating system.<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_72"></a></p><a name="//apple_ref/doc/uid/TP40002856-TPXREF112" title="Security and Security Services "></a><h2>Security and Security Services </h2><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_73"></a><p>Mac OS X implements the Common Data Security Architecture<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_74"></a> (CDSA). If you need to use Authorization Services, Secure Transport, or certificates within the scope of CDSA, online documentation is available at <span class="content_text"><a href="../../../../../documentation/Security/index.html" target="_top">http://developer.apple.com/documentation/Security/index.html</a></span>.</p><p>In addition, Mac OS X provides OpenSSL and PAM to ease porting of applications from other UNIX-based operating systems to Mac OS X.</p><a name="//apple_ref/doc/uid/TP40002856-TPXREF105" title="Role-Based Authentication"></a><h3>Role-Based Authentication</h3><p>By default, there is no root user<a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_75"></a> password in Mac OS X. This is a deliberate design decision to maximize security and to simplify the user interface. Your applications should not assume that a user needs superuser access to the system. For power users and developers, <code>sudo</code> is provided to run privileged applications in the shell. Privileged applications can also be run by members of the admin group. By default, the admin group is included in the list of “sudoers” (which can be found in the file <code>/etc/sudoers</code>). You can assign users to the admin group in System Preferences:</p><ol class="ol"><li class="li"><p>Click the Users button.</p></li><li class="li"><p>Select a user from the list and click Edit User, or make a new user.</p></li><li class="li"><p>Click the Password tab.</p></li><li class="li"><p>Check Allow user to administer this computer.</p></li><li class="li"><p>That user can now use administrative applications as well as <code>sudo</code> in the shell.</p></li></ol><p>Although it is generally considered unsafe practice to log in as the root user, it is mentioned here because the root user is often used to install applications during development. If during development you need to enable the root user for yourself.</p><p>In Mac OS X prior to version 10.5:</p><ol class="ol"><li class="li"><p>Launch <code>/Applications/Utilities/NetInfo Manager</code>.</p></li><li class="li"><p>Choose Domain > Security > Authenticate.</p></li><li class="li"><p>As prompted, enter your administrator name and password.</p></li><li class="li"><p>Now choose Domain > Security > Enable Root User. The first time you do this, you need to select a root password.</p></li></ol><p>In Mac OS X version 10.5 and later:</p><ol class="ol"><li class="li"><p>Launch <code>/Applications/Utilities/Directory Utility</code>.</p></li><li class="li"><p>Click the lock icon to authenticate yourself.</p></li><li class="li"><p>Select Edit > Enable Root User. The first time you do this, you need to select a root password.</p></li></ol><p>Alternatively, you can use <code>sudo passwd root</code> from the shell and set the appropriate root password.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40002856-DontLinkElementID_3" title="Important:"></a><p><strong>Important:</strong>&nbsp;Do not assume that an end user of your software can enable the root user. This information is provided to help you in development work only; software you distribute should never require the user to enable the root user.</p><p></p></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../distributing/distibuting.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../portability/portability.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-04-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Porting/Conceptual/PortingUnix/additionalfeatures/additionalfeatures.html%3Fid%3DTP30001003-2.13&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Porting/Conceptual/PortingUnix/additionalfeatures/additionalfeatures.html%3Fid%3DTP30001003-2.13&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Porting/Conceptual/PortingUnix/additionalfeatures/additionalfeatures.html%3Fid%3DTP30001003-2.13&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>