<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Adding an Additional Action</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Getting Started With Direct to Java Client</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="D2JCGettingStarted-59.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-59.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-61.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr></A><HR></DIV><H1><A NAME="pgfId-22279"></A>Adding an Additional Action</H1><A NAME="pgfId-22281"></A>Direct to Java Client uses EOAction objects to describe the actions associated with menu commands and buttons.</P><A NAME="pgfId-22637"></A>The default Direct to Java Client rules provide hooks for adding to an application's actions--the commands available in the application's main menu. Recall that when an application starts up, it makes a rule system request with the request key <B>availableActions</B>. By default, the system populates an application's menu with commands to Quit, open the Query Window, and so on.</P><A NAME="pgfId-22720"></A>To add custom commands to the menu, you create a rule with the key <B>additionalActions</B>. The value should be a D2WComponent that generates XML to describe an EOAction. When the <B>availableActions</B> rule is fired, any rule with the request key <B>additionalActions</B> is also fired, and the resulting EOAction is added to the set of default actions.</P><A NAME="pgfId-22312"></A>To add the "About WebObjects" command to the Tools menu, do the following:</P><OL><LI><A NAME="pgfId-22601"></A>Write a custom rule that specifies the following:<P><UL><LI><A NAME="pgfId-22264"></A>Condition (Lhs): empty (the rule should always fire)<P><LI><A NAME="pgfId-22265"></A>Request key (Rhs key): <B>additionalActions</B><P><LI><A NAME="pgfId-22266"></A>Value (Rhs value): AboutWebObjectsActions<P><LI><A NAME="pgfId-22267"></A>Priority: 50<P><A NAME="pgfId-22636"></A>The value, AboutWebObjectsActions is a D2WComponent that generates the XML for the custom action.<P></UL><LI><A NAME="pgfId-23212"></A>Write the AboutWebObjectsActions D2WComponent<P><A NAME="pgfId-22268"></A><B>AboutWebObjectsActions.html</B><P><A NAME="pgfId-23794"></A><TT>&lt;WEBOBJECT name=aboutWebObjectsAction/&gt;</TT><P><A NAME="pgfId-22270"></A><B>AboutWebObjectsActions.wod</B><P><A NAME="pgfId-22271"></A><TT>aboutWebObjectsAction: EOSwitchComponent {<BR><A NAME="pgfId-22272"></A>&nbsp;&nbsp;componentName = "EOHelpWindowAction";<BR><A NAME="pgfId-22273"></A>&nbsp;&nbsp;d2wContext = localContext;<BR><A NAME="pgfId-22274"></A>&nbsp;&nbsp;task = "aboutWebObjects";<BR><A NAME="pgfId-22275"></A>&nbsp;&nbsp;multipleWindowsAvailable = "false";<BR><A NAME="pgfId-22276"></A>}</TT></P></OL><HR>&#169 1999 Apple Computer, Inc. &#150 (Draft. Last updated 05 Jan 00)<P><A HREF="D2JCGettingStarted-59.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-59.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-61.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>