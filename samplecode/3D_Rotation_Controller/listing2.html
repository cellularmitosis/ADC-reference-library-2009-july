<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>3D Rotation Controller - /Rotation Controllers demo 1.0.1/Rotation Programs Doc.txt</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../samplecode/LegacyTechnologies/idxGraphicsImaging-date.html">Graphics & Imaging</a> &gt; <A HREF="javascript:location.replace('index.html');">3D Rotation Controller</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/GraphicsImaging/index.html" target="_blank">Reference Library > Graphics & Imaging</a></li>
	</ul>
</div>




</div></div></div>

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">3D Rotation Controller</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/Rotation Controllers demo 1.0.1/Rotation Programs Doc.txt</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/-Rotation Ctl's Read Me.txt</option>
<option value="listing2.html">/Rotation Controllers demo 1.0.1/Rotation Programs Doc.txt</option>
<option value="listing3.html">/Virtual Sphere Sample Code 1.1/Globals.c</option>
<option value="listing4.html">/Virtual Sphere Sample Code 1.1/Globals.h</option>
<option value="listing5.html">/Virtual Sphere Sample Code 1.1/Graphics3D.c</option>
<option value="listing6.html">/Virtual Sphere Sample Code 1.1/Graphics3D.h</option>
<option value="listing7.html">/Virtual Sphere Sample Code 1.1/MyMath.c</option>
<option value="listing8.html">/Virtual Sphere Sample Code 1.1/MyMath.h</option>
<option value="listing9.html">/Virtual Sphere Sample Code 1.1/ObjectData.h</option>
<option value="listing10.html">/Virtual Sphere Sample Code 1.1/Offscreen.c</option>
<option value="listing11.html">/Virtual Sphere Sample Code 1.1/Offscreen.h</option>
<option value="listing12.html">/Virtual Sphere Sample Code 1.1/Sample.c</option>
<option value="listing13.html">/Virtual Sphere Sample Code 1.1/Sample.h</option>
<option value="listing14.html">/Virtual Sphere Sample Code 1.1/Sample.r</option>
<option value="listing15.html">/Virtual Sphere Sample Code 1.1/SampleAdditional.c</option>
<option value="listing16.html">/Virtual Sphere Sample Code 1.1/SampleAdditional.h</option>
<option value="listing17.html">/Virtual Sphere Sample Code 1.1/VirtualSphere.c</option>
<option value="listing18.html">/Virtual Sphere Sample Code 1.1/VirtualSphere.h</option></select>
				</p>
				</form>
				<p><strong><a href="3D_Rotation_Controller.zip">Download Sample</a></strong> (&#147;3D_Rotation_Controller.zip&#148;, 240.2K)<BR>
<strong><a href="3D_Rotation_Controller.dmg">Download Sample</a></strong> (&#147;3D_Rotation_Controller.dmg&#148;, 296.5K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">Documentation for &quot;Rotation Controllers&quot; and &quot;Rotation Experiment&quot;0. System
Requirement               The applications &quot;Rotation Controllers&quot; and
&quot;Rotation Experiment&quot; will run on any Mac II family machine.  &quot;Rotation
Controllers&quot; will also run on the SE/30 though screen space will be a bit
little cramped.  Set the monitor (from the Control Panel) to display the
maximum number of colors.  People with grey-scale monitors should try out both
the &quot;colors&quot; and &quot;grays&quot; settings in the Control Panel.  For people with black
and white monitors (SE/30), only the cube object will look acceptable in
flat-shading.  Choose wireframe mode for the other objects.   Both applications
use the math co-processor and Color QuickDraw.  They will not work on the Mac
Plus, SE or Portable (yet).1. Introduction               The applications
demonstrate five &quot;virtual controllers&quot; for use in rotating three-dimensional
(3D) objects with the mouse.  The virtual controllers are described in more
detail in the paper &quot;A Study in Interactive 3-D Rotation Using 2-D Control
Devices&quot; by Michael Chen, S. Joy Mountford and Abigail Sellen published in the
ACM Siggraph '88 proceedings (Volume 22, Number 4, August 1988).  The
application &quot;Rotation Controllers&quot; allows you to compare the five controllers
at the same time.  The application &quot;Rotation Experiment&quot; implements a version
of the rotation experiment described in the Siggraph paper.2. Description of
Virtual Rotational Controllers               Rotations are done with respect
to the screen's (camera's) frame of reference, with the x-axis pointing to the
right, y-axis pointing upward and z-axis pointing at the user.  So, rotations
in x, y and z correspond to rotating the object up-and-down, left-and-right and
clockwise-counter-clockwise, respectively.2.1. Graphical Sliders Controller 
             The Graphical Sliders controller uses a traditional approach to
allow the user to perform 3-D rotations.  The sliders simulate &quot;treadmills&quot; and
therefore provide relative control over the amount of rotation.  A full sweep
across a slider provides 180 degrees of rotation about an independent axis.  As
long as the mouse button is initially depressed inside one slider, the user can
rotate about the corresponding axis even if accidentally crossing into another
slider.2.2. Overlapping Sliders Controller               The Overlapping
Sliders controller is a modification of the conventional slider approach.  The
three squares in the middle column of the 9-square grid represent a vertical
(x) slider.  The three squares in the middle row represent a horizontal (y)
slider.  The outside eight squares represent a circular (z) slider.          
    A full sweep of the vertical or horizontal slider rotates the object 180
degrees about the x or y axis respectively.  A full circle around the outside
squares rotates the object 360 degrees about z.  Note that only near vertical,
horizontal and circular movement of the mouse inside the middle column, middle
row and outside squares (respectively) are recognized by this controller.  A
diagonal movement in the middle square, for example, is ignored since this
would be a coupled rotation in x and y (i.e. the rotation axis lying somewhere
on the x-y plane).  Thus, this controller still operates on the basis of single
axis control.  The difference between this controller and conventional sliders,
though, is increased controller-display compatibility.  The direction of
movement of the mouse more closely corresponds with the direction of rotation. 
In addition, superimposing the controller on the object is intended to give the
user more of a sense of directly manipulating the object.2.3. Continuous XY
with Additional Z Controller               The Continuous XY with added Z
controller operates in two modes.  If the mouse button is depressed while the
mouse cursor is inside the circle, left-and-right and up-and-down movement of
the mouse will rotate the object left-and right and up-and-down on the screen. 
Diagonal movement will rotate the object the proportional amount about the x and
y-axis ( i.e. the axis of rotation is on the x-y plane and is perpendicular to
the direction of mouse movement).  If the mouse button is depressed while the
mouse cursor is outside the circle, the user can rotate the whole object
clockwise by going around the outside of the circle.  Thus this controller
provides either 1) continuous rotation on the x-y plane, or 2) exact rotation
about the z-axis.  A full sweep of the mouse across the circle rotates the
object 180 degrees about the corresponding axis in the x-y plane.  A full
circle around the outside rotates the object 360 degrees about z.2.4. Virtual
Sphere Controller               The virtual sphere controller simulates the
mechanics of a physical 3-D trackball that can freely rotate about any
arbitrary axis in 3-space.  On the display screen, the user can imagine viewing
an object encased in a glass sphere.  Rotation is then a matter of rolling the
sphere and therefore the object with the mouse cursor.  Up-and-down and
left-and-right movement at the centre of the circle is equivalent to &quot;rolling&quot;
the imaginary sphere at its apex and produces rotation about the x and y-axis
respectively.  Movement along (or completely outside) the edge of the circle is
equivalent to rolling the sphere at the edge and produces rotation about z.  The
amount of rotation is adjusted so that a full sweep of the mouse across the
circle rotates the object 180 degrees about the corresponding axis in the x-y
plane; a full circle around the outside rotates the object 360 degrees about z.
   Thus arbitrary movement will produce the proportionate amount of rotation in
x, y and z one would expect if one is spinning a real ball.  Note: if you do
not need the full 3 degrees of freedom, holding down the shift key will
constrain the rotation to the x, y or z-axis.               The difference
between this and the Continuous XY with additional Z is that the Virtual Sphere
allows continuous rotation about ALL THREE axes inside the circle while the
latter only allows continuous control of two axes inside.  To rotate in z, the
user must go outside the circle.               2.5  Evans, Tanner &amp; Wein
Controller               The Evans et al. technique is a combination of the
&quot;two-axis trackball&quot; and the &quot;stirrer&quot; techniques they described in their paper
[ACM Siggraph '81 Proceedings, Vol. 15, #3, Aug 81].  Their implementation
recognizes straight line (continuous rotation in x and y) and circular
(rotation in z) gestures.  To detect the different motions, a &quot;stirring angle&quot;
is calculated based on the change in movement of the last three positions of
the input device.  This value is then compared to a threshold to decide whether
the movement is in a &quot;relatively&quot; straight-line or not.  The threshold,
unfortunately, is dependent on two interrelated variables: the speed with which
each individual user likes to draw the circle and the frequency of reading of
the input device.  If the sampling rate is too fast or the user prefers to draw
the circle slowly, the three readings would tend to indicate that a straight
line is drawn.  Thus, threshold adjustments may be needed for different systems
and different users with this technique.  This application contains a dialog box
that allows the threshold parameters to be adjusted (see below).3. Using the
&quot;Rotation Controllers&quot; application.               This application starts up
with the five virtual controllers displayed in separate windows.  Each window
can display one of four objects: a cube, an icosahedron, a house and a Mac II. 
Change the object by using the &quot;Objects&quot; menu.               The &quot;Options&quot;
menu lets you toggle between wireframe / flat-shading, and enabling / disabling
backfaced polygon removal and double buffering.               The &quot;Controller&quot;
menu lets you zoom out a particular virtual controller window to full screen,
re-tile all the windows to their default locations, and change the parameters
for the Evans, Tanner &amp; Wein controller (see the Siggraph paper for more
detail).               The parameters that can be changed in the Evans,
Tanner &amp; Wein Controller Setup dialog are:                       &quot;Pixel
movement threshold&quot;: the amount of mouse movement before it is considered a
real movement                                  for the controller.           
           &quot;Stirring angle threshold:&quot; the minimum stirring angle before
rotation is switched form x-y to z.                       &quot;X-Y rotation
scaling:&quot; the scaling factor used if in x-y rotation mode.                    
  &quot;Z rotation scaling:&quot; the scaling factor used if in z rotation mode.         
             &quot;Maximum Z rotation:&quot; the maximum amount of z rotation per display
cycle.               The default values in the dialog box are my values for
the house object on a Mac II in single Finder.   I am sure they are not
optimal.  If you are going to use the companion rotation experiment
application, you might want to tune the E, T &amp; W parameters here and enter them
in the experiment application.4. Using the &quot;Rotation Experiment&quot; application
               This application is an almost exact copy of the experiment
used for collecting the data reported in the Siggraph paper.  Since the
original version ran on a Silicon Graphics IRIS 3010, some modifications had to
be made on this Mac version.  This version tests all five controllers one after
the other.               In the Experiment Setup dialog box, you will need to
specify the order of the controllers to be tested.  Since this is an within
subject experiment, the order of the controllers will affect the subject's
performance.  In the Siggraph experiment, we varied the controller order using
a Latin Square design.               In the Evans, Tanner and Wein Controller
Setup dialog, you will need to specify the five parameters discussed in the last
section.  The default values I have chosen works reasonably well on a Mac II, I
am sure they are not optimal.  My apologies.  Let me know if you come up with a
better set of values.               After all the dialogs, read the
instructions in the instructions window to begin the experiment.  Note all
windows are deactivated during the experiment excepted for the &quot;Rotation
Window&quot;.  To interrupt the experiment at any time, choose &quot;End Experiment&quot; from
the File menu.  You can then activate the &quot;Experiment Results&quot; window and copy
any experimental data onto the Clipboard before you quit the program.5.
Where am I?Comments are welcomed.  I can be reached by:              
internet:         chen@apple.com               AppleLink:       CHEN.M       
       mail:               20525 Mariani Ave, MS 76-3H                         
            Cupertino, CA 95014Sept 1989P.S.  Both programs are copyrighted
but may be distributed freely.  If you like the 2 programs, why not make a $5
donation to your favorite charity.Michael ChenATG / Human Interface Group,
Apple Computer, Inc.</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/3D_Rotation_Controller/listing2.html%3Fid%3DDTS10000124-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/3D_Rotation_Controller/listing2.html%3Fid%3DDTS10000124-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/3D_Rotation_Controller/listing2.html%3Fid%3DDTS10000124-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>