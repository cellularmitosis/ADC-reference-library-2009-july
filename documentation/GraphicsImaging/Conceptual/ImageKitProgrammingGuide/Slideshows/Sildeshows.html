<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Image Kit Programming Guide: Showing Slides</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Showing Slides"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004907-CH6" title="Showing Slides"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../Quartz-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40004907-CH1-SW1">Image Kit Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../ImageBrowser/ImageBrowser.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../IKImagePicker/IKImagePicker.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40004907-CH6-SW1" title="Showing Slides"></a><h1>Showing Slides</h1><p>Several applications provided with Mac OS X have a slideshow feature built in, including Mail and Preview. Starting with Mac OS X v10.5, any application can provide slideshow support by using the <code><a href="../../../Reference/IKSlideShow/IKSlideshow_Reference.html#//apple_ref/occ/cl/IKSlideshow" target="_top">IKSlideshow</a></code> class. In addition to digital images, a slideshow can display pages from PDF documents, QuickTime movies, Quartz Composer compositions, and custom document formats supported through the Quick Look framework. </p><p>This chapter describes the user interface provided by the <code><a href="../../../Reference/IKSlideShow/IKSlideshow_Reference.html#//apple_ref/occ/cl/IKSlideshow" target="_top">IKSlideshow</a></code> class and provides step-by-step instructions for creating a slideshow application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Sildeshows.html#//apple_ref/doc/uid/TP40004907-CH6-SW4">The Slideshow User Interface</a>
				
			<br/>
			
        
			
			
				<a href="Sildeshows.html#//apple_ref/doc/uid/TP40004907-CH6-SW5">Writing a Slideshow Application</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40004907-CH6-SW4" title="The Slideshow User Interface"></a><h2>The Slideshow User Interface</h2><p>When a slideshow runs, by default it opens to the first image provided by the slideshow data source. The slideshow uses the entire screen, as shown in <span class="content_text">Figure 4-1</span>. The controls at the bottom of the screen allow the user to move forward and backward, pause and play, view an index layout of all items in the show, fit the images to the screen, and close the slideshow.  </p><br/><div><a name="//apple_ref/doc/uid/TP40004907-CH6-SW2" title="Figure 4-1A slideshow with controls"></a><p><strong>Figure 4-1&nbsp;&nbsp;</strong>A slideshow with controls</p><img src = "../Art/ikslideshow_01.jpg" alt = "A slideshow with controls" ></div><br/><p>The user can override the automatic advance by clicking the pause control or by manually moving through the show using the onscreen controls or the arrow keys on the keyboard. </p><p>The index sheet (see <span class="content_text">Figure 4-2</span>) lets the user see many slides at the same time and to move through them using the arrow keys or by clicking an image. If the user double-clicks an image or presses Return, the slideshow resumes, starting with the selected image.</p><br/><div><a name="//apple_ref/doc/uid/TP40004907-CH6-SW3" title="Figure 4-2The index sheet"></a><p><strong>Figure 4-2&nbsp;&nbsp;</strong>The index sheet</p><img src = "../Art/ikslideshow_02.jpg" alt = "The index sheet" ></div><br/><a name="//apple_ref/doc/uid/TP40004907-CH6-SW5" title="Writing a Slideshow Application"></a><h2>Writing a Slideshow Application</h2><p>This section describes how to write an application that supports slideshows. First you’ll see what needs to be done to support slideshows in any application. Then you’ll take a look at a specific implementation of a simple slideshow application and the steps required to write the application.</p><p>A slideshow application requires a shared instance of the <code>IKSlideshow</code> class and a data source. You obtain the shared instance using the method <code>sharedSlideshow</code>. You run the slideshow using the method <code>runSlideshowWithDataSource:options:</code>.</p><p>You must implement two methods of the <code>IKSlideshowDataSource</code> protocol:</p><ul class="ul"><li class="li"><p><code>numberOfSlideshowItems</code> returns  the number of items in the slideshow.</p></li><li class="li"><p><code>slideshowItemAtIndex:</code> returns the slideshow item at the given index. The item can be specified as an image object (<code>CGImage</code>, <code>NSImage</code>), a string that represents a path to a file, or as a URL (<code>NSURL</code>).</p></li></ul><p>The <code>IKSlideshow</code> class defines a number of other methods that are useful depending on the nature of your application. For example, you can export slideshow items to an application, reload data, run or stop a slideshow, set a time interval that determines when the slideshow starts to play automatically, and get the index of the item that’s currently playing. </p><p>The <code>IKSlideshowDataSource</code> protocol defines several optional methods that you might want to implement, such as methods that allow your application to take action at certain points in the slideshow: <code><!--a target="_top" -->slideshowDidStop<!--/a--></code>, <code><!--a target="_top" -->slideshowWillStart<!--/a--></code>, and <code><a href="../../../Reference/IKSlideShowDataSource/IKSlideshowDataSource_ref.html#//apple_ref/occ/intfm/IKSlideshowDataSource/slideshowDidChangeCurrentIndex:" target="_top">slideshowDidChangeCurrentIndex:</a></code>. See <em><a href="../../../Reference/IKSlideShowDataSource/index.html#//apple_ref/doc/uid/TP40004707" target="_top">IKSlideshowDataSource Protocol Reference</a></em> for a complete descriptions of the methods in this protocol. </p><a name="//apple_ref/doc/uid/TP40004907-CH6-SW6" title="How the Simple Slideshow Application Works"></a><h3>How the Simple Slideshow Application Works</h3><p>The slideshow application that you’ll create in this section is quite simple. It implements the required methods of the the <code>IKSlideshowDataSource</code> protocol and allows the user to stop the slideshow and reload another set of images to view. It provides pathnames for each item in the slideshow. Although the paths could lead to any image file format supported by Quartz 2D and the Image I/O framework, including paths to PDF documents, for this application you’ll restrict the datasource mode to images. In this mode, Image Kit displays only the first page of any PDF documents that are mixed in with the images in a folder. </p><p>The most complicated part of this application is the code that fetches the pathnames for each item in the slideshow. The path-fetching code must be able to accept a folder path and resolve any folder path to the individual items in the path. The user should be able to provide a path to a folder that contains both individual items and other folders, but the resulting slideshow should show only individual files. In other words, the slideshow should not display folder icons, but rather, the items in the folder.</p><p>When launched, the simple slideshow application presents the user with an Open panel (dialog) for choosing a folder. The user closes the slideshow by clicking the Close icon provided by the slideshow controls shown in <span class="content_text"><a href="Sildeshows.html#//apple_ref/doc/uid/TP40004907-CH6-SW2">Figure 4-1</a></span>. The user can start another slideshow by choosing File > Choose Images, which presents the Open panel again. The slideshow application terminates when the user chooses Quit from the menu or presses Command-Q.</p><p>The user interface for this application is very simple—a Choose Images menu item, which you’ll create using Interface Builder. All other user interface elements are provided by the <code>IKSlideshow</code> class or other parts of the system. </p><p>To control the application, you’ll use the <code>NSWindowController</code> class. Your controller will have:</p><ul class="spaceabove"><li class="li"><p>A mutable array for holding the paths to each of the items in the slideshow</p></li><li class="li"><p>An instance of the <code>IKSlideshow</code> class</p></li></ul><a name="//apple_ref/doc/uid/TP40004907-CH6-SW7" title="Writing the Simple Slideshow Application"></a><h3>Writing the Simple Slideshow Application</h3><p>Now that you have an overview of the slideshow application, it’s time to write the code.  First you’ll set up the Xcode project, the project files, and the controller interface. Then you’ll add the necessary routines to the implementation file. Finally, you’ll create the user interface in Interface Builder.</p><a name="//apple_ref/doc/uid/TP40004907-CH6-SW8" title="Setting Up the Project, Project Files, and the Controller Interface"></a><h4>Setting Up the Project, Project Files, and the Controller Interface</h4><p>Follow these steps to set up the project:</p><ol class="ol"><li class="li"><p>Create a Cocoa application and name it <code>Simple Slideshow</code>.</p></li><li class="li"><p>Add the Quartz framework to the project.</p><p>For details, see <span class="content_text"><a href="../ImageKitComponents/ImageKitComponents.html#//apple_ref/doc/uid/TP40004907-CH3-SW4">“Using the Image Kit in Xcode.”</a></span></p></li><li class="li"><p>Choose File > New File.</p></li><li class="li"><p>Select “Objective-C NSWindowController subclass” and click Next.</p></li><li class="li"><p>Name the file <code>SlideshowController.m</code> and keep the option to create the header file. Then click Finish.</p></li><li class="li"><p>In the <code>SlideshowController.h</code> file, import the Quartz framework by adding this statement:</p><p><code>#import &lt;Quartz/Quartz.h></code></p></li><li class="li"><p>Add an instance variable for the slideshow and a mutable array for image paths.</p><p>The interface should look as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>@interface SlideshowController : NSWindowController {<span></span></pre></td></tr><tr><td scope="row"><pre>    IKSlideshow        *mSlideshow;<span></span></pre></td></tr><tr><td scope="row"><pre>    NSMutableArray *mImagePaths;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div></li><li class="li"><p>Save the <code>SlideshowController.h</code> file.</p></li></ol><a name="//apple_ref/doc/uid/TP40004907-CH6-SW9" title="Adding Routines to the Implementation File"></a><h4>Adding Routines to the Implementation File</h4><p>Implement the slideshow routines by following these steps:</p><ol class="ol"><li class="li"><p>Open the <code>SlideshowController.m</code> file.</p></li><li class="li"><p>In the implementation file, add an <code>awakeFromNib</code> method.</p><p>The method first obtains a shared instance of the slideshow and retains it. Next it loads images. You’ll write the <code>loadImages</code> method and its supporting methods later on. The <code>loadImages</code> method, if successful, will add image paths to the <code>mImagePaths</code> array. If paths are added, then the <code>awakeFromNib</code> method runs the slideshow, using the paths as the data source. </p><p>The following <code>awakeFromNib</code> method sets the mode to images only. If there are PDF documents in any folders that you add, Image Kit renders only the first page.</p><p>Note that the method  does not set any options for the slideshow. However, you can set any of the options specified by the slideshow option key constants defined in <em><a href="../../../Reference/IKSlideShow/index.html#//apple_ref/doc/uid/TP40004706" target="_top">IKSlideshow Class Reference</a></em>.</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)awakeFromNib<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>     mSlideshow = [[IKSlideshow sharedSlideshow] retain];<span></span></pre></td></tr><tr><td scope="row"><pre>     [self loadImages];<span></span></pre></td></tr><tr><td scope="row"><pre>     if ([mImagePaths count] > 0)<span></span></pre></td></tr><tr><td scope="row"><pre>        [mSlideshow runSlideshowWithDataSource:(id&lt;IKSlideshowDataSource>)self<span></span></pre></td></tr><tr><td scope="row"><pre>                      inMode: IKSlideshowModeImages<span></span></pre></td></tr><tr><td scope="row"><pre>                      options: NULL];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Next you need to implement the two required methods of the <code><a href="../../../Reference/IKSlideShowDataSource/IKSlideshowDataSource_ref.html#//apple_ref/occ/intf/IKSlideshowDataSource" target="_top">IKSlideshowDataSource Protocol</a></code> protocol.</p><p>The <code>numberOfSlideshowItems</code> method simply returns a count the number of paths in the <code>mImagePaths</code> array. The <code>slideshowItemAtIndex:</code> method returns the index of the <code>mImagePaths</code> array for the item in question.</p><div class="codesample"><table><tr><td scope="row"><pre>- (NSUInteger)numberOfSlideshowItems<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return [mImagePaths count];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (id)slideshowItemAtIndex: (NSUInteger)index<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>   int i;<span></span></pre></td></tr><tr><td scope="row"><pre>   i = index % [mImagePaths count];<span></span></pre></td></tr><tr><td scope="row"><pre>    return [mImagePaths objectAtIndex: i];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Implement a <code>loadImages</code> method.</p><p>This and the next few steps are where most of the work is done in the slideshow application. The <code>loadImages</code> method allocates and initializes the <code>mImagePaths</code> array, if necessary. Otherwise, the method removes all objects in preparation for adding new slideshow items.</p><p>Next the method calls a function to open files. You’ll write this routine in the next step. The <code>openFiles</code> routine invokes the Open panel (<code>NSOpenPanel</code> class) and returns an array of paths or <code>NULL</code> if the user cancels the Open panel. If there is an array of paths, the <code>loadImages</code> method iterates through the paths and calls the method <code>addImagesFromPath:</code>, which you’ll write in a moment.</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)loadImages<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    if (NULL == mImagePaths)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        mImagePaths = [[NSMutableArray alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>    } else {<span></span></pre></td></tr><tr><td scope="row"><pre>      [mImagePaths removeAllObjects];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    NSArray * array = openFiles();<span></span></pre></td></tr><tr><td scope="row"><pre>    if (array != NULL)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        NSEnumerator *  enumerator;<span></span></pre></td></tr><tr><td scope="row"><pre>        NSString *      path;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        enumerator = [array objectEnumerator];<span></span></pre></td></tr><tr><td scope="row"><pre>        while (path = [enumerator nextObject])<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>                [self addImagesFromPath: path];<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Next you need to include an <code>openFiles</code> routine, which you’ll add in the <code>SlideshowController.m</code> file, but prior to the implementation statement.</p><p>The <code>openFiles</code> routine creates an instance of the <code>NSOpenPanel</code> class, sets up options to allow the user to choose directories as well as files, runs the panel, and returns either an array of the file names chosen by the user, or <code>nil</code> if the user clicks the Cancel button.</p><div class="codesample"><table><tr><td scope="row"><pre>static NSArray *openFiles()<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSOpenPanel *panel;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    panel = [NSOpenPanel openPanel];<span></span></pre></td></tr><tr><td scope="row"><pre>    [panel setFloatingPanel:YES];<span></span></pre></td></tr><tr><td scope="row"><pre>    [panel setCanChooseDirectories:YES];<span></span></pre></td></tr><tr><td scope="row"><pre>    [panel setCanChooseFiles:NO];<span></span></pre></td></tr><tr><td scope="row"><pre>    int i = [panel runModalForTypes:nil];<span></span></pre></td></tr><tr><td scope="row"><pre>    if(i == NSOKButton){<span></span></pre></td></tr><tr><td scope="row"><pre>        return [panel filenames];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>        return nil;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Write the <code>addImagesFromPath:</code> method called by the <code>loadImages</code> method.</p><p>The first task for this method is to obtain an array of all the string objects contained in the given path. Then the method iterates through the string objects. If the string does not have a filename extension, then it represents a path. In this case the method calls itself to recursively resolve the path into individual items. If the string has an extension, then it represents an individual item that can be added to the image path array. </p><div class="codesample"><table><tr><td scope="row"><pre>- (void)addImagesFromPath: (NSString *)path<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>   NSArray * array  = [[NSFileManager defaultManager]<span></span></pre></td></tr><tr><td scope="row"><pre>                   directoryContentsAtPath: path];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    NSEnumerator *  enumerator;<span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *      imagePath;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    enumerator = [array objectEnumerator];<span></span></pre></td></tr><tr><td scope="row"><pre>    while (imagePath = [enumerator nextObject])<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        if ([[[imagePath pathExtension] lowercaseString] isEqualToString: @""])<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>             [self addImagesFromPath: [NSString stringWithFormat: @"%@/%@/",<span></span></pre></td></tr><tr><td scope="row"><pre>                                       path, imagePath]];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>      } else<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>            [mImagePaths addObject: [NSString stringWithFormat: @"%@/%@",<span></span></pre></td></tr><tr><td scope="row"><pre>                                     path, imagePath]];<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>You need to write a choose images method that is invoked when the user chooses that command.</p><p>Recall that the user can stop a slideshow and start another by choosing File > Choose Images. You’ll add this menu item and connect to this action later on.</p><p>This method first calls the <code>loadImages</code> method to fetch and add new slideshow items. If there are items to add (that is, the user did not click Cancel in the Open panel), the method reloads the slideshow data and then runs the slideshow.</p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction) chooseImages:(id) sender<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    [self loadImages];<span></span></pre></td></tr><tr><td scope="row"><pre>    if ([mImagePaths count] > 0) {<span></span></pre></td></tr><tr><td scope="row"><pre>        [mSlideshow reloadData];<span></span></pre></td></tr><tr><td scope="row"><pre>        [mSlideshow  runSlideshowWithDataSource: (id&lt;IKSlideshowDataSource>)self<span></span></pre></td></tr><tr><td scope="row"><pre>            inMode: IKSlideshowModeImages<span></span></pre></td></tr><tr><td scope="row"><pre>            options: NULL];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>You need to provide a <code>dealloc</code> method that releases the image paths array and the slideshow object.</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)dealloc<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>  [mImagePaths release];<span></span></pre></td></tr><tr><td scope="row"><pre>  [mSlideshow release];<span></span></pre></td></tr><tr><td scope="row"><pre>  [super dealloc];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Save the <code>SlideshowController.m</code> file.</p></li><li class="li"><p>Open the <code>SlideshowController.h</code> file and add these method declarations:</p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction)chooseImages:(id)sender;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (NSUInteger)numberOfSlideshowItems;<span></span></pre></td></tr><tr><td scope="row"><pre>- (id)slideshowItemAtIndex: (NSUInteger)index;<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)loadImages;<span></span></pre></td></tr></table></div></li><li class="li"><p>Save the <code>SlideshowController.h</code> file.</p></li></ol><a name="//apple_ref/doc/uid/TP40004907-CH6-SW10" title="Creating the User Interface"></a><h4>Creating the User Interface</h4><p>Set up the user interface in Interface Builder by following these steps:</p><ol class="ol"><li class="li"><p>Double-click the <code>MainMenu.nib</code> file to open Interface Builder.</p></li><li class="li"><p>Choose File > Synchronize With Xcode.</p></li><li class="li"><p>Delete the window icon in the nib document  window.</p></li><li class="li"><p>Double-click the MainMenu icon in the nib document  window.</p></li><li class="li"><p>Drag a Menu Item (<code>NSMenuItem</code>) from the Library to the File menu and name the item Choose Images.</p></li><li class="li"><p>Drag an Object (<code>NSObject</code>) from the Library to the nib document window.</p></li><li class="li"><p>In the Identity inspector, type SlideshowController in the Name field. THen select <code>SlideshowController</code> from the Class pop-up menu.</p></li><li class="li"><p>Control-drag from the Choose Images menu item to the SlideshowController  and in the connections panel choose <code>chooseImages:</code>.</p></li><li class="li"><p>Save the nib file.</p></li><li class="li"><p>In Xcode, click Build and Go. Then test your application to make sure it works.</p><p>You might get warnings if you placed the methods into your file in the wrong order.</p><p>Check to make sure that you can run a slideshow. Exit the slideshow, and then start another by choosing File > Choose Images.</p></li></ol>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../ImageBrowser/ImageBrowser.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../IKImagePicker/IKImagePicker.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-06-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Conceptual/ImageKitProgrammingGuide/Slideshows/Sildeshows.html%3Fid%3DTP40004907-1.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Conceptual/ImageKitProgrammingGuide/Slideshows/Sildeshows.html%3Fid%3DTP40004907-1.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Conceptual/ImageKitProgrammingGuide/Slideshows/Sildeshows.html%3Fid%3DTP40004907-1.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>