<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>About the LAP Manager(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING236></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-235.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-237.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-235.html"><B>Chapter 10 - Link-Access Protocol (LAP) Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING236-0></A>
<H1>About the LAP Manager</H1>
 A Macintosh computer on an AppleTalk network can include one or more AppleTalk connection files. An <A NAME=MARKER-2-7></A><B>AppleTalk <A NAME=MARKER-2-8></A>connection file</B> is a file of type <CODE>'adev'</CODE> that contains a link-access protocol implementation for a data link (ELAP for EtherTalk, for example). One important function of an AppleTalk connection file is to implement the AppleTalk Address Resolution Protocol (AARP) that maps hardware layer addresses to AppleTalk node addresses. The LAP Manager makes it possible for the user to select among AppleTalk connection files by using the Network control panel to specify which network is to be used for the node's AppleTalk connection. When the user selects a connection from the Network control panel, the LAP Manager routes AppleTalk communications through the selected link-access protocol and hence through the selected hardware. The LAP Manager acts as a switching mechanism, interceding between the higher-level AppleTalk protocols and the data links so that when a user selects or changes the type of data link to be used, the process is transparent to the higher-level AppleTalk protocols and has no effect on applications that are clients of these protocols. <A HREF=#MARKER-9-10>Figure 10-1</A> shows this service that the LAP Manager provides. <A NAME=MARKER-2-139></A>This figure does not show an AppleTalk connection file for LLAP because AARP is not used for LLAP and address mapping is not necessary.<P>
<B>Figure 10-1  <A NAME=MARKER-9-10></A>LAP Manager connecting the higher-level AppleTalk protocols with the <BR>selected data link</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/LAP-L-01.jpg"><P>
 In addition to providing an interface to AppleTalk connection files, the LAP Manager also maintains the <A NAME=MARKER-2-11></A><B>AppleTalk Transition Queue,</B> which is an operating-system queue that can notify your application each time an AppleTalk transition occurs. An <B>AppleTalk</B> <B>transition</B> is an event, such as an AppleTalk driver being opened or closed or a network connection being broken, that can affect your AppleTalk application. <P>
 At any given time there might be two or more applications running that use AppleTalk. If one of these applications opens the .MPP driver, the other AppleTalk applications that use the driver are affected. If the operating system closes the AppleTalk .MPP driver, all AppleTalk applications using the driver are affected. To ensure that your application <BR>is not adversely affected by such an event, your application can place an entry in the AppleTalk Transition Queue. The LAP Manager sends a message to each entry each time the operating system or any routine performs any of these operations:<P>
<UL>
<LI>opens the .MPP driver
<LI>closes the .MPP driver
<LI>indicates that it intends to close the .MPP driver
<LI>cancels its intention to close the .MPP driver
<LI>reports that it is changing the flagship name (This is a personalized name that a user can enter to identify the system when it is connected to an AppleTalk network.)
<LI>indicates that it intends to change the flagship name
<LI>cancels its intention to change the flagship name
<LI>reports that the network connectivity has changed (for example, that a previously interconnected network is no longer available)
<LI>reports that the cable range for the current network has been changed
<LI>changes the speed of the CPU
<LI>defines its own AppleTalk event and calls the AppleTalk Transition Queue to inform it that such an event occurred<P>
</UL>
 Each of these events is referred to as an <A NAME=MARKER-2-12></A><I>AppleTalk transition.</I><P>
 The LAP Manager also includes a protocol handler that reads 802.2 packets and provides an interface that allows you to attach your own <A NAME=MARKER-2-13></A><B>protocol handler</B> to receive 802.2 Type 1 packets. An 802.2 protocol handler is an application or process that receives, reads, and processes these 802.2 data packets. An 802.2 packet conforms to the 802.2 data-link standard called <A NAME=MARKER-2-24></A><B>Logical Link Control (LLC)</B> defined by the <A NAME=MARKER-2-233></A>I<A NAME=MARKER-2-17></A>nstitute of Electrical and Electronics Engineers (IEEE) for use on Ethernet, token ring, FDDI, and certain other data links. The 802.2 Type 1 protocol specifies a <I>connectionless</I> or <I>datagram</I> service. (The AppleTalk ELAP, TLAP, and FLAP implementations process 802.2 Type 1 packets.) <P>



</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-235.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-237.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
