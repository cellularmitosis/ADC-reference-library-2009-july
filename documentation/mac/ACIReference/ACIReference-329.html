<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>MyCMNewLinkProfile(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING329></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-328.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-330.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-314.html"><B>Chapter 4 - ColorSync Manager Reference for Color Management Modules</B></A> / <A HREF="ACIReference-322.html"><B>Optional CMM-Defined Functions</B></A><BR><DL><DD><A HREF="ACIReference-308.html"><B></B></A> / <A HREF="ACIReference-317.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING329-0></A>
<H3><A NAME=MARKER-9-62></A>MyCMNewLinkProfile</H3>
 Handles the <CODE>kCMMNewLinkProfile</CODE> request by creating a single device-linked profile that includes the profiles in the specified profile set.<P>
 A CMM should <A NAME=MARKER-2-63></A>respond to the <CODE>kCMMNewLinkProfile</CODE> request code, but it is not required to do so. The ColorSync Manager sends this request code to your CMM on behalf of an application that called the <CODE>CWNewLinkProfile</CODE> function. The ColorSync Manager dispatches this request to the Component Manager, which calls your CMM to service the request. A CMM typically responds to the <CODE>kCMMNewLinkProfile</CODE> request code by calling a CMM-defined function (for example, <A NAME=MARKER-11-64></A><CODE>MyCMNewLinkProfile</CODE>) to handle the request. <P>
 The MyCMNewLinkProfile function is a color management module-defined subroutine.<P>
<PRE>
pascal CMError MyCMNewLinkProfile(
ComponentInstance CMSession,
CMProfileRef *prof,
const CMProfileLocation *targetLocation,
CMConcatProfileSet *profileSet);
</PRE>
<DL>
<DT><CODE>CMsession</CODE>
<DD> A handle to your CMM's storage for the instance of your component associated with the calling application or device driver.
<DT><CODE>prof</CODE>
<DD> A pointer to a reference to a device-linked profile of type <CODE>DeviceLink</CODE>. Your <CODE>MyCMNewLinkProfile</CODE> function creates this profile, opens it to obtain a reference to it, and returns a pointer to the profile reference in this parameter. The profile may be a file-based profile or a handle-based profile. It must not be a pointer-based profile or a temporary profile.
<DT><CODE>targetLocation</CODE>
<DD> A pointer to a location specification for the resulting profile, which your function returns. This is the file specification where you created the profile. For information on how to specify the location, see <A HREF=ACIReference-180.html#MARKER-9-221>"Profile Location Union" (page 3-37)</A> and <A HREF=ACIReference-181.html#MARKER-9-224>"Profile Location Structure" (page 3-38)</A>.
<DT><CODE>profileSet</CODE>
<DD> A pointer to an array of profiles <A HREF=ACIReference-189.html#MARKER-9-250>(page 3-46)</A>. Your function must include these profiles in order in any device-linked profile it creates. The profiles in the array are in processing order--source through destination. The <CODE>profileSet</CODE> field of the data structure contains the array. For a description of the <CODE>CMConcatProfileSet</CODE> data structure, see <A HREF=ACIReference-189.html#MARKER-9-250>"Concatenated Profile Set Structure" (page 3-46)</A>.
<DT><I>function result</I>
<DD> A result code of type CMError. See <A HREF=ACIReference-313.html#MARKER-9-479>"Result Codes" (page 3-172)</A> for a list of ColorSync-specific result codes.
</DL>
<A NAME=HEADING329-10></A>
<H5>DISCUSSION</H5>
 Your <CODE>MyCMNewLinkProfile</CODE> function must create a single device-linked profile of type <CODE>DeviceLink</CODE> that includes the profiles passed to you in the array pointed to by the <CODE>profileSet</CODE> parameter. For information about profiles of type <CODE>DeviceLink</CODE>, see <A HREF=ACIReference-160.html#MARKER-9-68>"Profile Classes" (page 3-13)</A>. You must adhere to the requirements for device-linked profiles described in the same chapter.<P>
 After your function creates the device-linked profile, it must open the profile and return a reference to the profile in the <CODE>prof</CODE> parameter. <P>
 The <I>International Color Consortium Profile Format Specification</I>, version 2.x, document revision 3.x, also describes device-linked profiles. For information on how to obtain a copy of this document, contact the Developer Support organization of Apple Computer. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-328.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-330.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
