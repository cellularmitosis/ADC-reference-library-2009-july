<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=HTML">
<title>IOStreamLib.h</title>
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/HardwareDrivers/index.html#//apple_ref/doc/uid/TP30001281-TP40003576" target="_top">Hardware & Drivers</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/iokit_fw" target="_top">I/O Kit Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOStreamLib.h">IOStreamLib.h</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr>
<td scope="row"><b>Includes:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!-- a -->&lt;sys/cdefs.h&gt;<!-- /a --><br><a href="../IOKitLib_h/index.html#//apple_ref/doc/header/IOKitLib.h" target="_top">&lt;IOKit/IOKitLib.h&gt;</a><br><!-- a -->&lt;IOKit/IOCFPlugIn.h&gt;<!-- /a --><br><!-- a -->&lt;CoreFoundation/CoreFoundation.h&gt;<!-- /a --><br><a href="../IOStreamShared_h/index.html#//apple_ref/doc/header/IOStreamShared.h" target="_top">&lt;IOKit/stream/IOStreamShared.h&gt;</a>
</div></div></td>
</tr></table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>IOCFPlugin library for using IOStream objects.
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The IOStream plugin provides a convenient set of functions for accessing and manipulating
IOStream objects from user programs.
<!-- end discussion -->
</p>
<hr>
<br><h2>Groups</h2>

<h3>Notifications</h3>
<blockquote>
<p> </p>
</blockquote>
<h4>Group members:</h4>
<blockquote>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/SendInputNotification" target="_top">SendInputNotification</a></tt></dt>
<dd><p>Send a notification to the kernel side of the IOStream
that data is available in the input queue.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SendInputSyncNotification" target="_top">SendInputSyncNotification</a></tt></dt>
<dd><p>Notify the kernel side of the stream that input is ready
by using a fast trap to call directly into the stream user client driver.
This will transfer control to the kernel and continue executing
on your same thread, rather than sending the notification to a separate thread.
</p></dd>
</dl>
</blockquote>
<p>&nbsp;</p>
<h3>Buffer</h3>
<blockquote>
<p></p>
<p>convenience functions</p>
</blockquote>
<h4>Group members:</h4>
<blockquote>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/DequeueOutputEntry" target="_top">DequeueOutputEntry</a></tt></dt>
<dd><p>Get the next IOStreamBufferQueueEntry available from the output queue.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/EnqueueInputBuffer" target="_top">EnqueueInputBuffer</a></tt></dt>
<dd><p>Send a buffer to the kernel side of the IOStream on the input queue.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/EnqueueInputEntry" target="_top">EnqueueInputEntry</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetBufferCount" target="_top">GetBufferCount</a></tt></dt>
<dd><p>Gets the number of buffers in the stream.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetBufferInfo" target="_top">GetBufferInfo</a></tt></dt>
<dd><p>Gets information about a buffer in an IOStream.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetControlBuffer" target="_top">GetControlBuffer</a></tt></dt>
<dd><p>Get a pointer to the control area of an IOStreamBuffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetControlBufferLength" target="_top">GetControlBufferLength</a></tt></dt>
<dd><p>Get the length of the control area of an IOStreamBuffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetDataBuffer" target="_top">GetDataBuffer</a></tt></dt>
<dd><p>Get a pointer to the data area of an IOStreamBuffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetDataBufferLength" target="_top">GetDataBufferLength</a></tt></dt>
<dd><p>Get the length of the data area of an IOStreamBuffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetMode" target="_top">GetMode</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetMode()" target="_top">GetMode()</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SetMode" target="_top">SetMode</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SetMode()" target="_top">SetMode()</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/StartStream" target="_top">StartStream</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/StartStream()" target="_top">StartStream()</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/StopStream" target="_top">StopStream</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/StopStream()" target="_top">StopStream()</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SuspendStream" target="_top">SuspendStream</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SuspendStream()" target="_top">SuspendStream()</a></tt></dt>
<dd></dd>
</dl>
</blockquote>
<p>&nbsp;</p>
<h3>Opening</h3>
<blockquote>
<p></p>
<p>and closing streams</p>
</blockquote>
<h4>Group members:</h4>
<blockquote>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/Close" target="_top">Close</a></tt></dt>
<dd><p>Closes an IOStream.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/Open" target="_top">Open</a></tt></dt>
<dd><p>Open an IOStream from user space.
</p></dd>
</dl>
</blockquote>
<p>&nbsp;</p>
<h3>Run</h3>
<blockquote>
<p></p>
<p>loop operations</p>
</blockquote>
<h4>Group members:</h4>
<blockquote>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/AddToRunLoop" target="_top">AddToRunLoop</a></tt></dt>
<dd><p>Add the CFRunLoopSource for the notification port to a run loop.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetRunLoopSource" target="_top">GetRunLoopSource</a></tt></dt>
<dd><p>Gets a CFRunLoopSource for the CFMachPort used for notifications
from the kernel that data is ready.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/RemoveFromRunLoop" target="_top">RemoveFromRunLoop</a></tt></dt>
<dd><p>Remove the CFRunLoopSource for the notification port from a run loop.
</p></dd>
</dl>
</blockquote>
<p>&nbsp;</p>
<h3>Input</h3>
<blockquote>
<p></p>
<p>and output</p>
</blockquote>
<h4>Group members:</h4>
<blockquote>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/GetInputPort" target="_top">GetInputPort</a></tt></dt>
<dd><p>Get the notification port for buffers moving in from user
to kernel space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetInputQueue" target="_top">GetInputQueue</a></tt></dt>
<dd><p>Get the shared memory queue for buffers moving in from user
to kernel space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetOutputPort" target="_top">GetOutputPort</a></tt></dt>
<dd><p>Get the notification port for buffers moving out from kernel
to user space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetOutputQueue" target="_top">GetOutputQueue</a></tt></dt>
<dd><p>Get the shared memory queue for buffers moving out from kernel
to user space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SetOutputCallback" target="_top">SetOutputCallback</a></tt></dt>
<dd><p>Set the callback function to be called when a new buffer
is available from the kernel.
</p></dd>
</dl>
</blockquote>
<hr>
<h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/AddToRunLoop" target="_top">AddToRunLoop</a></tt></dt>
<dd><p>Add the CFRunLoopSource for the notification port to a run loop.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/Close" target="_top">Close</a></tt></dt>
<dd><p>Closes an IOStream.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/DequeueOutputEntry" target="_top">DequeueOutputEntry</a></tt></dt>
<dd><p>Get the next IOStreamBufferQueueEntry available from the output queue.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/EnqueueInputBuffer" target="_top">EnqueueInputBuffer</a></tt></dt>
<dd><p>Send a buffer to the kernel side of the IOStream on the input queue.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/EnqueueInputEntry" target="_top">EnqueueInputEntry</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetBufferCount" target="_top">GetBufferCount</a></tt></dt>
<dd><p>Gets the number of buffers in the stream.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetBufferInfo" target="_top">GetBufferInfo</a></tt></dt>
<dd><p>Gets information about a buffer in an IOStream.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetControlBuffer" target="_top">GetControlBuffer</a></tt></dt>
<dd><p>Get a pointer to the control area of an IOStreamBuffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetControlBufferLength" target="_top">GetControlBufferLength</a></tt></dt>
<dd><p>Get the length of the control area of an IOStreamBuffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetDataBuffer" target="_top">GetDataBuffer</a></tt></dt>
<dd><p>Get a pointer to the data area of an IOStreamBuffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetDataBufferLength" target="_top">GetDataBufferLength</a></tt></dt>
<dd><p>Get the length of the data area of an IOStreamBuffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetInputPort" target="_top">GetInputPort</a></tt></dt>
<dd><p>Get the notification port for buffers moving in from user
to kernel space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetInputQueue" target="_top">GetInputQueue</a></tt></dt>
<dd><p>Get the shared memory queue for buffers moving in from user
to kernel space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetMode" target="_top">GetMode</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetMode()" target="_top">GetMode()</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetOutputPort" target="_top">GetOutputPort</a></tt></dt>
<dd><p>Get the notification port for buffers moving out from kernel
to user space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetOutputQueue" target="_top">GetOutputQueue</a></tt></dt>
<dd><p>Get the shared memory queue for buffers moving out from kernel
to user space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/GetRunLoopSource" target="_top">GetRunLoopSource</a></tt></dt>
<dd><p>Gets a CFRunLoopSource for the CFMachPort used for notifications
from the kernel that data is ready.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/Open" target="_top">Open</a></tt></dt>
<dd><p>Open an IOStream from user space.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/RemoveFromRunLoop" target="_top">RemoveFromRunLoop</a></tt></dt>
<dd><p>Remove the CFRunLoopSource for the notification port from a run loop.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SendInputNotification" target="_top">SendInputNotification</a></tt></dt>
<dd><p>Send a notification to the kernel side of the IOStream
that data is available in the input queue.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SendInputSyncNotification" target="_top">SendInputSyncNotification</a></tt></dt>
<dd><p>Notify the kernel side of the stream that input is ready
by using a fast trap to call directly into the stream user client driver.
This will transfer control to the kernel and continue executing
on your same thread, rather than sending the notification to a separate thread.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SetMode" target="_top">SetMode</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SetMode()" target="_top">SetMode()</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SetOutputCallback" target="_top">SetOutputCallback</a></tt></dt>
<dd><p>Set the callback function to be called when a new buffer
is available from the kernel.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/StartStream" target="_top">StartStream</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/StartStream()" target="_top">StartStream()</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/StopStream" target="_top">StopStream</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/StopStream()" target="_top">StopStream()</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SuspendStream" target="_top">SuspendStream</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/SuspendStream()" target="_top">SuspendStream()</a></tt></dt>
<dd></dd>
</dl>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/AddToRunLoop;   name=AddToRunLoop --><a name="//apple_ref/c/func/AddToRunLoop"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AddToRunLoop">AddToRunLoop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Add the CFRunLoopSource for the notification port to a run loop.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/AddToRunLoop" target="_top" class="function"><span class="function">AddToRunLoop</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>, 
    <a href="../../../../CoreFoundation/Reference/CFRunLoopRef/Reference/reference.html#//apple_ref/c/tdef/CFRunLoopRef" target="_top" class="type"><span class="type">CFRunLoopRef</span></a> <span class="param">runLoop</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
<dt><code>runLoop</code></dt>
<dd><p>The run loop to which to add the notification source.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the source was successfully added
to the run loop.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/Close;   name=Close --><a name="//apple_ref/c/func/Close"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="Close">Close</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Closes an IOStream.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/Close" target="_top" class="function"><span class="function">Close</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to close.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the stream was successfully
closed and the buffers unmapped.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Calling Close umaps all shared memory for the stream
and frees all user resources used by the stream.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/DequeueOutputEntry;   name=DequeueOutputEntry --><a name="//apple_ref/c/func/DequeueOutputEntry"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="DequeueOutputEntry">DequeueOutputEntry</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the next IOStreamBufferQueueEntry available from the output queue.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/DequeueOutputEntry" target="_top" class="function"><span class="function">DequeueOutputEntry</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <a href="../IOStreamShared_h/index.html#//apple_ref/c/tag/IOStreamBufferQueueEntry" target="_top" class="type"><span class="type">IOStreamBufferQueueEntry</span></a> <span class="type">*</span><span class="param">entry</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
<dt><code>entry</code></dt>
<dd><p>A pointer to an IOStreamBufferQueueEntry structure.  The next available
entry from the output queue will be copied into it.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The IOStreamBufferID of the next available buffer, or
kInvalidIOStreamBufferID if no buffer is in the queue.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/EnqueueInputBuffer;   name=EnqueueInputBuffer --><a name="//apple_ref/c/func/EnqueueInputBuffer"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="EnqueueInputBuffer">EnqueueInputBuffer</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Send a buffer to the kernel side of the IOStream on the input queue.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/EnqueueInputBuffer" target="_top" class="function"><span class="function">EnqueueInputBuffer</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <a href="../IOStreamShared_h/index.html#//apple_ref/c/tdef/IOStreamBufferID" target="_top" class="type"><span class="type">IOStreamBufferID</span></a> <span class="param">bufferID</span>, 
    <!-- a --><span class="type">IOByteCount</span><!-- /a --> <span class="param">dataOffset</span>,
    <!-- a --><span class="type">IOByteCount</span><!-- /a --> <span class="param">dataLength</span>, 
    <!-- a --><span class="type">IOByteCount</span><!-- /a --> <span class="param">controlOffset</span>,
    <!-- a --><span class="type">IOByteCount</span><!-- /a --> <span class="param">controlLength</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
<dt><code>bufferID</code></dt>
<dd><p>The IOStreamBufferID of the buffer to place on the queue.</p></dd>
<dt><code>dataLength</code></dt>
<dd><p>The length of the valid data in the buffer.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the buffer was successfully placed
on the input queue.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/EnqueueInputEntry;   name=EnqueueInputEntry --><a name="//apple_ref/c/func/EnqueueInputEntry"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="EnqueueInputEntry">EnqueueInputEntry</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/EnqueueInputEntry" target="_top" class="function"><span class="function">EnqueueInputEntry</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <a href="../IOStreamShared_h/index.html#//apple_ref/c/tag/IOStreamBufferQueueEntry" target="_top" class="type"><span class="type">IOStreamBufferQueueEntry</span></a> <span class="type">*</span><span class="param">entry</span>);  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetBufferCount;   name=GetBufferCount --><a name="//apple_ref/c/func/GetBufferCount"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetBufferCount">GetBufferCount</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets the number of buffers in the stream.
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">IOItemCount</span><!-- /a --> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetBufferCount" target="_top" class="function"><span class="function">GetBufferCount</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns then number of buffers in the stream.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetBufferInfo;   name=GetBufferInfo --><a name="//apple_ref/c/func/GetBufferInfo"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetBufferInfo">GetBufferInfo</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets information about a buffer in an IOStream.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetBufferInfo" target="_top" class="function"><span class="function">GetBufferInfo</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>, 
    <a href="../IOStreamShared_h/index.html#//apple_ref/c/tdef/IOStreamBufferID" target="_top" class="type"><span class="type">IOStreamBufferID</span></a> <span class="param">bufferID</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="type">*</span><span class="param">dataBufferAddressOut</span>,
    <!-- a --><span class="type">IOByteCount</span><!-- /a --> <span class="type">*</span><span class="param">dataBufferSizeOut</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="type">*</span><span class="param">controlBufferAddressOut</span>,
    <!-- a --><span class="type">IOByteCount</span><!-- /a --> <span class="type">*</span><span class="param">controlBufferSizeOut</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
<dt><code>bufferID</code></dt>
<dd> </dd>
<dt><code>dataBufferAddressOut</code></dt>
<dd> </dd>
<dt><code>dataBufferSizeOut</code></dt>
<dd> </dd>
<dt><code>controlBufferAddressOut</code></dt>
<dd> </dd>
<dt><code>controlBufferSizeOut</code></dt>
<dd> </dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the buffer ID was valid.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetControlBuffer;   name=GetControlBuffer --><a name="//apple_ref/c/func/GetControlBuffer"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetControlBuffer">GetControlBuffer</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get a pointer to the control area of an IOStreamBuffer.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span>( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetControlBuffer" target="_top" class="function"><span class="function">GetControlBuffer</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <a href="../IOStreamShared_h/index.html#//apple_ref/c/tdef/IOStreamBufferID" target="_top" class="type"><span class="type">IOStreamBufferID</span></a> <span class="param">bufferID</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream owning the buffer.</p></dd>
<dt><code>buffer</code></dt>
<dd><p>The IOStreamBufferID of the buffer to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A pointer to the control buffer area of the IOStreamBuffer,
or NULL if it does not have a control buffer.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetControlBufferLength;   name=GetControlBufferLength --><a name="//apple_ref/c/func/GetControlBufferLength"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetControlBufferLength">GetControlBufferLength</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the length of the control area of an IOStreamBuffer.
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">IOByteCount</span><!-- /a --> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetControlBufferLength" target="_top" class="function"><span class="function">GetControlBufferLength</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <a href="../IOStreamShared_h/index.html#//apple_ref/c/tdef/IOStreamBufferID" target="_top" class="type"><span class="type">IOStreamBufferID</span></a> <span class="param">bufferID</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream owning the buffer.</p></dd>
<dt><code>bufferID</code></dt>
<dd><p>The IOStreamBufferID of the buffer to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The length in bytes of the control buffer, or 0 if there is no
control buffer.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetDataBuffer;   name=GetDataBuffer --><a name="//apple_ref/c/func/GetDataBuffer"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetDataBuffer">GetDataBuffer</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get a pointer to the data area of an IOStreamBuffer.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span>( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetDataBuffer" target="_top" class="function"><span class="function">GetDataBuffer</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <a href="../IOStreamShared_h/index.html#//apple_ref/c/tdef/IOStreamBufferID" target="_top" class="type"><span class="type">IOStreamBufferID</span></a> <span class="param">bufferID</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream owning the buffer.</p></dd>
<dt><code>bufferID</code></dt>
<dd><p>The IOStreamBufferID of the buffer to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A pointer to the data buffer area of the IOStreamBuffer,
or NULL if it does not have a data buffer.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetDataBufferLength;   name=GetDataBufferLength --><a name="//apple_ref/c/func/GetDataBufferLength"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetDataBufferLength">GetDataBufferLength</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the length of the data area of an IOStreamBuffer.
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">IOByteCount</span><!-- /a --> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetDataBufferLength" target="_top" class="function"><span class="function">GetDataBufferLength</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <a href="../IOStreamShared_h/index.html#//apple_ref/c/tdef/IOStreamBufferID" target="_top" class="type"><span class="type">IOStreamBufferID</span></a> <span class="param">bufferID</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream owning the buffer.</p></dd>
<dt><code>bufferID</code></dt>
<dd><p>The IOStreamBufferID of the buffer to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The length in bytes of the data buffer, or 0 if there is no
data buffer.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetInputPort;   name=GetInputPort --><a name="//apple_ref/c/func/GetInputPort"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetInputPort">GetInputPort</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the notification port for buffers moving in from user
to kernel space.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../CoreFoundation/Reference/CFMachPortRef/Reference/reference.html#//apple_ref/c/tdef/CFMachPortRef" target="_top" class="type"><span class="type">CFMachPortRef</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetInputPort" target="_top" class="function"><span class="function">GetInputPort</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A CFMachPortRef for the input notification port.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetInputQueue;   name=GetInputQueue --><a name="//apple_ref/c/func/GetInputQueue"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetInputQueue">GetInputQueue</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the shared memory queue for buffers moving in from user
to kernel space.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOStreamShared_h/index.html#//apple_ref/c/tag/IOStreamBufferQueue" target="_top" class="type"><span class="type">IOStreamBufferQueue</span></a> <span class="type">*</span>( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetInputQueue" target="_top" class="function"><span class="function">GetInputQueue</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A pointer to the shared memory IOStreamBufferQueue structure for the input queue.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>If you use the notification functions, you should never need
to access the queues directly.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetMode;   name=GetMode --><a name="//apple_ref/c/func/GetMode"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetMode">GetMode</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">IOStreamMode</span><!-- /a --> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetMode" target="_top" class="function"><span class="function">GetMode</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetMode();   name=GetMode() --><a name="//apple_ref/c/func/GetMode()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetMode()">GetMode()</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">IOStreamMode</span><!-- /a --> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetMode" target="_top" class="function"><span class="function">GetMode</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetOutputPort;   name=GetOutputPort --><a name="//apple_ref/c/func/GetOutputPort"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetOutputPort">GetOutputPort</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the notification port for buffers moving out from kernel
to user space.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../CoreFoundation/Reference/CFMachPortRef/Reference/reference.html#//apple_ref/c/tdef/CFMachPortRef" target="_top" class="type"><span class="type">CFMachPortRef</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetOutputPort" target="_top" class="function"><span class="function">GetOutputPort</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A CFMachPortRef of the output notification port.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetOutputQueue;   name=GetOutputQueue --><a name="//apple_ref/c/func/GetOutputQueue"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetOutputQueue">GetOutputQueue</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the shared memory queue for buffers moving out from kernel
to user space.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOStreamShared_h/index.html#//apple_ref/c/tag/IOStreamBufferQueue" target="_top" class="type"><span class="type">IOStreamBufferQueue</span></a> <span class="type">*</span>( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetOutputQueue" target="_top" class="function"><span class="function">GetOutputQueue</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A pointer to the shared memory IOStreamBufferQueue structure for the output queue.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>If you use the notification functions, you should never need
to access the queues directly.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/GetRunLoopSource;   name=GetRunLoopSource --><a name="//apple_ref/c/func/GetRunLoopSource"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetRunLoopSource">GetRunLoopSource</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets a CFRunLoopSource for the CFMachPort used for notifications
from the kernel that data is ready.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../CoreFoundation/Reference/CFRunLoopSourceRef/Reference/reference.html#//apple_ref/c/tdef/CFRunLoopSourceRef" target="_top" class="type"><span class="type">CFRunLoopSourceRef</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/GetRunLoopSource" target="_top" class="function"><span class="function">GetRunLoopSource</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The CFRunLoopSourceRef for the run loop source, or NULL if
there was an error creating the source.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/Open;   name=Open --><a name="//apple_ref/c/func/Open"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="Open">Open</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Open an IOStream from user space.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/Open" target="_top" class="function"><span class="function">Open</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <a href="../USB_h/index.html#//apple_ref/c/tag/IOOptionBits" target="_top" class="type"><span class="type">IOOptionBits</span></a> <span class="param">options</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The reference to the stream returned by QueryInterface.</p></dd>
<dt><code>options</code></dt>
<dd><p>Open options.  Currently unused.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->If the stream could not be opened or the buffers could not
be mapped, an error will be returned.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The Open function opens the stream and maps the memory
for the shared
input and output queues into the current task, as well as the memory
for all the buffers in the queue.  It also creates the notification
ports for input and output.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/RemoveFromRunLoop;   name=RemoveFromRunLoop --><a name="//apple_ref/c/func/RemoveFromRunLoop"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="RemoveFromRunLoop">RemoveFromRunLoop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Remove the CFRunLoopSource for the notification port from a run loop.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/RemoveFromRunLoop" target="_top" class="function"><span class="function">RemoveFromRunLoop</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>, 
    <a href="../../../../CoreFoundation/Reference/CFRunLoopRef/Reference/reference.html#//apple_ref/c/tdef/CFRunLoopRef" target="_top" class="type"><span class="type">CFRunLoopRef</span></a> <span class="param">runLoop</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
<dt><code>runLoop</code></dt>
<dd><p>The run loop from which to remove the notification source.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the source was successfully removed
from the run loop.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/SendInputNotification;   name=SendInputNotification --><a name="//apple_ref/c/func/SendInputNotification"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SendInputNotification">SendInputNotification</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Send a notification to the kernel side of the IOStream
that data is available in the input queue.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/SendInputNotification" target="_top" class="function"><span class="function">SendInputNotification</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">token</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
<dt><code>token</code></dt>
<dd><p>A value to pass to the stream's notification function.
This is unused by IOStream but may be used by subclasses.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the notification was successfully sent.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/SendInputSyncNotification;   name=SendInputSyncNotification --><a name="//apple_ref/c/func/SendInputSyncNotification"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SendInputSyncNotification">SendInputSyncNotification</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Notify the kernel side of the stream that input is ready
by using a fast trap to call directly into the stream user client driver.
This will transfer control to the kernel and continue executing
on your same thread, rather than sending the notification to a separate thread.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/SendInputSyncNotification" target="_top" class="function"><span class="function">SendInputSyncNotification</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">token</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.</p></dd>
<dt><code>token</code></dt>
<dd><p>A value to pass to the stream's notification function.
This is unused by IOStream but may be used by subclasses.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the notification was successfully sent.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/SetMode;   name=SetMode --><a name="//apple_ref/c/func/SetMode"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SetMode">SetMode</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/SetMode" target="_top" class="function"><span class="function">SetMode</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <!-- a --><span class="type">IOStreamMode</span><!-- /a --> <span class="param">mode</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/SetMode();   name=SetMode() --><a name="//apple_ref/c/func/SetMode()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SetMode()">SetMode()</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/SetMode" target="_top" class="function"><span class="function">SetMode</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>,
    <!-- a --><span class="type">IOStreamMode</span><!-- /a --> <span class="param">mode</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/SetOutputCallback;   name=SetOutputCallback --><a name="//apple_ref/c/func/SetOutputCallback"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SetOutputCallback">SetOutputCallback</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Set the callback function to be called when a new buffer
is available from the kernel.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/SetOutputCallback" target="_top" class="function"><span class="function">SetOutputCallback</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>, 
    <a href="index.html#//apple_ref/c/tdef/IOStreamOutputCallback" target="_top" class="type"><span class="type">IOStreamOutputCallback</span></a> <span class="param">callback</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">context</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOStreamRef of the stream to operate on.
Pass NULL to remove the callback.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the callback was successfully
set or removed.


<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/StartStream;   name=StartStream --><a name="//apple_ref/c/func/StartStream"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="StartStream">StartStream</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/StartStream" target="_top" class="function"><span class="function">StartStream</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/StartStream();   name=StartStream() --><a name="//apple_ref/c/func/StartStream()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="StartStream()">StartStream()</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/StartStream" target="_top" class="function"><span class="function">StartStream</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/StopStream;   name=StopStream --><a name="//apple_ref/c/func/StopStream"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="StopStream">StopStream</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/StopStream" target="_top" class="function"><span class="function">StopStream</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/StopStream();   name=StopStream() --><a name="//apple_ref/c/func/StopStream()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="StopStream()">StopStream()</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/StopStream" target="_top" class="function"><span class="function">StopStream</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/SuspendStream;   name=SuspendStream --><a name="//apple_ref/c/func/SuspendStream"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SuspendStream">SuspendStream</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/SuspendStream" target="_top" class="function"><span class="function">SuspendStream</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/SuspendStream();   name=SuspendStream() --><a name="//apple_ref/c/func/SuspendStream()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SuspendStream()">SuspendStream()</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><a href="index.html#//apple_ref/c/func/SuspendStream" target="_top" class="function"><span class="function">SuspendStream</span></a>)(
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span> );  </pre>
<p></p>
<h2>Typedefs</h2>
<hr>
<!-- headerDoc=title:tdef;  uid=//apple_ref/doc/title:tdef/IOStreamCallback;   name=IOStreamCallback --><a name="//apple_ref/doc/title:tdef/IOStreamCallback"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOStreamCallback">IOStreamCallback</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/c/tdef/IOStreamOutputCallback" target="_top"><p>IOStreamOutputCallback</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><span class="keyword">typedef</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> ( <span class="type">*</span><!-- a --><span class="function">IOStreamOutputCallback</span><!-- /a -->) ( 
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">context</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/IOStreamOutputCallback;   name=IOStreamOutputCallback --><a name="//apple_ref/c/tdef/IOStreamOutputCallback"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOStreamOutputCallback">IOStreamOutputCallback</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/doc/title:tdef/IOStreamCallback" target="_top"><p>IOStreamCallback</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><span class="keyword">typedef</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> ( <span class="type">*</span><!-- a --><span class="function">IOStreamOutputCallback</span><!-- /a -->) ( 
    <a href="index.html#//apple_ref/c/tdef/IOStreamRef" target="_top" class="type"><span class="type">IOStreamRef</span></a> <span class="param">stream</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">context</span> );  </pre>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/IOStreamRef;   name=IOStreamRef --><a name="//apple_ref/c/tdef/IOStreamRef"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOStreamRef">IOStreamRef</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">typedef</span> <span class="keyword">struct</span> <!-- a --><span class="type">IOStreamInterface_v1_t</span><!-- /a --> <span class="type">*</span><span class="type">*</span> <!-- a --><span class="var">IOStreamRef</span><!-- /a -->;  </pre>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/IOKit/IOStreamLib_h/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/IOKit/IOStreamLib_h/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/IOKit/IOStreamLib_h/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&nbsp;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2009-02-23
</div>
<!-- headerDoc=Header;  uid=//apple_ref/doc/header/IOStreamLib.h;   name=IOStreamLib.h --><a name="//apple_ref/doc/header/IOStreamLib.h"></a>
</body>
</html>
