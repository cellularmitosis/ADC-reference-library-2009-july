<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Cocoa Scripting Guide: Preparing a Scripting Definition File</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Preparing a Scripting Definition File"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001979" title="Preparing a Scripting Definition File"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../Scripting-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000569" target="_top">Scripting &amp; Automation</a> &gt; <a href="../SApps_intro/SAppsIntro.html#//apple_ref/doc/uid/TP40001982-BCICHGIE">Cocoa Scripting Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../SApps_implement/SAppsImplement.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SApps_get_set/SAppsGetSet.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001979-BBCBCIJE" title="Preparing a Scripting Definition File"></a><h1>Preparing a Scripting Definition File</h1><p>This chapter describes the steps you take to create a new scripting definition file and add scriptability information for your Cocoa application.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_5" title="Important:"></a><p><strong>Important:</strong>&nbsp;You can read about additional refinements to sdef usage in Cocoa applications for Mac OS X v10.5 in the Scripting section of <em><a href="../../../../../releasenotes/Cocoa/Foundation.html#//apple_ref/doc/uid/TP30000742" target="_top">Foundation Release Notes</a></em>.</p><p>If your scriptable application will run in versions of the Mac OS prior to version 10.4, it must supply scriptability information in script suite and script terminology files. For more information, see <span class="content_text"><a href="../SApps_evolution/SAppsEvolution.html#//apple_ref/doc/uid/TP40002164-CH19-SW2">“Converting and Updating Scriptability Information”</a></span> and <span class="content_text"><a href="../SApps_suites/SAppsSuites.html#//apple_ref/doc/uid/20001241-BBCBCIJE">“Script Suite and Script Terminology Files.”</a></span></p><p></p></div><p>This chapter uses examples from the sdef file <code>Sketch.sdef</code> from the Sketch sample application, available from Apple.</p><p>For definitions of terms such as <em>property</em> and <em>element</em> used throughout this chapter, see the <span class="content_text"><a href="../SApps_glossary/SAppsGlossary.html#//apple_ref/doc/uid/TP40002164-CH20-SW12">“Glossary.”</a></span></p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001979-SW4">Structure of a Scripting Definition File</a>
				
			<br/>
			
        
			
			
				<a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001979-SW2">Create a Scripting Definition File</a>
				
			<br/>
			
        
			
			
				<a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001979-CJBEIDBB">Add Information to the Scripting Definition File</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001979-SW4" title="Structure of a Scripting Definition File"></a><h2>Structure of a Scripting Definition File</h2><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_107"></a>A scripting definition file provides a statically stored representation of a set of scriptability terms and the classes, constants, and other information used to support an application's scriptability. Here is another look at the organization of the main XML structures used in the sdef format. All valid sdef files follow this structure, differing primarily in the contents of the application-specific <code>suite</code> elements. <a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_108"></a></p><br/><div><a name="//apple_ref/doc/uid/TP40001979-SW5" title="Figure 4-1Structure of an sdef file, revisited"></a><p><strong>Figure 4-1&nbsp;&nbsp;</strong>Structure of an sdef file, revisited</p><img src = "../Art/sdef_struct.gif" alt = "Structure of an sdef file" width="242" height="398"></div><br/><div class="notebox"><a name="//apple_ref/doc/uid/TP40001979-SW6" title="Note"></a><p><strong>Note:</strong>&nbsp;The sdef information in this chapter is provided to demonstrate the general construction of sdefs for scriptable Cocoa applications. It is not meant to be an exhaustive description of the sdef format.</p></div><a name="//apple_ref/doc/uid/TP40001977-1144251" title="Code Constants Used in Scriptability Information"></a><a name="//apple_ref/doc/uid/TP40001979-SW3" title="Code Constants Used in Scriptability Information"></a><h3>Code Constants Used in Scriptability Information</h3><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_109"></a>Four-character codes (or <a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_110"></a><em>Apple event codes</em>, or simply <em>codes</em>), are used throughout AppleScript to identify various kinds of information. A <a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_111"></a><strong>four-character code</strong> is just four bytes of data that can be expressed as a string of four characters in the Mac OS Roman encoding. For example, <code>'docu'</code> is the code that specifies the <code>document</code> class. The codes defined by Apple and the header files in which they are defined are described in “Apple Event Constants” in <span class="content_text"><a href="../../../../AppleScript/Conceptual/AppleEvents/building_aes_aepg/building_aes_aepg.html#//apple_ref/doc/uid/TP40001449-CH203" target="_top">Building an Apple Event</a></span> in <em><a href="../../../../AppleScript/Conceptual/AppleEvents/index.html#//apple_ref/doc/uid/TP40001449" target="_top">Apple Events Programming Guide</a></em>. They are also documented in <em><a href="../../../../Carbon/Reference/Apple_Event_Manager/index.html#//apple_ref/doc/uid/TP30000134" target="_top">Apple Event Manager Reference</a></em> and <em><a href="../../../../../releasenotes/AppleScript/ASTerminology_AppleEventCodes/TermsAndCodes.html#//apple_ref/doc/uid/TP40004532" target="_top">AppleScript Terminology and Apple Event Codes Reference</a></em>.</p><p>You use codes in your sdef file to identify scriptable commands, classes, properties, elements, and other items your application supports. When choosing a code, use an existing code from one of the Apple headers for a standard object—for example, use  <code>'capp'</code> for an application object. If you need to refer to the value in your code, you can use the corresponding Apple constant <code>cApplication</code>, but in the sdef you simply use the string literal (<code>'capp'</code>). For new codes you define, you can define a corresponding constant, if necessary.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_6" title="Important:"></a><p><strong>Important:</strong>&nbsp;If you use a term (or a code) that is defined in AppleScript's built-in terminology or in the Standard suite, you must match it with the code (or the term) defined for it.</p><p>Apple reserves all values that consist entirely of lower-case letters and spaces. You can generally avoid conflicts with Apple-defined codes by including at least one upper-case letter when choosing your own codes.</p><p></p></div><p>You should always use a given code with the same term, and vice versa. While it is possible to use a term-code pair for different items (for example, to have a property with the same name as a class), this won't work for all elements, and you may want to avoid such reuse. Your codes do not have to be unique with respect to those used in other applications; in fact, as noted above, it is recommended that you use Apple-defined values for standard items.</p><a name="//apple_ref/doc/uid/TP40001979-1146175" title="Features Common to Many Scripting Definition File Elements"></a><h3>Features Common to Many Scripting Definition File Elements</h3><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_112"></a>Except for the <code>dictionary</code> element (described below), most XML elements in an sdef have a name, a code (or pair of codes), and a description. They may also include documentation and implementation information. XML elements with the <code>cocoa</code> tag (described in <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1147030">“Cocoa Elements”</a></span>) contain a particular kind of implementation information for Cocoa scripting. Some elements can be marked as hidden, meaning they won’t be displayed when the dictionary is viewed in <a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_113"></a>Script Editor or Xcode, although they will be implemented. Elements can also include synonyms, which define an alternate term or code for the main element.</p><p>An XML element in an sdef may refer to any other element in the sdef, regardless of whether they are defined in the same <code>suite</code> element. For example, the <code>word</code> class defined in the Text suite can be referred to in any other XML elements in any other suites in the same sdef file.</p><a name="//apple_ref/doc/uid/TP40001979-SW7" title="High-level XML Elements"></a><h3>High-level XML Elements</h3><p>All sdef files used to supply Cocoa scriptability information contain the high-level XML elements described in the following sections.</p><a name="//apple_ref/doc/uid/TP40001977-1146204" title="XML Version and Document Type Definition"></a><a name="//apple_ref/doc/uid/TP40001979-CJBIAGGF" title="XML Version and Document Type Definition"></a><h4>XML Version and Document Type Definition</h4><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_114"></a><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_115"></a>The first two lines of an sdef file, shown in the following listing, specify the XML version and DTD (document type definition) file for the sdef format. You don't change these lines.</p><a name="//apple_ref/doc/uid/TP40001979-CJBDGDFC" title="Listing 4-1Version and document type in an sdef file"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40001977-1126964" title="Listing 4-1Version and document type in an sdef file"></a><strong>Listing 4-1&nbsp;&nbsp;</strong>Version and document type in an sdef file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!DOCTYPE dictionary SYSTEM "file://localhost/System/Library/DTDs/sdef.dtd"><span></span></pre></td></tr></table></div>	<a name="//apple_ref/doc/uid/TP40001979-1126988" title="Dictionary Element"></a><h4>Dictionary Element</h4><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_116"></a><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_117"></a>The root XML element in an sdef file is a <code>dictionary</code> element. A dictionary defines all the scriptability information for one application. Every sdef file you create should contain one dictionary definition. You typically name the dictionary after the application.</p><p>A <code>dictionary</code> element contains one or more <code>suite</code> elements. Most Cocoa applications include Cocoa’s default suites (the Standard and Text suites), as well as one or more suites of their own scriptability information.</p><p>The following listing shows the format for a <code>dictionary</code> element.</p><a name="//apple_ref/doc/uid/TP40001979-CJBJIAEH" title="Listing 4-2A dictionary element from an sdef file"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40001977-1127019" title="Listing 4-2A dictionary element from an sdef file"></a><strong>Listing 4-2&nbsp;&nbsp;</strong>A dictionary element from an sdef file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;dictionary title="Sketch Terminology"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;!--<span></span></pre></td></tr><tr><td scope="row"><pre>        Contains one or more suite XML elements.<span></span></pre></td></tr><tr><td scope="row"><pre>    --><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dictionary><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001977-1127058" title="Suite Elements"></a><a name="//apple_ref/doc/uid/TP40001979-CJBGGCAA" title="Suite Elements"></a><h4>Suite Elements</h4><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_118"></a>A suite is a collection of related scriptability information. For example, Cocoa's Standard suite contains default commands, enumerations, and other information, along with Cocoa scriptability information used to implement support for the standard AppleScript commands. Cocoa also implements a Text suite.</p><p>Your application supplies its own scriptability information in one or more <code>suite</code> XML elements. For example, if your application provides scripting support for graphics-related features and database-related features, you can provide separate graphics and database suites.</p><p>For most applications, the sdef should also include a <code>suite</code> element for the Standard suite and possibly the Text suite as well. You can copy these suites from Sketch's sdef file, then delete the XML definitions for commands, classes, and other items not supported by your application so they won't be displayed in your dictionary. For example, if your application does not support printing, you should delete the elements for the <code>print</code> command and the <code>print settings</code> record-type. Otherwise, users will see those terms when they view your application terminology and will expect the application to support them.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_7" title="Important:"></a><p><strong>Important:</strong>&nbsp;You can read about additional refinements to sdef usage in Cocoa applications for Mac OS X v10.5 in the Scripting section of <em><a href="../../../../../releasenotes/Cocoa/Foundation.html#//apple_ref/doc/uid/TP30000742" target="_top">Foundation Release Notes</a></em>. For example, in Mac OS X v10.5, an sdef for Cocoa’s Standard suite is provided in the file <code>CocoaStandard.sdef</code> in the location <code>/System/Library/ScriptingDefinitions</code>, and you can use an <code>xinclude</code> statement to include that file into your application’s sdef file.</p><p></p></div><p>A <code>suite</code> element contains one or more of the following elements: <code>class</code>, <code>command</code>, <code>enumeration</code>, <code>record-type</code>, and <code>value-type</code>. These elements are described in <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1143287">“Add Information to the Scripting Definition File.”</a></span></p><p>The following listing (from Sketch's sdef file) shows the XML format for a <code>suite</code> element.</p><a name="//apple_ref/doc/uid/TP40001979-CJBBEEJD" title="Listing 4-3A suite element for the Sketch suite"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40001977-1127094" title="Listing 4-3A suite element for the Sketch suite"></a><strong>Listing 4-3&nbsp;&nbsp;</strong>A suite element for the Sketch suite</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;suite name="Sketch Suite" code="sktc"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="Sketch specific classes."><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;!--<span></span></pre></td></tr><tr><td scope="row"><pre>        Contains one or more of the following sdef elements:<span></span></pre></td></tr><tr><td scope="row"><pre>            class, command, enumeration, record-type, and value-type<span></span></pre></td></tr><tr><td scope="row"><pre>    --><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/suite><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_119"></a>￼<span></span></pre></td></tr></table></div>	<a name="//apple_ref/doc/uid/TP40001979-SW2" title="Create a Scripting Definition File"></a><h2>Create a Scripting Definition File</h2><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_120"></a>One option for creating an sdef file is to simply take an existing sdef, such as the one distributed with the Sketch application, and modify it for your application. You can do that with the following steps:</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_8" title="Important:"></a><p><strong>Important:</strong>&nbsp;As noted previously, starting in Mac OS X v10.5,  the file <code>CocoaStandard.sdef</code> in the location <code>/System/Library/ScriptingDefinitions</code> provides an sdef for Cocoa’s Standard suite, and you can use an <code>xinclude</code> statement to include it into your application’s sdef file. For more information, see the Scripting section of <em><a href="../../../../../releasenotes/Cocoa/Foundation.html#//apple_ref/doc/uid/TP30000742" target="_top">Foundation Release Notes</a></em>.</p><p></p></div><ol class="ol"><li class="li"><p>Copy the file <code>Sketch.sdef</code> and rename it for your application (for example, <code>MyApplication.sdef</code>).</p></li><li class="li"><p>Edit the sdef file in a text editor (in Xcode, select the file and choose File > Open As > Plain Text File to open the sdef as plain text). Rename the Sketch <code>dictionary</code> element, so it looks something like the following:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;dictionary title="MyApplication Terminology"><span></span></pre></td></tr></table></div></li><li class="li"><p>Rename the Sketch <code>suite</code> element and change its code, so that it looks something like the following:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;suite name="MyApplication Suite" code="MyAp"<span></span></pre></td></tr><tr><td scope="row"><pre>    description="MyApplication information."><span></span></pre></td></tr></table></div></li><li class="li"><p>Replace the scriptability information in the renamed <code>suite</code> element with the information for your application, as described in <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1143287">“Add Information to the Scripting Definition File.”</a></span></p></li></ol><p>Creating an sdef file from scratch is quite similar, and also includes copying information for the Standard and Text suites. To create a new sdef file: </p><ol class="ol"><li class="li"><p>Create a plain text file with the extension <code>.sdef</code> (for example, <code>MyApplication.sdef</code>).</p></li><li class="li"><p>Add XML version and document type information. (All sdef files start with this information.)</p><a name="//apple_ref/doc/uid/TP40001979-SW1"></a><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!DOCTYPE dictionary SYSTEM "file://localhost/System/Library/DTDs/sdef.dtd"><span></span></pre></td></tr></table></div>	</li><li class="li"><p>Your sdef must contain a <code>dictionary</code> element as the root element. The dictionary is typically named after your application, as shown in previous steps. The complete <code>dictionary</code> element from Sketch is shown in <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001979-1126988">“Dictionary Element.”</a></span></p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_121"></a>If your application supports any of the commands, classes, or other scriptability information defined in the Standard and Text suites, as most do, you should copy the <code>suite</code> elements for those suites into your sdef from an existing sdef file, such as <code>Sketch.sdef</code>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_9" title="Important:"></a><p><strong>Important:</strong>&nbsp;You should delete any information in the default Standard and Text <code>suite</code> elements for features your application does not support. </p><p></p></div><p>For more information, see <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1127058">“Suite Elements.”</a></span></p></li><li class="li"><p>Add one or more  <code>suite</code> elements for your application’s scriptability information.</p></li><li class="li"><p>Fill in the scriptability information in the <code>suite</code> element (or elements) for your application by adding whichever of the following kinds of XML elements your application uses:</p><ol class="ol"><li class="ol ol"><p>Classes (see <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1127143">“Class Elements”</a></span>)</p></li><li class="ol ol"><p>Commands (see <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1129132">“Command Elements”</a></span>)</p></li><li class="ol ol"><p>Enumerations (see <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1146529">“Enumeration Elements”</a></span>)</p></li><li class="ol ol"><p>Simple structures (see <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1131361">“Record-Type Elements”</a></span>)</p></li><li class="ol ol"><p>Simple types (see <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1130611">“Value-Type Elements”</a></span>)</p></li></ol><p>Your suite elements can refer to definitions from the Standard or Text suites that you've copied into your sdef.</p></li></ol><p>To add an sdef file to the project for your application, see <span class="content_text"><a href="../SApps_implement/SAppsImplement.html#//apple_ref/doc/uid/20000037-1081797">“Add the Scripting Definition File to Your Xcode Project.”</a></span></p><a name="//apple_ref/doc/uid/TP40001977-1143287" title="Add Information to the Scripting Definition File"></a><a name="//apple_ref/doc/uid/TP40001979-CJBEIDBB" title="Add Information to the Scripting Definition File"></a><h2>Add Information to the Scripting Definition File</h2><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_122"></a>The following sections provide descriptions and examples of the XML elements you’ll most commonly add to the sdef file for your application. These examples are based on the sdef file from the Sketch sample application, available from Apple.</p><p>As you add information to your sdef file, you can verify that the file is still valid at each step. Later, when testing your application, you can examine the information that Cocoa scripting extracts from your sdef file. For information on how to perform these steps, see <span class="content_text"><a href="../SApps_debugging/SAppsDebugging.html#//apple_ref/doc/uid/TP40001981-1083558">“Debugging Scriptability Information.”</a></span></p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_10" title="Important:"></a><p><strong>Important:</strong>&nbsp;To test changes you make to an sdef file, you must quit the application, rebuild, and relaunch it to pick up the changes. In addition, the Script Editor application caches scriptability information, so you may need to quit and relaunch Script Editor as well.</p><p></p></div><a name="//apple_ref/doc/uid/TP40001977-1127143" title="Class Elements"></a><a name="//apple_ref/doc/uid/TP40001979-CJBCDIDG" title="Class Elements"></a><h3>Class Elements</h3><p>You'll need to add a <code>class</code> element to your sdef file for each type of scriptable object in your AppleScript object model—that is, for the objects scripters can access in scripts. A <code>class</code> element defines an object class by listing the properties, elements, and supported commands for instances of that class. Using the <code>rich text</code> class from the Text suite as an example, here is the information you supply in a <code>class</code> element:</p><ul class="spaceabove"><li class="li"><p>A human-readable name and description, which a scripter can view in the application's dictionary, as well as a four-character code to identify the class. It may optionally specify a plural spelling:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;class name="rich text" plural="rich text" code="ricT" description="Rich (styled) text"><span></span></pre></td></tr></table></div><p>If the plural name is omitted, it defaults to the name of the class with <code>'s'</code> appended.</p></li><li class="li"><p>The Cocoa or application Objective-C class that implements the class:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;cocoa class="NSTextStorage"/><span></span></pre></td></tr></table></div></li><li class="li"><p>The commands the class can respond to, listed in a <code>responds-to</code> element. The <code>rich text</code> class doesn't contain a responds-to element, but here is an example for Sketch's rectangle class, which handles the <code>rotate</code> command with the <code>rotate:</code> method:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;responds-to name="rotate"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;cocoa method="rotate:"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/responds-to><span></span></pre></td></tr></table></div><p>When Cocoa instantiates a command object to perform an AppleScript command (such as <code>rotate</code>), if the command operates on an object (such as a <code>rectangle</code>) whose class definition includes a <code>responds-to</code> entry, the command invokes the method specified in that entry (<code>rotate:</code>).</p><p>A class can respond to the standard AppleScript commands, such as <code>count</code>, <code>move</code>, <code>delete</code>, and so on, without listing them in a <code>responds-to</code> element. For more information, see <span class="content_text"><a href="../SApps_script_cmds/SAppsScriptCmds.html#//apple_ref/doc/uid/20001242-SW4">“Script Commands Overview.”</a></span></p></li><li class="li"><p>A class also specifies its properties, elements, and possibly contents (described in subsequent sections).</p></li></ul><p>The following listing shows the full  <code>class</code> definition for the <code>rich text</code> class. </p><a name="//apple_ref/doc/uid/TP40001979-CJBGIBDI" title="Listing 4-4A class element for the rich text class"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40001977-1139921" title="Listing 4-4A class element for the rich text class"></a><strong>Listing 4-4&nbsp;&nbsp;</strong>A class element for the rich text class</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;class name="rich text" plural="rich text" code="ricT"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="Rich (styled) text"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;cocoa class="NSTextStorage"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;type type="text"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="color" code="colr" type="RGB color"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="The color of the first character."><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="foregroundColor"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="font" code="font" type="text"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="The name of the font of the first character."><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="fontName"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="size" code="ptsz" type="integer"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="The size in points of the first character."><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="fontSize"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;element type="character"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;element type="paragraph"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;element type="word"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;element type="attribute run"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;element type="attachment"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/class><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001979-1145406" title="Property Elements"></a><h4>Property Elements</h4><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_123"></a>For each <code>class</code> element in your sdef file, you'll need to add a <code>property</code> element for each accessible property of that class. A property is a unique data member of an object—it is synonymous with an attribute or to-one relationship. (A <code>property</code> element can also appear in a <code>record-type</code> element; see  <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1131361">“Record-Type Elements”</a></span> for more information.)</p><p>Using the <code>color</code> property of the <code>rich text</code> class as an example, here is the information you supply in a <code>property</code> element:</p><ul class="spaceabove"><li class="li"><p>A human-readable name and description, which a scripter can view in the application's dictionary, along with a four-character code to identify the property and an entry to define its type. Basic AppleScript types, such as <code>boolean</code>, <code>integer</code>, and <code>text</code>, are listed in <span class="content_text"><a href="../SApps_about_apps/SAppsAboutApps.html#//apple_ref/doc/uid/TP40001976-SW11">Table 1-1</a></span>. You can also use types declared in the suites provided by Cocoa (such as <code>color</code>), as well as types you have defined with a <code>value-type</code> element (described in <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1130611">“Value-Type Elements”</a></span>):</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;property name="color" code="colr" type="RGB color"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="The color of the first character."><span></span></pre></td></tr></table></div></li><li class="li"><p>A KVC key to be used by Cocoa scripting to access the property. By default, the property name serves as the key. However, you can provide a substitute key with a <code>cocoa key</code> entry:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;cocoa key="foregroundColor"/><span></span></pre></td></tr></table></div><p>Providing this key specification means that when a script asks for the <code>color</code> property of a <code>rich text</code> object, Cocoa scripting will use the key <code>"foregroundColor"</code> to access the property from the instance of <code>NSTextStorage</code> that implements the <code>rich text</code> object. If you did not provide this key, Cocoa scripting would use <code>"color"</code> for the key.</p><p>For more information on naming and keys, see <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1147030">“Cocoa Elements.”</a></span></p></li><li class="li"><p>An optional entry that specifies access to the property. A property can be read-only (<code>access="r"</code>), write-only (<code>access="w"</code>), or read-write (<code>access="rw"</code>), which is the default. (When you display an sdef in a dictionary viewer, read-only access is shown as (r/o) and write-only as (w/o). Read-write access, the default, is not shown.)</p><p>The <code>color</code> property of the <code>rich text</code> class doesn't contain an access entry (meaning access is read-write, the default), but the <code>name</code> property of the <code>window</code> class from the Standard suite shows how to specify read-only access:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;property name="name" code="pnam" type="text" access="r"<span></span></pre></td></tr><tr><td scope="row"><pre>    description="The full title of the window."><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;cocoa key="title"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/property><span></span></pre></td></tr></table></div><p>This  property defines a key attribute of <code>&lt;cocoa key="title"/></code>. So when a script asks for the <code>name</code> property of a <code>window</code> object, Cocoa scripting uses the <code>"title"</code> key to get the appropriate information from the window.</p></li></ul><a name="//apple_ref/doc/uid/TP40001979-SW8" title="Element Elements"></a><h4>Element Elements</h4><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_124"></a>For each <code>class</code> element in your sdef file, you'll need to add an <code>element</code> element for each accessible element of that class. An element defines a class of objects contained in another object and represents a to-many relationship. For each of its defined elements, an object may reference zero or more items of that type. For example, a <code>rich text</code> object can have any number of <code>character</code> elements, including none. Element definitions define part of the object model for the application.</p><p>When you display an sdef in a dictionary viewer, an <code>element</code> element shows up as a link to the class for its type. For example, an element that has the class type of <code>window</code> will show up as a link to the <code>window</code> class.</p><p>The <code>element</code> elements shown in <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001979-CJBGIBDI">Listing 4-4</a></span> for the <code>rich text</code> class (such as <code>&lt;element type="character"/></code>) are all simple ones that take the default value for access (read-write) and key (for example, <code>"characters"</code>), as described in <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1147030">“Cocoa Elements.”</a></span></p><p>Using the <code>document</code> element from the <code>application</code> class in the Standard suite, here is a slightly more interesting example of the information you can supply for an <code>element</code> element:</p><ul class="spaceabove"><li class="li"><p>The class type and an optional access entry. The access values are the same as those described previously for <code>property</code> elements (read-only, write-only, or read-write, which is the default):</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;element type="document" access="r"><span></span></pre></td></tr></table></div></li><li class="li"><p>An optional KVC key to be used by Cocoa scripting to access the element. By default, the plural of the <code>element type</code> name serves as the key, but you can provide a substitute:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;cocoa key="orderedDocuments"/><span></span></pre></td></tr></table></div><p>In this case, the <code>application</code> class (implemented by <code>NSApplication</code>) provides access to <code>document</code> objects in the ordered manner expected by an AppleScript script using the key <code>orderedDocuments</code>. This overrides the default naming for key-value coding access to this element, which would use the key <code>documents</code> (made by generating the plural of the element name,  <code>document</code>).<a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_125"></a></p></li></ul><a name="//apple_ref/doc/uid/TP40001979-1145563" title="Contents Elements"></a><h4>Contents Elements</h4><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_126"></a>For some classes, you may want to define a <code>contents</code> element. A <code>contents</code> element is similar to a <code>property</code> element, except that the name and code are optional. If you omit them, they default to <code>"contents"</code> and <code>"pcnt"</code>, respectively.</p><p>Cocoa Scripting treats the <code>contents</code> property as the implied container for its class. Scripts may refer to elements of the contents property as if they were elements of the class. For example, TextEdit documents have a <code>text</code> contents property. Technically, the first word of the first document is <code>word 1 of text of document 1</code> but, because <code>text</code> is an implied container, a script can also say <code>word 1 of document 1</code>.</p><p>For related information, see <span class="content_text"><a href="../SApps_object_specifiers/SAppsObjectSpecifiers.html#//apple_ref/doc/uid/TP40002164-CH3-SW15">“Implicitly Specified Subcontainers.”</a></span></p><a name="//apple_ref/doc/uid/TP40001977-1129132" title="Command Elements"></a><a name="//apple_ref/doc/uid/TP40001979-CJBEGFID" title="Command Elements"></a><h3>Command Elements</h3><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_127"></a>A <code>command</code> element represents an action or  “verb” such as <code>close</code> that specifies an operation to be performed. You will need to add a <code>command</code> element to your sdef file for each scriptable operation your application supports, including those defined in the Standard suite and implemented by <code>NSScriptCommand</code> and its subclasses. For the commands supplied by Cocoa, you can obtain information for your sdef as described in <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001979-SW2">“Create a Scripting Definition File.”</a></span></p><p>Some commands can be sent directly to the objects they operate on and some cannot. For more information on the different kinds of commands and how to work with them, see <span class="content_text"><a href="../SApps_script_cmds/SAppsScriptCmds.html#//apple_ref/doc/uid/20001242-SW1">“Object-first Versus Verb-first Script Commands.”</a></span></p><p>Using commands from the Standard suite as examples, here is the information you supply in a <code>command</code> element:</p><ul class="spaceabove"><li class="li"><p>A human-readable name and description, which a scripter can view in the application's dictionary, along with two four-character codes to identify the command. The following is from the <code>quit</code> command:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;command name="quit" code="aevtquit" description="Quit the application."><span></span></pre></td></tr></table></div><div class="notebox"><a name="//apple_ref/doc/uid/TP40001979-SW9" title="Note"></a><p><strong>Note:</strong>&nbsp;The code for a command totals eight characters in length. Although the code can in fact be an arbitrary value, the first half (<code>aevt</code> in this case) has historically represented the suite (the Standard suite, formerly called the Core suite) and the second half (<code>quit</code>) the command. See <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001977-1144251">“Code Constants Used in Scriptability Information”</a></span> for more information on using codes.</p></div></li><li class="li"><p>The Objective-C class, defined by Cocoa or the application, that Cocoa scripting should instantiate to handle the command:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;cocoa class="NSQuitCommand"/><span></span></pre></td></tr></table></div><p>If a command does not specify a command class, the default is the <code>NSScriptCommand</code> class. The <code>NSQuitCommand</code> class is a subclass of <code>NSScriptCommand</code>, and any scripting class you define must also be a subclass of <code>NSScriptCommand</code> or one of its subclasses. The command classes defined by Cocoa are described in <span class="content_text"><a href="../SApps_script_classes/SAppsScriptClasses.html#//apple_ref/doc/uid/20000034-1022554">“Subclasses for Standard AppleScript Commands.”</a></span></p></li><li class="li"><p>An optional <a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_128"></a><code>direct parameter</code> element definition. A direct parameter is a special case of a <code>parameter</code> element (described next) that does not include a name or identifying code and cannot be hidden. If the direct parameter is a class, then it specifies the object to which the message is sent. Otherwise, the message is sent to the <code>application</code> object, with the direct parameter's value interpreted as a normal parameter, in which case it typically specifies the objects on which the command is to operate.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001979-SW10" title="Note"></a><p><strong>Note:</strong>&nbsp;The <code>direct parameter</code> element, other <code>parameter</code> elements, and the <code>result type</code> element (if any) in a <code>command</code> element correspond to parameter information supplied by an Apple event for that type of command. When Cocoa scripting receives the Apple event, it creates an instance of the specified command and initializes it with information from the event. It stores parameter and result type information from the Apple event in an argument dictionary in the command object.</p>Your application obtains arguments from the argument dictionary using the keys specified for the corresponding parameters or result type in the sdef file. For information on how to do this, see <span class="content_text"><a href="../SApps_script_cmds/SAppsScriptCmds.html#//apple_ref/doc/uid/20001242-SW15">“Script Command Components.”</a></span></p></div><p>Here is the <code>direct parameter</code> element from the <code>open documents</code> command, which specifies a list of documents to be opened by the application object:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;direct-parameter description="The file(s) to be opened."><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;type type="file" list="yes"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/direct-parameter><span></span></pre></td></tr></table></div><p>This definition contains a text description and a data type declaration. The data for the direct parameter is a list (<code>list="yes"</code>; the default is <code>"no"</code>) of files to be opened.</p><p>(For information on how Cocoa applications handle the <code>open</code> command, see <span class="content_text"><a href="../SApps_handle_AEs/SAppsHandleAEs.html#//apple_ref/doc/uid/20001239-BBCBCIJE">“How Cocoa Applications Handle Apple Events.”</a></span>)</p></li><li class="li"><p>Optional <a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_129"></a><code>parameter</code> element definitions for the command. These parameters are optional in the sense that you need not define any parameters at all. However, if you do define a parameter, you can also specify that it is optional (the default is <code>"no"</code>, indicating the parameter is required). If a script omits an optional parameter, the command should perform its default operation with respect to that parameter.</p><p>A <code>parameter</code> element contains a human-readable name and text description, four-character code, and type declaration for the data type of the parameter.</p><p>The <code>quit</code> command includes this <code>parameter</code> element, which specifies how to handle saving of modified documents:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;parameter name="saving" code="savo" type="save options" optional="yes"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="Whether changed documents should be saved before closing."><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="SaveOptions"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/parameter><span></span></pre></td></tr></table></div><p>A <code>parameter</code> element also contains a dictionary key used by Cocoa scripting. In this case, the line <code>&lt;cocoa key="SaveOptions"/></code> specifies a dictionary key to identify the entry in the <code>NSQuitCommand</code> argument dictionary whose value is the <code>saving</code> parameter. The type (<code>type="save options"</code>) indicates that supported values for the <code>saving</code> parameter come from the <code>save options</code> enumeration, defined in the Standard suite.</p></li><li class="li"><p>An optional <a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_130"></a><code>result type</code> element definition for the command, which specifies the type of value generated when a command is executed. A result is a special case of a parameter definition that has only <code>type</code> and <code>description</code> attributes and may not be hidden or optional. If the command has no result, omit this element.</p><p>When you write Objective-C code to handle a command, it should return information of the type specified by the <code>result type</code> element. If there is no result type specified, return <code>nil</code>.</p><p>Here is the result definition for the <code>count</code> command, which returns an integer value for the count.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;result type="integer" description="the number of elements"/><span></span></pre></td></tr></table></div></li></ul><p>Scriptability information for a command is packaged in the command object created to handle a received Apple event. For information on how your application works with that information, see <span class="content_text"><a href="../SApps_script_cmds/SAppsScriptCmds.html#//apple_ref/doc/uid/20001242-SW15">“Script Command Components,”</a></span> as well as other sections in <span class="content_text"><a href="../SApps_script_cmds/SAppsScriptCmds.html#//apple_ref/doc/uid/20001242-BBCBCIJE">“Script Commands.”</a></span><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_131"></a></p><a name="//apple_ref/doc/uid/TP40001977-1146529" title="Enumeration Elements"></a><a name="//apple_ref/doc/uid/TP40001979-BAJFEGDH" title="Enumeration Elements"></a><h3>Enumeration Elements</h3><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_132"></a>You may need to define enumerated constants in your sdef. For example, you may want to provide constants a scripter can use to specify information to a command. The Standard suite does this with the <code>save options</code> enumeration, which provides values a scripter can use with either the <code>close</code> command or the <code>quit</code> command to specify how to handle unsaved documents.</p><p>An <code>enumeration</code> element is a collection of symbolic constants, referred to as enumerators. As shown in the following listing for the  <code>save options</code> enumeration, you provide a name and a code for the enumeration as a whole. You also provide a name, code, and description for each enumerator.</p><a name="//apple_ref/doc/uid/TP40001979-1130151" title="Listing 4-5Definition of the save options enumeration"></a><p class="codesample"><strong>Listing 4-5&nbsp;&nbsp;</strong>Definition of the save options enumeration</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;enumeration name="save options" code="savo"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;enumerator name="yes" code="yes " description="Save the file."/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;enumerator name="no" code="no  " description="Do not save the file."/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;enumerator name="ask" code="ask "<span></span></pre></td></tr><tr><td scope="row"><pre>        description="Ask the user whether or not to save the file."/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/enumeration><span></span></pre></td></tr></table></div><p>An enumeration element can optionally contain an <a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_133"></a>inline entry, indicating how many of the enumerators should be shown with a term that uses the enumeration when the dictionary defined by the sdef is displayed. By default (if you do not use the inline element), all enumerators are shown. If you specify <code>inline="0"</code>, just the enumeration name (<code>save options</code>, in the example above) is displayed. However, a user viewing the definition can click the enumeration name to view the actual enumeration definition.</p><p>The following line shows how to modify the <code>save options</code> definition to limit the display to just the first two enumerators (<code>yes/no</code>).<a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_134"></a></p><div class="codesample"><table><tr><td scope="row"><pre>&lt;enumeration name="save options" code="savo" inline="2"><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001977-1131361" title="Record-Type Elements"></a><a name="//apple_ref/doc/uid/TP40001979-BAJEBHFB" title="Record-Type Elements"></a><h3>Record-Type Elements</h3><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_135"></a>If you need to define a simple structure, rather than a class, for your sdef, you can add a <code>record-type</code> element. For example, the following listing shows the <code>record-type</code> definition for <code>print settings</code> from the Standard suite. The <code>cocoa key</code> entries in this definition match the names that <code>NSPrintInfo</code> uses in its attributes dictionary.</p><p>In addition to <code>property name</code>, <code>code</code>, and <code>description</code>, a <code>record-type</code> element contains <span class="content_text"><a href="SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001979-1145406">“Property Elements,”</a></span> described previously. You can use <code>record-type</code> elements you've defined anywhere you specify the <code>type</code> of an <code>element</code>, <code>property</code>, or <code>parameter</code> in your sdef.</p><a name="//apple_ref/doc/uid/TP40001979-1131391" title="Listing 4-6Definition of the print settings record-type"></a><p class="codesample"><strong>Listing 4-6&nbsp;&nbsp;</strong>Definition of the print settings record-type</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;record-type name="print settings" code="pset"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="copies" code="lwcp" type="integer"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="the number of copies of a document to be printed"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSCopies"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="collating" code="lwcl" type="boolean"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="Should printed copies be collated?"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSMustCollate"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="starting page" code="lwfp" type="integer"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="the first page of the document to be printed"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSFirstPage"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="ending page" code="lwlp" type="integer"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="the last page of the document to be printed"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSLastPage"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="pages across" code="lwla" type="integer"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="number of logical pages laid across a physical page"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSPagesAcross"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="pages down" code="lwld" type="integer"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="number of logical pages laid out down a physical page"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSPagesDown"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="error handling" code="lweh" type="printing error handling"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="how errors are handled"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSDetailedErrorReporting"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="fax number" code="faxn" type="text"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="for fax number"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSFaxNumber"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;property name="target printer" code="trpr" type="text"<span></span></pre></td></tr><tr><td scope="row"><pre>        description="for target printer"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;cocoa key="NSPrinterName"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/property><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/record-type><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_136"></a><span></span></pre></td></tr></table></div>	<a name="//apple_ref/doc/uid/TP40001977-1130611" title="Value-Type Elements"></a><a name="//apple_ref/doc/uid/TP40001979-BAJJDIHH" title="Value-Type Elements"></a><h3>Value-Type Elements</h3><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_137"></a>If you need to define a new basic type for your scripting support, you can do so with a <code>value-type</code> element. A <code>value-type</code> element defines a simple type that has no properties or elements accessible through scripting. The following listing shows the value-type definition for <code>color</code> from the Text suite. In addition to the type name and code, Cocoa value-type definitions should specify a corresponding Objective-C class, such as <code>NSData</code> or <code>NSNumber</code> (or your class that supports your value-type). The built in AppleScript types supported by Cocoa are listed in <span class="content_text"><a href="../SApps_about_apps/SAppsAboutApps.html#//apple_ref/doc/uid/TP40001976-SW11">Table 1-1</a></span>.</p><p> You can use <code>value-type</code> elements you've defined anywhere you specify the <code>type</code> of an element, property, or parameter in your sdef.</p><a name="//apple_ref/doc/uid/TP40001979-CJBBBGDD" title="Listing 4-7Definition of the color value-type"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40001977-1146990" title="Listing 4-7Definition of the color value-type"></a><strong>Listing 4-7&nbsp;&nbsp;</strong>Definition of the color value-type</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;value-type name="RGB color" code="cRGB"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;cocoa class="NSColor"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/value-type><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_138"></a><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001977-1147030" title="Cocoa Elements"></a><a name="//apple_ref/doc/uid/TP40001979-CJBFGHIC" title="Cocoa Elements"></a><h3>Cocoa Elements</h3><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_139"></a>Some of the information in your sdef describes implementation details from your application. For example, property names in the sdef serve as KVC keys for accessing property values of scriptable application objects, as described in <span class="content_text"><a href="../SApps_implement/SAppsImplement.html#//apple_ref/doc/uid/20000037-SW1">“Provide Keys for Key-Value Coding”</a></span> and <span class="content_text"><a href="../SApps_get_set/SAppsGetSet.html#//apple_ref/doc/uid/TP40002164-CH18-SW4">“Maintain KVC Compliance.”</a></span> Similarly, your sdef contains other information that directly identifies classes or methods that are part of your application's scripting support.</p><p>To supply this implementation information for use by Cocoa scripting, you use <code>cocoa</code> elements. A <code>cocoa</code> element can contain the following attributes:</p><ul class="spaceabove"><li class="li"><p><code>class</code>: Specifies an Objective-C class name for <code>class</code> elements and <code>command</code> elements.</p></li><li class="li"><p><code>key</code>: Specifies a string key for a dictionary (<code>NSDictionary</code>) of command parameters, or a key to be used by Cocoa scripting to access a property or element through key-value coding.</p></li><li class="li"><p><code>method</code>: Specifies an Objective-C method name. Used to specify <code>responds-to</code> methods for <code>class</code> elements.</p></li></ul><p>See the previous sections in this chapter for examples of these attributes.</p><p><a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_140"></a>Cocoa scripting will generate default keys for property and element attributes and for commands, if you do not specify them. For a property, it capitalizes each word of the property’s name except the first word, then removes any spaces. For an element, it specifies the plural of the element type. For a command, the default is <code>NSScriptCommand</code>.</p><p>The following table shows some examples of default naming.</p><a name="//apple_ref/doc/uid/TP40001979-CJBHJHFG" title="Table 4-1Default naming for attributes of cocoa elements"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP40001977-1150506" title="Table 4-1Default naming for attributes of cocoa elements"></a><strong>Table 4-1&nbsp;&nbsp;</strong>Default naming for attributes of cocoa elements</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Default value</p></th></tr><tr><td  scope="row"><p><code>&lt;property name="current resolution"></code></p></td><td ><p><code>currentResolution</code> (key name)</p></td></tr><tr><td  scope="row"><p><code>&lt;element type="monitor"></code></p></td><td ><p><code>monitors</code> (pluralized key name)</p></td></tr><tr><td  scope="row"><p><code>&lt;command name="someCommand"...</code></p><p>(with no command class specified)</p></td><td ><p><code>NSScriptCommand</code> (class name for command)<a name="//apple_ref/doc/uid/TP40001979-DontLinkElementID_141"></a></p></td></tr></table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../SApps_implement/SAppsImplement.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SApps_get_set/SAppsGetSet.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-03-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/ScriptableCocoaApplications/SApps_creating_sdef/SAppsCreateSdef.html%3Fid%3DTP40002164-2.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/ScriptableCocoaApplications/SApps_creating_sdef/SAppsCreateSdef.html%3Fid%3DTP40002164-2.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/ScriptableCocoaApplications/SApps_creating_sdef/SAppsCreateSdef.html%3Fid%3DTP40002164-2.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>