<html><head><title>Mac OS X
 Manual Page For scan(ntcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/ntcl/scan" title="Mac OS X
 Manual Page for scan(ntcl)"><a name="//apple_ref/doc/man/n/scan" title="Mac OS X
 Manual Page for scan(ntcl)"><!-- headerDoc=man; indexgroup=Section ntcl; uid="//apple_ref/doc/man/ntcl/scan"; name=scan(ntcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
scan(n)                                     Tcl Built-In Commands                                    scan(n)



____________________________________________________________________________________________________________

<b>NAME</b>
       scan - Parse string using conversion specifiers in the style of sscanf

<b>SYNOPSIS</b>
       <b>scan</b> <u>string</u> <u>format</u> ?<u>varName</u> <u>varName</u> <u>...</u>?
____________________________________________________________________________________________________________


<b>INTRODUCTION</b>
       This  command  parses  fields from an input string in the same fashion as the ANSI C <b>sscanf</b> procedure
       and returns a count of the number of conversions performed, or -1 if the end of the input  string  is
       reached  before  any conversions have been performed.  <u>String</u> gives the input to be parsed and <u>format</u>
       indicates how to parse it, using <b>%</b> conversion specifiers as in <b>sscanf</b>.  Each <u>varName</u> gives  the  name
       of  a  variable;  when  a field is scanned from <u>string</u> the result is converted back into a string and
       assigned to the corresponding variable.  If no <u>varName</u> variables are specified, then <b>scan</b> works in an
       inline  manner, returning the data that would otherwise be stored in the variables as a list.  In the
       inline case, an empty string is returned when the end of the input string is reached before any  con-<font color="#ffffff" class="whiteout">versions&nbsp;conversions</font>
       versions have been performed.


<b>DETAILS</b> <b>ON</b> <b>SCANNING</b>
       <b>Scan</b>  operates by scanning <u>string</u> and <u>format</u> together.  If the next character in <u>format</u> is a blank or
       tab then it matches any number of white space characters in <u>string</u> (including zero).   Otherwise,  if
       it  isn't  a <b>%</b> character then it must match the next character of <u>string</u>.  When a <b>%</b> is encountered in
       <u>format</u>, it indicates the start of a conversion specifier.  A conversion specifier contains up to four |
       fields  after  the  <b>%</b>:  a  <b>*</b>,  which indicates that the converted value is to be discarded instead of |
       assigned to a variable; a XPG3 position specifier; a number indicating a maximum field width; a field |
       size  modifier;  and a conversion character.  All of these fields are optional except for the conver-<font color="#ffffff" class="whiteout">sion&nbsp;conversion</font>
       sion character.  The fields that are present must appear in the order given above.

       When <b>scan</b> finds a conversion specifier in <u>format</u>, it first skips any white-space characters in <u>string</u>
       (unless  the  specifier is <b>[</b> or <b>c</b>).  Then it converts the next input characters according to the con-<font color="#ffffff" class="whiteout">version&nbsp;conversion</font>
       version specifier and stores the result in the variable given by the next argument to <b>scan</b>.

       If the <b>%</b> is followed by a decimal number and a <b>$</b>, as in ``<b>%2$d</b>'', then the variable  to  use  is  not
       taken  from  the  next  sequential argument.  Instead, it is taken from the argument indicated by the
       number, where 1 corresponds to the first <u>varName</u>.  If there are any positional specifiers  in  <u>format</u>
       then all of the specifiers must be positional.  Every <u>varName</u> on the argument list must correspond to
       exactly one conversion specifier or an error is generated, or in the inline case, any position can be
       specified at most once and the empty positions will be filled in with empty strings.

       The following conversion characters are supported:

       <b>d</b>         The  input  field  must be a decimal integer.  It is read in and the value is stored in the
                 variable as a decimal string.  If the <b>l</b> or <b>L</b> field size  modifier  is  given,  the  scanned |
                 value will have an internal representation that is at least 64-bits in size.

       <b>o</b>         The  input  field  must  be  an octal integer. It is read in and the value is stored in the
                 variable as a decimal string.  If the <b>l</b> or <b>L</b> field size  modifier  is  given,  the  scanned |
                 value  will have an internal representation that is at least 64-bits in size.  If the value |
                 exceeds MAX_INT (017777777777 on platforms using 32-bit integers when the <b>l</b> and <b>L</b> modifiers |
                 are  not given), it will be truncated to a signed integer.  Hence, 037777777777 will appear |
                 as -1 on a 32-bit machine by default.

       <b>x</b>         The input field must be a hexadecimal integer. It is read in and the value is stored in the
                 variable  as  a  decimal  string.   If the <b>l</b> or <b>L</b> field size modifier is given, the scanned |
                 value will have an internal representation that is at least 64-bits in size.  If the  value |
                 exceeds  MAX_INT  (0x7FFFFFFF on platforms using 32-bit integers when the <b>l</b> and <b>L</b> modifiers |
                 are not given), it will be truncated to a signed integer.  Hence, 0xFFFFFFFF will appear as |
                 -1 on a 32-bit machine.

       <b>u</b>         The  input  field  must  be  a  decimal integer.  The value is stored in the variable as an
                 unsigned decimal integer string.  If the <b>l</b> or <b>L</b> field size modifier is given,  the  scanned |
                 value will have an internal representation that is at least 64-bits in size.

       <b>i</b>         The  input  field  must  be  an integer.  The base (i.e. decimal, octal, or hexadecimal) is
                 determined in the same fashion as described in <b>expr</b>.  The value is stored in  the  variable
                 as  a  decimal  string.  If the <b>l</b> or <b>L</b> field size modifier is given, the scanned value will |
                 have an internal representation that is at least 64-bits in size.

       <b>c</b>         A single character is read in and its binary value is stored in the variable as  a  decimal
                 string.   Initial  white  space  is  not  skipped in this case, so the input field may be a
                 white-space character.  This conversion is different from the ANSI  standard  in  that  the
                 input field always consists of a single character and no field width may be specified.

       <b>s</b>         The  input  field  consists of all the characters up to the next white-space character; the
                 characters are copied to the variable.

       <b>e</b> or <b>f</b> or <b>g</b>
                 The input field must be a floating-point number consisting of an optional sign, a string of
                 decimal  digits possibly containing a decimal point, and an optional exponent consisting of
                 an <b>e</b> or <b>E</b> followed by an optional sign and a string of decimal digits.  It is read  in  and
                 stored in the variable as a floating-point string.

       <b>[</b><u>chars</u><b>]</b>   The  input  field  consists  of  any number of characters in <u>chars</u>.  The matching string is
                 stored in the variable.  If the first character between the brackets is  a  <b>]</b>  then  it  is
                 treated  as part of <u>chars</u> rather than the closing bracket for the set.  If <u>chars</u> contains a
                 sequence of the form <u>a</u><b>-</b><u>b</u> then any character between <u>a</u> and <u>b</u> (inclusive) will match.  If the
                 first  or  last  character between the brackets is a <b>-</b>, then it is treated as part of <u>chars</u>
                 rather than indicating a range.

       <b>[^</b><u>chars</u><b>]</b>  The input field consists of any number of characters not in <u>chars</u>.  The matching string  is
                 stored  in  the  variable.   If the character immediately following the <b>^</b> is a <b>]</b> then it is
                 treated as part of the set rather than the closing bracket for the set.  If <u>chars</u>  contains
                 a  sequence of the form <u>a</u><b>-</b><u>b</u> then any character between <u>a</u> and <u>b</u> (inclusive) will be excluded
                 from the set.  If the first or last character between the brackets  is  a  <b>-</b>,  then  it  is
                 treated as part of <u>chars</u> rather than indicating a range.

       <b>n</b>         No  input  is  consumed  from  the  input  string.  Instead, the total number of characters
                 scanned from the input string so far is stored in the variable.

       The number of characters read from the input for a conversion is the largest number that makes  sense
       for that particular conversion (e.g.  as many decimal digits as possible for <b>%d</b>, as many octal digits
       as possible for <b>%o</b>, and so on).  The input field for a given  conversion  terminates  either  when  a
       white-space  character  is  encountered  or  when the maximum field width has been reached, whichever
       comes first.  If a <b>*</b> is present in the conversion specifier then no variable is assigned and the next
       scan argument is not consumed.


<b>DIFFERENCES</b> <b>FROM</b> <b>ANSI</b> <b>SSCANF</b>
       The  behavior  of  the <b>scan</b> command is the same as the behavior of the ANSI C <b>sscanf</b> procedure except
       for the following differences:

       [1]    <b>%p</b> conversion specifier is not currently supported.

       [2]    For <b>%c</b> conversions a single character value is converted to a decimal string,  which  is  then
              assigned to the corresponding <u>varName</u>; no field width may be specified for this conversion.

       [3]    The  <b>h</b>  modifier  is always ignored and the <b>l</b> and <b>L</b> modifiers are ignored when converting real |
              values (i.e. type <b>double</b> is used for the internal representation).

       [4]    If the end of the input string is reached before any conversions have been  performed  and  no
              variables are given, an empty string is returned.


<b>SEE</b> <b>ALSO</b>
       <a href="format.ntcl.html#//apple_ref/doc/man/n/format">format(n)</a>, <a href="../man3/sscanf.3.html#//apple_ref/doc/man/3/sscanf">sscanf(3)</a>


<b>KEYWORDS</b>
       conversion specifier, parse, scan



Tcl                                                  8.4                                             scan(n)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/mann/scan.ntcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/mann/scan.ntcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/mann/scan.ntcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
