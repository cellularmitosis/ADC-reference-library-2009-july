<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Boot Process</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><table border="0" cellpadding="0" cellspacing="2" width="432">		<tr>	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">	<b>PATH<img src="images/space.gif" width="6" height="12"></b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a --> 	<b>&gt;</b> iMac Developer Note		</font></td>	</tr>	</table><br><!-- end of path --><A HREF="iMac.44.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="iMac.45.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="iMac.47.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2.Heading2"><A NAME="pgfId=3820"> </A>Boot Process<A NAME="marker=4525"> </A></H1><P CLASS="T1.Text1"><A NAME="pgfId=3821"> </A>The boot process for the iMac family of computers is similar to that for other Macintosh computers that use the ROM-in-RAM approach. The PowerPC processor executes its reset vector as defined by the Hardware Initialization code. This code runs diagnostics tests, and when enough hardware initialization has been performed to run Open Firmware, the boot beep sound is played and Open Firmware begins executing. The Open Firmware module probes the system's I/O buses to determine the device configuration and builds a device tree describing the hardware it finds.</P><P CLASS="T1.Text1"><A NAME="pgfId=3827"> </A>The boot device, selected by the user with the Startup Disk control panel, is stored in Open Firmware's NVRAM. Open Firmware attempts to locate that boot device, which can be a hard disk, a CD, a USB storage device, or a network connection. If the selected boot device is not found, Open Firmware searches for a suitable boot device according to a predetermined search order. <A NAME="marker=4526"> </A><A NAME="marker=4527"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3828"> </A>Once the boot device has been found, the Mac OS ROM image is loaded into memory, decompressed, and write-protected so that it behaves just like a ROM.</P><P CLASS="T1.Text1"><A NAME="pgfId=3829"> </A>The user may interrupt Open Firmware's boot device selection by holding down the option key while booting. This invokes the OS Picker, an Open Firmware application that lets the user select an alternate operating system or boot device. The default OS is the Mac OS ROM image, loaded from the current startup device. </P><P CLASS="T1.Text1"><A NAME="pgfId=3830"> </A>Some of the Mac OS ROM boot code is written in 68K code. In order to run the 68K ROM, the PowerPC Nanokernel is loaded, and the emulator task is started. The emulator begins executing code in the 68K ROM. This code uses the device tree provided by Open Firmware to install device drivers, Macintosh OS Services (referred to as Toolbox Managers), and finally the ROM loads the rest of the operating system from the startup device.</P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 Oct 99)<P><A HREF="iMac.44.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="iMac.45.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="iMac.47.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>