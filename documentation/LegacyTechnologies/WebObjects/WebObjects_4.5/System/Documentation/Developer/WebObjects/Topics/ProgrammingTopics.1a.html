<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Fetching with an Editing Context</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Programming Topics</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="TopicsTOC.html"><img src="up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.19.html"><img src="previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.1b.html"><img src="next.gif" border="0" width="49" height="16"></A></DIV><H1 CLASS="TopictTitle"><A NAME="pgfId=606100"> </A><A NAME="15933"> </A>Fetching with an Editing Context</H1><DIV><H2 CLASS="Synopsis"><A NAME="pgfId=606101"> </A>Synopsis</H2><P CLASS="Body"><A NAME="pgfId=606102"> </A>Describes how to fetch enterprise objects with an editing context.</P></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=606103"> </A>Discussion</H2><P CLASS="Body"><A NAME="pgfId=606104"> </A>Instead of using a display group to fetch objects, you can fetch enterprise objects directly with an EOEditingContext. Fetching from an EOEditingContext gains you more control over how the objects are fetched and enables you to directly manipulate the object graph. To fetch objects with an editing context involves these steps:</P><P CLASS="Numbered1"><A NAME="pgfId=606105"> </A>	Obtain an editing context.</P><P CLASS="NumberedCont"><A NAME="pgfId=612725"> </A>	For WebObjects applications, each session has its own editing context which is obtained by sending the <TT CLASS="Code">defaultEditingContext</TT> message to the session:</P><PRE CLASS="Code"><A NAME="pgfId=606107"> </A>anEditingContext = [[self session] defaultEditingContext];</PRE><P CLASS="BulletedCont"><A NAME="pgfId=617016"> </A>Otherwise you can simply create an editing context.</P><PRE CLASS="Code"><A NAME="pgfId=617017"> </A>anEditingContext = [EOEditingContext new];</PRE><OL><LI CLASS="Numbered"><A NAME="pgfId=606109"> </A>	Create a fetch specification.</LI></OL><P CLASS="BulletedCont"><A NAME="pgfId=617022"> </A>The fetch specification is an EOFetchSpecification object that tells EOF which objects you want to fetch and the order they should appear. See the programming topic &quot;Creating Fetch Specifications Programmatically&quot; to find out how to create the fetch specification. An example is given below.</P><PRE CLASS="Code"><A NAME="pgfId=617032"> </A>aQualifier = [EOQualifier qualifierWithQualifierFormat:    @&quot;lastName = 'Smith'&quot;];aFetchSpecification = [EOFetchSpecification fetchSpecificationWithEntityName:    @&quot;Employee&quot; qualifier: aQualifier sortOrderings:nil];</PRE><OL><LI CLASS="Numbered"><A NAME="pgfId=606118"> </A>Fetch the objects with the editing context.</LI></OL><P CLASS="BulletedCont"><A NAME="pgfId=617023"> </A>You use the method <TT CLASS="Code">objectsWithFetchSpecification</TT> which returns an array of enterprise objects that meets the fetch specification you have defined.</P><PRE CLASS="Code"><A NAME="pgfId=606120"> </A>NSArray * results = [anEditingContext    objectsWithFetchSpecification: aFetchSpecification];</PRE><DIV><H3 CLASS="Heading2"><A NAME="pgfId=606124"> </A>EOUtilities Convenience API </H3><P CLASS="Body"><A NAME="pgfId=612652"> </A>The EOUtilities Application Program Interface (API) is a collection of convenience methods to simplify common operations with EOF. It is implemented as a category on EOEditingContext in Objective-C and as an abstract class in Java. To perform the fetch above using EOUtilities use:</P><PRE CLASS="Code"><A NAME="pgfId=606151"> </A>NSArray *Smiths = [[[self session] defaultEditingContext]    objectsMatchingValue:@&quot;Smith&quot; forKey:@&quot;lastName&quot;    entityNamed:@&quot;Employee&quot;];</PRE></DIV></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=612685"> </A>See Also</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=606155"> </A><A HREF="ProgrammingTopics.1c.html#39919" CLASS="XRef">Creating Fetch Specifications Programmatically</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=617999"> </A><A HREF="ProgrammingTopics.1b.html#27044" CLASS="XRef">Setting a WODisplayGroup's Fetch Specification Programmatically</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=613599"> </A>EOEditingContext class specification in the <EM CLASS="Emphasis">Enterprise Object Framework Reference</EM></LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=606158"> </A>Questions</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=606159"> </A>How do I fetch records from the database?</LI><LI CLASS="Bulleted"><A NAME="pgfId=613600"> </A>How do I use an EOEditingContext to fetch records from the database?</LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=606160"> </A>Keywords</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=606161"> </A>EOEditingContext</LI><LI CLASS="Bulleted"><A NAME="pgfId=618016"> </A>Fetch</LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=606163"> </A>Revision History</H2><P CLASS="Body"><A NAME="pgfId=606164"> </A>20 July, 1998. Winnie Pun. First Draft.</P><P CLASS="Body"><A NAME="pgfId=612703"> </A>16 November, 1998. Clif Liu. Second Draft.</P><PRE CLASS="Code"><A NAME="pgfId=602450"> </A></PRE></DIV><HR>&#169 1999 Apple Computer, Inc.<P><A HREF="TopicsTOC.html"><img src="up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.19.html"><img src="previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.1b.html"><img src="next.gif" border="0" width="49" height="16"></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></BODY></HTML>