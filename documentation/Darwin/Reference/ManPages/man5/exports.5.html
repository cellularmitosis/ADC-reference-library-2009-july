<html><head><title>Mac OS X
 Manual Page For exports(5)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/5/exports" title="Mac OS X
 Manual Page for exports(5)"><!-- headerDoc=man; indexgroup=Section 5; uid="//apple_ref/doc/man/5/exports"; name=exports(5) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
EXPORTS(5)                  BSD File Formats Manual                 EXPORTS(5)

<b>NAME</b>
     <b>exports</b> -- define remote mount points for NFS mount requests

<b>SYNOPSIS</b>
     <b>exports</b>

<b>DESCRIPTION</b>
     The <b>exports</b> file specifies remote mount points for the NFS mount protocol per the NFS server specifica-<font color="#ffffff" class="whiteout">tion;&nbsp;specification;</font>
     tion; see <u>Network</u> <u>File</u> <u>System</u> <u>Protocol</u> <u>Specification</u> <u>RFC</u> <u>1094,</u> <u>Appendix</u> <u>A</u> and <u>NFS:</u> <u>Network</u> <u>File</u> <u>System</u>
     <u>Version</u> <u>3</u> <u>Specification,</u> <u>Appendix</u> <u>I</u>.

     Fields are separated by space or tab characters.  Lines that begin with a # are considered comments and
     are ignored.

     Each line in the file specifies one or more exported directories, any additional mountable sub-directo-<font color="#ffffff" class="whiteout">ries&nbsp;sub-directories</font>
     ries within those directories, export flags, and one or more hosts (if access to the export is to be
     restricted).  All directories on the line must exist within the same local file system.

     Within a file system there may be several exported sub-directories with different export options.  How-<font color="#ffffff" class="whiteout">ever,&nbsp;However,</font>
     ever, none of those exported directories may lie within another.

     A host may be specified only once for each exported directory and there may be only one default entry
     for each exported directory that applies to all other hosts.  The latter exports the file system to the
     ``world'' and should be used only when the file system contains public information.  Any attempt to
     export the same directory to a host with different export options will cause the conflicting export
     entry to be rejected.

     The first <!-- a -->field(s)<!-- /a --> of an export entry is a list of directories on a local file system to export.  At
     least one pathname must be to an exported directory.  Other pathnames may refer to sub-directories of
     the exported directory to indicate that hosts are also allowed to explicitly mount those sub-directo-<font color="#ffffff" class="whiteout">ries&nbsp;sub-directories</font>
     ries of the exported directory.  (Note that the <b>-alldirs</b> flag can be used to allow mounting any sub-<font color="#ffffff" class="whiteout">directories&nbsp;subdirectories</font>
     directories of the pathnames specified.)

     Mount points for a file system may appear on multiple lines, each with different sets of hosts and
     export options.

     The pathnames must not have any symbolic links in them and should not have any "." or ".." components.
     Single and double quote characters occuring in a pathname must be escaped with \' and \", respectively.
     Space characters occuring in a pathname must be escaped, or alternatively, the pathname can be enclosed
     in single or double quotes.

     Note that because an export entry only lists a set of pathnames, it is up to the NFS server to cor-<font color="#ffffff" class="whiteout">rectly&nbsp;correctly</font>
     rectly determine what file system is meant to be exported by that entry.  To that end, the server will
     attempt to intelligently decide which file system best matches the entry by comparing all the pathnames
     with both the current list of mounted file systems and the list of previously-exported file systems.
     If the server determines that the intended file system is not available, it will automatically mark
     that export as offline until the file system becomes available (see the <b>-offline</b> export option below
     for more info).  To avoid any ambiguity, use of the <b>-fs</b> export option is recommended (see below).

     The second component of a line specifies how the file system is to be exported to the host set.  The
     option flags specify whether the file system is exported read-only or read-write and how the client uid
     is mapped to user credentials on the server.

     Export options are specified as follows:

     <b>-maproot</b>=<b>user</b> The credential of the specified user is used for remote access by root.  The credential
     includes all the groups to which the user is a member on the local machine ( see <a href="../man1/id.1.html#//apple_ref/doc/man/1/id">id(1)</a> ). The user may
     be specified by name or number.

     <b>-maproot</b>=<b>user:group1:group2:...</b> The colon separated list is used to specify the precise credential to
     be used for remote access by root.  The elements of the list may be either names or numbers.  Note that
     ``user:'' should be used to distinguish a credential containing no groups from a complete credential
     for that user.

     <b>-mapall</b>=<b>user</b> or <b>-mapall</b>=<b>user:group1:group2:...</b> specifies a mapping for all client uids (including root)
     using the same semantics as <b>-maproot</b>.

     The option <b>-r</b> is a synonym for <b>-maproot</b> in an effort to be backward compatible with older export file
     formats.

     In the absence of <b>-maproot</b> and <b>-mapall</b> options, remote accesses by root will result in using a creden-<font color="#ffffff" class="whiteout">tial&nbsp;credential</font>
     tial of -2:-2.  All other users will be mapped to their remote credential.  If a <b>-maproot</b> option is
     given, remote access by root will be mapped to that credential instead of -2:-2.  If a <b>-mapall</b> option
     is given, all users (including root) will be mapped to that credential in place of their own.

     The <b>-alldirs</b> flag allows the <!-- a -->host(s)<!-- /a --> to mount at any point within the file system, including regular
     files if the <b>-R</b> option is used on nfsd.

     The <b>-ro</b> option specifies that the file system should be exported read-only (default read/write).  The
     option <b>-o</b> is a synonym for <b>-ro</b> in an effort to be backward compatible with older export file formats.

     The <b>-32bitclients</b> option causes the NFS server to guarantee that directory cookies will fit within 32
     bits even though directory cookies are 64 bits in NFSv3.  This option may be required with NFS clients
     that do not properly support 64 bit directory cookies.  Use of this option may result in sub-optimal
     performance of the exported file system.

     <b>-sec</b>=<b>mechanism1:mechanism2...</b> This option specifies one or more security mechanisms required for access
     to the exported directory.  The security mechanisms currently supported are krb5p, krb5i, krb5, and
     sys.  Multiple security mechanisms can be specified as a colon separated list, and should be in the
     order of most preferred to least preferred.  In the absence of this option, the security mechanism
     defaults to sys.

     <b>-offline</b> This option specifies that the given export should be treated as if the exported file system
     is not available.  For NFSv3, this will cause clients to receive "jukebox" errors directing them to try
     the request later.  For NFSv2 (which does not support this error value), the export will be treated as
     non-existent and clients will receive stale file handle errors.

     <b>-fspath</b>=<b>/path</b> and/or <b>-fsuuid</b>=<b>UUID</b> These options can be used to specify the pathname to and/or the UUID
     of the file system that is intended to be exported.  This can be useful to disambiguate the export
     entry.  Since the export syntax only specifies the path to the directory to be exported, it can be
     ambiguous as to what file system is expected to be exported.  Specifying "/Volumes/XRAID" can be inter-<font color="#ffffff" class="whiteout">preted&nbsp;interpreted</font>
     preted as exporting either a file system mounted on that directory or the "Volumes/XRAID" subdirectory
     of the root file system.  Specifying <b>-fspath</b>=<b>/Volumes/XRAID</b> can prevent exporting the wrong file system
     - for example, if the exports are evaluated at a point when the directory exists but the volume has not
     yet been mounted on it.  The export will fail if the file system referred to in an export entry either
     (1) is not mounted at the same path as the given <b>-fspath</b>=<b>/path</b>.  or (2) does not have a UUID that
     matches the given <b>-fsuuid</b>=<b>UUID</b>.

     The third component of a line specifies the host set to which the line applies.  The set may be speci-<font color="#ffffff" class="whiteout">fied&nbsp;specified</font>
     fied in three ways.  The first way is to list the host <!-- a -->name(s)<!-- /a --> separated by white space.  (Standard
     internet ``dot'' addresses may be used in place of names.)  The second way is to specify a ``netgroup''
     as defined in the netgroup file (see <a href="netgroup.5.html#//apple_ref/doc/man/5/netgroup">netgroup(5)</a> ). The third way is to specify an internet sub-network
     using a network and network mask that is defined as the set of all hosts with addresses within the sub-<font color="#ffffff" class="whiteout">network.&nbsp;subnetwork.</font>
     network.  This latter approach requires less overhead within the kernel and is recommended for cases
     where the export line refers to a large number of clients within an administrative sub-net.

     The first two cases are specified by simply listing the <!-- a -->name(s)<!-- /a --> separated by whitespace.  All names are
     checked to see if they are ``netgroup'' names first and are assumed to be hostnames otherwise.  Using
     the full domain specification for a hostname can normally circumvent the problem of a host that has the
     same name as a netgroup.  The third case is specified by the flag <b>-network</b>=<b>netname</b> and optionally
     <b>-mask</b>=<b>netmask</b>.  If the mask is not specified, it will default to the mask for that network class (A, B
     or C; see <!-- a -->inet(5)<!-- /a --> ).

<b>EXAMPLES</b>
           /usr /usr/local -maproot=0:10 friends
           /usr -maproot=daemon grumpy.cis.uoguelph.ca 131.104.48.16
           /usr -ro -mapall=nobody
           /u -maproot=bin: -network 131.104.48 -mask 255.255.255.0
           /u2 -maproot=root friends
           /u2 -alldirs -network cis-net -mask cis-mask
           /Users -alldirs -network 2.29.96.0 -mask 255.255.255.0
           /Applications -ro -network 2.29.96.0 -mask 255.255.255.0

     Given that <u>/usr</u>, <u>/u</u>, <u>/u2</u>, and <u>/</u> are local file system mount points, the above example specifies the
     following:

     <u>/usr</u> is exported to hosts <u>friends</u>, where <u>friends</u> is specified in the netgroup file with users mapped to
     their remote credentials and root mapped to uid 0 and group 10.  It is exported read-write and the
     hosts in <u>friends</u> can mount either <u>/usr</u> or <u>/usr/local</u>.  It is exported to <u>131.104.48.16</u> and
     <u>grumpy.cis.uoguelph.ca</u> with users mapped to their remote credentials and root mapped to the user and
     groups associated with ``daemon''; it is exported to the rest of the world as read-only with all users
     mapped to the user and groups associated with ``nobody''.

     <u>/u</u> is exported to all hosts on the sub-network <u>131.104.48</u> with root mapped to the uid for ``bin'' and
     with no group access.

     <u>/u2</u> is exported to the hosts in ``friends'' with root mapped to uid and groups associated with
     ``root''; it is exported to all hosts on network ``cis-net'' allowing mounts at any directory within
     /u2.

     The <u>/Users</u> and <u>/Applications</u> sub-directories of <u>/</u> are exported to all hosts on the sub-network <u>2.29.96</u>.
     Any directory within <u>/Users</u> can be mounted.  <u>/Users</u> is exported read-write and <u>/Applications</u> is
     exported read-only.

<b>FILES</b>
     /etc/exports  The default remote mount-point file.

<b>SEE</b> <b>ALSO</b>
     <a href="netgroup.5.html#//apple_ref/doc/man/5/netgroup">netgroup(5)</a>, <a href="../man8/nfsd.8.html#//apple_ref/doc/man/8/nfsd">nfsd(8)</a>, <a href="../man8/showmount.8.html#//apple_ref/doc/man/8/showmount">showmount(8)</a> <a href="../man8/portmap.8.html#//apple_ref/doc/man/8/portmap">portmap(8)</a>

<b>BUGS</b>
     It is recommended that all exported directories within the same server file system be specified on
     adjacent lines going down the tree.  You cannot specify a hostname that is also the name of a netgroup.
     Specifying the full domain specification for a hostname can normally circumvent the problem.

BSD                            October 25, 2006                            BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man5/exports.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man5/exports.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man5/exports.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
