<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Virtual Key Codes for Non-ADB Keyboards(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING580></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-579.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-581.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-570.html"><B>Appendix C - Keyboard Resources</B></A> / <A HREF="Text-576.html"><B>Key-Map Resource (Type 'KMAP')</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING580-0></A>
<H2><A NAME=MARKER-9-54></A>Virtual Key Codes for Non-ADB Keyboards</H2>
 <A NAME=MARKER-2-55></A>The original Macintosh keyboard (for both the 128K and 512K versions) and the Macintosh Plus keyboard produce event records with raw key codes rather than virtual key codes, because there is no key-map resource for them. For domestic versions of these keyboards it is not a problem, because the raw key codes are identical to the virtual key codes expected by the U.S. keyboard-layout resource. The international version of the Macintosh Plus keyboard, however, and the ISO layout of the small Macintosh 512K keyboard, produce raw key codes that cannot be treated as virtual.<P>
 <A NAME=MARKER-0-56></A>When a keypress from the international version of the Macintosh Plus keyboard occurs, the interrupt handler calls the <CODE>_Key1Trans</CODE> hook, which translates the raw key codes to virtual key codes before calling <CODE>KeyTranslate</CODE>. Thus your application normally receives the correct character codes even if an international version of the Macintosh Plus keyboard is attached. However, the raw key code is what is placed in the event record. Therefore, if you need to explicitly convert raw key codes to virtual key codes, you can use the values in <A HREF=#MARKER-9-9>Table C-7</A>. Raw key codes are offsets into the table; the byte <BR>at each offset represents the virtual key code for that raw key code. (The keyboard produces raw key codes up to $3F only; key codes above that value are generated by an optional keypad.)
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-9></A><B>Table C-7 Virtual key codes for the international Macintosh Plus keyboard</B></CAPTION>
<TH>Raw codes<TH colspan=8>Virtual codes<TR>
<TD>$00-$07<TD>$00<TD>$01<TD>$02<TD>$03<TD>$04<TD>$05<TD>$32<TD>$06<TR>
<TD>$08-$0F<TD>$07<TD>$08<TD>$2C<TD>$09<TD>$0C<TD>$0D<TD>$0E<TD>$0F<TR>
<TD>$10-$17<TD>$10<TD>$11<TD>$12<TD>$13<TD>$14<TD>$15<TD>$16<TD>$17<TR>
<TD>$18-$1F<TD>$18<TD>$19<TD>$1A<TD>$1B<TD>$1C<TD>$1D<TD>$1E<TD>$1F<TR>
<TD>$20-$27<TD>$20<TD>$21<TD>$22<TD>$23<TD>$2A<TD>$25<TD>$26<TD>$27<TR>
<TD>$28-$2F<TD>$28<TD>$29<TD>$24<TD>$2E<TD>$2F<TD>$0B<TD>$2D<TD>$2B<TR>
<TD>$30-$37<TD>$30<TD>$34<TD>$0A<TD>$33<TD>$31<TD>$35<TD>$36<TD>$37<TR>
<TD>$38-$3F<TD>$38<TD>$39<TD>$3A<TD>$3B<TD>$3C<TD>$3D<TD>$3E<TD>$3F</TABLE>
<P>
 <A NAME=MARKER-2-57></A>The domestic and ISO layouts of the small Macintosh 512K keyboard have keyboard types of 3 and 259, respectively. However, in both cases the low-memory global that specifies current keyboard type (<A NAME=MARKER-2-58></A><CODE>KbdType</CODE>) holds the value 3. The user indicates which keyboard is in use through a control in the Keyboard control panel that appears only on non-ADB systems. The user's selection is kept in the <CODE>itlcOldKeyboard</CODE> field of the system script's international configuration (<CODE>'itlc'</CODE>) resource. You can examine that field if you need to know whether the ISO or domestic layout of the small Macintosh 512K keyboard is in use.<B><A NAME=MARKER-2-59></A></B><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-579.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-581.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
