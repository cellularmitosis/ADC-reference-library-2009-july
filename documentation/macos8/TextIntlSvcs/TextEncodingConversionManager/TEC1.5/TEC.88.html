<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<script language="JavaScript" src="frametest.js"></script>
<TITLE> Converting From Unicode to Multiple Encodings</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a>
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --><A HREF="TEC.78.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.87.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.89.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A><br>
<font face="Geneva,Helvetica,Arial" size="1"><b><br>
		PATH<spacer type="horizontal" size="5">&nbsp;</b></font><a href="../../../mac8.html"><font face="Geneva,Helvetica,Arial" size="1">Mac OS 8 and 9 Developer Documentation</a>  <b>&gt;</b> Text Encoding Conversion Manager<br>
		<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">Programming With the Text Encoding Conversion Manager</font><br>
		<br>
		<hr>

</DIV>
<H1>
<A NAME="pgfId=7577">
 </A>
Converting From Unicode to Multiple Encodings</H1>
<P>
<A NAME="pgfId=9988">
 </A>
It may not be possible to convert a Unicode string to a single destination encoding. To handle these cases, the Unicode Converter provides a function that allows you to specify a number of possible destination encodings and how the function should use these destination encodings, if necessary, when converting the Unicode string. Before you can use the function <A HREF="TEC.8c.html" CLASS="XRef"><TT>ConvertFromUnicodeToTextRun</TT></A> for this purpose, you must first create and obtain a Unicode converter object containing the mapping and state information the Unicode Converter uses to perform the conversion. You use the function <A HREF="TEC.89.html" CLASS="XRef"><TT>CreateUnicodeToTextRunInfo</TT></A> <A HREF="TEC.8a.html" CLASS="XRef"><TT>CreateUnicodeToTextRunInfoByEncoding</TT></A>, or <A HREF="TEC.8b.html" CLASS="XRef"><TT>CreateUnicodeToTextRunInfoByScriptCode</TT></A> for this purpose. You then pass the object to the <TT>ConvertUnicodeToTextRun</TT> function to perform the conversion. You can also convert a Unicode string to one or more scripts. For this purpose you use the function <A HREF="TEC.8d.html" CLASS="XRef"><TT>ConvertFromUnicodeToScriptCodeRun</TT></A>. <P>


<A NAME="pgfId=9978">
 </A>
You can use the same Unicode converter object to convert multiple Unicode strings belonging to the same text stream to the encodings specified in the mapping table. <P>


<A NAME="pgfId=9982">
 </A>
If you use the same Unicode converter object to convert multiple Unicode strings, you should set the keep-information control flag when you call the conversion function. This is because how the conversion is performed might depend on the previous segment. The Unicode Converter might need to refer to the direction state from the previous segment--for example, to determine the text direction for Hebrew or Arabic text.<P>


<A NAME="pgfId=15598">
 </A>
You should use the same Unicode converter object only to convert the text stream for which you created the Unicode converter object. This is because the Unicode Converter stores private state information in a Unicode converter object that is relevant only to the single text stream for which it is used.<P>


<A NAME="pgfId=15605">
 </A>
When you are finished converting all of the text reliant on the Unicode converter object, release the memory allocated for the Unicode converter object by calling the function <A HREF="TEC.8e.html" CLASS="XRef"><TT>DisposeUnicodeToTextRunInfo</TT></A>. </P>
<H4>
<A HREF="TEC.89.html" CLASS="Hypertext">
CreateUnicodeToTextRunInfo</A>
</H4>
<H4>
<A HREF="TEC.8a.html" CLASS="Hypertext">
CreateUnicodeToTextRunInfoByEncoding</A>
</H4>
<H4>
<A HREF="TEC.8b.html" CLASS="Hypertext">
CreateUnicodeToTextRunInfoByScriptCode</A>
</H4>
<H4>
<A HREF="TEC.8c.html" CLASS="Hypertext">
ConvertFromUnicodeToTextRun</A>
</H4>
<H4>
<A HREF="TEC.8d.html" CLASS="Hypertext">
ConvertFromUnicodeToScriptCodeRun</A>
</H4>
<H4>
<A HREF="TEC.8e.html" CLASS="Hypertext">
DisposeUnicodeToTextRunInfo</A>
</H4>
<HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 13 Dec 99)<P><A HREF="TEC.78.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.87.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.89.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A>

<!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY>
</HTML>
