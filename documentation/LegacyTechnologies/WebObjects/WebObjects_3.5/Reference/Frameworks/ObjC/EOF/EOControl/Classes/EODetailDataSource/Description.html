<html><head><title></title></head>

<body bgcolor="#ffffff">

 

 

<h2><a name="//apple_ref/occ/cl/EODetailDataSource">EODetailDataSource</a>

 <BR>

</h2>

<p><B>Inherits From:</B><BR>  

EODataSource : NSObject



<p><B>Conforms To:</B>

NSObject (NSObject)



<p><B>Declared in:</B>

EOControl/EODetailDataSource.h



<p><a name="189">

<a name="description"></a>

<h3>Class Description </h3>

</a>EODetailDataSource defines a data source for use in master-detail configurations, where operations in the detail data source are applied directly to properties of a master object. EODetailDataSource implements the standard <B>fetchObjects </B>, <B>insertObject: </B>, and <B>deleteObject: </B> methods to operate on a relationship property of its master object, so it works for any concrete subclass of EODataSource, including another EODetailDataSource (for a chain of three master and detail data sources).<p>

To set up an EODetailDataSource programmatically, you typically create it by sending a <B>dataSourceQualifiedByKey: </B> message to the master data source, then establish the master object with a <a href="#229"><B>qualifyWithRelationshipKey:ofObject: </B></a> message. The latter method records the name of a relationship for a particular object to resolve in <B>fetchObjects </B>, and to modify in <B>insertObject: </B>, and <B>deleteObject: </B>. These three methods then manipulate the relationship property of the master object to perform the operations requested. See the individual method descriptions for more information.<p>

<dl><dt>Creating and qualifying instances

<dl><dt><a href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterClassDescription:detailKey:">- initWithMasterClassDescription:detailKey:</a>

<dt><a href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterDataSource:detailKey:">- initWithMasterDataSource:detailKey:</a>

<dt><a href="#//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">- qualifyWithRelationshipKey:ofObject:</a>

</dl><dt>Examining instances

<dl><dt><a href="#//apple_ref/occ/instm/EODetailDataSource/masterDataSource">- masterDataSource</a>

<dt><a href="#//apple_ref/occ/instm/EODetailDataSource/detailKey">- detailKey</a>

<dt><a href="#//apple_ref/occ/instm/EODetailDataSource/masterObject">- masterObject</a>

</dl><dt>Setting the master class description

<dl><dt><a href="#//apple_ref/occ/instm/EODetailDataSource/masterClassDescription">- masterClassDescription</a>

<dt><a href="#//apple_ref/occ/instm/EODetailDataSource/setMasterClassDescription:">- setMasterClassDescription:</a>

</dl><dt>Getting the objects

<dl><dt><a href="#//apple_ref/occ/instm/EODetailDataSource/fetchObjects">- fetchObjects</a>

</dl><dt>Inserting and deleting objects

<dl><dt><a href="#//apple_ref/occ/instm/EODetailDataSource/insertObject:">- insertObject:</a>

<dt><a href="#//apple_ref/occ/instm/EODetailDataSource/deleteObject:">- deleteObject:</a>

</dl><dt>Getting the master editing context

<dl><dt><a href="#//apple_ref/occ/instm/EODetailDataSource/editingContext">- editingContext</a>

</dl></dl><a name="201">

<a name="instm"></a>

<h3>Instance Methods </h3>

</a><a name="202">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/deleteObject:">deleteObject:</a></h4>

</a>- (void)<B>deleteObject: </B>(id)<em>anObject</em><p>

Sends a <B>removeObject:fromBothSidesOfRelationshipWithKey: </B> message to the master object with <em>anObject</em> and the receiver's detail key as the arguments. Raises an NSInternalInconsistencyException if there's no master object or no detail key set.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/masterObject">- masterObject</a> </B>, <a href="#//apple_ref/occ/instm/EODetailDataSource/detailKey"><B>- detailKey</a>

 </B><p><a name="206">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/detailKey">detailKey</a></h4>

</a>- (NSString *)<B>detailKey </B><p>

Returns the name of the relationship for which the receiver provides objects, as set in either <a href="#214"><B>initWithMasterDataSource:detailKey: </B></a> or <a href="#229"><B>qualifyWithRelationshipKey:ofObject: </B></a>. If none has been set yet, returns <B>nil </B>.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/masterObject">- masterObject</a>

 </B><p><a name="184">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/editingContext">editingContext</a></h4>

</a><B>-  </B>(EOEditingContext *)<B>editingContext</B><p>

Returns the EOEditingContext of the master object, or <B>nil</B> if there isn't one.<p>

<a name="210">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/fetchObjects">fetchObjects</a></h4>

</a>- (NSArray *)<B>fetchObjects </B><p>

Sends <B>valueForKey: </B> to the master object with the receiver's detail key as the argument, constructs an NSArray for the returned object or objects, and returns it. Returns an empty array if there's no master object, or returns an array containing the master object itself if no detail key is set.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/masterObject">- masterObject</a> </B>, <a href="#//apple_ref/occ/instm/EODetailDataSource/detailKey"><B>- detailKey</a>

 </B><p><a name="249">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/initWithMasterClassDescription:detailKey:">initWithMasterClassDescription:detailKey:</a></h4>

</a>- <B>initWithMasterClassDescription:</B>(EOClassDescription *)<em>masterClassDescription</em><p>

     <B> detailKey:</B>(NSString *)<em>relationshipKey</em><p>

Initializes a newly allocated EODetailDataSource to provide objects based on a relationship of objects in the master object associated with <em>masterClassDescription</em>. Invokes <a href="#229"><B>qualifyWithRelationshipKey:ofObject: </B></a> with <em>relationshipKey</em> specified as the relationship key and <B>nil </B>specified as the object. The receiver initially has no master object selected; to select one, use <a href="#229"><B>qualifyWithRelationshipKey:ofObject: </B></a>. This is the designated initializer for the EODetailDataSource class. Returns <B>self </B>.<p>

<a name="214">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/initWithMasterDataSource:detailKey:">initWithMasterDataSource:detailKey:</a></h4>

</a>- (id)<B>initWithMasterDataSource: </B>(EODataSource *)<em>masterDataSource</em><em> </em><B>detailKey: </B>(NSString *)<em>relationshipKey</em><p>

Initializes a newly allocated EODetailDataSource to provide objects based on a relationship of objects in <em>masterDataSource</em> named by <em>relationshipKey</em>. Invokes <a href="#249"><B>initWithMasterClassDescription:detailKey: </B></a> with <B>nil</B> specified for the class description and <em>relationshipKey</em> specified as the detail key. The receiver initially has no master object selected; to select one, use <a href="#229"><B>qualifyWithRelationshipKey:ofObject: </B></a>. Returns <B>self </B>.<p>

<a name="217">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/insertObject:">insertObject:</a></h4>

</a>- (void)<B>insertObject: </B>(id)<em>object</em><p>

Sends an <B>addObject:toBothSidesOfRelationshipWithKey: </B> message to the master object with <em>anObject</em> and the receiver's detail key as the arguments. Raises an NSInternalInconsistencyException if there's no master object or no detail key set.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/masterObject">- masterObject</a> </B>, <a href="#//apple_ref/occ/instm/EODetailDataSource/detailKey"><B>- detailKey</a>

 </B><p><a name="251">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/masterClassDescription">masterClassDescription</a></h4>

</a>- (EOClassDescription *)<B>masterClassDescription</B><p>

Returns the EOClassDescription of the receiver's master object.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/setMasterClassDescription:">- setMasterClassDescription:</a>

 </B><p><a name="221">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/masterDataSource">masterDataSource</a></h4>

</a>- (EODataSource *)<B>masterDataSource </B><p>

Returns the receiver's master data source.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/masterObject">- masterObject</a> </B>, <a href="#//apple_ref/occ/instm/EODetailDataSource/detailKey"><B>- detailKey</a>

 </B><p><a name="225">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/masterObject">masterObject</a></h4>

</a><B>- (id)masterObject </B><p>

Returns the object in the master data source for which the receiver provides objects. You can change this with a <a href="#229"><B>qualifyWithRelationshipKey:ofObject: </B></a> message.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/masterDataSource">- masterDataSource</a> </B>, <a href="#//apple_ref/occ/instm/EODetailDataSource/detailKey"><B>- detailKey</a>

 </B><p><a name="229">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">qualifyWithRelationshipKey:ofObject:</a></h4>

</a>- (void)<B>qualifyWithRelationshipKey: </B>(NSString *)<em>relationshipKey</em> <B>ofObject: </B>(id)<em>masterObject</em><p>

Configures the receiver to provide objects based on the relationship of <em>masterObject</em> named by <em>relationshipKey</em>. <em>relationshipKey</em> can be different from the one used with <a href="#214"><B>initWithMasterDataSource:detailKey: </B></a>, which changes the relationship for the receiver. If <em>masterObject</em> is <B>nil </B>, this method causes the receiver to return an empty array when sent a <B>fetchObjects </B> message.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/detailKey">- detailKey</a> </B>, <a href="#//apple_ref/occ/instm/EODetailDataSource/masterObject"><B>- masterObject</a>

 </B><p><a name="247">

<h4> <a name="//apple_ref/occ/instm/EODetailDataSource/setMasterClassDescription:">setMasterClassDescription:</a></h4>

</a>- (void)<B>setMasterClassDescription:</B>(EOClassDescription *)<em>classDescription</em><p>

Sets to <em>classDescription</em> the receiver's master object EOClassDescription.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EODetailDataSource/masterClassDescription">- masterClassDescription</a>

 </B><p>

 

 





<i>Copyright &#169; 1997, Apple Computer, Inc.   All rights

reserved.</i>



<!-- Last updated: 10/15/97 16:36:24 -->



</body>

</html>

