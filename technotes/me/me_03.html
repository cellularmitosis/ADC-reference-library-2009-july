<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note ME03: MaxApplZone and MoveHHi from Assembly Language</title><meta name="keywords" content="Mac OS 8 MaxApplZone MoveHHi assembly language ROM"><meta name="Description" content="Technical Note ME03: This Technical Note explains the correctcode to use when calling MaxApplZone and MoveHHi from assemblylanguage.">                                       <meta name="categories" content="Memory"><meta name="week-posted" content="Dec 29, 1986 - Jan 2, 1987"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"><a name="//apple_ref/doc/uid/DTS10002529" title="MaxApplZone and MoveHHi from Assembly Language"></a><a name="top"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="../../referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note ME03</div>
<div id="pageheadsub">MaxApplZone and MoveHHi from Assembly Language</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->										<p id="menutext"><A HREF="#Section1">Introduction</a><BR><BR><A HREF="#Section1">How to Do It</a><BR><BR><A HREF="#References">References</A><BR><BR>   <A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext"> When calling <code>MaxApplZone</code> and <code>MoveHHi</code> from assembly language, be sure to get the correct code.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Jan 01 1987]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR>          <!-- begin_content --><a name="Section1"></a><h2>Introduction</h2><p><code>MaxApplZone</code> and <code>MoveHHi</code> were marked [Not in ROM] in <i>InsideMacintosh, Volumes I-III</i> . They are ROM calls in the 128K ROM. Since theyare not in the 64K ROM, if you want your program to work on 64K ROM routines itis necessary to call the routines by a <code>JSR</code> to a glue (library) routineinstead of using the actual trap macro. The glue calls the ROM routines if theyare available, or executes its copy of them (linked into your program) if not.</p><P><A HREF="#top">Back to top</A></P><a name="Section2"></a><h2>How to do it:</h2><p>Whenever you need to use these calls, just call the library routine. It willcheck <code>ROM85</code> to determine which ROMs are running, and do the appropriate thing.</p><p>For MDS, include the <code>Memory.Rel</code> library in your link file and use:</p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>    XREF  MoveHHi    ; we need to use this 'ROM' routine    ...    JSR  MoveHHi     ; jump to the glue routine that will check ROM85 for us</pre>	</TD></TR></TABLE></CENTER><p>For MPW link with <code>Interface.o</code> and use:</p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>    IMPORT  MoveHHi   ; we need to use this    ...    JSR  MoveHHi      ; jump to the glue routine that will check ROM85 for us</pre>	</TD></TR></TABLE></CENTER><p><b>Avoid</b> calling <code>_MaxApplZone</code> or <code>_MoveHHi</code> directly if youwant your software to work on the 64K ROMs, since that will assemble to an actual trap, not to a <code>JSR</code> to the library.</p><p>If your program is going to be run <b>only</b> on machines with the 128K ROM ornewer, you can call the traps directly. Be sure to check for the 64K ROMs, andreport an error to the user. You can check for old ROMs using the <code>SysEnvirons</code> trap as described in Technical Note #129.</p><P><A HREF="#top">Back to top</A></P><a name="References"></a><h2>References</h2><p>Using Assembly Language</p><p>The Memory Manager</p><p>Technical Note M.FL.SysEnvirons -- <u><A HREF = "../ov/ov_16.html">Gestalt and SysEnvirons: a Never Ending Story</a></u></p>         <P><A HREF="#top">Back to top</A></P>                  <P><A NAME=Downloads></A></P>                  <h2>Downloadables</h2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (32K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/me_03.pdf">Download</A></P>               </TD>            </TR>                     </TABLE>         <BR>                  <P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/me/me_03.html%3Fid%3DDTS10002529-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/me/me_03.html%3Fid%3DDTS10002529-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/me/me_03.html%3Fid%3DDTS10002529-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>