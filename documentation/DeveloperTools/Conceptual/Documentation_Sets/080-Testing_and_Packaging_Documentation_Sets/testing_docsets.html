<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Documentation Set Guide: Testing and Packaging Documentation Sets</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Testing and Packaging Documentation Sets"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005266-CH16" title="Testing and Packaging Documentation Sets"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../FilesSoftwareInstallation-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000524" target="_top">Files &amp; Software Installation</a> &gt; <a href="../000-Introduction/introduction.html#//apple_ref/doc/uid/TP40005266-CH1-DontLinkElementID_109">Documentation Set Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../070-Acquiring_Documentation_Sets_Through_Web_Feeds/acquiring_docsets.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../090-docsetutil_Reference/docsetutil.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_122" title="Testing and Packaging Documentation Sets"></a><h1>Testing and Packaging Documentation Sets</h1><p>The final steps in building a documentation set are to ensure that Xcode can correctly access, display, and search the contents of the documentation set, and to package the documentation set bundle for distribution.</p><p>This chapter describes how to use the <code>docsetutil</code> tool to test the functionality and contents of your documentation set’s indexes, how to test whether Xcode can access and display your documentation, and how to package your documentation set bundle as an XAR archive. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="testing_docsets.html#//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_29">Querying and Testing Indexes</a>
				
			<br/>
			
        
			
			
				<a href="testing_docsets.html#//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_33">Testing Display and Navigation</a>
				
			<br/>
			
        
			
			
				<a href="testing_docsets.html#//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_34">Packaging Documentation Sets</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_29" title="Querying and Testing Indexes"></a><h2>Querying and Testing Indexes</h2><p>Because Xcode relies on the indexes to find and access the content of a documentation set, you should test those indexes thoroughly. The same <code>docsetutil</code> tool that you used to index your documentation set content also lets you test and validate the generated index files. </p><p>The following sections show how you can use the <code>docsetutil</code> tool to compare the contents of the indexes to the contents of the local documentation set bundle, test the search results returned by the indexes, and print out index contents.</p><a name="//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_30" title="Comparing the Contents of the Documentation Set Bundle and its Indexes"></a><h3>Comparing the Contents of the Documentation Set Bundle and its Indexes</h3><p>One of the simplest tests you can perform on your documentation set is to validate that the generated indexes match the content of the documentation set bundle. You can do this using the <code>docsetutil validate</code> command, as in this example:</p><div class="codesample"><table><tr><td scope="row"><pre>> &lt;Xcode>/usr/bin/docsetutil validate com.mycompany.MyProduct.docset<span></span></pre></td></tr></table></div><p>The <code>docsetutil</code> tool warns of any discrepancies between the files listed in the indexes and the files in the local copy of the documentation set bundle. The tool detects any nonexistent files referenced in the nodes and tokens files or files that disappeared after the indexes were built.</p><a name="//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_31" title="Verifying Indexes"></a><h3>Verifying Indexes</h3><p>Another useful feature of the <code>docsetutil</code> tool is the ability to print the contents of a documentation set’s indexes. By examining the contents of your documentation set’s indexes, you can verify that they contain the expected number of nodes and tokens, and that the document hierarchy that they describe is correct. </p><p>The <code>docsetutil</code> tool can print:</p><ul class="spaceabove"><li class="li"><p>The total number of nodes in the documentation set</p></li><li class="li"><p>The node hierarchy; that is, all or part of the TOC of the documentation set</p></li><li class="li"><p>The total number of documents in the full-text index</p></li><li class="li"><p>The path to each node in the full-text index</p></li><li class="li"><p>The total number of tokens in the API index</p></li><li class="li"><p>The identifiers of each of the tokens in the API index</p></li></ul><p>Use the <code>docsetutil dump</code> command to print the contents of your documentation set’s indexes. For example, the following command prints the contents of the test documentation set’s indexes: </p><div class="codesample"><table><tr><td scope="row"><pre>> &lt;Xcode>/usr/bin/docsetutil dump com.mycompany.MyProduct.docset<span></span></pre></td></tr></table></div><p>The output generated by this command looks similar to that shown in <span class="content_text">Listing 8-1</span>.</p><a name="//apple_ref/doc/uid/TP40005266-CH16-SW2" title="Listing 8-1Dumping the contents of a documentation set&acirc;&#128;&#153;s indexes"></a><p class="codesample"><strong>Listing 8-1&nbsp;&nbsp;</strong>Dumping the contents of a documentation set’s indexes</p><div class="codesample"><table><tr><td scope="row"><pre class="bold">Documentation set contains 9 nodes in hierarchy</pre><pre><span></span></pre></td></tr><tr><td scope="row"><pre class="bold">My Doc Set</pre><pre><span></span></pre></td></tr><tr><td scope="row"><pre>  IB<span></span></pre></td></tr><tr><td scope="row"><pre>    IB Reference<span></span></pre></td></tr><tr><td scope="row"><pre>  Performance<span></span></pre></td></tr><tr><td scope="row"><pre>    Performance Tools Tutorial<span></span></pre></td></tr><tr><td scope="row"><pre>  Xcode<span></span></pre></td></tr><tr><td scope="row"><pre>    User Guide<span></span></pre></td></tr><tr><td scope="row"><pre>    Tutorial<span></span></pre></td></tr><tr><td scope="row"><pre>    Build Settings<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre class="bold">Full text index contains 614 documents</pre><pre><span></span></pre></td></tr><tr><td scope="row"><pre class="bold">docset://__DEFAULT__</pre><pre><span></span></pre></td></tr><tr><td scope="row"><pre>  IBInspector_class<span></span></pre></td></tr><tr><td scope="row"><pre>  XcodeBuildSettingRef<span></span></pre></td></tr><tr><td scope="row"><pre>  XcodeQuickTour<span></span></pre></td></tr><tr><td scope="row"><pre>  XcodeUserGuide<span></span></pre></td></tr><tr><td scope="row"><pre>  InstrumentsQuickTour<span></span></pre></td></tr><tr><td scope="row"><pre>count = 6<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre class="bold">API index contains 9 tokens</pre><pre><span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/instm/IBInspector/document<span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/instm/IBInspector/inspectedObjects<span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/instm/IBInspector/inspectedObjectsController<span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/instm/IBInspector/label<span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/instm/IBInspector/refresh<span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/clm/IBInspector/sharedInstance<span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/clm/IBInspector/supportsMultipleObjectInspection<span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/instm/IBInspector/view<span></span></pre></td></tr><tr><td scope="row"><pre>Objective-C/instm/IBInspector/viewNibName<span></span></pre></td></tr></table></div><p>Notice that <code>docsetutil</code> prints the node hierarchy, followed by the number of documents in the full-text index. Following that, <code>docsetutil</code> prints the path to each node in the full-text index. These paths are grouped according to the root where the nodes are found. The <code>_DEFAULT_</code> root represents the <code>Documents</code> directory of the documentation set bundle. If you identified additional roots by specifying a fallback root using the <code>-fallback</code> option, they are listed under the <code>_FALLBACK_</code> root. If you specified files to download and include using the <code>-download</code> option, these also appear in the output of the <code>docsetutil dump</code> command, along with the paths to the nodes at that location.</p><p>By default, <code>docsetutil</code> prints only the paths to the nodes that are explicitly specified in the <code>Nodes.xml</code> file. However, folder and bundle nodes typically represent multiple HTML files. You can also have <code>docsetutil</code> print the paths to each of the individually indexed files in a node using the <code>-text-depth</code> option.</p><p>The contents of the indexes of for very large documentation sets can be difficult to parse. You can test smaller portions of the indexes by restricting the output of the <code>docsetutil dump</code> command. You do this in the following ways:</p><ul class="spaceabove"><li class="li"><p>Use the <code>-skip-text</code> and <code>-skip-api</code> options to skip either the full-text or API indexes when printing out the index contents.</p></li><li class="li"><p>Use the <code>-toc-depth</code> option to limit the depth of the document hierarchy printed by <code>docsetutil</code>.</p></li><li class="li"><p>Use the <code>-text-depth</code> option to limit the amount of information printed about the documentation set’s nodes and their contents.</p></li><li class="li"><p>Use the <code>-node</code> option to dump only the contents of the specified node and its subnodes.</p></li></ul><p>For example, the following command prints only the document hierarchy of the documentation set:</p><div class="codesample"><table><tr><td scope="row"><pre>> &lt;Xcode>/usr/bin/docsetutil dump com.mycompany.MyProduct.docset -skip-text -skip-api<span></span></pre></td></tr></table></div><p>For more on these options, see <span class="content_text"><a href="../090-docsetutil_Reference/docsetutil.html#//apple_ref/doc/uid/TP40005266-CH15-SW1">“docsetutil Reference.”</a></span></p><a name="//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_32" title="Querying Indexes"></a><h3>Querying Indexes</h3><p>You can also use the <code>docsetutil</code> tool to test the search results returned by your documentation set’s indexes. The command <code>docsetutil search</code> searches for a particular string in the indexes of the specified documentation set. This command has one required option, <code>-query</code>, which specifies the search string. For example, the following command searches for the word “trace” in a documentation set: </p><div class="codesample"><table><tr><td scope="row"><pre>> &lt;Xcode>/usr/bin/docsetutil search -query trace com.mycompany.MyProduct.docset<span></span></pre></td></tr></table></div><p>The output of the <code>docsetutil</code> tool looks similar to that shown in <span class="content_text">Listing 8-2</span>. It notes the maximum rank of the matching results and lists the rank and path of each matching HTML page.</p><a name="//apple_ref/doc/uid/TP40005266-CH16-SW1" title="Listing 8-2Sample output from docsetutil search"></a><p class="codesample"><strong>Listing 8-2&nbsp;&nbsp;</strong>Sample output from <code>docsetutil search</code></p><div class="codesample"><table><tr><td scope="row"><pre>Max score: 90.330826<span></span></pre></td></tr><tr><td scope="row"><pre> Score   Path<span></span></pre></td></tr><tr><td scope="row"><pre> 0.129 InstrumentsQuickTour/Built-InInstruments/chapter_6_section_6.html<span></span></pre></td></tr><tr><td scope="row"><pre> 0.166 XcodeUserGuide/Contents/Resources/en.lproj/06_02_db_set_up_debug/chapter_40_section_10.html<span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre> 1.000 InstrumentsQuickTour/WorkingWithInstruments/chapter_3_section_4.html<span></span></pre></td></tr></table></div><p>By default, <code>docsetutil search</code> queries both the full-text and API indexes. However, it is often easier to query and test a single index at a time. Use the <code>-skip-text</code> and <code>-skip-api</code> flags to disable the full-text or API indexes, respectively. </p><p>For example, the following command queries a documentation set’s API index for information on the <code>CreateWindow</code> symbol:</p><div class="codesample"><table><tr><td scope="row"><pre>> &lt;Xcode>/usr/bin/docsetutil search com.MyProduct.docset -query CreateWindow -skip-text<span></span></pre></td></tr></table></div><p>You can also limit the scope of the search to a particular node and its subnodes, using the <code>-node</code> option, as described in <span class="content_text"><a href="../090-docsetutil_Reference/docsetutil.html#//apple_ref/doc/uid/TP40005266-CH15-SW1">“docsetutil Reference.”</a></span> The following command searches for the string “trace” in only those documents that are part of the Xcode node and its subnodes:</p><div class="codesample"><table><tr><td scope="row"><pre>> &lt;Xcode>/usr/bin/docsetutil search -query trace  -node Xcode com.mycompany.MyProduct.docset<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_33" title="Testing Display and Navigation"></a><h2>Testing Display and Navigation</h2><p>In addition to testing the content in the indexes, you should make sure that your documentation set displays properly in the Xcode Documentation window. To do so, simply drop the documentation set bundle into its default installation location. </p><p>If this is not one of the standard documentation locations described in <span class="content_text"><a href="../020-Creating_Documentation_Sets/creating_docsets.html#//apple_ref/doc/uid/TP40005266-CH3-SW4">“Choosing Documentation Set Locations,”</a></span> make sure that you add the location of the documentation set bundle to the Documentation Sets Locations list in Xcode Preferences > Documentation.</p><p>After placing the documentation set bundle in its default installation location, launch Xcode and open the Documentation window.  (You may have to quit and restart Xcode if it was already running when you installed the documentation set bundle.)</p><p>When the Documentation window opens, ensure the documentation set appears in the documentation sets list, as described in <span class="content_text"><a href="../010-Overview_of_Documentation_Sets/docset_overview.html#//apple_ref/doc/uid/TP40005266-CH13-SW8">“Documentation in Xcode.”</a></span> Check that the contents of your documentation set appear as you expect when you browse the set and that selecting a node in your documentation set brings up the correct HTML document. See <span class="content_text"><a href="../010-Overview_of_Documentation_Sets/docset_overview.html#//apple_ref/doc/uid/TP40005266-CH13-SW9">“Browsing Installed Content”</a></span> for more on browsing in the Documentation window.</p><p>Finally, make sure that all the search types that your documentation set supports work as expected and return reasonable results. See <span class="content_text"><a href="../010-Overview_of_Documentation_Sets/docset_overview.html#//apple_ref/doc/uid/TP40005266-CH13-SW10">“Searching Content”</a></span> for a description of searching in the Documentation window.</p><a name="//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_34" title="Packaging Documentation Sets"></a><h2>Packaging Documentation Sets</h2><p>The last thing you need to do before distributing your documentation set is to package it. Using the <code>docsetutil package</code> command, you can package your documentation set as an XAR archive. </p><p>For example, the following command packages  a documentation set and places it on the Desktop: </p><div class="codesample"><table><tr><td scope="row"><pre>> &lt;Xcode>/usr/bin/docsetutil package -output ~/Desktop/MyProductDocSet.xar com.mycompany.MyProduct.docset<span></span></pre></td></tr></table></div><p>If you do not specify an output path, <code>docsetutil</code> places the archive in the same folder as your documentation set bundle. You can also sign the package using the <code>-signid</code> option and generate (or update) an Atom feed for the documentation set using the <code>-atom</code> option. For more information on these options, see <span class="content_text"><a href="../090-docsetutil_Reference/docsetutil.html#//apple_ref/doc/uid/TP40005266-CH15-SW1">“docsetutil Reference.”</a></span></p><div class="notebox"><a name="//apple_ref/doc/uid/TP40005266-CH16-DontLinkElementID_123" title="Note"></a><p><strong>Note:</strong>&nbsp;The <code>Nodes.xml</code> and <code>Tokens.xml</code> files do not need to be included in the documentation set bundle for distribution to users; they are required only for indexing and can be removed from the documentation set before distribution.</p></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../070-Acquiring_Documentation_Sets_Through_Web_Feeds/acquiring_docsets.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../090-docsetutil_Reference/docsetutil.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-01-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/Documentation_Sets/080-Testing_and_Packaging_Documentation_Sets/testing_docsets.html%3Fid%3DTP40005266-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/Documentation_Sets/080-Testing_and_Packaging_Documentation_Sets/testing_docsets.html%3Fid%3DTP40005266-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/Documentation_Sets/080-Testing_and_Packaging_Documentation_Sets/testing_docsets.html%3Fid%3DTP40005266-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>