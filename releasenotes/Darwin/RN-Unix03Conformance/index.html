<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Unix 03 Conformance Release Notes: UNIX 03 Conformance Release Notes</title>
	<meta name="Generator" content="Gutenberg"/>
	<meta name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta name = "Copyright" content="Copyright 2009 AppleInc. All Rights Reserved."/>
	<meta name="IndexTitle" content="UNIX 03 Conformance Release Notes"/>
	<meta name="xcode-display" content="render"/>
	<meta id="RESOURCES" content="../../../documentation/Resources" />
	<link rel="stylesheet" type="text/css" href="../../../documentation/Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/pedia.js"></script>
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004772" title="UNIX 03 Conformance Release Notes"></a>
        <a name="top"></a>
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000872" target="_top">Release Notes</a> &gt; <!--a  -->Darwin<!--/a--> &gt; </div><br class="hideInXcode"/><!-- end of path -->
                
        
        <a name="//apple_ref/doc/uid/TP40004772-DontLinkElementID_7" title="UNIX 03 Conformance Release Notes"></a><h1>UNIX 03 Conformance Release Notes</h1>
<!-- This template is being used for both PDF and HTML. -->
<!-- TopicBook.pm currently relies on the element name bmini_toc. -->

    <h4>Contents:</h4>
    
    <p class="blockquote">

        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004772-DontLinkElementID_1" target="_top">Introduction</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004772-DontLinkElementID_2" target="_top">Conformance and Legacy Behavior</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004772-DontLinkElementID_3" target="_top">Types of Compatibility Issues</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004772-DontLinkElementID_4" target="_top">Compile/Link Issues</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004772-DontLinkElementID_5" target="_top">Command usage issues</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004772-DontLinkElementID_6" target="_top">Execution issues</a>
                
            <br/>
            
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40004772-DontLinkElementID_1" title="Introduction"></a><h2>Introduction</h2><p>In an effort to increase compatibility with other UNIX operating systems, Apple has made a significant effort in Mac OS X v.10.5 to support the Single UNIX Specification Version 3 (SUSv3). Although Apple has attempted to minimize the impact of the changes involved, some of them will affect developers who work with UNIX APIs and commands.</p><p>The Mac OS X kernel, libraries, and utilities are drawn from a number of Open Source projects, including FreeBSD, GNU, NetBSD, and OpenBSD.  Although these projects make an effort to follow industry standards, none of them have the resources to engage in a formal certification process.</p><p>By performing this work for Mac OS X, Apple benefits both its developers (who can now rely on well-defined interfaces and behavior) and the contributing Open Source projects (whose code and documentation can be updated to include Apple's changes).</p><p>Although Apple has attempted to make the process as seamless as possible, some conformance changes are simply incompatible with commands and APIs found on earlier versions of Mac OS X.  This document provides an overview of these incompatibilities, along with information on specific changes that are likely to be problematic.</p><a name="//apple_ref/doc/uid/TP40004772-DontLinkElementID_2" title="Conformance and Legacy Behavior"></a><h2>Conformance and Legacy Behavior</h2><p>In most cases, the conformance tests can be passed by adding functionality, such as functions and command-line options, to the operating system.  As this does not change existing behavior or interfaces, it will not affect current applications (and will not be addressed in this document).  For portability, however, new or changed code should use conformant interfaces.</p><p>In some cases, the standard defines behavior that was left unspecified by existing documentation, such as manual pages). The tests look for this behavior. In most cases, the changes needed to pass the tests will not affect current applications.  In cases where specific problems have been observed, this document discusses them.</p><p>In a relatively small number of cases, conformant interfaces or behavior actually conflict with that found in previous (legacy) versions of Mac OS X.  As discussed in the <code><a href="../../../documentation/Darwin/Reference/ManPages/man5/compat.5.html#//apple_ref/doc/man/5/compat" target="_top">compat(5)</a></code> manual page, Mac OS X v.10.5 provides ways to approximate legacy behavior.  Although this does not guarantee that current programs will "Just Work", it should minimize the number of coding changes.</p><a name="//apple_ref/doc/uid/TP40004772-DontLinkElementID_3" title="Types of Compatibility Issues"></a><h2>Types of Compatibility Issues</h2><p>Existing compiled applications should not encounter problems in moving to Mac OS X v.10.5.  If a system call or library function is known to have new behavior, the new version will only be used with programs that have been compiled for use on Mac OS X v.10.5.  An existing executable will not "see" these versions and thus will not be affected by the changes.</p><p>If an application is recompiled for use on Mac OS X v.10.5, it will get the new versions of libraries and system calls, unless a legacy target is specified (See Execution issues, below) .Some scripts, such as bash and perl scripts, may also encounter problems with commands whose options and/or behavior has changed.  It is possible to request legacy behavior by setting the environment variable <code>COMMAND_MODE</code> to the value "<code>legacy</code>".</p><a name="//apple_ref/doc/uid/TP40004772-DontLinkElementID_4" title="Compile/Link Issues"></a><h2>Compile/Link Issues</h2><p>The include files and/or prototypes for a number of library functions and system calls have changed.  If a change seems likely to cause problems, the previous version or versions have been documented in the <code>LEGACY SYNOPSIS</code> section of the relevant manual page.</p><p>Although you should use conformant include files and prototypes where possible, the following macro:</p><div class="codesample"><table><tr><td scope="row"><pre>#define _NONSTD_SOURCE<span></span></pre></td></tr></table></div><p>will frequently allow the legacy versions to be used.  Again, see the <code><a href="../../../documentation/Darwin/Reference/ManPages/man5/compat.5.html#//apple_ref/doc/man/5/compat" target="_top">compat(5)</a></code> manual page for details.</p><p>The following manual pages currently have <code>LEGACY SYNOPSIS</code> sections:</p><ul class="simple"><li><p><strong>System Calls:</strong></p><ul class="simple-spaceabove"><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man2/killpg.2.html#//apple_ref/doc/man/2/killpg" target="_top">killpg(2)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man2/pthread_kill.2.html#//apple_ref/doc/man/2/pthread_kill" target="_top">pthread_kill(2)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man2/pthread_sigmask.2.html#//apple_ref/doc/man/2/pthread_sigmask" target="_top">pthread_sigmask(2)</a></code></p></li></ul></li><li><p><strong>Library functions:</strong></p><ul class="simple-spaceabove"><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/basename.3.html#//apple_ref/doc/man/3/basename" target="_top">basename(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/bstring.3.html#//apple_ref/doc/man/3/bstring" target="_top">bstring(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/crypt.3.html#//apple_ref/doc/man/3/crypt" target="_top">crypt(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/dbm.3.html#//apple_ref/doc/man/3/dbm" target="_top">dbm(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/directory.3.html#//apple_ref/doc/man/3/directory" target="_top">directory(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/endgrent.3.html#//apple_ref/doc/man/3/endgrent" target="_top">endgrent(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/fseek.3.html#//apple_ref/doc/man/3/fseek" target="_top">fseek(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/ftime.3.html#//apple_ref/doc/man/3/ftime" target="_top">ftime(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/ftok.3.html#//apple_ref/doc/man/3/ftok" target="_top">ftok(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/ftw.3.html#//apple_ref/doc/man/3/ftw" target="_top">ftw(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/gai_strerror.3.html#//apple_ref/doc/man/3/gai_strerror" target="_top">gai_strerror(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/getaddrinfo.3.html#//apple_ref/doc/man/3/getaddrinfo" target="_top">getaddrinfo(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/getenv.3.html#//apple_ref/doc/man/3/getenv" target="_top">getenv(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/gethostbyname.3.html#//apple_ref/doc/man/3/gethostbyname" target="_top">gethostbyname(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/getnameinfo.3.html#//apple_ref/doc/man/3/getnameinfo" target="_top">getnameinfo(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/getpwent.3.html#//apple_ref/doc/man/3/getpwent" target="_top">getpwent(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/grantpt.3.html#//apple_ref/doc/man/3/grantpt" target="_top">grantpt(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/inet.3.html#//apple_ref/doc/man/3/inet" target="_top">inet(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/memory.3.html#//apple_ref/doc/man/3/memory" target="_top">memory(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/mktemp.3.html#//apple_ref/doc/man/3/mktemp" target="_top">mktemp(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/network.3.html#//apple_ref/doc/man/3/network" target="_top">network(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/random.3.html#//apple_ref/doc/man/3/random" target="_top">random(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/realpath.3.html#//apple_ref/doc/man/3/realpath" target="_top">realpath(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/strtol.3.html#//apple_ref/doc/man/3/strtol" target="_top">strtol(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/strtoul.3.html#//apple_ref/doc/man/3/strtoul" target="_top">strtoul(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/swab.3.html#//apple_ref/doc/man/3/swab" target="_top">swab(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/syslog.3.html#//apple_ref/doc/man/3/syslog" target="_top">syslog(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/tcgetpgrp.3.html#//apple_ref/doc/man/3/tcgetpgrp" target="_top">tcgetpgrp(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/tcsetpgrp.3.html#//apple_ref/doc/man/3/tcsetpgrp" target="_top">tcsetpgrp(3)</a></code></p></li><li><p><code><a href="../../../documentation/Darwin/Reference/ManPages/man3/wcstol.3.html#//apple_ref/doc/man/3/wcstol" target="_top">wcstol(3)</a></code></p></li></ul></li></ul><a name="//apple_ref/doc/uid/TP40004772-DontLinkElementID_5" title="Command usage issues"></a><h2>Command usage issues</h2><p>If the options and/or behavior of a command have changed significantly, one or more <code>LEGACY</code> sections should document this fact.  However, these sections are still very much "in progress" at this time.</p><p>The following commands respond to the COMMAND_MODE environment variable, as discussed in <code><a href="../../../documentation/Darwin/Reference/ManPages/man5/compat.5.html#//apple_ref/doc/man/5/compat" target="_top">compat(5)</a></code>:</p><ul class="simple"><li><p><strong>awk</strong></p><p>The <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/awk.1.html#//apple_ref/doc/man/1/awk" target="_top">awk(1)</a></code> command honors several forms of extended regular expressions (i.e., <code>{n,m}</code>, <code>[[==]]</code>, and <code>[[..]]</code>).  Legacy operation disables this behavior.</p></li><li><p><strong>bash, sh</strong></p><p>"<code>echo -n</code>" works in <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/bash.1.html#//apple_ref/doc/man/1/bash" target="_top">bash(1)</a></code>, but not in <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/sh.1.html#//apple_ref/doc/man/1/sh" target="_top">sh(1)</a></code>.  In legacy operation, the <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/echo.1.html#//apple_ref/doc/man/1/echo" target="_top">echo(1)</a></code> builtin also supports the option in <code>sh</code>.  However, this requires that <code>sh</code> itself be run in legacy mode.</p><div class="codesample"><table><tr><td scope="row"><pre>bash-3.1$ echo ===<span></span></pre></td></tr><tr><td scope="row"><pre>===<span></span></pre></td></tr><tr><td scope="row"><pre>bash-3.1$ echo -n ===<span></span></pre></td></tr><tr><td scope="row"><pre>===bash-3.1$ COMMAND_MODE=legacy sh<span></span></pre></td></tr><tr><td scope="row"><pre>sh-3.1$ echo -n ===<span></span></pre></td></tr><tr><td scope="row"><pre>===sh-3.1$ exit<span></span></pre></td></tr><tr><td scope="row"><pre>exit<span></span></pre></td></tr><tr><td scope="row"><pre>bash-3.1$ sh<span></span></pre></td></tr><tr><td scope="row"><pre>sh-3.1$ echo -n ===<span></span></pre></td></tr><tr><td scope="row"><pre>-n ===<span></span></pre></td></tr><tr><td scope="row"><pre>sh-3.1$ COMMAND_MODE=legacy sh -c 'echo -n ==='<span></span></pre></td></tr><tr><td scope="row"><pre>===sh-3.1$<span></span></pre></td></tr></table></div><p>Similar issues apply to the way <code>echo</code> treats "<code>\r</code>".  The <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/printf.1.html#//apple_ref/doc/man/1/printf" target="_top">printf(1)</a></code> command is the recommended way to handle newline and escape sequences.</p><p>Existing scripts can be run in legacy mode, as:</p><div class="codesample"><table><tr><td scope="row"><pre>COMMAND_MODE=legacy old_script arg ...<span></span></pre></td></tr></table></div><p>However, this will cause the entire script (and any commands it runs) to operate in legacy mode (generally, like Mac OS X v.10.4 would).</p></li><li><p><strong>chown</strong></p><p>If the <code><a href="../../../documentation/Darwin/Reference/ManPages/man8/chown.8.html#//apple_ref/doc/man/8/chown" target="_top">chown(8)</a></code> command when invoked as "chown -RP ..." encounters a symbolic link, the user ID of the symlink itself is modified.  Legacy operation disables this behavior.</p></li><li><p><strong>cp</strong></p><p>The <code>-i</code> option to <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/cp.1.html#//apple_ref/doc/man/1/cp" target="_top">cp(1)</a></code> disables <code>-f</code>.  In legacy operation, the <code>-f</code> and <code>-i</code> options cannot be used together.</p><p>The <code>-f</code> option specifies new access rights for any target file. Legacy operation disables this behavior, retaining the original access rights of any preexisting target file.</p><p>With the <code>-R</code> option, a copying error for an individual file will cause the entire copy to terminate.  In legacy operation, copying will continue despite errors..</p></li><li><p><strong>crontab</strong></p><p>If given no arguments, this command reads from stdin.  In legacy operation, this command format is not allowed.</p></li><li><p><strong>date</strong></p><p>In legacy operation, the following exit values are returned:</p><ul class="simple-spaceabove"><li><p><code>0</code>—The date was written successfully</p></li><li><p><code>1</code>—Unable to set the date</p></li><li><p><code>2</code>—Able to set the local date, but unable to set it globally</p></li></ul><p></p></li><li><p><strong>df</strong></p><p>The <code>-t</code> option is normally a no-op (the total allocated-space figures are printed, by default).  However, if used with an argument (e.g., "<code>-t hfs</code>", it acts like <code>-T</code>, but this usage is deprecated and should not be relied upon.  In legacy operation, <code>-t</code> acts like <code>-T</code>.</p><p>The "capacity" percentage is rounded up to the next higher integer. In legacy operation, it is rounded down to the next lower integer.</p><p>The default block size is 512 bytes.  This may be overridden by the <code>BLOCKSIZE</code> environment variable.  The <code>-b</code>, <code>-g</code>, <code>-k</code>, <code>-m</code>, and <code>-P</code> options will override both the default and any <code>BLOCKSIZE</code> specification.  In legacy operation, the default block size is 1024 bytes.  So (unless <code>BLOCKSIZE</code> is specified), the <code>-k</code> option is a no-op and the <code>-b</code> and <code>-P</code> options actually force the use of 512-byte blocks.</p></li><li><p><strong>du</strong></p><p>Any combination of <code>-[LHP]</code> options can be specified.  The last one encountered determines the command's behavior.  In legacy operation, only one of these options may be specified.</p><p>The command will detect and report a <code>SYMLOOP</code> error (loop involving symbolic links).  In legacy operation, this is not the case.</p></li><li><p><strong>ex, vi, view, vim</strong></p><p>The -w option sets the default window size value for scrolling. In legacy operation, it defines a "scriptout" file.</p><p>A number of the internal commands change (mostly in minor ways) when the commands are used in legacy operation.</p></li><li><p><strong>file</strong></p><p>The <code>-i</code> option means "if the file is a regular file, do not classify its contents.  In legacy operation, <code>-i</code> and <code>--mime</code> cause the file command to output mime type strings, rather than the more traditional human readable ones.</p><p>The <code>-r</code> and <code>--raw</code> options are no-ops.  In legacy operation, these prevent the file command from translating unprintable characters to their octal representations. </p></li><li><p><strong>grep</strong></p><p>The caret (beginning of line) meta-character can never be matched in any location other than the beginning of the line.  In <code>-E</code> mode, grep will print an error message and abort on certain cases of this usage (e.g., "<code>^^*</code>", "<code>^^+</code>", "<code>^^?</code>").  In legacy operation, the nonsense usage is allowed to fail (i.e., match nothing) silently.</p></li><li><p><strong>join</strong></p><p>The <code>-e</code> option causes a specified string to be substituted into empty fields, even if they are in the middle of a line.  In legacy operation, the substitution only takes place at the end of a line.</p><p>Only documented options are allowed.  In legacy operation, some obsolete options are re-written into current options.</p></li><li><p><strong>less, more</strong></p><p>In the <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/more.1.html#//apple_ref/doc/man/1/more" target="_top">more(1)</a></code> command, the <code>-n</code> option specifies the number of lines per screenful.  In legacy operation, or when the command is invoked as <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/less.1.html#//apple_ref/doc/man/1/less" target="_top">less(1)</a></code>, <code>-n</code> is used to suppress line numbering.</p><p>In the <code>more</code> command, the <code>-p</code> option is used to specify commands (e.g., <code>:p</code>) for each new screenful of text.  In legacy operation, or when invoked as <code>less</code>, the <code>-p</code> flag specifies a search pattern. </p></li><li><p><strong>ls</strong></p><p>When <code>-H</code> is specified (and not overridden by <code>-L</code> or <code>-P</code>) and a file argument is a symlink that resolves to a non-directory file, the output will reflect the nature of the link, rather than that of the file.  In legacy operation, the output will describe the file.</p><p>The <code>-f</code> option turns on the <code>-a</code> option (show files whose names have a period (<code>.</code>) as the first character).  In legacy operation, it does not.</p><p>The <code>-o</code> option causes the listing to be in long format, but to omit the group id.  In legacy operation, the <code>-o</code> option modifies the <code>-l</code> option, causing file flags to be listed.</p><p>The <code>-g</code>, <code>-n</code>, and <code>-o</code> options turn on the <code>-l</code> option (causing the listing to be in long format).  In legacy operation, they do not.</p></li><li><p><strong>mkfifo</strong></p><p>The <code>-m</code> option sets the created FIFO to the specified mode.  In legacy operation, the specified mode is masked with <code>0666</code>.</p></li><li><p><strong>mv</strong></p><p>The command "<code>mv dir/afile dir</code>" will abort with an error message.  In legacy operation, it will fail silently with an exit code of <code>0</code>.</p></li><li><p><strong>pr</strong></p><p>The last space before the tab stop is replaced with a tab character. In legacy operation, it is not.</p></li><li><p><strong>ps</strong></p><p>The biggest change is in the interpretation of the <code>-u</code> option, which now displays processes belonging to the specified username(s).  Thus, "<code>ps -aux</code>" will fail (unless you want to know about user "<code>x</code>").  As a convenience, however, "<code>ps aux</code>" still works as it did in Mac OS X v.10.4.</p><p>In legacy operation, ps has the following differences:</p><ul class="simple-spaceabove"><li><p><code>-e</code> Display the environment as well. Same as <code>-E</code>.</p></li><li><p><code>-g</code> Ignored for compatibility. Takes no argument.</p></li><li><p><code>-l</code> Display information associated with the following keywords: <code>uid</code>, <code>pid</code>, <code>ppid</code>, <code>cpu</code>, <code>pri</code>, <code>nice</code>, <code>vsz</code>, <code>rss</code>, <code>wchan</code>, <code>state</code>, <code>tt</code>, <code>time</code>, and <code>command</code>.</p></li><li><p><code>-u</code> Display information associated with the following keywords: <code>user</code>, <code>pid</code>, <code>%cpu</code>, <code>%mem</code>, <code>vsz</code>, <code>rss</code>, <code>tt</code>, <code>state</code>, <code>start</code>, <code>time</code>, and <code>command</code>.</p><p>The <code>-u</code> option implies the <code>-r</code> option.</p></li></ul></li><li><p><strong>sed</strong></p><p>Warnings are not generated for unused labels.  In legacy operation, they are.</p><p>When the <code>y</code> function is specified (for example, <code>sed y/string1/string2/</code>), doubled backslashes are not converted to single ones. In legacy operation, they are. To avoid this issue, use the <code>s</code> function instead.</p></li><li><p><strong>sort</strong></p><p>The form <code>sort +POS1 -POS2 ...</code> is no longer supported. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>bash-3.1$ cat data<span></span></pre></td></tr><tr><td scope="row"><pre>b  a<span></span></pre></td></tr><tr><td scope="row"><pre>a  b<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>bash-3.1$ sort data<span></span></pre></td></tr><tr><td scope="row"><pre>a  b<span></span></pre></td></tr><tr><td scope="row"><pre>b  a<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>bash-3.1$ sort +1 -2 data<span></span></pre></td></tr><tr><td scope="row"><pre>sort: invalid option -- 2<span></span></pre></td></tr><tr><td scope="row"><pre>Try `sort --help' for more information.<span></span></pre></td></tr></table></div><p>The form <code>sort -k POS1,POS2</code> can be used to achieve the same effect, but note that the field and character positions are numbered starting with 1 (rather than 0). For example:</p><div class="codesample"><table><tr><td scope="row"><pre>bash-3.1$ sort -k 2,3 data<span></span></pre></td></tr><tr><td scope="row"><pre>b  a<span></span></pre></td></tr><tr><td scope="row"><pre>a  b<span></span></pre></td></tr></table></div><p>The options are not supported even in legacy operation, but they can be used by means of the following workaround:</p><div class="codesample"><table><tr><td scope="row"><pre>bash-3.1$ _POSIX2_VERSION=200111 sort +1 -2 data<span></span></pre></td></tr><tr><td scope="row"><pre>b  a<span></span></pre></td></tr><tr><td scope="row"><pre>a  b<span></span></pre></td></tr></table></div></li><li><p><strong>stty</strong></p><p>The <code>bs[01]</code>, <code>cr[0-3]</code>, <code>ff[01]</code>, <code>nl[01]</code>, <code>tab[0-3]</code>, and <code>vt[01]</code> control modes are accepted, as well as <code>ocrnl</code>, <code>ofdel</code>, <code>ofill</code>, <code>onlret</code>, and <code>onocr</code> (along with their inverses, such as <code>-ocrnl</code>).  In legacy operation, these modes are not accepted.</p></li><li><p><strong>uudecode, uuencode</strong></p><p>In legacy operation, <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/uudecode.1.html#//apple_ref/doc/man/1/uudecode" target="_top">uudecode(1)</a></code> masks file modes with <code>0666</code>, preventing the creation of executable files.</p><p><code>uudecode</code> cannot change the mode of a created file which is not owned by the current user (unless that user is <code>root</code>).  In legacy operation, <code><a href="../../../documentation/Darwin/Reference/ManPages/man2/fchmod.2.html#//apple_ref/doc/man/2/fchmod" target="_top">fchmod(2)</a></code> allows the mode to be changed.</p></li><li><p><strong>who</strong></p><p>The <code>-u</code> option causes the <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/who.1.html#//apple_ref/doc/man/1/who" target="_top">who(1)</a></code> command to display the process id (pid). In legacy operation, it does not.</p></li><li><p><strong>xargs</strong></p><p>In legacy operation, the <code>-L</code> option treats all newlines as end-of-line, regardless of whether the line is empty or ends with a space.  In addition, the <code>-L</code> and <code>-n</code> options are not mutually-exclusive.</p></li></ul><a name="//apple_ref/doc/uid/TP40004772-DontLinkElementID_6" title="Execution issues"></a><h2>Execution issues</h2><p>SUSv3 requires a number of error checks that the Mac OS X kernel has not made in the past.  As a result, unexpected errno values may be encountered.  Because specific reason(s) for most of these values have not yet been documented in the relevant manual pages, your best resource is the <code><a href="../../../documentation/Darwin/Reference/ManPages/man2/intro.2.html#//apple_ref/doc/man/2/intro" target="_top">intro(2)</a></code> manual page, which supplies general explanations for errno values.</p><p>Although some C-language calls now check for error conditions that they didn't under Mac OS X v.10.4, commands and applications compiled for earlier releases of Mac OS X (e.g., Mac OS X v.10.4, Mac OS X v.10.3) will not be affected. The changes take effect only if the programs are recompiled on Mac OS X 10.5 (or greater) with a deployment target of Mac OS X 10.5 (or greater).</p><p>The deployment target can be set in at least two ways.  One way is to set an environment variable.  For example, in <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/bash.1.html#//apple_ref/doc/man/1/bash" target="_top">bash(1)</a></code>, this would look like this:</p><div class="codesample"><table><tr><td scope="row"><pre>export MACOSX_DEPLOYMENT_TARGET=10.5   # Build for use on Mac OS X v.10.5<span></span></pre></td></tr><tr><td scope="row"><pre>export MACOSX_DEPLOYMENT_TARGET=10.4   # Build for use on Mac OS X v.10.4<span></span></pre></td></tr><tr><td scope="row"><pre>export MACOSX_DEPLOYMENT_TARGET=10.3   # Build for use on Mac OS X v.10.3<span></span></pre></td></tr></table></div><p>Alternatively, the target can be passed to the compiler as a command-line option, as shown here:</p><div class="codesample"><table><tr><td scope="row"><pre>gcc -mmin-macosx-version=10.5 ...      # Build for use on Mac OS X v.10.5<span></span></pre></td></tr><tr><td scope="row"><pre>gcc -mmin-macosx-version=10.4 ...      # Build for use on Mac OS X v.10.4<span></span></pre></td></tr><tr><td scope="row"><pre>gcc -mmin-macosx-version=10.3 ...      # Build for use on Mac OS X v.10.3<span></span></pre></td></tr></table></div>

        <br/><br/> 
        
        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-10-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/releasenotes/Darwin/RN-Unix03Conformance/index.html%3Fid%3DTP40004772-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/releasenotes/Darwin/RN-Unix03Conformance/index.html%3Fid%3DTP40004772-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/releasenotes/Darwin/RN-Unix03Conformance/index.html%3Fid%3DTP40004772-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
</body>
</html>