<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<script language="JavaScript" src="frametest.js"></script>

<TITLE> Maintaining the Update Region</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a><!-- start of banner -->			
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->
</DIV>

<!-- start of path -->
<table border="0" cellpadding="0" cellspacing="2" width="480">	
	<tr>
	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">
	<b>PATH<img src="images/space.gif" width="6" height="12"></b><a href="../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../mac8.html" target="_top">Mac OS 8 and 9</a> 
	<b>&gt;</b> Human Interface Toolbox
	<b>&gt;</b> <a href="../windowmanager.html" target="_top">Window Manager</a> 
	<b>&gt;</b>
	</font></td>
	</tr>
	<tr><td align="left" scope="row"><br>
	<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">
	<font face="Geneva,Helvetica,Arial">Programming With the Mac OS 8.5 Window Manager</font>
	</td></tr>
</table><br>
<!-- end of path -->

<P><A HREF=WindowMgr.e.html border=0><img src=images/up.gif border=0></A> <A HREF=WindowMgr.19.html><img src=images/previous.gif border=0></A> <A HREF=WindowMgr.1b.html><img src=images/next.gif border=0></A>   <!-- insert Show/Hide frames --> <a href=javascript:testFrame()> <script> <!--
  document.write(frameLink); //--> </script> <!-- end Show/Hide frames -->
</a>

<hr>





<H1 CLASS="H1.Heading1">
<A NAME="pgfId=260894">
 </A>
<A NAME="14656">
 </A>
Maintaining the Update Region</H1>
<P CLASS="T1.Text1">
<A NAME="pgfId=260895">
 </A>
The Window Manager helps your application keep the window display current by maintaining an <A NAME="marker=262915">
 </A>
update region, which represents the parts of your content region that have been affected by changes to the desktop. If a user exposes part of an inactive window by dragging an active window to a new location, for example, the Window Manager adds the newly exposed area of the inactive window to that window's update region.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=260896">
 </A>
When your application calls the Event Manager function <TT CLASS="cv">
WaitNextEvent</TT>
 and there are no events queued, the Event Manager scans the update regions of all windows on the desktop. If it finds one whose update region is not empty, it generates an update event for that window. When your application receives an update event, it redraws as much of the content area as necessary. Note that your application can receive update events when it is in either the foreground or the background.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=260897">
 </A>
Your application can force and suppress <A NAME="marker=262916">
 </A>
update events <A NAME="marker=262917">
 </A>
by manipulating the update region using Window Manager functions provided for this purpose.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=260898">
 </A>
You can remove an area from the update region by calling either of the functions <A HREF="WindowMgr.62.html#38398" CLASS="XRef">
<TT>ValidWindowRect</TT></A>
 or <A HREF="WindowMgr.63.html#25876" CLASS="XRef">
<TT>ValidWindowRgn</TT></A>
, when you know that the area is in fact valid. Limiting the size of the update region decreases the time that your application spends redrawing window content in response to update events.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=260905">
 </A>
The functions <A NAME="marker=262919">
 </A>
<TT CLASS="cv">
ValidWindowRect</TT>
 and <A NAME="marker=262921">
 </A>
<TT CLASS="cv">
ValidWindowRgn</TT>
 each inform the Window Manager that an area of a window no longer needs to be redrawn. The functions are, respectively, similar to the earlier Window Manager functions <TT CLASS="cv">
ValidRect</TT>
 and <TT CLASS="cv">
ValidRgn</TT>
, but the Mac OS 8.5 functions allow the window that they operate upon to be explicitly specified, instead of operating on the current graphics port, so they do not require the graphics port to be set before their use.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=260906">
 </A>
You can add an area to the update region by calling either of the functions <A HREF="WindowMgr.60.html#40102" CLASS="XRef">
<TT>InvalWindowRect</TT></A>
 or <A HREF="WindowMgr.61.html#11002" CLASS="XRef">
<TT>InvalWindowRgn</TT></A>
. Each function informs the Window Manager that an area of a window should be redrawn.</P>
<HR>\xA9 1999 Apple Computer, Inc. &#150 (Last Updated 18 March 99)<P><A HREF="WindowMgr.e.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="WindowMgr.19.html"><img src="images/previous.gif" border="0"></A> <A HREF="WindowMgr.1b.html"><img src="images/next.gif" border="0"></A> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>

</P><!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer --></body> </BODY>
</HTML>
