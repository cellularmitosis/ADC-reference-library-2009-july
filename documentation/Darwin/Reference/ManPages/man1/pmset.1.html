<html><head><title>Mac OS X
 Manual Page For pmset(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/pmset" title="Mac OS X
 Manual Page for pmset(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/pmset"; name=pmset(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PMSET(1)                  BSD General Commands Manual                 PMSET(1)

<b>NAME</b>
     <b>pmset</b> -- manipulate power management settings

<b>SYNOPSIS</b>
     <b>pmset</b> [<b>-a</b> | <b>-b</b> | <b>-c</b> | <b>-u</b>] [displaysleep <u>minutes</u>] [disksleep <u>minutes</u>] [sleep <u>minutes</u>] [womp <u>1/0</u>]
           [ring <u>1/0</u>] [autorestart <u>1/0</u>] [dps <u>1/0</u>] [reduce <u>1/0</u>] [powerbutton <u>1/0</u>] [lidwake <u>1/0</u>] [acwake <u>1/0</u>]
           [lessbright <u>1/0</u>] [halfdim <u>1/0</u>] [sms <u>1/0</u>] [boot]
     <b>pmset</b> <b>-u</b> [haltlevel <u>percent</u>] [haltafter <u>minutes</u>] [haltremain <u>minutes</u>]
     <b>pmset</b> <b>-g</b> [custom | live | cap | sched | ups | ps | pslog | rawlog]
     <b>pmset</b> schedule [cancel] type date+time [owner]
     <b>pmset</b> repeat cancel
     <b>pmset</b> repeat type weekdays time
     <b>pmset</b> [touch | sleepnow | noidle | lock]

<b>DESCRIPTION</b>
     <b>pmset</b> changes and reads power management settings such as idle sleep timing, wake on administrative
     access, automatic restart on power loss, etc.

<b>SETTING</b>
     The <b>-a,</b> <b>-b,</b> <b>-c,</b> <b>-u</b> flags determine whether the settings apply to battery ( <b>-b</b> ), charger (wall power) (
     <b>-c</b> ), UPS ( <b>-u</b> ) or all ( <b>-a</b> ).

     Use a minutes argument of 0 to set the idle time to never.

     <b>pmset</b> must be run as root in order to modify any settings.

     The boot argument tells power management that system bootup is complete. Loginwindow handles this on a
     normal Mac OS X system.

<b>GETTING</b>
     <b>-g</b> (with no argument) will display the settings currently in use.
     <b>-g</b> <u>live</u> will also display the settings currently in use.
     <b>-g</b> <u>custom</u> will display custom settings for all power sources, although these settings may not currently
     be in use; a pre-set settings profile may be active instead.
     <b>-g</b> <u>cap</u> will display which power management features the machine supports.
     <b>-g</b> <u>sched</u> will display scheduled startup/wake and shutdown/sleep events.
     <b>-g</b> <u>ups</u> will display UPS emergency thresholds.
     <b>-g</b> <u>ps</u> will display status of batteries and UPSs.
     <b>-g</b> <u>pslog</u> will display an ongoing log of power source (battery and UPS) state.
     <b>-g</b> <u>rawlog</u> will display an ongoing log of battery state as read directly from battery.
     <b>-g</b> <u>profiles</u> will display the settings associated with each Energy Saver profile.

<b>ARGUMENTS</b>
     <u>displaysleep</u> - display sleep timer; replaces 'dim' argument in 10.4 (value in minutes, or 0 to disable)
     <u>disksleep</u> - disk spindown timer; replaces 'spindown' argument in 10.4 (value in minutes, or 0 to dis-<font color="#ffffff" class="whiteout">able)&nbsp;disable)</font>
     able)
     <u>sleep</u> - system sleep timer (value in minutes, or 0 to disable)
     <u>womp</u> - wake on ethernet magic packet (value = 0/1)
     <u>ring</u> - wake on modem ring (value = 0/1)
     <u>autorestart</u> - automatic restart on power loss (value = 0/1)
     <u>dps</u> - dynamically change processor speed based on load (value = 0/1)
     <u>reduce</u> - reduce processor speed (value = 0/1)
     <u>powerbutton</u> - sleep the machine when power button is pressed (value = 0/1)
     <u>lidwake</u> - wake the machine when the laptop lid (or clamshell) is opened (value = 0/1)
     <u>acwake</u> - wake the machine when power source (AC/battery) is changed (value = 0/1)
     <u>lessbright</u> - slightly turn down display brightness when switching to this power source (value = 0/1)
     <u>halfdim</u> - display sleep will use an intermediate half-brightness state between full brightness and
     fully off  (value = 0/1)
     <u>sms</u> - use Sudden Motion Sensor to park disk heads on sudden changes in G force (value = 0/1)
     <u>hibernatemode</u> - change hibernation mode. Please use caution. (value = integer)
     <u>hibernatefile</u> - change hibernation image file location. Image may only be located on the root volume.
     Please use caution. (value = path)
     <u>ttyskeepawake</u> - prevent idle system sleep when any tty (e.g. remote login session) is 'active'. A tty
     is 'inactive' only when its idle time exceeds the system sleep timer. (value = 0/1)

<b>SETTINGS</b> <b>PROFILES</b>
     Mac OS X stores sets of pre-defined Energy Saver settings in a few numbered profiles (1, 2, 3).  All
     user-modified settings are stored in the custom profile (-1).  The two numbered profiles 0 and 4 are
     unused.

     Profiles are set per-power source. Default profile selections are
     (AC=2, Batt=1, UPS=1). See <u>Examples</u> for ways to set profiles.

     Any modifications made to Energy Saver settings via Energy Saver or pmset will automatically switch
     your active profile to Custom if it was not already Custom. OS X tracks the selected profiles and the
     settings for the Custom profile in <u>com.apple.PowerManagement.plist</u> discussed in <u>Files</u> below.

     <u>1</u> corresponds to Energy Saver Optimization for "Better Energy Savings"
     <u>2</u> corresponds to Energy Saver Optimization for "Normal"
     <u>3</u> corresponds to Energy Saver Optimization for "Better Performance"
     <u>-1</u> corresponds to Energy Saver Optimization for "Custom"

<b>SAFE</b> <b>SLEEP</b> <b>ARGUMENTS</b>
     <u>hibernatemode</u> takes a bitfield argument defining SafeSleep behavior. Passing 0 disables SafeSleep alto-<font color="#ffffff" class="whiteout">gether,&nbsp;altogether,</font>
     gether, forcing the computer into a regular sleep.

     <u>0001</u> (bit 0) enables hibernation; causes OS X to write memory state to hibernation image at sleep time.
     On wake (without bit 1 set) OS X will resume from the hibernation image. Bit 0 set (without bit 1 set)
     causes OS X to write memory state and immediately hibernate at sleep time.

     <u>0010</u> (bit 1), in conjunction with bit 0, causes OS X to maintain system state in memory and leave sys-<font color="#ffffff" class="whiteout">tem&nbsp;system</font>
     tem power on until battery level drops below a near empty threshold (This enables quicker wakeup from
     memory while battery power is available). Upon nearly emptying the battery, OS X shuts off all system
     power and hibernates; on wake the system will resume from hibernation image, not from memory.

     <u>hibernatemode</u> is set to 3 (binary 0011) by default on supported portables.

     <u>hibernatemode</u> is set to 0 (binary 0000) by default on supported desktops.

     Please note that <u>hibernatefile</u> may only point to a file located on the root volume.

<b>UPS</b> <b>SPECIFIC</b> <b>ARGUMENTS</b>
     UPS-specific arguments are only valid following the <b>-u</b> option. UPS settings also have an on/off value.
     Use a -1 argument instead of percent or minutes to turn any of these settings off. If multiple halt
     conditions are specified, the system will halt on the first condition that occurs in a low power situa-<font color="#ffffff" class="whiteout">tion.&nbsp;situation.</font>
     tion.

     <u>haltlevel</u> - when draining UPS battery, battery level at which to trigger an emergency shutdown (value
     in %)
     <u>haltafter</u> - when draining UPS battery, trigger emergency shutdown after this long running on UPS power
     (value in minutes, or 0 to disable)
     <u>haltremain</u> - when draining UPS battery, trigger emergency shutdown when this much time remaining on UPS
     power is estimated (value in minutes, or 0 to disable)

     Note: None of these settings are observed on a system with support for an internal battery, such as a
     laptop. UPS emergency shutdown settings are for desktop and server only.

<b>SCHEDULED</b> <b>EVENT</b> <b>ARGUMENTS</b>
     pmset allows you to schedule system sleep, shutdown, wakeup and/or power on. "schedule" is for setting
     up one-time power events, and "repeat" is for setting up daily/weekly power on and power off events.
     Note that you may only have one pair of repeating events scheduled - a "power on" event and a "power
     off" event.

     <u>type</u> - one of sleep, wake, poweron, shutdown, wakeorpoweron
     <u>date/time</u> - "MM/dd/yy HH:mm:ss" (in 24 hour format; must be in quotes)
     <u>time</u> - HH:mm:ss
     <u>weekdays</u> - a subset of MTWRFSU ("M" and "MTWRF" are valid strings)
     <u>owner</u> - a string describing the person or program who is scheduling this one-time power event
     (optional)

<b>POWER</b> <b>SOURCE</b> <b>ARGUMENTS</b>
     <b>-g</b> with a 'batt' or 'ps' argument will show the state of all attached power sources.  A health estimate
     for the battery is appended to the end of the line, in the form (Fair/Good), indicating the battery is
     in 'Fair' health and we have 'Good' confidence in that estimate.

     Certain Apple battery calibration tools may temporarily disable battery charging, even though your
     Apple portable is plugged into AC power. Such tools will never surprise you with this behavior; you
     will know it's happening. This state will be reflected in an additional line of output to 'batt' or
     'ps' readings, including the pid of the app inducing this behavior.

         'ChargeInhibit':    1432

     <b>-g</b> with a 'pslog' or 'rawlog' argument is normally used for debugging, such as isolating a problem with
     an aging battery.

<b>OTHER</b> <b>ARGUMENTS</b>
     <u>boot</u> - tell the kernel that system boot is complete (normally LoginWindow does this). May be useful to
     Darwin users.
     <u>force</u> - tells PM to immediately activate these settings. Does not write them to disk, and the settings
     may easily be overwritten. Useful in circumstances where PM's configd plugin happens not to be running.
     <u>touch</u> - PM re-reads existing settings from disk.
     <u>noidle</u> - while continuousy running, pmset prevents idle sleep.
     <u>sleepnow</u> - causes an immediate system sleep
     <u>dim</u> - deprecated in 10.4 in favor of 'displaysleep'. 'dim' will continue to work.
     <u>spindown</u> - deprecated in 10.4 in favor of 'disksleep'. 'spindown' will continue to work.

<b>EXAMPLES</b>
     This command sets displaysleep to a 5 minute timer on battery power, leaving other settings on battery
     power and other power sources unperturbed.

     <b>pmset</b> <b>-b</b> displaysleep 5

     Sets displaysleep to 10, disksleep to 10, system sleep to 30, and turns on WakeOnMagicPacket for ALL
     power sources (AC, Battery, and UPS) as appropriate

     <b>pmset</b> <b>-a</b> displaysleep 10 disksleep 10 sleep 30 womp 1

     Restores the system's energy settings to their default values. Any user modifications are preserved
     under the custom profile -1.

     <b>pmset</b> -c 2 -b 1 -u 1

     Changes energy settings for all power sources to the Custom settings set via pmset or Energy Saver.

     <b>pmset</b> -a -1

     For a system with an attached and supported UPS, this instructs the system to perform an emergency
     shutdown when UPS battery drains to below 40%.

     <b>pmset</b> <b>-u</b> haltlevel 40

     For a system with an attached and supported UPS, this instructs the system to perform an emergency
     shutdown when UPS battery drains to below 25%, or when the UPS estimates it has less than 30 minutes
     remaining runtime. The system shuts down as soon as either of these conditions is met.

     <b>pmset</b> <b>-u</b> haltlevel 25 haltremain 30

     For a system with an attached and supported UPS, this instructs the system to perform an emergency
     shutdown after 2 minutes of running on UPS battery power.

     <b>pmset</b> <b>-u</b> haltafter 2

     Schedules the system to automatically wake from sleep on July 4, 2009, at 8PM.

     <b>pmset</b> schedule wake "07/04/09 20:00:00"

     Schedules a repeating shutdown to occur each day, Tuesday through Saturday, at 11AM.

     <b>pmset</b> repeat shutdown TWRFS 11:00:00

     Prints the power management settings in use by the system.

     <b>pmset</b> <b>-g</b>

     Prints a snapshot of battery/power source state at the moment.

     <b>pmset</b> <b>-g</b> batt

     If your system suddenly sleeps on battery power with 20-50% of capacity remaining, leave this command
     running in a Terminal window. When you see the problem and later power and wake the computer, you'll be
     able to detect sudden discontinuities (like a jump from 30% to 0%) indicative of an aging battery.

     <b>pmset</b> <b>-g</b> pslog

<b>Files</b>
     All changes made through <b>pmset</b> are saved in a persistent preferences file (per-system, not per-user) at
     <u>/Library/Preferences/SystemConfiguration/com.apple.PowerManagement.plist</u>

     Scheduled power on/off events are stored separately in
     <u>/Library/Preferences/SystemConfiguration/com.apple.AutoWake.plist</u>

     <b>pmset</b> modifies the same file that System Preferences Energy Saver modifies.

Darwin                           April 1, 2006                          Darwin
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/pmset.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/pmset.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/pmset.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
