<html><head><title>Mac OS X
 Manual Page For MPI_Grequest_start(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/MPI_Grequest_start" title="Mac OS X
 Manual Page for MPI_Grequest_start(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/MPI_Grequest_start"; name=MPI_Grequest_start(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
MPI_Grequest_start(3OpenMPI)                                                    MPI_Grequest_start(3OpenMPI)



<b>NAME</b>
       <b>MPI_Grequest_start</b>  - Starts a generalized request and returns a handle to it in <u>request</u>.


<b>SYNTAX</b>
<b>C</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       int MPI_Grequest_start(MPI_Grequest_query_function <u>*query</u><b>_</b><u>fn</u>,
            MPI_Grequest_free_function <u>*free</u><b>_</b><u>fn</u>,
            MPI_Grequest_cancel_function <u>*cancel</u><b>_</b><u>fn</u>, void <u>*extra</u><b>_</b><u>state</u>,
            MPI_Request <u>*request</u>)


<b>Fortran</b> <b>Syntax</b> <b>(see</b> <b>FORTRAN</b> <b>77</b> <b>NOTES)</b>
       INCLUDE 'mpif.h'
       MPI_GREQUEST_START(<u>QUERY</u><b>_</b><u>FN,</u> <u>FREE</u><b>_</b><u>FN,</u> <u>CANCEL</u><b>_</b><u>FN,</u> <u>EXTRA</u><b>_</b><u>STATE,</u>
            <u>REQUEST,</u> <u>IERROR</u>)
            INTEGER   <u>REQUEST,</u> <u>IERROR</u>
            EXTERNAL <u>QUERY</u><b>_</b><u>FN,</u> <u>FREE</u><b>_</b><u>FN,</u> <u>CANCEL</u><b>_</b><u>FN</u>
            INTEGER (KIND=MPI_ADDRESS_KIND) <u>EXTRA</u><b>_</b><u>STATE</u>


<b>C++</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       static MPI::Grequest
                    MPI::Grequest::Start(const MPI::Grequest::Query_function
                    <u>query</u><b>_</b><u>fn</u>, const MPI::Grequest::Free_function <u>free</u><b>_</b><u>fn</u>,
                    const MPI::Grequest::Cancel_function <u>cancel</u><b>_</b><u>fn</u>,
                    void <u>*extra</u><b>_</b><u>state</u>)


<b>INPUT</b> <b>PARAMETERS</b>
       query_fn  Callback function invoked when request status is queried (function).

       free_fn   Callback function invoked when request is freed (function).

       cancel_fn Callback function invoked when request is canceled (function).

       extra_state
                 Extra state.


<b>OUTPUT</b> <b>PARAMETERS</b>
       request   Generalized request (handle).

       IERROR    Fortran only: Error status (integer).


<b>DESCRIPTION</b>
       MPI_Grequest_start starts a generalized request and returns a handle to it in <u>request</u>.

       The  syntax and meaning of the callback functions are listed below. All callback functions are passed
       the <u>extra</u><b>_</b><u>state</u> argument that  was  associated  with  the  request  by  the  starting  call  MPI_Gre-<font color="#ffffff" class="whiteout">quest_start.&nbsp;MPI_Grequest_start.</font>
       quest_start.  This  can be used to maintain user-defined state for the request. In C, the query func-<font color="#ffffff" class="whiteout">tion&nbsp;function</font>
       tion is

          typedef int MPI_Grequest_query_function(void <u>*extra</u><b>_</b><u>state</u>,
                       MPI_Status <u>*status</u>);

       In Fortran, it is

          SUBROUTINE GREQUEST_QUERY_FUNCTION(<u>EXTRA</u><b>_</b><u>STATE,</u> <u>STATUS,</u> <u>IERROR</u>)
              INTEGER STATUS(MPI_STATUS_SIZE), <u>IERROR</u>
              INTEGER(KIND=MPI_ADDRESS_KIND) <u>EXTRA</u><b>_</b><u>STATE</u>

       and in C++, it is

          typedef int MPI::Grequest::Query_function(void* <u>extra</u><b>_</b><u>state</u>,
                       MPI::Status&amp; <u>status</u>);

       The <u>query</u><b>_</b><u>fn</u> function computes the status that should be returned for the  generalized  request.  The
       status also includes information about successful/unsuccessful cancellation of the request (result to
       be returned by MPI_Test_cancelled).

       The <u>query</u><b>_</b><u>fn</u> function is invoked by the MPI_{Wait|Test}{any|some|all} call that completed the  gener-<font color="#ffffff" class="whiteout">alized&nbsp;generalized</font>
       alized  request  associated  with  this  callback.  The callback function is also invoked by calls to
       MPI_Request_get_status if the request is complete when the call occurs. In both cases,  the  callback
       is passed a reference to the corresponding status variable passed by the user to the MPI call. If the
       user provided MPI_STATUS_IGNORE or MPI_STATUSES_IGNORE to the MPI function that causes <u>query</u><b>_</b><u>fn</u> to be
       called,  then  MPI  will pass a valid status object to <u>query</u><b>_</b><u>fn</u>, and this status will be ignored upon
       return of the callback function. Note that <u>query</u><b>_</b><u>fn</u> is invoked only  after  MPI_Grequest_complete  is
       called  on  the  request; it may be invoked several times for the same generalized request. Note also
       that a call to MPI_{Wait|Test}{some|all} may cause multiple invocations of  <u>query</u><b>_</b><u>fn</u>  callback  func-<font color="#ffffff" class="whiteout">tions,&nbsp;functions,</font>
       tions, one for each generalized request that is completed by the MPI call. The order of these invoca-<font color="#ffffff" class="whiteout">tions&nbsp;invocations</font>
       tions is not specified by MPI.

       In C, the free function is

          typedef int MPI_Grequest_free_function(void *<u>extra</u><b>_</b><u>state</u>);

       In Fortran, it is

          SUBROUTINE GREQUEST_FREE_FUNCTION(<u>EXTRA</u><b>_</b><u>STATE,</u> <u>IERROR</u>)
              INTEGER <u>IERROR</u>
              INTEGER(KIND=MPI_ADDRESS_KIND) <u>EXTRA</u><b>_</b><u>STATE</u>

       And in C++, it is

          typedef int MPI::Grequest::Free_function(void* <u>extra</u><b>_</b><u>state</u>);

       The <u>free</u><b>_</b><u>fn</u> callback function is invoked to clean up user-allocated resources  when  the  generalized
       request is freed.

       The <u>free</u><b>_</b><u>fn</u> function is invoked by the MPI_{Wait|Test}{any|some|all} call that completed the general-<font color="#ffffff" class="whiteout">ized&nbsp;generalized</font>
       ized request associated with this callback. <u>free</u><b>_</b><u>fn</u> is invoked after the call  to  <u>query</u><b>_</b><u>fn</u>  for  the
       same  request.  However,  if the MPI call completed multiple generalized requests, the order in which
       <u>free</u><b>_</b><u>fn</u> callback functions are invoked is not specified by MPI.

       The <u>free</u><b>_</b><u>fn</u> callback is  also  invoked  for  generalized  requests  that  are  freed  by  a  call  to
       MPI_Request_free  (no  call  to MPI_{Wait|Test}{any|some|all} will occur for such a request). In this
       case, the callback function will be called either in the MPI call MPI_Request_free(request) or in the
       MPI  call  MPI_Grequest_complete(request),  whichever  happens last. In other words, in this case the
       actual freeing code is executed as soon as both calls  (MPI_Request_free  and  MPI_Grequest_complete)
       have  occurred.  The <u>request</u> is not deallocated until after <u>free</u><b>_</b><u>fn</u> completes. Note that <u>free</u><b>_</b><u>fn</u> will
       be invoked only once per request by a correct program.

       In C, the cancel function is

          typedef int MPI_Grequest_cancel_function(void *<u>extra</u><b>_</b><u>state</u>, int <u>complete</u>);

       In Fortran, the cancel function is

          SUBROUTINE GREQUEST_CANCEL_FUNCTION(<u>EXTRA</u><b>_</b><u>STATE,</u> <u>COMPLETE,</u> <u>IERROR</u>)
              INTEGER <u>IERROR</u>
              INTEGER(KIND=MPI_ADDRESS_KIND) <u>EXTRA</u><b>_</b><u>STATE</u>
              LOGICAL <u>COMPLETE</u>

       In C++, the cancel function is

          typedef in MPI::Grequest::Cancel_function(void* <u>extra</u><b>_</b><u>state</u>,
                      bool <u>complete</u>);

       The <u>cancel</u><b>_</b><u>fn</u> function is invoked to start the cancelation of a generalized request. It is called  by
       MPI_Request_cancel(request).  MPI  passes to the callback function complete=true if MPI_Grequest_com-<font color="#ffffff" class="whiteout">plete&nbsp;MPI_Grequest_complete</font>
       plete has already been called on the request, and complete=false otherwise.


<b>FORTRAN</b> <b>77</b> <b>NOTES</b>
       The MPI standard prescribes portable Fortran syntax for the <u>EXTRA</u><b>_</b><u>STATE</u> argument only for Fortran 90.
       FORTRAN 77 users may use the non-portable syntax

            INTEGER*MPI_ADDRESS_KIND <u>EXTRA</u><b>_</b><u>STATE</u>

       where  MPI_ADDRESS_KIND  is a constant defined in mpif.h and gives the length of the declared integer
       in bytes.


<b>ERRORS</b>
       Almost all MPI routines return an error value; C routines as the value of the  function  and  Fortran
       routines  in  the  last argument. C++ functions do not return errors. If the default error handler is
       set to MPI::ERRORS_THROW_EXCEPTIONS, then on error the C++ exception mechanism will be used to  throw
       an MPI:Exception object.

       Before  the  error value is returned, the current MPI error handler is called. By default, this error
       handler aborts the MPI job, except for I/O function errors. The error handler  may  be  changed  with
       MPI_Comm_set_errhandler;  the  predefined  error handler MPI_ERRORS_RETURN may be used to cause error
       values to be returned. Note that MPI does not guarantee that an MPI  program  can  continue  past  an
       error.

       All  callback  functions  return an error code. The code is passed back and dealt with as appropriate
       for the error code by the MPI function that invoked the callback  function.  For  example,  if  error
       codes are returned, then the error code returned by the callback function will be returned by the MPI
       function that invoked the callback function. In the case of a MPI_{Wait|Test}any  call  that  invokes
       both  <u>query</u><b>_</b><u>fn</u>  and  <u>free</u><b>_</b><u>fn</u>,  the MPI call will return the error code returned by the last callback,
       namely <u>free</u><b>_</b><u>fn</u>. If one or more of the requests in a call  to  MPI_{Wait|Test}{some|all}  has  failed,
       then  the MPI call will return MPI_ERR_IN_STATUS. In such a case, if the MPI call was passed an array
       of statuses, then MPI will return in each of the statuses that correspond to a completed  generalized
       request  the  error  code  returned by the corresponding invocation of its <u>free</u><b>_</b><u>fn</u> callback function.
       However, if the MPI function was passed MPI_STATUSES_IGNORE, then the individual error codes returned
       by each callback function will be lost.

       See the MPI man page for a full list of MPI error codes.






Open MPI 1.2                                   September 2006                   MPI_Grequest_start(3OpenMPI)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Grequest_start.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Grequest_start.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Grequest_start.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
