<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Notification Manager Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Notification Manager Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000915-DontLinkChapterID_1" title="Notification Manager Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxEventsOtherInput-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000447" target="_top">Events &amp; Other Input</a> &gt; <a href="../index.html" target="_top">Notification Manager Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../nref_revisions/nref_revisions.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000915-DontLinkChapterID_1-DontLinkElementID_3" title="Notification Manager Reference"></a><h1>Notification Manager Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">
Carbon/Carbon.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">Notification.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40000915-CH201-DontLinkElementID_2" title="Overview"></a><h2>Overview</h2><p>The Notification Manager provides a notification service.
It allows software running in the background (or otherwise unseen
by the user) to communicate information to the user. For example,
applications that manage lengthy background tasks (such as printing
many documents or transferring large amounts of data to other machines)
might need to inform the user that the operation is complete. These
applications cannot use the standard methods of communicating with
the user, such as alert or dialog boxes, because such windows might
easily be obscured by the windows of other applications. Moreover,
even if those windows are visible, the background application cannot
be certain that the user is aware of the change. A more reliable
method is needed to manage the communication between a background
application and the user, who might be awaiting the completion of the
background task while running some other application in the foreground.</p><p>In the same way, relatively invisible operations such as Time
Manager tasks, VBL tasks, or device drivers might need to inform
the user that some previously started routine is complete or perhaps
that some error has rendered further execution undesirable or impossible.</p><p>In all these cases, the communication generally needs to occur
in one direction only, from the background application (or task,
or driver) to the user. The Notification Manager, included in system
software versions 6.0 and later, allows you to alert the user by
posting a notification, which is an audible or visible indication
that your application (or other piece of software) requires the
user&#8217;s attention. You post a notification by issuing a notification request
to the Notification Manager, which places your request in a queue.
When your request reaches the top of the queue, the Notification
Manager posts a notification to the user.</p><p>You can request three types of notification:</p><ul class="ul"><li class="li"><p><strong>Polite notification. </strong>A small
icon blinks, by periodically alternating with the Apple menu icon
(the Apple logo) or the Application menu icon in the menu bar.</p></li>
<li class="li"><p><strong>Audible notification. </strong>The Sound Manager
plays the system alert sound or a sound contained in an 'snd ' resource.</p></li>
<li class="li"><p><strong>Alert notification. </strong>An alert box containing
a short message appears on the screen. The user must dismiss the
alert box (by clicking the OK button) before foreground processing
can continue.</p></li></ul><p>These types of notification are not mutually exclusive. For
example, an application can request both audible and alert notifications.
Moreover, if the requesting software is listed in the Application
menu (and hence represents a process that is loaded into memory),
you can instruct the Notification Manager to place a diamond-shaped
mark next to the name of the requesting process. The mark is usually
intended to prompt the user to switch the marked application into
the foreground. Finally, you can request that the Notification Manager
execute a notification response procedure, which is executed as
the final step in a notification.</p>






<a name="//apple_ref/doc/uid/TP40000915-CH1g-93006" title="Functions"></a><a name="//apple_ref/doc/uid/TP40000915-CH1g-TPXREF103" title="Functions"></a><h2>Functions</h2>





<a name="//apple_ref/c/func/DisposeNMUPP" title="DisposeNMUPP"></a><a name="//apple_ref/doc/c_ref/DisposeNMUPP" title="DisposeNMUPP"></a><a name="//apple_ref/doc/uid/TP40000915-CH1g-F11343" title="DisposeNMUPP"></a>
<a name="//apple_ref/doc/uid/TP40000915-CH1g-DontLinkElementID_5"></a><h3 class="tight">DisposeNMUPP</h3>
<p class="spaceabove">Releases a universal procedure pointer (UPP) to a response callback function.</p>
<p class="spaceabove"><pre>
void DisposeNMUPP (
   <!--a-->NMUPP<!--/a--> userUPP
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userUPP</em></dt>
<dd><p>A valid UPP, created by calling the function <code><a href="reference.html#//apple_ref/c/func/NewNMUPP">NewNMUPP</a></code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">CarbonLib 1.0 and later. Mac OS X version 10.0 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>Notification.h</code><a name="//apple_ref/c/func/InvokeNMUPP" title="InvokeNMUPP"></a><a name="//apple_ref/doc/c_ref/InvokeNMUPP" title="InvokeNMUPP"></a><a name="//apple_ref/doc/uid/TP40000915-CH1g-F11784" title="InvokeNMUPP"></a>
<a name="//apple_ref/doc/uid/TP40000915-CH1g-DontLinkElementID_6"></a><h3 class="tight">InvokeNMUPP</h3>
<p class="spaceabove">Invokes a response callback function.</p>
<p class="spaceabove"><pre>
void InvokeNMUPP (
   <!--a-->NMRecPtr<!--/a--> nmReqPtr,
   <!--a-->NMUPP<!--/a--> userUPP
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>nmReqPtr</em></dt>
<dd><p>A pointer to a notification request. For information about defining a notification request, see <code><a href="reference.html#//apple_ref/c/tdef/NMRec">NMRec</a></code>.</p></dd>
<dt><em>userUPP</em></dt>
<dd><p>A response callback UPP, created by calling the function <code><a href="reference.html#//apple_ref/c/func/NewNMUPP">NewNMUPP</a></code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">CarbonLib 1.0 and later. Mac OS X version 10.0 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>Notification.h</code><a name="//apple_ref/c/func/NewNMUPP" title="NewNMUPP"></a><a name="//apple_ref/doc/c_ref/NewNMUPP" title="NewNMUPP"></a><a name="//apple_ref/doc/uid/TP40000915-CH1g-F12097" title="NewNMUPP"></a>
<a name="//apple_ref/doc/uid/TP40000915-CH1g-DontLinkElementID_7"></a><h3 class="tight">NewNMUPP</h3>
<p class="spaceabove">Creates a universal procedure pointer (UPP) to a response callback function.</p>
<p class="spaceabove"><pre>
<!--a-->NMUPP<!--/a--> NewNMUPP (
   <a href="reference.html#//apple_ref/doc/c_ref/NMProcPtr">NMProcPtr</a> userRoutine
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userRoutine</em></dt>
<dd><p>A pointer to a response callback function. For more information about response callbacks, see <code><a href="reference.html#//apple_ref/c/tdef/NMProcPtr">NMProcPtr</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A new UPP. When you no longer need this UPP, you should call <code><a href="reference.html#//apple_ref/c/func/DisposeNMUPP">DisposeNMUPP</a></code> to release it.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">CarbonLib 1.0 and later. Mac OS X version 10.0 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>Notification.h</code><a name="//apple_ref/c/func/NMInstall" title="NMInstall"></a><a name="//apple_ref/doc/c_ref/NMInstall" title="NMInstall"></a><a name="//apple_ref/doc/uid/TP40000915-CH1g-F04271" title="NMInstall"></a>
<a name="//apple_ref/doc/uid/TP40000915-CH1g-DontLinkElementID_8"></a><h3 class="tight">NMInstall</h3>
<p class="spaceabove">Installs a notification request in the notification queue.</p>
<p class="spaceabove"><pre>
OSErr NMInstall (
   <!--a-->NMRecPtr<!--/a--> nmReqPtr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>request</em></dt>
<dd><p>A pointer to a notification request record that the caller provides.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. If the result is non-zero, the Notification Manager cannot install the request because it contains invalid information. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000915-CH4g-88630">“Notification Manager Result Codes.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">CarbonLib 1.0 and later. Mac OS X version 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>Notification.h</code><a name="//apple_ref/c/func/NMRemove" title="NMRemove"></a><a name="//apple_ref/doc/c_ref/NMRemove" title="NMRemove"></a><a name="//apple_ref/doc/uid/TP40000915-CH1g-F04272" title="NMRemove"></a>
<a name="//apple_ref/doc/uid/TP40000915-CH1g-DontLinkElementID_9"></a><h3 class="tight">NMRemove</h3>
<p class="spaceabove">Removes a notification request from the notification queue.</p>
<p class="spaceabove"><pre>
OSErr NMRemove (
   <!--a-->NMRecPtr<!--/a--> nmReqPtr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>nmReqPtr</em></dt>
<dd><p>A pointer to a notification request record.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. If the result is non-zero, the Notification Manager cannot remove the request. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40000915-CH4g-88630">“Notification Manager Result Codes.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">CarbonLib 1.0 and later. Mac OS X version 10.0 and later.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>Notification.h</code><a name="//apple_ref/doc/uid/TP40000915-CH2g-93908" title="Callbacks"></a><a name="//apple_ref/doc/uid/TP40000915-CH2g-TPXREF105" title="Callbacks"></a><h2>Callbacks</h2>
<a name="//apple_ref/c/tdef/NMProcPtr" title="NMProcPtr"></a><a name="//apple_ref/doc/c_ref/NMProcPtr" title="NMProcPtr"></a><a name="//apple_ref/doc/uid/TP40000915-CH2g-F09378" title="NMProcPtr"></a><a name="//apple_ref/doc/uid/TP40000915-CH2g-DontLinkElementID_10"></a><h3 class="tight">NMProcPtr</h3>
<p class="spaceabove">Defines a pointer to a response callback function.
Your response callback function is executed as the final stage of
a notification.</p>
<p class="spaceabove"><pre>
typedef void (*NMProcPtr) (
   <!--a-->NMRecPtr<!--/a--> request
);
</pre></p>
<p>If you name your function <code>MyNMProc</code>,
you would declare it like this:</p>
<p><pre>
void MyNMProc (
   <!--a-->NMRecPtr<!--/a--> request
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>request</em></dt>
<dd><p>A pointer to a notification request record.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>nmResp</code> field
of the notification record defines a response function executed
as the final stage of a notification. If no processing is necessary
in response to the notification, then you can supply the value <code>NULL</code> in
that field. If you supply a UPP to your own response function in
the <code>nmResp</code> field, the
Notification Manager passes it one parameter, a pointer to your notification
request.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Notification.h</code><a name="//apple_ref/doc/uid/TP40000915-CH3g-87968" title="Data Types"></a><a name="//apple_ref/doc/uid/TP40000915-CH3g-TPXREF106" title="Data Types"></a><h2>Data Types</h2>
<a name="//apple_ref/c/tdef/NMRec" title="NMRec"></a><a name="//apple_ref/doc/c_ref/NMRec" title="NMRec"></a><a name="//apple_ref/doc/uid/TP40000915-CH3g-C001860" title="NMRec"></a>
<a name="//apple_ref/doc/uid/TP40000915-CH3g-DontLinkElementID_11"></a><h3 class="tight">NMRec</h3>
<p class="spaceabove">Defines the record format of a notification request.</p>
<p class="spaceabove"><pre>
struct NMRec {
   <!--a-->QElemPtr<!--/a--> qLink;
   short qType;
   short nmFlags;
   long nmPrivate;
   short nmReserved;
   short nmMark;
   <!--a-->Handle<!--/a--> nmIcon;
   <!--a-->Handle<!--/a--> nmSound;
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/StringPtr" target="_top">StringPtr</a> nmStr;
   <!--a-->NMUPP<!--/a--> nmResp;
   long nmRefCon;
};
typedef struct NMRec NMRec;
typedef NMRec * NMRecPtr;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>qLink</code></dt>
<dd><p>This field is used internally by the Notification
Manager. You do not need to assign a value to this field.</p></dd>
<dt><code>qType</code></dt>
<dd><p>Indicates the type of queue. You should assign
the value <code>nmType</code> to this
field.</p></dd>
<dt><code>nmFlags</code></dt>
<dd><p>Reserved.</p></dd>
<dt><code>nmPrivate</code></dt>
<dd><p>Reserved.</p></dd>
<dt><code>nmReserved</code></dt>
<dd><p>Reserved.</p></dd>
<dt><code>nmMark</code></dt>
<dd><p>In Mac OS, the item to mark in the Application
menu. If you do not want to display a mark, assign 0 to this field. </p><p>For
additional information about the use of this field in Mac OS X,
see the discussion below.</p></dd>
<dt><code>nmIcon</code></dt>
<dd><p>In Mac OS, a handle to a small icon that is to
blink periodically in the menu bar. If you do not want to display
an icon, assign <code>NULL</code> to
this field.</p></dd>
<dt><code>nmSound</code></dt>
<dd><p>In Mac OS, a handle to a sound resource to be
played. If you do not want to play a sound, assign <code>NULL</code> to
this field.</p></dd>
<dt><code>nmStr</code></dt>
<dd><p>A string to appear in the notification window.
In Mac OS, if you do not want a notification window you should assign <code>NULL</code> to
this field.</p></dd>
<dt><code>nmResp</code></dt>
<dd><p>A UPP to a response callback function. If no processing
is necessary in response to the notification, assign the value <code>NULL</code> to
this field.</p></dd>
<dt><code>nmRefCon</code></dt>
<dd><p>A long integer for private use by your application.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>In Mac OS X version 10.0, only the alert notification is supported.</p>
<p>In Mac OS X version 10.1 and later, mark and alert notifications
are both supported. If you set the <code>nmMark</code> field
to a non-zero value, your process icon will bounce in the dock.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Notification.h</code><a name="//apple_ref/doc/uid/TP40000915-CH4g-RCM0065" title="Result Codes"></a><h2><a name="//apple_ref/doc/uid/TP40000915-CH4g-88630" title="Result Codes"></a><a name="//apple_ref/doc/uid/TP40000915-CH4g-BCICBJFJ" title="Result Codes"></a>Result Codes</h2>
<p>The most common result codes returned by the Notification
Manager are listed in the table below.</p>




<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><strong>Result Code</strong></th><th scope="col" align="left"><strong>Value</strong></th><th scope="col" align="left"><strong>Description</strong></th></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40000915-CH4g-DontLinkElementID_12"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/nmTypErr" title="nmTypErr"></a><a name="//apple_ref/doc/c_ref/nmTypErr" title="nmTypErr"></a><code>nmTypErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-299</td>

<td valign="top" class="content_text"><p>The notification request contains an invalid
queue type.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
</table></div><a name="//apple_ref/doc/uid/TP40000915-CH5g-86140" title="Gestalt Constants"></a><a name="//apple_ref/doc/uid/TP40000915-CH5g-TPXREF102" title="Gestalt Constants"></a><h2>Gestalt Constants</h2><p>You can check for version and feature availability
information by using the Notification Manager selectors defined
in the Gestalt Manager. For more information, see <em>Inside
Mac OS X: Gestalt Manager Reference</em>.</p>


        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../nref_revisions/nref_revisions.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2002-12-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/Notification_Manager/Reference/reference.html%3Fid%3DTP40000915-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/Notification_Manager/Reference/reference.html%3Fid%3DTP40000915-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/Notification_Manager/Reference/reference.html%3Fid%3DTP40000915-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>