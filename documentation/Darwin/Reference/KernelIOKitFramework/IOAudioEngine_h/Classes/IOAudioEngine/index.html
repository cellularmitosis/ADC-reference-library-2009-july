<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>IOAudioEngine</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/class/IOAudioEngine" title="IOAudioEngine"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOAudioEngine">IOAudioEngine</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Inherits from:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<a href="../../../IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top">IOService</a>
</div></div></td>
</tr>
<tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IOAudioEngine.h</a></div></div></td>
</tr>
</table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>Abstract base class for a single audio audio / I/O engine.
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>An IOAudioEngine is defined by a single I/O engine to transfer data to
or from one or more sample buffers.  Each sample buffer is represented by a single IOAudioStream
instance.  A single IOAudioEngine must contain at least one IOAudioStream, but has no upper
limit on the number of IOAudioStreams it may contain.  An IOAudioEngine instance may contain
both input and output IOAudioStreams.
</p>
<p>An audio driver must subclass IOAudioEngine in order to provide certain services.  An 
IOAudioEngine subclass must start and stop the I/O engine when requested.  The I/O
engine should be continuously running and loop around from end to beginning.  While the audio
engine is running, it must take a timestamp as the sample buffer(s) wrap around and start at
the beginning.  The CoreAudio.framework uses the timestamp to calculate the exact position of
the audio engine.  An IOAudioEngine subclass must implement getCurrentSampleFrame() to provide
a sample position on demand.  Finally, an IOAudioEngine subclass must provide clipping and
format conversion routines to go to/from the CoreAudio.framework's native float format.
</p>
<p>If multiple stream formats or sample rates are allowed, the IOAudioEngine
subclass must provide support for changing the hardware when a format or sample rate is
changed.
</p>
<p>There are several attributes associated with a single IOAudioEngine: 
</p>
<p>The IOAudioEngine superclass provides a shared status buffer that contains all of the dynamic pieces
of information about the audio engine (type IOAudioEngineStatus).  It runs an erase process on
all of the output streams.  The erase head is used to zero out the mix and sample buffers after
the samples have been played.  Additionally, the IOAudioEngine superclass handles the 
communication with the CoreAudio.framework and makes the decision to start and stop the
audio engine when it detects it is in use.
</p>
<p>In order for an audio device to play back or record sound, an IOAudioEngine subclass must be created.
The subclass must initialize all of the necessary hardware resources to prepare for starting the
audio I/O engine.  It typically will perform these tasks in the initHardware() method.  A subclass 
may also implement a stop() method which is called as the driver is being torn down.  This is 
typically called in preparation of removing the device from the system for removable devices.
</p>
<p>In addition to initializing the necessary hardware, there are a number of other tasks an 
IOAudioEngine must do during initHardware().  It must create the necessary IOAudioStream objects
to match the device capabilities.  Each IOAudioStream must be added using addAudioStream().  It
also should create the IOAudioControls needed to control the various attributes of the audio engine:
output volume, mute, input gain, input selection, analog passthru.  To do that, addDefaultAudioControl()
should be called with each IOAudioControl to be attached to the IOAudioEngine.  In order to provide
for proper synchronization, the latency of the audio engine should be specified with setSampleLatency().
This value represents the latency between the timestamp taken at the beginning of the buffer and 
when the audio is actually played (or recorded) by the device.  If a device is block based or if
there is a need to keep the CoreAudio.framework a certain number of samples ahead of (or behind for
input) the I/O head, that value should be specified using setSampleOffset().  If this is not specified
the CoreAudio.framework may attempt to get as close to the I/O head as possible.
</p>
<p>The following fields in the shared IOAudioEngineStatus struct must be maintained by the subclass
implementation:
  </p>
<pre>
  <t>  fCurrentLoopCount - the number of times the sample buffer has wrapped around to the beginning
  <t>  fLastLoopTime - timestamp of the most recent time that the I/O engine looped back to the 
  beginning of the sample buffer
  </t></t></pre>
<p>It is critically important that the fLastLoopTime field be as accurate as possible.  It is 
the basis for the entire timer and synchronization mechanism used by the audio system.
</p>
<p>At init time, the IOAudioEngine subclass must call setNumSampleFramesPerBuffer() to indicate how large
each of the sample buffers are (measured in sample frames).  Within a single IOAudioEngine, all sample
buffers must be the same size and be running at the same sample rate.  If different buffers/streams can
be run at different rates, separate IOAudioEngines should be used.  The IOAudioEngine subclass must
also call setSampleRate() at init time to indicate the starting sample rate of the device.
</p>
<!-- end discussion -->
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/addAudioStream/IOReturn/(IOAudioStream*)" target="_top">addAudioStream</a></tt></dt>
<dd><p>Adds an IOAudioStream to the audio engine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/addTimer/void/()" target="_top">addTimer</a></tt></dt>
<dd><p>Enables the timer event for the audio engine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/clearAllSampleBuffers/void/()" target="_top">clearAllSampleBuffers</a></tt></dt>
<dd><p>Zeros out all of the sample and mix buffers associated with the IOAudioEngine
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/clientClosed/void/(IOAudioEngineUserClient*)" target="_top">clientClosed</a></tt></dt>
<dd><p>Called automatically when a user client closes its connection to the audio engine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/clipOutputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*)" target="_top">clipOutputSamples</a></tt></dt>
<dd><p>Clip output samples and convert to hardware format.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/convertInputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*)" target="_top">convertInputSamples</a></tt></dt>
<dd><p>Convert input samples from hardware format to 32-bit float.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/convertInputSamplesVBR/IOReturn/(constvoid*,void*,UInt32,UInt32%26,constIOAudioStreamFormat*,IOAudioStream*)" target="_top">convertInputSamplesVBR(const void *, void *, UInt32, UInt32 &amp;, const IOAudioStreamFormat *, IOAudioStream *)</a></tt></dt>
<dd><p>Override this method if you want to return a different number of sample frames than was requested.  
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/convertInputSamplesVBR/IOReturn/(constvoid*,void*,UInt32,UInt32%26,constIOAudioStreamFormat*,IOAudioStream*)_DONTLINK_1" target="_top">convertInputSamplesVBR(const void *, void *, UInt32, UInt32 &amp;, const IOAudioStreamFormat *, IOAudioStream *)</a></tt></dt>
<dd><p>Override this method if you want to return a different number of sample frames than was requested.  
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IOAudioEngine/createDictionaryFromSampleRate/OSDictionary*/(constIOAudioSampleRate*,OSDictionary*)" target="_top">createDictionaryFromSampleRate</a></tt></dt>
<dd><p>Generates a dictionary matching the given sample rate.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IOAudioEngine/createSampleRateFromDictionary/IOAudioSampleRate*/(constOSDictionary*,IOAudioSampleRate*)" target="_top">createSampleRateFromDictionary</a></tt></dt>
<dd><p>Generates a sample rate from an OSDictionary.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/eraseOutputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*)" target="_top">eraseOutputSamples</a></tt></dt>
<dd><p>This function allows for the actual erasing of the mix and sample buffer to be overridden by
a child class.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/free/void/()" target="_top">free</a></tt></dt>
<dd><p>Frees all of the resources allocated by the IOAudioEngine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getCommandGate/IOCommandGate*/()" target="_top">getCommandGate</a></tt></dt>
<dd><p>Returns the IOCommandGate for this IOAudioEngine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getCurrentSampleFrame/UInt32/()" target="_top">getCurrentSampleFrame</a></tt></dt>
<dd><p>Gets the current sample frame from the IOAudioEngine subclass.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getLoopCountAndTimeStamp/IOReturn/(UInt32*,AbsoluteTime*)" target="_top">getLoopCountAndTimeStamp</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getNumSampleFramesPerBuffer/UInt32/()" target="_top">getNumSampleFramesPerBuffer</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getRunEraseHead/bool/()" target="_top">getRunEraseHead</a></tt></dt>
<dd><p>Returns true if the audio engine will run the erase head when the audio engine is running.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getSampleRate/constIOAudioSampleRate*/()" target="_top">getSampleRate</a></tt></dt>
<dd><p>Returns the sample rate of the IOAudioEngine in samples per second.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getState/IOAudioEngineState/()" target="_top">getState</a></tt></dt>
<dd><p>Returns the current state of the IOAudioEngine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getStatus/constIOAudioEngineStatus*/()" target="_top">getStatus</a></tt></dt>
<dd><p>Returns a pointer to the shared status buffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getTimerInterval/AbsoluteTime/()" target="_top">getTimerInterval</a></tt></dt>
<dd><p>Gets the timer interval for use by the timer event.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/getWorkLoop/IOWorkLoop*/()" target="_top">getWorkLoop</a></tt></dt>
<dd><p>Returns the IOWorkLoop for the driver.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/init/bool/(OSDictionary*)" target="_top">init</a></tt></dt>
<dd><p>Performs initialization of a newly allocated IOAudioEngine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/initHardware/bool/(IOService*)" target="_top">initHardware</a></tt></dt>
<dd><p>This function is called by start() to provide a convenient place for the subclass to
perform its hardware initialization.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IOAudioEngine/initKeys/void/()" target="_top">initKeys</a></tt></dt>
<dd><p>Generates the OSSymbols with the keys.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/newUserClient/IOReturn/(task_t,void*,UInt32,IOUserClient**)" target="_top">newUserClient</a></tt></dt>
<dd><p>Requests a new user client object for this service.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/performAudioEngineStart/IOReturn/()" target="_top">performAudioEngineStart</a></tt></dt>
<dd><p>Called to start the audio I/O engine
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/performAudioEngineStop/IOReturn/()" target="_top">performAudioEngineStop</a></tt></dt>
<dd><p>Called to stop the audio I/O engine
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/performErase/void/()" target="_top">performErase</a></tt></dt>
<dd><p>Performs erase head processing.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/performFlush/void/()" target="_top">performFlush</a></tt></dt>
<dd><p>Performs the flush operation.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/performFormatChange/IOReturn/(IOAudioStream*,constIOAudioStreamFormat*,constIOAudioSampleRate*)" target="_top">performFormatChange(IOAudioStream *, const IOAudioStreamFormat *, const IOAudioSampleRate *)</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/performFormatChange/IOReturn/(IOAudioStream*,constIOAudioStreamFormat*,constIOAudioStreamFormatExtension*,constIOAudioSampleRate*)" target="_top">performFormatChange(IOAudioStream *, const IOAudioStreamFormat *, const IOAudioStreamFormatExtension *, const IOAudioSampleRate *)</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/registerService/void/(IOOptionBits)" target="_top">registerService</a></tt></dt>
<dd><p>Called when this audio engine is ready to begin vending services.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/removeTimer/void/()" target="_top">removeTimer</a></tt></dt>
<dd><p>Disables the timer event for the audio engine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/resetStatusBuffer/void/()" target="_top">resetStatusBuffer</a></tt></dt>
<dd><p>Resets the status buffer to its default values.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setClockDomain/void/(UInt32)" target="_top">setClockDomain</a></tt></dt>
<dd><p>Sets a property that CoreAudio uses to determine how devices are synchronized.  If an audio device can tell that it is
synchronized to another engine, it should set this value to that engine's clock domain.  If an audio device can be a clock master, it may publish
its own clock domain for other devices to use.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setClockIsStable/void/(bool)" target="_top">setClockIsStable</a></tt></dt>
<dd><p>This function sets a flag that CoreAudio uses to select its sample rate tracking algorithm.  Set
this to TRUE unless that results in dropped audio.  If the driver is experiencing unexplained dropouts
setting this FALSE might help.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setDescription/void/(constchar*)" target="_top">setDescription</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setInputSampleLatency/void/(UInt32)" target="_top">setInputSampleLatency</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setInputSampleOffset/void/(UInt32)" target="_top">setInputSampleOffset(UInt32)</a></tt></dt>
<dd><p>Sets the offset CoreAudio will read from off the current read pointer
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setInputSampleOffset/void/(UInt32)_DONTLINK_1" target="_top">setInputSampleOffset(UInt32)</a></tt></dt>
<dd><p>set the offset CoreAudio will read from off the current read pointer
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setMixClipOverhead/void/(UInt32)" target="_top">setMixClipOverhead</a></tt></dt>
<dd><p>Used to tell IOAudioFamily when the watchdog timer must fire by.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setNumSampleFramesPerBuffer/void/(UInt32)" target="_top">setNumSampleFramesPerBuffer</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleLatency/void/(UInt32)" target="_top">setOutputSampleLatency</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleOffset/void/(UInt32)" target="_top">setOutputSampleOffset(UInt32)</a></tt></dt>
<dd><p>Sets the offset CoreAudio will write at off the current write pointer
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleOffset/void/(UInt32)_DONTLINK_1" target="_top">setOutputSampleOffset(UInt32)</a></tt></dt>
<dd><p>set the offset CoreAudio will write at off the current write pointer
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setRunEraseHead/void/(bool)" target="_top">setRunEraseHead</a></tt></dt>
<dd><p>Tells the audio engine whether or not to run the erase head.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setSampleLatency/void/(UInt32)" target="_top">setSampleLatency</a></tt></dt>
<dd><p>Sets the sample latency for the audio engine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setSampleOffset/void/(UInt32)" target="_top">setSampleOffset</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setSampleRate/void/(constIOAudioSampleRate*)" target="_top">setSampleRate</a></tt></dt>
<dd><p>Records the sample rate of the audio engine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/setState/IOAudioEngineState/(IOAudioEngineState)" target="_top">setState</a></tt></dt>
<dd><p>Indicates that the audio engine is in the specified state.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/start/bool/(IOService*)" target="_top">start(IOService *)</a></tt></dt>
<dd><p>A simple cover function for start(IOService *, IOAudioDevice *) that assumes the provider
is the IOAudioDevice.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/start/bool/(IOService*,IOAudioDevice*)" target="_top">start(IOService *, IOAudioDevice *)</a></tt></dt>
<dd><p>Standard IOKit start() routine called to start an IOService
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/startAudioEngine/IOReturn/()" target="_top">startAudioEngine</a></tt></dt>
<dd><p>Starts the audio I/O engine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/stop/void/(IOService*)" target="_top">stop</a></tt></dt>
<dd><p>Stops the service and prepares for the driver to be terminated.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/stopAudioEngine/IOReturn/()" target="_top">stopAudioEngine</a></tt></dt>
<dd><p>Stops the audio I/O engine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/takeTimeStamp/void/(bool,AbsoluteTime*)" target="_top">takeTimeStamp</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IOAudioEngine/timerCallback/void/(OSObject*,IOAudioDevice*)" target="_top">timerCallback</a></tt></dt>
<dd><p>A static method used as a callback for the IOAudioDevice timer services.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/timerFired/void/()" target="_top">timerFired</a></tt></dt>
<dd><p>Indicates the timer has fired.
</p></dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/addAudioStream/IOReturn/(IOAudioStream*);  indexgroup=Audio ;   name=IOAudioEngine::addAudioStream --><a name="//apple_ref/cpp/instm/IOAudioEngine/addAudioStream/IOReturn/(IOAudioStream*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="addAudioStream">addAudioStream</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Adds an IOAudioStream to the audio engine.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">addAudioStream</span><!-- /a -->(
    <a href="../../../IOAudioStream_h/Classes/IOAudioStream/index.html#//apple_ref/cpp/cl/IOAudioStream" target="_top" class="type"><span class="type">IOAudioStream</span></a> <span class="type">*</span><span class="param">stream</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stream</code></dt>
<dd><p>The IOAudioStream to be added.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if the stream was successfully added.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is called by the driver to add an IOAudioStream to the audio engine.  This must be called at least once to make sure the audio engine has at least one IOAudioStream.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/addTimer/void/();  indexgroup=Audio ;   name=IOAudioEngine::addTimer --><a name="//apple_ref/cpp/instm/IOAudioEngine/addTimer/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="addTimer">addTimer</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Enables the timer event for the audio engine.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">addTimer</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>There is a timer event needed by the IOAudioEngine for processing the erase head
and performing flushing operations. When the timer fires, the method timerFired() is ultimately
called which in turn calls performErase() and performFlush().  This is called automatically
to enable the timer event for this audio engine.  It is called by setState() when the audio engine state
is set to kIOAudioEngineRunning.  When the timer is no longer needed, removeTimer() is called.
There is no need to call this directly.  
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/clearAllSampleBuffers/void/();  indexgroup=Audio ;   name=IOAudioEngine::clearAllSampleBuffers --><a name="//apple_ref/cpp/instm/IOAudioEngine/clearAllSampleBuffers/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="clearAllSampleBuffers">clearAllSampleBuffers</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Zeros out all of the sample and mix buffers associated with the IOAudioEngine
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">clearAllSampleBuffers</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This is called during resumeAudioEngine() since the audio engine gets started back at the
beginning of the sample buffer.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/clientClosed/void/(IOAudioEngineUserClient*);  indexgroup=Audio ;   name=IOAudioEngine::clientClosed --><a name="//apple_ref/cpp/instm/IOAudioEngine/clientClosed/void/(IOAudioEngineUserClient*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="clientClosed">clientClosed</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Called automatically when a user client closes its connection to the audio engine.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">clientClosed</span><!-- /a -->(
    <!-- a --><span class="type">IOAudioEngineUserClient</span><!-- /a --> <span class="type">*</span><span class="param">client</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>client</code></dt>
<dd><p>The user client that has disconnected.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method decrements the number of connections to the audio engine and if they reach
zero, the audio engine is called with a call to stopAudioEngine().  This method should not be called directly.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/clipOutputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*);  indexgroup=Audio ;   name=IOAudioEngine::clipOutputSamples --><a name="//apple_ref/cpp/instm/IOAudioEngine/clipOutputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="clipOutputSamples">clipOutputSamples</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Clip output samples and convert to hardware format.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">clipOutputSamples</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">mixBuf</span><!-- /a -->,
    <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">sampleBuf</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">firstSampleFrame</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">numSampleFrames</span><!-- /a -->,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioStreamFormat</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">streamFormat</span><!-- /a -->,
    <!-- a --><span class="var">IOAudioStream</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">audioStream</span><!-- /a -->); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method clips output samples to +/- 1.0 (float) and
converts them to the correct format for the hardware
sample buffer.  You must override this method in a
device-specific audio engine subclass.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/convertInputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*);  indexgroup=Audio ;   name=IOAudioEngine::convertInputSamples --><a name="//apple_ref/cpp/instm/IOAudioEngine/convertInputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="convertInputSamples">convertInputSamples</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Convert input samples from hardware format to 32-bit float.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">convertInputSamples</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">sampleBuf</span><!-- /a -->,
    <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">destBuf</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">firstSampleFrame</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">numSampleFrames</span><!-- /a -->,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioStreamFormat</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">streamFormat</span><!-- /a -->,
    <!-- a --><span class="var">IOAudioStream</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">audioStream</span><!-- /a -->); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The convertInputSamples function converts input samples
from a hardware-specific format to 32-bit floating point.  Your
device-specific subclass must override this method.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/convertInputSamplesVBR/IOReturn/(constvoid*,void*,UInt32,UInt32%26,constIOAudioStreamFormat*,IOAudioStream*);  indexgroup=Audio ;   name=IOAudioEngine::convertInputSamplesVBR --><a name="//apple_ref/cpp/instm/IOAudioEngine/convertInputSamplesVBR/IOReturn/(constvoid*,void*,UInt32,UInt32%26,constIOAudioStreamFormat*,IOAudioStream*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="convertInputSamplesVBR(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*)">convertInputSamplesVBR(const void *, void *, UInt32, UInt32 &amp;, const IOAudioStreamFormat *, IOAudioStream *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Override this method if you want to return a different number of sample frames than was requested.  
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">convertInputSamplesVBR</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">sampleBuf</span><!-- /a -->,
    <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">destBuf</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">firstSampleFrame</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> &amp;<!-- a --><span class="var">numSampleFrames</span><!-- /a -->,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioStreamFormat</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">streamFormat</span><!-- /a -->,
    <!-- a --><span class="var">IOAudioStream</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">audioStream</span><!-- /a -->); </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/convertInputSamplesVBR/IOReturn/(constvoid*,void*,UInt32,UInt32%26,constIOAudioStreamFormat*,IOAudioStream*)_DONTLINK_1;  indexgroup=Audio ;   name=IOAudioEngine::convertInputSamplesVBR --><a name="//apple_ref/cpp/instm/IOAudioEngine/convertInputSamplesVBR/IOReturn/(constvoid*,void*,UInt32,UInt32%26,constIOAudioStreamFormat*,IOAudioStream*)_DONTLINK_1"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="convertInputSamplesVBR(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*)">convertInputSamplesVBR(const void *, void *, UInt32, UInt32 &amp;, const IOAudioStreamFormat *, IOAudioStream *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Override this method if you want to return a different number of sample frames than was requested.  
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">convertInputSamplesVBR</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">sampleBuf</span><!-- /a -->,
    <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">destBuf</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">firstSampleFrame</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> &amp;<!-- a --><span class="var">numSampleFrames</span><!-- /a -->,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioStreamFormat</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">streamFormat</span><!-- /a -->,
    <!-- a --><span class="var">IOAudioStream</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">audioStream</span><!-- /a -->); </pre>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IOAudioEngine/createDictionaryFromSampleRate/OSDictionary*/(constIOAudioSampleRate*,OSDictionary*);  indexgroup=Audio ;   name=IOAudioEngine::createDictionaryFromSampleRate --><a name="//apple_ref/cpp/clm/IOAudioEngine/createDictionaryFromSampleRate/OSDictionary*/(constIOAudioSampleRate*,OSDictionary*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="createDictionaryFromSampleRate">createDictionaryFromSampleRate</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Generates a dictionary matching the given sample rate.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <a href="../../../OSDictionary_h/Classes/OSDictionary/index.html#//apple_ref/cpp/cl/OSDictionary" target="_top" class="type"><span class="type">OSDictionary</span></a> <span class="type">*</span><!-- a --><span class="function">createDictionaryFromSampleRate</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioSampleRate</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">sampleRate</span><!-- /a -->,
    <!-- a --><span class="var">OSDictionary</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">rateDict</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the newly created OSDictionary.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This is an internal routine used to generate a dictionary matching the given sample rate.  It is used to generate a sample rate dictionary for the I/O Registry - used by the 
CoreAudio.framework.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IOAudioEngine/createSampleRateFromDictionary/IOAudioSampleRate*/(constOSDictionary*,IOAudioSampleRate*);  indexgroup=Audio ;   name=IOAudioEngine::createSampleRateFromDictionary --><a name="//apple_ref/cpp/clm/IOAudioEngine/createSampleRateFromDictionary/IOAudioSampleRate*/(constOSDictionary*,IOAudioSampleRate*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="createSampleRateFromDictionary">createSampleRateFromDictionary</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Generates a sample rate from an OSDictionary.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <a href="../../../IOAudioTypes_h/index.html#//apple_ref/c/tdef/IOAudioSampleRate" target="_top" class="type"><span class="type">IOAudioSampleRate</span></a> <span class="type">*</span><!-- a --><span class="function">createSampleRateFromDictionary</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">OSDictionary</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">rateDict</span><!-- /a -->,
    <!-- a --><span class="var">IOAudioSampleRate</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">sampleRate</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the sample rate.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This is an internal routine used to generate a sample rate from an OSDictionary.  It is used to generate a sample rate give a new OSDictionary from the IORegistry - coming
from the CoreAudio.framework.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/eraseOutputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*);  indexgroup=Audio ;   name=IOAudioEngine::eraseOutputSamples --><a name="//apple_ref/cpp/instm/IOAudioEngine/eraseOutputSamples/IOReturn/(constvoid*,void*,UInt32,UInt32,constIOAudioStreamFormat*,IOAudioStream*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="eraseOutputSamples">eraseOutputSamples</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>This function allows for the actual erasing of the mix and sample buffer to be overridden by
a child class.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">eraseOutputSamples</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">mixBuf</span><!-- /a -->,
    <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">sampleBuf</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">firstSampleFrame</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">numSampleFrames</span><!-- /a -->,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioStreamFormat</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">streamFormat</span><!-- /a -->,
    <!-- a --><span class="var">IOAudioStream</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">audioStream</span><!-- /a -->); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mixBuf</code></dt>
<dd><p>Pointer to the IOAudioFamily allocated mix buffer.</p></dd>
<dt><code>sampleBuf</code></dt>
<dd><p>Pointer to the child class' sample buffer.</p></dd>
<dt><code>firstSampleFrame</code></dt>
<dd><p>Index to the first sample frame to erase.</p></dd>
<dt><code>numSampleFrames</code></dt>
<dd><p>Number of sample frames to erase.</p></dd>
<dt><code>streamFormat</code></dt>
<dd><p>Format of the data to be erased.</p></dd>
<dt><code>audioStream</code></dt>
<dd><p>Pointer to stream object that corresponds to the sample buffer being erased.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Must return kIOReturnSuccess if the samples have been erased.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/free/void/();  indexgroup=Audio ;   name=IOAudioEngine::free --><a name="//apple_ref/cpp/instm/IOAudioEngine/free/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="free">free</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Frees all of the resources allocated by the IOAudioEngine.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">free</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Do not call this directly.  This is called automatically by the system when the instance's
refcount goes to 0.  To decrement the refcount, call release() on the object.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getCommandGate/IOCommandGate*/();  indexgroup=Audio ;   name=IOAudioEngine::getCommandGate --><a name="//apple_ref/cpp/instm/IOAudioEngine/getCommandGate/IOCommandGate*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getCommandGate">getCommandGate</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the IOCommandGate for this IOAudioEngine.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOCommandGate_h/Classes/IOCommandGate/index.html#//apple_ref/cpp/cl/IOCommandGate" target="_top" class="type"><span class="type">IOCommandGate</span></a> <span class="type">*</span><!-- a --><span class="function">getCommandGate</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getCurrentSampleFrame/UInt32/();  indexgroup=Audio ;   name=IOAudioEngine::getCurrentSampleFrame --><a name="//apple_ref/cpp/instm/IOAudioEngine/getCurrentSampleFrame/UInt32/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getCurrentSampleFrame">getCurrentSampleFrame</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets the current sample frame from the IOAudioEngine subclass.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="function">getCurrentSampleFrame</span><!-- /a -->() = <span class="number">0</span>; </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getLoopCountAndTimeStamp/IOReturn/(UInt32*,AbsoluteTime*);  indexgroup=Audio ;   name=IOAudioEngine::getLoopCountAndTimeStamp --><a name="//apple_ref/cpp/instm/IOAudioEngine/getLoopCountAndTimeStamp/IOReturn/(UInt32*,AbsoluteTime*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getLoopCountAndTimeStamp">getLoopCountAndTimeStamp</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">getLoopCountAndTimeStamp</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">loopCount</span>,
    <!-- a --><span class="type">AbsoluteTime</span><!-- /a --> <span class="type">*</span><span class="param">timestamp</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method returns the current loop count and time stamp values. <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getNumSampleFramesPerBuffer/UInt32/();  indexgroup=Audio ;   name=IOAudioEngine::getNumSampleFramesPerBuffer --><a name="//apple_ref/cpp/instm/IOAudioEngine/getNumSampleFramesPerBuffer/UInt32/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getNumSampleFramesPerBuffer">getNumSampleFramesPerBuffer</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="function">getNumSampleFramesPerBuffer</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method returns the size of the sample buffer (in terms of the number of frames). <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getRunEraseHead/bool/();  indexgroup=Audio ;   name=IOAudioEngine::getRunEraseHead --><a name="//apple_ref/cpp/instm/IOAudioEngine/getRunEraseHead/bool/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getRunEraseHead">getRunEraseHead</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns true if the audio engine will run the erase head when the audio engine is running.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">getRunEraseHead</span><!-- /a -->(); </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getSampleRate/constIOAudioSampleRate*/();  indexgroup=Audio ;   name=IOAudioEngine::getSampleRate --><a name="//apple_ref/cpp/instm/IOAudioEngine/getSampleRate/constIOAudioSampleRate*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getSampleRate">getSampleRate</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the sample rate of the IOAudioEngine in samples per second.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <span class="keyword">const</span> <!-- a --><span class="var">IOAudioSampleRate</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">getSampleRate</span><!-- /a -->(); </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getState/IOAudioEngineState/();  indexgroup=Audio ;   name=IOAudioEngine::getState --><a name="//apple_ref/cpp/instm/IOAudioEngine/getState/IOAudioEngineState/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getState">getState</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the current state of the IOAudioEngine.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOAudioTypes_h/index.html#//apple_ref/c/tdef/IOAudioEngineState" target="_top" class="type"><span class="type">IOAudioEngineState</span></a> <!-- a --><span class="function">getState</span><!-- /a -->(); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The current state of the IOAudioEngine: kIOAudioEngineRunning, kIOAudioEngineStopped.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>If this method is called in preparation for calling setState(), the stateLock must
be acquired before the first call to getState() and held until after the last call to setState().
Be careful not to return from the code acquiring the lock while the lock is being held.  That
will cause a deadlock situation.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getStatus/constIOAudioEngineStatus*/();  indexgroup=Audio ;   name=IOAudioEngine::getStatus --><a name="//apple_ref/cpp/instm/IOAudioEngine/getStatus/constIOAudioEngineStatus*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getStatus">getStatus</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns a pointer to the shared status buffer.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <span class="keyword">const</span> <!-- a --><span class="var">IOAudioEngineStatus</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">getStatus</span><!-- /a -->(); </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getTimerInterval/AbsoluteTime/();  indexgroup=Audio ;   name=IOAudioEngine::getTimerInterval --><a name="//apple_ref/cpp/instm/IOAudioEngine/getTimerInterval/AbsoluteTime/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getTimerInterval">getTimerInterval</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets the timer interval for use by the timer event.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">AbsoluteTime</span><!-- /a --> <!-- a --><span class="function">getTimerInterval</span><!-- /a -->(); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the interval for the timer event.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called each time the timer event is enabled through addTimer().  The default
implementation is set to return a value such that the timer event runs n times each cycle of the audio
engine through the sample buffer.  The value n is stored as the instance variable: numErasesPerBuffer.
The default value of numErasesPerBuffer is set to IOAUDIOENGINE_DEFAULT_NUM_ERASES_PER_BUFFER which is 4.
A subclass may change the value of numErasesPerBuffer or override getTimerInterval.  If it is overridden,
the subclass should call the superclass's implementation, compare its interval with the superclass's and
return the smaller of the two.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/getWorkLoop/IOWorkLoop*/();  indexgroup=Audio ;   name=IOAudioEngine::getWorkLoop --><a name="//apple_ref/cpp/instm/IOAudioEngine/getWorkLoop/IOWorkLoop*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getWorkLoop">getWorkLoop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the IOWorkLoop for the driver.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOWorkLoop_h/Classes/IOWorkLoop/index.html#//apple_ref/cpp/cl/IOWorkLoop" target="_top" class="type"><span class="type">IOWorkLoop</span></a> <span class="type">*</span><!-- a --><span class="function">getWorkLoop</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/init/bool/(OSDictionary*);  indexgroup=Audio ;   name=IOAudioEngine::init --><a name="//apple_ref/cpp/instm/IOAudioEngine/init/bool/(OSDictionary*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="init">init</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Performs initialization of a newly allocated IOAudioEngine.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <a href="../../../IOFWPhysicalAddressSpace_h/index.html#//apple_ref/c/func/init" target="_top" class="function"><span class="function">init</span></a>(
    <a href="../../../OSDictionary_h/Classes/OSDictionary/index.html#//apple_ref/cpp/cl/OSDictionary" target="_top" class="type"><span class="type">OSDictionary</span></a> <span class="type">*</span><span class="param">properties</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>properties</code></dt>
<dd><p>The default properties for the IOAudioEngine.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if initialization was successful.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is responsible for initialization of all of the general attributes of
a new IOAudioEngine.  It initializes instance variables to their default
values and allocates the shared status buffer.  Subclasses will likely want to override this method
and do all of their common initialization in their implementation.  They do need to be sure to call
IOAudioEngine's implementation of init and pay attention to the return value.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/initHardware/bool/(IOService*);  indexgroup=Audio ;   name=IOAudioEngine::initHardware --><a name="//apple_ref/cpp/instm/IOAudioEngine/initHardware/bool/(IOService*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="initHardware">initHardware</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>This function is called by start() to provide a convenient place for the subclass to
perform its hardware initialization.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">initHardware</span><!-- /a -->(
    <a href="../../../IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">provider</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>provider</code></dt>
<dd><p>The service provider nub for this audio engine - typically the IOAudioDevice.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the hardware was successfully initialized.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Upon return from this function, all IOAudioStreams and IOAudioControls should be created
and the audio engine should be ready to be started when a client requests that playback begin.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IOAudioEngine/initKeys/void/();  indexgroup=Audio ;   name=IOAudioEngine::initKeys --><a name="//apple_ref/cpp/clm/IOAudioEngine/initKeys/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="initKeys">initKeys</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Generates the OSSymbols with the keys.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">static</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">initKeys</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Do not call this directly.  This is an internal initialization routine.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/newUserClient/IOReturn/(task_t,void*,UInt32,IOUserClient**);  indexgroup=Audio ;   name=IOAudioEngine::newUserClient --><a name="//apple_ref/cpp/instm/IOAudioEngine/newUserClient/IOReturn/(task_t,void*,UInt32,IOUserClient**)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="newUserClient">newUserClient</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Requests a new user client object for this service.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">newUserClient</span><!-- /a -->(
    <!-- a --><span class="type">task_t</span><!-- /a --> <span class="param">task</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">securityID</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">type</span>,
    <a href="../../../IOUserClient_h/Classes/IOUserClient/index.html#//apple_ref/cpp/cl/IOUserClient" target="_top" class="type"><span class="type">IOUserClient</span></a> <span class="type">*</span><span class="type">*</span><span class="param">handler</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>task</code></dt>
<dd><p>The task requesting the new user client.</p></dd>
<dt><code>securityID</code></dt>
<dd><p>Optional security parameter passed in by the client - ignored.</p></dd>
<dt><code>type</code></dt>
<dd><p>Optional user client type passed in by the client - ignored.</p></dd>
<dt><code>handler</code></dt>
<dd><p>The new IOUserClient * must be stored in this param on a successful completion.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess on success.  May also return kIOReturnError or kIOReturnNoMemory.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is called automatically by the I/O Kit when a user process attempts
to connect to this service.  It allocates a new IOAudioEngineUserClient object and increments
the number of connections for this audio engine.  If this is the first user client for this IOAudioEngine,
it calls startAudioEngine().  There is no need to call this function directly.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/performAudioEngineStart/IOReturn/();  indexgroup=Audio ;   name=IOAudioEngine::performAudioEngineStart --><a name="//apple_ref/cpp/instm/IOAudioEngine/performAudioEngineStart/IOReturn/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="performAudioEngineStart">performAudioEngineStart</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Called to start the audio I/O engine
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">performAudioEngineStart</span><!-- /a -->(); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Must return kIOReturnSuccess on a successful start of the engine.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called by startAudioEngine() when the audio engine is placed into use.
This must be overridden by the subclass.  No call to the superclass's implementation is
necessary.  The subclass's implementation must start up the audio I/O engine.  This includes any audio
engine that needs to be started as well as any interrupts that need to be enabled.  Upon successfully
starting the engine, the subclass's implementation must call setState(kAudioEngineRunning).  If
it has also checked the state using getState() earlier in the implementation, the stateLock must be
acquired for the entire initialization process (using IORecursiveLockLock(stateLock) and
IORecursiveLockUnlock(stateLock)) to ensure that the state remains consistent.  See the general class
comments for an example.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/performAudioEngineStop/IOReturn/();  indexgroup=Audio ;   name=IOAudioEngine::performAudioEngineStop --><a name="//apple_ref/cpp/instm/IOAudioEngine/performAudioEngineStop/IOReturn/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="performAudioEngineStop">performAudioEngineStop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Called to stop the audio I/O engine
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">performAudioEngineStop</span><!-- /a -->(); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Must return kIOReturnSuccess on a successful stop of the engine.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called by stopAudioEngine() and pauseAudioEngine.
This must be overridden by the subclass.  No call to the superclass' implementation is
necessary.  The subclass' implementation must stop the audio I/O engine.  This includes any audio
engine that needs to be stopped as well as any interrupts that need to be disabled.
</p>
<p>Upon successfully stopping the engine, the subclass must call
setState(kAudioEngineStopped).  If it has also checked the state using getState() earlier in the
implementation, the stateLock must be acquired for the entire initialization process (using
IORecursiveLockLock(stateLock) and IORecursiveLockUnlock(stateLock)) to ensure that the state remains
consistent.
</p>
<!-- end discussion -->
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/performErase/void/();  indexgroup=Audio ;   name=IOAudioEngine::performErase --><a name="//apple_ref/cpp/instm/IOAudioEngine/performErase/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="performErase">performErase</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Performs erase head processing.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">performErase</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called automatically each time the timer event fires and erases the sample
buffer and mix buffer from the previous location up to the current location of the audio engine.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/performFlush/void/();  indexgroup=Audio ;   name=IOAudioEngine::performFlush --><a name="//apple_ref/cpp/instm/IOAudioEngine/performFlush/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="performFlush">performFlush</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Performs the flush operation.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">performFlush</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called automatically each time the timer event fires.  It stops the audio engine
if there are no more clients and the audio engine is passed the latest flush ending position.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/performFormatChange/IOReturn/(IOAudioStream*,constIOAudioStreamFormat*,constIOAudioSampleRate*);  indexgroup=Audio ;   name=IOAudioEngine::performFormatChange --><a name="//apple_ref/cpp/instm/IOAudioEngine/performFormatChange/IOReturn/(IOAudioStream*,constIOAudioStreamFormat*,constIOAudioSampleRate*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="performFormatChange(IOAudioStream*,constIOAudioStreamFormat*,constIOAudioSampleRate*)">performFormatChange(IOAudioStream *, const IOAudioStreamFormat *, const IOAudioSampleRate *)</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">performFormatChange</span><!-- /a -->(
    <a href="../../../IOAudioStream_h/Classes/IOAudioStream/index.html#//apple_ref/cpp/cl/IOAudioStream" target="_top" class="type"><span class="type">IOAudioStream</span></a> <span class="type">*</span><span class="param">audioStream</span>,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioStreamFormat</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">newFormat</span><!-- /a -->,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioSampleRate</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">newSampleRate</span><!-- /a -->); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method changes the sample format for the audio device. <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/performFormatChange/IOReturn/(IOAudioStream*,constIOAudioStreamFormat*,constIOAudioStreamFormatExtension*,constIOAudioSampleRate*);  indexgroup=Audio ;   name=IOAudioEngine::performFormatChange --><a name="//apple_ref/cpp/instm/IOAudioEngine/performFormatChange/IOReturn/(IOAudioStream*,constIOAudioStreamFormat*,constIOAudioStreamFormatExtension*,constIOAudioSampleRate*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="performFormatChange(IOAudioStream*,constIOAudioStreamFormat*,constIOAudioStreamFormatExtension*,constIOAudioSampleRate*)">performFormatChange(IOAudioStream *, const IOAudioStreamFormat *, const IOAudioStreamFormatExtension *, const IOAudioSampleRate *)</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">performFormatChange</span><!-- /a -->(
    <a href="../../../IOAudioStream_h/Classes/IOAudioStream/index.html#//apple_ref/cpp/cl/IOAudioStream" target="_top" class="type"><span class="type">IOAudioStream</span></a> <span class="type">*</span><span class="param">audioStream</span>,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioStreamFormat</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">newFormat</span><!-- /a -->,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioStreamFormatExtension</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">formatExtension</span><!-- /a -->,
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioSampleRate</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">newSampleRate</span><!-- /a -->); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method changes the sample format for the audio device with a format extension (optional). <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/registerService/void/(IOOptionBits);  indexgroup=Audio ;   name=IOAudioEngine::registerService --><a name="//apple_ref/cpp/instm/IOAudioEngine/registerService/void/(IOOptionBits)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="registerService">registerService</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Called when this audio engine is ready to begin vending services.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">registerService</span><!-- /a -->(
    <a href="../../../USB_h/index.html#//apple_ref/c/tag/IOOptionBits" target="_top" class="type"><span class="type">IOOptionBits</span></a> <!-- a --><span class="type">options</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>options</code></dt>
<dd> </dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is called by IOAudioDevice::activateAudioEngine() once the audio engine
has been fully initialized and is ready to begin audio playback.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/removeTimer/void/();  indexgroup=Audio ;   name=IOAudioEngine::removeTimer --><a name="//apple_ref/cpp/instm/IOAudioEngine/removeTimer/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="removeTimer">removeTimer</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Disables the timer event for the audio engine.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">removeTimer</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called automatically to disable the timer event for this audio engine.
There is need to call it directly.  This method is called by setState() when the audio engine state
is changed from kIOAudioEngineRunning to one of the stopped states.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/resetStatusBuffer/void/();  indexgroup=Audio ;   name=IOAudioEngine::resetStatusBuffer --><a name="//apple_ref/cpp/instm/IOAudioEngine/resetStatusBuffer/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="resetStatusBuffer">resetStatusBuffer</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Resets the status buffer to its default values.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">resetStatusBuffer</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This is called during startAudioEngine() and resumeAudioEngine() to clear out the status buffer
in preparation of starting up the I/O engine.  There is no need to call this directly.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setClockDomain/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setClockDomain --><a name="//apple_ref/cpp/instm/IOAudioEngine/setClockDomain/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setClockDomain">setClockDomain</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets a property that CoreAudio uses to determine how devices are synchronized.  If an audio device can tell that it is
synchronized to another engine, it should set this value to that engine's clock domain.  If an audio device can be a clock master, it may publish
its own clock domain for other devices to use.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setClockDomain</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">clockDomain</span><!-- /a --> = <span class="param">kIOAudioNewClockDomain</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>clockDomain</code></dt>
<dd><p>is the unique ID of another engine that this engine realizes it is synchronized to, use the default value kIOAudioNewClockDomain 
to have IOAudioEngine create a unique clock domain.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setClockIsStable/void/(bool);  indexgroup=Audio ;   name=IOAudioEngine::setClockIsStable --><a name="//apple_ref/cpp/instm/IOAudioEngine/setClockIsStable/void/(bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setClockIsStable">setClockIsStable</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>This function sets a flag that CoreAudio uses to select its sample rate tracking algorithm.  Set
this to TRUE unless that results in dropped audio.  If the driver is experiencing unexplained dropouts
setting this FALSE might help.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setClockIsStable</span><!-- /a -->(
    <!-- a --><span class="type">bool</span><!-- /a --> <span class="param">clockIsStable</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>clockIsStable</code></dt>
<dd><p>TRUE tells CoreAudio to use an agressive PLL to quickly lock to the engine's sample rate
while FALSE tells CoreAudio to adjust more slowly to perceived sample rate changes that might just be the
result of an unstable clock.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setDescription/void/(constchar*);  indexgroup=Audio ;   name=IOAudioEngine::setDescription --><a name="//apple_ref/cpp/instm/IOAudioEngine/setDescription/void/(constchar*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setDescription">setDescription</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setDescription</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">char</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">description</span><!-- /a -->); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function should be called to make the name of the I/O engine available to Audio HAL clients. <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setInputSampleLatency/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setInputSampleLatency --><a name="//apple_ref/cpp/instm/IOAudioEngine/setInputSampleLatency/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setInputSampleLatency">setInputSampleLatency</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setInputSampleLatency</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSamples</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the sample latency for an audio engine's input streams. <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setInputSampleOffset/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setInputSampleOffset --><a name="//apple_ref/cpp/instm/IOAudioEngine/setInputSampleOffset/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setInputSampleOffset(UInt32)">setInputSampleOffset(UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the offset CoreAudio will read from off the current read pointer
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setInputSampleOffset</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSamples</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>numSamples</code></dt>
<dd><p>size of offset in sample</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setInputSampleOffset/void/(UInt32)_DONTLINK_1;  indexgroup=Audio ;   name=IOAudioEngine::setInputSampleOffset --><a name="//apple_ref/cpp/instm/IOAudioEngine/setInputSampleOffset/void/(UInt32)_DONTLINK_1"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setInputSampleOffset(UInt32)">setInputSampleOffset(UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>set the offset CoreAudio will read from off the current read pointer
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setInputSampleOffset</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSamples</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>numSamples</code></dt>
<dd><p>size of offset in sample</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setMixClipOverhead/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setMixClipOverhead --><a name="//apple_ref/cpp/instm/IOAudioEngine/setMixClipOverhead/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setMixClipOverhead">setMixClipOverhead</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Used to tell IOAudioFamily when the watchdog timer must fire by.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setMixClipOverhead</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">newMixClipOverhead</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>newMixClipOverhead</code></dt>
<dd><p>How much time per buffer should be made available for the
mix and clip routines to run.  Valid values are 1 through 99, inclusive.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->return no error

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>setMixClipOverhead allows an audio engine to tell IOAudioFamily how much time
an engine will take to mix and clip its samples, in percent.
The default value is 10, meaning 10%.  This will cause IOAudioFamily to make
the watchdog timer fire when there is just over 10% of the time to complete
a buffer set left (e.g. 51 samples when the HAL is using a buffer size of 512
samples).
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setNumSampleFramesPerBuffer/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setNumSampleFramesPerBuffer --><a name="//apple_ref/cpp/instm/IOAudioEngine/setNumSampleFramesPerBuffer/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setNumSampleFramesPerBuffer">setNumSampleFramesPerBuffer</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setNumSampleFramesPerBuffer</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSampleFrames</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method should be called on subclass initialization to indicate the size of the
sample buffer (in terms of the number of frames). <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleLatency/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setOutputSampleLatency --><a name="//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleLatency/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setOutputSampleLatency">setOutputSampleLatency</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setOutputSampleLatency</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSamples</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the sample latency for an audio engine's output streams. <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleOffset/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setOutputSampleOffset --><a name="//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleOffset/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setOutputSampleOffset(UInt32)">setOutputSampleOffset(UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the offset CoreAudio will write at off the current write pointer
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setOutputSampleOffset</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSamples</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>numSamples</code></dt>
<dd><p>size of offset in sample</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleOffset/void/(UInt32)_DONTLINK_1;  indexgroup=Audio ;   name=IOAudioEngine::setOutputSampleOffset --><a name="//apple_ref/cpp/instm/IOAudioEngine/setOutputSampleOffset/void/(UInt32)_DONTLINK_1"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setOutputSampleOffset(UInt32)">setOutputSampleOffset(UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>set the offset CoreAudio will write at off the current write pointer
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setOutputSampleOffset</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSamples</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>numSamples</code></dt>
<dd><p>size of offset in sample</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setRunEraseHead/void/(bool);  indexgroup=Audio ;   name=IOAudioEngine::setRunEraseHead --><a name="//apple_ref/cpp/instm/IOAudioEngine/setRunEraseHead/void/(bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setRunEraseHead">setRunEraseHead</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Tells the audio engine whether or not to run the erase head.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setRunEraseHead</span><!-- /a -->(
    <!-- a --><span class="type">bool</span><!-- /a --> <span class="param">runEraseHead</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>runEraseHead</code></dt>
<dd><p>The audio engine will run the erase head if this value is true.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>By default, output audio engines run the erase head and input audio engines do not.  This method can
be called after setDirection() is called in order to change the default behavior.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setSampleLatency/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setSampleLatency --><a name="//apple_ref/cpp/instm/IOAudioEngine/setSampleLatency/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setSampleLatency">setSampleLatency</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the sample latency for the audio engine.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setSampleLatency</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSamples</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The sample latency represents the number of samples ahead of the playback head
that it is safe to write into the sample buffer.  The audio device API will never write
closer to the playback head than the number of samples specified.  For input audio engines
the number of samples is behind the record head.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setSampleOffset/void/(UInt32);  indexgroup=Audio ;   name=IOAudioEngine::setSampleOffset --><a name="//apple_ref/cpp/instm/IOAudioEngine/setSampleOffset/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setSampleOffset">setSampleOffset</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setSampleOffset</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">numSamples</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the sample offet for an audio engine. <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setSampleRate/void/(constIOAudioSampleRate*);  indexgroup=Audio ;   name=IOAudioEngine::setSampleRate --><a name="//apple_ref/cpp/instm/IOAudioEngine/setSampleRate/void/(constIOAudioSampleRate*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setSampleRate">setSampleRate</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Records the sample rate of the audio engine.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setSampleRate</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">IOAudioSampleRate</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">newSampleRate</span><!-- /a -->); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>newSampleRate</code></dt>
<dd><p>The sample rate of the audio engine in samples per second.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method must be called during initialization of a new audio engine to record the audio engine's
initial sample rate.  It also is intended to be used to record changes to the sample rate during use.
Currently changing sample rates after the audio engine has been started is not supported.
It may require that the sample buffers be re-sized.  This will be available in an upcoming release.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/setState/IOAudioEngineState/(IOAudioEngineState);  indexgroup=Audio ;   name=IOAudioEngine::setState --><a name="//apple_ref/cpp/instm/IOAudioEngine/setState/IOAudioEngineState/(IOAudioEngineState)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setState">setState</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Indicates that the audio engine is in the specified state.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOAudioTypes_h/index.html#//apple_ref/c/tdef/IOAudioEngineState" target="_top" class="type"><span class="type">IOAudioEngineState</span></a> <!-- a --><span class="function">setState</span><!-- /a -->(
    <a href="../../../IOAudioTypes_h/index.html#//apple_ref/c/tdef/IOAudioEngineState" target="_top" class="type"><span class="type">IOAudioEngineState</span></a> <span class="param">newState</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>newState</code></dt>
<dd><p>The state the audio engine is in.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the old state.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method simply sets the internal state of the audio engine to the specified state.  It does not
affect a change to the state.  It does however keep other internal state-related attributes consistent.
For example, it enables or disables the timer as needed when the state changes to running or stopped.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/start/bool/(IOService*);  indexgroup=Audio ;   name=IOAudioEngine::start --><a name="//apple_ref/cpp/instm/IOAudioEngine/start/bool/(IOService*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="start(IOService*)">start(IOService *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>A simple cover function for start(IOService *, IOAudioDevice *) that assumes the provider
is the IOAudioDevice.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">start</span><!-- /a -->(
    <a href="../../../IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">provider</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>provider</code></dt>
<dd><p>The service provider for the IOAudioEngine (the IOAudioDevice in this case).</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the IOAudioEngine was successfully started.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Subclasses will want to override start(IOService *, IOAudioDevice *) rather than this
one.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/start/bool/(IOService*,IOAudioDevice*);  indexgroup=Audio ;   name=IOAudioEngine::start --><a name="//apple_ref/cpp/instm/IOAudioEngine/start/bool/(IOService*,IOAudioDevice*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="start(IOService*,IOAudioDevice*)">start(IOService *, IOAudioDevice *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Standard IOKit start() routine called to start an IOService
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">start</span><!-- /a -->(
    <a href="../../../IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">provider</span>,
    <a href="../../../IOAudioDevice_h/Classes/IOAudioDevice/index.html#//apple_ref/cpp/cl/IOAudioDevice" target="_top" class="type"><span class="type">IOAudioDevice</span></a> <span class="type">*</span><span class="param">device</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>provider</code></dt>
<dd><p>The service provider for the IOAudioEngine.</p></dd>
<dt><code>device</code></dt>
<dd><p>The IOAudioDevice to which this IOAudioEngine belongs.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the service was successfully started.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is called in order to prepare the IOAudioEngine for use.  It does NOT
mean that the audio I/O engine itself should be started.  This implementation gets the IOWorkLoop
from the IOAudioDevice and allocates an IOCommandGate.  Finally it calls initHardware() in which
all of the subclass-specific device initialization should be done.  Upon return from initHardware()
all IOAudioStreams should be created and added to the audio engine.  Also, all IOAudioControls
for this IOAudioEngine should be created and attached.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/startAudioEngine/IOReturn/();  indexgroup=Audio ;   name=IOAudioEngine::startAudioEngine --><a name="//apple_ref/cpp/instm/IOAudioEngine/startAudioEngine/IOReturn/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="startAudioEngine">startAudioEngine</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Starts the audio I/O engine.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">startAudioEngine</span><!-- /a -->(); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Must return kIOReturnSuccess on a successful start of the engine.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called automatically when the audio engine is placed into use the first time.
This must be overridden by the subclass.  No call to the superclass's implementation is
necessary.  The subclass's implementation must start up the audio I/O engine.  This includes any audio
engine that needs to be started as well as any interrupts that need to be enabled.  Upon successfully
starting the engine, the subclass's implementation must call setState(kIOAudioEngineRunning).  If
it has also checked the state using getState() earlier in the implementation, the stateLock must be
acquired for the entire initialization process (using IORecursiveLockLock(stateLock) and
IORecursiveLockUnlock(stateLock)) to ensure that the state remains consistent.  See the general class
comments for an example.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/stop/void/(IOService*);  indexgroup=Audio ;   name=IOAudioEngine::stop --><a name="//apple_ref/cpp/instm/IOAudioEngine/stop/void/(IOService*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="stop">stop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Stops the service and prepares for the driver to be terminated.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">stop</span><!-- /a -->(
    <a href="../../../IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">provider</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>provider</code></dt>
<dd><p>The service provider for the IOAudioEngine.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is called before the driver is terminated and usually means that the device
has been removed from the system.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/stopAudioEngine/IOReturn/();  indexgroup=Audio ;   name=IOAudioEngine::stopAudioEngine --><a name="//apple_ref/cpp/instm/IOAudioEngine/stopAudioEngine/IOReturn/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="stopAudioEngine">stopAudioEngine</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Stops the audio I/O engine.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">stopAudioEngine</span><!-- /a -->(); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Must return kIOReturnSuccess on a successful stop of the engine.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called automatically when the last client disconnects from this audio engine.
This method calls <code><a href="index.html#//apple_ref/cpp/instm/IOAudioEngine/performAudioEngineStop/IOReturn/()" target="_top">performAudioEngineStop</a></code>, which you must override in your
subclass.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/takeTimeStamp/void/(bool,AbsoluteTime*);  indexgroup=Audio ;   name=IOAudioEngine::takeTimeStamp --><a name="//apple_ref/cpp/instm/IOAudioEngine/takeTimeStamp/void/(bool,AbsoluteTime*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="takeTimeStamp">takeTimeStamp</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">takeTimeStamp</span><!-- /a -->(
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">incrementLoopCount</span><!-- /a --> = <span class="keyword">true</span>,
    <!-- a --><span class="type">AbsoluteTime</span><!-- /a --> <span class="type">*</span><!-- a --><span class="type">timestamp</span><!-- /a --> = <span class="keyword">NULL</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Takes a time stamp.  This function should be called each time the ring buffer wraps around.  The optional
<code>timestamp</code> argument can be used to specify a time other than the current time.  This can be
used in cases where the ring buffer has wrapped around at some time in the past and the actual time stamp
must be calculated or determined through other means. <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IOAudioEngine/timerCallback/void/(OSObject*,IOAudioDevice*);  indexgroup=Audio ;   name=IOAudioEngine::timerCallback --><a name="//apple_ref/cpp/clm/IOAudioEngine/timerCallback/void/(OSObject*,IOAudioDevice*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="timerCallback">timerCallback</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>A static method used as a callback for the IOAudioDevice timer services.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">timerCallback</span><!-- /a -->(
    <a href="../../../OSObject_h/Classes/OSObject/index.html#//apple_ref/cpp/cl/OSObject" target="_top" class="type"><span class="type">OSObject</span></a> <span class="type">*</span><span class="param">arg1</span>,
    <a href="../../../IOAudioDevice_h/Classes/IOAudioDevice/index.html#//apple_ref/cpp/cl/IOAudioDevice" target="_top" class="type"><span class="type">IOAudioDevice</span></a> <span class="type">*</span><span class="param">device</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>arg1</code></dt>
<dd><p>The IOAudioEngine that is the target of the event.</p></dd>
<dt><code>device</code></dt>
<dd><p>The IOAudioDevice that sent the timer event.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method implements the IOAudioDevice::TimerEvent type.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOAudioEngine/timerFired/void/();  indexgroup=Audio ;   name=IOAudioEngine::timerFired --><a name="//apple_ref/cpp/instm/IOAudioEngine/timerFired/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="timerFired">timerFired</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Indicates the timer has fired.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">timerFired</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method is called by timerCallback to indicate the timer has fired.  This method calls performErase() and performFlush() to do erase head processing and
audio engine flushing each time the timer event fires.
<!-- end discussion -->
</p>
<p></p>
<h2>Member Data</h2>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/audioDevice;  indexgroup=Audio ;   name=IOAudioEngine::audioDevice --><a name="//apple_ref/cpp/data/IOAudioEngine/audioDevice"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="audioDevice">audioDevice</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOAudioDevice_h/Classes/IOAudioDevice/index.html#//apple_ref/cpp/cl/IOAudioDevice" target="_top" class="type"><span class="type">IOAudioDevice</span></a> <span class="type">*</span> <!-- a --><span class="var">audioDevice</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The IOAudioDevice instance to which the IOAudioEngine belongs.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/audioEngineStopPosition;  indexgroup=Audio ;   name=IOAudioEngine::audioEngineStopPosition --><a name="//apple_ref/cpp/data/IOAudioEngine/audioEngineStopPosition"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="audioEngineStopPosition">audioEngineStopPosition</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../index.html#//apple_ref/c/tdef/IOAudioEnginePosition" target="_top" class="type"><span class="type">IOAudioEnginePosition</span></a> <!-- a --><span class="var">audioEngineStopPosition</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>When all clients have disconnected, this is set to one buffer length past the
current audio engine position at the time.  Then when the stop position is reached, the audio engine
is stopped<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/commandGate;  indexgroup=Audio ;   name=IOAudioEngine::commandGate --><a name="//apple_ref/cpp/data/IOAudioEngine/commandGate"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="commandGate">commandGate</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOCommandGate_h/Classes/IOCommandGate/index.html#//apple_ref/cpp/cl/IOCommandGate" target="_top" class="type"><span class="type">IOCommandGate</span></a> <span class="type">*</span><!-- a --><span class="var">commandGate</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The IOCommandGate for this audio engine - attached to the driver's IOWorkLoop.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/configurationChangeInProgress;  indexgroup=Audio ;   name=IOAudioEngine::configurationChangeInProgress --><a name="//apple_ref/cpp/data/IOAudioEngine/configurationChangeInProgress"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="configurationChangeInProgress">configurationChangeInProgress</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="var">configurationChangeInProgress</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Set to true after beginConfigurationChange() and false upon a 
subsequent call to completeConfigurationChange() or cancelConfigurationChange().<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/defaultAudioControls;  indexgroup=Audio ;   name=IOAudioEngine::defaultAudioControls --><a name="//apple_ref/cpp/data/IOAudioEngine/defaultAudioControls"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="defaultAudioControls">defaultAudioControls</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../OSSet_h/Classes/OSSet/index.html#//apple_ref/cpp/cl/OSSet" target="_top" class="type"><span class="type">OSSet</span></a> <span class="type">*</span><!-- a --><span class="var">defaultAudioControls</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>All of the IOAudioControls that affect this audio engine.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/deviceStartedAudioEngine;  indexgroup=Audio ;   name=IOAudioEngine::deviceStartedAudioEngine --><a name="//apple_ref/cpp/data/IOAudioEngine/deviceStartedAudioEngine"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="deviceStartedAudioEngine">deviceStartedAudioEngine</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="var">deviceStartedAudioEngine</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Used by the IOAudioDevice to determine responsibility for shutting
the audio engine down when it is no longer needed.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=clconst;  uid=//apple_ref/cpp/clconst/IOAudioEngine/gSampleRateFractionKey;  indexgroup=Audio ;   name=IOAudioEngine::gSampleRateFractionKey --><a name="//apple_ref/cpp/clconst/IOAudioEngine/gSampleRateFractionKey"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="gSampleRateFractionKey">gSampleRateFractionKey</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <span class="keyword">const</span> <!-- a --><span class="var">OSSymbol</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">gSampleRateFractionKey</span><!-- /a -->; </pre>
<p></p>
<hr>
<!-- headerDoc=clconst;  uid=//apple_ref/cpp/clconst/IOAudioEngine/gSampleRateWholeNumberKey;  indexgroup=Audio ;   name=IOAudioEngine::gSampleRateWholeNumberKey --><a name="//apple_ref/cpp/clconst/IOAudioEngine/gSampleRateWholeNumberKey"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="gSampleRateWholeNumberKey">gSampleRateWholeNumberKey</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <span class="keyword">const</span> <!-- a --><span class="var">OSSymbol</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">gSampleRateWholeNumberKey</span><!-- /a -->; </pre>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/inputStreams;  indexgroup=Audio ;   name=IOAudioEngine::inputStreams --><a name="//apple_ref/cpp/data/IOAudioEngine/inputStreams"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="inputStreams">inputStreams</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../OSOrderedSet_h/Classes/OSOrderedSet/index.html#//apple_ref/cpp/cl/OSOrderedSet" target="_top" class="type"><span class="type">OSOrderedSet</span></a> <span class="type">*</span><!-- a --><span class="var">inputStreams</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>An OSSet of all of the input IOAudioStreams attached to this IOAudioEngine.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/isRegistered;  indexgroup=Audio ;   name=IOAudioEngine::isRegistered --><a name="//apple_ref/cpp/data/IOAudioEngine/isRegistered"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="isRegistered">isRegistered</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="var">isRegistered</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Internal state variable to keep track or whether registerService() has been called.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/numActiveUserClients;  indexgroup=Audio ;   name=IOAudioEngine::numActiveUserClients --><a name="//apple_ref/cpp/data/IOAudioEngine/numActiveUserClients"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="numActiveUserClients">numActiveUserClients</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="var">numActiveUserClients</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>A total of the active user clients - those that are currently playing or 
recording audio.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/numErasesPerBuffer;  indexgroup=Audio ;   name=IOAudioEngine::numErasesPerBuffer --><a name="//apple_ref/cpp/data/IOAudioEngine/numErasesPerBuffer"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="numErasesPerBuffer">numErasesPerBuffer</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="var">numErasesPerBuffer</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The number of times the erase head get scheduled to run for each 
cycle of the audio engine.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/numSampleFramesPerBuffer;  indexgroup=Audio ;   name=IOAudioEngine::numSampleFramesPerBuffer --><a name="//apple_ref/cpp/data/IOAudioEngine/numSampleFramesPerBuffer"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="numSampleFramesPerBuffer">numSampleFramesPerBuffer</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="var">numSampleFramesPerBuffer</span><!-- /a -->; </pre>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/outputStreams;  indexgroup=Audio ;   name=IOAudioEngine::outputStreams --><a name="//apple_ref/cpp/data/IOAudioEngine/outputStreams"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="outputStreams">outputStreams</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../OSOrderedSet_h/Classes/OSOrderedSet/index.html#//apple_ref/cpp/cl/OSOrderedSet" target="_top" class="type"><span class="type">OSOrderedSet</span></a> <span class="type">*</span><!-- a --><span class="var">outputStreams</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>An OSSet of all of the output IOAudioStreams attached to this IOAudioEngine.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/runEraseHead;  indexgroup=Audio ;   name=IOAudioEngine::runEraseHead --><a name="//apple_ref/cpp/data/IOAudioEngine/runEraseHead"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="runEraseHead">runEraseHead</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="var">runEraseHead</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Set to true if the erase head is to run when the audio engine is running.  This is the case if there are any output streams.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/sampleRate;  indexgroup=Audio ;   name=IOAudioEngine::sampleRate --><a name="//apple_ref/cpp/data/IOAudioEngine/sampleRate"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="sampleRate">sampleRate</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOAudioTypes_h/index.html#//apple_ref/c/tdef/IOAudioSampleRate" target="_top" class="type"><span class="type">IOAudioSampleRate</span></a> <!-- a --><span class="var">sampleRate</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The current sample rate of the audio engine in samples per second.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/state;  indexgroup=Audio ;   name=IOAudioEngine::state --><a name="//apple_ref/cpp/data/IOAudioEngine/state"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="state">state</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOAudioTypes_h/index.html#//apple_ref/c/tdef/IOAudioEngineState" target="_top" class="type"><span class="type">IOAudioEngineState</span></a> <!-- a --><span class="var">state</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The current state of the IOAudioEngine - running, stopped, paused.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/status;  indexgroup=Audio ;   name=IOAudioEngine::status --><a name="//apple_ref/cpp/data/IOAudioEngine/status"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="status">status</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOAudioTypes_h/index.html#//apple_ref/c/tdef/IOAudioEngineStatus" target="_top" class="type"><span class="type">IOAudioEngineStatus</span></a> <span class="type">*</span> <!-- a --><span class="var">status</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Status struct shared with the CoreAudio.framework.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/userClients;  indexgroup=Audio ;   name=IOAudioEngine::userClients --><a name="//apple_ref/cpp/data/IOAudioEngine/userClients"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="userClients">userClients</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../OSSet_h/Classes/OSSet/index.html#//apple_ref/cpp/cl/OSSet" target="_top" class="type"><span class="type">OSSet</span></a> <span class="type">*</span><!-- a --><span class="var">userClients</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>An OSSet of all of the currently connected user clients.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IOAudioEngine/workLoop;  indexgroup=Audio ;   name=IOAudioEngine::workLoop --><a name="//apple_ref/cpp/data/IOAudioEngine/workLoop"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="workLoop">workLoop</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOWorkLoop_h/Classes/IOWorkLoop/index.html#//apple_ref/cpp/cl/IOWorkLoop" target="_top" class="type"><span class="type">IOWorkLoop</span></a> <span class="type">*</span><!-- a --><span class="var">workLoop</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The IOWorkLoop for the audio driver - shared with the IOAudioDevice.<!-- end discussion -->
</p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOAudioEngine_h/Classes/IOAudioEngine/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOAudioEngine_h/Classes/IOAudioEngine/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOAudioEngine_h/Classes/IOAudioEngine/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</div>
<!-- headerDoc=cl; uid=//apple_ref/cpp/cl/IOAudioEngine; indexgroup=Audio ; name=IOAudioEngine--><a name="//apple_ref/cpp/cl/IOAudioEngine"></a>
</body>
</html>
