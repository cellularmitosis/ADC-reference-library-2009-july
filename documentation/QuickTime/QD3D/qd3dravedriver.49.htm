<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Color Lookup Table Methods</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=59571"> </A>Color Lookup Table Methods</H1><P CLASS="T1.Text1"><A NAME="pgfId=59572"> </A>To write a drawing engine, you might need to implement several private methods for creating and disposing of color lookup tables. Pointers to your drawing engine's color lookup table methods are returned to QuickDraw&nbsp;3D RAVE by your <TT CLASS="cv">TQAEngineGetMethod</TT> method. See page&nbsp;<A HREF="qd3dgeometry.34.htm#34505" CLASS="XRef">[link]</A> for details.</P><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=59676"> </A>TQAColorTableNew</H2><P CLASS="T1.Text1"><A NAME="pgfId=59682"> </A><A NAME="marker=59680"> </A><A NAME="marker=59681"> </A>A drawing engine may define a method to create a new color lookup table. This method is optional and must be supported only by drawing engines that support color lookup tables.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=69447"> </A>typedef TQAError (*TQAColorTableNew) (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQAColorTableType pixelType, <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void *pixelData, <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long transparentIndex, <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQAColorTable **newTable);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=69449"> </A><TT CLASS="cv">pixelType</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=59623"> </A>The type of the new color lookup table. See <A HREF="qd3dravedriver.17.htm#40903" CLASS="XRef">&quot;Color Lookup Table Types&quot;</A> for information on the available color lookup table types.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=69458"> </A><TT CLASS="cv">pixelData</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=59625"> </A>A pointer to the color lookup table entries.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=69467"> </A><TT CLASS="cv">transparentIndexFlag</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=59626"> </A> A long integer, interpreted as a Boolean value, that indicates whether the color lookup table entry at index 0 is completely transparent (<TT CLASS="cv">TRUE</TT>) or not (<TT CLASS="cv">FALSE</TT>).</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=69477"> </A><TT CLASS="cv">newTable</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=59627"> </A>On entry, the address of a pointer variable. On exit, set that variable to point to a new color lookup table. If a new color lookup table cannot be created, set <TT CLASS="cv">*newTable</TT> to the value <TT CLASS="cv">NULL</TT>.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=59628"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=59629"> </A>Your <TT CLASS="cv">TQAColorTableNew</TT> function is called whenever an application calls <TT CLASS="cv">QAColorTableNew</TT>. Your function should return, in the buffer pointed to by the <TT CLASS="cv">newTable</TT> parameter, a pointer to a new color lookup table of the type specified by the <TT CLASS="cv">pixelType</TT> parameter. The color table data is passed to your function in the <TT CLASS="cv">pixelData</TT> parameter. Your method should copy that data so that the caller can dispose of the memory it occupies.</P><P CLASS="I.Important"><A NAME="pgfId=59633"> </A>Currently, QuickDraw&nbsp;3D RAVE supports only 32-bit RGB color lookup table entries. Your drawing engine might reduce the size of individual color lookup table entries to fit into its on-board memory. </P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=59724"> </A>SPECIAL CONSIDERATIONS</H3><P CLASS="T1.Text1"><A NAME="pgfId=59640"> </A>Not all drawing engines need to support color lookup tables, but QuickDraw&nbsp;3D RAVE does not provide color lookup table emulation for engines that do not support them.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=59650"> </A>TQAColorTableDelete</H2><P CLASS="T1.Text1"><A NAME="pgfId=59741"> </A>A drawing engine may define a method to dispose of color lookup table. This method is optional and must be supported only by drawing engines that support color lookup tables.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=69488"> </A>typedef void (*TQAColorTableDelete) (TQAColorTable *colorTable);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=69490"> </A><TT CLASS="cv">colorTable</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=59672"> </A>A color lookup table.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=59673"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=59656"> </A>Your <TT CLASS="cv">TQAColorTableDelete</TT> function is called whenever an application calls <TT CLASS="cv">QAColorTableDelete</TT>. Your function should delete the color lookup table specified by the <TT CLASS="cv">colorTable</TT> parameter. Any memory and other resources associated with that color lookup table should be released.<A NAME="marker=59750"> </A><A NAME="marker=59751"> </A></P></DIV></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>