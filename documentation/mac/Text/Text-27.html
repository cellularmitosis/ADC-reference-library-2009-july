<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Components of a Script System(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING27></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-26.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-28.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-13.html"><B>Chapter 1 - Introduction to Text on the Macintosh</B></A> / <A HREF="Text-24.html"><B>Writing Systems and Script Systems</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING27-0></A>
<H2><A NAME=MARKER-9-208></A>Components of a Script System</H2>
 <A NAME=MARKER-2-74></A>The Macintosh script management system, as described in the previous section, is designed to manipulate text according to information contained in script systems. This section describes how script systems are organized.<P>
 A Macintosh script system is a collection of resources, mostly tables of data, that defines the behavior of a particular writing system. The script system specifies the character set, sorting orders, date and number formats, line direction, character reordering, accent placement, and other writing-system-specific features. Your application uses the information in a script system when it makes a script-aware text-handling call, and it can also access the resources of a script system directly, to inspect or modify its behavior.<P>
 Each Macintosh script system consists of a set of international resources and a set of keyboard resources. In addition, a script system requires one or more fonts in order to display its text. A script system may also have a control panel device through which the user can configure the individual characteristics of the script at any time.<P>
 Resources in general are described in the chapter "Resource Manager," in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>.<P>
<A NAME=HEADING27-5></A>
<H3>International Resources</H3>
 <A NAME=MARKER-2-137></A>The international resources are a set of Macintosh resources that specify text handling and display information for a particular writing system, language, or region. Such information includes number and currency formats, long and short date formats, preferred sorting order, character type, case conversion, and word-boundary information.<P>
 <A HREF=#MARKER-9-1>Table 1-1</A> lists the international resources, shows their resource types, and summarizes their contents.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-1></A>The international resources (Continued)</CAPTION>
<TH>Name<TH>Resource type<TH>Content<TR>
<TD>International configuration<TD>'itlc'<TD>Configuration of the system script, plus Script Manager flags, and the region code for the system script<TR>
<TD>Script sorting<TD>'itlm'<TD>Tables showing sorting order and mapping among script systems, languages, and regions<TR>
<TD>International bundle<TD>'itlb'<TD>IDs of all required resources for a script system, plus bit flags, default language, and other settings<TR>
<TD>Numeric format<TD>'itl0'<TD>Number and currency formats, short date and time formats, unit of measurement for a script system, plus a region code<TR>
<TD>Long-date format<TD>'itl1'<TD>Long date and time formats, names of days and months for a script system, plus a region code<TR>
<TD>String manipulation<TD>'itl2'<TD>Sorting routines, tables for character type, case conversion, and word boundaries for a script system<TR>
<TD>Tokens<TD>'itl4'<TD>Tables and code for converting characters to tokens and back in a script system, and for formatting numbers<TR>
<TD>Encoding/rendering<TD>'itl5'<TD>Tables for character rendering (for 1-byte script systems); tables for character encoding (for 2-byte script systems)<TR>
<TD>Transliteration<TD>'trsl'<TD>Tables for phonetic conversion among subscripts of a 2-byte script system</TABLE>
<P>
 International resources reside in the resource fork of the Macintosh System file. However, not every installed script system requires a complete set of them:<P>
<UL>
<LI>There is only one international configuration resource for each Macintosh System file, and its resource ID is 0. It configures the system and defines the system script.
<LI>There is only one script-sorting resource for each Macintosh System file, and its resource ID is 0. It does not belong to any script system.
<LI>Each installed script has one international bundle resource. Its resource ID is the script code of the script system it implements.
<LI>Each installed script system has one or more numeric-format, long-date-format, string-manipulation, and tokens resources. Their resource IDs are in a range that defines the script system they belong to; see <A HREF=Text-28.html#MARKER-9-239>Figure 1-35 on page 1-50</A>.
<LI>A script system may have one or more optional encoding/rendering and transliteration resources.Their resource IDs are also in a range that defines the script system they belong to.<P>
</UL>
 A single script system may have multiple localized versions of its <CODE>'itl0'</CODE>, <CODE>'itl1'</CODE>, <CODE>'itl2'</CODE>, <CODE>'itl4'</CODE>, <CODE>'itl5'</CODE>, and <CODE>'trsl'</CODE> resources, in order to represent different languages or regional variations of the script. You can manipulate text in different formats within that script system by switching among the multiple versions of the resources. See <A HREF=Text-37.html#MARKER-9-475>"Installing Modifications to a Script System" beginning on page 1-103</A>.<P>
 See the appendix "International Resources" in this book for more information on international resources.<A NAME=MARKER-2-131></A><P>
<A NAME=HEADING27-16></A>
<H3>Keyboard Resources</H3>
 <A NAME=MARKER-2-138></A>The keyboard resources are a set of Macintosh resources that specify how keyboard input is converted to text for a particular writing system, language, or region. The Event Manager, the Script Manager, and the Menu Manager use the information in these resources to convert keypresses to character codes, to switch input among different script systems, and to display the icon of the current keyboard in the Keyboard menu. The Resource Manager, the Event Manager and the Menu Manager are described in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>; the Resource Manager is described <BR>in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>.<P>
 <A HREF=#MARKER-9-3>Table 1-2</A> lists the keyboard resources, shows their resource types, and summarizes <BR>their purpose.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-3></A>The keyboard resources (Continued)</CAPTION>
<TH>Name<TH>Resource type<TH>Content<TR>
<TD>Key map<TD>'KMAP'<TD>Maps hardware-dependent raw key codes to hardware-independent virtual key codes<TR>
<TD>Key remap<TD>'itlk'<TD>Remaps some virtual key codes from certain keyboards for use by some keyboard-layout resources<TR>
<TD>Keyboard layout<TD>'KCHR'<TD>Maps virtual key codes to character codes; represents the character set for a script system<TR>
<TD>Keyboard icons<TD>'kcs#'<TD>Keyboard icon list for black-and-white icon display in the Keyboard menu<TR>
<TD>&nbsp;<TD>'kcs4'<TD>Keyboard icon list for 4-bit color/gray-scale icon display in the Keyboard menu<TR>
<TD>&nbsp;<TD>'kcs8'<TD>Keyboard icon list for 8-bit color/gray-scale icon display in the Keyboard menu<TR>
<TD>Keyboard swap<TD>'KSWP'<TD>Specifies modifier-plus-key combinations to let the user change keyboard layout, keyboard script, or input method<TR>
<TD>Key caps<TD>'KCAP'<TD>Determines keyboard display for a given physical keyboard (in Key Caps desk accessory)</TABLE>
<P>
 Keyboard resources reside in the resource fork of the Macintosh System file. Some are script-related, but others are hardware-related and script-independent:<P>
<UL>
<LI>There is only one keyboard-swap resource per Macintosh System file. Because it specifies how to switch among script systems, it does not belong to any script system. Its resource ID is 0.
<LI>There is one key-map resource that supports most types of physical keyboards. Some keyboards need their own key-map resource, in which case the key-map resource ID is equal to the ID number of the keyboard it is associated with.
<LI>There is one key-caps resource for each type of physical keyboard available. It is independent of any script system. Its resource ID is equal to the ID number of the keyboard it is associated with.
<LI>There are one or more keyboard-layout resources per script system. There are one or more families of keyboard icon resources per script system (one per keyboard layout resource or input method). The resource ID for each keyboard-layout resource is in a range that defines the script system it belongs to; see <A HREF=Text-28.html#MARKER-9-239>Figure 1-35 on page 1-50</A>. The resource ID for each keyboard icon family is equal to the ID of its associated keyboard-layout resource.
<LI>There is one key-remap resource for each keyboard-layout resource that needs one. Its resource ID is equal to the ID number of its associated keyboard-layout resource.<P>
</UL>
 See the appendix "Keyboard Resources" in this book for more information.<A NAME=MARKER-2-48></A><P>
<A NAME=HEADING27-26></A>
<H3><A NAME=MARKER-9-214></A>Fonts</H3>
 <A NAME=MARKER-2-141></A>A font is not technically part of a script system. The script's international bundle resource does not have to specify any particular font resource IDs, and even if it does, their presence is not guaranteed. Nevertheless, no script system can be used unless one or more fonts accompany it.<P>
 A Macintosh font implements the character set and other written forms such as ligatures for a given script system. Each font contains a particular set of glyphs that share certain design characteristics. Those glyphs constitute a typeface, and the typeface has a name, such as Times, Helvetica<Superscript>\xC6<EM></EM>, or Kyoto. A font may be a plain implementation of a typeface, or it may be styled--such as bold or italic. (QuickDraw can also <I>produce</I> styled versions of the characters of a typeface from a plain font.)<P>
 Glyphs in a font represent each of the characters of a character set. Additional glyphs may be present to represent ligatures, and other contextual forms. In some fonts there may be more contextual glyphs than character glyphs.<P>
 A font maps character codes to glyphs, and may contain tables that map special glyph codes to the glyphs of contextual forms. When laying out and drawing text, the script management system uses information in the font to convert character codes in memory to a properly formatted series of glyphs on the screen or on the page.<P>
 <A NAME=MARKER-2-534></A>Macintosh fonts are either bitmapped (meaning that each glyph is a single bitmap) or outline (meaning that each glyph is a mathematical outline that is size-independent). A bitmapped font contains a single set of glyphs at a fixed size, whereas one outline font can produce glyphs of any size.<P>
 Fonts are either 1-byte--meaning that they have glyphs for 256 or fewer characters--or 2-byte, meaning that they can have glyphs for thousands of characters. The 1-byte fonts represent character codes that are 1 byte long, and include all fonts of the Roman script system. The 2-byte fonts represent character codes that are 1 byte or 2 bytes long, and include fonts of the Chinese, Japanese, and Korean script systems. The script management system supports 2-byte fonts, and can correctly handle mixtures of 1-byte and 2-byte characters in text.<P>
 Each font is a Macintosh resource. For ease of reference, fonts are grouped into <A NAME=MARKER-2-63></A><B>font families</B> (resource type <CODE>'FOND'</CODE>). Each family consists of all the available sizes and styled variations of a single named typeface. For example, "Courier 10", "Courier 12 Italic", and "Courier Semibold" could be two bitmapped fonts and one outline font belonging to the single font family "Courier". Whenever you supply a font ID to a script management call, it is the <CODE>'FOND'</CODE> resource ID that you supply (unless you supply the special font designators 0 or 1; see <A HREF=Text-31.html#MARKER-9-304>page 1-61</A>).<P>
 As with other script-related resources, the ID numbers for fonts are in a range that defines the script system they belong to. See, for example, <A HREF=Text-28.html#MARKER-9-239>Figure 1-35 on page 1-50</A>. In fact, the script management system relies fundamentally on font family ID to determine the script system associated with any text that is to be manipulated or drawn.<P>
 See the section <A HREF=Text-31.html#MARKER-9-297>"Font Handling" beginning on page 1-60</A> of this chapter for more information and programming suggestions involving fonts. See the chapter "Font Manager" for more specific information on font structure and use. For more complete information on both 1-byte and 2-byte TrueType fonts, see <I>The TrueType Font Format Specification,</I> available from APDA.<A NAME=MARKER-2-140></A>   <A NAME=MARKER-2-57></A>   <A NAME=MARKER-2-21></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-26.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-28.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
