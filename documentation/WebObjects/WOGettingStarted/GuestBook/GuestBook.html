<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects for Windows Developers (Legacy): Creating a Simple  WebObjects Application</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating a Simple  WebObjects Application"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001016-CH203" title="Creating a Simple  WebObjects Application"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../LegacyTechnologies/InternetWeb-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000526" target="_top">Internet &amp; Web</a> &gt; <a href="../Preface/Preface.html#//apple_ref/doc/uid/TP30001016-CH202-DontLinkElementID_77">WebObjects for Windows Developers (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Preface/Preface.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../GuestBookPlus/GuestBookPlus.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30001016-CH203-DontLinkElementID_68" title="Creating a Simple  WebObjects Application"></a><h1><a name="//apple_ref/doc/uid/TP30001016-CH203-BCIFBBIG" title="Creating a Simple  WebObjects Application"></a>Creating a Simple  WebObjects Application</h1><p>This chapter introduces you to the basic concepts and procedures of developing WebObjects applications. You’ll develop, in stages, a simple application for the World Wide Web. The application you’ll write is called GuestBook.</p><p>When you’ve finished the steps in this chapter, your application will have a single web page containing a form that allows users to enter their names,  e-mail addresses, and comments. When the form is submitted, the application redraws the page with the user’s information at the bottom.</p><br/><div><img src = "../art/runningapp.gif" alt = "image: ../art/runningapp.gif" width="527" height="459"></div><br/><p>In <span class="content_text"><a href="../GuestBookPlus/GuestBookPlus.html#//apple_ref/doc/uid/TP30001016-CH204-BCIBIIHJ">“Enhancing Your Application,”</a></span> you will add features to the application, including a second page, a table that displays information from multiple users, and hyperlinks.</p><p>This application illustrates the basic techniques you use to create a WebObjects application. You’ll use two primary tools, Project Builder and WebObjects Builder. </p><p>Project Builder is an integrated software-development application. It contains a project browser, a code editor, build and debugging support, and many other features needed to develop an application. In this tutorial, you’ll learn to use Project Builder to:</p><ul class="ul"><li class="li"><p>Create a new WebObjects application project.</p></li><li class="li"><p>Write custom Java code to provide behavior in your application.</p></li><li class="li"><p>Build and launch your application.</p></li></ul><p>WebObjects Builder is an application that provides graphical tools for creating dynamic web pages (components). A web page consists of elements. WebObjects Builder allows you to add most of the common HTML elements to a component by using its graphical editing tools. In addition, WebObjects allows you to create dynamic elements, whose look and behavior are determined at runtime. You’ll learn to use WebObjects Builder to:</p><ul class="ul"><li class="li"><p>Create static content for your pages.</p></li><li class="li"><p>Add dynamic elements to your pages.</p></li><li class="li"><p>Bind the dynamic elements to variables and methods in your code.</p></li></ul>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="GuestBook.html#//apple_ref/doc/uid/TP30001016-CH203-BCICEAHH">Creating a WebObjects Application Project</a>
				
			<br/>
			
        
			
			
				<a href="GuestBook.html#//apple_ref/doc/uid/TP30001016-CH203-TPXREF101">Examining Your Project</a>
				
			<br/>
			
        
			
			
				<a href="GuestBook.html#//apple_ref/doc/uid/TP30001016-CH203-TPXREF102">Launching WebObjects Builder</a>
				
			<br/>
			
        
			
			
				<a href="GuestBook.html#//apple_ref/doc/uid/TP30001016-CH203-TPXREF103">Creating the Page’s Content</a>
				
			<br/>
			
        
			
			
				<a href="GuestBook.html#//apple_ref/doc/uid/TP30001016-CH203-TPXREF107">Binding Elements</a>
				
			<br/>
			
        
			
			
				<a href="GuestBook.html#//apple_ref/doc/uid/TP30001016-CH203-TPXREF111">Creating the Application’s Output</a>
				
			<br/>
			
        
			
			
				<a href="GuestBook.html#//apple_ref/doc/uid/TP30001016-CH203-TPXREF112">Building and Running Your Application</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001016-CH203-BCICEAHH" title="Creating a WebObjects Application Project"></a><h2>Creating a WebObjects Application Project</h2><p>A WebObjects application project contains all the files needed to build and maintain your application. You use Project Builder to create a new project.</p><ol class="ol"><li class="li"><p>Launch Project Builder.</p><p>Launch Project Builder from the WebObjects program group in the Start menu. </p></li><li class="li"><p>Choose Project > New.</p><div class="item_figure"><img src = "../art/newproject.gif" alt = "image: ../art/newproject.gif" width="260" height="99"></div></li><li class="li"><p>In the New Project panel, select Java WebObjects Application from the Project Type pop-up list.</p></li><li class="li"><p>Click Browse.</p><div class="item_figure"><img src = "../art/newprojectsave.gif" alt = "image: ../art/newprojectsave.gif" width="278" height="173"></div></li><li class="li"><p>Navigate to the directory where you want to save the project.</p></li><li class="li"><p>Type the name of the project you want to create (GuestBook).</p></li><li class="li"><p>Click Save.</p><p>The New Project panel shows the path you specified.</p></li><li class="li"><p>Click OK.</p><p>The WebObjects Application Wizard starts.</p><div class="item_figure"><img src = "../art/newprojectwizard.gif" alt = "image: ../art/newprojectwizard.gif" width="399" height="285"></div></li><li class="li"><p>For Available Assistance, choose None, and click Next.</p><p>If you are developing an application that accesses a database, provides or accesses a web service, or runs as a Java Swing client, you may wish to use one of the levels of assistance that WebObjects provides. For more information on accessing a database, see <span class="content_text"><a href="../Movies/Movies.html#//apple_ref/doc/uid/TP30001016-CH205-BCIBIDDC">“Creating a WebObjects Database Application.”</a></span></p></li><li class="li"><p>For J2EE Integration, click Next.</p></li><li class="li"><p>For Web Services, click Next.</p></li><li class="li"><p>For EOAdapters, click Select None.</p></li><li class="li"><p>Click Finish.</p><p>Project Builder creates a new application directory called <code>GuestBook</code>. This directory contains the files you work with in both Project Builder and WebObjects Builder.</p></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF101" title="Examining Your Project"></a><h2>Examining Your Project</h2><p>Project Builder displays a browser showing the contents of your project. The first column lists several categories of files that your project may contain. This section describes some of the most important files you’ll use. </p><br/><div><img src = "../art/pbbrowser.gif" alt = "image: ../art/pbbrowser.gif" width="435" height="153"></div><br/><ol class="ol"><li class="li"><p>Select Web Components.</p><p>The next column displays a list with one element, <code>Main.wo</code>, which is a directory containing the first <em>component</em> in your application. In WebObjects terminology, a component represents a page in your application (or possibly part of a page). The Main component is the starting point of your application.</p></li><li class="li"><p>Select <code>Main.wo</code>.</p><p>The files you see displayed in the next column are some of the files you work with when developing your component:</p><ul class="ul"><li class="li"><p><code>Main.html</code> is the HTML template for your page. It can include tags for dynamic WebObjects elements as well as regular HTML. Typically, you do not edit this file directly; you create your page’s elements graphically using WebObjects Builder.</p></li><li class="li"><p><code>Main.wod</code> is the declarations file that specifies bindings between the dynamic elements and variables or methods in your scripts. Normally, you don’t edit this file directly; you use WebObjects Builder to generate the bindings for you.</p></li></ul></li><li class="li"><p>Select Classes in the first column of the browser.</p><div class="item_figure"><img src = "../art/pbbrowserclasses.gif" alt = "image: ../art/pbbrowserclasses.gif" width="422" height="287"></div><p>You’ll see these files listed in the second column:</p><ul class="ul"><li class="li"><p><code>Main.java</code> is a file that allows you to specify behavior associated with the component. You do this by writing code in Java using Project Builder. </p></li><li class="li"><p><code>Application.java</code> and <code>Session.java</code> are other Java files that you may want to work with. <code>Application.java</code> defines <em>application variables</em> that live as long as the application does. <code>Session.java</code> defines <em>session variables</em> that exist for the lifetime of one user’s session. In <span class="content_text"><a href="../GuestBookPlus/GuestBookPlus.html#//apple_ref/doc/uid/TP30001016-CH204-BCIBIIHJ">“Enhancing Your Application,”</a></span> you’ll add code to <code>Application.java</code> and learn more about application and session variables.</p></li><li class="li"><p><code>DirectAction.java </code>defines a subclass of WODirectAction that you use as a container class for your action methods. You can rename this class or create multiple subclasses of WODirectAction depending on your application needs.</p></li></ul></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF102" title="Launching WebObjects Builder"></a><h2>Launching WebObjects Builder</h2><p>Now that you’ve created your project, you’ll edit the Main component with WebObjects Builder.</p><ol class="ol"><li class="li"><p>Select Web Components in the first column of the browser.</p></li><li class="li"><p>Double-click <code>Main.wo</code> in the second column.</p><p>The WebObjects Builder tool launches and displays a window titled <code>Main.wo</code>. This represents your application’s Main component. </p><div class="item_figure"><img src = "../art/wob.gif" alt = "image: ../art/wob.gif" width="422" height="256"></div><p>You create your component graphically in the upper pane of the component window. The browser at the bottom of the window (known as the <em>object browser</em>) is used to display variables and methods your component uses. Note that there are two variables already defined, <code>application</code> and <code>session</code>. You’ll create others later.</p><p>The <em>path view</em> lies between the upper pane and the object browser and shows the <em>element path</em> to the selected element. Any element can be contained in a hierarchy of several levels of elements and can in turn contain other elements. Here, the path view shows the page element, which is the top level of the hierarchy. By clicking the tags in the path view, you can easily choose different elements in the hierarchy.</p><p>The toolbar at the top of the window contains several buttons that allow you to create the content of your component. WebObjects Builder also has menu commands corresponding to these buttons. </p></li><li class="li"><img src = "../art/editingmodeicon.gif" alt = "image: ../art/editingmodeicon.gif" width="23" height="23"><img src = "../art/rawmodeicon.gif" alt = "image: ../art/rawmodeicon.gif" width="23" height="23"><p>From the  pop-up list at the left of the toolbar, choose .</p><p>This pop-up list allows you to switch between graphical editing mode and source editing mode. When you choose source editing mode, the text of your HTML template (<code>Main.html</code>) appears. It is a skeleton at this point, since the page is empty. As you add elements graphically, their corresponding HTML tags appear in this file.</p><div class="item_figure"><img src = "../art/wobhtmlview.gif" alt = "image: ../art/wobhtmlview.gif" width="555" height="472"></div><p>The bottom pane shows your declarations (<code>Main.wod</code>) file. Later, when you bind variables to your dynamic elements, this file stores the information. Normally, you do not type directly in this file. You can add elements using the toolbar in either source or graphical editing mode.</p></li><li class="li"><p>Switch back to graphical editing mode. For the rest of the tutorial, you’ll work in this mode.</p></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF103" title="Creating the Page&acirc;&#128;&#153;s Content"></a><h2>Creating the Page’s Content</h2><p>A web page consists of <em>elements</em>. In addition to the standard static HTML elements found in all web pages, WebObjects allows you to create <em>dynamic elements</em>, whose look and behavior are determined at runtime.</p><p>To create elements, you use the toolbar buttons. There are three groups of buttons:</p><ul class="ul"><li class="li"><img src = "../art/structurestoolbar.gif" alt = "image: ../art/structurestoolbar.gif" width="230" height="23"><p>Structures <code>.</code> Use these buttons to create paragraphs, lists, images, and other static HTML elements.</p></li><li class="li"><img src = "../art/formtoolbar.gif" alt = "image: ../art/formtoolbar.gif" width="230" height="23"><p>Dynamic form elements <code>.</code> Use these buttons to create form elements in which users enter information. WebObjects gives your application access to the data entered by users by allowing you to associate, or <em>bind</em>, these elements to variables in your application.</p></li><li class="li"><img src = "../art/otherwotoolbar.gif" alt = "image: ../art/otherwotoolbar.gif" width="230" height="23"><p>Other WebObjects <code>.</code> Use these buttons to create other dynamic elements, that you can bind to variables and methods in your program to control how they are displayed. Some of these (such as hyperlinks) have direct HTML equivalents. Others are <em>abstract dynamic elements</em>, such as repetitions and conditionals, that determine how many times an element is displayed or whether it is displayed at all.</p></li></ul><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF104" title="Entering Static Text"></a><h3>Entering Static Text</h3><p>The simplest way to add text to a page is to type it directly into the component’s window. To demonstrate this, add a title for the GuestBook’s page.</p><ol class="ol"><li class="li"><p>Type My Guest Book and press Shift-Enter (on the keyboard).</p><p>The text is displayed at the insertion point, in this case at the beginning of the page.</p></li><li class="li"><p>Select the text you just typed. </p></li><li class="li"><img src = "../art/heading.gif" alt = "image: ../art/heading.gif" width="23" height="23"><p>Click the  button in the toolbar. This converts the selected text to a heading element and displays it in a larger font.</p></li><li class="li"><img src = "../art/justificationicon.gif" alt = "image: ../art/justificationicon.gif" width="23" height="23"><p>From the  pop-up list in the toolbar, choose center justification.</p><p>The toolbar also has buttons that allow you to apply text styles such as bold, underline, and italics. </p></li></ol><p>HTML provides several levels of headings. To change the level, you use the Inspector panel. You’ll use this panel frequently throughout these tutorials.</p><a name="//apple_ref/doc/uid/TP30001016-CH203-BCIIJJBF" title="Using the Inspector"></a><h3>Using the Inspector</h3><p>You use the Inspector panel to set properties of the elements in your component. The Inspector’s title and contents reflect the element you’ve selected in the component window.</p><ol class="ol"><li class="li"><img src = "../art/inspector.gif" alt = "image: ../art/inspector.gif" width="23" height="23"><p>Click .</p><p>A panel titled Heading Inspector appears. It allows you to set the level of the heading.</p><div class="item_figure"><img src = "../art/headinginspector.gif" alt = "image: ../art/headinginspector.gif" width="366" height="125"></div></li><li class="li"><p>Click “2”.</p><p>The text is now part of an &lt;H2> tag, and is displayed in a smaller font.</p></li><li class="li"><p>Click &lt;BODY> in the path view.</p><p>Each element has its own Inspector that allows you to set properties appropriate for the element. The Page Inspector allows you to set properties such as the page’s title and its text color. </p><div class="item_figure"><img src = "../art/pageattributes.gif" alt = "image: ../art/pageattributes.gif" width="367" height="125"></div></li><li class="li"><p>Type a title (such as “My Guest Book”, or something else of your choosing) in the Title text field and press Enter. This is the title of the window that appears in your web browser when you run the application.</p><p><code>Note:</code> Be sure to press Enter after typing in the title; otherwise, it won’t “stick.”</p></li><li class="li"><p>Choose File > Save to save the Main component.</p><p>Although WebObjects Builder supports undo, it is always a good idea to save your work frequently.</p></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF105" title="Creating Form-Based Dynamic HTML Elements"></a><h3>Creating Form-Based Dynamic HTML Elements</h3><p>In this section, you’ll create a form with several elements to capture input from a guest. The Submit and Reset buttons you add to the form will apply to all other elements in the form. These elements look and act like HTML form elements but are actually dynamic WebObjects elements, that enable your code to receive and manipulate the data entered by the user. Refer to the screen shot that follows these steps to see how the window should look.</p><ol class="ol"><li class="li"><p>Place the cursor on the second line after the “My Guest Book” text.</p></li><li class="li"><img src = "../art/woform.gif" alt = "image: ../art/woform.gif" width="23" height="23"><p>Click . </p><p>WebObjects Builder adds a form element to your component. The triangle at the upper-left corner indicates that it is a dynamic form, as opposed to a static form. The gray border indicates the extent of the form. You can increase its size by adding elements inside it.</p></li><li class="li"><p>Type the text “Name: ” and press Shift-Enter. </p><p>This text replaces the word “Form” that was displayed by default.</p></li><li class="li"><p>Type “E-mail: ” and press Shift-Enter twice.</p></li><li class="li"><p>Type “Comments: ” followed by Shift-Enter.</p><p>You have just entered three lines (and a blank line) of static text inside the form. Now you’ll enter some dynamic elements to receive input from the user: two text fields and a multi-line text area. </p></li><li class="li"><p>Place the cursor to the right of the text “Name: ”.</p></li><li class="li"><img src = "../art/wotextfield.gif" alt = "image: ../art/wotextfield.gif" width="23" height="22"><p>Click  to create a dynamic text field element (WOTextField).</p></li><li class="li"><p>Repeat steps 6 and 7 for “E-mail: ”. </p></li><li class="li"><img src = "../art/wotext.gif" alt = "image: ../art/wotext.gif" width="23" height="23"><p>Use the  button to create a multi-line text area below the “Comments: ” line.</p></li><li class="li"><p>Press Shift-Enter twice to create two blank lines. </p></li><li class="li"><img src = "../art/wosubmitbutton.gif" alt = "image: ../art/wosubmitbutton.gif" width="23" height="23"><p>Click  to create a Submit button, used to send the data in the form to the server.</p></li><li class="li"><img src = "../art/woresetbutton.gif" alt = "image: ../art/woresetbutton.gif" width="23" height="23"><p>Click  to create a Reset button, used to clear the data in the form.</p><p>The window should now look like this:  </p><div class="item_figure"><img src = "../art/formcomplete.gif" alt = "image: ../art/formcomplete.gif" width="391" height="237"></div></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF106" title="Resizing the Form Elements"></a><h3>Resizing the Form Elements</h3><p>The text fields and text area are a bit small, so you’ll resize them using the Inspector panel. </p><p>To inspect an element, you must first select it. Some elements (such as text fields and text areas) can be selected simply by clicking them; they appear shaded.</p><p>You select text elements as you would in most text-editing applications (by dragging, or by double-clicking words, or by triple-clicking lines); they appear highlighted when selected.</p><ol class="ol"><li class="li"><p>Select the Name text field.</p></li><li class="li"><p>In the Textfield Inspector, change the setting of the pop-up list at the upper left of the panel from Dynamic Inspector to Static Inspector. </p><div class="item_figure"><img src = "../art/wobtextinspector.gif" alt = "image: ../art/wobtextinspector.gif" width="392" height="83"></div><p>All WebObjects elements have a <em>dynamic inspector</em>, that is, one that allows you to set bindings (you’ll work with bindings in the next section). In addition, many WebObjects elements (those with direct counterparts in static HTML) also have a <em>static inspector</em>. This inspector allows you to set the standard HTML attributes for that type of element.</p><p>In this panel, you can set various attributes of the static counterpart of a WOTextField, which is an HTML &lt;INPUT TYPE=TEXT> element. </p></li><li class="li"><p>In the Visible length field, enter 20 to set the width of the text field to 20 characters.</p></li><li class="li"><p>Repeat steps 1 and 3 for the E-mail field.</p></li><li class="li"><p>Select the multi-line text area. </p><p>In the Text Area Inspector, you can set various attributes corresponding to those of a &lt;TEXTAREA> element. </p></li><li class="li"><p>Increase the size of the element by specifying the number of columns and number of rows to, say, 30 and 6.</p></li><li class="li"><p>Save the Main component.</p><p>Don’t worry if you see a validation error message. That issue will be addressed in <span class="content_text"><a href="GuestBook.html#//apple_ref/doc/uid/TP30001016-CH203-TPXREF107">“Binding Elements.”</a></span></p></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF107" title="Binding Elements "></a><h2>Binding Elements </h2><p>When a user enters information in form elements, your application needs a way of accessing that information. This is done by <em>binding</em> the form elements to variables in your application. When the user submits the form, WebObjects puts the data into the variables you’ve specified. </p><p>Your application typically processes the data and returns a new page (or the same page) displaying information that makes sense based on the user’s input. The information displayed is usually represented by other dynamic elements that are bound to variables and methods in your code.</p><p>This process of receiving a request (triggered by actions such as submitting a form or clicking a hyperlink) and responding by returning a page is known as the <em>request-response loop</em>. This loop is at the heart of WebObjects programming.</p><p>In this tutorial, you’ll have WebObjects return the same page, with the information you received from the user displayed in a slightly different format at the bottom.</p><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF108" title="Creating Variables"></a><h3>Creating Variables</h3><p>In this section, you’ll declare individual variables in your code file (<code>Main.java</code>) to hold the name, e-mail address, and comments entered by a single guest. Later on, you’ll structure this information differently in order to work with data from multiple users.</p><p>WebObjects Builder allows you to declare variables without having to edit your source file directly. At the bottom of the panel there is a pull-down menu titled Edit Source. It has five items:</p><ul class="spaceabove"><li class="li"><p><code>Add Key</code> allows you to add a <em>key</em> to your source file. A key can be either an instance variable or a method that returns a value. </p></li><li class="li"><p><code>Add Action</code> allows you to add the template for an <em>action method</em>, which is a method that takes no parameters and returns a component (the next page to be displayed).</p></li><li class="li"><p><code>Delete Key</code> allows you to delete a key from your source file by deleting the instance variable or the method that returns a value.</p></li><li class="li"><p><code>Rename Key</code> allows you to rename a key in your source file by renaming the instance variable or the method that returns a value.</p></li><li class="li"><p><code>View Source File</code> opens the source file in a Project Builder window.</p></li></ul><ol class="ol"><li class="li"><p>Choose Add Key from the pull-down menu.</p><p>The Add Keypanel opens.</p><div class="item_figure"><img src = "../art/wobaddkey.gif" alt = "image: ../art/wobaddkey.gif" width="212" height="237"></div></li><li class="li"><p>Type guestName in the Name field.</p></li><li class="li"><p>To specify the variable’s type, select String from the combo box (or you can type String directly in the box). </p></li><li class="li"><p>Click Add.</p><p>You have just created a variable called <code>guestName</code> of type String. It appears in the first column of the object browser. A declaration for <code>guestName</code> also appears in <code>Main.java</code>, which you’ll edit later.</p></li><li class="li"><p>Create the variables <code>email</code> and <code>comments </code>in the same way (they are also of type String).</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001016-CH203-DontLinkElementID_69" title="Note"></a><p><strong>Note:</strong>&nbsp;You may also add variables by editing the source file in Project Builder. Remember to save the file after editing in Project Builder to update WebObjects Builder.</p></div></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF109" title="Binding the Input Elements"></a><h3>Binding the Input Elements</h3><p>Each dynamic element contains several <em>attributes</em>. These attributes determine what happens when the element is displayed or when a form element is submitted. When you bind an element, you actually bind one or more of its attributes.</p><p>For example, a WOText element (which represents a multi-line text area) is defined as having two attributes: </p><ul class="spaceabove"><li class="li"><p><code>value</code> specifies the string the user enters in the text area.</p></li><li class="li"><p><code>name</code> specifies a unique identifier for the text area.</p></li></ul><p>In this tutorial, the only attribute you are concerned with is <code>value</code>, which represents the string entered by the user in the comments field. You’ll bind this to the <code>comments</code> variable. You don’t need to bind the <code>name</code> attribute in this application. In a later example, you’ll bind more than one attribute of an element.</p><ol class="ol"><li class="li"><p>In the object browser, make a connection by pressing on the <code>comments</code> variable and holding down the mouse button while dragging to the Comments text area. Then release the mouse button.  </p><div class="item_figure"><img src = "../art/bindingcomments.gif" alt = "image: ../art/bindingcomments.gif" width="450" height="340"></div><p>A menu appears, displaying the attributes for the text area.</p></li><li class="li"><p>Choose value.</p><p>In the Dynamic Inspector,<code> comments</code> appears in the Binding column next to the <code>value</code> attribute of the text area, indicating that the binding has been made. Also, the text “comments” appears in the text field to show that it has been bound.</p></li><li class="li"><p>Next, you will bind the <code>guestName</code> variable using another technique. Select the Name WOTextField element. In the Inspector, select the Dynamic Inspector.</p><p>The Inspector displays the <code>value</code> attribute in red, indicating that this attribute must be bound; otherwise, WebObjects displays an error message when you try to run your application.</p></li><li class="li"><p>In the Inspector, double-click in the Binding column next to <code>value</code>. Type g and press Enter. The Inspector fills in the rest of the “guestName” key for you.</p></li><li class="li"><p>Bind the <code>email</code> variable to the corresponding text field using one of the methods above.</p></li><li class="li"><p>Save the Main component.</p></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF110" title="Implementing an Action Method"></a><h3>Implementing an Action Method</h3><p>When the user clicks the Submit button, your application will respond by redisplaying the page with the submitted information shown at the bottom. To make this happen, you implement an <em>action method </em>and bind that method to the <code>action</code> attribute of the WOSubmitButton. </p><ol class="ol"><li class="li"><p>From the Edit Source menu at the bottom of the object browser, choose Add Action.</p><div class="item_figure"><img src = "../art/addaction.gif" alt = "image: ../art/addaction.gif" width="404" height="117"></div></li><li class="li"><p>Enter “submit” as the name of your action method.</p></li><li class="li"><p>From the “Page returned” combo box, select <code>null</code>.</p><p>The value returned by an action method represents the next page (component) to be displayed. When you return <code>null</code>, the current page is redrawn. In a later task, you’ll see how to return a new component.</p></li><li class="li"><p>Click Add. </p><p>The <code>submit</code> action appears below a horizontal line in the first column of the object browser.</p></li><li class="li"><p>Make a connection from the <code>submit</code> action in the object browser to the Submit button (press the mouse button down on the action, drag to the button, and release the mouse button). </p><p>A menu appears with the Submit button’s attributes.</p></li><li class="li"><p>Choose action.</p><p>You just bound the <code>submit</code> method you created to the <code>action</code> attribute of the WOSubmitButton. You don’t need to write any additional code, so your application is now ready to run. However, you may want to look at your source file.</p></li><li class="li"><p>From the pull-down list at the bottom of the window, choose View Source File.</p><p>Project Builder becomes active and displays the code for your component (in <code>Main.java</code>). You’ll notice that this file contains declarations for the variables you created earlier, as well as a declaration for the <code>submit</code> action method.</p><div class="codesample"><table><tr><td scope="row"><pre>    // Generated by the WebObjects Wizard ...<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    import com.webobjects.foundation.*;<span></span></pre></td></tr><tr><td scope="row"><pre>    import com.webobjects.appserver.*;<span></span></pre></td></tr><tr><td scope="row"><pre>    import com.webobjects.eocontrol.*;<span></span></pre></td></tr><tr><td scope="row"><pre>    import com.webobjects.eoaccess.*;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public class Main extends WOComponent {<span></span></pre></td></tr><tr><td scope="row"><pre>        protected String guestName;<span></span></pre></td></tr><tr><td scope="row"><pre>        protected String email;<span></span></pre></td></tr><tr><td scope="row"><pre>        protected String comments;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        public Main(WOContext context) {<span></span></pre></td></tr><tr><td scope="row"><pre>            super(context);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        public WOComponent submit() {<span></span></pre></td></tr><tr><td scope="row"><pre>            return null;<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr></table></div></li></ol><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF111" title="Creating the Application&acirc;&#128;&#153;s Output"></a><h2>Creating the Application’s Output</h2><p>So far, you have a way for the guest to enter information and a way for the application to store that information. Now, the application needs to do something with the information.</p><p>For now, you’ll have the application simply display the same information the user entered, in a slightly different format. This allows you to verify that you have correctly received the data. To do this, you’ll add dynamic string elements (WOStrings) to the main page and bind them. In the next chapter, you’ll use more complex forms of output. </p><ol class="ol"><li class="li"><p>In WebObjects Builder, place the cursor at the end of the document, making sure that it is <em>outside</em> the gray rectangle that represents the form, and press Shift-Enter.</p></li><li class="li"><img src = "../art/hr.gif" alt = "image: ../art/hr.gif" width="17" height="17"><p>Click  to create a horizontal rule (an &lt;HR> element).</p></li><li class="li"><p>Press Shift-Enter to add a blank line.</p></li><li class="li"><img src = "../art/wostring.gif" alt = "image: ../art/wostring.gif" width="23" height="23"><p>Add a WOString element by clicking .</p><p>A WOString is a dynamic element whose value is determined at runtime. It is shown as a small rectangle surrounded by two icons. <img src = "../art/wostringdisplay.gif" alt = "image: ../art/wostringdisplay.gif" width="51" height="17"></p></li><li class="li"><p>In the object browser, make a connection from the <code>guestName</code> variable to the center rectangle of the WOString.</p><p>Notice that the name <code>guestName</code> appears inside the WOString, and the attribute pop-up menu doesn’t appear. The message “Connected guestName to value” appears in the upper-right corner of the panel. </p><p>WebObjects provides this shortcut for binding to the <code>value </code>attribute of WOStrings because it is the attribute you most often want to bind. The <code>value</code> attribute signifies the string that will be displayed when the page is drawn. If you want to bind a different attribute, you make a connection to the left or right icon, and the attribute pop-up menu appears as usual.</p></li><li class="li"><p>Click to the right of the WOString and press Shift-Enter. </p></li><li class="li"><p>Create two more WOStrings and bind them to <code>email</code> and <code>comments</code>, respectively.</p><p>Note that it isn’t necessary to resize the WOStrings as you did with the text fields. They expand at runtime to display the value of the variables to which they are bound.</p></li><li class="li"><p>Save your component. It should now look like this:</p><div class="item_figure"><img src = "../art/wobcomponentcomplete.gif" alt = "image: ../art/wobcomponentcomplete.gif" width="397" height="420"></div></li></ol><p>In summary, when the user clicks the Submit button, a new request-response cycle begins. WebObjects stores the data entered in the dynamic form elements in the variables they are bound to (<code>guestName</code> contains the value in the Name field, <code>email</code> contains the value in the E-mail field, and <code>comments</code> contains the value in the Comments field). It then triggers the action method bound to the <code>action</code> attribute of the WOSubmitButton. The action method returns a page (in this example, the same page). When the page is redrawn, the dynamic strings at the bottom show the values entered by the user.</p><p>Now you are ready to test your application.</p><a name="//apple_ref/doc/uid/TP30001016-CH203-TPXREF112" title="Building and Running Your Application"></a><h2>Building and Running Your Application</h2><ol class="ol"><li class="li"><p>Make Project Builder active. A quick way to do this from WebObjects Builder is to choose View Source File from the pull-down list at the bottom of the window.</p><p>To build and launch your application, you use buttons in Project Builder’s toolbar. </p><div class="item_figure"><img src = "../art/buildbutton.gif" alt = "image: ../art/buildbutton.gif" width="40" height="40"></div></li><li class="li"><img src = "../art/buildbutton.gif" alt = "image: ../art/buildbutton.gif" width="40" height="40"><p>Click  in the toolbar to open the Project Build panel.</p></li><li class="li"><img src = "../art/buildbutton.gif" alt = "image: ../art/buildbutton.gif" width="40" height="40"><p>Click  in the Project Build panel.</p><div class="item_figure"><img src = "../art/projectbuild.gif" alt = "image: ../art/projectbuild.gif" width="392" height="175"></div><p>The Project Build panel displays the commands that are being executed to build your project. If all goes well, it displays the status message “Build succeeded.”</p></li><li class="li"><p>Close the panel.</p></li><li class="li"><img src = "../art/launch.gif" alt = "image: ../art/launch.gif" width="40" height="40"><p>Click  in the toolbar to open the Launch panel.</p></li><li class="li"><img src = "../art/launch.gif" alt = "image: ../art/launch.gif" width="40" height="40"><p>Click  in the Launch panel to launch your application.</p><p>The Launch panel displays a series of messages. If all goes well, you should see messages similar to the ones shown in the picture below, which mean that your application is running successfully. </p><div class="item_figure"><img src = "../art/pbrunning.gif" alt = "image: ../art/pbrunning.gif" width="325" height="190"></div><p>Your web browser (such as Netscape Navigator or Internet Explorer) should launch automatically and load the correct URL for your application.</p></li><li class="li"><p>Test your application by entering information and submitting the form.</p><p>If all goes well, your page should look like the one shown at the beginning of this chapter.</p></li></ol>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Preface/Preface.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../GuestBookPlus/GuestBookPlus.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2004-02-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/WOGettingStarted/GuestBook/GuestBook.html%3Fid%3DTP30001016-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/WOGettingStarted/GuestBook/GuestBook.html%3Fid%3DTP30001016-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/WOGettingStarted/GuestBook/GuestBook.html%3Fid%3DTP30001016-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>