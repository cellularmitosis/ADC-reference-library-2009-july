<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Canceling an ATP Function(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING152></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-151.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-153.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-143.html"><B>Chapter 6 - AppleTalk Transaction Protocol (ATP)</B></A> / <A HREF="Networking-149.html"><B>Using ATP</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING152-0></A>
<H2>Canceling an ATP Function</H2>
 You can <A NAME=MARKER-2-102></A>cancel all pending ATP function calls made on a specific socket by closing the socket. However, ATP provides functions that allow you to cancel individual function calls or all function calls of a particular kind. If you want to close a socket for which there are still pending requests that you don't want executed, you should first explicitly cancel those requests by using the ATP function provided for this purpose, instead of simply closing the socket. <P>
 You can use the following functions to cancel specific requests: <P>
<UL>
<LI>To cancel a <CODE>PGetRequest</CODE> function, use the <A NAME=MARKER-2-152></A><CODE>PKillGetReq</CODE> function, which is described on <A HREF=Networking-173.html#MARKER-9-246>page 6-41</A>. You identify the request to be canceled by specifying <BR>the pointer to the parameter block that you passed to the <CODE>PGetRequest</CODE> function <BR>when you called it. 
<LI>To cancel all pending <CODE>PGetRequest</CODE> functions on a certain socket, use the <CODE><A NAME=MARKER-2-147></A>ATPKillAllGetReq</CODE> function described on <A HREF=Networking-174.html#MARKER-9-251>page 6-42</A>; you specify the socket number, whose pending get requests you want to cancel, as the value of the <CODE>atpSocket</CODE> parameter. 
<LI>To cancel a <CODE>PSendReques</CODE>t or a <CODE>PNSendRequest</CODE> function, use the <A NAME=MARKER-21-163></A><CODE>PKillSendReq</CODE> function described beginning on <A HREF=Networking-171.html#MARKER-9-234>page 6-38</A>. You identify the request to be canceled <BR>by specifying the pointer to the parameter block that you passed to the function <BR>when you issued it. To cancel a <CODE>PSendRequest</CODE> function, use the <CODE>PRelTCB</CODE> function described beginning on <A HREF=Networking-172.html#MARKER-9-240>page 6-40</A>. You identify the request to be canceled by specifying the request transaction ID as the <CODE>transID</CODE> parameter and the destination socket of the request as the <CODE>addrBlock</CODE> parameter. 
<LI>To cancel an exactly-once <CODE>PSendResponse</CODE> function, use the <A NAME=MARKER-2-67></A><CODE>PRelRspCB</CODE> function, described beginning on <A HREF=Networking-175.html#MARKER-9-256>page 6-43</A>. You identify the request to be canceled by specifying the transaction ID of the associated request as the <CODE>transID</CODE> parameter and the <CODE>PSendResponse</CODE> destination socket number as the <CODE>atpSocket</CODE> parameter. <P>
</UL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-151.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-153.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
