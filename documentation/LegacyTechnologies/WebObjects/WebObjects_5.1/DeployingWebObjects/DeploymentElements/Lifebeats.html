<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Lifebeats</title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Configuration_Files.html" target="content"><img src="../images/previous.gif" border="0"></a><a href="wotaskd_Processes.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF105"></a><h2><font face="Lucida Grande,Helvetica,Arial">Lifebeats</font></h2><!-- apple_doc: pageHeadingEnd --><p>After adding an application to your site, you need to addinstances of it as well. This allows the application's users connectto it. One of the main goals of WebObjects Deployment is to provideyou with tools that help you deploy a resilient site. To accomplishthat, wotaskd restarts application instances that become unresponsive.</p><p>A <b>lifebeat</b> is a status message that anapplication instance sends to a wotaskd process to keep it informedof the instance's status. There are four kinds of lifebeats:</p><ul><li>has started</font></li><li>is alive</font></li><li>will stop</font></li><li>will crash</font></li></ul><p>An application instance is configured by default to send lifebeatsto a wotaskd process through TCP (Transmission Control Protocol)sockets. (A <b>socket</b> is a mechanism through whichtwo processes communicate.) Instances can also send lifebeats usingUDP (User Datagram Protocol) sockets. UDP sockets use fewer resourcesthan TCP sockets.</p><p>The lifebeat mechanism is how the state of your site is constantlyupdated. Lifebeats are sent from a separate execution thread ina WebObjects application and do not interfere with, nor are theyaffected by, normal request processing.</p><p>By default, application instances try to send a lifebeat every30 seconds. If a failure occurs (there is no wotaskd process listeningon the port indicated by <code>WOLifebeatDesinationPort</code>), theinstance does the following:</p><ol><li>Sends upto 10 TCP lifebeats until a response is received. After the tenthunanswered lifebeat, the instance goes to stage 2.</font></li><li>Sends UDP lifebeats (low-resource&#150;lifebeat mode) until aresponse is received. If the instance cannot create a UDP socket,it goes back to stage 1. When the instance receives an acknowledgement,it resumes sending TCP lifebeats.</font></li></ol><p>The two-stage mechanism allows application instances to gointo low-resource lifebeat mode if wotaskd isn't running whenthe instance starts.</p><br>    <br><a href="Configuration_Files.html" target="content"><img src="../images/previous.gif" border="0"></a><a href="wotaskd_Processes.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated January 8, 2002)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>