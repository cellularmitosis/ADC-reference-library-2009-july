<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><HEAD><LINK REL="stylesheet" HREF="file:///DropBoxes%20%26%20Public/adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="file:///DropBoxes%20%26%20Public/style.css" TYPE="text/css"><title>Technical Q&amp;A QA1221: BOM characters in 'utxt' clipboard flavor</title><meta name="keywords" content="byte order mark utxt scrap BOM"><meta name="Description" content="Technical Q&amp;A QA1221: Explains the use of the BOM characterin 'utxt' scrap data"><meta name="categories" content="Text"><meta name="week-posted" content="Jan 20, 2003 - Jan 24, 2003"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001744" title="BOM characters in 'utxt' clipboard flavor"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/Cocoa/index.html">Cocoa</a> &gt; <a href="../../technicalqas/Cocoa/idxDataManagement-date.html">Data Management</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A QA1221</div>
<div id="pageheadsub">BOM characters in 'utxt' clipboard flavor</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600> <TR> <TD align="left"><!-- begin_content --><hr width=500 align=center>         <P id=p2>Q:      As of Mac OS X 10.2, Cocoa apps seem to put a spurious character      at the beginning of scrap data.  What's going on here?</p>         <P id=p4>A: Cocoa has always put a Byte Order Mark (BOM) character (for indicating endianness) in Unicode text on the clipboard, and as of 10.2, it does so for the 'utxt' scrap flavor as well, as documented by <a href="../../documentation/macos8/TextIntlSvcs/TextEncodingConversionManager/TEC1.5/TEC.b5.html">Inside Mac:Text Encoding Conversion Manager</a>. Code that reads the 'utxt' data should look for and strip the BOM character (instead of simply displaying it), and if it is <code>0xFFFE</code>, it should byte swap the data before using it. Note that if the BOM character is not present, big-endian order is assumed. Also note that the inclusion of the BOM character for the 'utxt' scrap flavor was disabled (for compatability reasons) in 10.2.3, but it will be reintroduced at a later date.</p>          <hr width=500 align=center> <!-- begin_date --><H4 ALIGN=center>[Jan 20 2003]</H4><!-- end_date --></TD> </TR> </TABLE></CENTER><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/qa2001/qa1221.html%3Fid%3DDTS10001744-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/qa2001/qa1221.html%3Fid%3DDTS10001744-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/qa2001/qa1221.html%3Fid%3DDTS10001744-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>