<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PlotIconSuite (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING299></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-298.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-300.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-269.html"><B>Chapter 5 - Icon Utilities</B></A> / <A HREF="MoreToolbox-275.html"><B>Icon Utilities Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-278.html"><B>Icon Utilities Routines</B></A> / <A HREF="MoreToolbox-298.html"><B>Drawing Icons From an Icon Suite</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING299-0></A>
<H3><A NAME=MARKER-11-217></A><A NAME=MARKER-9-218></A><A NAME=MARKER-9-118></A>PlotIconSuite</H3>
 You can use the <CODE>PlotIconSuite</CODE> function to draw the icon described by an icon suite using the most appropriate icon in the suite for the current bit depth of the display device and the rectangle in which the icon is to be drawn. <P>
<PRE>
FUNCTION PlotIconSuite (theRect: Rect; 
                        align: IconAlignmentType;
                        transform: IconTransformType;
                        theIconSuite: Handle): OSErr;
</PRE>
<DL>
<DT><CODE>theRect</CODE>
<DD> The rectangle in which to draw the icon. The <CODE>PlotIconSuite</CODE> function uses the size of the specified destination rectangle and the current bit depth of the display device to determine which icon from an icon suite to draw. 
<DT><CODE>align</CODE>
<DD> A value that specifies how <CODE>PlotIconSuite</CODE> should align the icon within the rectangle. For example, you can specify that <CODE>PlotIconSuite</CODE> <BR>center the icon within the rectangle or align it at one side or the other. See the description that follows for a list of constants you can use in this parameter.
<DT><CODE>transform</CODE>
<DD> A value that specifies how <CODE>PlotIconSuite</CODE> should modify the appearance of the icon. See the description that follows for a list of constants you can use in this parameter. 
<DT><CODE>theIconSuite</CODE>
<DD> <BR>A handle to the icon suite from which <CODE>PlotIconSuite</CODE> gets the icon to draw. You can get a handle to an icon suite using the <CODE>GetIconSuite</CODE> or <CODE>NewIconSuite</CODE> function.
</DL>
<A NAME=HEADING299-7></A>
<H5><A NAME=MARKER-9-220></A>DESCRIPTION</H5>
 The <CODE>PlotIconSuite</CODE> function plots a single icon from an icon suite in the current graphics port. You cannot determine which icon from a given suite it will draw; <CODE>PlotIconSuite</CODE> bases this decision on the size of the specified destination rectangle and the current bit depth of the display device. For example, if the destination rectangle has the coordinates (100,100,116,116) and the display device is set to 4-bit color, the <CODE>PlotIconSuite</CODE> function draws the icon of type <CODE>'ics4'</CODE> if that icon is available in the icon suite. <P>
 If the width or height of a destination rectangle is greater than or equal to 32 pixels, <CODE>PlotIconSuite</CODE> uses the 32-by-32 pixel icon with the appropriate bit depth for the display device. If the destination rectangle is less than 32 by 32 pixels and greater than 16 pixels wide or 12 pixels high, <CODE>PlotIconSuite</CODE> uses the 16-by-16 pixel icon with the appropriate bit depth. If the destination rectangle's height is less than or equal <BR>to 12 pixels or its width is less than or equal to 16 pixels, <CODE>PlotIconSuite</CODE> uses the 12-by-16 pixel icon with the appropriate bit depth. (Typically, only the Finder and Standard File Package use 12-by-16 pixel icons.)<P>
 You can use these constants in the <CODE>align</CODE> parameter to specify the alignment of the icon within the rectangle specified by the parameter <CODE>theRect</CODE>: <A NAME=MARKER-2-163></A><P>
<PRE>
CONST
   atNone               = $0; {no special alignment} 
   atVerticalCenter     = $1; {centered vertically} 
   atTop                = $2; {top aligned} 
   atBottom             = $3; {bottom aligned} 
   atHorizontalCenter   = $4; {centered horizontally} 
   atLeft               = $8; {left aligned} 
   atRight              = $C; {right aligned} 
   atAbsoluteCenter     = (atVerticalCenter + atHorizontalCenter);
   atCenterTop          = (atTop + atHorizontalCenter); 
   atCenterBottom       = (atBottom + atHorizontalCenter); 
   atCenterLeft         = (atVerticalCenter + atLeft); 
   atTopLeft            = (atTop + atLeft); 
   atBottomLeft         = (atBottom + atLeft); 
   atCenterRight        = (atVerticalCenter + atRight);  
   atTopRight           = (atTop + atRight);  
   atBottomRight        = (atBottom + atRight); 
</PRE>
 The destination rectangle passed in the <CODE>theRect</CODE> parameter of <CODE>PlotIcon</CODE>Suite must be exactly 32 by 32 pixels, 16 by 16 pixels, or 12 by 16 pixels for <CODE>PlotIcon</CODE>Suite to draw the icon without stretching it. If the destination rectangle is not one of these standard sizes, <CODE>PlotIcon</CODE>Suite expands or shrinks the icon to fit. After stretching or shrinking the icon, the <CODE>PlotIcon</CODE>Suite function aligns the icon according to the value specified in the <CODE>align</CODE> parameter, moving the icon so that the edges of its mask align with the specified side or direction.<P>
 You can pass constants in the <CODE>transform</CODE> parameter to specify how you want the icon modified, if at all, when plotted by <CODE>PlotIconSuite</CODE>. If you don't want to specify any transform constants, specify <CODE>ttNone</CODE> in the <CODE>transform</CODE> parameter.<P>
<PRE>
CONST ttNone            = $0; 
</PRE>
 You can use these constants in the <CODE>transform</CODE> parameter to transform the icon in a manner analogous to certain Finder states for icons: <A NAME=MARKER-2-222></A><P>
<PRE>
CONST
   ttDisabled           = $1; 
   ttOffline            = $2; 
   ttOpen               = $3; 
   ttSelected           = $4000; 
   ttSelectedDisabled   = (ttSelected + ttDisabled); 
   ttSelectedOffline    = (ttSelected + ttOffline); 
   ttSelectedOpen       = (ttSelected + ttOpen);
</PRE>
 You can use another group of constants to color the icons using the Finder label colors. To determine the appropriate label for a file's icon, you can check bits 1-3 of the <CODE>fdFlags</CODE> field in the file's file information record. These bits contain a number from 0 to 7 indicating the label setting (0 indicates no label). Simply add the corresponding constant from this list to the <CODE>transform</CODE> parameter when you call <CODE>PlotIconSuite</CODE>: <P>
<PRE>
CONST
   ttLabel1             = $0100; 
   ttLabel2             = $0200; 
   ttLabel3             = $0300; 
   ttLabel4             = $0400; 
   ttLabel5             = $0500; 
   ttLabel6             = $0600; 
   ttLabel7             = $0700; 
</PRE>
 If you don't specify a label constant in the <CODE>transform</CODE> parameter, <CODE>PlotIconSuite</CODE> displays the icon using the default label for that icon suite. When you create an icon suite using <CODE>GetIconSuite</CODE> or <CODE>NewIconSuite</CODE>, these functions set the default label for the suite to none. To set a new default label for an icon suite, use the <CODE>SetSuiteLabel</CODE> function. <P>
<A NAME=HEADING299-20></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>noMaskFoundErr<TD>-1000<TD>No mask found</TABLE>
</H5>
<A NAME=HEADING299-21></A>
<H5>SEE ALSO</H5>
 For examples of the use of the <CODE>PlotIconSuite</CODE> function, see <A HREF=MoreToolbox-273.html#MARKER-9-98>Listing 5-2</A> and <A HREF=MoreToolbox-273.html#MARKER-9-103>Listing 5-3</A>, starting on <A HREF=MoreToolbox-273.html#MARKER-9-98>page 5-11</A>.<P>
 For information on the <CODE>SetSuiteLabel</CODE> function, see <A HREF=MoreToolbox-304.html#MARKER-9-235>page 5-40</A>. See the chapter "Finder Interface" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for more information about the file information record. <A NAME=MARKER-2-156></A> <A NAME=MARKER-9-406></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-298.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-300.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
