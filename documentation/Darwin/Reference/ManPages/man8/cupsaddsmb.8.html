<html><head><title>Mac OS X
 Manual Page For cupsaddsmb(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/cupsaddsmb" title="Mac OS X
 Manual Page for cupsaddsmb(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/cupsaddsmb"; name=cupsaddsmb(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
cupsaddsmb(8)                                    Apple Inc.                                    cupsaddsmb(8)



<b>NAME</b>
       cupsaddsmb - export printers to samba for windows clients


<b>SYNOPSIS</b>
       <b>cupsaddsmb</b> [ -H <u>samba-server</u> ] [ -U <u>samba-user[%samba-password]</u> ] [ -h <u>cups-server[:port]</u> ] [ -v ] -a
       <b>cupsaddsmb</b> [ -H <u>samba-server</u> ] [ -U <u>samba-user[%samba-password]</u> ] [ -h <u>cups-server[:port]</u> ]  [  -v  ]
       printer [ ... printer ]


<b>DESCRIPTION</b>
       <u>cupsaddsmb</u>  exports  printers  to  the  SAMBA software (version 2.2.0 or higher) for use with Windows
       clients. Depending on the SAMBA configuration, you may need to  provide  a  password  to  export  the
       printers. This program requires the Windows printer driver files described below.


<b>OPTIONS</b>
       <u>cupsaddsmb</u> supports the following options:

       -H samba-server
            Specifies the SAMBA server which defaults to the CUPS server.

       -U samba-user[%samba-password]
            Specifies  the  SAMBA print admin username which defaults to your current username. If the user-<font color="#ffffff" class="whiteout">name&nbsp;username</font>
            name contains a percent (%) character, then the text following the percent  is  treated  as  the
            SAMBA password to use.

       -a
            Exports all known printers. Otherwise only the named printers are exported.

       -h cups-server[:port]
            Specifies a different CUPS server to use.

       -v
            Specifies  that verbose information should be shown. This is useful for debugging SAMBA configu-<font color="#ffffff" class="whiteout">ration&nbsp;configuration</font>
            ration problems.


<b>SAMBA</b> <b>CONFIGURATION</b>
       <u>cupsaddsmb</u> uses the new RPC-based printing support in SAMBA 2.2.x to provide printer drivers and  PPD
       files  to  Windows  client machines. In order to use this functionality, you must first configure the
       SAMBA <a href="../man5/smb.conf.5.html#//apple_ref/doc/man/5/smb.conf"><u>smb.conf(5)</u></a><u></u> file to support printing through CUPS and provide a printer driver download  share,
       as follows:

           [global]
            load printers = yes
            printing = cups
            printcap name = cups

           [printers]
            comment = All Printers
            path = /var/spool/samba
            browseable = no
            public = yes
            guest ok = yes
            writable = no
            printable = yes

           [print$]
            comment = Printer Drivers
            path = /etc/samba/drivers
            browseable = yes
            guest ok = no
            read only = yes
            write list = root

       This  configuration assumes a FHS-compliant installation of SAMBA; adjust the [printers] and [print$]
       share paths accordingly on your system as needed.


<b>MICROSOFT</b> <b>POSTSCRIPT</b> <b>DRIVERS</b> <b>FOR</b> <b>WINDOWS</b>
       The base driver for Windows 2000 and higher is the Microsoft PostScript driver, which is available on
       any  system running Windows 2000 or higher in the %WINDIR%\SYSTEM32\SPOOL\DRIVERS\W32X86\3 folder for
       32-bit drivers and %WINDIR%\SYSTEM32\SPOOL\DRIVERS\X64\3 folder for 64-bit drivers.

       The CUPS printer driver is preferred over the Microsoft driver since it supports the page-label, job-<font color="#ffffff" class="whiteout">billing,&nbsp;jobbilling,</font>
       billing,  and  job-hold-until options fully on all printers. However, currently only Windows 2000 and
       higher is supported by the Microsoft driver, so you will also need to get the Adobe driver to support
       Windows 95, 98, and Me clients. The Adobe and Microsoft drivers for Windows 2000 are identical.

       Once  you  have  extracted  the  driver files, copy the 32-bit drivers to the <u>/usr/share/cups/drivers</u>
       directory and the 64-bit drivers to the <u>/usr/share/cups/drivers/x64</u> directory exactly as named below:

           [Windows 2000 and higher]
           ps5ui.dll
           pscript.hlp
           pscript.ntf
           pscript5.dll

       <b>Note:</b>  Unlike  Windows,  case  is  significant - make sure that you use the lowercase filenames shown
       above, otherwise <u>cupsaddsmb</u> will fail to export the drivers.


<b>CUPS</b> <b>POSTSCRIPT</b> <b>DRIVERS</b> <b>FOR</b> <b>WINDOWS</b>
       <u>cupsaddsmb</u> can use the CUPS v6 PostScript printer driver for Windows, which is available for download
       from the CUPS web site.

       The CUPS printer driver is preferred over the Adobe and Microsoft drivers since it supports the page-<font color="#ffffff" class="whiteout">label,&nbsp;pagelabel,</font>
       label, job-billing, and job-hold-until options fully on all printers. However, currently only Windows
       2000  and  higher  is  supported by the CUPS driver, so you will also need to get the Adobe driver to
       support Windows 95, 98, and Me clients.

       Once you have extracted the driver files, copy the  32-bit  drivers  to  the  <u>/usr/share/cups/drivers</u>
       directory and the 64-bit drivers to the <u>/usr/share/cups/drivers/x64</u> directory exactly as named below:

           [Windows 2000 and higher]
           cups6.inf (from www.cups.org)
           cups6.ini (from www.cups.org)
           cupsps6.dll (from www.cups.org)
           cupsui6.dll (from www.cups.org)
           ps5ui.dll (from your Windows system)
           pscript.hlp (from your Windows system)
           pscript.ntf (from your Windows system)
           pscript5.dll (from your Windows system)

       <b>Note:</b> Unlike Windows, case is significant - make sure that you  use  the  lowercase  filenames  shown
       above, otherwise <u>cupsaddsmb</u> will fail to export the drivers.


<b>ADOBE</b> <b>POSTSCRIPT</b> <b>DRIVERS</b> <b>FOR</b> <b>WINDOWS</b> <b>95,</b> <b>98,</b> <b>AND</b> <b>ME</b>
       <u>cupsaddsmb</u>  can  use the Adobe PostScript printer driver for Windows 95, 98, and ME, which are avail-<font color="#ffffff" class="whiteout">able&nbsp;available</font>
       able for download from the Adobe web site (<a href="http://www.adobe.com)">http://www.adobe.com)</a>

       The Adobe driver does not support the page-label, job-billing, or job-hold-until options.

       Once you  have  installed  the  driver  on  a  Windows  system,  copy  the  following  files  to  the
       <u>/usr/share/cups/drivers</u> directory exactly as named below:

           [Windows 95, 98, and Me]
           ADFONTS.MFM
           ADOBEPS4.DRV
           ADOBEPS4.HLP
           ICONLIB.DLL
           PSMON.DLL

       <b>Note:</b>  Unlike  Windows,  case  is  significant - make sure that you use the UPPERCASE filenames shown
       above, otherwise <u>cupsaddsmb</u> will fail to export the drivers.


<b>KNOWN</b> <b>ISSUES</b>
       Getting the full set of Windows driver files should be easier.


<b>SEE</b> <b>ALSO</b>
       <a href="smbd.8.html#//apple_ref/doc/man/8/smbd"><u>smbd(8)</u></a><u></u>, <a href="../man5/smb.conf.5.html#//apple_ref/doc/man/5/smb.conf"><u>smb.conf(5)</u></a><u></u>, <a href="http://localhost:631/help">http://localhost:631/help</a>
       <a href="http://www.cups.org/windows/">http://www.cups.org/windows/</a>


<b>COPYRIGHT</b>
       Copyright 2007 by Apple Inc.



25 July 2007                             Common UNIX Printing System                           cupsaddsmb(8)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/cupsaddsmb.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/cupsaddsmb.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/cupsaddsmb.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
