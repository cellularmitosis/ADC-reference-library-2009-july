<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Viewing the SQL Log</TITLE></HEAD><BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../index.html" target="_top">Documentation</a> <b>></b> <a href="../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><DIV><a name="top"></a><A HREF="TopicsTOC.html"><img src="up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.6.html"><img src="previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.8.html"><img src="next.gif" border="0" alt="Next"></A></DIV><H1 CLASS="TopictTitle"><A NAME="pgfId=609604"> </A><A NAME="27044"> </A>Viewing the SQL Log</H1><DIV><H2 CLASS="Synopsis"><A NAME="pgfId=606144"> </A>Synopsis</H2><P CLASS="Body"><A NAME="pgfId=606145"> </A>Describes how you log the SQL statements that EOF sends to the database.</P></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=606146"> </A>Description</H2><P CLASS="Body"><A NAME="pgfId=620992"> </A>SQL logging is a useful debugging tool that allows you to view the SQL commands EOF sends to the database server. It can be enabled from the command line or turned on and off programmatically. The log is printed to standard error using <TT CLASS="Code">NSLog()</TT> (see the <TT CLASS="Code">NSLog</TT> function specification in the Foundation Framework Reference).</P><DIV><H3 CLASS="Heading2"><A NAME="pgfId=621036"> </A>Enabling SQL Logging From the Command Line</H3><P CLASS="Body"><A NAME="pgfId=621014"> </A>To enable SQL logging for an application, set the default <TT CLASS="Code">EOAdaptorDebugEnabled</TT> to <TT CLASS="Code">YES</TT>. This can be done from a UNIX shell (a Bourne Shell under Windows NT) using the <TT CLASS="Code">defaults</TT> command.</P><PRE CLASS="Code"><A NAME="pgfId=621029"> </A><TT CLASS="Code">defaults write </TT><EM CLASS="Emphasis">MyApp</EM><TT CLASS="Code"> EOAdaptorDebugEnabled YES</TT></PRE><P CLASS="Body"><A NAME="pgfId=621028"> </A>When you launch your application, the SQL prints to standard error.n the launch window.  You can also enable SQL logging for all applications using the <TT CLASS="Code">defaults</TT> command.</P><PRE CLASS="Code"><A NAME="pgfId=621199"> </A>defaults write NSGlobalDomain EOAdaptorDebugEnabled YES</PRE><P CLASS="Body"><A NAME="pgfId=623393"> </A>For more information abouts the defaults system, see the NSUserDefaults class specification in the Foundation Framework Reference and the <TT CLASS="Code">defaults</TT> man page.</P></DIV><DIV><H3 CLASS="Heading2"><A NAME="pgfId=621037"> </A>Enabling SQL Logging From Project Builder</H3><P CLASS="Body"><A NAME="pgfId=621038"> </A> You can also use the launcher to enable SQL logging by clicking the launcher preferences button (looks like a check mark), clicking the Arguments tab and entering</P><PRE CLASS="Code"><A NAME="pgfId=621034"> </A>-EOAdaptorDebugEnabled YES</PRE><P CLASS="Body"><A NAME="pgfId=621041"> </A>This sets the <TT CLASS="Code">EOAdaptorDebugEnabled</TT> command line argument to <TT CLASS="Code">YES</TT> every time Project Builder's launcher starts your application.</P><P CLASS="Body"><A NAME="pgfId=621222"> </A>Some developers find it convenient to enable SQL logging globally and selectively disable it for individual applications with the launcher (<TT CLASS="Code">-EOAdaptorDebugEnabled NO</TT>).</P></DIV><DIV><H3 CLASS="Heading2"><A NAME="pgfId=621176"> </A>Enabling SQL Logging Programmatically</H3><P CLASS="Body"><A NAME="pgfId=621030"> </A>The EOAdaptorContext class actually uses the <TT CLASS="Code">EOAdaptorDebugEnabled</TT> flag. In order to turn on SQL logging for all EOAdaptorContexts that get created, you use the EOAdaptorContext static method (class method in Objective-C) <TT CLASS="Code">setDebugEnabledDefault</TT>.</P><PRE CLASS="Code"><A NAME="pgfId=621048"> </A>EOAdaptorContext.setDebugEnabledDefault(true);</PRE><P CLASS="Body"><A NAME="pgfId=621053"> </A>The best place to put this code is in the application's constructor so that all EOAdaptorContexts that get created will log their SQL. Be sure to import <TT CLASS="Code">com.apple.yellow.eoaccess.*</TT>.</P><P CLASS="Body"><A NAME="pgfId=621096"> </A>You can also enable debugging for individual adaptor contexts by sending them a <TT CLASS="Code">setDebugEnabled</TT> message. This is also useful when you need to turn the logging on and off while the application is running. To find out how to access your application's adaptor contexts, see the programming topic <A HREF="ProgrammingTopics.30.html#27044" CLASS="XRef">Accessing Adaptor Sublayer Objects</A>.</P></DIV></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=623529"> </A>See Also</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=621373"> </A><A HREF="ProgrammingTopics.30.html#27044" CLASS="XRef">Accessing Adaptor Sublayer Objects</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=621392"> </A>NSUserDefaults class specification in the <EM CLASS="Emphasis">Foundation Framework Reference</EM></LI><LI CLASS="Bulleted"><A NAME="pgfId=621397"> </A><TT CLASS="Code">defaults</TT> man pages</LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=616420"> </A>Questions</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=616440"> </A>How do I view the SQL that EOF sends to the database server?</LI><LI CLASS="Bulleted"><A NAME="pgfId=621402"> </A>How can I enable and disable SQL logging?</LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=606168"> </A>Keywords</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=620953"> </A>SQL Logging</LI><LI CLASS="Bulleted"><A NAME="pgfId=621403"> </A>Debugging</LI><LI CLASS="Bulleted"><A NAME="pgfId=621404"> </A>EOAdaptorContext</LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=606171"> </A>Revision History</H2><P CLASS="Body"><A NAME="pgfId=616160"> </A>10 March 1999. Clif Liu. First Draft.</P></DIV><hr alt="">&#169 1999 Apple Computer, Inc.<P><A HREF="TopicsTOC.html"><img src="up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.6.html"><img src="previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.8.html"><img src="next.gif" border="0" alt="Next"></A><!-- start of footer --><!--#include file="footer" --><!-- end of footer --><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>