<html><head><title></title></head>

<body bgcolor="#ffffff">

 

 

<h1>

<FONT COLOR="#000066">

<a name="121">

 <a name="//apple_ref/occ/cl/NSUserDefaults">NSUserDefaults</a>

</a>

</FONT>

</h1>

<p><B>Inherits From:</B><BR>  

NSObject 



<p><B>Conforms To:</B><BR>

NSObject (NSObject) 



<p><B>Declared In:	</B><BR>

Foundation/NSUserDefaults.h



<p><p>

<a name="151"></a>

<HR WIDTH=75% SIZE=4 ALIGN=LEFT>

<H3>

<FONT COLOR="#201040">

Class At A Glance

</FONT>

</H3>

<dl><a name="152"></a>

<dt><h4>Purpose</h4>

<dd><dl>

<dt>The NSUserDefaults class provides an programmatic interface for interacting with the OPENSTEP <em>defaults system</em>.

</dl></dd>

<a name="154"></a>

<dt><h4>Principal Attributes</h4>

</dl><ul><li>A dictionary of defaults.<br>

</ul><dl><a name="156"></a>

<dt><h4>Creation<p>

<Table Border="3">

<caption></caption>

<tr><td scope="row">+ standardUserDefaults

</td><td>Returns a shared instance initialized with the current user's defaults.

</td></tr>



</Table>



<Table>

<tr><td scope="row">

</Table>

</h4>

<a name="157"></a>

<dt><h4>Commonly Used Methods<p>

<Table Border="3">

<caption></caption>

<tr><td>- objectForKey:

</td><td>Returns the default value for the specified key.

</td></tr>

<tr><td scope="row">- setObject:forKey:

</td><td>Sets the default value for the specified key.

</td></tr>

<tr><td scope="row">- removeObjectForKey:

</td><td>Removes the default entry identified by the specified key.

</td></tr>

<tr><td scope="row">- registerDefaults:

</td><td>Adds the specified defaults to the NSRegistrationDomain-a cache of 

application-provided defaults that are used unless a user overrides them.

</td></tr>



</Table>



<Table>

<tr><td scope="row">

</Table>

</h4>

</dl><HR WIDTH=75% SIZE=4 ALIGN=LEFT>

<p><a name="159"></a>

<a name="description"></a>

<H2>Class Description

</H2>

The NSUserDefaults class provides a programmatic interface for interacting with the OPENSTEP <em>defaults system</em>. The defaults system allows an application to customize its behavior to match a user's preferences. For example, you can allow users to determine what units of measurement your application displays or how often documents are automatically saved. Applications record such preferences by assigning values to a set of parameters in a user's defaults database. The parameters are referred to as <em>defaults</em> since they're commonly used to determine an application's default state at startup or the way it acts by default.<p>

A defaults database is created automatically for each user. On Unix (Mach, Solaris, and HPUX) platforms, the database is made up of a collection of files located in the <code>.OpenStep</code> directory of a user's home directory. On Windows platforms, the defaults database is stored in the Windows registry.<p>

At run time, you use an NSUserDefaults object to read the defaults that your application uses from a user's defaults database. NSUserDefaults caches the information to avoid having to open the user's defaults database each time you need a default value. The <code>synchronize</code> method, which is automatically invoked at periodic intervals, keeps the in-memory cache in sync with a user's defaults database.<p>

<HR WIDTH=25% ALIGN=LEFT>

<B>Warning:	</B>

User defaults are not thread safe. 



<HR WIDTH=25% ALIGN=LEFT>

<p><h3>

<a name="164">

 Domains

</a>

</h3>

Defaults are grouped in domains. For example, there's a domain for application-specific defaults and another for system-wide defaults that apply to all applications.<p>

<B><dt>Note:	</B>

All defaults are stored and accessed per user. OpenStep doesn't provide for defaults that affect all 

users.

Each domain has a name by which it's identified and stores defaults as key-value pairs in an NSDictionary object. Each default is made up of three components:<p>

<ul><li>The domain in which the default is stored<br>

<li>The name by which the default is identified (an NSString)<br>

<li>The default's value, which can be any property-list object (NSData, NSString, NSArray, or NSDictionary)<br>

</ul>A domain is either persistent or volatile. Persistent domains are permanent and last past the life of the NSUserDefaults object. Persistent domains are stored in a user's defaults database. If you use NSUserDefaults to make a changes to a default in a persistent domain, the changes are saved in the user's defaults database automatically. On the other hand, volatile domains last only as long as the NSUserDefaults object exists; they aren't saved in the user's defaults database. The standard domains are:<p>

<Table Border="3">

<caption></caption>

<tr><th><b>Domain</b>

</th><th><b>State</b>

</th></tr>

<tr><td scope="row">NSArgumentDomain

</td><td>volatile

</td></tr>

<tr><td scope="row">Application (Identified by the application's name)

</td><td>persistent

</td></tr>

<tr><td scope="row">NSGlobalDomain

</td><td>persistent

</td></tr>

<tr><td scope="row">Languages (Identified by the language names)

</td><td>volatile

</td></tr>

<tr><td scope="row">NSRegistrationDomain

</td><td>volatile

</td></tr>



</Table>



<Table>

<tr><td>

</Table>

<p>

A search for the value of a given default proceeds through the domains in an NSUserDefaults object's <em>search list</em>. Only domains in the search list are searched. The standard search list contains the domains from the table above, in the order listed. A search ends when the default is found. Thus, if multiple domains contain the same default, only the domain nearest the beginning of the search list provides the default's value. Using the <code>setSearchList:</code> method, you can reorder the default search list or set up one that is a subset of all the user's domains.<p>

The following sections describe the purpose of each of the domains.<p>

<h4>

<a name="174">

 NSArgumentDomain

</a>

</h4>

Default values can be set from command line arguments (if you start the application from the command line) as well as from a user's <em>defaults database</em>. Default values set from the command line go in the NSArgumentDomain. They are set on the command line by preceding the default name with a hyphen and following it with a value. For example, the following command launches Project Builder and sets Project Builder's IndexOnOpen default to NO:<p>

<blockquote><pre>localhost&gt; ProjectBuilder.app/ProjectBuilder -IndexOnOpen NO

</pre></blockquote><p>Defaults set from the command line temporarily override values from a user's defaults database. In the example above, Project Builder won't automatically index projects even if the user's IndexOnOpen preference is set to YES in the defaults database.<p>

<h4>

<a name="178">

 Application Domain

</a>

</h4>

The application domain contains application-specific defaults that are read from a user's defaults database. The application domain is identified by the name of the application, as returned by NSProcessInfo's <code>processName</code> method:<p>

<blockquote><pre>NSString *applicationName = [[NSProcessInfo processInfo] processName];

</pre></blockquote><p><h4>

<a name="181">

 NSGlobalDomain

</a>

</h4>

The global domain contains defaults that are read from a user's defaults database and are applicable to all applications that a user runs. Many Application Kit and Foundation objects use default values from the NSGlobalDomain. For example, NSRulerView objects automatically use a user's preferred measurement units, as stored in the user's defaults database under the key "NSMeasurementUnit." Consequently, ruler views in all applications use the user's preferred measurement units-unless an application overrides the default by creating an NSMeasurementUnit default in its application domain. Another NSGlobalDomain default, NSLanguages, allows users to specify a preference of languages. For example, a user could specify English as the preferred language, followed by Spanish, French, German, Italian, and Swedish.<p>

<h4>

<a name="183">

 Languages

</a>

</h4>

If a user has a value for the NSLanguages default, then NSUserDefaults records language-specific default values in domains identified by the language name. The language specific domains contain defaults for a <em>locale.</em> Certain classes from the Foundation Framework (NSCalendarDate, NSDate, NSTimeZone, NSString, and NSScanner, for example) use locale defaults to modify their behavior. For example, when you request an NSString representation of an NSCalendarDate, the NSCalendarDate looks at the locale to determine what the months and the days of the week are named in your preferred language. For more information on locale defaults, see the document "Locales" in the <em>Foundation Reference</em>.<p>

<h4>

<a name="185">

 NSRegistrationDomain

</a>

</h4>

The registration domain is a set of application-provided defaults that are used unless a user overrides them. For example, the first time you run Project Builder, there isn't an IndexOnOpen value saved in your defaults database. Consequently, Project Builder registers a default value for IndexOnOpen in the NSRegistrationDomain as a "catch all" value. Project Builder can thereafter assume that an NSUserDefaults object always has a value to return for the default, simplifying the use of user defaults.<p>

You set NSRegistrationDomain defaults programmatically with the method <code>registerDefaults:</code>.<p>

<h3>

<a name="188">

 Synchronizing an NSUserDefaults Object with the Defaults Database

</a>

</h3>

Since other applications (and the user) can write to a defaults database, the database and an NSUserDefaults object might not agree on the value of a given default at all times. Using the <code>synchronize</code> method, you can update the defaults database with an NSUserDefaults object's new values and update the NSUserDefaults object with any changes that have been made to the database. In applications in which a run-loop is present, <code>synchronize</code> is automatically invoked at periodic intervals. Consequently, you might synchronize before exiting a process, but otherwise you shouldn't need to.<p>

<h3>

<a name="190">

 Using NSUserDefaults

</a>

</h3>

Typically, you use this class by invoking the <code>standardUserDefaults</code> class method to get an NSUserDefaults object. This method returns a global NSUserDefaults object with a search list already initialized. Use the <code>objectForKey:</code> and<code> setObject:forKey:</code> methods to get and set default values.<p>

For example, suppose that your application needs a default that specifies whether or not to delete backup files. You could use an NSUserDefaults object to manage your default, as follows:<p>

<h4>

<a name="193">

 Set a default in the NSRegistrationDomain.

</a>

</h4>

An application can set values for all its defaults in the NSRegistrationDomain. If users specify a different preference in their defaults database, the users' preferences override the values from the NSRegistrationDomain. An NSUserDefaults object only uses values from the NSRegistrationDomain when a user hasn't specified a different preference. So, you need to decide whether or not your application should delete backup files by default. <p>

To register the application's default behavior, you get the application's shared instance of NSUserDefaults and register default values with it. A good place to do this is in the <code>initialize</code> method of the class that uses the default. The following example registers the value "YES" for the default named "DeleteBackup". <p>

<blockquote><pre>+ (void)initialize{<br><br>    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];<br>    NSDictionary *appDefaults = [NSDictionary<br>        dictionaryWithObject:@"YES" andKey:@"DeleteBackup"];<br><br>    [defaults registerDefaults:appDefaults];<br>}

</pre></blockquote><p>The initialize message is sent to each class before it receives any other message, ensuring that the application's defaults are set before the application needs to read them.<p>

<h4>

<a name="198">

 Allow the user to specify a different default behavior.

</a>

</h4>

To allow users to specify a different default behavior for deleting backups, you must provide an interface in which they can express their preference. Most applications provide a Preferences panel for this purpose. When your application detects that a user has specified a new preference, it should save it in the shared instance of NSUserDefaults.<p>

For example, assume that your application has an instance variable called <code>deleteBackupButton</code> that is an outlet to an NSButton, and that users toggle this button's state to indicate whether or not the application should delete its backup files. Then you could use the following code to update the user's value for the DeleteBackup default:<p>

<blockquote><pre>if ([deleteBackupButton state]) {<br>    // The user wants to delete backup files.<br>    [[NSUserDefaults standardUserDefaults]<br>        setObject:@"YES" forKey:@"DeleteBackup"];<br>} else {<br>    // The user doesn't want to delete backup files.<br>    [[NSUserDefaults standardUserDefaults]<br>        setObject:@"NO" forKey:@"DeleteBackup"];

</pre></blockquote><p><blockquote><pre>}

</pre></blockquote><p>After determining the button's state, <code>setObject:forKey:</code> is used to set the value of the specified default in the application domain.<p>

You don't have to use a Preferences panel to manage all defaults. For example, an NSWindow can store its placement in the user defaults system, so that it appears in the same location the next time the user starts the application.<p>

<h4>

<a name="205">

 Use the default value to determine behavior.

</a>

</h4>

To find out whether or not to delete a backup file, you can use the following statement:<p>

<blockquote><pre>     [[NSUserDefaults standardUserDefaults] boolForKey:@"DeleteBackup"];

</pre></blockquote><p>As a convenience, NSUserDefaults provides <code>boolForKey:</code>, <code>floatForKey:</code>, and so on. Recall that a default's value can be only an NSData, NSString, NSArray, or NSDictionary. The <code>boolForKey:</code> and similarly named methods attempt to get the value for the specified default and interpret it as a different data type.<p>

<a name="209">

<HR WIDTH=50% ALIGN=LEFT>

<h2>Method Types

</h2>

</a><dl>

<dt>Getting the shared instance<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/clm/NSUserDefaults/standardUserDefaults">+ standardUserDefaults</a></dl></dd>

</dl></dd></dl></dd></dl></dd><dt>Initializing an NSUserDefaults<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSUserDefaults/init">- init</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/initWithUser:">- initWithUser:</a></dl></dd>

</dl></dd></dl></dd></dl></dd><dt>Getting a default<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:">- arrayForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:">- boolForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:">- dataForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:">- dictionaryForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:">- floatForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:">- integerForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:">- objectForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:">- stringArrayForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:">- stringForKey:</a></dl></dd>

</dl></dd></dl></dd></dl></dd><dt>Setting and removing defaults<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSUserDefaults/removeObjectForKey:">- removeObjectForKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/setBool:forKey:">- setBool:forKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/setFloat:forKey:">- setFloat:forKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/setInteger:forKey:">- setInteger:forKey:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/setObject:forKey:">- setObject:forKey:</a></dl></dd>

</dl></dd></dl></dd></dl></dd><dt>Setting and getting the search list<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSUserDefaults/setSearchList:">- setSearchList:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/searchList">- searchList</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryRepresentation">- dictionaryRepresentation</a></dl></dd>

</dl></dd></dl></dd></dl></dd><dt>Maintaining persistent domains<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSUserDefaults/persistentDomainForName:">- persistentDomainForName:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/persistentDomainNames">- persistentDomainNames</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/removePersistentDomainForName:">- removePersistentDomainForName:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/setPersistentDomain:forName:">- setPersistentDomain:forName:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/synchronize">- synchronize</a></dl></dd>

</dl></dd></dl></dd></dl></dd><dt>Maintaining volatile domains<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSUserDefaults/removeVolatileDomainForName:">- removeVolatileDomainForName:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/setVolatileDomain:forName:">- setVolatileDomain:forName:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/volatileDomainForName:">- volatileDomainForName:</a><dt><a href="#//apple_ref/occ/instm/NSUserDefaults/volatileDomainNames">- volatileDomainNames</a></dl></dd>

</dl></dd></dl></dd></dl></dd><dt>Registering defaults<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSUserDefaults/registerDefaults:">- registerDefaults:</a></dl></dd>

</dl></dd></dl></dd></dl></dd></dl>

<HR WIDTH=50% ALIGN=LEFT>

<a name="248"></a>

<a name="clm"></a>

<h2>Class Methods</h2>  

 



<a name="249"></a>

<h3>

 <a name="//apple_ref/occ/clm/NSUserDefaults/standardUserDefaults">standardUserDefaults</a>

</h3>

+ (NSUserDefaults *)<code>standardUserDefaults</code> 

<P>Returns the shared defaults object. If it doesn't exist yet, it's created with a search list containing the names of the following domains, in this order: <p>

<ul><li>NSArgumentDomain, consisting of defaults parsed from the application's arguments<p>

<li>A domain identified by the process (application) name<p>

<li>NSGlobalDomain, consisting of defaults meant to be seen by all applications<p>

<li>Separate domains for each of the user's preferred languages <p>

<li>NSRegistrationDomain, a set of temporary defaults whose values can be set by the application to ensure that searches will always be successful <p>

</ul>The defaults are initialized for the current user.  Subsequent modifications to the standard search list remain in effect even when this method is invoked again-the search list is guaranteed to be standard only the first time this method is invoked. The shared instance is provided as a convenience; you may create custom  instances with <code>initWithUser:</code> and <code>init</code>. <p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/init">- init</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/initWithUser:"><code>- initWithUser:</a>

</code><p><HR WIDTH=50% ALIGN=LEFT>

<a name="instm"></a>

<h2>Instance Methods</h2>  





<a name="260"></a>

<h3>

 <a name="//apple_ref/occ/instm/NSUserDefaults/arrayForKey:">arrayForKey:</a>

</h3>

- (NSArray *)<code>arrayForKey:</code>(NSString *)<em>defaultName</em> 

<P>Invokes <code>objectForKey:</code> with key <em>defaultName</em>. Returns the value associated with <em>defaultName</em> if it's an NSArray object and <code>nil</code> otherwise.  <p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:">-boolForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:"><code>- dataForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:"><code>- dictionaryForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:"><code>- floatForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:"><code>- integerForKey:</a></code>, 

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:">- objectForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:"><code>- stringArrayForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:"><code>- stringForKey:</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="264"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/boolForKey:">boolForKey:</a></h3>

- (BOOL)<code>boolForKey:</code>(NSString *)<em>defaultName</em> 

<P>Invokes <code>stringForKey</code>: with key <em>defaultName</em>. Returns YES if the  value associated with <em>defaultName</em> is an NSString containing uppercase or lowercase "YES" or responds to the <code>intValue</code> message by returning a non-zero value. Otherwise, returns NO.<p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:">-arrayForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:"><code>- dataForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:"><code>- dictionaryForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:"><code>- floatForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:"><code>- integerForKey:</a></code>, 

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:">- objectForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:"><code>- stringArrayForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:"><code>- stringForKey: </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="268"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/dataForKey:">dataForKey:</a></h3>

- (NSData *)<code>dataForKey:</code>(NSString *)<em>defaultName</em> 

<P>Invokes <code>objectForKey:</code> with key <em>defaultName</em>. Returns the corresponding value if it's an NSData object and nil otherwise.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:"></em><code>- arrayForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:"><code>-boolForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:"><code>- dictionaryForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:"><code>- floatForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:"><code>- integerForKey:</a></code>, 

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:">- objectForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:"><code>- stringArrayForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:"><code>- stringForKey:</code><em> </em><code> </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="272"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:">dictionaryForKey:</a></h3>

- (NSDictionary *)<code>dictionaryForKey:</code>(NSString *)<em>defaultName</em> 

<P>Invokes <code>objectForKey:</code> with key <em>defaultName</em>. Returns the corresponding value if it's an NSDictionary object and <code>nil</code> otherwise.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:"></em><code>- arrayForKey:</a></code>,<code> <a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:"></code><code>-boolForKey:</a></code><code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:"></code><code>- dataForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:"><code>- floatForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:"><code>- integerForKey:</a></code>, 

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:">- objectForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:"><code>- stringArrayForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:"><code>- stringForKey:</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="276"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/dictionaryRepresentation">dictionaryRepresentation</a></h3>

- (NSDictionary *)<code>dictionaryRepresentation</code> 

<P>Returns a dictionary that contains a union of all key-value pairs in the domains in the search list.  As with <code>objectForKey:</code>, key-value pairs in domains that are earlier in the search list take precedence.  The combined result doesn't preserve information about which domain each entry came from.<p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/instm/NSUserDefaults/searchList"><code>- searchList</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="280"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/floatForKey:">floatForKey:</a></h3>

- (float)<code>floatForKey:</code>(NSString *)<em>defaultName</em> 

<P>Invokes <code>stringForKey:</code> with key <em>defaultName</em>. Returns 0 if no string is returned. Otherwise, the resulting string is sent a <code>floatValue</code> message, which provides this method's return value.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:"></em><code>- arrayForKey:</a></code>,<code> <a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:"></code><code>-boolForKey:</a></code><code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:"></code><code>- dataForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:"><code>- dictionaryForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:"><code>- integerForKey:</a></code>, 

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:">- objectForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:"><code>- stringArrayForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:"><code>- stringForKey:</code><em> </em><code> </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="284"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/init">init</a></h3>

- (id)<code>init</code> 

<P>Initializes defaults for the current user account and returns an NSUserDefaults instance with the argument and registration domains set up. This method doesn't put anything in the search list. Invoke it only if you've allocated your own NSUserDefaults instance instead of using the shared one.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/clm/NSUserDefaults/standardUserDefaults"></em><code>+ standardUserDefaults</code><em> </em><code> </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="288"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/initWithUser:">initWithUser:</a></h3>

- (id)<code>initWithUser:</code>(NSString *)<em>username</em> 

<P>Initializes defaults for the user account identified by <em>username</em> and returns an NSUserDefaults instance with the argument and registration domains set up. This method doesn't put anything in the search list. Invoke it only if you've allocated your own NSUserDefaults instance instead of using the shared one.<p>

You wouldn't ordinarily use this method to initialize an instance of NSUserDefaults. It is provided for applications intended for use by a superuser who needs to update defaults databases for a number of users. The user who started the application must have appropriate access (read, write, or both) to the defaults database of the new user, or this method returns <code>nil</code>.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/clm/NSUserDefaults/standardUserDefaults"></em><code>+ standardUserDefaults</code><em> </em><code> </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="293"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/integerForKey:">integerForKey:</a></h3>

- (int)<code>integerForKey:</code>(NSString *)<em>defaultName</em> 

<P>Invokes <code>stringForKey:</code> with key <em>defaultName</em>. Returns 0 if no string is returned.  Otherwise, the resulting string is sent a <code>intValue</code> message, which provides this method's return value.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:"></em><code>- arrayForKey:</a></code>,<code> <a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:"></code><code>-boolForKey:</a></code><code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:"></code><code>- dataForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:"><code>- dictionaryForKey:</a></code>, 

<a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:"><code>- floatForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:"><code>- objectForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:"><code>- stringArrayForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:"><code>- stringForKey:</a></code>  



<p><hr WIDTH=25% ALIGN=LEFT>

<a name="297"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/objectForKey:">objectForKey:</a></h3>

- (id)<code>objectForKey:</code>(NSString *)<em>defaultName</em> 

<P>Returns the value of the first occurrence of the default identified by <em>defaultName</em>, searching the domains included in the search list in the order they're listed. Returns <code>nil</code> if the default isn't found.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:"></em><code>- arrayForKey:</a></code>,<code> <a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:"></code><code>-boolForKey:</a></code><code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:"></code><code>- dataForKey:</a></code>, 

<a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:"><code>- dictionaryForKey:</a></code>, 

<a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:"><code>- floatForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:"><code>- integerForKey:</a></code>:, 

<a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:"><code>- stringArrayForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:"><code>- stringForKey:</a></code>  



<em> </em> 

<p><hr WIDTH=25% ALIGN=LEFT>

<a name="301"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/persistentDomainForName:">persistentDomainForName:</a></h3>

- (NSDictionary *)<code>persistentDomainForName:</code>(NSString *)<em>domainName</em> 

<P>Returns a dictionary representing the persistent domain identified by <em>domainName</em>. The keys in the dictionary are names of defaults, and the value corresponding to each key is a property-list object (NSString, NSDictionary, NSArray, or NSData).<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/removePersistentDomainForName:"></em><code>- removePersistentDomainForName:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/setPersistentDomain:forName:"><code>- setPersistentDomain:forName:  </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="305"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/persistentDomainNames">persistentDomainNames</a></h3>

- (NSArray *)<code>persistentDomainNames</code> 

<P>Returns an array containing the names of the current persistent domains. You can get each domain by using the domain names in the array as arguments to <code>persistentDomainForName:</code>. <p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/removePersistentDomainForName:"></em><code>- removePersistentDomainForName:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/setPersistentDomain:forName:"><code>- setPersistentDomain:forName:</code><em> </em><code> </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="309"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/registerDefaults:">registerDefaults:</a></h3>

- (void)<code>registerDefaults:</code>(NSDictionary *)<em>dictionary</em> 

<P>Adds the contents of <em>dictionary</em> to the registration domain. If there is no registration domain, it's created using dictionary, and NSRegistrationDomain is added to the end of the search list<p>

<hr WIDTH=25% ALIGN=LEFT>

<a name="312"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/removeObjectForKey:">removeObjectForKey:</a></h3>

- (void)<code>removeObjectForKey:</code>(NSString *)<em>defaultName</em> 

<P>Removes the value for the default identified by<em> defaultName</em> in the standard application domain. Removing a default has no effect on the value returned by the <code>objectForKey:</code> method if the same key exists in a domain that precedes the standard application domain in the search list.<p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/setObject:forKey:">- setObject:forKey:</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="316"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/removePersistentDomainForName:">removePersistentDomainForName:</a></h3>

- (void)<code>removePersistentDomainForName:</code>(NSString *)<em>domainName</em> 

<P>Removes the persistent domain identified by <em>domainName</em> from the user's defaults. The first time that a persistent domain is changed after <code>synchronize</code>, an NSUserDefaultsChanged notification is posted.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/setPersistentDomain:forName:"></em><code>- setPersistentDomain:forName:</code><em> </em><code> </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="320"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/removeVolatileDomainForName:">removeVolatileDomainForName:</a></h3>

- (void)<code>removeVolatileDomainForName:</code>(NSString *)<em>domainName</em> 

<P>Removes the volatile domain identified by<em> domainName</em> from the user's defaults.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/setVolatileDomain:forName:"></em><code>- setVolatileDomain:forName:</code><em> </em><code> </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="324"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/searchList">searchList</a></h3>

- (NSArray *)<code>searchList</code> 

<P>Returns an array of domain names, identifying the domains that <code>objectForKey:</code> will search.<p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/setSearchList:">- setSearchList:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryRepresentation"><code>- dictionaryRepresentation </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="328"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/setBool:forKey:">setBool:forKey:</a></h3>

- (void)<code>setBool:</code>(BOOL)<em>value </em><code>forKey:</code>(NSString *)<em>defaultName</em> 

<P>Sets the value of the default identified by <em>defaultName</em> to a string representation of YES or NO, depending on value. Invokes <code>setObject:forKey:</code> as part of its implementation.<p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:">- boolForKey:</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="332"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/setFloat:forKey:">setFloat:forKey:</a></h3>

- (void)<code>setFloat:</code>(float)<em>value </em><code>forKey:</code>(NSString *)<em>defaultName</em> 

<P>Sets the value of the default identified by <em>defaultName</em> to a string representation of value. Invokes <code>setObject:forKey:</code> as part of its implementation.<p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:">- floatForKey:</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="336"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/setInteger:forKey:">setInteger:forKey:</a></h3>

- (void)<code>setInteger:</code>(int)<em>value </em><code>forKey:</code>(NSString *)<em>defaultName</em> 

<P>Sets the value of the default identified by <em>defaultName</em> to a string representation of value. Invokes <code>setObject:forKey:</code> as part of its implementation.<p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:">- integerForKey:</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="340"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/setObject:forKey:">setObject:forKey:</a></h3>

- (void)<code>setObject:</code>(id)<em>value </em><code>forKey:</code>(NSString *)<em>defaultName</em> 

<P>Sets the value of the  default identified by <em>defaultName</em> in the standard application domain. Setting a default has no effect on the value returned by the <code>objectForKey:</code> method if the same key exists in a domain that precedes the application domain in the search list.<p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:">- objectForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/removeObjectForKey:"><code>- removeObjectForKey:</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="344"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/setPersistentDomain:forName:">setPersistentDomain:forName:</a></h3>

- (void)<code>setPersistentDomain:</code>(NSDictionary *)<em>domain </em><code>forName:</code>(NSString *)<em>domainName</em> 

<P>Sets the dictionary for the persistent domain named <em>domainName</em>; raises an NSInvalidArgumentException if a persistent domain with <em>domainName</em> already exists. The first time that a persistent domain is changed after synchronize, an NSUserDefaultsChanged notification is posted.<p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/instm/NSUserDefaults/persistentDomainForName:"><code>- persistentDomainForName:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/persistentDomainNames"><code>- persistentDomainNames</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="348"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/setSearchList:">setSearchList:</a></h3>

- (void)<code>setSearchList:</code>(NSArray *)<em>array</em>

<P>Sets the domains that <code>objectForKey:</code> will search. Domain names in <em>array</em> with no corresponding user default domain are ignored.<p>

<B>See also: </B>  

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/searchList">- searchList</a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="352"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/setVolatileDomain:forName:">setVolatileDomain:forName:</a></h3>

- (void)<code>setVolatileDomain:</code>(NSDictionary *)<em>domain </em><code>forName:</code>(NSString *)<em>domainName</em> 

<P>Sets the dictionary to <em>domain</em> for the volatile domain named <em>domainName</em>. This method raises an NSInvalidArgumentException if a volatile domain with <em>domainName</em> already exists.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/volatileDomainForName:"></em><code>- volatileDomainForName:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/volatileDomainNames"><code>- volatileDomainNames  </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="356"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:">stringArrayForKey:</a></h3>

- (NSArray *)<code>stringArrayForKey:</code>(NSString *)<em>defaultName</em> 

<P>Invokes <code>objectForKey:</code> with key <em>defaultName</em>. Returns the corresponding value if it's an NSArray object containing NSStrings, and <code>nil</code> otherwise. <p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:"></em><code>- arrayForKey:</a></code>,<code> <a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:"></code><code>-boolForKey:</a></code><code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:"></code><code>- dataForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:"><code>- dictionaryForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:">

<code>- floatForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:"><code>- integerForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:"><code>- objectForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/stringForKey:"><code>- stringForKey:</a></code>





<em> </em> 

<p><hr WIDTH=25% ALIGN=LEFT>

<a name="360"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/stringForKey:">stringForKey:</a></h3>

- (NSString *)<code>stringForKey:</code>(NSString *)<em>defaultName</em> 

<P>Invokes <code>objectForKey:</code> with key <em>defaultName</em>. Returns the corresponding value if it's an NSString object and <code>nil</code> otherwise.<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/arrayForKey:"></em><code>- arrayForKey:</a></code>,<code> <a href="#//apple_ref/occ/instm/NSUserDefaults/boolForKey:"></code><code>-boolForKey:</a></code><code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dataForKey:"></code><code>- dataForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/dictionaryForKey:"><code>- dictionaryForKey:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/floatForKey:"><code>- floatForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/integerForKey:"><code>- integerForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/objectForKey:"><code>- objectForKey:</a></code>, 



<a href="#//apple_ref/occ/instm/NSUserDefaults/stringArrayForKey:"><code>- stringArrayForKey:</a></code>



<em> </em> 

<p><hr WIDTH=25% ALIGN=LEFT>

<a name="364"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/synchronize">synchronize</a></h3>

- (BOOL)<code>synchronize</code> 

<P>Saves any modifications to the persistent domains and updates all persistent domains that were not modified to what is on disk. Returns NO if it could not save data to disk. Since the <code>synchronize</code> method is automatically invoked at periodic intervals, use this method only if you cannot wait for the automatic synchronization (for example if your application is about to exit), or if you want to update user defaults to what is on disk even though you have not made any changes.<p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/instm/NSUserDefaults/persistentDomainForName:"><code>- persistentDomainForName:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/persistentDomainNames"><code>- persistentDomainNames</a></code>, 

<code><a href="#//apple_ref/occ/instm/NSUserDefaults/removePersistentDomainForName:">- removePersistentDomainForName:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/setPersistentDomain:forName:"><code>- setPersistentDomain:forName:  </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="368"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/volatileDomainForName:">volatileDomainForName:</a></h3>

- (NSDictionary *)<code>volatileDomainForName:</code>(NSString *)<em>domainName</em> 

<P>Returns a dictionary representing the volatile domain identified by <em>domainName</em>. The keys in the dictionary are names of defaults, and the value corresponding to each key is a property-list object (NSString, NSData, NSDictionary, NSArray).<p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/removeVolatileDomainForName:"></em><code>- removeVolatileDomainForName:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/setVolatileDomain:forName:"><code>- setVolatileDomain:forName: </code><em> </em><code> </a>

</code><p><hr WIDTH=25% ALIGN=LEFT>

<a name="372"></a>

<h3> <a name="//apple_ref/occ/instm/NSUserDefaults/volatileDomainNames">volatileDomainNames</a></h3>

- (NSArray *)<code>volatileDomainNames</code> 

<P>Returns an array containing the names of the current volatile domains. You can get each domain by using the domain names in the array as arguments to <code>volatileDomainForName:</code>. <p>

<B>See also: </B>  

<em> <a href="#//apple_ref/occ/instm/NSUserDefaults/removeVolatileDomainForName:"></em><code>- removeVolatileDomainForName:</a></code>, <a href="#//apple_ref/occ/instm/NSUserDefaults/setVolatileDomain:forName:"><code>- setVolatileDomain:forName:</a>

</code><p><a name="376">

<HR WIDTH=50% ALIGN=LEFT>

<h2>Notifications

</h2>

</a><a name="377"></a>

<h3> <a name="//apple_ref/c/data/NSUserDefaults/NSUserDefaultsDidChangeNotification">NSUserDefaultsDidChangeNotification</a></h3>

This notification contains a notification object but no userInfo dictionary. The notification object is the NSUserDefaults instance.<p>

This notification is posted the first time after a <code>synchronize</code> when a change is made to defaults in a persistent domain. <p>



 

 





<i>Copyright &#169; 1997, Apple Computer, Inc.   All rights

reserved.</i>



<!-- Last updated: 06/17/97 16:53:42 -->



</body>

</html>

