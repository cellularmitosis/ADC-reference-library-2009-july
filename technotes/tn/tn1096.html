<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 03-24-01 --><!--Includes revisions to code listings--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css">   <title>Technical Note TN1096: Mac OS 7.6.1</title>       <meta name="keywords" content="Mac OS 7.6.1 system update process manager BowelsOfTheMemoryMgr ObjectSupportLib ">    <meta name="Description" content="Technical Note TN1096: This Technical Note discusses SystemUpdate 7.6.1 and the differences between it and System Update7.6. Topics discussed include how to obtain System 7.6.1,the Process Manager, the CFM-68K Runtime Enabler, the MemoryManager, Drivers, known problems and CPU support."><meta name="categories" content="Overview, Operating System and System Releases"><meta name="week-posted" content="Oct 26, 1998 - Nov 6, 1998"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002936" title="Mac OS 7.6.1"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1096</div>
<div id="pageheadsub">Mac OS 7.6.1</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                   <td background="images/tnmenubody.gif" width=300 align=left>                        <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->					<p id="menutext">         <A HREF = "#Section1">Delivery of Mac OS 7.6.1</A><BR><BR>                  <A HREF = "#Section2">Changes and Improvements from Mac OS 7.6</A></p>                  <UL TYPE=DISC>             <LI><P id = menutext><A HREF = "#Process">Process Manager</A></p></li>             <LI><P id = menutext><A HREF = "#CFM">CFM-68K Runtime Enabler</A></p></li>             <LI><P id = menutext><A HREF = "#Memory">Memory Manager</A></p></li>             <LI><P id = menutext><A HREF = "#Drivers">Drivers</A></p></li>             <LI><P id = menutext><A HREF = "#miscellaneous">Miscellaneous</A></p></li>         </UL>         <P id = menutext><A HREF = "#newCPU">New CPU Support</A></p>         <UL>             <LI><P id = menutext><A HREF = "#updates">Updated Components</A></p></li>         </UL>         <P id = menutext><A HREF = "#Section3">Known Problems</A><BR><BR>                           <A HREF="#references">References</A><BR>                  <BR>                  <A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="Technote menu gif" width=300 height=16>                    </td>                </tr>            </table>        </td>		<td width=300 valign="top" align=left>	<!-- begin_intro_text -->         <P id = introtext>With the release of MacOS 7.6,          Apple completed the first step of our incremental release strategy for the Mac OS.          This strategy calls for annual reference releases          (full standalone installations sold in retail channels) with updates in between.</p>        <P id = introtext>        Mac OS 7.6.1 is the next step in the execution of this strategy. This update to        Mac OS 7.6 has two main goals: </P>        <UL>            <LI><P id = introtext>Improve stability through bug fixes.</P></li>            <LI><P id = introtext>Make the features of Mac OS 7.6 available to recently introduced computers             which are not supported by the initial release. </P></li></UL>        <P id = introtext>        This update is not intended to deliver any new features, nor does it        deliver updates to technologies already available through download sites on the        Internet and online services.</P><P id = introtext>For a detailed description of Mac OS 7.6, see <A HREF = "tn1090.html">Technote 1090 -- Mac OS 7.6</A>.</P><!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [Feb 08 1998]</h3><!-- end_date -->                </TD>             </TR>          </TABLE> <!-- end_header_box --><BR><BR><hr width=500 align=center><BR><BR><!-- begin_content -->                <A NAME="Section1"></A>                  <H2>Delivery of Mac OS 7.6.1</H2><P>There are three ways to get Mac OS 7.6.1 Update.</p><P>1) There is a four floppy disk image set which is available via the Internet, various other on-line services, and by calling the Apple Order Center.  This update will apply to any machine currently running Mac OS 7.6.  Machines running a version of system software prior to Mac OS 7.6 must first upgrade to Mac OS 7.6 before applying Mac OS 7.6.1 Update.</p><P>2) Several machines were released at approximately the same time as Mac OS 7.6.  These machines did not run Mac OS 7.6 at the time of introduction. (For a full list, see the section <A HREF = "#newCPU">New CPU's Supported</A>.) A CD-ROM containing a full Mac OS 7.6.1 install is available for these machines. This CD-ROM is available for customers with these computers through the Mac OS Up-To-Date program</p><P>For more information about qualified machines, <A HREF = "http://www.macos.apple.com/macos/releases/fulfillment.html">see the Mac OS Up-To-Date web site</A>. This site will be continually updated as any new machines are introduced. In the U.S.A., you may call 1-800-335-9258. For customers outside the U.S.A., contact the local Apple support center for further information.</p><P>3) The PowerBook 3400 has a special version of this update, available on five floppy disk images.  This update is available via the Internet, various other on-line services, and by calling Apple's customer support departments.  This update will only apply to the PowerBook 3400, which when introduced ran a special version of Mac OS 7.6.</p><P><A HREF="#top">Back to top</A></P>         <A NAME="Section2"></A>                  <H2>Changes and Improvements from Mac OS 7.6</H2>                  <A NAME="Process"></A>         <H3>Process Manager</H3>            <H4>Type 11 errors</H4>              <P>The biggest change in Mac OS 7.6.1 is the removal of nearly all type 11 errors.  Most crashes in Power PC-native code previously were mapped to the "miscellaneous hardware error" code, which is 11. We now calculate the real error code and report the correct number.  Refer to <A HREF = "tn1011.html"> -- Technote 1011  Understanding Type 11 &amp; No FPU Installed Errors on the Power Macintosh</A>for more details.            </P>                        <P>            Previously, when MacsBug was not installed, a type 11 error would bring up a            "Sorry, a system error has occurred" dialog and force an immediate reboot. Now            most of these errors will instead "unexpectedly quit" the foreground            application. We strongly advise customers to restart after this occurs, but they            should use the Restart item in Finder's Special menu or the Shut Down command            in the Apple menu.            </P>                        <H4>Type 12 errors</H4>            <P>            Under Mac OS 7.6, applications which had a Debugger or DebugStr instruction would cause a type 12 error and force an immediate restart. Now this problem will produce an 'application unexpectedly quit' condition and allow a controlled restart.            </P>                        <H4>No More Type 112 errors</H4>            <P>            Applications which repeatedly install the same Time Manager task can cause a            situation where the VM deferred-task queue overflows.  This would cause a Type 112 error            under Mac OS 7.5.5 or Mac OS 7.6 and a crash or hang of the system under older system software versions. Mac OS 7.6.1 prevents             this condition by detecting duplicate Time Manager tasks and not installing them.  For more details see <A HREF = "tn1069.html">Technote 1069 -- System 7.5.5</A>            </P>                        <H4>Process Manager heap</H4>            <P>            We now reserve some memory (300K) in the Process Manager heap when available            memory is between minimum and preferred launch sizes. This gives things like            QuickTime some breathing room by preventing applications from occupying all available            memory.            </P>                         <H4 ALIGN=LEFT>Default Stack Size</H4>            <P>             Background-only applications had their default stack size increased from 2K to 8K.  This helps avoid stack/heap collisions.  (The problem is that background-only applications written in a high-level language such as C, C++,  or Pascal may invoke library initialization routines before their code can increase the stack using the techniques documented in Technote 1070 or Inside Macintosh: Memory.) See <A HREF = "tn1017.html"> Technote 1070 --    Background-Only Applications</A> for more details on background-only applications, default stack sizes, and how to modify your default stack size.            </P>                        <A NAME="CFM"></A>            <H3>CFM-68K Runtime Enabler</H3>                        <P>            Under Mac OS 7.6, the Code Fragment Manager was disabled on 680X0 machines.  Mac OS 7.6.1 now installs the updated CFM-68K Runtime Enabler on 680X0 machines.            </P>                        <P>            For the full story behind the CFM-68K bug, see <A HREF = "tn1084.html"> Technote 1084 -- Running CFM-68K Code at Interrupt Time: Is Your Code at Risk?</A>            </P>                        <H4>ObjectSupportLib 1.2</H4>            <P>    With the introduction of a new CFM-68K library, a new    ObjectSupportLib library was also needed. Previous versions of OSL have bugs and/or lack    support for CFM-68K applications. For more information    see <A HREF = "tn1095.html">Technote 1095 -- Object    Support Library Version History.</A>                </P>            <A NAME="Memory"></A>            <H3>Memory Manager</H3>                        <H4>BowelsOfTheMemoryMgr</H4> <P>When you are displaying addresses in Macsbug, MacsBug shows offsets from the last symbol it can find. In the Modern Memory Manager on Power Macintosh computers up to Mac OS version 7.6, the last symbol was <CODE>__HSetStateQ</CODE>. The code after <CODE>__HSetStateQ</CODE> consists of various internal Memory Manager subroutines. So, if there's a hang or crash in an internal Memory Manager subroutine, it shows up in MacsBug as <CODE>__HSetStateQ+xxxxxxxx</CODE>.</P><P>Various system software engineers were tired of seeing bug reports that said <CODE>__HSetStateQ</CODE> was crashing, so beginning with Mac OS 7.6, we decided to add a new last symbol to the Memory Manager. As a consequence, bug reports would be somewhat more informative. We thought of naming the new symbol <CODE>YourHeapIsCorrupt</CODE> (since that's usually the case when a program crashes the Memory Manager) but decided on <CODE>BowelsOfTheMemoryMgr</CODE> instead because that's where you are.</P><P>So, if you're crashing or hanging at <CODE>BowelsOfTheMemoryMgr+xxxxxxxx</CODE>, type <CODE>HC</CODE> to see if your heap is corrupted (it probably will be) and then start debugging your code to find out how it got corrupted.</P>                                    <H4>Unlocked Handles</H4>            <P>            We fixed a condition in the Memory Manager which only affected             Quicktime. The Memory Manager was unlocking handles at an inappropriate time when these handles were used by QuickTime. This only affected QuickTime; a normal application is only affected by this bug if it uses QuickTime.</P>            <A NAME="Drivers"></A>            <H3>Drivers</H3>            <H4>ATA (IDE)</H4>            <UL>            <LI>Crashes could occur when performing large  (&gt; 1 MB) data transfers via the ATA Manager. Large transfers are broken into multiple transactions.  Each transaction could add a stack frame to the stack, risking a stack overflow.            This has been fixed.            <BR><BR></li>                        <LI>The SCSI and ATA managers share a common deferred             task queue rather than each maintaining its own. Previously, the ATA Manager was performing as though all tasks in the queue were its own.             As a result, during some concurrent ATA and SCSI operations, an ATA deferred task may not be executed.  This usually appears as a system hang for about 10 seconds during access to the ATA drive, and then it would recover. The ATA Manager now checks the queue for its deferred task rather than assuming  all queued tasks are its own. </li>                        </UL>                        <H4>Floppy</H4>            <P>            The ability to write to MFS disks             has been disabled, as such writes often resulted in errors or system hangs. These disks are now read-only.            </P>                        <H4>Serial</H4>            <P>            There was a problem on the PowerBook 3400 and PowerMac 5400, 5500, 6400 and 6500 which involved framing errors            in cases where the RxD+ line was grounded. This could occur under two conditions: </p>            <UL TYPE=DISC>                <LI>An attached serial device (such as a modem or digital camera) was turned off.<BR><BR></li>                <LI>Use of an RS-232 cable that grounds the unused pins.</li>            </UL>           <p> This was fixed by adding a reset when the serial driver detects a frame error.  A reset was also added on boot if we detect the condition ocurring at startup.</p>                                                <H4>ATI Graphics Accelerator</H4><P>            The previous versions (Graphics Accelerator and Graphics Accelerator 2 extensions) caused long interrupt latencies which impaired video capture. These interrupt latencies have been reduced with the ATI Graphics Accelerator 1.1.4 extension which is installed with Mac OS 7.6.1.</P>                        <H4>DriverLoaderLib</H4>            <P>The Driver Loader Library scans the System Folder for files of type <CODE>'ndrv'</CODE> to find disk based drivers.  In the past, only one <CODE>'ndrv'</CODE> could be included in a single file. The Driver Loader would get the first fragment in the file and look for the exported symbol "TheDriverDescription" to determine if the file contained a valid <CODE>'ndrv'</CODE> and to determine which device the driver was for.</p><P>The DriverLoaderLib (DLL) was revised to support multiple <CODE>'ndrvs'</CODE> in a single file.    <CODE>'ndrv'</CODE> files that contain a single driver will load with no problem.  Changes to the DLL to accomplish support for multiple <CODE>'ndrvs'</CODE> in a single file were as follows: </p><ol type="a">	<li>The <CODE>'cfrg'</CODE> must be of extended type.</li>	<li>code fragment name must match the name of the device.</li></ol><p>For example, the IMS driver in Mac OS 7.6.1 contains two <CODE>'ndrvs'</CODE> in the "9600 Graphics Accelerator" file. A drivers <CODE>'cfrg'</CODE> resource looks like: </p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>#define UseExtendedCFRGTemplate 1#include &quot;CodeFragmentTypes.r&quot;resource 'cfrg' (0) {    {        extendedEntry {            kPowerPC, kFullLib, kNoVersionNum, kNoVersionNum,            kDefaultStackSize, kNoAppSubFolder,            kIsLib,kOnDiskFlat,kZeroOffset,kWholeFork,            &quot;IMS,tt128mb8A&quot;,/* standard internal name: used by CFM */                             /* must match the name of the DEVICE */            /* start of extended info */            'ndrv',    /* DLL looks for this to see if ndrv */            &quot;&quot;,            &quot;&quot;,            &quot;&quot;,            &quot;IMS TwinTurbo 128M8A&quot;    /* external name: may be seen by user */        }    }};</pre>	</TD></TR></TABLE></CENTER><P>The DLL looks to see how many members are in the file, and for each member, looks for this extended <CODE>'cfrg'</CODE> resource to determine if the <CODE>'cfrg'</CODE> contains a <CODE>'ndrv'</CODE>. </P>            <A NAME="miscellaneous"></A>            <H3>Miscellaneous</H3>                        <UL>                            <LI>Previously, there were three PowerBook low battery warnings.  There are now only two warning dialogs for PowerBook low battery warning.  This was done in response to user testing.  This affects all but the original portable.  The warnings are as follows:                                 <UL>                <LI>approximately 10 seconds before sleep.<BR><BR></li>                <LI>approximately 2-4 minutes before the 10 second warning.</li>                </UL><BR></li>                                <LI>"Monitors &amp; Sound" is now installed on all PowerPC or supported 680x0 based                  CPUs if AppleVision software is present.                  AppleVision 1.5.1 (which is installed as part of Mac OS 7.6.1) requires 'Monitors &amp; Sound'.<BR><BR></li>                                 <LI>Fixed a problem in very low brightness/contrast levels in which a gradient pattern would appear on the screen on some models of the PowerBook 1400.                This change adjusts the range of allowed settings so the problem does not appear.<BR><BR></li>                            <LI>Mac OS 7.6 did not include two minor bug fixes made in the DR emulator for 7.5.5.  See <A HREF = "tn1069.html">Technote 1069 -- System 7.5.5</A> for more details on System 7.5.5.  These bug fixes are now included in 7.6.1.<BR><BR></li>                            <LI>Added GetPort and SetPort calls for the startup screen during the boot process.  This allows password dialogs in disk drivers to work properly.<BR><BR></li>                                    <LI>Fixed the handling of gamma correction in the video driver on the 7200, 7500, 8500, and the 3400.  If a fixed frequency monitor is attached to a 7200, 7500, 8500 or any of their speedbumps, and if the bits per pixel is 256 colors, the disk based driver will not apply the std gamma table to the hardware.<BR><BR></li>                                <LI>Energy Saver settings were not being saved if the shutdown and start up time                were more than 24 hours apart. This is now fixed.</li>            </UL><P><A HREF="#top">Back to top</A></P>            <A NAME="newCPU"></A>            <H2>New CPU Support</H2>                        <P>            The following Macintosh models were not qualified for the release of Mac OS 7.6.  It is necessary to use the Mac OS 7.6.1 CD to update these CPUs to 7.6.1.  The models are as follows:             </P>                        <UL>            <LI>Power Macintosh models:                 <UL>                    <LI>4400</li>                    <LI>5500</li>                    <LI>6500</li>                    <LI>7300</li>                    <LI>8600</li>                    <LI>9600</li>                </UL><BR></li>                        <LI>PowerBook 3400            <UL>                <LI>Note:  The PowerBook 3400 has a seperate update or the Mac OS 7.6.1 CD can be used.</li>            </UL></li>            </UL>            <A NAME="updates"></A>            <H3>Updated Components</H3>                        <H4>Apple System Profiler 1.1.4</H4><P>            Added support for IDE-based CD-ROM drives.</P>                        <H4>Apple Video Player 1.6/Video Startup</H4>            <UL>                <LI>Apple Video Player is now scriptable.</li>                <LI>Support for PCMCIA cards on PowerBook 3400s for video capture and TV reception.</li>            </UL>                        <H4>Apple CD-ROM 5.3.3</H4><P>            Added support for faster IDE-based CD ROM drives.  Previously, version 5.3.1 of the Apple CD-ROM driver tried to handle all SCSI CD-ROM drives, regardless of whether the drive already had an existing driver supporting it.  This caused problems with special hardware such as CD-ROM jukeboxes which required more support than the Apple CD-ROM driver had available. Versions before or after version 5.3.1 correctly work only with Apple CD-ROM drives.</P>                                     <H4>Apple Dual Processor HAL 1.4.1</H4><P>            This is the hardware abstraction layer that allows the Multiprocessing API Library to see multiple processors.  It must be stored in the same folder as the Multiprocessing API Library in order to be effective. Non-Apple hardware may require additional or different HALs.  This was added to support 9600 MP CPUs.</P>                        <H4>PC Card Extension 2.5</H4><P>            Will automatically mount PCMCIA storage devices (PC Cards) on the Finder Desktop.              Available on all PowerBooks with PCMCIA slots.  Previously, this was not done automatically and a utility was required to mount the PC Card.</P>                        <H4>New or Updated Components for PowerBook 3400</H4>            These were all added specifially for PowerBook 3400 support.                                    <UL>                <LI>PowerBook 3400 Ethernet 1.0</li>                <LI>PowerBook 3400 Internal 33.6</li>                <LI>PowerBook 3400 Modem 1.0</li>                <LI>PowerBook Ethernet (PCI) 1.1</li>                <LI>PowerBook Zoomed Video 1.0</li>                <LI>Serial (Built-in) 1.2.2</li>                <LI>AutoRemounter 1.2.3</li>                <LI>Control Strip 1.4</li>                <LI>Energy Saver 2.0.4</li>                <LI>General Controls 7.5.8</li>                <LI>Infrared 1.0.1</li>                <LI>Powerbook 7.6</li>                <LI>TrackPad 7.5.7</li>                <LI>IrDALib 1.0.1/IrLanScannerPPC 1.0.1</li>            </UL><P><A HREF="#top">Back to top</A></P> <P><A NAME="Section3"></A></P>                  <H2>Known Problems</H2>                 <H3>L2 Cache on Power Macintosh 5400 and Performa 6400 add CPUs</H3>                <P>When you install Mac OS 7.6.1 Update on most machines in the PowerMacintosh 5400, Performa 6360, and Performa 6400 product lines, the L2 cache is disabled. This will result in slower performance on these machines.  This problem came about because of an interaction between another bug fix and a compiler optimization.  (The bug fix was originally in code of the "5400/6400 Update 1.1" extension.  With Mac OS 7.6.1 Update, this code is now part of the System file.) If you are using Mac OS 7.6, installing the "5400/6400 Update 1.1" extension will result in the same performance degradation.  You can download the 54xx/64xx L2 Cache Reset fix at the Apple Support Area of <a href="http://www.apple.com">http://www.apple.com</a>.</p>                         <H3>Connectix Speed Doubler</H3>        <P>        There is a problem using Speed Doubler versions 1.3.1 and earlier and version 2.0 when used with Mac OS 7.6.1. If you use one of these Speed Doubler versions, it will be disabled when you install Mac OS 7.6.1 Update. Connectix is aware of this problem and is providing a free update. For more information, see the Connectix web site at <A HREF = "http://www.connectix.com">http://www.connectix.com</A> or call 800-839-3632.  You can also e-mail them at <A HREF = "mailto:support@connectix.com"> Technical Services at Connectix </A>        </P>                <H3>LaserWriter 8.3.4</H3>        <P>        There is a problem with printing to a file using a desktop printer with Mac OS        7.6.1 and LaserWriter 8.3.4. It will not work with the new CFM-68K fix on the        680x0 computers. This problem only occurs on 680x0 computers after installing        Mac OS 7.6.1 Update. The work around is to use LaserWriter 8.4, which can be        downloaded from Apple SW updates <A HREF = "http://swupdates.info.apple.com/cgi-bin/lister.pl?Apple_Support_Area/Apple_Software_Updates/US/Macintosh/Printing/LaserWriter">        http://swupdates.info.apple.com/Apple_Support_Area/Apple_Software_Updates/        US/Macintosh/Printing/LaserWriter</A> or America Online (keyword: AppleComputer), and CompuServe (GO APLSUP). To get a list of authorized mirror sites on the Internet, visit: http://support.info.apple.com/ftp/mirrors.html.  </p>                       <P>For customers outside the U.S.A., contact the local Apple support center for further information.</P>    <H3>CFM and Long Symbol Names</H3>        <P>    There is a CFM error with symbol names over 63 characters long.  This is most often seen in Java applets.    The first option for a workaround is to use symbol names that are less than or equal to 63 characters.  If you must use long symbol names then this is the workaround: </p>    <CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre> pascal OSErr   MyFindSymbol    ( CFragConnectionID     connID,                                  ConstStr255Param      symName,                                  Ptr *                 symAddr,                                  CFragSymbolClass *    symClass ) {    OSErr err;    err = FindSymbol ( connID, symName, symAddr, symClass );    if ( (err == paramErr) &amp;&amp; (symName[0] &gt; 63) ) {       // Oops, we're using the CFM that has the paramErr bug.       long index, limit;       Str255 name;       err = CountSymbols ( connID, &amp;limit );       if ( err != noErr ) goto EXIT;       for ( index = 0; index &lt; limit; index += 1 ) {          err = GetIndSymbol ( connID, index, name, symAddr, symClass );          if ( err != noErr ) goto EXIT;          if ( EqualString ( name, symName, false, false ) ) goto EXIT;       }       err = cfragNoSymbolErr;   } EXIT:    return err; }</pre>	</TD></TR></TABLE></CENTER>      <P>This will be fixed in Mac OS 8 and the limit will be 255 characters.</P><H3>PowerBooks and Open Transport 1.1.2</H3><P>Because Open Transport 1.1.2 was released before the PowerBook 3400,  some of the resources in Open Transport 1.1.2 are older than what is required for the PowerBook 3400. Customers with a PowerBook 3400 computer who require OT 1.1.2 need to follow a specific installation order to ensure compatibility. After installing Open Transport 1.1.2 on a PowerBook 3400, you must immediately install Mac OS 7.6.1 Update for PowerBook 3400. This will update the appropriate localtalk resources. Problems with older resources are evident when switching between Infrared and LocalTalk. Switching can result in a crash. If you experience problems when switching networks, you should reinstall the Mac OS 7.6.1 Update. </P><H3>DayStar 68040 Upgrade Card and Virtual Memory</H3><P>Virtual Memory in the Mac OS 7.6.1 Update is incompatible with DayStar 68040 accelerator cards.  You cannot use the DayStar 68040 accelerator card until Virtual Memory is turned off.  Mac OS 7.6 and the Mac OS 7.6.1 Update will turn Virtual Memory on for 680x0 machines if there is less than 16 MB of RAM.  If there is 16 MB of RAM or more, then the current setting is preserved.  So therefore if you have less than 16 MB of RAM and a DayStar 68040 Upgrade card, then this is the workaround: </P><OL TYPE="1" START="1">    <LI>Take the card out of the machine.</li>    <LI>Upgrade to Mac OS 7.6</li>    <LI>Upgrade to Mac OS 7.6.1</li>    <LI>Turn VM off.</li>    <LI>Replace the card and restart.</li></OL><H3>3D Images and OpenDoc 3DMF Viewer</H3><P>3D images cannot be viewed with OpenDoc 3DMF Viewer 1.0.1 with QuickDraw 3D 1.5 or 1.5.1 installed.  If QuickDraw 3D 1.5 or 1.5.1 is installed, a message about insufficient memory appears when attempting to place a 3D image in an OpenDoc document. Increasing the viewer's memory size with the Get Info command in the File menu does not solve the problem. To use the 3DMF Viewer, install an earlier version of QuickDraw 3D.</P><BR><H3>1710 Series Monitors and 6100/7100/8100 CPUs</H3><P>  After installing the Mac OS 7.6.1 Update, resolutions above 640 x 480 are lost on 1710 series AppleVision displays on NuBus-based Power Macintosh CPUs that are connected to the AV display connector.  This problem also occurs on the High Performance Video card for non-AV Power Macintosh 7100/8100 CPUs.  Other AV cards may also exhibit this problem.  This only happens if connected to the AV display connector, not the onboard video.  This does not effect the PCI based Power Macintosh CPUs.</p><p> There are two workarounds for this problem: </p> <OL TYPE="1" START="1">    <LI>Connect the AppleVision display to the onboard video connector.<BR><BR></li>    <LI>Perform a clean install of Mac OS 7.6.  This will provide all the resolutions that are supported by the AV display connector.</li></OL><P><A HREF="#top">Back to top</A></P><a name="references"></a><H2>References</H2>            <p><A HREF = "tn1090.html">Technote 1090 -- Mac OS 7.6</A> provides a detailed description of the numerous changes and improvements provided by Mac OS 7.6.</p>            <p>See "About Mac OS 7.6.1 Update" for more customer and user oriented information.</p>         <P><A HREF="#top">Back to top</A></P>                                    <P><A NAME=Downloads></A></P>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (56K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/tn1096.pdf">Download</A></P>               </TD>            </TR>          </TABLE>         <BR>                  <P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content -->		<!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1096.html%3Fid%3DDTS10002936-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1096.html%3Fid%3DDTS10002936-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1096.html%3Fid%3DDTS10002936-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --><hr width=500 align=center></BODY></HTML>