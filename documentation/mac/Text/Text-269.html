<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Font Family ('FOND') Resource(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING269></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-268.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-270.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-181.html"><B>Chapter 4 - Font Manager</B></A> / <A HREF="Text-209.html"><B>Font Manager Reference</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING269-0></A>
<H2><A NAME=MARKER-9-522></A><A NAME=MARKER-2-986></A>The Font Family ('FOND') Resource</H2>
 <A NAME=MARKER-2-260></A><A NAME=MARKER-2-525></A>A font family contains references to the fonts (which can be bitmapped font [<CODE>'NFNT'</CODE>], outline font [<CODE>'sfnt'</CODE>], or <CODE>'FONT'</CODE> resources) that make up the family and information that describes the family as a whole, such as a global width table for each available style.<P>
 The font family (<CODE>'FOND'</CODE>) resource contains general information about the font family, the font association table, and a collection of optional tables: the family glyph-width table, the style-mapping table, the kerning table, the offset table, and the bounding-box table. Several data structures and routines use the font family resource. For example, the global width table can use the font family information to find the recommended glyph widths and the LaserWriter printer driver can use tables that contain information about kerning pairs and mapping of styles to printer fonts.<P>
 The font family resource consists of a header component, which contains general information about the font family, and a font family tables component, which consists of the font association table and some number (possibly zero) of the optional tables that provide measurement and naming information about the font family. The header component of this resource is represented by the <CODE>FamRec</CODE> data type, the declaration of which is shown in the section <A HREF=Text-215.html#MARKER-9-329>"The Font Family Record" on page 4-42</A>. The structure of this resource is shown in <A HREF=#MARKER-9-526>Figure 4-22</A>.<P>
<B>Figure 4-22  <A NAME=MARKER-9-526></A>The font family <CODE>('FOND')</CODE> resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/FM-43.jpg">
 The header component of the font family resource consists of a number of elements that describe characteristics of the family. Each of the elements in this component is represented by a field in the <CODE>FamRec</CODE> data type.<P>
<UL>
<LI>Font family flags. An integer value, the bits of which specify general characteristics of the font family. This value is represented by the <A NAME=MARKER-2-337></A><CODE>ffFlags</CODE> field in the <CODE>FamRec</CODE> data type. The bits in the <CODE><A NAME=MARKER-2-952></A>ffFlags</CODE> field have the following meanings: 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Bit<TH>Meaning<TR>
<TD>&nbsp;<TD>0<TD>This bit is reserved by Apple and should be cleared to 0.<TR>
<TD>&nbsp;<TD>1<TD>This bit is set to 1 if the resource contains a glyph-width table.<TR>
<TD>&nbsp;<TD>2-11<TD>These bits are reserved by Apple and should be cleared to 0.<TR>
<TD>&nbsp;<TD>12<TD>This bit is set to 1 if the font family ignores the value of the <CODE>FractEnable</CODE> global variable when deciding whether to use fixed-point values for stylistic variations; the value of bit 13 is then the deciding factor. The value of the <CODE>FractEnable</CODE> global variable is set by the <CODE>SetFractEnable</CODE> procedure.<TR>
<TD>&nbsp;<TD>13<TD>This bit is set to 1 if the font family should use integer extra width for stylistic variations. If not set, the font family should compute the fixed-point extra width from the family style-mapping table, but only if the <CODE>FractEnable</CODE> global variable has a value of <CODE>TRUE</CODE>.<TR>
<TD>&nbsp;<TD>14<TD>This bit is set to 1 if the family fractional-width table is not used, and is cleared to 0 if the table is used.<TR>
<TD>&nbsp;<TD>15<TD>This bit is set to 1 if the font family describes fixed-width fonts, and is cleared to 0 if the font describes proportional fonts.</TABLE>
 
<LI>Font family ID. An integer value that specifies the <CODE>'FOND'</CODE> resource ID number for this font family. This value is represented by the <A NAME=MARKER-2-529></A><CODE>ffFamID</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Font family first character. An integer value that specifies the ASCII character code of the first glyph in the font family. This value is represented by the <CODE><A NAME=MARKER-2-567></A>ffFirstChar</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Font family last character. An integer value that specifies the ASCII character code of the last glyph in the font family. This value is represented by the <A NAME=MARKER-2-568></A><CODE>ffLastChar</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Font family maximum ascent. The maximum ascent measurement for a one-point font of the font family. This value is in a 16-bit fixed-point format with an integer part in the high-order 4 bits and a fractional part in the low-order 12 bits. This value is represented by the <A NAME=MARKER-2-569></A><CODE>ffAscent</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Font family maximum descent. The maximum descent measurement for a one-point font of the font family. This value is in a 16-bit fixed-point format with an integer part in the high-order 4 bits and a fractional part in the low-order 12 bits. This value is represented by the <A NAME=MARKER-2-533></A><CODE>ffDescent</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Font family maximum leading. The maximum leading for a 1-point font of the font family. This value is in a 16-bit fixed-point format with an integer part in the high-order 4 bits and a fractional part in the low-order 12 bits. This value is represented by the <A NAME=MARKER-2-534></A><CODE>ffLeading</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Font family maximum glyph width. The maximum glyph width of any glyph in a one-point font of the font family. This value is in a 16-bit fixed-point format with an integer part in the high-order 4 bits and a fractional part in the low-order 12 bits. This value is represented by the <A NAME=MARKER-2-535></A><CODE>ffWidMax</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Offset to family glyph-width table. The offset to the family glyph-width table from the beginning of the font family resource to the beginning of the table, in bytes. The family glyph-width table is described in the section <A HREF=Text-274.html#MARKER-9-563>"The Family Glyph-Width Table,"</A> beginning on <A HREF=Text-274.html#MARKER-9-563>page 4-92</A>. This value is represented by the <A NAME=MARKER-2-536></A><CODE>ffTabOff</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Offset to family kerning table. The offset to the beginning of the kerning table from the beginning of the <CODE>'FOND'</CODE> resource, in bytes. The kerning table is described in the section <A HREF=Text-276.html#MARKER-9-587>"The Font Family Kerning Table,"</A> beginning on <A HREF=Text-276.html#MARKER-9-587>page 4-99</A>. This value is represented by the <A NAME=MARKER-2-537></A><CODE>ffKernOff</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Offset to family style-mapping table. The offset to the style-mapping table from the beginning of the font family resource to the beginning of the table, in bytes. The style-mapping table is described in the section <A HREF=Text-275.html#MARKER-9-571>"The Style-Mapping Table,"</A> beginning on <A HREF=Text-275.html#MARKER-9-571>page 4-93</A>. This value is represented by the <A NAME=MARKER-2-1003></A><CODE>ffStyleOff</CODE> field in the <CODE>FamRec</CODE> data type.
<LI><A NAME=MARKER-9-539></A>Style properties. An array of 9 integers, each indicating the extra width, in pixels, that would be added to the glyphs of a 1-point font in this font family after a stylistic variation has been applied. This value is represented by the <A NAME=MARKER-2-997></A><CODE>ffProperty</CODE> field in the <CODE>FamRec</CODE> data type, which is an array with nine values. The Font Manager multiplies these values by the requested point size to get the correct width. Each value is in a 16-bit fixed-point format with an integer part in the high-order 4 bits and a fractional part in the low-order 12 bits. If the font with a given stylistic variation already exists as an intrinsic font, the Font Manager ignores the value in the <CODE>ffProperty</CODE> field for that style. The values in this array are used as follows:<A NAME=MARKER-2-541></A>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Property <BR>index<TH>Meaning<BR><TR>
<TD>&nbsp;<TD>1<TD>Extra width for plain text. Should be set to 0.<TR>
<TD>&nbsp;<TD>2<TD>Extra width for bold text.<TR>
<TD>&nbsp;<TD>3<TD>Extra width for italic text.<TR>
<TD>&nbsp;<TD>4<TD>Extra width for underline text.<TR>
<TD>&nbsp;<TD>5<TD>Extra width for outline text.<TR>
<TD>&nbsp;<TD>6<TD>Extra width for shadow text.<TR>
<TD>&nbsp;<TD>7<TD>Extra width for condensed text.<TR>
<TD>&nbsp;<TD>8<TD>Extra width for extended text.<TR>
<TD>&nbsp;<TD>9<TD>Not used. Should be set to 0.</TABLE>

<LI>International information. An array of 2 integers reserved for internal use by script management software. This value is represented by the <CODE>ffIntl</CODE> field in the <CODE>FamRec</CODE> data type.
<LI>Version. An integer value that specifies the version number of the font family resource, which indicates whether certain tables are available. This value is represented by the <CODE>ffVersion</CODE> field in the <CODE>FamRec</CODE> data type. Because this field has been used inconsistently in the system software, it is better to analyze the data in the resource itself instead of relying on the version number. The possible values are as follows: 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Value<TH>Meaning<TR>
<TD>&nbsp;<TD>$0000<TD>Created by the Macintosh system software. The font family resource will not have the glyph-width tables and the fields will contain 0.<TR>
<TD>&nbsp;<TD>$0001<TD>Original format as designed by the font developer. This font family record probably has the width tables and most of the fields are filled.<TR>
<TD>&nbsp;<TD>$0002<TD>This record may contain the offset and bounding-box tables.<TR>
<TD>&nbsp;<TD>$0003<TD>This record definitely contains the offset and bounding-box tables. </TABLE>
<P>
</UL>
 The font family tables component of the font family resource contains a number of tables. The font association table must be included in the resource, but the other tables are all optional. You can determine whether or not the glyph-width, kerning, or style-mapping tables are present by examining the offset value for each. Each offset value is a number of bytes from the beginning of the resource to the table; an offset of 0 means that the table is not present. For example, if the value of the <CODE>ffWTabOff</CODE> field is greater than 0, the glyph-width table is present in the resource data.<P>
 Additional tables, including the bounding-box table, can be added to the font family resource by a font designer. Whenever any table, including the glyph-width, kerning, and style-mapping tables, is included in the resource data, an offset table is included. The offset table contains a long integer offset value for each table that follows it.<P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Text-270.html#HEADING270-0">The Font Style Code</A>
<DD>
<DT><A HREF="Text-271.html#HEADING271-0">The Font Association Table</A>
<DD>
<DT><A HREF="Text-272.html#HEADING272-0">The Offset Table</A>
<DD>
<DT><A HREF="Text-273.html#HEADING273-0">The Bounding-Box Table</A>
<DD>
<DT><A HREF="Text-274.html#HEADING274-0">The Family Glyph-Width Table</A>
<DD>
<DT><A HREF="Text-275.html#HEADING275-0">The Style-Mapping Table</A>
<DD>
<DT><A HREF="Text-276.html#HEADING276-0">The Font Family Kerning Table</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-268.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-270.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
