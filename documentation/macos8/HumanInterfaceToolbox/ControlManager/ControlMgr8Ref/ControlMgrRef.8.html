<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<script language="JavaScript" src="frametest.js"></script>

<TITLE> Handling Keyboard Focus1</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<a name="top"></a>
<!-- start of banner -->			
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!-- start of path -->
<table border="0" cellpadding="0" cellspacing="2" width="432">	
	<tr>
	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">
	<b>PATH<img src="../../../images/space.gif" width="6" height="12"></b><a href="../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../mac8.html" target="_top">Mac OS 8 and 9</a> 
	<b>&gt;</b> Human Interface Toolbox
	<b>&gt;</b> <a href="../controlmanager.html" target="_top">Control Manager</a> 
	<b>&gt;</b>
	</font></td>
	</tr>
	<tr><td align="left" scope="row"><br>
	<img src="../../../images/im_smblue.gif" width="116" height="8"><img src="../../../images/space.gif" width="6" height="11">
	<font face="Geneva,Helvetica,Arial">Mac OS 8 Control Manager Reference</font>
	</td></tr>
</table><br>
<!-- end of path -->


<!-- top navigation -->
<DIV>
<P><A HREF="ControlMgrRef.2.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="ControlMgrRef.7.html"><img src="images/previous.gif" border="0"></A> <A HREF="ControlMgrRef.9.html"><img src="images/next.gif" border="0"></A>

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a></div>
<!-- end top navigation -->

<hr>

<H1 CLASS="RH2.RoutineHd2">
<A NAME="pgfId=84416">
 </A>
<A NAME="42499">
 </A>
<A NAME="16049">
 </A>
Handling Keyboard Focus</H1>
<P CLASS="T1.Text1">
<A NAME="pgfId=153427">
 </A>
A control with <A NAME="marker=170791">
 </A>
<B CLASS="bold">
keyboard focus</B>
 receives keyboard events. The Dialog Manager tests to see which control has keyboard focus when a keyboard event is processed and sends the event to that control. If no control has keyboard focus, the keyboard event is discarded. Currently, the list box, clock, and editable text controls are the only standard system controls that support keyboard focus. A control retains keyboard focus if it is hidden or deactivated.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=153428">
 </A>
A <A NAME="marker=194287">
 </A>
focus ring is drawn around the control with keyboard focus. When creating your own controls, allow space for the focus ring. For more details on designing with focus rings, see <I CLASS="italics">
Mac OS 8 Human Interface Guidelines</I>
.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=84421">
 </A>
Keyboard focus is only available if an <A NAME="marker=170793">
 </A>
embedding hierarchy has been established in the focusable control's window. The default focusing order is based on the order in which controls are added to the window. For more details on embedding hierarchies, see <A HREF="ControlMgrRef.4.html#26656" CLASS="XRef">Embedding Controls</A>
.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=240033">
 </A>
The following Control Manager functions for handling keyboard focus are new with Appearance Manager 1.0:</P>
<UL>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240047">
 </A>
<A HREF="ControlMgrRef.8.html#35678" CLASS="XRef"><CODE>SetKeyboardFocus</A></CODE>
 sets the current keyboard focus to a specified control part for a window. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240052">
 </A>
<A HREF="ControlMgrRef.8.html#23982" CLASS="XRef"><CODE>GetKeyboardFocus</A></CODE>
 obtains a handle to the control with the current keyboard focus for a specified window. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240057">
 </A>
<A HREF="ControlMgrRef.8.html#16134" CLASS="XRef"><CODE>AdvanceKeyboardFocus</A></CODE>
 advances the keyboard focus to the next focusable control in a window. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240062">
 </A>
<A HREF="ControlMgrRef.8.html#10462" CLASS="XRef"><CODE>ReverseKeyboardFocus</A></CODE>
 returns keyboard focus to the prior focusable control in a window. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240037">
 </A>
<A HREF="ControlMgrRef.8.html#27306" CLASS="XRef"><CODE>ClearKeyboardFocus</A></CODE>
 removes the keyboard focus for the currently focused control in a window. New with Appearance Manager 1.0.</LI>
</UL>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=122146">
 </A>
<A NAME="35678">
 </A>
SetKeyboardFocus</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=84427">
 </A>
Sets the current keyboard focus to a specified control part for a window.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259332">
 </A>
pascal OSErr SetKeyboardFocus (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WindowPtr inWindow,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle inControl,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlFocusPart inPart);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259336">
 </A>
<CODE>inWindow</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84430">
 </A>
A pointer to the window containing the control that is to receive keyboard focus.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259346">
 </A>
<CODE>inControl</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84431">
 </A>
A handle to the control that is to receive keyboard focus.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259355">
 </A>
<CODE>inPart</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84432">
 </A>
A part code specifying the part of a control to receive keyboard focus. To clear a control's keyboard focus, pass <CODE>kControlFocusNoPart</CODE>. See <A HREF="ControlMgrRef.a.html#32933" CLASS="XRef">Handling Keyboard Focus</A>
.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259364">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=122407">
 </A>
A result code; see <A HREF="ControlMgrRef.21.html#32189" CLASS="XRef">Result Codes</A>
.</DD>
</DL COMPACT>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=107252">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=107253">
 </A>
The <CODE>SetKeyboardFocus</CODE>
 function sets the keyboard focus to a specified control part. The control to receive keyboard focus can be deactivated or invisible. This permits you to set the focus for an item in a dialog box before the dialog box is displayed.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225748">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225749">
 </A>
Available with Appearance Manager 1.0 and later.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=84442">
 </A>
SEE ALSO</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=84446">
 </A>
<A HREF="ControlMgrRef.8.html#23982" CLASS="XRef"><CODE>GetKeyboardFocus</A></CODE>
.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=153469">
 </A>
<A HREF="ControlMgrRef.8.html#16049" CLASS="XRef">Handling Keyboard Focus</A>
.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=84448">
 </A>
<A NAME="23982">
 </A>
GetKeyboardFocus</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=84450">
 </A>
Obtains a handle to the control with the current keyboard focus for a specified window.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259375">
 </A>
pascal OSErr GetKeyboardFocus (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WindowPtr inWindow,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle* outControl);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259379">
 </A>
<CODE>inWindow</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84453">
 </A>
A pointer to the window for which to obtain keyboard focus.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259389">
 </A>
<CODE>outControl</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84454">
 </A>
Pass a pointer to a <CODE>ControlHandle</CODE>
 value. On return, the <CODE>ControlHandle</CODE>
 value is set to a handle to the control that currently has keyboard focus. Produces <CODE>nil</CODE>
 if no control has focus. </DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259398">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=122412">
 </A>
A result code; see <A HREF="ControlMgrRef.21.html#32189" CLASS="XRef">Result Codes</A>
.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=84459">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=84460">
 </A>
The <CODE>GetKeyboardFocus</CODE>
 function returns the handle of the control with current keyboard focus within a specified window. </P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225758">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225759">
 </A>
Available with Appearance Manager 1.0 and later.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=84461">
 </A>
SEE ALSO</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=84465">
 </A>
<A HREF="ControlMgrRef.8.html#35678" CLASS="XRef"><CODE>SetKeyboardFocus</A></CODE>
.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=153498">
 </A>
<A HREF="ControlMgrRef.8.html#16049" CLASS="XRef">Handling Keyboard Focus</A>
.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=84467">
 </A>
<A NAME="16134">
 </A>
AdvanceKeyboardFocus</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=84469">
 </A>
Advances the keyboard focus to the next focusable control in a window.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259409">
 </A>
pascal OSErr AdvanceKeyboardFocus (WindowPtr inWindow);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259413">
 </A>
<CODE>inWindow</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84472">
 </A>
A pointer to the window for which to advance keyboard focus.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259423">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=122402">
 </A>
A result code; see <A HREF="ControlMgrRef.21.html#32189" CLASS="XRef">Result Codes</A>
. </DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=84477">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=102040">
 </A>
The <CODE>AdvanceKeyboardFocus</CODE>
 function skips over deactivated and hidden controls until it finds the next focusable control in the window. If it does not find a focusable item, it simply returns.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=126015">
 </A>
When <CODE>AdvanceKeyboardFocus</CODE>
 is called, the Control Manager calls your control definition function and passes <CODE>kControlMsgFocus</CODE>
 in its <CODE>message</CODE>
 parameter and <CODE>kControlFocusNextPart</CODE>
 in its <CODE>param</CODE>
 parameter. In response to this message, your control definition function should change keyboard focus to its next part, the entire control, or remove keyboard focus from the control, depending upon the circumstances. see <A HREF="ControlMgrRef.a.html#32933" CLASS="XRef">Handling Keyboard Focus</A>
 for a discussion of possible responses to this message.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225765">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225766">
 </A>
Available with Appearance Manager 1.0 and later.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=84479">
 </A>
SEE ALSO</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=84483">
 </A>
<A HREF="ControlMgrRef.8.html#10462" CLASS="XRef"><CODE>ReverseKeyboardFocus</A></CODE>
.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=153523">
 </A>
<A HREF="ControlMgrRef.8.html#16049" CLASS="XRef">Handling Keyboard Focus</A>
.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=84485">
 </A>
<A NAME="10462">
 </A>
ReverseKeyboardFocus</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=84487">
 </A>
Returns keyboard focus to the prior focusable control in a window.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259434">
 </A>
pascal OSErr ReverseKeyboardFocus (WindowPtr inWindow);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259438">
 </A>
<CODE>inWindow</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=240794">
 </A>
A pointer to the window for which to reverse keyboard focus.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259448">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=240798">
 </A>
A result code; see <A HREF="ControlMgrRef.21.html#32189" CLASS="XRef">Result Codes</A>
.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=84495">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=84496">
 </A>
The <CODE>ReverseKeyboardFocus</CODE>
 function reverses the progression of keyboard focus, skipping over deactivated and hidden controls until it finds the previous control to receive keyboard focus in the window.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=126056">
 </A>
When <CODE>ReverseKeyboardFocus</CODE>
 is called, the Control Manager calls your control definition function and passes <CODE>kControlMsgFocus</CODE>
 in its <CODE>message</CODE>
 parameter and <CODE>kControlFocusPrevPart</CODE>
 in its <CODE>param</CODE>
 parameter. In response to this message, your control definition function should change keyboard focus to its previous part, the entire control, or remove keyboard focus from the control, depending upon the circumstances. see <A HREF="ControlMgrRef.a.html#32933" CLASS="XRef">Handling Keyboard Focus</A>
 for a discussion of possible responses to this message.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225768">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225769">
 </A>
Available with Appearance Manager 1.0 and later.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=84497">
 </A>
SEE ALSO</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=84501">
 </A>
<A HREF="ControlMgrRef.8.html#16134" CLASS="XRef"><CODE>AdvanceKeyboardFocus</A></CODE>
.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=153553">
 </A>
<A HREF="ControlMgrRef.8.html#16049" CLASS="XRef">Handling Keyboard Focus</A>
.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=84502">
 </A>
<A NAME="27306">
 </A>
ClearKeyboardFocus</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=84504">
 </A>
Removes the keyboard focus for the currently focused control in a window.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=259459">
 </A>
pascal OSErr ClearKeyboardFocus (WindowPtr inWindow);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259463">
 </A>
<CODE>inWindow</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=122384">
 </A>
A pointer to the window in which to clear keyboard focus.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=259473">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=122388">
 </A>
A result code; see <A HREF="ControlMgrRef.21.html#32189" CLASS="XRef">Result Codes</A>
.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=102058">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=126073">
 </A>
When the <CODE>ClearKeyboardFocus</CODE>
 function is called, the Control Manager calls your control definition function and passes <CODE>kControlMsgFocus</CODE>
 in its <CODE>message</CODE>
 parameter and <CODE>kControlFocusNoPart</CODE>
 in its <CODE>param</CODE>
 parameter. see <A HREF="ControlMgrRef.a.html#32933" CLASS="XRef">Handling Keyboard Focus</A>
 for a discussion of possible responses to this message.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225771">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225772">
 </A>
Available with Appearance Manager 1.0 and later.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=153575">
 </A>
SEE ALSO</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=153583">
 </A>
<A HREF="ControlMgrRef.8.html#16049" CLASS="XRef">Handling Keyboard Focus</A>
.</P>
</DIV>
<HR>\xA9 1998 Apple Computer, Inc. &#150 (Last Updated 19 Nov 98)<P><A HREF="ControlMgrRef.2.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="ControlMgrRef.7.html"><img src="images/previous.gif" border="0"></A> <A HREF="ControlMgrRef.9.html"><img src="images/next.gif" border="0"></A> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>

<!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->

</body>
</HTML>
