<html><head><title>Mac OS X
 Manual Page For CGI::Fast(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/CGI::Fast" title="Mac OS X
 Manual Page for CGI::Fast(3pm)"><a name="//apple_ref/doc/man/3/CGI::Fast" title="Mac OS X
 Manual Page for CGI::Fast(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/CGI::Fast"; name=CGI::Fast(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
CGI::Fast(3pm)                        Perl Programmers Reference Guide                        CGI::Fast(3pm)



<b>NAME</b>
       CGI::Fast - CGI Interface for Fast CGI

<b>SYNOPSIS</b>
           use CGI::Fast qw(:standard);
           $COUNTER = 0;
           while (new CGI::Fast) {
               print header;
               print start_html("Fast CGI Rocks");
               print
                   h1("Fast CGI Rocks"),
                   "Invocation number ",b($COUNTER++),
                   " PID ",b($$),".",
                   hr;
               print end_html;
           }

<b>DESCRIPTION</b>
       CGI::Fast is a subclass of the CGI object created by CGI.pm.  It is specialized to work well with the
       Open Market FastCGI standard, which greatly speeds up CGI scripts by turning them into persistently
       running server processes.  Scripts that perform time-consuming initialization processes, such as
       loading large modules or opening persistent database connections, will see large performance improve-<font color="#ffffff" class="whiteout">ments.&nbsp;improvements.</font>
       ments.

<b>OTHER</b> <b>PIECES</b> <b>OF</b> <b>THE</b> <b>PUZZLE</b>
       In order to use CGI::Fast you'll need a FastCGI-enabled Web server.  Open Market's server is
       FastCGI-savvy.  There are also freely redistributable FastCGI modules for NCSA httpd 1.5 and Apache.
       FastCGI-enabling modules for Microsoft Internet Information Server and Netscape Communications Server
       have been announced.

       In addition, you'll need a version of the Perl interpreter that has been linked with the FastCGI I/O
       library.  Precompiled binaries are available for several platforms, including DEC Alpha, HP-UX and
       SPARC/Solaris, or you can rebuild Perl from source with patches provided in the FastCGI developer's
       kit.  The FastCGI Perl interpreter can be used in place of your normal Perl without ill consequences.

       You can find FastCGI modules for Apache and NCSA httpd, precompiled Perl interpreters, and the
       FastCGI developer's kit all at URL:

         <a href="http://www.fastcgi.com/">http://www.fastcgi.com/</a>

<b>WRITING</b> <b>FASTCGI</b> <b>PERL</b> <b>SCRIPTS</b>
       FastCGI scripts are persistent: one or more copies of the script are started up when the server ini-
       tializes, and stay around until the server exits or they die a natural death.  After performing what-
       ever one-time initialization it needs, the script enters a loop waiting for incoming connections,
       processing the request, and waiting some more.

       A typical FastCGI script will look like this:

           #!/usr/local/bin/perl    # must be a FastCGI version of perl!
           use CGI::Fast;
           &amp;do_some_initialization();
           while ($q = new CGI::Fast) {
               &amp;process_request($q);
           }

       Each time there's a new request, CGI::Fast returns a CGI object to your loop.  The rest of the time
       your script waits in the call to <u>new()</u>.  When the server requests that your script be terminated,
       <u>new()</u> will return undef.  You can of course exit earlier if you choose.  A new version of the script
       will be respawned to take its place (this may be necessary in order to avoid Perl memory leaks in
       long-running scripts).

       CGI.pm's default CGI object mode also works.  Just modify the loop this way:

           while (new CGI::Fast) {
               &amp;process_request;
           }

       Calls to <u>header()</u>, <u>start</u><b>_</b><u>form()</u>, etc. will all operate on the current request.

<b>INSTALLING</b> <b>FASTCGI</b> <b>SCRIPTS</b>
       See the FastCGI developer's kit documentation for full details.  On the Apache server, the following
       line must be added to srm.conf:

           AddType application/x-httpd-fcgi .fcgi

       FastCGI scripts must end in the extension .fcgi.  For each script you install, you must add something
       like the following to srm.conf:

           FastCgiServer /usr/etc/httpd/fcgi-bin/file_upload.fcgi -processes 2

       This instructs Apache to launch two copies of file_upload.fcgi at startup time.

<b>USING</b> <b>FASTCGI</b> <b>SCRIPTS</b> <b>AS</b> <b>CGI</b> <b>SCRIPTS</b>
       Any script that works correctly as a FastCGI script will also work correctly when installed as a
       vanilla CGI script.  However it will not see any performance benefit.

<b>EXTERNAL</b> <b>FASTCGI</b> <b>SERVER</b> <b>INVOCATION</b>
       FastCGI supports a TCP/IP transport mechanism which allows FastCGI scripts to run external to the
       webserver, perhaps on a remote machine.  To configure the webserver to connect to an external FastCGI
       server, you would add the following to your srm.conf:

           FastCgiExternalServer /usr/etc/httpd/fcgi-bin/file_upload.fcgi -host sputnik:8888

       Two environment variables affect how the "CGI::Fast" object is created, allowing "CGI::Fast" to be
       used as an external FastCGI server.  (See "FCGI" documentation for "FCGI::OpenSocket" for more infor-
       mation.)

       FCGI_SOCKET_PATH
           The address (TCP/IP) or path (UNIX Domain) of the socket the external FastCGI script to which
           bind an listen for incoming connections from the web server.

       FCGI_LISTEN_QUEUE
           Maximum length of the queue of pending connections.

       For example:

           #!/usr/local/bin/perl    # must be a FastCGI version of perl!
           use CGI::Fast;
           &amp;do_some_initialization();
           $ENV{FCGI_SOCKET_PATH} = "sputnik:8888";
           $ENV{FCGI_LISTEN_QUEUE} = 100;
           while ($q = new CGI::Fast) {
               &amp;process_request($q);
           }

<b>CAVEATS</b>
       I haven't tested this very much.

<b>AUTHOR</b> <b>INFORMATION</b>
       Copyright 1996-1998, Lincoln D. Stein.  All rights reserved.

       This library is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.

       Address bug reports and comments to: lstein@cshl.org

<b>BUGS</b>
       This section intentionally left blank.

<b>SEE</b> <b>ALSO</b>
       CGI::Carp, CGI



perl v5.8.8                                      2001-09-21                                   CGI::Fast(3pm)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/CGI__Fast.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/CGI__Fast.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/CGI__Fast.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
