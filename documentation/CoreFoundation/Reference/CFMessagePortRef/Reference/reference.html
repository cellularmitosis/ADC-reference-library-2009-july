<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>CFMessagePort Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="CFMessagePort Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001437-DontLinkChapterID_1" title="CFMessagePort Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/CoreFoundation/index.html#//apple_ref/doc/uid/TP30001281-TP30000421" target="_top">Core Foundation</a> &gt; <a href="../index.html" target="_top">CFMessagePort Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionCFMessagePort.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/20001437-DontLinkChapterID_1-DontLinkElementID_9" title="CFMessagePort Reference"></a><h1>CFMessagePort Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Derived from</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">
<span class="content_text"><a href="../../CFTypeRef/index.html#//apple_ref/doc/uid/20001203" target="_top">CFType</a></span></span></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../CoreFoundation_Collection/index.html#//apple_ref/doc/uid/TP40003849" target="_top">CoreFoundation</a>/CoreFoundation.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CFMessagePort.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/20001437-CH203-DontLinkElementID_7" title="Overview"></a><h2>Overview</h2><p>CFMessagePort objects provide a communications channel that can transmit arbitrary data between multiple threads or processes on the local machine.</p>
<p>You create a local message port with <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateLocal">CFMessagePortCreateLocal</a></code> and make it available to other processes by giving it a name, either when you create it or later with <code><a href="reference.html#//apple_ref/c/func/CFMessagePortSetName">CFMessagePortSetName</a></code>. Other processes then connect to it using <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateRemote">CFMessagePortCreateRemote</a></code>, specifying the name of the port.</p>
<p>To listen for messages, you need to create a run loop source with <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateRunLoopSource">CFMessagePortCreateRunLoopSource</a></code> and add it to a run loop with <code><a href="../../CFRunLoopRef/Reference/reference.html#//apple_ref/c/func/CFRunLoopAddSource" target="_top">CFRunLoopAddSource</a></code>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/20001437-CH203-DontLinkElementID_10" title="Important:"></a><p><strong>Important:</strong>&nbsp;If you want to tear down the connection, you must invalidate the port (using <code><a href="reference.html#//apple_ref/c/func/CFMessagePortInvalidate">CFMessagePortInvalidate</a></code>) before releasing the runloop source and the message port object.</p><p></p></div><p>Your message port’s callback function will be called when a message arrives. To send data, you store the data in a CFData object and call <code><a href="reference.html#//apple_ref/c/func/CFMessagePortSendRequest">CFMessagePortSendRequest</a></code>. You can optionally have the function wait for a reply and return the reply in another CFData object.</p>
<p>Message ports only support communication on the local machine. For network communication, you have to use a <span class="content_text"><a href="../../CFSocketRef/index.html#//apple_ref/doc/uid/20001445" target="_top">CFSocket</a></span> object.</p>
<p></p>



<a name="//apple_ref/doc/uid/20001437-DontLinkChapterID_1-DontLinkElementID_8" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_2" title="Creating a CFMessagePort Object"></a>
    
    <h3 class="tasks">Creating a CFMessagePort Object</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateLocal">CFMessagePortCreateLocal</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a local CFMessagePort object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateRemote">CFMessagePortCreateRemote</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a CFMessagePort object connected to a remote port.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_3" title="Configuring a CFMessagePort Object"></a>
    
    <h3 class="tasks">Configuring a CFMessagePort Object</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateRunLoopSource">CFMessagePortCreateRunLoopSource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a CFRunLoopSource object for a CFMessagePort object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortSetInvalidationCallBack">CFMessagePortSetInvalidationCallBack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the callback function invoked when a CFMessagePort object is invalidated.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortSetName">CFMessagePortSetName</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the name of a local CFMessagePort object.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_4" title="Using a Message Port"></a>
    
    <h3 class="tasks">Using a Message Port</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortInvalidate">CFMessagePortInvalidate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Invalidates a CFMessagePort object, stopping it from receiving or sending any more messages.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortSendRequest">CFMessagePortSendRequest</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends a message to a remote CFMessagePort object.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_5" title="Examining a Message Port"></a>
    
    <h3 class="tasks">Examining a Message Port</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortGetContext">CFMessagePortGetContext</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the context information for a CFMessagePort object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortGetInvalidationCallBack">CFMessagePortGetInvalidationCallBack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the invalidation callback function for a CFMessagePort object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortGetName">CFMessagePortGetName</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the name with which a CFMessagePort object is registered.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortIsRemote">CFMessagePortIsRemote</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a Boolean value that indicates whether a CFMessagePort object represents a remote port.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortIsValid">CFMessagePortIsValid</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a Boolean value that indicates whether a CFMessagePort object is valid and able to send or receive messages.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_6" title="Getting the CFMessagePort Type ID"></a>
    
    <h3 class="tasks">Getting the CFMessagePort Type ID</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFMessagePortGetTypeID">CFMessagePortGetTypeID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the type identifier for the CFMessagePort opaque type.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/20001437-CH201-85785" title="Functions"></a><a name="//apple_ref/doc/uid/20001437-CH201-CJBJJICF" title="Functions"></a><h2>Functions</h2>












<a name="//apple_ref/c/func/CFMessagePortCreateLocal" title="CFMessagePortCreateLocal"></a><a name="//apple_ref/doc/c_ref/CFMessagePortCreateLocal" title="CFMessagePortCreateLocal"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17680" title="CFMessagePortCreateLocal"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_12"></a><h3 class="tight">CFMessagePortCreateLocal</h3>
<p class="spaceabove">Returns a local CFMessagePort object.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> CFMessagePortCreateLocal (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> allocator,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> name,
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortCallBack">CFMessagePortCallBack</a> callout,
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortContext">CFMessagePortContext</a> *context,
   <!--a-->Boolean<!--/a--> *shouldFreeInfo
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>allocator</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>name</em></dt>
<dd><p>The name with which to register the port. <em>name</em> can be <code><!--a  -->NULL<!--/a--></code>. </p></dd>
<dt><em>callout</em></dt>
<dd><p>The callback function invoked when a message is received on the message port. </p></dd>
<dt><em>context</em></dt>
<dd><p>A structure holding contextual information for the message port. The function copies the information out of the structure, so the memory pointed to by <em>context</em> does not need to persist beyond the function call. </p></dd>
<dt><em>shouldFreeInfo</em></dt>
<dd><p>A flag set by the function to indicate whether the <code>info</code> member of <em>context</em> should be freed. The flag is set to <code><!--a  -->true<!--/a--></code> on failure or if a local port named <em>name</em> already exists, <code><!--a  -->false<!--/a--></code> otherwise. <em>shouldFreeInfo</em> can be <code><!--a  -->NULL<!--/a--></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new CFMessagePort object, or <code><!--a  -->NULL<!--/a--></code> on failure. If a local port is already named <em>name</em>, the function returns that port instead of creating a new object; the <em>context</em> and <em>callout</em> parameters are ignored in this case. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BackgroundExporter/index.html#//apple_ref/doc/uid/DTS10003356" target="_top">BackgroundExporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BasicInputMethod/index.html#//apple_ref/doc/uid/DTS10000662" target="_top">BasicInputMethod</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortCreateRemote" title="CFMessagePortCreateRemote"></a><a name="//apple_ref/doc/c_ref/CFMessagePortCreateRemote" title="CFMessagePortCreateRemote"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17681" title="CFMessagePortCreateRemote"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_13"></a><h3 class="tight">CFMessagePortCreateRemote</h3>
<p class="spaceabove">Returns a CFMessagePort object connected to a remote port.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> CFMessagePortCreateRemote (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> allocator,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> name
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>allocator</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>name</em></dt>
<dd><p>The name of the remote message port to which to connect. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new CFMessagePort object, or <code><!--a  -->NULL<!--/a--></code> on failure. If a message port has already been created for the remote port, the pre-existing object is returned. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BackgroundExporter/index.html#//apple_ref/doc/uid/DTS10003356" target="_top">BackgroundExporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BasicInputMethod/index.html#//apple_ref/doc/uid/DTS10000662" target="_top">BasicInputMethod</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortCreateRunLoopSource" title="CFMessagePortCreateRunLoopSource"></a><a name="//apple_ref/doc/c_ref/CFMessagePortCreateRunLoopSource" title="CFMessagePortCreateRunLoopSource"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17691" title="CFMessagePortCreateRunLoopSource"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_14"></a><h3 class="tight">CFMessagePortCreateRunLoopSource</h3>
<p class="spaceabove">Creates a CFRunLoopSource object for a CFMessagePort object.</p>
<p class="spaceabove"><pre>
<a href="../../CFRunLoopSourceRef/Reference/reference.html#//apple_ref/doc/c_ref/CFRunLoopSourceRef" target="_top">CFRunLoopSourceRef</a> CFMessagePortCreateRunLoopSource (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> allocator,
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> local,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> order
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>allocator</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>ms</em></dt>
<dd><p>The message port for which to create a run loop source. </p></dd>
<dt><em>order</em></dt>
<dd><p>A priority index indicating the order in which run loop sources are processed. <em>order</em> is currently ignored by CFMessagePort object run loop sources. Pass <code>0</code> for this value. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new CFRunLoopSource object for <em>ms</em>. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>The run loop source is not automatically added to a run loop. To add the source to a run loop, use <code><a href="../../CFRunLoopRef/Reference/reference.html#//apple_ref/c/func/CFRunLoopAddSource" target="_top">CFRunLoopAddSource</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BackgroundExporter/index.html#//apple_ref/doc/uid/DTS10003356" target="_top">BackgroundExporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BasicInputMethod/index.html#//apple_ref/doc/uid/DTS10000662" target="_top">BasicInputMethod</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortGetContext" title="CFMessagePortGetContext"></a><a name="//apple_ref/doc/c_ref/CFMessagePortGetContext" title="CFMessagePortGetContext"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17685" title="CFMessagePortGetContext"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_15"></a><h3 class="tight">CFMessagePortGetContext</h3>
<p class="spaceabove">Returns the context information for a CFMessagePort object.</p>
<p class="spaceabove"><pre>
void CFMessagePortGetContext (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms,
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortContext">CFMessagePortContext</a> *context
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The message port to examine. </p></dd>
<dt><em>context</em></dt>
<dd><p>A pointer to the structure into which the context information for <em>ms</em> is to be copied. The information being returned is usually the same information you passed to <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateLocal">CFMessagePortCreateLocal</a></code> when creating <em>ms</em>. However, if <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateLocal">CFMessagePortCreateLocal</a></code> returned a cached object instead of creating a new object, <em>context</em> is filled with information from the original message port instead of the information you passed to the function.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The context version number for message ports is currently <code>0</code>. Before calling this function, you need to initialize the <code>version</code> member of <em>context</em> to <code>0</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortGetInvalidationCallBack" title="CFMessagePortGetInvalidationCallBack"></a><a name="//apple_ref/doc/c_ref/CFMessagePortGetInvalidationCallBack" title="CFMessagePortGetInvalidationCallBack"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17688" title="CFMessagePortGetInvalidationCallBack"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_16"></a><h3 class="tight">CFMessagePortGetInvalidationCallBack</h3>
<p class="spaceabove">Returns the invalidation callback function for a CFMessagePort object.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortInvalidationCallBack">CFMessagePortInvalidationCallBack</a> CFMessagePortGetInvalidationCallBack (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The message port to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The callback function invoked when <em>ms</em> is invalidated. <code><!--a  -->NULL<!--/a--></code> if no callback has been set with <code><a href="reference.html#//apple_ref/c/func/CFMessagePortSetInvalidationCallBack">CFMessagePortSetInvalidationCallBack</a></code>. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortGetName" title="CFMessagePortGetName"></a><a name="//apple_ref/doc/c_ref/CFMessagePortGetName" title="CFMessagePortGetName"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17683" title="CFMessagePortGetName"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_17"></a><h3 class="tight">CFMessagePortGetName</h3>
<p class="spaceabove">Returns the name with which a CFMessagePort object is registered.</p>
<p class="spaceabove"><pre>
<a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> CFMessagePortGetName (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The message port to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The registered name of <em>ms</em>, <code><!--a  -->NULL<!--/a--></code> if unnamed. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-SW1" target="_top">Get Rule</a></span>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortGetTypeID" title="CFMessagePortGetTypeID"></a><a name="//apple_ref/doc/c_ref/CFMessagePortGetTypeID" title="CFMessagePortGetTypeID"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17679" title="CFMessagePortGetTypeID"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_18"></a><h3 class="tight">CFMessagePortGetTypeID</h3>
<p class="spaceabove">Returns the type identifier for the CFMessagePort opaque type.</p>
<p class="spaceabove"><pre>
<a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeID" target="_top">CFTypeID</a> CFMessagePortGetTypeID (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The type identifier for the CFMessagePort opaque type.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortInvalidate" title="CFMessagePortInvalidate"></a><a name="//apple_ref/doc/c_ref/CFMessagePortInvalidate" title="CFMessagePortInvalidate"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17686" title="CFMessagePortInvalidate"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_19"></a><h3 class="tight">CFMessagePortInvalidate</h3>
<p class="spaceabove">Invalidates a CFMessagePort object, stopping it from receiving or sending any more messages.</p>
<p class="spaceabove"><pre>
void CFMessagePortInvalidate (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The message port to invalidate. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Invalidating a message port prevents the port from ever sending or receiving any more messages; the message port is not deallocated, though. If the port has not already been invalidated, the port’s invalidation callback function is invoked, if one has been set with <code><a href="reference.html#//apple_ref/c/func/CFMessagePortSetInvalidationCallBack">CFMessagePortSetInvalidationCallBack</a></code>. The <code><a href="reference.html#//apple_ref/c/tdef/CFMessagePortContext">CFMessagePortContext</a></code>  <code>info</code> information for <em>ms</em> is also released, if a release callback was specified in the port’s context structure. Finally, if a run loop source was created for <em>ms</em>, the run loop source is also invalidated.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BackgroundExporter/index.html#//apple_ref/doc/uid/DTS10003356" target="_top">BackgroundExporter</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortIsRemote" title="CFMessagePortIsRemote"></a><a name="//apple_ref/doc/c_ref/CFMessagePortIsRemote" title="CFMessagePortIsRemote"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17682" title="CFMessagePortIsRemote"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_20"></a><h3 class="tight">CFMessagePortIsRemote</h3>
<p class="spaceabove">Returns a Boolean value that indicates whether a CFMessagePort object represents a remote port.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CFMessagePortIsRemote (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The message port to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code><!--a  -->true<!--/a--></code> if <em>ms</em> is a remote port, otherwise <code><!--a  -->false<!--/a--></code>. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortIsValid" title="CFMessagePortIsValid"></a><a name="//apple_ref/doc/c_ref/CFMessagePortIsValid" title="CFMessagePortIsValid"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17687" title="CFMessagePortIsValid"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_21"></a><h3 class="tight">CFMessagePortIsValid</h3>
<p class="spaceabove">Returns a Boolean value that indicates whether a CFMessagePort object is valid and able to send or receive messages.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CFMessagePortIsValid (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The message port to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code><!--a  -->true<!--/a--></code> if <em>ms</em> can be used for communication, otherwise <code><!--a  -->false<!--/a--></code>. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortSendRequest" title="CFMessagePortSendRequest"></a><a name="//apple_ref/doc/c_ref/CFMessagePortSendRequest" title="CFMessagePortSendRequest"></a><a name="//apple_ref/doc/uid/20001437-CH201-CJBFACIE" title="CFMessagePortSendRequest"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_22"></a><h3 class="tight">CFMessagePortSendRequest</h3>
<p class="spaceabove">Sends a message to a remote CFMessagePort object.</p>
<p class="spaceabove"><pre>
SInt32 CFMessagePortSendRequest (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> remote,
   SInt32 msgid,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> data,
   <a href="../../CFTimeUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFTimeInterval" target="_top">CFTimeInterval</a> sendTimeout,
   <a href="../../CFTimeUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFTimeInterval" target="_top">CFTimeInterval</a> rcvTimeout,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> replyMode,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> *returnData
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>remote</em></dt>
<dd><p>The message port to which <em>data</em> should be sent.</p></dd>
<dt><em>msgid</em></dt>
<dd><p>An arbitrary integer value that you can send with the message.</p></dd>
<dt><em>data</em></dt>
<dd><p>The data to send to <em>remote</em>.</p></dd>
<dt><em>sendTimeout</em></dt>
<dd><p>The time to wait for <em>data</em> to be sent.</p></dd>
<dt><em>rcvTimeout</em></dt>
<dd><p>The time to wait for a reply to be returned.</p></dd>
<dt><em>replyMode</em></dt>
<dd><p>The run loop mode in which the function should wait for a reply. If the message is a <code>oneway</code> (so no response is expected), then <em>replyMode</em> should be <code>NULL</code>. If <em>replyMode</em> is non-<code>NULL</code>, the function runs the run loop waiting for a reply, in that mode. <em>replyMode</em> can be any string name of a run loop mode, but it should be one with input sources installed. You should use the <code><a href="../../CFRunLoopRef/Reference/reference.html#//apple_ref/doc/c_ref/kCFRunLoopDefaultMode" target="_top">kCFRunLoopDefaultMode</a></code> constant unless you have a specific reason to use a different mode.</p></dd>
<dt><em>returnData</em></dt>
<dd><p>Upon return, contains a CFData object containing the reply data. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>Error code indicating success or failure. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/CFMessagePortSendRequest_Error_Codes">“CFMessagePortSendRequest Error Codes”</a></span> for the possible return values.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BackgroundExporter/index.html#//apple_ref/doc/uid/DTS10003356" target="_top">BackgroundExporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BasicInputMethod/index.html#//apple_ref/doc/uid/DTS10000662" target="_top">BasicInputMethod</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortSetInvalidationCallBack" title="CFMessagePortSetInvalidationCallBack"></a><a name="//apple_ref/doc/c_ref/CFMessagePortSetInvalidationCallBack" title="CFMessagePortSetInvalidationCallBack"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17689" title="CFMessagePortSetInvalidationCallBack"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_23"></a><h3 class="tight">CFMessagePortSetInvalidationCallBack</h3>
<p class="spaceabove">Sets the callback function invoked when a CFMessagePort object is invalidated.</p>
<p class="spaceabove"><pre>
void CFMessagePortSetInvalidationCallBack (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms,
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortInvalidationCallBack">CFMessagePortInvalidationCallBack</a> callout
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The message port to examine. </p></dd>
<dt><em>callout</em></dt>
<dd><p>The callback function to invoke when <em>ms</em> is invalidated. Pass <code><!--a  -->NULL<!--/a--></code> to remove a callback. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>If <em>ms</em> is already invalid, <em>callout</em> is invoked immediately.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/func/CFMessagePortSetName" title="CFMessagePortSetName"></a><a name="//apple_ref/doc/c_ref/CFMessagePortSetName" title="CFMessagePortSetName"></a><a name="//apple_ref/doc/uid/20001437-CH201-F17684" title="CFMessagePortSetName"></a>
<a name="//apple_ref/doc/uid/20001437-CH201-DontLinkElementID_24"></a><h3 class="tight">CFMessagePortSetName</h3>
<p class="spaceabove">Sets the name of a local CFMessagePort object.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CFMessagePortSetName (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> newName
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The local message port to examine. </p></dd>
<dt><em>newName</em></dt>
<dd><p>The new name for <em>ms</em>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code><!--a  -->true<!--/a--></code> if the name change succeeds, otherwise <code><!--a  -->false<!--/a--></code>. </p>
<h5 class="tight">Discussion</h5>
<p>Other threads and processes can connect to a named message port with <code><a href="reference.html#//apple_ref/c/func/CFMessagePortCreateRemote">CFMessagePortCreateRemote</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/doc/uid/20001437-CH1g-96399" title="Callbacks"></a><a name="//apple_ref/doc/uid/20001437-CH1g-CJBBDDGA" title="Callbacks"></a><h2>Callbacks</h2>

<a name="//apple_ref/c/tdef/CFMessagePortCallBack" title="CFMessagePortCallBack"></a><a name="//apple_ref/doc/c_ref/CFMessagePortCallBack" title="CFMessagePortCallBack"></a><a name="//apple_ref/doc/uid/20001437-CH1g-F17621" title="CFMessagePortCallBack"></a><a name="//apple_ref/doc/uid/20001437-CH1g-DontLinkElementID_25"></a><h3 class="tight">CFMessagePortCallBack</h3>
<p class="spaceabove">Callback invoked to process a message received on a CFMessagePort object.</p>
<p class="spaceabove"><pre>
typedef CFDataRef (*CFMessagePortCallBack) (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> local,
   SInt32 msgid,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> data,
   void *info
);
</pre></p>
<p>If you name your function <code>MyCallBack</code>, you would declare it like this:</p>
<p><pre>
CFDataRef MyCallBack (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> local,
   SInt32 msgid,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> data,
   void *info
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>local</em></dt>
<dd><p>The local message port that received the message. </p></dd>
<dt><em>msgid</em></dt>
<dd><p>An arbitrary integer value assigned to the message by the sender.</p></dd>
<dt><em>data</em></dt>
<dd><p>The message data. </p></dd>
<dt><em>info</em></dt>
<dd><p>The <code>info</code> member of the <code><a href="reference.html#//apple_ref/c/tdef/CFMessagePortContext">CFMessagePortContext</a></code> structure that was used when creating <em>local</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>Data to send back to the sender of the message. The system releases the returned CFData object. Return <code><!--a  -->NULL<!--/a--></code> if you want an empty reply returned to the sender. </p>
<h5 class="tight">Discussion</h5>
<p>If you want the message data to persist beyond this callback, you must explicitly create a copy of <em>data</em> rather than merely retain it; the contents of <em>data</em> will be deallocated after the callback exits.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/tdef/CFMessagePortInvalidationCallBack" title="CFMessagePortInvalidationCallBack"></a><a name="//apple_ref/doc/c_ref/CFMessagePortInvalidationCallBack" title="CFMessagePortInvalidationCallBack"></a><a name="//apple_ref/doc/uid/20001437-CH1g-F17622" title="CFMessagePortInvalidationCallBack"></a><a name="//apple_ref/doc/uid/20001437-CH1g-DontLinkElementID_26"></a><h3 class="tight">CFMessagePortInvalidationCallBack</h3>
<p class="spaceabove">Callback invoked when a CFMessagePort object is invalidated.</p>
<p class="spaceabove"><pre>
typedef void (*CFMessagePortInvalidationCallBack) (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms,
   void *info
);
</pre></p>
<p>If you name your function <code>MyCallBack</code>, you would declare it like this:</p>
<p><pre>
void MyCallBack (
   <a href="reference.html#//apple_ref/doc/c_ref/CFMessagePortRef">CFMessagePortRef</a> ms,
   void *info
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ms</em></dt>
<dd><p>The message port that has been invalidated. </p></dd>
<dt><em>info</em></dt>
<dd><p>The <code>info</code> member of the <code><a href="reference.html#//apple_ref/c/tdef/CFMessagePortContext">CFMessagePortContext</a></code> structure that was used when creating <em>ms</em>, if <em>ms</em> is a local port; <code><!--a  -->NULL<!--/a--></code> if <em>ms</em> is a remote port.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Your callback should free any resources allocated for <em>ms</em>.</p>
<p>You specify this callback with <code><a href="reference.html#//apple_ref/c/func/CFMessagePortSetInvalidationCallBack">CFMessagePortSetInvalidationCallBack</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/doc/uid/20001437-CH2g-98269" title="Data Types"></a><a name="//apple_ref/doc/uid/20001437-CH2g-CJBHAEDF" title="Data Types"></a><h2>Data Types</h2>


<a name="//apple_ref/c/tdef/CFMessagePortContext" title="CFMessagePortContext"></a><a name="//apple_ref/doc/c_ref/CFMessagePortContext" title="CFMessagePortContext"></a><a name="//apple_ref/doc/uid/20001437-CH2g-C017555" title="CFMessagePortContext"></a>
<a name="//apple_ref/doc/uid/20001437-CH2g-DontLinkElementID_27"></a><h3 class="tight">CFMessagePortContext</h3>
<p class="spaceabove">A structure that contains program-defined data and callbacks with which you can configure a CFMessagePort object’s behavior.</p>
<p class="spaceabove"><pre>
struct CFMessagePortContext {
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> version;
   void *info;
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRetainCallBack" target="_top">CFAllocatorRetainCallBack</a> retain;
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorReleaseCallBack" target="_top">CFAllocatorReleaseCallBack</a> release;
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorCopyDescriptionCallBack" target="_top">CFAllocatorCopyDescriptionCallBack</a> copyDescription;
};
typedef struct CFMessagePortContext CFMessagePortContext;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>version</code></dt>
<dd><p>Version number of the structure. Must be <code>0</code>.</p></dd>
<dt><code>info</code></dt>
<dd><p>An arbitrary pointer to program-defined data, which can be associated with the message port at creation time. This pointer is passed to all the callbacks defined in the context.</p></dd>
<dt><code>retain</code></dt>
<dd><p>A retain callback for your program-defined <code>info</code> pointer. Can be <code>NULL</code>. </p></dd>
<dt><code>release</code></dt>
<dd><p>A release callback for your program-defined <code>info</code> pointer. Can be <code>NULL</code>. </p></dd>
<dt><code>copyDescription</code></dt>
<dd><p>A copy description callback for your program-defined <code>info</code> pointer. Can be <code>NULL</code>. </p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/c/tdef/CFMessagePortRef" title="CFMessagePortRef"></a><a name="//apple_ref/doc/c_ref/CFMessagePortRef" title="CFMessagePortRef"></a><a name="//apple_ref/doc/uid/20001437-CH2g-C017552" title="CFMessagePortRef"></a><a name="//apple_ref/doc/uid/20001437-CH2g-DontLinkElementID_28"></a><h3 class="tight">CFMessagePortRef</h3>
<p class="spaceabove">A reference to a message port object.</p>
<p class="spaceabove"><pre>
typedef struct __CFMessagePort *CFMessagePortRef;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFMessagePort.h</code><a name="//apple_ref/doc/uid/20001437-CH3g-99539" title="Constants"></a><a name="//apple_ref/doc/uid/20001437-CH3g-CJBGHIAD" title="Constants"></a><h2>Constants</h2>

<a name="//apple_ref/doc/constant_group/CFMessagePortSendRequest_Error_Codes" title="CFMessagePortSendRequest Error Codes" role="Enum"></a><a name="//apple_ref/doc/uid/20001437-CH3g-C017554" title="CFMessagePortSendRequest Error Codes" role="Enum"></a>
<a name="//apple_ref/doc/uid/20001437-CH3g-DontLinkElementID_29"></a><h3 class="tight">CFMessagePortSendRequest Error Codes</h3>
<p class="spaceabove">Error codes for <code>CFMessagePortSendRequest</code>.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kCFMessagePortSuccess">kCFMessagePortSuccess</a> = 0,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFMessagePortSendTimeout">kCFMessagePortSendTimeout</a> = -1,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFMessagePortReceiveTimeout">kCFMessagePortReceiveTimeout</a> = -2,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFMessagePortIsInvalid">kCFMessagePortIsInvalid</a> = -3,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFMessagePortTransportError">kCFMessagePortTransportError</a> = -4
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kCFMessagePortSuccess" title="kCFMessagePortSuccess"></a><a name="//apple_ref/doc/c_ref/kCFMessagePortSuccess" title="kCFMessagePortSuccess"></a><a name="//apple_ref/doc/uid/20001437-CH3g-DontLinkElementID_30"></a><dt><code>kCFMessagePortSuccess</code></dt>
<dd><p>The message was successfully sent and, if a reply was expected, a reply was received.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFMessagePort.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFMessagePortSendTimeout" title="kCFMessagePortSendTimeout"></a><a name="//apple_ref/doc/c_ref/kCFMessagePortSendTimeout" title="kCFMessagePortSendTimeout"></a><a name="//apple_ref/doc/uid/20001437-CH3g-DontLinkElementID_31"></a><dt><code>kCFMessagePortSendTimeout</code></dt>
<dd><p>The message could not be sent before the send timeout.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFMessagePort.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFMessagePortReceiveTimeout" title="kCFMessagePortReceiveTimeout"></a><a name="//apple_ref/doc/c_ref/kCFMessagePortReceiveTimeout" title="kCFMessagePortReceiveTimeout"></a><a name="//apple_ref/doc/uid/20001437-CH3g-DontLinkElementID_32"></a><dt><code>kCFMessagePortReceiveTimeout</code></dt>
<dd><p>No reply was received before the receive timeout.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFMessagePort.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFMessagePortIsInvalid" title="kCFMessagePortIsInvalid"></a><a name="//apple_ref/doc/c_ref/kCFMessagePortIsInvalid" title="kCFMessagePortIsInvalid"></a><a name="//apple_ref/doc/uid/20001437-CH3g-DontLinkElementID_33"></a><dt><code>kCFMessagePortIsInvalid</code></dt>
<dd><p>The message could not be sent because the message port is invalid.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFMessagePort.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFMessagePortTransportError" title="kCFMessagePortTransportError"></a><a name="//apple_ref/doc/c_ref/kCFMessagePortTransportError" title="kCFMessagePortTransportError"></a><a name="//apple_ref/doc/uid/20001437-CH3g-DontLinkElementID_34"></a><dt><code>kCFMessagePortTransportError</code></dt>
<dd><p>An error occurred trying to send the message.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFMessagePort.h</code>.</p></dd></dl>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionCFMessagePort.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-03-20<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/CoreFoundation/Reference/CFMessagePortRef/Reference/reference.html%3Fid%3D20001437-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/CoreFoundation/Reference/CFMessagePortRef/Reference/reference.html%3Fid%3D20001437-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/CoreFoundation/Reference/CFMessagePortRef/Reference/reference.html%3Fid%3D20001437-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>