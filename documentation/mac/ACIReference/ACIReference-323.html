<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>MyCMMValidateProfile(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING323></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-322.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-324.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-314.html"><B>Chapter 4 - ColorSync Manager Reference for Color Management Modules</B></A> / <A HREF="ACIReference-322.html"><B>Optional CMM-Defined Functions</B></A><BR><DL><DD><A HREF="ACIReference-308.html"><B></B></A> / <A HREF="ACIReference-317.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING323-0></A>
<H3><A NAME=MARKER-9-44></A>MyCMMValidateProfile</H3>
 Handles the <CODE>kCMMValidateProfile</CODE> request by determining if the specified profile contains the minimum set of elements required for a profile of its type.<P>
 A CMM should <A NAME=MARKER-2-45></A>respond to the <CODE>kCMMValidateProfile</CODE> request code, but it is not required to do so. The ColorSync Manager sends this request code to your CMM on behalf of an application or device driver that called the <CODE>CMValidateProfile</CODE> function. The ColorSync Manager dispatches this request to the Component Manager, which calls your CMM to service the request. A CMM typically responds to the <CODE>kCMMValidateProfile</CODE> request code by calling a CMM-defined function (for example, <A NAME=MARKER-11-46></A><CODE>MyCMMValidateProfile</CODE>) to handle the request. <P>
 The MyCMMValidateProfile function is a color management module-defined subroutine.<P>
<PRE>
pascal CMError MyCMMValidateProfile (
ComponentInstance CMSession,
CMProfileRef prof, 
Boolean *valid); 
</PRE>
<DL>
<DT><CODE>CMSession</CODE>
<DD> A handle to your CMM's storage for the instance of your component associated with the calling application or device driver. 
<DT><CODE>prof</CODE>
<DD> A reference to the profile to validate. 
<DT><CODE>valid</CODE>
<DD> A pointer to a flag whose value you set to <CODE>true</CODE> if the profile contains the elements required for a color-matching or color-checking session for a profile of this type and <CODE>false</CODE> if it doesn't.
<DT><I>function result</I>
<DD> A result code of type CMError. See <A HREF=ACIReference-313.html#MARKER-9-479>"Result Codes" (page 3-172)</A> for a list of ColorSync-specific result codes.
</DL>
<A NAME=HEADING323-9></A>
<H5>DISCUSSION</H5>
 Your <CODE>MyCMMValidateProfile</CODE> function should test the profile whose reference is passed in the <CODE>prof</CODE> parameter to determine if the profile contains the minimum set of elements required for a profile of its type. For each profile type, such as a device profile, there is a specific set of required tagged elements defined by the ICC that the profile must include. <P>
 The ICC also defines optional tags, which may be included in a profile. Your CMM might use these optional elements to optimize or improve its processing. Additionally, a profile might include private tags defined to provide your CMM with processing capability it uses. The profile developer can define these private tags, register the tag signatures with the ICC, and include the tags in a profile. <P>
 Your <CODE>MyCMMValidateProfile</CODE> function should check for the existence of the required minimum set of profile elements for a profile of this type and any optional or private tags required by your CMM. <P>
 Instead of itself checking the profile for the minimum profile elements requirements for the profile type, your <CODE>MyCMMValidateProfile</CODE> function may use the Component Manager functions to call the default Apple-supplied CMM and have it perform the minimum defaults requirements validation. The signature of the Apple-supplied CMM is <CODE>'appl'</CODE>.<P>
 To call the Apple-supplied CMM when responding to a <CODE>kCMMValidateProfile</CODE> request from an application, your CMM can use the standard mechanisms used by applications to call another component. For information, see the chapter "Component Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-322.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-324.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
