<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 03-24-01 --><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note TN1084: Running CFM-68K Code at Interrupt Time: Is Your Code at Risk?</title>    <meta name="keywords" content="Mac OS 8 CFM-68k code interrupts time crash Mixed mode">    <meta name="Description" content="Technical Note TN1084: This Technical Note describes a problemaffecting 680x0 systems running older versions of the                                    CFM-68K Runtime Enabler,in which the CFM-68K code that ran at                                    interrupt time could cause a system crash.This Technote also details other problems with CFM-68k codeand interrupts. Included is a discussion of the Apple ThreadManager and Pre-emptive thread switchers."> <meta name="categories" content="Runtime Architecture"><meta name="week-posted" content="Feb 24, 1997 - Mar 7, 1997"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002925" title="Running CFM-68K Code at Interrupt Time: Is Your Code at Risk?"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxCarbon-date.html">Carbon</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="../../referencelibrary/Carbon/idxRuntimeArchitecture-date.html" target="_blank">Carbon > Runtime Architecture</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1084</div>
<div id="pageheadsub">Running CFM-68K Code at Interrupt Time: Is Your Code at Risk?</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"> <!-- begin_header_box --> <table width="600" cellpadding="0" cellspacing="0" border="0">	<tr>		<td width=300 valign="top" align=left scope="row">			<table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>				</tr>				<tr bgcolor="#e6e6e6">					<td background="images/tnmenubody.gif" width=300 align=left>						<span id="menutitle">							CONTENTS                             <br>                            <br>						</span>					</td>				</tr>				<tr bgcolor="#e6e6e6">					<td background="images/tnmenubody.gif" width=300 align=left><!-- begin_toc --><p id="menutext">    <A HREF = "#Section1">Defining the Interrupt Problem</a><BR><BR>    <A HREF = "#Section2">The Solution</a><BR><BR>    <A HREF = "#Section3">Change Description</a><BR><BR>    <A HREF = "#Section4">Pre-emptive Thread Switchers</a><BR><BR>    <A HREF = "#Section5">Limitations</a><BR><BR>    <A HREF = "#Section6">Incompatibilities</a><BR><BR>    <A HREF = "#References">References</a><BR><BR>    <A HREF="#Downloads">Downloadables</A></p>                  <!-- end_toc --> 								</td>				</tr>				<tr>					<td width=300 align=left scope="row">						<img src="images/tnmenubottom.gif" alt="" width=300 height=16>					</td>				</tr>			</table>		</td>		<td width=300 valign="top" align=left>			<!-- begin_intro_text --><P id = "introtext">Under 680x0 systems running older versions of the CFM-68K Runtime Enabler,CFM-68K code that ran at interrupt time could cause a system crash. That problemhas been fixed in the 4.0 release of CFM-68K. This document describes that problemand details the remaining limitations with CFM-68K code and interrupts. Thereader is assumed to be familiar with the chapters on the Mixed Mode Manager andthe Code Fragment Manager as documented in <a href="../../documentation/mac/PPCSoftware/PPCSoftware-2.html">Inside Macintosh: PowerPC System Software.</A></p><P id = "introtext">Most applications will not need modification. Users will simply install the newextension and reboot to take advantage of the fix. </p><P id = "introtext">Threaded applications that don't use the Apple Thread Manager will needmodification. Threaded application writers should read this document forinstructions on how to modify their code so that their application is protectedfrom this problem. </p><!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [Mar 27 1997]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_header_box --> <BR><BR><hr width=500 align=center>          <BR><BR> <!-- begin_content -->    <a name="Section1"></a>    <H2>Defining the Interrupt Problem</h2>            <P>    Under systems running older versions of the CFM-68K Runtime Enabler (prior to    version 4.0), CFM-68K code that executes at interrupt time could trigger a    system crash. This limitation on CFM-68K code existed because on 680x0 machines,    CFM-68K Mixed Mode is not invoked by interrupts. Mixed Mode must be invoked    every time a transition is made between the "classic-68K" and the "CFM-68K"    runtime worlds.    </P>        <P>    Mixed Mode plays the same role on the 68K as it does on the PowerPC. It serves    as a runtime translation engine to manage transitions between the "classic"    runtime world and the "native" (CFM) runtime world. This includes saving and    restoring the A5 register on each transition. Any time a transition takes place    between these two worlds, Mixed Mode must be invoked.    </P>        <P>    Interrupts are a special situation with respect to Mixed Mode transitions. On    the PowerPC, there is a tight integration of the interrupt system and Mixed Mode    by an emulator. Native PowerPC code may run at interrupt time because the    emulator performs the necessary Mixed Mode transitions. There is no need for an    emulator on 68K machines. As such, mode switches don't take place between    CFM-68K code that gets interrupted and a classic 68K interrupt handler that    later gets invoked. CFM-68K code that runs at interrupt time could cause the A5    register to become invalid for classic code that executes after the interrupt.    All subsequent A5-relative references (e.g., global data references) also become    invalid.    </P>        <P>    The following is an illustration of the sequence of events that could trigger    this problem:     </P>        <P align=center><img src="images/tn1084_001.gif" alt="" width=458 height=374><BR>     <B>Figure 1</B>.</P><P>    In this example, a classic 68K application calls a routine in a CFM-68K shared    library. In order to do so, it must go through Mixed Mode. The CFM-68K code    installs an asynchronous callback routine (also written in CFM-68K code). The    CFM-68K code gets interrupted and the interrupt handler calls the user's    callback routine. </P>    <P>    The problem in this example is that a transition is made from CFM-68K to classic    code (via the interrupt) without going through Mixed Mode. In certain    situations, the wrong value of A5 could get propagated back to the classic 68K    application, resulting in a crash.</P><P><A HREF="#top">Back to top</A></p>    <a name="Section2"></A>    <H2>The Solution</h2>    <P>The 4.0 version of CFM-68K fixes the most common problems with CFM-68K coderunning at interrupt time. The behavior of Mixed Mode has been modified; it nowsaves additional information into the switch frame on each transition. However,some limitations still exist. Please read the <A HREF = "#Section5">Limitations</A> section in this document for more information.</P><H3>What Now Works</H3><P>The 4.0 version of the CFM-68K Runtime Enabler will allow the following to besafely implemented (either wholly or partially) in CFM-68K code, all of whichwere previously unsupported and could cause a system crash.</P><OL TYPE="1" START="1">    <LI>I/O completion routines<BR><BR></li>    <LI>AppleTalk callback routines<BR><BR></li>    <LI>VBL tasks<BR><BR></li>    <LI>Deferred tasks<BR><BR></li>    <LI>Pre-emptively scheduled applications using Apple's Thread Manager</li></OL><P>For each of these five examples, this includes cases where: </P><BLOCKQUOTE><ol type="a">	<li>CFM-68K code is wrapped in a routine descriptor and passed to the system</li>	<li>as one of the above interrupt time routines (e.g., as an I/O completion routine),</li>	<li>CFM-68K code is called from within an interrupt handler,</li>	<li>Classic 68K code that wraps a CFM-68K implementation and is called from an interrupt handler/routine.</li></ol></BLOCKQUOTE><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>        Cooperatively-scheduled threaded applications have always been        supported with CFM-68K. </P></TD></TR></TABLE></CENTER><BR><H3>What Won't Work</H3><P>There are several limitations that were in the previous versions of CFM-68K andremain limitations in the 4.0 version of CFM-68K. These limitations arediscussed in depth in the <A HREF = "#Section5">Limitations</A> section in this document. In short, they include: </P><OL TYPE="1" START="1">    <LI>Interrupt-safe A-Traps may not be implemented in CFM-68K code.<BR><BR></li>    <LI>Processor exception handlers may not be implemented in CFM-68K code.<BR><BR></li>    <LI>CFM-68K code cannot be called from a pre-emptive thread whose thread        scheduler has not been modified to call the new Mixed Mode API         (discussed below).</li></OL><P><A HREF="#top">Back to top</A></p>    <a name="Section3"></A>    <H2>Change Description</h2><P>The 4.0 version of the CFM-68K Runtime Enabler provides a new version of MixedMode that allows most interrupt code to be implemented in CFM-68K code. </P><P>With the exception of applications that use a non-Apple pre-emptive threadscheduler, no applications will need modification. Customers will simply installa new CFM-68K Runtime Enabler in their Extensions folder to take advantage ofthe fix. </P><P>The CFM-68K Runtime Enabler contains CFM-68K, Mixed Mode and several sharedlibraries. With this new release, we've added the Apple Thread Manager and<CODE>NuThreadsLib.slb</CODE> to the enabler file. This enabler is supported on 68K machinesrunning Mac OS 7.1 through 7.6.x with at least a 68020 processor. </P><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>        Installing the CFM-68K Runtime Enabler on PowerPC systems won't break anything.        The CFM-68K INIT simply won't load on a PowerPC machine.</P></TD></TR></TABLE></CENTER><BR><P>Below is a brief summary of the changes to the enabler components included inthis release.</P><H3>CFM-68K</H3><P>All of the bug fixes that were included in the PowerPC version of the CodeFragment Manager for the System 7.5.5 Update are included in this release. Referto <A HREF = "tn1069.html">Technote 1069</A> for details of the changes to CFM.</P><H3>Mixed Mode</H3><P>Mixed Mode now saves additional state information on the switch frame for a modetransition. Two new API routines have been added for pre-emptive threadswitchers to save and restore Mixed Mode state. These API are only callable fromclassic 68K clients. There will not be a CFM-68K interface to these routines.The new Mixed Mode and Gestalt headers that include these changes will beavailable on E.T.O. #23.</P><P>The two new API's are <CODE>SaveMixedModeState</CODE> and <CODE>RestoreMixedModeState</CODE>. Whenever the thread switcher saves and restores machine state for a thread switch, it needsto call these API's to save the Mixed Mode state and restore it when it switchesin the new thread. <CODE>RestoreMixedModeState</CODE> must be called with the same<CODE>MixedModeStateRecord</CODE> returned by <CODE>SaveMixedModeState</CODE>. All thread switchers should be modified to prevent the A5 crash from ever occurring. When CFM-68K code is invoked from a pre-emptive thread and the switcher hasn't been modified to call these new API's, the A5 crash could occur.</P><H3>SaveMixedModeState</H3><BLOCKQUOTE><P>Saves Mixed Mode state information in a buffer allocated by the caller.</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>OSErr SaveMixedModeState ( MixedModeStateRecord *stateStorage,                           UInt32 stateVersion);</pre>	</TD></TR></TABLE></CENTER><H4>stateStorage</H4>    <P>On exit, the MixedModeStateRecord buffer has been initialized byMixed Mode. This buffer needs to be saved for a subsequent call toRestoreMixedModeState. The buffer contents are reserved by Mixed Mode and shouldnot be changed or interpreted in any way by the caller as the contents maychange in future versions of Mixed Mode.</P><P>The MixedModeStateRecord is defined as follows: </P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>struct MixedModeStateRecord {    UInt32    state1;    UInt32    state2;    UInt32    state3;    UInt32    state4;};typedef struct MixedModeStateRecord MixedModeStateRecord;</pre>	</TD></TR></TABLE></CENTER><H4>stateVersion</H4><P>The version of the MixedModeStateRecord. You should use theconstant <CODE>kCurrentMixedModeStateRecord</CODE>, currently defined as 1: </P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>enum {    kCurrentMixedModeStateRecord = 1};</pre>	</TD></TR></TABLE></CENTER><BR><B>Result Codes</B><BR><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>noErr    0    No Error</pre>	</TD></TR></TABLE></CENTER></BLOCKQUOTE><BR><H3>RestoreMixedModeState</H3><BLOCKQUOTE><P>Restores Mixed Mode state information.</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>OSErr RestoreMixedModeState ( MixedModeStateRecord *stateStorage,                              UInt32 stateVersion);</pre>	</TD></TR></TABLE></CENTER><H4>stateStorage</H4><P>A pointer to a <CODE>MixedModeStateRecord</CODE> buffer that was originallyreturned by a call to <CODE>SaveMixedModeState</CODE>. </P><H4>stateVersion</H4><P>The version of the <CODE>MixedModeStateRecord</CODE>. You should use theconstant <CODE>kCurrentMixedModeStateRecord</CODE>.</P><B>Result Codes</B><BR><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>noErr    0    No Error</pre>	</TD></TR></TABLE></CENTER><P>To check the availability of these routines, use the new Mixed Mode gestaltattribute <CODE>gestaltMixedModeCFM68KHasState</CODE>. This bit is defined in a new versionof the Gestalt header available on E.T.O. #23. The Mixed Mode attribute bitsettings are now defined as: </P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>enum {    gestaltMixedModeAttr    =    'mixd',    gestaltMixedModePowerPC    =    0,    gestaltPowerPCAware    =    0,    gestaltMixedModeCFM68K    =    1,    gestaltMixedModeCFM68KHasTrap    =    2,    gestaltMixedModeCFM68KHasState    =    3};</pre>	</TD></TR></TABLE></CENTER><P>You can also use the <CODE>gestaltMixedModeCFM68KHasState</CODE> attribute to determine ifthe user's system supports this newer version of Mixed Mode.</P></BLOCKQUOTE><H3>Apple Thread Manager</H3><P>The Apple Thread Manager has been added to the 4.0 release of the CFM-68KRuntime Enabler. This version overrides any version of the Apple Thread Manageravailable before Mac OS 8. It calls the new Mixed Mode API to save and restoreMixed Mode state around a pre-emptive thread switch.</P><H3><CODE>NuThreadsLib.slb</CODE></H3><P>Version 2.1.1 of the CFM-68K ThreadsLib shared library is now included in theCFM-68K Runtime Enabler.</P><H3>StdCLib</H3><P>StdCLib and IntEnv version 3.4 are included in this release.</P><P><A HREF="#top">Back to top</A></p>    <a name="Section4"></A>    <H2>Pre-emptive Thread Switchers</h2><P>Unmodified non-Apple pre-emptive thread switchers could still trigger the A5corruption problem if any CFM-68K code is called from a pre-emptive thread. Assuch, we have called out and distinguished the term "pre-emptive safe". WithoutCFM-68K, pre-emptive safe is synonymous with interrupt-safe. Interrupt-safe isa familiar concept to many Apple developers and interrupt task guidelines aredocumented in <a href="../../documentation/mac/Processes/Processes-2.html">Inside Macintosh: Processes</A>. Routines that are interrupt-safe arecallable at interrupt time and therefore are callable from pre-emptive threadssince these threads are triggered by interrupts.</P><P>For CFM-68K code, pre-emptive safe and interrupt-safe are no longer synonymous. All CFM-68K code is inherently pre-emptive unsafe because it could be invoked byan unmodified thread switcher which would trigger the A5 bug. The newdefinition for the term pre-emptive safe is any software that doesn't contain orcall any CFM-68K code and is otherwise deemed interrupt-safe. Conversely, codethat is otherwise deemed interrupt-safe, but does contain or call CFM-68K codeis not pre-emptive safe code, a.k.a. pre-emptive unsafe code. </P><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>        Pre-emptive unsafe code can be called by an application that uses        Apple's latest Thread Manager or a modified non-Apple thread scheduler.        Therefore, "pre-emptive unsafe" could be qualified as "pre-emptive at risk".</P></TD></TR></TABLE></CENTER><BR><P>Developers of new code who declare their code as interrupt-safe must documentthe pre-emptive safeness of their code. Code that is not interrupt-safe is alsonot pre-emptive safe; therefore, it is unnecessary to declare code aspre-emptive unsafe if it is already interrupt-unsafe. This is only necessary forcode, such as plug-ins, that are provided to other developers and which couldpotentially be called from a pre-emptive thread. End users need not know about"pre-emptive safety". </P><P>Since all CFM-68K code is inherently pre-emptive unsafe, then so is any classicservice that internally uses CFM-68K code or internally uses some other classiccode that itself is pre-emptive unsafe code. </P><P>The following diagram is an example of pre-emptive unsafe code. All CFM-68Kcode is inherently pre-emptive unsafe, as defined above. In addition, classiccode which in turn invokes CFM-68K code is itself pre-emptive unsafe, even ifotherwise considered interrupt-safe.</P><P align=center><img src="images/tn1084_002.gif" alt="" width=222 height=71><BR><B>Figure 2</B>.</P> <P>This new version of CFM-68K provides a means for pre-emptively threadedapplications to call any interrupt-safe routine, even those that are otherwisedeemed pre-emptive unsafe. A new Mixed Mode API is provided to save and restorethe Mixed Mode state. Pre-emptive applications should be modified to call theseservices when switching threads to properly maintain the Mixed Mode state foreach thread. Therefore, pre-emptively threaded applications should be separatedinto two categories: those that can and those that cannot call pre-emptiveunsafe routines.</P><P>Applications that can call pre-emptive unsafe code include: </P><OL TYPE="1" START="1">    <LI>Applications using the newer version of the Apple Thread Manager that    has been modified to call the new Mixed Mode API.</li>    <LI>Applications using a non-Apple thread scheduler that has been modified    to call the new Mixed Mode API.</li></OL><P>Applications that cannot call pre-emptive unsafe code include: </P><OL TYPE="1" START="1">    <LI>Applications using an older version of the Apple Thread Manager that    hasn't been modified to call the new Mixed Mode API.</li>    <LI>Applications using a non-Apple thread scheduler that has not been modified    to call the new Mixed Mode API.</li></OL><P><A HREF="#top">Back to top</A></p>    <a name="Section5"></A>    <H2>Limitations</h2><P>The 68K Macintosh operating system lacks the emulator present on the PowerPC. Asa consequence, CFM-68K is subject to limitations which don't exist in thePowerPC version of CFM. This release of CFM-68K removes most of the limitationswhich existed in the previous version of CFM-68K. However, there are someremaining limitations which cannot be eliminated without a major CFM-68Karchitectural change or the implementation of a nanokernel on 680x0 machines.</P><P>The following limitations remain in the 4.0 version of CFM-68K and represent adifference between the 68K and PowerPC. Therefore, if you are porting PowerPCcode to CFM-68K code, you should take the necessary precautions to ensure thatyour code obeys these restrictions.</P><OL><LI>No interrupt safe ATraps, nor any other services currently defined asinterrupt safe, can be implemented in CFM-68K code, since when they weredefined, interrupt safe also meant pre-emptive safe.<BR><BR></li><LI>CFM-68K shared library developers whose code is interrupt-safe mustdocument their code as being pre-emptive unsafe.<BR><BR></li><LI>Classic 68K code providers (object files, stand-alone code resources,etc.) who declare their code as interrupt-safe and invoke any CFM-68K code mustdeclare their code as being pre-emptive unsafe.<BR><BR></li><LI>Non-Apple pre-emptive thread switching: <BR><BR><UL TYPE=DISC>    <LI>must be modified to use the Apple Thread Manager, or<BR><BR></li>    <LI>must be modified to use the new Mixed Mode API routines to save and    restore Mixed Mode state at the same point that machine state (e.g., the    register set) is saved and restored for the thread switch., or<BR><BR></li>    <LI>can only support threads that are pre-emptive safe.</li></UL><BR></li><LI>No processor exception handlers can be implemented in CFM-68K code.Examples include bus error handlers, illegal instruction handlers, divide byzero handlers, etc.</li></OL><P><A HREF="#top">Back to top</A></p>    <a name="Section6"></A>    <H2>Incompatibilities</h2><P>This version of CFM-68K is known to be incompatible with early versions of AOL,Cyberdog and The Debugger. </P><H3>AOL 3.0</H3><P>Do not use 68K versions of AOL 3.0 prior to the Preview 6 release. Early betareleases contain crashing bugs unrelated to CFM-68K. </P><H3>Cyberdog</H3><P>Do not use Cyberdog versions 1.2, 1.2.1 or 2.0 Alpha with this extension. Thereis an incompatibility between these versions of Cyberdog and the 4.0 version ofthe CFM-68K Runtime Enabler. This problem is fixed in the 2.0 Beta version ofCyberdog.</P><H3>The Debugger</H3><P>Early versions of The Debugger will cause CFM-68K to crash when an applicationquits. Be sure to obtain an update dated after March 3, 1997.</P><P><A HREF="#top">Back to top</A></p><a name="References"></a><h2>References</h2>    <p><A HREF = "tn1077.html">    Technote 1077 - Calling CFM Code From Classic 68K Code, or     There and Back Again, A Mixed Mode Magic Adventure</A>    </p><P><A HREF="#top">Back to top</A></p> <A NAME=Downloads></A>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="500">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (168K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/tn1084.pdf">Download</A></P>               </TD>            </TR>		<TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/redbook.gif" width=20 height=20 align=bottom alt="Redbook gif"></P>               </TD>               <td align="left">                  <P>Download the New Version of CFM-68K</P>               </TD>               <td width=60 align=left>                  <P><A HREF="http://www.macos.apple.com/macos/cfm-68k.html">Download</A></P>               </TD>            </TR><TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/redbook.gif" width=20 height=20 align=bottom alt="Redbook gif"></P>               </TD>               <td align="left">                  <P>Classic to CFM Project (324K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="downloads/tn_1084.1.hqx">Download</A></P>               </TD>            </TR>      </table><BR>            <P><A HREF="#top">Back to top</A></P></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1084.html%3Fid%3DDTS10002925-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1084.html%3Fid%3DDTS10002925-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1084.html%3Fid%3DDTS10002925-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>