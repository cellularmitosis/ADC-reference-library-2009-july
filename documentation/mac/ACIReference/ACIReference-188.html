<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Profile Header Structure for ColorSync 1.0 (IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING188></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-187.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-189.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-155.html"><B>Constants and Data Types</B></A><BR><DL><DD><A HREF="ACIReference-186.html"><B>Apple Profile Header</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING188-0></A>
<H3><A NAME=MARKER-9-246></A>Profile Header Structure for ColorSync 1.0 </H3>
 <A NAME=MARKER-2-247></A>ColorSync 1.0 defines a version 1.0 profile whose structure and format are different from that of the ICC version 2.x profile. To obtain a copy of the <I>International Color Consortium Profile Format Specification</I>, or to get other information about the ICC, visit the ICC's Web site at<P>
 http://www.color.org/<P>
 Your application cannot use ColorSync Manager functions to update a version 1.0 profile or to search for version 1.0 profiles. However, your application can use other ColorSync Manager functions that operate on version 1.0 profiles. For example, your application can open a version 1.0 profile using the <CODE>CMOpenProfile</CODE> function <A HREF=ACIReference-220.html#MARKER-9-321>(page 3-69)</A>, obtain the version 1.0 profile header using the <CODE>CMGetProfileHeader</CODE> function <A HREF=ACIReference-236.html#MARKER-9-353>(page 3-88)</A>, and access version 1.0 profile elements using the <CODE>CMGetProfileElement</CODE> function <A HREF=ACIReference-235.html#MARKER-9-350>(page 3-87)</A>. <P>
 To make it possible to operate on version 1.0 profiles, the ColorSync Manager defines the CMAppleProfileHeader union <A HREF=ACIReference-185.html#MARKER-9-238>(page 3-42)</A>, which supports either profile header version. The <A NAME=MARKER-14-248></A><CODE>CMHeader</CODE> data type defines the version 1.0 profile header.<P>
<PRE>
struct CMHeader {
   unsigned long  size;             /* byte size of profile */
   OSType         CMMType;          /*signature of preferred CMM */
   unsigned long  applProfileVersion;/* Apple profile version */
   OSType         dataType;         /* type of color data, such as rgb */
   OSType         deviceType;       /* device type, such as monitor */
   OSType         deviceManufacturer;/* device manufacturer */
   unsigned long  deviceModel;      /* as specified by manufacturer */
   unsigned long  deviceAttributes[2];/* private info on ink, paper,
                                       and so on */
   unsigned long  profileNameOffset;/* offset to name from top of data */
   unsigned long  customDataOffset; /* offset to custom data from top */
   CMMatchFlag    flags;            /* miscellaneous info for drivers */
   CMMatchOption  options;          /* matching type, such as perceptual */
   CMXYZColor     white;            /* white point in XYZ space */
   CMXYZColor     black;            /* black point in XYZ space */
};
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>size</CODE>
<DD> The total size in bytes of the profile, including any custom data. 
<DT><CODE>CMMType</CODE>
<DD> The signature of the preferred CMM for color-matching and color-checking sessions for this profile. To avoid conflicts with other CMMs, this signature must be registered with the ICC. For the signature of the Apple CMM, see <A HREF=ACIReference-161.html#MARKER-9-77>"Signature of the Default Apple Color Management Module" (page 3-14)</A>.
<DT><CODE>applProfileVersion</CODE>
<DD> <BR>The Apple profile version. Set this field to $0100 (defined as the constant <CODE>kCMApplProfileVersion</CODE>).
<DT><CODE>dataType</CODE>
<DD> The kind of color data. The types are
<DD><CODE>cmRGBData  = 'RGB ',    source or destination profiles<BR>cmCMYKData  = 'CMYK', destination profiles<BR>cmGrayData  = 'GRAY', source or destination profiles<BR>cmXYZData  = 'XYZ '      source or destination profiles</CODE>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
<DT><CODE>deviceType</CODE>
<DD> The kind of device. The types are
<DD><CODE>cmMonitorDevice    = 'mntr' <BR>cmScannerDevice = 'scnr'<BR>cmPrinterDevice   = 'prtr'</CODE>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
<DT><CODE>deviceManufacturer</CODE>
<DD> A name supplied by the device manufacturer.
<DT><CODE>deviceModel</CODE>
<DD> The device model specified by the manufacturer.
<DT><CODE>deviceAttributes</CODE>
<DD> Private information such as paper surface and ink temperature. 
<DT><CODE>profileNameOffset</CODE>
<DD> The offset to the profile name from the top of data.
<DT><CODE>customDataOffset</CODE>
<DD> The offset to any custom data from the top of data.
<DT><CODE>flags</CODE>
<DD> A field used by drivers; it can hold one of the following flags: 
<DD><CODE>CMNativeMatchingPreferred<BR>CMTurnOffCache</CODE>   <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
<DT>
<DD> The <CODE>CMNativeMatchingPreferred</CODE> flag is available for developers of intelligent peripherals that can off-load color matching into the peripheral. Most drivers will not use this flag. (Its default setting is 0, meaning that the profile creator does not care whether matching occurs on the host or the device.)
<DT>
<DD> Use the <CODE>CMTurnOffCache</CODE> flag for CMMs that won't benefit from a cache, such as those that can look up data from a table with less overhead, or that don't want to take the memory hit a cache entails, or that do their own caching and don't want the CMM to do it. (The default is 0, meaning turn on cache.)
<DT><CODE>options</CODE>
<DD> The <CODE>options</CODE> field specifies the preferred matching for this profile; the default is <CODE>CMPerceptualMatch</CODE>; other values are <CODE>CMColorimetricMatch</CODE> or <CODE>CMSaturationMatch</CODE>. The options are set by the image creator.
<DT><CODE>white</CODE>
<DD> The profile illuminant white reference point, expressed in the XYZ color space.
<DT><CODE>black</CODE>
<DD> The black reference point for this profile, expressed in the XYZ color space.
</DL>
 For more information on ColorSync 1.0 headers, see the appendix <A HREF=#nonexistent-marker>"ColorSync Manager Backward Compatibility"</A> in <I>Advanced Color Imaging on the Mac OS</I>.<A NAME=MARKER-2-249></A><P>
</BLOCKQUOTE><HR>
<center>
<A HREF="ACIReference-187.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-189.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
