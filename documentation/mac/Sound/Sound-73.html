<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Sound Channel Records (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING73></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-72.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-74.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-44.html"><B>Chapter 2 - Sound Manager</B></A> / <A HREF="Sound-62.html"><B>Sound Manager Reference</B></A><BR><DL><DD><A HREF="Sound-68.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="../../../referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING73-0></A>
<H3><A NAME=MARKER-14-641></A>Sound Channel Records<A NAME=MARKER-2-642></A><A NAME=MARKER-2-643></A></H3>
 The Sound Manager maintains a sound channel record to store information about each sound channel that you allocate directly by calling the <CODE>SndNewChannel</CODE> function or indirectly by passing a <CODE>NIL</CODE> channel to a high-level Sound Manager routine like the <CODE>SndPlay</CODE> function. The <CODE>SndChannel</CODE> data type defines a sound channel record.<P>
<PRE>
TYPE SndChannel =
PACKED RECORD
   nextChan:      SndChannelPtr; {pointer to next channel}
   firstMod:      Ptr;           {used internally}
   callBack:      ProcPtr;       {pointer to callback procedure}
   userInfo:      LongInt;       {free for application's use}
   wait:          LongInt;       {used internally}
   cmdInProgress: SndCommand;    {used internally}
   flags:         Integer;       {used internally}
   qLength:       Integer;       {used internally}
   qHead:         Integer;       {used internally}
   qTail:         Integer;       {used internally}
   queue:         ARRAY[0..stdQLength-1] OF SndCommand;
END; 
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>nextChan</CODE>
<DD> A pointer to the next sound channel in a single queue of channels that the Sound Manager maintains for all applications.<A NAME=MARKER-2-644></A>
<DT><CODE>firstMod</CODE>
<DD> Used internally.<A NAME=MARKER-2-645></A>
<DT><CODE>callBack</CODE>
<DD> A pointer to the callback procedure associated with the sound channel. See <A HREF=Sound-131.html#MARKER-9-937>page 2-152</A> for information on this callback procedure.<EM><A NAME=MARKER-2-302></A></EM>
<DT><CODE>userInfo</CODE>
<DD> A value that your application can use to store information.<A NAME=MARKER-2-647></A>
<DT><CODE>wait</CODE>
<DD> Used internally.<A NAME=MARKER-2-648></A>
<DT><CODE>cmdInProgress</CODE>
<DD> Used internally.<A NAME=MARKER-2-649></A>
<DT><CODE>flags</CODE>
<DD> Used internally.<A NAME=MARKER-2-650></A>
<DT><CODE>qLength</CODE>
<DD> Used internally.<A NAME=MARKER-2-651></A>
<DT><CODE>qHead</CODE>
<DD> Used internally.<A NAME=MARKER-2-652></A>
<DT><CODE>qTail</CODE>
<DD> Used internally.<A NAME=MARKER-2-305></A>
<DT><CODE>queue</CODE>
<DD> The sound commands pending for the sound channel.<A NAME=MARKER-2-307></A>
</DL>
 The only field of the sound channel record that you are likely to need to access directly is the <CODE>userInfo</CODE> field. This field is useful if you need to pass a value to a Sound Manager callback procedure or completion routine. For example, you might pass the value stored in the A5 register so that your callback procedure can access your application's global variables. Or, you might store a handle to sound data here so that a routine that disposes of an allocated channel can also release the sound data that the channel played.<P>
 In rarer instances, you might need to access the <CODE>callBack</CODE> field of the sound channel record directly. Ordinarily, you set this field by specifying a callback procedure when you call the <CODE>SndNewChannel</CODE> function. However, you can change the callback procedure associated with a channel by changing this field directly. The Sound Manager will then execute the procedure you specify in this field whenever the channel processes a <CODE>callBackCmd</CODE> command.<P>
<DL>
<DT><B>WARNING</B>
<DD>You should not attempt to manipulate all open sound channels by using the <CODE>nextChan</CODE> field to walk the sound channel queue. The queue might contain channels opened by other applications. If you need to perform some operation on all sound channels that your application has allocated, you should maintain your own data structure that keeps track of your application's channels.<EM></EM><A NAME=MARKER-2-655></A><A NAME=MARKER-2-656></A>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-72.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-74.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
