<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Text System Overview: Typographical Features of the Cocoa Text System</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Typographical Features of the Cocoa Text System"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001800" title="Typographical Features of the Cocoa Text System"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../TextFonts-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">Text System Overview</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="CocoaAndATSUI.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="TextFieldsAndViews.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20001800-BBCFAEGE" title="Typographical Features of the Cocoa Text System"></a><hr /><H1>Typographical Features of the Cocoa Text System</H1><p>The Cocoa text system is responsible for the processing and display of all visible text in Cocoa. It provides a complete set of high-quality typographical services through the Application Kit classes. This article defines typographical concepts relevant to the text system.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="TextSystemFeatures.html#//apple_ref/doc/uid/20001800-64585">Characters and Glyphs</a>
				
			<br/>
			
        
			
			
				<a href="TextSystemFeatures.html#//apple_ref/doc/uid/20001800-50378">Typefaces and Fonts</a>
				
			<br/>
			
        
			
			
				<a href="TextSystemFeatures.html#//apple_ref/doc/uid/20001800-51627-BBCCHIFF">Text Layout</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20001800-64585" title="Characters and Glyphs"></a><h2>Characters and Glyphs</h2><p>A <strong>character</strong> <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_46"></a> is the smallest unit of written language that carries meaning. Characters can correspond to a particular sound in the spoken form of the language, as do the letters of the Roman alphabet; they can represent entire words, such as Chinese ideographs; or they can represent independent concepts, such as mathematical symbols. In every case, however, a character is an abstract concept.</p><p>Although characters must be represented in a display area by a recognizable shape, they are not identical to that shape. That is, a character can be drawn in various forms and remain the same character. For example, an “uppercase A” character can be drawn with a different size or a different stroke thickness, it can lean or be vertical, and it can have certain optional variations in form, such as serifs. Any one of these various concrete forms of a character is called a <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_47"></a><strong>glyph</strong>. <span class="content_text">Figure 1</span> shows different glyphs that all represent the character “uppercase A.”</p><br/><div><a name="//apple_ref/doc/uid/20001800-64619-BBCIGJIJ" title="Figure 1Glyphs of the character A"></a><p><a name="//apple_ref/doc/uid/20001800-64619" title="Figure 1Glyphs of the character A"></a><strong>Figure 1&nbsp;&nbsp;</strong>Glyphs of the character A</p><img src = "Art/glyph_a.gif" alt = "Glyphs of the character A" width="307" height="69"></div><br/><p>Characters and glyphs do not have a one-to-one correspondence. In some cases a character may be represented by multiple glyphs, such as an “é” which may be an “e” glyph combined with an acute accent glyph “´”. In other cases, a single glyph may represent multiple characters, as in the case of a <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_48"></a><strong>ligature</strong>, or joined letter. <span class="content_text">Figure 2</span> shows individual characters and the single-glyph ligature often used when they are adjacent. A ligature is an example of a contextual form in which the glyph used to represent a character changes depending on the characters next to it. Other contextual forms include alternate glyphs for characters beginning or ending a word.</p><br/><div><a name="//apple_ref/doc/uid/20001800-52119-BCIJBEJG" title="Figure 2Ligatures"></a><p><a name="//apple_ref/doc/uid/20001800-52119" title="Figure 2Ligatures"></a><strong>Figure 2&nbsp;&nbsp;</strong>Ligatures</p><img src = "Art/romanligatures.gif" alt = "Ligatures" width="133" height="124"></div><br/><p>Computers store characters as numbers mapped by encoding tables to their corresponding characters. The encoding scheme native to Mac OS X is called <strong>Unicode</strong>. The <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_49"></a>Unicode standard provides a unique number for every character in every modern written language in the world, independent of the platform, program, and programming language being used. This universal standard solves a longstanding problem of different computer systems using hundreds of conflicting encoding schemes. Unicode provides the encoding used to store characters in Cocoa. It also has features that simplify handling bidirectional text and contextual forms.</p><p>Glyphs are also represented by numeric codes called <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_50"></a>glyph codes. The glyphs used to depict characters are selected by the Cocoa layout manager (<a name="//apple_ref/doc/uid/20001800-DontLinkElementID_51"></a>NSLayoutManager) during composition and layout processing. The layout manager determines which glyphs to use and where to place them in the display, or view. The layout manager caches the glyph codes in use and provides methods to convert between characters and glyphs and between characters and view coordinates. (See <span class="content_text"><a href="TextSystemFeatures.html#//apple_ref/doc/uid/20001800-51627">“Text Layout”</a></span> for more information about the layout process.)</p><a name="//apple_ref/doc/uid/20001800-50378" title="Typefaces and Fonts"></a><h2>Typefaces and Fonts</h2><p>A <strong>typeface</strong> is a set of visually related shapes for some or all of the characters in a written language. For example, Times is a <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_52"></a>typeface, designed by Stanley Morrison in 1931 for <em>The Times</em> newspaper of London. All of the letter forms in Times are related in appearance, having consistent proportions between stems (vertical strokes) and counters (rounded shapes in letter bodies) and other elements. When laid out in blocks of text, the shapes in a typeface work together to enhance readability.</p><p>A <strong>typestyle,</strong> or simply style, is a distinguishing visual characteristic of a typeface. For example, roman <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_53"></a>typestyle is characterized by upright letters having serifs and stems thicker than horizontal lines. In italic typestyle, the letters slant to the right and are rounded, similar to cursive or handwritten letter shapes. A typeface usually has several associated typestyles.</p><p>A <strong>font</strong> is a series of glyphs depicting the characters in a consistent size, typeface, and typestyle. A <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_54"></a>font is intended for use in a specific display environment. Fonts contain glyphs for all the contextual forms, such as ligatures, as well as the normal character forms.</p><p>A <strong>font family</strong> is a group of fonts that share a typeface but differ in typestyle. So, for example, Times is the name of a <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_55"></a>font family (as well as the name of its typeface). Times Roman and Times Italic are the names of individual fonts belonging to the family. <span class="content_text">Figure 3</span> shows several of the fonts in the Times font family.</p><br/><div><a name="//apple_ref/doc/uid/20001800-51263-BBCHDEHD" title="Figure 3Fonts in the Times font family"></a><p><a name="//apple_ref/doc/uid/20001800-51263" title="Figure 3Fonts in the Times font family"></a><strong>Figure 3&nbsp;&nbsp;</strong>Fonts in the Times font family</p><img src = "Art/times_font_family.gif" alt = "Fonts in the Times font family" width="172" height="129"></div><br/><p>In some cases a particular style of a typeface is a separate font, but in other cases where such a font is not available, the system can produce the typestyle programmatically by varying certain characteristics of another font in the family. For example, an algorithm can create a bold typestyle by increasing the line weight of the regular font of the same family. The Cocoa text system can substitute these variations as necessary. Styles, also called traits, that are available in Cocoa include variations such as bold, italic, condensed, expanded, narrow, small caps, poster fonts, and fixed pitch.</p><a name="//apple_ref/doc/uid/20001800-51627" title="Text Layout"></a><a name="//apple_ref/doc/uid/20001800-51627-BBCCHIFF" title="Text Layout"></a><h2>Text Layout</h2><p>Text <strong>layout</strong><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_56"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_57"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_58"></a> is the process of arranging glyphs on a display device, in an area called a text view, which represents an area similar to a page in traditional typesetting. The way in which glyphs are laid out relative to each other is called <strong>text direction</strong>. In English and other languages derived from Latin, glyphs are placed side by side to form words that are separated by spaces. Words are laid out in lines beginning at the top left of the text view proceeding from left to right until the text reaches the right side of the view. Text then begins a new line at the left side of the view under the beginning of the previous line, and layout proceeds in the same manner to the bottom of the text view.</p><p>In other languages, glyph layout can be quite different. For example, some languages lay out glyphs from right to left or vertically instead of horizontally. It is common, especially in technical writing, to mix languages with differing text direction, such as English and Hebrew, in the same line. Some writing systems even alternate layout direction in every other line (an arrangement called boustrophedonic writing). Some languages do not group glyphs into words separated by spaces. Moreover, some applications call for arbitrary arrangements of glyphs; a graphic layout may require glyphs to be arranged on a nonlinear path.</p><p>The Cocoa layout manager (an instance of the NSLayoutManager class) lays out glyphs along an invisible line called the <strong>baseline</strong>. In Roman text, the baseline<a name="//apple_ref/doc/uid/20001800-DontLinkElementID_59"></a> is horizontal, and the bottom edge of most of the glyphs rest on it. Some glyphs extend below the baseline, including those for characters like “g” that have <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_60"></a><strong>descenders</strong>, or “tails,” and large rounded characters like “O” that must extend slightly below the baseline to compensate for optical effects. Other writing systems place glyphs below or centered on the baseline. Every glyph includes an <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_61"></a><strong>origin</strong> point that the layout manager uses to align it properly with the baseline.</p><p>Glyph designers provide a set of measurements with a font, called <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_62"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_63"></a><strong>metrics</strong>, which describe the spacing around each glyph in the font. The layout manager uses these metrics to determining glyph placement. In horizontal text, the glyph has a metric called the <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_64"></a><strong>advance width</strong>, which measures the distance along the baseline to the origin point of the next glyph. Typically there is some space between the origin point and the left side of the glyph, which is called the <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_65"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_66"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_67"></a><strong>left-side bearing</strong>. There may also be space between the right side of the glyph and the point described by the advance width, which is called the <strong>right-side bearing</strong>. The vertical dimension of the glyph is provided by two metrics called the <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_68"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_69"></a><strong>ascent</strong> and the <strong>descent</strong>. The ascent is the distance from the origin (on the baseline) to the top of the tallest glyphs in the font. The descent, which is the distance below the baseline to the bottom of the font’s deepest descenders. The rectangle enclosing the visible parts of the glyph is called the <strong>bounding rectangle</strong> or <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_70"></a>bounding box. <span class="content_text">Figure 4</span> illustrates these metrics and similar ones used for vertical glyph placement.</p><br/><div><a name="//apple_ref/doc/uid/20001800-52309-BCIBGIFH" title="Figure 4Glyph metrics"></a><p><a name="//apple_ref/doc/uid/20001800-52309" title="Figure 4Glyph metrics"></a><strong>Figure 4&nbsp;&nbsp;</strong>Glyph metrics</p><img src = "Art/glyphterms.gif" alt = "Glyph metrics" width="303" height="205"></div><br/><p>By default, typesetters place glyphs side-by-side using the advance width, resulting in a standard interglyph space. However, in some combinations text is made more readable by <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_71"></a><strong>kerning</strong>, which is shrinking or stretching the space between two glyphs. A very common example of kerning occurs between an uppercase W and uppercase A, as shown in <span class="content_text">Figure 5</span>. Type designers include kerning information in the metrics for a font. The Cocoa text system provides methods to turn kerning off, use the default settings provided with the font, or tighten or loosen the kerning throughout a selection of text.</p><br/><div><a name="//apple_ref/doc/uid/20001800-52639-BCIBDHGF" title="Figure 5Kerning"></a><p><a name="//apple_ref/doc/uid/20001800-52639" title="Figure 5Kerning"></a><strong>Figure 5&nbsp;&nbsp;</strong>Kerning</p><img src = "Art/kerning.gif" alt = "Kerning" width="453" height="113"></div><br/><p>Type systems usually measure font metrics in units called <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_72"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_73"></a><strong>points</strong>, which in Mac OS X measure exactly 72 per inch. Adding the distance of the ascent and the descent of a font provides the font’s <strong>point size</strong>.</p><p>Space added during typesetting between lines of type is called <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_74"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_75"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_76"></a><strong>leading</strong>, after the slugs of lead used for that purpose in traditional metal-type page layout. (Leading is sometimes also called linegap.) The total amount of ascent plus descent plus leading provides a font’s <strong>line height</strong>.</p><p>Although the typographic concepts of type design are somewhat esoteric, most people who have created documents on a computer or typewriter are familiar with the elements of text layout on a page. For example, the <a name="//apple_ref/doc/uid/20001800-DontLinkElementID_77"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_78"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_79"></a><a name="//apple_ref/doc/uid/20001800-DontLinkElementID_80"></a><strong>margins</strong> are the areas of white space between the edges of the page and the text area where the layout engine places glyphs. <strong>Alignment</strong> describes the way text lines are placed relative to the margins. For example, horizontal text can be aligned right, left, or centered, as shown in <span class="content_text">Figure 6</span>.</p><br/><div><a name="//apple_ref/doc/uid/20001800-52352-BCIDFJFF" title="Figure 6Alignment of text relative to margins"></a><p><a name="//apple_ref/doc/uid/20001800-52352" title="Figure 6Alignment of text relative to margins"></a><strong>Figure 6&nbsp;&nbsp;</strong>Alignment of text relative to margins</p><img src = "Art/alignmentkinds.gif" alt = "Alignment of text relative to margins" width="476" height="224"></div><br/><p>Lines of text can also be <strong>justified</strong>; for horizontal text the lines are aligned on both right and left margins, as shown in <span class="content_text">Figure 7</span>. </p><br/><div><a name="//apple_ref/doc/uid/20001800-52468-BCIGGEHC" title="Figure 7Justified text"></a><p><a name="//apple_ref/doc/uid/20001800-52468" title="Figure 7Justified text"></a><strong>Figure 7&nbsp;&nbsp;</strong>Justified text</p><img src = "Art/justified.gif" alt = "Justified text" width="276" height="261"></div><br/><p>To create lines from a string of glyphs, the layout engine must perform <strong>line breaking</strong> by finding a point at which to end one line and begin the next. In the Cocoa text system, you can specify line breaking at either word or glyph boundaries. In Roman text, a word broken between glyphs requires insertion of a hyphen glyph at the breakpoint. Once the text stream has been broken into lines, the system performs alignment and justification, if requested.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="CocoaAndATSUI.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="TextFieldsAndViews.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1997, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-04-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/TextArchitecture/Concepts/TextSystemFeatures.html%3Fid%3D10000086i-3.6&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/TextArchitecture/Concepts/TextSystemFeatures.html%3Fid%3D10000086i-3.6&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/TextArchitecture/Concepts/TextSystemFeatures.html%3Fid%3D10000086i-3.6&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
