<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Driver Gestalt</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.a5.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.ca.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.cc.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H1.Heading1"><A NAME="pgfId=4061"> </A><A NAME="39968"> </A>Driver Gestalt</H1><P CLASS="T1.Text1"><A NAME="pgfId=4062"> </A>Every device driver has a unique set of family-specific configuration and state information that it maintains. This configuration information often needs to be passed between the family expert and the device drivers it manages. To aid in this communication process, the native driver architecture provides a driver gestalt mechanism. Driver <A NAME="marker=4063"> </A>gestalt provides a common, unified mechanism for both native and 68K device drivers by which clients (such as applications) or family subsystem managers (such as the SCSI Manager or the Display Manager) can access family-specific configuration and state information about the driver.</P><P CLASS="T1.Text1"><A NAME="pgfId=4065"> </A>For instance, the Start Manager uses <A NAME="marker=4064"> </A><TT CLASS="cv">driverGestalt</TT> to interrogate SCSI drivers for family-specific information to determine from which SCSI device to boot. The information communicated back to the Start Manager is family specific (specific to the SCSI Manager) and contains necessary data for system startup-- SCSI bus ID, device ID, and disk partition. Each I/O subsystem defines unique <TT CLASS="cv">driverGestaltSelector</TT> and <TT CLASS="cv">driverGestaltResponse</TT> formats. The SCSI Manager driver gestalt formats are SCSI based, the Display Manager formats convey video information, and so on. Cross-device-family <TT CLASS="cv">driverGestalt</TT> calls are not advised; for example, don't make SCSI Manager driver gestalt calls to video drivers.</P><DIV><blockquote><p CLASS="NoteHead"><b><A NAME="pgfId=17235"> </A>Note</B></p><P CLASS="Note"><A NAME="pgfId=4066"> </A>Support for driver gestalt is optional, but it is highly recommended. If a PCI device driver does not support driver gestalt, it may not work with some applications or in certain system configurations. </P></blockquote><P CLASS="T1.Text1"><A NAME="pgfId=4070"> </A>For general information about the Mac OS gestalt mechanism, see <I CLASS="italics">Inside Macintosh: Operating System Utilities.</I> The driver gestalt and Mac OS gestalt mechanisms differ in that the driver gestalt provides a way for the Mac OS to get information about device drivers and the traditional Mac OS gestalt provides a way for device drivers to get information about the Mac OS. </P><P CLASS="T1.Text1"><A NAME="pgfId=4071"> </A>System gestalt for PCI-based Macintosh computers, which is different from driver gestalt, is described in <A HREF="PCI_BOOK.13a.html#18306" CLASS="XRef">Macintosh System Gestalt</A>.</P></DIV><H2 CLASS="H2.Heading2TOC"><A HREF="PCI_BOOK.cc.html#pgfId=4075" CLASS="Hypertext">Supporting and Testing Driver Gestalt</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="PCI_BOOK.cf.html#pgfId=4110" CLASS="Hypertext">Implementing Driver Gestalt</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="PCI_BOOK.d0.html#pgfId=4191" CLASS="Hypertext">DCE Flags</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="PCI_BOOK.d1.html#pgfId=4309" CLASS="Hypertext">Using DriverGestalt and DriverConfigure</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="PCI_BOOK.d4.html#pgfId=4603" CLASS="Hypertext">Other Control and Status Requests</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="PCI_BOOK.d9.html#pgfId=4725" CLASS="Hypertext">Implementing Private Control and Status Calls</A></H2><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.a5.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.ca.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.cc.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>