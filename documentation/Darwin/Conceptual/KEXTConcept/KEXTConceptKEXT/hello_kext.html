<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Kernel Extension Programming Topics: Hello Kernel: Creating a Kernel Extension With Xcode</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Hello Kernel: Creating a Kernel Extension With Xcode"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002365" title="Hello Kernel: Creating a Kernel Extension With Xcode"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000422" target="_top">Darwin</a> &gt; <a href="../../../Kernel-date.html#//apple_ref/doc/uid/TP30000440-TP30000422-TP30000532" target="_top">Kernel</a> &gt; <a href="../index.html" target="_top">Kernel Extension Programming Topics</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../KEXTConceptAbout/about_kexts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../KEXTConceptIOKit/hello_iokit.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002365-BABJHCJA" title="Hello Kernel: Creating a Kernel Extension With Xcode"></a><hr /><H1>Hello Kernel: Creating a Kernel Extension With Xcode</H1>

<p>This tutorial describes how to create and test a kernel extension (KEXT) for Mac OS X. In this tutorial, you’ll create a very simple kernel extension that prints text messages when loading and unloading. The tutorial assumes that you are working in a Mac OS X development environment.</p>

<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="hello_kext.html#//apple_ref/doc/uid/20002365-88913">Anatomy of a KEXT</a>
				
			<br/>
			
        
			
			
				<a href="hello_kext.html#//apple_ref/doc/uid/20002365-88991">Roadmap</a>
				
			<br/>
			
        
			
			
				<a href="hello_kext.html#//apple_ref/doc/uid/20002365-89061-BABEFJJI">Create a new Project using Xcode</a>
				
			<br/>
			
        
			
			
				<a href="hello_kext.html#//apple_ref/doc/uid/20002365-89975-BABEDHCJ">Build the Kernel Extension</a>
				
			<br/>
			
        
			
			
				<a href="hello_kext.html#//apple_ref/doc/uid/20002365-90287-BABIIHJA">Test the Kernel Extension</a>
				
			<br/>
			
        
			
			
				<a href="hello_kext.html#//apple_ref/doc/uid/20002365-91479">Where to Go Next</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002365-88913" title="Anatomy of a KEXT"></a><h2>Anatomy of a KEXT</h2>
<p>To better understand what you’re doing, it helps to know what’s inside a kernel extension. In Mac OS X, all kernel extensions are implemented as<em> bundles</em> — folders that the Finder treats as single entities. Kernel extensions have names ending in <code>.kext</code>. In addition, all kernel extensions contain the following:</p>
<ul class="ul"><li class="li"><p>A<em> property list </em> (plist) —a text file (in XML, Extensible Markup Language, format) that describes the KEXT’s contents and requirements. This is a required file. A KEXT need contain nothing more than a property list file. </p></li>
<li class="li"><p>A<em> KEXT binary</em> —Generally, a KEXT has one binary file, but it can have none (locally). However, if it has none, its property list must reference another KEXT and change its default settings. In this way, one KEXT can override or change the behavior of another KEXT. A KEXT binary is also sometimes called a kernel module.</p></li>
<li class="li"><p>Optional<em> Resources</em> —Resources are useful if your KEXT needs to display an icon.</p></li></ul>
<a name="//apple_ref/doc/uid/20002365-88991" title="Roadmap"></a><h2>Roadmap</h2>
<p>In this tutorial, you’ll create, build, load, and run a simple kernel extension. Here are the steps you will follow:</p>
<ol class="ol"><li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-89061">“Create a new Project using Xcode”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-89975">“Build the Kernel Extension”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90287">“Test the Kernel Extension”</a></span></p></li></ol>
<p>You’ll use the Xcode application to create and build your KEXT. You’ll use the Terminal application to type the commands to load and test your KEXT and view the results.</p>
<p>If you have never used Xcode before, you may also wish to read <em><a href="../../../../DeveloperTools/Conceptual/XcodeQuickTour/index.html#//apple_ref/doc/uid/TP30000890" target="_top">Xcode Quick Tour for Mac OS X</a></em>.</p>
<a name="//apple_ref/doc/uid/20002365-89061" title="Create a new Project using Xcode"></a><a name="//apple_ref/doc/uid/20002365-89061-BABEFJJI" title="Create a new Project using Xcode"></a><h2>Create a new Project using Xcode</h2>
<p>A project is a document that contains all your files and targets. Targets are the things you can build from your project’s files. A simple project has just one target that builds an application. A complex project may contain several targets.</p>
<p>The parts of your project can be found later on your disk. These include the source files as well as the targets (your KEXT). Xcode does not store these files in any special format, so you can view or edit the source files with another editing program if you wish. For now, we recommend using Xcode.</p>
<p>Here’s how you’ll create the kernel extension project:</p>
<ol class="ol"><li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-89144">“Create a Kernel Extension Project”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-89209">“Implement the Needed Methods”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-89393">“Edit the KEXT’s Settings”</a></span></p></li></ol>
<p>The examples below assume that you will be logging in as an administrator of your machine. The account name in the examples is <code>admin</code>. If you use a different login account, be sure to substitute accordingly. Some of the commands you will be using require <code>root</code> privileges so you will be using the <strong>sudo</strong> command. The <strong>sudo</strong> command allows permitted users (such as an <code>admin</code> user) to execute a given command with <code>root</code> privileges. If you use a different login account, make sure it has administrative access.</p>
<a name="//apple_ref/doc/uid/20002365-89144" title="Create a Kernel Extension Project"></a><a name="//apple_ref/doc/uid/20002365-89144-BABCIAAA" title="Create a Kernel Extension Project"></a><h3>Create a Kernel Extension Project</h3>
<p>Kernel extensions are created and edited in Xcode, Apple’s Integrated Development Environment (IDE).</p>
<p>From a Desktop Finder window, locate and launch the Xcode application, found at <code>/Developer/Applications/Xcode</code>. If this is the first time you’ve run Xcode, you’ll see the new user Assistant. The Assistant asks you to make some decisions about your environment. For now, choose the defaults.</p>
<p>When you have finished with the Assistant, choose New Project from the File menu. In the New Project Assistant, scroll down to the Kernel Extension section and choose Generic Kernel Extension. Click Next. </p>
<p>For the Project Name, enter “HelloKernel”. The default location is your home directory; however, if you create many projects, you should make a directory to hold them. Edit the Location to specify a “Projects” subdirectory, for example:</p>
<div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/Users/admin/Projects<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div>
<p>When you click Finish, Xcode creates the new project and displays its project window. The new project contains several files already, including a default source file, <code>HelloKernel.c</code>.</p>
<a name="//apple_ref/doc/uid/20002365-89209" title="Implement the Needed Methods"></a><a name="//apple_ref/doc/uid/20002365-89209-BABIGIDI" title="Implement the Needed Methods"></a><h3>Implement the Needed Methods</h3>
<p>If necessary, select HelloKernel in the Groups &amp; Files pane. Double-click the <code>HelloKernel.c</code> in the detail view to display the source code in a separate editor window. <span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-89239-BABICEAA">Figure 1</a></span> shows where you will find the <code>HelloKernel.c</code> file in the project window.</p>
<p>The default source file does nothing but return a successful status; you’ll need to add some additional code. In particular, you will need to implement the initialization and termination code for your KEXT. The default template merely contains suggestions for these routines, as a place for you to begin.</p>
<br/><div><a name="//apple_ref/doc/uid/20002365-89239-BABICEAA" title="Figure 1Viewing source code in Xcode"></a><p><a name="//apple_ref/doc/uid/20002365-89239" title="Figure 1Viewing source code in Xcode"></a><strong>Figure 1&nbsp;&nbsp;</strong>Viewing source code in Xcode</p>
<img src = "../art/hello_kernel_cfile.jpg" alt = "" ></div><br/>
<p>Change the contents of <code>HelloKernel.c</code> to match the code in <span class="content_text">Listing 1</span>. </p>
<a name="//apple_ref/doc/uid/20002365-89265-BABBIJDE" title="Listing 1HelloKernel.c"></a><p class="codesample"><a name="//apple_ref/doc/uid/20002365-89265" title="Listing 1HelloKernel.c"></a><strong>Listing 1&nbsp;&nbsp;</strong>HelloKernel.c</p>
<div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>#include &lt;sys/systm.h><span></span></pre></td></tr><tr><td scope="row"><pre>#include &lt;mach/mach_types.h><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>kern_return_t HelloKernel_start (kmod_info_t * ki, void * d)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> printf("KEXT has loaded!\n");<span></span></pre></td></tr><tr><td scope="row"><pre> return KERN_SUCCESS;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>kern_return_t HelloKernel_stop (kmod_info_t * ki, void * d)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> printf("KEXT will be unloaded\n");<span></span></pre></td></tr><tr><td scope="row"><pre> return KERN_SUCCESS;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div>
<p>Save your changes by choosing File > Save. Close the separate editor window by clicking the red close button in the upper left.</p>
<p>Notice that <code>HelloKernel.c</code> includes two header files, <code>sys/systm.h</code> and <code>mach/mach_types.h</code>. Both header files reside in <code>Kernel.framework</code>. When you develop your own KEXT, be sure only to include header files from <code>Kernel.framework</code> (in addition to any header files you create) because only these files have meaning in the kernel environment. If you include headers from outside <code>Kernel.framework</code>, your KEXT might compile, but the functions and services those headers define will not be available in the kernel.</p>
<a name="//apple_ref/doc/uid/20002365-89393" title="Edit the KEXT&acirc;&#128;&#153;s Settings"></a><a name="//apple_ref/doc/uid/20002365-89393-BABFFHAA" title="Edit the KEXT&acirc;&#128;&#153;s Settings"></a><h3>Edit the KEXT’s Settings</h3>
<p>Your kernel extension contains a property list, or<em> plist</em>, that tells the operating system what your KEXT contains and what it needs. If viewed from a text editor, the property list would be in XML (Extended Markup Language) format. However, you will be viewing and editing the plist information from within Xcode.</p>
<p>By default, Xcode allows you to edit your KEXT’s property list as plain XML text in the Xcode editor window. However, it’s easier to view and edit the property list file with the Property List Editor application. You can tell Xcode to open property list files using Property List Editor by following these steps:</p>
<ol class="ol"><li class="li"><p>Choose Xcode > Preferences and click the File Types icon. The File Types pane lists all the folder and file types that Xcode handles and the preferred editor for each type.</p></li>
<li class="li"><p>Click the disclosure triangle for file. Then click the disclosure triangle for text.</p></li>
<li class="li"><p>Select text.xml and click Default (Plain Text File) in the Preferred Editor column.</p></li>
<li class="li"><p>Choose External Editor and select Other from the menu that appears.</p></li>
<li class="li"><p>Select Property List Editor in <code>/Developer/Applications/Utilities/Property List Editor</code> and click OK.</p></li>
<li class="li"><p>Now Xcode lists External Editor (Currently Property List Editor) in the Preferred Editor column for text.xml. Click OK to close the Xcode Preferences window.</p></li></ol>
<p>Now you can edit your KEXT’s <code>Info.plist</code> file using Property List Editor:</p>
<ol class="ol"><li class="li"><p>Select HelloKernel in the Groups &amp; Files view. Double-click Info.plist in the Xcode project window. Xcode starts Property List Editor, which displays the <code>Info.plist</code> file. (If Property List Editor displays a second editing window named Untitled, dismiss it by clicking the red close button in the upper left.)</p><p>If this doesn’t work due to a misconfigured project, you can control-click the name of the file and choose “Open with Finder” from the resulting contextual menu. This should have the same effect.</p></li>
<li class="li"><p>In Property List Editor, click the disclosure triangle next to Root. You should see the elements of the property list file, as shown in <span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-89482-BABHCHIB">Figure 2</a></span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/20002365-89482-BABHCHIB" title="Figure 2HelloKernel property list"></a><p><a name="//apple_ref/doc/uid/20002365-89482" title="Figure 2HelloKernel property list"></a><strong>Figure 2&nbsp;&nbsp;</strong>HelloKernel property list</p><img src = "../art/hello_kernel_plist.jpg" alt = "" ></div></li>
<li class="li"><p>Change the value of the <code>CFBundleIdentifier</code> property from the default chosen by Xcode.</p><p>Apple has adopted a “reverse-DNS” naming convention to avoid namespace collisions. This is important because all kernel extensions share a single “flat” namespace.</p><p>By default, Xcode names a new KEXT <code>com.yourcompany.kext.</code><em>&lt;projname></em>, where <em>&lt;projname></em> is the name you chose for your project. You should replace the first two parts of this name with your actual reverse-DNS prefix, (for example: <code>com.apple</code>, <code>edu.ucsd</code>, and so forth). For this tutorial, you will use the prefix <code>com.MyTutorial</code>.</p><p>On the line for <code>CFBundleIdentifier</code>, double-click on <code>com.yourcompany.kext.HelloKernel</code> in the Value field. Double-click on <code>yourcompany</code> and change this string to <code>MyTutorial</code>.</p></li>
<li class="li"><p>The <code>CFBundleVersion</code> property contains the version number of your kernel extension in the <code>’vers’</code> resource style (for more information on this, see <span class="content_text"><a href="../../../../../documentation/mac/Toolbox/Toolbox-454.html" target="_top">http://developer.apple.com/documentation/mac/Toolbox/Toolbox-454.html</a></span> and <span class="content_text"><a href="../../../../../technotes/tn/tn1132.html" target="_top">Technical Note TN1132</a></span>).</p><p>By default, Xcode assigns new kernel extensions the version number <code>1.0.0d1</code>. You can change this value if you wish, but your KEXT must declare <em>some</em> version in the <code>’vers’</code> resource style to be loaded successfully. To change the version value of your KEXT, click on the line for <code>CFBundleVersion</code> and double-click on <code>1.0.0d1</code> in the Value field.</p><p>For this tutorial, leave the <code>CFBundleVersion</code> property with the default value <code>1.0.0d1</code>.</p></li>
<li class="li"><p>Mac OS X requires a KEXT that depends on other loadable extensions or on in-kernel components to declare its dependencies in its plist. This information must be contained in the <code>OSBundleLibraries</code> dictionary at the top level of the plist. </p><p>You need to determine which loadable extensions or in-kernel components your KEXT depends on. You should examine the <code>#include</code> directives in your kernel extension’s code and find the corresponding KEXTs in <span class="content_text"><a href="../KEXTConceptDependencies/kext_dependencies.html#//apple_ref/doc/uid/20002370-BABFGHCJ">“Kernel Extension Dependencies.”</a></span> In this tutorial, “HelloKernel” includes <code>sys/systm.h</code> and <code>mach/mach_types.h</code> so you will create an entry for <code>com.apple.kernel.bsd</code> and an entry for <code>com.apple.kernel.mach</code>. </p><p>Click on the line for <code>OSBundleLibraries</code> and click on the disclosure triangle at the beginning of the line. The button previously labeled New Sibling should change to New Child. It not, check to be sure the disclosure triangle next to <code>OSBundleLibraries</code> is pointing down.</p><p>Click the button that now says New Child (as soon as you do, it will change back to New Sibling). A new item will appear below <code>OSBundleLibraries</code>. Change the name from <code>New item</code> to <code>com.apple.kernel.bsd</code>. Double-click on the value field and enter <code>6.9.9</code>.</p><p>Click the New Sibling button and change the name from <code>New item</code> to <code>com.apple.kernel.mach</code>. Double-click on the value field and enter <code>6.9.9</code>.</p></li>
<li class="li"><p>Save your changes by choosing File > Save from the Property List Editor menu. You won’t be making any more changes to your KEXT’s <code>Info.plist</code> file in this tutorial, so you can quit the Property List Editor application and return to Xcode by choosing Property List Editor > Quit Property List Editor.</p></li></ol>
<p>Xcode also allows you to modify or create build settings for your KEXT. These settings define information that will be compiled into the kernel extension’s executable.</p>
<ol class="ol"><li class="li"><p>On the left, in the Groups &amp; Files view, click the disclosure triangle next to Targets and select HelloKernel (you don’t have to click the disclosure triangle next to HelloKernel).</p></li>
<li class="li"><p>Click the Get Info button in the tool bar (it’s the round blue button with an “i” in the middle).</p></li>
<li class="li"><p>Select the Build view and scroll down to the bottom of the Customized Settings list. Change the name of the module from the default chosen by Xcode (the value of the <code>MODULE_NAME</code> setting). </p><p>Click on the line for <code>MODULE_NAME</code> and double-click on <code>com.yourcompany.kext.HelloKernel</code> in the Value field. Double-click on <code>yourcompany</code> and change this string to <code>MyTutorial</code>. Be sure that the <code>MODULE_NAME</code> value matches the value of the <code>CFBundleIdentifier</code> you entered in your kernel extension’s <code>Info.plist</code> file or your KEXT will not run.</p></li>
<li class="li"><p>The <code>MODULE_START</code> and <code>MODULE_STOP</code> variables contain the names of your KEXT’s initialization and termination routines. Be sure that these variables have the values used in your <code>HelloKernel.c</code> file. That is, for this tutorial, be sure these variables have the values <code>HelloKernel_start</code> and <code>HelloKernel_stop</code>, respectively. If you changed the names of the initialization and termination routines when entering the code in the previous section, make sure that the values for these variables match the names you used! Otherwise, your KEXT will not run.</p></li>
<li class="li"><p>The value of the <code>MODULE_VERSION</code> variable is in the <code>’vers’</code> resource style and must be numerically identical to the <code>CFBundleVersion</code> value in the kernel extension’s <code>Info.plist</code> file or your KEXT may not load. For this tutorial, make sure the <code>MODULE_VERSION</code> variable has the value <code>1.0.0d1</code>.</p></li></ol>
<a name="//apple_ref/doc/uid/20002365-89975" title="Build the Kernel Extension"></a><a name="//apple_ref/doc/uid/20002365-89975-BABEDHCJ" title="Build the Kernel Extension"></a><h2>Build the Kernel Extension</h2>
<p>Here’s how you’ll build the kernel extension:</p>
<ol class="ol"><li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90028">“Build the Project”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90086">“Fix Any Errors”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90122">“If There Were No Errors”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90233">“Build the Project Again”</a></span></p></li></ol>
<a name="//apple_ref/doc/uid/20002365-90028" title="Build the Project"></a><a name="//apple_ref/doc/uid/20002365-90028-BABEFDFD" title="Build the Project"></a><h3>Build the Project</h3>
<p>Click the Build button in the upper left corner of the editor window or select Build from the Build menu. The Build button looks like a hammer and is illustrated in <span class="content_text">Figure 3</span>.</p>
<br/><div><a name="//apple_ref/doc/uid/20002365-90045-BABGJICF" title="Figure 3The build button looks like a hammer"></a><p><a name="//apple_ref/doc/uid/20002365-90045" title="Figure 3The build button looks like a hammer"></a><strong>Figure 3&nbsp;&nbsp;</strong>The build button looks like a hammer</p>
<img src = "../art/build_button.gif" alt = "" width="41" height="41"></div><br/>
<p>If Xcode asks you whether to save some modified files, select all the files and click “Save All”. <span class="content_text">Figure 4</span> shows the Save dialog.</p>
<br/><div><a name="//apple_ref/doc/uid/20002365-90067-BABCDJCA" title="Figure 4Save before building"></a><p><a name="//apple_ref/doc/uid/20002365-90067" title="Figure 4Save before building"></a><strong>Figure 4&nbsp;&nbsp;</strong>Save before building</p>
<img src = "../art/hello_kernel_build_panel.gif" alt = "" width="354" height="285"></div><br/>
<p>Xcode starts building your project. It stops if it reaches an error in the code.</p>
<a name="//apple_ref/doc/uid/20002365-90086" title="Fix Any Errors"></a><a name="//apple_ref/doc/uid/20002365-90086-BABIEEIA" title="Fix Any Errors"></a><h3>Fix Any Errors</h3>
<p>If you made any errors typing in the code, Xcode will stop and show you the errors in both the editor window (if you haven’t closed it) and the main project window. In the project window, click the disclosure triangle next to Errors and Warnings in the Groups &amp; Files view to reveal the files that contain errors. If you select a file listed under Errors and Warnings, Xcode lists the errors in that file, each accompanied by a short description of the problem. Double-click the file name to open an editor window and edit the source code. The source code with the error will appear in the editing window, as shown in <span class="content_text">Figure 5</span>. </p>
<br/><div><a name="//apple_ref/doc/uid/20002365-90103-BABEEBEG" title="Figure 5Xcode shows code errors"></a><p><a name="//apple_ref/doc/uid/20002365-90103" title="Figure 5Xcode shows code errors"></a><strong>Figure 5&nbsp;&nbsp;</strong>Xcode shows code errors</p>
<img src = "../art/hello_kernel_build_panel2.jpg" alt = "" ></div><br/>
<p>You can edit the source code inside the editing window. Correct the error, save your changes, and build the project again.</p>
<a name="//apple_ref/doc/uid/20002365-90122" title="If There Were No Errors"></a><a name="//apple_ref/doc/uid/20002365-90122-BABJCCJE" title="If There Were No Errors"></a><h3>If There Were No Errors</h3>
<p>If you didn’t have any errors, you can insert one so that you can try out the error-handling facility. Try removing the semicolon at the end of one of the lines of code, as shown in <span class="content_text">Listing 2</span>. </p>
<a name="//apple_ref/doc/uid/20002365-90139-BABEDBIH" title="Listing 2HelloKernel.c with error"></a><p class="codesample"><a name="//apple_ref/doc/uid/20002365-90139" title="Listing 2HelloKernel.c with error"></a><strong>Listing 2&nbsp;&nbsp;</strong>HelloKernel.c with error</p>
<div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>#include &lt;sys/systm.h><span></span></pre></td></tr><tr><td scope="row"><pre>#include &lt;mach/mach_types.h><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>kern_return_t HelloKernel_start (kmod_info_t * ki, void * d)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> printf("KEXT has loaded!\n") // &lt;--ERROR! Missing semicolon!<span></span></pre></td></tr><tr><td scope="row"><pre> return KERN_SUCCESS;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>kern_return_t HelloKernel_stop (kmod_info_t * ki, void * d)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> printf("KEXT will be unloaded\n");<span></span></pre></td></tr><tr><td scope="row"><pre> return KERN_SUCCESS;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div>
<a name="//apple_ref/doc/uid/20002365-90233" title="Build the Project Again"></a><a name="//apple_ref/doc/uid/20002365-90233-BABGHFEH" title="Build the Project Again"></a><h3>Build the Project Again</h3>
<p>Click the Build button. If Xcode asks you whether to save some modified files, select all the files and click “Save All”. </p>
<p>Xcode starts building your project again. If there is an error, fix the error as described above in <span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90086">“Fix Any Errors.”</a></span> Otherwise, if the build succeeds, you can move on to loading the extension.</p>
<a name="//apple_ref/doc/uid/20002365-90287" title="Test the Kernel Extension"></a><a name="//apple_ref/doc/uid/20002365-90287-BABIIHJA" title="Test the Kernel Extension"></a><h2>Test the Kernel Extension</h2>
<p>This section shows how to test the kernel extension. You’ll load your KEXT with the <strong>kextload</strong> command, you’ll use the <strong>kextstat</strong> command to see that it’s loaded, and finally, you’ll unload your KEXT from the kernel with the <strong>kextunload</strong> command.</p>
<p>You’ll use the Terminal application to type the commands to load and unload your KEXT. You’ll view the results as they are written to the system log file, <code>/var/log/system.log</code>.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/20002365-DontLinkElementID_30" title="Note"></a><p><strong>Note:</strong>&nbsp;This tutorial uses the “<code>%</code>” prompt when it shows the commands you type in the Terminal application. This is the default prompt of the <code>tcsh</code> shell. If you’re using a different shell, you may see a different prompt. For example, the prompt in the <code>bash</code> shell, which is the default shell in Mac OS X version 10.3, is “<code>$</code>”.</p></div>
<p>Here’s how you’ll test your KEXT:</p>
<ol class="ol"><li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90387">“Getting Root Privileges”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90450">“Start the Terminal Application”</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90694">“Load the KEXT Binary”</a></span></p></li></ol>
<a name="//apple_ref/doc/uid/20002365-90387" title="Getting Root Privileges"></a><a name="//apple_ref/doc/uid/20002365-90387-BABJEBFF" title="Getting Root Privileges"></a><h3>Getting Root Privileges</h3>
<p>To use the <strong>kextload</strong> and <strong>kextunload</strong> commands you must have <code>root</code> or super user privileges. Instead of logging in as <code>root</code>, for this tutorial you will use the <strong>sudo</strong> command which gives permitted users the ability to execute a given command as <code>root</code>.</p>
<p>By default, Mac OS X allows <code>admin</code> and <code>root</code> users to use the <strong>sudo</strong> command, so make sure you are currently logged in to an <code>admin</code> account before using <strong>sudo</strong>. An admin user is a user who has “Allow user to administer this computer” checked in the Security view of the Accounts system preference.</p>
<a name="//apple_ref/doc/uid/20002365-90450" title="Start the Terminal Application"></a><a name="//apple_ref/doc/uid/20002365-90450-BABHDJDH" title="Start the Terminal Application"></a><h3>Start the Terminal Application</h3>
<ol class="ol"><li class="li"><p>Start the Terminal application. From a Desktop Finder window, locate and launch the Terminal application, found at <code>/Applications/Utilities/Terminal</code>. </p></li>
<li class="li"><p>To view the system log file, enter the following command at the Terminal prompt:</p><div class="codesample"><table><tr><td scope="row"><pre>% tail -f /var/log/system.log<span></span></pre></td></tr></table></div></li>
<li class="li"><p>Open a second window in the Terminal application. Choose File > New Shell from the Terminal menu. Position this window so that you can view both windows easily. You will load your KEXT from the second window.</p></li>
<li class="li"><p>In the second Terminal window, move to the directory that contains your KEXT. Xcode stores your KEXT in the <code>Debug</code> folder of the <code>build</code> directory of your project location (unless you’ve set a different location for build products using Xcode’s Preferences dialog).</p><p>Use the <strong>cd</strong> command to move to the appropriate directory. For example:</p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>% cd Projects/HelloKernel/build/Debug<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div><p>This directory contains your KEXT. You can use the <strong>ls</strong> command to view the contents of this directory. For example:</p>
<div class="codesample"><table><tr><td scope="row"><pre>% ls<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext<span></span></pre></td></tr></table></div><p>Your KEXT should have the name <code>HelloKernel.kext</code>. Note that this name is formed from the project name and a suffix, <code>.kext</code>. </p><div class="importantbox"><a name="//apple_ref/doc/uid/20002365-DontLinkElementID_31" title="Important:"></a><p><strong>Important:</strong>&nbsp;

For purposes of packaging, distribution, and installation, the filename of the KEXT (apart from the suffix) does not matter. However, the name of the KEXT binary (stored in the KEXT’s property list) should be unique, using the recommended “reverse-DNS” naming convention.</p><p></p></div><p>From a Desktop Finder window, a KEXT appears as a single file (look for it from the Desktop if you like). From the Terminal application, however, a KEXT appears as a directory. The KEXT directory contains the contents of your KEXT, including the plist (<code>Contents/Info.plist</code>) and the KEXT binary (<code>Contents/MacOS/HelloKernel</code>).</p></li>
<li class="li"><p>View the contents of the KEXT directory. Use the <strong>find</strong> command.</p><p>For example:</p><div class="codesample"><table><tr><td scope="row"><pre>% find HelloKernel.kext<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext/Contents<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext/Contents/Info.plist<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext/Contents/MacOS<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext/Contents/MacOS/HelloKernel<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext/Contents/Resources<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext/Contents/Resources/English.lproj<span></span></pre></td></tr><tr><td scope="row"><pre>HelloKernel.kext/Contents/Resources/English.lproj/InfoPlist.strings<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div></li></ol>
<p>You are now ready to load and run (and then unload) your KEXT.</p>
<a name="//apple_ref/doc/uid/20002365-90694" title="Load the KEXT Binary"></a><a name="//apple_ref/doc/uid/20002365-90694-BABBADJC" title="Load the KEXT Binary"></a><h3>Load the KEXT Binary</h3>
<p>Because kernel extensions contain code and data that are loaded into the kernel, the most protected environment in the operating system, their file ownership and permissions must be set to prevent unauthorized tampering. All KEXT bundles (all files and folders in the KEXT, including the KEXT binary) must be owned by the user <code>root</code> and the group <code>wheel</code>. In addition, the folders and files of the KEXT bundle must have their permissions set so that they are not writable by any user other than the super user.</p>
<p>For development purposes, however, you can make a <code>root</code>-owned copy of your KEXT binary to load and test. You should not change the ownership and permissions of any of your KEXT files in your own directory, because you will no longer be able to save them after working on them. For this tutorial, you will use the <strong>sudo</strong> command to copy the KEXT binary (<code>HelloKernel.kext</code>) to the <code>/tmp</code> directory and load and unload the KEXT from there. Using <strong>sudo</strong> to copy the KEXT binary gives the KEXT the super user’s ownership and permissions and leaves the original KEXT alone so you can revise and save it as you choose.</p><div class="notebox"><a name="//apple_ref/doc/uid/20002365-DontLinkElementID_32" title="Note"></a><p><strong>Note:</strong>&nbsp;Every time you make changes to your KEXT and rebuild it, you need to repeat the following steps to copy the new version to the <code>/tmp</code> directory to load and test it.</p></div>
<ol class="ol"><li class="li"><p>At the prompt, you’ll use the <strong>cp -R</strong> command with the <strong>sudo</strong> command to copy your KEXT to <code>/tmp</code>. The <strong>cp</strong> command copies files from one place to another and the <em>-R</em> option tells <strong>cp</strong> to copy a directory and its entire subtree (like <code>HelloKernel.kext</code>). When prompted for a password, enter your <code>admin</code> password. (Note that nothing is displayed as you type the password.)</p><div class="warningbox"><img src="../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/20002365-DontLinkElementID_33" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;
If you use tab-completion to avoid typing all of <code>HelloKernel.kext</code>, you’ll get a “/” after the KEXT name. Be sure to delete this slash before you press Return. If you don’t, the <strong>cp</strong> command will copy only the <em>contents</em> of the <code>HelloKernel.kext</code> directory to <code>/tmp</code>, instead of copying the directory and its entire subtree.</p><p></p><div class="clear"></div></div><p>Type the following to copy your KEXT to <code>/tmp</code>:</p>
<div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>% sudo cp -R HelloKernel.kext /tmp<span></span></pre></td></tr><tr><td scope="row"><pre>Password:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div><p>Check the ownership and permissions of your KEXT by moving to the <code>/tmp</code> directory and using the <strong>ls -l</strong> command:</p>
<div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    % cd /tmp<span></span></pre></td></tr><tr><td scope="row"><pre>    % ls -l<span></span></pre></td></tr><tr><td scope="row"><pre>    drwxr-xr-x 3 root wheel 102 Jun 19 10:30 HelloKernel.kext<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div><p>The <em>-l</em> makes the <strong>ls</strong> command display extra information about the files in a directory.</p></li>
<li class="li"><p>From the <code>/tmp</code> directory, use the <strong>kextload</strong> command with the <strong>sudo</strong> command; this loads your KEXT and runs its initialization (<code>start</code>) function. Note that you may not have to re-enter your password this time. This is because you’re allowed to continue to use <strong>sudo</strong> for a short period (usually about 5 minutes) without reauthenticating.</p><p>For example:</p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>% sudo kextload -v HelloKernel.kext<span></span></pre></td></tr><tr><td scope="row"><pre>kextload: extension HelloKernel.kext appears to be valid<span></span></pre></td></tr><tr><td scope="row"><pre>kextload: loading extension HelloKernel.kext<span></span></pre></td></tr><tr><td scope="row"><pre>kextload: sending 1 personality to the kernel<span></span></pre></td></tr><tr><td scope="row"><pre>kextload: HelloKernel.kext loaded successfully<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div><p>The <em>-v</em> is optional; it makes <strong>kextload</strong> provide more verbose information.</p></li>
<li class="li"><p>In the other Terminal window, view the system log. In a few moments, this line will appear:</p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>localhost kernel: KEXT has loaded!<span></span></pre></td></tr></table></div></li>
<li class="li"><p>Use the <strong>kextstat</strong> command to check the status of the KEXT. This command displays the status of all dynamically-loaded KEXTs. Enter the command:</p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>% kextstat<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div><p>You’ll see several lines of output, including a line for your KEXT at the end.</p>
<div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Id Refs Address Size Wired Name (Version) &lt;Linked Against><span></span></pre></td></tr><tr><td scope="row"><pre> 1 0 0x4b94000 0x17000 0x16000 ATIR128 (0.1)<span></span></pre></td></tr><tr><td scope="row"><pre> 2 2 0x4bbb000 0x10000 0xf000 com.apple.IOAudioFamily (0.1a)<span></span></pre></td></tr><tr><td scope="row"><pre> 3 1 0x4bcb000 0x1e000 0x1d000 com.apple.IOFireWireFamily (0.1a)<span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>10 0 0x4d18000 0x7000 0x6000 SIP-NKE (0.1a)<span></span></pre></td></tr><tr><td scope="row"><pre>11 0 0x5047000 0x3000 0x2000 com.MyTutorial.kext.HelloKernel...<span></span></pre></td></tr></table></div></li>
<li class="li"><p>Unload the KEXT binary. Use the <strong>kextunload</strong> command with the <strong>sudo</strong> command. This command unloads your KEXT and runs its termination (<code>stop</code>) function.</p><p>For example, from the <code>/tmp</code> directory:</p>
<div class="codesample"><table><tr><td scope="row"><pre>% sudo kextunload HelloKernel.kext<span></span></pre></td></tr><tr><td scope="row"><pre>kextunload: unload kext HelloKernel.kext succeeded<span></span></pre></td></tr></table></div><p>Note that you may have to enter your <code>admin</code> password this time if it’s been more than a few minutes since the last time you entered your password.</p></li>
<li class="li"><p>View the system log. In a few moments, several lines will appear, including:</p><div class="codesample"><table><tr><td scope="row"><pre>localhost kernel: KEXT will be unloaded<span></span></pre></td></tr></table></div></li>
<li class="li"><p>Stop the system log display. The <strong>tail -f</strong> command you used to view the system log will continue to run until you stop it.</p><p>In the Terminal window displaying the system log, press the <code>control</code> key and the <code>c</code> key at the same time.</p></li></ol>
<a name="//apple_ref/doc/uid/20002365-91216" title="Using Console Mode"></a><h3>Using Console Mode</h3>
<p>As an alternative to the Terminal application, you can load and test your KEXT from console mode. In console mode, all system messages (such as this kernel extension’s message “KEXT has loaded!”) are written directly to your monitor screen. Messages appear much more quickly than when they are written to the system log file.</p>
<p>However, you should keep in mind that console mode is not as flexible as the Terminal application. There are no windows, you cannot view your code in Xcode or run other applications at the same time, and you cannot use copy or paste.</p>
<p>To use console mode, follow these steps:</p>
<ol class="ol"><li class="li"><p>Log out of your account.</p><p>From the Desktop, choose Log Out from the Finder menu.</p></li>
<li class="li"><p>From the login screen, log in to console mode.</p><p>Type <code>>console</code> as the user name, leave the password blank, and press Return. Be sure to include the <code>></code> character at the beginning of the name. The screen turns black and looks like an old ASCII “glass terminal”. This is console mode. </p></li>
<li class="li"><p>At the prompt, log in to your <code>admin</code> account.</p></li>
<li class="li"><p>Move to the directory that contains your KEXT binary. Use the <strong>cd</strong> command. </p><p>For example:</p>
<div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>cd /Users/admin/Projects/HelloKernel/build<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div></li>
<li class="li"><p>Follow the instructions given in <span class="content_text"><a href="hello_kext.html#//apple_ref/doc/uid/20002365-90694">“Load the KEXT Binary.”</a></span> Remember that the console messages will come directly to your screen; you do not need to view the system log file.</p></li>
<li class="li"><p>When you have finished, log out of console mode by entering the command <strong>logout</strong>.</p></li></ol>
<a name="//apple_ref/doc/uid/20002365-91479" title="Where to Go Next"></a><h2>Where to Go Next</h2>
<p>Congratulations! You’ve now written, built, loaded, and unloaded your own kernel extension. In the next tutorial in this series, <span class="content_text"><a href="../KEXTConceptIOKit/hello_iokit.html#//apple_ref/doc/uid/20002366-CIHECHHE">“Hello I/O Kit: Creating a Device Driver With Xcode,”</a></span> you’ll learn how to create a device driver, a special kind of KEXT that allows the kernel to interact with devices.</p>
<p>If you’re interested, you can use the <strong>man</strong> command to read the manual pages for <strong>kextload</strong>, <strong>kextstat</strong>, and <strong>kextunload</strong>. For example, from a Terminal window, enter the command</p>
<div class="codesample"><table><tr><td scope="row"><pre>man kextstat<span></span></pre></td></tr></table></div>
<p>More information about the ‘vers’ resource can be found in the “Finder Interface” chapter of <em>Inside Macintosh—Files</em>, or online at <span class="content_text"><a href="../../../../../documentation/mac/Toolbox/Toolbox-454.html" target="_top">http://developer.apple.com/documentation/mac/Toolbox/Toolbox-454.html</a></span>.</p>
<p>Additional useful reference material can be found in <span class="content_text"><a href="../../../../../documentation/CoreFoundation/index.html" target="_top">Core Foundation Documentation</a></span>. Look here for documentation about Bundles, Property Lists, Collections (such as Dictionaries) and more.</p><p>As you become more experienced in KEXT development, you should also read the articles in this document that cover more advanced topics, such as how to declare dependencies so that your KEXT targets the appropriate version of Mac OS X. The following articles provide more information on KEXT-related topics:</p><ul class="simple"><li><p><span class="content_text"><a href="../KEXTConceptLoading/loading_kexts.html#//apple_ref/doc/uid/20002369-BABEJEIB">“Loading Kernel Extensions at Boot Time”</a></span></p></li><li><p><span class="content_text"><a href="../KEXTConceptDependencies/kext_dependencies.html#//apple_ref/doc/uid/20002370-BABFGHCJ">“Kernel Extension Dependencies”</a></span></p></li><li><p><span class="content_text"><a href="../Articles/kext_permissions_ownership.html#//apple_ref/doc/uid/TP40005417-SW1">“Kernel Extension Ownership and Permissions”</a></span></p></li></ul>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../KEXTConceptAbout/about_kexts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../KEXTConceptIOKit/hello_iokit.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Conceptual/KEXTConcept/KEXTConceptKEXT/hello_kext.html%3Fid%3DTP40001063-3.7&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Conceptual/KEXTConcept/KEXTConceptKEXT/hello_kext.html%3Fid%3DTP40001063-3.7&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Conceptual/KEXTConcept/KEXTConceptKEXT/hello_kext.html%3Fid%3DTP40001063-3.7&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
