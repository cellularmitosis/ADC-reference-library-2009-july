<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<TITLE> Adding Relationships</TITLE></HEAD>
<body bgcolor="#ffffff">

<!--start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="JavaClientTOC.html" target="_top">JavaClient Tutorial</a>
</font>
<br><br>
<!--end of path -->


<DIV>
<P><I>Creating a Java Client WebObjects Application</I><P><A HREF="CSJ_Tutorial.1a.html">Previous</A> | <A HREF="JavaClientTOC.html">Back Up One Level</A> | <A HREF="CSJ_Tutorial.1c.html">Next</A></P></DIV>
<H2 CLASS="1Head">
<A NAME="pgfId=5717">
 </A>
<A NAME="36623">
 </A>
Adding <A NAME="marker=9767">
 </A>
Relationships</H2>
<P CLASS="Body">
<A NAME="pgfId=5719">
 </A>
Creating an application that adds and modifies studios is just the first stage of the StudioManager application. Now you can enhance the application to display all of the movies owned by a selected studio. </P>
<P CLASS="Body">
<A NAME="pgfId=5721">
 </A>
The Studio, Movie, and Talent entities are not especially interesting when considered separately. Their real significance only becomes apparent in their relationships to each other. Every Movie has one corresponding Studio. One Studio can have many Movies. A particular actor (Talent) can star in several movies.</P>
<P CLASS="Body">
<A NAME="pgfId=5723">
 </A>
Relational databases model not just individual entities, but entities' relationships to one another. For example, a Movie entity has a corresponding Studio entity. This is modeled in the database by both the Movie entity and the Studio entity having a <B>studioID</B>
 attribute. In Movie, <B>studioID</B>
 is a foreign key, while in Studio it's a primary key. <A NAME="marker=9768">
 </A>
A foreign key correlates with the primary key of another table in order to model a relationship a source table (Movie) has to a destination table (Studio). In the following diagram, notice that the value in the <B>STUDIO_ID</B>
 column for both movies is &quot;501&quot;. This matches the value in the <B>STUDIO_ID</B>
 column of the Columbia Pictures movie studio. In other words, the movies &quot;Tootsie&quot; and &quot;Taxi Driver&quot; both belong to Columbia Pictures.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=5726">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-48.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=5728">
 </A>
This plays out in your running application as follows: Suppose you fetch a Movie object. Enterprise Objects Framework takes the value for the movie's <B>studioID</B>
 attribute and looks up the studio with the corresponding primary key.</P>
<P CLASS="Body">
<A NAME="pgfId=5730">
 </A>
For your application to take advantage of such database-defined relationships, your model must specify the corresponding relationships. When you created the model using the wizard, EOModeler created relationships between your selection of entities based on matching primary and foreign keys; it assigned relationship names of the form &quot;to<EM CLASS="Italic">
DestinationEntity</EM>
&quot;. You might have reason now to examine these relationships, add new ones, delete generated ones, or modify things such as whether a relationship is to-one or a to-many.</P>
<P CLASS="Note">
<A NAME="pgfId=14111">
 </A>
<B>Note: </B>Your model may already have some relationships in it, based on information EOModeler read from the database. For the purposes of this tutorial, you can just ignore these relationships.</P>
<P CLASS="Body">
<A NAME="pgfId=5732">
 </A>
You need to ensure that the following relationships are specified:</P>
<P CLASS="Body">
<A NAME="pgfId=5734">
 </A>
From the Studio (source) entity:</P>
<P CLASS="BodyBulletSt">
<A NAME="pgfId=5736">
 </A>
<UL><LI>Form a <I>to-many</I> relationship to the Movie (destination) entity.</P>
<P CLASS="BodyBulletSt">
<A NAME="pgfId=5738">
 </A>
<LI>The source attribute is <B>studioID</B>
. The destination attribute is <B>studioID</B>
.</P>
</DIV>
<DIV>
<A NAME="pgfId=5740">
 </A>
<LI>Name the relationship <B>movies</B>
.
</UL><P CLASS="Body">
<A NAME="pgfId=5742">
 </A>
From the Movie (source) entity:</P>
<P CLASS="BodyBulletSt">
<A NAME="pgfId=5744">
 </A>
<UL><LI>Form a <i>to-one</I> relationship to the Studio (destination) entity.</P>
<P CLASS="BodyBulletSt">
<A NAME="pgfId=5746">
 </A>
<LI>The source attribute is <B>studioID</B>
. The destination attribute is <B>studioID</B>
.</P>
</DIV>
<DIV>
<A NAME="pgfId=5748">
 </A>
<LI>Name the relationship <B>studio</B>
.
</UL><DIV>
<P>
<A NAME="pgfId=29870">
 </A>
<B>1.  Create a relationship.</B>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29871">
 </A>
<BLOCKQUOTE>Display the attributes view for the entity you want to use as the source of the relationship.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29872">
 </A>
Choose Property <IMG SRC="CSJ_Tutorial-7.gif" ALIGN="BASELINE">
 Add Relationship.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29876">
 </A>
In the Relationship Inspector, enter the name of the relationship.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29877">
 </A>
Select whether the relationship is to-one or to-many.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29878">
 </A>
Select a destination entity.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29879">
 </A>
Select a source attribute.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29880">
 </A>
Select a destination attribute.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29881">
 </A>
Connect them.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=5781">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-50.gif">
</DIV>
</DIV>
</BLOCKQUOTE>
<HR>Â© 1999 Apple Computer, Inc. <P><A HREF="CSJ_Tutorial.1a.html">Previous</A> | <A HREF="JavaClientTOC.html">Back Up One Level</A> | <A HREF="CSJ_Tutorial.1c.html">Next</A></P>

<!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->

</body>
</HTML>
