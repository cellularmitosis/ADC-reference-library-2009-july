<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>How Script Systems Are Classified(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING28></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-27.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-29.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-13.html"><B>Chapter 1 - Introduction to Text on the Macintosh</B></A> / <A HREF="Text-24.html"><B>Writing Systems and Script Systems</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING28-0></A>
<H2><A NAME=MARKER-9-221></A>How Script Systems Are Classified</H2>
 Different kinds of script systems function differently. The previous section, <A HREF=Text-27.html#MARKER-9-208>"Components of a Script System,"</A> described the components of all script systems; this section describes the different ways of classifying script systems. The following section, <A HREF=Text-29.html#MARKER-9-252>"How Script Systems Work,"</A> describes how to use script systems for your text handling needs.<P>
 <A NAME=MARKER-2-308></A>Script systems are typed in general by the size of their character set and by their relative similarity to Roman. The Roman script system is used widely in North America, South America, Australia, Europe, and Africa, and in parts of Asia and Oceania. The Roman script system is standard on all Macintosh system software versions 4.1 and higher, but the Macintosh also supports all types of non-Roman script systems--simple or complex, and with small or large character sets.<P>
 Script systems are individually classified by code numbers. Resources associated with a script system have ID numbers that are related to the script's code. Languages and regional variations are subsets of script systems and have their own code numbers.<P>
 On an individual computer, more than one script system can be available at a time; different scripts are classified by their function. The most important script system is the <I>system script;</I> other script systems are secondary. The script system currently being used for text display is the <I>font script;</I> the script currently being used for text input is the <I>keyboard script.</I><P>
<DL>
<DT><B>Note</B>
<DD><A NAME=MARKER-2-44></A>Because the Roman script system is always installed, you can <BR>always manipulate Roman text, no matter what other script <BR>systems are present.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<A NAME=HEADING28-6></A>
<H3><A NAME=MARKER-9-224></A>Types of Script Systems</H3>
 <A NAME=MARKER-2-49></A>Because of its historical support for the Roman writing system, and because Roman text layout is fairly simple, the Macintosh computer most easily supports script systems that are like Roman. Other script systems can add complications like right-to-left line direction, contextual character forms, and large character sets.<P>
 As shown in <A HREF=#MARKER-9-229>Figure 1-32</A>, script systems are divided into three groups, based on the size of their character set and their relative complexity compared to Roman:<P>
<UL>
<LI>The <A NAME=MARKER-2-67></A><B>1-byte simple script systems</B> have character sets of 256 characters or fewer. They are called 1-byte because their character codes are one byte long. They are called simple because they are similar to Roman: they have a uniform left-to-right line direction and are noncontextual. The 1-byte simple script systems support variations within the Roman writing system and among Roman-like writing systems such as differences of character set, keyboard layout, sorting order, word boundaries, and the formatting of dates, times, and numbers. The 1-byte simple script systems include Roman, Greek, and Cyrillic.
<LI>The <A NAME=MARKER-2-82></A><B>1-byte complex script systems</B> also have character sets of 256 characters or fewer. They are complex because they may have left-to-right or right-to-left line direction, and may be contextual. The 1-byte complex script systems support the more difficult formatting required for bidirectional writing and the extensive use of ligatures, cursive fonts, character reordering, and other contextual features. The 1-byte complex script systems include Thai, Devanagari, Hebrew, and Arabic.
<LI>The <A NAME=MARKER-2-32></A><B>2-byte script systems</B> have character sets so large that most character codes <BR>are two bytes long. The 2-byte script systems require sophisticated methods for character input, as well as an independent font mechanism for display and printing. The 2-byte script systems include Traditional Chinese, Simplified Chinese, Japanese, and Korean.<P>
</UL>
<B>Figure 1-32  <A NAME=MARKER-9-229></A>Types of script systems</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IS_L-20.jpg">
 <A HREF=#MARKER-9-230>Figure 1-33</A> shows which parts of the Macintosh script management system are involved in handling text from the different types of script systems:<P>
<UL>
<LI>Roman text is handled with code and resources largely built into system software.
<LI>Text of 1-byte simple script systems is handled with the same built-in Roman code and resources, supplemented by minor additional resources such as alternate keyboard layouts and fonts.
<LI>Text of 1-byte complex script systems is handled by WorldScript I, which may use, modify, or completely replace any of the built-in code. The complex 1-byte script systems may replace much of the Roman resources with their own international and keyboard resources and fonts.
<LI>Text of 2-byte script systems is handled by WorldScript II, which may use, modify, or completely replace any of the built-in code. The 2-byte script systems may replace much of the Roman resources with their own international and keyboard resources and fonts; they also provide special input methods for text entry.<P>
</UL>
<B>Figure 1-33  <A NAME=MARKER-9-230></A>How the script management system handles different types of scripts<A NAME=MARKER-2-322></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IS_L-21.jpg">
<A NAME=HEADING28-21></A>
<H3><A NAME=MARKER-9-232></A>Script Codes, Language Codes, and Region Codes</H3>
 <A NAME=MARKER-2-233></A>The Macintosh script management system accommodates the international differences within writing systems by defining languages and regional variations for script systems, and organizing them into a classified hierarchy. Script systems are identified by <B>script codes,</B> languages by <B>language codes,</B> and regions by <B>region codes.</B> A spoken language that may be written in more than one writing system is treated on the Macintosh computer as several languages, each belonging to a different script system.<P>
 Three general concepts underlie the hierarchy of script, language, and region.<P>
<UL>
<LI><A NAME=MARKER-2-325></A>A script system is often differentiated by its<I></I> character encoding, the specification of the characters that compose the writing system and their numeric representations. Different character encodings usually have different script codes. (This is not always true within the Roman script system; see <A HREF=Text-30.html#MARKER-9-260>"The Standard Roman Character Set" on page 1-54</A>.)
<LI>Each language belongs to a particular script system. Every language code thus implies a particular script code. Several languages may be associated with a single script system; in such a case, they share the same character set.
<LI>A region code designates an area that may be smaller or larger than a single country (for example, <I>French Swiss</I> or <I>Arabic</I>), in which a specific variation of a single script system and language is used. Each region belongs to a particular language. Several regions may be associated with a single language. A region code typically represents a localized version of the system software for a particular language in a particular country or region.<P>
</UL>
 <A HREF=#MARKER-9-235>Figure 1-34</A> illustrates the script, language, and region hierarchy. Note, for example, that the regions of France, Qu&eacute;bec, and French Swiss are associated with the French language, which is part of the Roman script system.<P>
<B>Figure 1-34  <A NAME=MARKER-9-235></A>The script, language, and region hierarchy</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IS_L-22.jpg">
 You can use language codes and region codes to specify multiple subsets of the international resources for a single script system. That way you can implement regional variations to a writing system without having to create an entirely new script system each time. See <A HREF=Text-37.html#MARKER-9-475>"Installing Modifications to a Script System" beginning on page 1-103</A>.<P>
 See the chapter "Script Manager" in this book for a complete list of the constant names that define the codes for all scripts, languages, and regional versions.<A NAME=MARKER-2-214></A><P>
<A NAME=HEADING28-32></A>
<H4><A NAME=MARKER-9-237></A>Script Codes and Resource ID Numbers</H4>
 <A NAME=MARKER-2-332></A>Each script system is assigned a unique script code. The script codes currently defined are in the range 0-32, although the Script Manager can support 64 script systems at the same time. All the resources related to a script system, including its fonts, have resource ID numbers related in some way to the script ID:<P>
<UL>
<LI>The resource ID number for a script system's international bundle (<CODE>'itlb'</CODE>) resource is the same as the script code.
<LI>The resource ID numbers for most other resources associated with a script are in a range specific to that script. You can use these ID ranges to determine the script system associated with a font or other resource. Likewise, even when a font is missing, the Font Manager can use the ID range to substitute a font of the same script.<P>
<UL>
<LI>For Roman (script code = 0), this range is 0-16383.
<LI>Scripts with script codes in the range 1-32 have a range of 512 resource ID numbers each. For example, the script code for Japanese is 1, so Japanese resources can <BR>have any of the first 512 ID numbers beyond the Roman range, that is, 16384-16895. The script code for Korean is 3, so Korean resources can have resource IDs in <BR>the range 17408-17919.<P>
</UL>
</UL>
 <A HREF=#MARKER-9-239>Figure 1-35</A> illustrates the resource ID ranges for script systems with script codes between 0 and 32. The ranges for the Roman, Japanese, Chinese, Korean, and Devanagari scripts are noted. A full table of resource ID ranges is provided in the appendix "International Resources" in this book.<P>
<DL>
<DT><B>Note</B>
<DD>The Script Manager provides routines for determining the script system based on the value of a font family ID.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<B>Figure 1-35  <A NAME=MARKER-9-239></A>Distinguishing scripts by resource ID range (for script codes 0-32)</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IT_L-08.jpg">
<DL>
<DT><B>IMPORTANT</B>
<DD><A NAME=MARKER-2-296></A>The special font designators <I>0</I> and <I>1</I>, although in the range of the Roman script system, specify the Macintosh <I>system font</I> and <I>application font,</I> respectively; they do <I>not</I> necessarily indicate a Roman font and the Roman script system. See the section <A HREF=Text-31.html#MARKER-9-297>"Font Handling" beginning on page 1-60</A> for more information.<EM></EM><A NAME=MARKER-2-159></A>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
<A NAME=HEADING28-43></A>
<H3>The System Script and Auxiliary Scripts</H3>
 <A NAME=MARKER-2-338></A>A script system may be installed either as an <B>auxiliary</B> <B>script </B>(also called a <I>secondary script</I>), which only provides support for a particular writing system, or as the <B>system script</B> (also called the <I>primary script</I>), which is the script system associated with the currently running version of Macintosh system software. The system script affects system defaults such as the default font, keyboard layout, and primary line direction. The system script defines which writing system is used for dialog boxes, menus, and alerts. Therefore, most text displayed by the Finder and other parts of the system is in the language of the system script.<A NAME=MARKER-2-470></A><P>
 The system script is specified in the System file's international configuration (<CODE>'itlc'</CODE>) resource. All other script systems are secondary to the system script. In non-Roman versions of system software, Roman is an auxiliary script.<P>
 Some versions of Macintosh system software, such as the Turkish or French, are simply variations of the U.S. system software (which includes the Roman script system). Their script system is a modified version of the standard U.S. Roman script system, and they do not include a second script system. When a non-Roman script system is installed, however, at least two script systems are always present. For example, the Japanese system software is a combination of U.S. system software and the Japanese script system, all of which are localized for Japan. Thus it contains both Roman and Japanese script systems.<A NAME=MARKER-2-244></A><P>
<A NAME=HEADING28-47></A>
<H3><A NAME=MARKER-9-245></A>Font Script and Keyboard Script</H3>
 <A NAME=MARKER-2-974></A>In every version of Macintosh system software, the system script is always enabled and is the principal script system for determining how text is presented and handled in the Finder and other parts of system software. But if there are auxiliary scripts present, the system script is not always the script system that controls text-handling.<P>
 The text-manipulation and drawing routines in the Macintosh script management system work with individual character codes or strings of character codes, manipulating them or converting them to glyphs. A character code by itself carries no identifier as to what script system should be used to interpret it; the script management system uses other information to decide what script system to use for presenting or processing a given run of text.<P>
 Many of the routines use the script system associated with the font of the current graphics port to perform their tasks. The font is specified by the <CODE>txFont</CODE> field of the graphics port that is identified by the global variable <CODE>thePort</CODE>. The script system associated with that font is called the<A NAME=MARKER-2-59></A> <B>font script.</B> Therefore, to manipulate text in a given script system, you typically first set the current port with a call to the QuickDraw <CODE>SetPort</CODE> procedure, and then set the current font with a call to the QuickDraw <CODE>TextFont</CODE> procedure, and then call the series of text-manipulation routines you need. (For those routines that take a script code as an explicit parameter, you need not set the current font before making the call.)<P>
 Text input by the user involves the conversion of keypresses to character codes. Because every script system has its own character set, the character codes produced depend explicitly on the script system used for keyboard input. That script system is called the <A NAME=MARKER-2-60></A><B>keyboard script.</B> It is not automatically the same as the script used for display of text; your application must keep the keyboard script and the font script synchronized if characters are to be displayed correctly as they are typed in. Synchronization of the font script and keyboard script is further described on <A HREF=Text-33.html#MARKER-9-409>page 1-90</A> in this chapter and in the chapter "Script Manager" in this book.<P>
<DL>
<DT><B>What is the "current" script?</B>
<DD><A NAME=MARKER-2-128></A>As just stated, the font script is usually the script system that is used by a script-aware text routine when the identity of the script or its resources is not an explicit parameter of the call. However, if the font script is not enabled, the routine uses the system script by default. Furthermore, some script-aware routines may use the system script instead of the font script, depending on the values of two Script Manager flags: the <B>font force flag</B> and the <B>international resources selection flag.</B>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<DD>The font force flag, when <CODE>TRUE</CODE>, specifies that fonts with ID numbers in the Roman range are to be considered as fonts of the system script rather than Roman fonts. The international resources selection flag, when <CODE>TRUE</CODE>, specifies that resources of the system script are to be used by those Text Utilities routines that format dates, times, and numbers. The font force flag is supported only by some non-Roman 1-byte scripts for special purposes, and is typically <CODE>FALSE</CODE>. The international resources selection flag is typically <CODE>TRUE</CODE>.  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<DD>The font force flag and the international resources selection flag are described in the chapter "Script Manager" in this book.<EM></EM><A NAME=MARKER-9-492></A>   <A NAME=MARKER-2-58></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-27.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-29.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
