<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Interface Builder Plug-In Programming Guide: Plug-in Quick Start</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Plug-in Quick Start"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004323-CH9" title="Plug-in Quick Start"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../InterfaceBuilder-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000525" target="_top">Interface Builder</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40004323-CH1-DontLinkElementID_48">Interface Builder Plug-In Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../CreatingPluginBundle/CreatingPluginBundle.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../DesigningControlsViews/DesigningControlsViews.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40004323-CH9-SW1" title="Plug-in Quick Start"></a><h1>Plug-in Quick Start</h1><p>If you already have a custom object, creating a basic Interface Builder plug-in for that object takes only a few minutes. This chapter walks you through the creation of a plug-in for a simple <code>NSButton</code> subclass. After completing the steps and installing your plug-in, a user should be able to drag your custom button out of the library, add it to a nib file, resize it, reposition it, and save it with the nib file. The user will also be able to customize the basic attributes of the button, since it is derived from the <code>NSButton</code> class. The steps for creating the plug-in are as follows: </p><ol class="ol"><li class="li"><p>Create your plug-in project using Xcode. </p></li><li class="li"><p>Set up your custom button.</p></li><li class="li"><p>Configure the library nib file that comes with the project.</p></li><li class="li"><p>Build your plug-in and load it into Interface Builder. </p></li></ol><p>This chapter does not cover the steps needed to set up an inspector panel. That information is covered in a later chapter.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Plug-inQuickStart.html#//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_36">Creating and Configuring Your Xcode Project</a>
				
			<br/>
			
        
			
			
				<a href="Plug-inQuickStart.html#//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_37">Set Up Your Custom Button Class</a>
				
			<br/>
			
        
			
			
				<a href="Plug-inQuickStart.html#//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_38">Configuring the Library Nib File</a>
				
			<br/>
			
        
			
			
				<a href="Plug-inQuickStart.html#//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_39">Building and Loading the Plug-in</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_36" title="Creating and Configuring Your Xcode Project"></a><h2>Creating and Configuring Your Xcode Project</h2><p>Xcode provides a custom project template for creating an Interface Builder plug-in. To create a new plug-in project, do the following:</p><ol class="ol"><li class="li"><p>In Xcode, select File > New Project.</p></li><li class="li"><p>In the New Project Assistant, in the Standard Apple Plug-ins section, select the “Interface Builder 3.x Plugin” project type. </p></li><li class="li"><p>Enter the project name and location and click Finish.</p></li><li class="li"><p>In the new project window, double-click your plug-in target to open the inspector window for that target.</p></li><li class="li"><p>In the Properties tab of the inspector window, type a custom bundle identifier name in the Identifier field.</p><p>The bundle identifier differentiates your plug-in from other Interface Builder plug-ins and should contain a string that includes your company name in reverse-DNS format. For more information about bundle identifiers, see <em><a href="../../../../MacOSX/Conceptual/BPRuntimeConfig/index.html#//apple_ref/doc/uid/10000170i" target="_top">Runtime Configuration Guidelines</a></em>. </p></li></ol><p>The project template includes default targets for your plug-in bundle and for a custom framework you can use to encapsulate the code for your custom objects. The code associated with the plug-in target consists of a default subclass of <code>IBPlugin</code>(your plug-in’s main class) and a basic nib file ready for you to customize. </p><br/><div><a name="//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_50" title="Figure 2-1Xcode project for Interface Builder plug-ins "></a><p><strong>Figure 2-1&nbsp;&nbsp;</strong>Xcode project for Interface Builder plug-ins </p><img src = "../Art/plugin_xcode.jpg" alt = "Xcode project for Interface Builder plug-ins" ></div><br/><p>The default plug-in target is configured to build a plug-in bundle with the <code>.ibplugin</code> extension. Your plug-in bundle must have this extension for it to be recognized by Interface Builder. If you create a custom Xcode project for your plug-in, you should specify this extension in the Wrapper Extension build setting for your plug-in target. </p><a name="//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_37" title="Set Up Your Custom Button Class"></a><h2>Set Up Your Custom Button Class</h2><p>The Xcode project you created includes a framework target that you can use to package your custom objects. Along with this target is a source file you can use for your custom object. This button class should already have a custom name but its parent class is set to <code>NSView</code> by default. You need to change the parent class to <code>NSButton</code>. Thus, the header file for your new widget should look something like the following: </p><div class="codesample"><table><tr><td scope="row"><pre>#import &lt;Cocoa/Cocoa.h><span></span></pre></td></tr><tr><td scope="row"><pre>@interface MyIBPluginView : NSButton {<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div><p>You do not need to add any additional code to your custom button class.</p><a name="//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_38" title="Configuring the Library Nib File"></a><h2>Configuring the Library Nib File</h2><p>Each new plug-in project contains a library nib file whose name is of the form “<em>plugin_name</em><code>Library.nib</code>", where <em>plugin_name</em> is the name you give to your Xcode project. Interface Builder looks in this nib file for the custom objects that you want to integrate into the Interface Builder library window. You can use this nib file to integrate both views and non-view objects. Inside the nib file is a default container view called “Library Objects”. This view contains one or more library object templates, which are a special type of view used to store the contents of a single library entry. </p><p>The library nib file that comes with your Xcode project should already contain two library object template views. One template contains a custom view while the other contains a button and a button cell. Although one of the templates already contains a button, the purpose of the example is to show you how to configure any view. The following steps show you how to configure the template with the custom view. </p><ol class="ol"><li class="li"><p>Open the library nib file for your plug-in project in Interface Builder 3.0.</p></li><li class="li"><p>In the nib file, double-click the Library Objects view to open it in its own window. <span class="content_text">Figure 2-2</span> shows this view, which contains two library object templates (one with a custom view and one with a button). </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40004323-CH9-SW4" title="Figure 2-2Default view in the library nib file"></a><p><strong>Figure 2-2&nbsp;&nbsp;</strong>Default view in the library nib file</p><img src = "../Art/library_objects_nib.jpg" alt = "Default view in the library nib file" ></div></li><li class="li"><p>Select the bottom library object template (the one with the button) and its surrounding content and delete it.</p></li><li class="li"><p>Select the custom view inside the remaining library object template. Your view should look similar to the one in <span class="content_text">Figure 2-3</span>.  </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40004323-CH9-SW5" title="Figure 2-3Removing the unneeded items in the library nib file"></a><p><strong>Figure 2-3&nbsp;&nbsp;</strong>Removing the unneeded items in the library nib file</p><img src = "../Art/library_nib_after.jpg" alt = "Removing the unneeded items in the library nib file" ></div></li><li class="li"><p>Open the inspector window and select the identity pane; see <span class="content_text">Figure 2-4</span>.  </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40004323-CH9-SW2" title="Figure 2-4Identity pane of the inspector window"></a><p><strong>Figure 2-4&nbsp;&nbsp;</strong>Identity pane of the inspector window</p><img src = "../Art/insp_identity.jpg" alt = "Identity pane of the inspector window" ></div></li><li class="li"><p>In the Class field of the Inspector window, type the name of your custom button subclass. (From the preceding section, this would be the <code>MyIBPluginView</code> class name.)</p></li><li class="li"><p>Save the nib file.</p></li></ol><p>Once you have saved your nib file, you can proceed to build your plug-in and load it in Interface Builder. </p><a name="//apple_ref/doc/uid/TP40004323-CH9-DontLinkElementID_39" title="Building and Loading the Plug-in"></a><h2>Building and Loading the Plug-in</h2><p>To build your project, select the All target and press the Build &amp; Go button in the toolbar (or select Build > Build &amp; Run from the menu). The plug-in target comes configured with a dependency on the framework target. Xcode builds your framework in the default build directory and builds your plug-in inside the framework itself. It then launches Interface Builder and loads your plug-in automatically. Your custom button should appear in the library and the preferences window should show your plug-in listing; see <span class="content_text">Figure 2-5</span>.  </p><br/><div><a name="//apple_ref/doc/uid/TP40004323-CH9-SW3" title="Figure 2-5Interface Builder preferences panel"></a><p><strong>Figure 2-5&nbsp;&nbsp;</strong>Interface Builder preferences panel</p><img src = "../Art/preferences.jpg" alt = "Interface Builder preferences panel" ></div><br/><p>Xcode builds a plug-in in its corresponding framework directory to facilitate easy distribution of that plug-in to end users. When the user opens a nib file, Interface Builder automatically scans the linked-in frameworks of the associated Xcode project to see if they contain plug-ins. If it finds any, Interface Builder automatically loads those plug-ins to ensure that any custom objects in the nib file can be read. For more information about the runtime integration between Xcode and Interface Builder, see <em><a href="../../IB_UserGuide/index.html#//apple_ref/doc/uid/TP40005344" target="_top">Interface Builder User Guide</a></em>.</p><p>If you need to load your plug-in manually for any reason, you can do so from the Interface Builder preferences window. To load your plug-in manually, do the following:</p><ol class="ol"><li class="li"><p>Open the Preferences window in Interface Builder. </p></li><li class="li"><p>Select the Plug-ins pane.</p></li><li class="li"><p>Click the “+“ icon at the bottom of the window. </p></li><li class="li"><p>Navigate to your plug-in from the sheet and click Open. (Your plug-in should be located inside your framework.)</p></li></ol>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../CreatingPluginBundle/CreatingPluginBundle.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../DesigningControlsViews/DesigningControlsViews.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-18<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/IBPlugInGuide/Plug-inQuickStart/Plug-inQuickStart.html%3Fid%3DTP40004323-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/IBPlugInGuide/Plug-inQuickStart/Plug-inQuickStart.html%3Fid%3DTP40004323-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/IBPlugInGuide/Plug-inQuickStart/Plug-inQuickStart.html%3Fid%3DTP40004323-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>