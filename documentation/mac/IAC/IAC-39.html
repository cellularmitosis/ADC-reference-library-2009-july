<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Customizing Dialog Boxes(IM:IC)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING39></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="IAC-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="IAC-2.html"><B>Interapplication Communication</B></A> / <BR><DD><A HREF="IAC-23.html"><B>Chapter 2 - Edition Manager</B></A> / <A HREF="IAC-26.html"><B>Using the Edition Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING39-0></A>
<H2><A NAME=MARKER-9-340></A><A NAME=MARKER-21-341></A>Customizing Dialog Boxes</H2>
 The expandable dialog box functions allow you to add items to the bottom of the dialog boxes, apply alternate mapping of events to item hits, apply alternate meanings to the item hits, and choose the location of the dialog boxes. See the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> and the chapter "Standard File Package" in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I> for additional information.<A NAME=MARKER-9-239></A><P>
 The expandable versions of these dialog boxes require five additional parameters. Use the <CODE>NewPublisherExpDialog</CODE> function to expand the publisher dialog box.<A NAME=MARKER-2-535></A><P>
<PRE>
err := NewPublisherExpDialog (reply, where, expansionDITLresID, 
                              dlgHook, filterProc, yourDataPtr);
</PRE>
 Use the <CODE>NewSubscriberExpDialog</CODE> function to expand the subscriber dialog box.<A NAME=MARKER-2-191></A><P>
<PRE>
err := NewSubscriberExpDialog (reply, where, expansionDITLresID,
                               dlgHook, filterProc, yourDataPtr);
</PRE>
 Use the <CODE>SectionOptionsExpDialog</CODE> function to expand the publisher options and the subscriber options dialog boxes.<A NAME=MARKER-2-409></A><P>
<PRE>
err := SectionOptionsExpDialog (reply, where, expansionDITLresID,
                                dlgHook, filterProc, yourDataPtr);
</PRE>
 The <CODE>reply</CODE> parameter is a pointer to a <CODE>NewPublisherReply</CODE>, <CODE>NewSubscriberReply</CODE>, or <CODE>SectionOptionsReply</CODE> record, respectively.<P>
 You can automatically center the dialog box by passing (-1, -1) in the <CODE>where</CODE> parameter. <P>
 The <CODE>expansionDITLresID</CODE> parameter should contain 0 or a valid item list (<CODE>'DITL'</CODE>) resource ID. This integer is the resource ID of an item list whose items are appended to the end of the standard item list. The dialog items keep their relative positions, but they are moved as a group to the bottom of the dialog box. See the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for additional information on item lists.<P>
 The <CODE>filterProc</CODE> parameter should be a pointer to an expandable modal-dialog filter function or <CODE>NIL</CODE>. An expandable modal-dialog filter function is similar to a modal-dialog filter function or event filter function except that an expandable modal-dialog filter function accepts two extra parameters. The <CODE>ModalDialog</CODE> procedure calls the expandable modal-dialog filter function you provide in this parameter. <BR><BR>Providing a filter function enables you to map real events (such as a mouse-down event) to an item hit (such as clicking the Cancel button). For instance, you may want to map a keyboard equivalent to an item hit. See the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for information on the <CODE>ModalDialog</CODE> procedure.<P>
 The <CODE>dlgHook</CODE> parameter should be a pointer to an expandable dialog hook function or <CODE>NIL</CODE>. An expandable dialog hook function is similar to a dialog hook function except that an expandable dialog hook function accepts an additional parameter. The <CODE>NewSubscriberExpDialog</CODE>, <CODE>NewPublisherExpDialog</CODE>, and <CODE>SectionOptionsExpDialog</CODE> functions call your expandable dialog hook function after each call to the <CODE>ModalDialog</CODE> procedure. The dialog hook function should take the appropriate action, such as filling in a checkbox. The <CODE>itemOffset</CODE> parameter to the procedure is the number of items in the item list before the expansion dialog items. You need to subtract the item offset from the item hit to get the relative item number in the expansion dialog item list. The expandable dialog hook function should return as its function result the absolute item number. <P>
 When the Edition Manager displays subsidiary dialog boxes in front of another dialog box on the user's screen, your dialog hook and event filter functions should check the <CODE>refCon</CODE> field in the <CODE>WindowRecord</CODE> data type (from the <CODE>window</CODE> field in the <CODE>DialogRecord</CODE>) to determine which window is currently in the foreground. The main dialog box for the <CODE>NewPublisherExpDialog</CODE> and the <CODE>NewSubscriberExpDialog</CODE> functions contains the following constant:<P>
<PRE>
CONST    sfMainDialogRefCon   = 'stdf';   {new publisher and }
                                          { new subscriber}
</PRE>
 The main dialog box for the <CODE>SectionOptionsExpDialog</CODE> function contains the following constant:<A NAME=MARKER-2-379></A><P>
<PRE>
CONST    emOptionsDialogRefCon   = 'optn';   {options dialog}
</PRE>
 See <A HREF=IAC-93.html#MARKER-9-501>"Summary of the Edition Manager" beginning on page 2-106</A> for additional constants. <P>
 The <CODE>yourDataPtr</CODE> parameter is reserved for your use. It is passed back to your dialog hook and event filter function. This parameter does not have to be of type <CODE>Ptr</CODE>--it can be any 32-bit quantity that you want. In Pascal, you can pass <CODE>yourDataPtr</CODE> in register A6 , and declare your dialog hook and modal-dialog filter as local functions without the last parameter. The stack frame is set up properly for these functions to access their parent local variables. See the chapter "Standard File Package" in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I> for detailed information.<P>
 For the <CODE>NewPublisherExpDialog</CODE> and <CODE>NewSubscriberExpDialog</CODE> functions, all the pseudo-items for the Standard File Package--such as <CODE>sfHookFirstCall</CODE>(-1), <CODE>sfHookNullEvent</CODE>(100), <CODE>sfHookRebuildList</CODE>(101), and <CODE>sfHookLastCall</CODE>(-2)--can be used, as well as <CODE>emHookRedrawPreview</CODE>(150).<A NAME=MARKER-2-395></A><P>
 For the <CODE>SectionOptionsExpDialog</CODE> function, the only valid pseudo-items are <CODE>sfHookFirstCall</CODE>(-1), <CODE>sfHookNullEvent</CODE>(100), <CODE>sfHookLastCall</CODE>(-2), <CODE>emHookRedrawPreview</CODE>(150), <CODE>emHookCancelSection</CODE>(160), <CODE>emHookGoToPublisher</CODE>(161), <CODE>emHookGetEditionNow</CODE>(162), <CODE>emHookSendEditionNow</CODE>(162), <CODE>emHookManualUpdateMode</CODE>(163), and <CODE>emHookAutoUpdateMode</CODE>(164). See the chapter "Standard File Package" in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I> for information on pseudo-items.<A NAME=MARKER-2-415></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="IAC-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="IAC-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
