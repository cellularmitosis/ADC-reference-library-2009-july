<HTML><HEAD>	<LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css">	<LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css">	<title>Technical Note TN2010: Mac OS 9.1</title>    <meta name="keywords" content="add keywords later">    <meta name="Description" content="Technical Note TN2010: description text."><meta name="categories" content="Operating System, Overview and System Releases"><meta name="week-posted" content="Jan 15, 2001 - Jan 19, 2001"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY bgcolor="#ffffff"><a name="//apple_ref/doc/uid/DTS10003049" title="Mac OS 9.1"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN2010</div>
<div id="pageheadsub">Mac OS 9.1</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><center><table width="600" cellpadding="0" cellspacing="0" border="0"> <tr> <td align="left" scope="row"><A HREF="#top"></a><P id="introtext">This Technical Note discusses changes and corrections in the next generation ofMac&nbsp;OS: Mac&nbsp;OS&nbsp;9.1. This system follows<A HREF="tn1194.html">Mac&nbsp;OS&nbsp;9.0.4</A>and contains several enhancements and revised features.  All developersinterested in creating products compatiblewith Mac&nbsp;OS&nbsp;9.1 will want to review this document.</P><P id="introtext">For the most part, Mac&nbsp;OS&nbsp;9.1 is a system update that fixes bugsand improves operational performance and stability (r. 2469436).</P>    			<table border="0" width="600" cellpadding="0" cellspacing="0">				<tr>					            <td width=300 align=left> <img src="images/mtop600.gif" alt="" align="bottom" width=600 height=7></td>				</tr>				<tr bgcolor="#e6e6e6">					<td background="images/mbody600.gif" width=600 align=left>						<span id="menutitle">							CONTENTS 							<br>						</span>					</td>				</tr>				<tr bgcolor="#e6e6e6">					<td background="images/mbody600.gif" width=600 align=left>																		<table border="0" width="590" cellpadding="0" cellspacing="0">				<tr> <td width=295 align=left scope="row">														<p id="menutext">						    <A HREF="#hardware">Hardware Requirements</A><BR>						    						    <A HREF="#installation">Installation</A><BR>						    						    <A HREF="#Finder">Finder 9.1</A><BR>						</p>						<p id="menutext2">							<A HREF="#Findergeneral">Overall changes and fixes</A><BR>							<A HREF="#Finderapplescript">AppleScript Changes</A><BR>						</p>						<p id="menutext">							<A HREF="#appledatasec">Apple Data Security 2.1</A><BR>						</p>						<p id="menutext2">							<A HREF="#applefilesecurity">Apple File Security</A><BR>						</p>						<p id="menutext">							<A HREF="#applehelp">Apple Help</A><BR>						</p>						<p id="menutext2">							<A HREF="#helpapis">New Apple Help APIs</A><BR>							<A HREF="#helpviewer">Help Viewer</A><BR>						</p>						<p id="menutext">							<A HREF="#CarbonLib">Carbon Support - CarbonLib 1.1</A><BR>							<A HREF="#rominram">Inside the ROM image file</A><BR>						</p>						<p id="menutext2">							<A HREF="#usbsupport">USB Support 1.4.4</A><BR>						</p>						<p id="menutext">							<A HREF="#systemfile">Inside the System File</A><BR>						</p>						<p id="menutext2">							<A HREF="#aliasmanager">Alias Manager</A><BR>							<A HREF="#ATS">ATS</A><BR>							<A HREF="#ATSUI">ATSUI</A><BR>							<A HREF="#dragmanager">Drag Manager</A><BR>							<A HREF="#deferredtaskmanager">Deferred Task Manager</A><BR>							<A HREF="#filemanager">File Manager</A><BR>							<A HREF="#filesystemmanager">File System Manager</A><BR>							<A HREF="#foldermanager">Folder Manager</A><BR>							<A HREF="#fontmanager">Font Manager</A><BR>							<A HREF="#iconservices">Icon Services</A><BR>							<A HREF="#memorymanager">Memory Manager</A><BR>							<A HREF="#menumanager">Menu Manager</A><BR>							<A HREF="#mlte">MultiLingual Text Editing</A><BR>							<A HREF="#mp">Multitasking/Multiprocessing API</A><BR>							<A HREF="#navigationservices">Navigation Services</A><BR>							<A HREF="#ppctoolbox">PPC Toolbox</A><BR>							<A HREF="#processmanager">Process Manager</A><BR>							<A HREF="#quickdraw">QuickDraw</A><BR>							<A HREF="#quickdrawtext">QuickDraw Text</A><BR>							<A HREF="#resourcemgr">Resource Manager</A><BR>							<A HREF="#scriptmanager">Script Manager</A><BR>							<A HREF="#StdCLib">StdCLib 3.7</A><BR>							<A HREF="#tsm">Text Services Manager (TSM)</A><BR>							<A HREF="#timemanager">Time Manager</A><BR>							<A HREF="#unicodeutil">Unicode Text Utilities</A><BR>							<A HREF="#vDSP">vDSP 1.0</A><BR>							<A HREF="#virtualmemorymanager">Virtual Memory Manager</A><BR>							<A HREF="#windowmanager">Window Manager</A><BR>						</p>						<p id="menutext">							<A HREF="#controlpanels">Control Panels</A><BR>						</p>						<p id="menutext2">							<A HREF="#applemenuoptions">Apple Menu Options</A><BR>							<A HREF="#dateandtime">Date and Time</A><BR>							<A HREF="#extensionsmanager">Extensions Manager</A><BR>						</p>				</td> <td width=295 align=left>										<p id="menutext">							<A HREF="#controlpanels">Control Panels</A> (continued)<BR>						</p>						<p id="menutext2">							<A HREF="#fileexchange">File Exchange 3.0.4</A><BR>							<A HREF="#filesharing">File Sharing</A><BR>							<A HREF="#filesync">File Synchronization</A><BR>							<A HREF="#generalcontrols">General Controls 8.0</A><BR>							<A HREF="#internetcp">Internet</A><BR>							<A HREF="#memorycp">Memory</A><BR>							<A HREF="#remoteaccess">Remote Access</A><BR>							<A HREF="#softwareupdate">Software Update</A><BR>							<A HREF="#startupdisk">Startup Disk</A><BR>							<A HREF="#websharing">Web Sharing</A><BR>						</p>						<p id="menutext">							<A HREF="#extensions">System Extensions</A><BR>						</p>						<p id="menutext2">							<A HREF="#applescript">AppleScript 1.5.5</A><BR>						</p>						<p id="menutext3">								<A HREF="#applescript_mountv">Mount Volume uses Keychain</A><BR>								<A HREF="#applescript_rounding">Rounding 'as taught in school'</A><BR>								<A HREF="#applescript_Unicode">Unicode Support</A><BR>								<A HREF="#applescript_X">Mac OS X Support</A><BR>								<A HREF="#applescript_other">Other Changes</A><BR>						</p>						<p id="menutext2">							<A HREF="#appleshareclient">AppleShare Client 3.8.8</A><BR>							<A HREF="#atapicddvddriver">ATAPI CD/DVD Driver</A><BR>							<A HREF="#colorsync">ColorSync 3.0.3</A><BR>							<A HREF="#firewire">FireWire Support 2.7</A><BR>							<A HREF="#htmlrenderinglib">HTMLRenderingLib</A><BR>							<A HREF="#IrDA">IrDA</A><BR>							<A HREF="#java">Mac OS Runtime for Java</A><BR>							<A HREF="#multipleusers">Multiple Users 1.3</A><BR>							<A HREF="#nsl">Network Services Location (NSL)</A><BR>							<A HREF="#opentransport">Open Transport 2.7.4</A><BR>							<A HREF="#opengl">OpenGL 1.2</A><BR>							<A HREF="#plaintalk">PlainTalk</A><BR>							<A HREF="#quicktime">QuickTime 4.1.2</A><BR>							<A HREF="#timesynch">Time Synchronizer</A><BR>							<A HREF="#urlaccess">URL Access 2.1</A><BR>							<A HREF="#usbprintersharing">USB Printer Sharing 1.0.1</A><BR>						</p>						<p id="menutext">							<A HREF="#applemenuitems">Apple Menu Items</A><BR>						</p>						<p id="menutext2">							<A HREF="#AppleSystemProfiler">Apple System Profiler</A><BR>							<A HREF="#SherlockTwo">Sherlock 2</A><BR>						</p>						<p id="menutext">							<A HREF="#utilities">Utilities</A><BR>						</p>						<p id="menutext2">							<A HREF="#diskfirstaid">Disk First Aid</A><BR>							<A HREF="#drivesetup">Drive Setup</A><BR>						</p>						<p id="menutext">							<A HREF="#appleextras">Apple Extras</A><BR>						</p>						<p id="menutext2">							<A HREF="#applecdaudioplayer">CD Audio Player</A><BR>							<A HREF="#worldtext">World Text</A><BR>							<A HREF="#macsbug">MacsBug 6.6.3</A><BR>						</p>						<p id="menutext">							<A HREF="#Downloads">Downloadables</A><BR>						</p>				</td> </tr>				</table>					</td>				</tr>				<tr>					<td width=600 align=left scope="row">						<img src="images/mbot600.gif" alt="" width=600 height=16>					</td>				</tr>			</table><!-- begin_date --><H4 align=center>[Jan 18 2001]</H4><!-- end_date --><BR><BR><hr width=500 align=center><BR><BR><A NAME="hardware"></A><H3>Hardware Requirements</H3><P>Mac&nbsp;OS&nbsp;9.1 can be installed on any Macintosh thatoriginally shipped with a PowerPC processor that has atleast 32 megabytes of physical RAM and a minimum of 40megabytes of logical RAM (virtual memory is set to 64 bydefault if there is less than 64 megabytes of physicalRAM installed).</P><P>Mac&nbsp;OS&nbsp;9&nbsp;1 has been tested and qualified by Apple to runon Apple PowerPC-based Mac&nbsp;OS computers. (Mac&nbsp;OS&nbsp;9 is nottested or qualified by Apple for use on third party Mac&nbsp;OS-compatiblecomputers.)</P><P><a href="#top">Back to top</a></P><BR><BR><A NAME="installation"></A><H3>Installation</H3><P>Mac OS 9.1 may be installed as an upgrade to Mac OS 7.5.5 and laterversions of the Mac OS.  The installer program requires Mac OS 8.5 or later to run, and it is recommended that users boot from the installationCD before performing an installation.    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="Finder"></A><H3>Finder 9.1</H3><P>The Finder provides a graphical interface for the user along with otherApple event-based services for applications utilizing the file system.  Thefollowing lists new features and changes present in Finder&nbsp;9.1.</P><A NAME="Findergeneral"></A><H4>Overall changes and fixes</H4>    <UL>        <LI>Get Info windows for applications now    allow more free form editing of the Memory partitions. Specifically it     is now possible to make changes to either field first without the     Finder warning about invalid memory configurations.  The Finder     will not attempt to apply the changes until the user closes the    window (only at this point is a confirmation window    presented if the user has entered out of bounds values).<BR><BR></LI>            <LI>A contextual menu command has been added that allows users to view    the internal contents of Mac OS 9 package folders.  The new Show     Package Contents contextual menu command allows users to open a package    folder and manipulate its contents as if it were any other folder (r. 2406988).<BR><BR></LI>                <LI>A Window menu listing the current collection of open    Finder windows has been added to the Finder's main menu bar. Selecting an    item from the Window menu brings the associated window to the front (or, if    the item refers to a pop-up window, then the window will pop-up in to view).    The following meta key combinations can be used when selecting items    from the Window menu:            <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left>    <UL>    <LI><B>no meta key held down</B> - select &amp; uncollapse<BR><BR></LI>    <LI><B>Command</B> - close (or close drawer)<BR><BR></LI>    <LI><B>Command-Shift</B> - close &amp; put away pop-up<BR><BR></LI>    <LI><B>Command-Option</B> - close others, select &amp; uncollapse this<BR><BR></LI>    <LI><B>Control</B> - collapse others, select &amp; uncollapse this (Single Window)<BR><BR></LI>    <LI><B>Control-Option</B> - uncollapse all, select</LI>    </UL></TD></TR></TABLE></CENTER>                                    <BR><BR></LI>          <LI>The Finder now supports redirection (by way of the Folder Manager APIs) of the     Desktop Folder to volumes other than the startup volume.  The Finder now     relies entirely on the Folder Manager to determine the location of the      Desktop Folder and makes no assumptions about its actual location. (r. 2406346).<BR><BR></LI>    <LI>When copying files, it is no longer possible to overwrite a normal    document file with an alias file (r.2433219).<BR><BR></LI>    <LI>Finder 9.1's user interface no longer allows users to turn on file sharing    for folders and volumes with names longer than 27 characters (r. 2257202).<BR><BR></LI>                    <LI>Editing a file's name inside of the Get Info... window and then locking    the file using the check box in the same window no longer reverts the file's    name to its last known value (r. 2286023).<BR><BR></LI>            <LI>The Finder's Encrypt menu command is no longer available when an    alias file is selected (r. 2397515).<BR><BR></LI>                    <LI>Finder 9.1 will not allow users to bless the desktop folder by moving    the Finder and system file to that location (r. 2404745).<BR><BR></LI>            <LI>Finder 9.1 does some checking to recognize Mac OS X packages.  Namely,    if a folder contains the appropriate Mac OS X package information files,    then the Finder will identify the folder as a package.<BR><BR></LI>    <LI>A crashing problem that could occur when there was an invisible file    in the trash and another file with the same name was dragged to the    trash has been corrected (r. 2413764).<BR><BR></LI>       <LI>Some errors that could occur in the Finder when dragging FireWire drives    to trash have been corrected (r. 2515977).<BR><BR></LI>       <LI>Pasting custom icon onto a Mac OS X packages is now supported (r. 2538098).<BR><BR></LI>        <LI>The Finder will now properly activate windows that it opened in response    to Apple events from other applications while running as a background application    when the Finder is switched to the front most application (r. 2417802).<BR><BR></LI>    <LI>A problem where the Finder could hang when opening a narrow window    containing many files has been corrected. This could only happen    in non-list-view windows, where the icons do not already have locations    assigned to them.<BR><BR></LI>        <LI>Finder 9.1 does not allow users to create an alias inside of a drop box.    Previous versions of the finder would allow this operation, but they    would always fail and leave a partially created alias inside the drop box (r. 2442066).<BR><BR></LI>    <LI>Custom icons now display correctly for Mac OS 9 packages (r. 2468468).<BR><BR></LI>    <LI>Finder List View redrawing heuristics have been improved (r. 2308818).<BR><BR></LI>            <LI>The new Finder no longer crashes when over 200 nested folders are expanded    in a list view (r. 2371844).<BR><BR></LI>        <LI>Pop-up window tabs are now resized appropriately after the user changes    screen resolutions (r. 2372335).<BR><BR></LI>            <LI>A problem where folder contents do not update dynamically if the folder is opened         during a copy operation has been corrected (r. 2474094).<BR><BR></LI>            <LI>Under certain conditions the Command-up-arrow navigation    sequence (used to open/select the current selection's parent window) could    cause a crash.  This problem has been corrected (r. 2515500).<BR><BR></LI>        <LI>Under certain conditions it was possible that using the keyboard    sequence command-i (get info) followed by the sequence command-delete    (move selection to trash) could corrupt Finder memory and cause a    crash.  This problem has been corrected (r. 2504598).<BR><BR></LI>            <LI>the following Keyboard shortcuts have been added so that    Finder 9.1 supports the same keyboard commands for keyboard    shortcuts used in the Mac OS X Desktop (r. 2525977):       <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left>    <UL>    <LI><B>Command-T</B> - Add selected item to Favorites.<BR><BR></LI>    <LI><B>Command-Shift-Delete</B> - empty the trash.</LI>    </UL></TD></TR></TABLE></CENTER>                            <BR><BR></LI>        <LI>In some cases, new settings for the memory partition size for an application    would not be saved.  This has been corrected. (r. 2454019)<BR><BR></LI>        <LI>The Finder now clears the ioFlBkDat and ioDrBkDat fields for new files or    folders created as the result of a duplicate command or a copy command.<BR><BR></LI>             <LI>Items found in the temporary items folder at system startup     are, once again, moved to the rescued items folder in the trash (r. 2486192).<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>There is a Tech Info Library article describing this problem located at the address:<BR><a href="http://til.info.apple.com/techinfo.nsf/artnum/n25134">http://til.info.apple.com/techinfo.nsf/artnum/n25134</a></P></TD></TR></TABLE></CENTER>                              <BR><BR></LI>                    <LI>The heuristics used by the Finder when identifying text being dragged     to one of the Finder's locations as be appropriate for placement in an     Internet location file instead of a clipping file have been updated for     better compatibility with international text.  These routines now require     that text used for creating internet addresses contain an explicit url     scheme (such as "mailto:", "http://", etc) before an Internet location file     will be created as a result of a drag and drop.           <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>This change only affects text that contains non-ASCII characters.If the text is pure ASCII, then the same algorithm that was used inMac OS 9 will be used (r. 2478012).</P></TD></TR></TABLE></CENTER>                               </LI>                       </UL>    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT:</B><BR>It is no longer possible to launch a control panel in theFinder's partition by holding down the Command and Controlkeys while double-clicking the control panel's icon (r. 2440800).</P></TD></TR></TABLE></CENTER><BR><BR>                            <BR><BR><A NAME="Finderapplescript"></A><H4>AppleScript Changes</H4>    <UL>                    <LI>A problem, that has existed since Mac OS 8.5, where the 'titled'         property of a Finder window        was compiled into scripts as the resizable property        has been corrected (r. 2472105).  For example, the script        <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>tell application "Finder" to get the titled of window 1</pre></TD></TR></TABLE></CENTER><BR><BR>                    would be compiled as:                                        <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>tell application "Finder" to get the resizable of window 1</pre></TD></TR></TABLE></CENTER>          <BR><BR></LI>                 <LI>In previous versions of the Finder, asking for a list of creator    types of all the active processes would return a list of object    references instead of a list of four letter strings.  This problem    appears in Mac OS 8 through Mac OS 9.0.4 and was not present in    Mac OS 7.x (r. 1670530).                For example:    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>tell application "Finder"    get creator type of every process        --&gt; {&laquo;class COBA&raquo;, &laquo;class apae&raquo;, &laquo;class 3615&raquo;, &laquo;class Mrr2&raquo;,        &laquo;class FMP3&raquo;, &laquo;class ToyS&raquo;, &laquo;class XPR3&raquo;}    beepend tell</pre></TD></TR></TABLE></CENTER><BR><BR>                         This command has been updated so it will always return a list of four character     strings as shown here:      <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>tell application "Finder"    get creator type of every process        --&gt; {"XPR3","FMP3", etc.}    beepend tell</pre></TD></TR></TABLE></CENTER>    <BR><BR></LI>                <LI>The "put away" now has an optional "without asking" parameter (r. 1673117)    that can be used as shown in the following listing:<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>tell application "Finder"    set theDisk to disk "Scratch"    put away theDisk without askingend tell</pre></TD></TR></TABLE></CENTER><BR><BR>                    The effect of the optional "without asking" parameter is to inhibit anyalerts that may appear during processing of the command such as "This disk will re-appear when you next start the machine."<BR><BR></LI>            <LI>Scripts, such as the one shown below, attempting to retrieve the    names of all ejectable disks no longer fail (r. 2244621).  In the past,    such scripts would abort with an error such as "Finder got an error: Can't get name of every disk of desktop whose ejectable = true."<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>tell application "Finder"   name of every disk of desktop whose ejectable is trueend tell</pre></TD></TR></TABLE></CENTER>                        <BR><BR></LI>    <LI>It is now possible for scripts to determine if they are being called    as part of the shutdown sequence or the restart sequence (r. 2275596).    To discover the current execution state scripts can use the Finder's    "execution state" property as shown below:    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>tell application "Finder"   if execution state is <B>restarting</B> then      beep 1 -- the machine is being restarted   else if execution state is <B>starting up</B> then      beep 2 -- starting up the machine   else if execution state is <B>running</B> then      beep 3 -- functioning perfectly   else if execution state is <B>rebuilding desktop</B> then      beep 4 -- currently rebuilding the desktop file   else if execution state is <B>copying</B> then      beep 5 -- performing a copy operation   else if execution state is <B>quitting</B> then      beep 6 -- powering down the machine   end ifend tell </pre></TD></TR></TABLE></CENTER>                                 <BR><BR></LI><LI>Since Mac OS 8.5, scripts using modification and creation dateproperties associated with files did not work (r. 2279739).  This problem    appears in Mac OS 8 through Mac OS 9.0.4 and was not present in    Mac OS 7.x.  Thisproblem has been corrected and it is now possible to usescripts such as the following:<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>tell application "Finder"    set the backup_list to every item of the entire contents of the startup        disk whose modification date is greater than xend telltell application "Finder"    set the backup_list to every item of the startup disk whose -        creation date is greater than the (current date)end telltell application "Finder"    set the backup_list to every item of the startup disk whose -        modification date is greater than the (current date)end tell</pre></TD></TR></TABLE></CENTER>	<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="appledatasec"></A><H3>Apple Data Security 2.1</H3><P>Apple Data Security provides security features to the Mac OS.Security features include facilities for signing and verificationof file signatures, password maintenance, and file cryptography.</P>    <UL>    <LI>Apple Data Security now supports 128-bit encryption and decryption.<BR><BR></LI>        <LI>Keychain's handling of http proxy passwords in conjunction with    a number of third party applications, and Sherlock, has been    improved (r. 2406669, 2391168).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="applefilesecurity"></A><H3>Apple File Security</H3><P>Apple File Security provides cryptographic facilities. Users can use thisapplication to either encrypt a file with a password or decrypt an encryptedfile. The Finder's Encrypt menu item is dependent upon the Apple File Securityapplication residing within the Applications folder. Apple File Securitydoes not have the ability to compress and encrypt a folder. This precludes itfrom encrypting a package.</P>    <UL>    <LI>Apple File Security 128-bit encryption.<BR><BR></LI>        <LI>Apple File Security has been updated for better compatibility    with some third party virus protection utilities (r. 2399313).<BR><BR></LI>        <LI>A compatibility problem with Multiple Users has been corrected.  Here,    Apple File Security could mistakenly attempt to encrypt all of the files    in a folder containing a file it was asked to encrypt when it does not    happen to have read/write permission for the containing folder's parent    folder (r. 2442096)<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="applehelp"></A><H3>Apple Help</H3><P>Apple Help provides system-wide instructionalhelp services for virtually all aspects of Mac&nbsp;OS.</P><A NAME="helpapis"></A><H4>New Apple Help APIs</H4>    <UL>                        <LI>Several new APIs have been introduced with the version of CarbonLib            that ships with Mac OS 9.1. The new APIs are outlined as follows.<BR><BR>                        <B>AHSearch</B>        <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>OSStatus AHSearch(     CFStringRef bookname,     CFStringRef query);</pre></TD></TR></TABLE></CENTER><BR><BR>        - Tells the Help Viewer to search for the specified query, in the Help         book specified by the bookname parameter. If bookname is NULL, search         all books. The function is synchronous; it will, if necessary, launch         the Help Viewer application, switch to the Help Viewer context, and         perform the search.        <BR><BR>                        <B>AHGotoMainTOC</B>                <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>OSStatus AHGotoMainTOC(     AHTOCType toctype);</pre></TD></TR></TABLE></CENTER><BR><BR>                                  - Tells the Help Viewer to go to the main toc specified by toctype.         kAHTOCTypeUser would take the user to the Help Center, and         kAHTOCTypeDeveloper would take the user to the Developer Help Center*.         The function is synchronous; it will, if necessary, launch the Help         Viewer application, switch to the Help Viewer context, and go to         the specified table of contents page.                        <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>NOTE: The Developer Help Center is only supported on Mac OS X. Should         a caller attempt to use the kAHTOCTypeDeveloper constant in this         API, the Help Viewer will open the Help Center.</P></TD></TR></TABLE></CENTER><BR><BR>                                                    <B>AHGotoPage</B>             <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>OSStatus AHGotoPage(     CFStringRef bookname,     CFStringRef path,     CFStringRef anchor);</pre></TD></TR></TABLE></CENTER><BR><BR>                              Tells the Help Viewer to go to the html file specified by a combination         of bookname and path. If bookname is NULL, path must be a full "file://"          URL. If bookname is not NULL, path should relative to the book           specified by bookname. If an anchor is supplied, Help Viewer will           scroll to that anchor in the newly opened file. The function is           synchronous; it will, if necessary, launch the Help Viewer           application, switch to the Help Viewer context, and go to           the specified page.         <BR><BR>                        <B>AHLookupAnchor</B>        <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>OSStatus AHLookupAnchor(     CFStringRef bookname,     CFStringRef anchor);</pre></TD></TR></TABLE></CENTER><BR><BR>                            - Tells the Help Viewer to open the file that contains the anchor         specified, and scroll to that anchor. If bookname is specified,          the search for files containing that anchor is limited to that          book. If bookname is NULL, all books are searched. Anchors          should be unique, but if they're not, Help Viewer will display          a list of links to all files that contain the specified anchor.          The function is synchronous; it will, if necessary, launch the          Help Viewer application, switch to the Help Viewer context, and          go to the anchor-containing page, or to the list of results.          <BR><BR>                            <B>AHRegisterHelpBook</B>                <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>OSStatus AHRegisterHelpBook(    const FSRef *appBundleRef);</pre></TD></TR></TABLE></CENTER><BR><BR>                            - Called by an application each time it launches, this locates         a help book that is stored within an application's package,         and places an alias to that Help book in the system help         location (if not already present), thus enabling the inclusion         of that help book in the Help Center the next time Help Viewer          is launched.    <BR><BR></LI>                    </UL><A NAME="helpviewer"></A><H4>Help Viewer</H4><P>Help Viewer is a lightweight HTML rendering application that allowsusers to browse online help materials.</P>    <UL>    <LI>A number of memory management and compatibility problems between help    viewer, other system facilities, and some third party printers have been    corrected (rr. 2535899, 2386521, 2510449, 2525758).  The end result of    these changes is improved Help Viewer performance and stability.<BR><BR></LI>        <LI>Urls of the form help:///full/path/to/file.htm are now understood by the Help Viewer (r. 2537852).<BR><BR></LI>        <LI>Problems related to downloading remote content across the Internet, when an    alias to the help book is stored in Help book instead of the help book itself,    have been corrected (r. 2517221).<BR><BR></LI>        <LI>A problem where aliases stored in the help folder would only work    if they had the same name as the help book folder has been corrected (r. 2474792).    Aliases are no longer required to have the same name.<BR><BR></LI>        </UL><P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="CarbonLib"></A><H3>Carbon Support - CarbonLib 1.1</H3><P>Carbon is the set of programming interfaces for use in Mac OSapplications designed to run in both Mac&nbsp;OS&nbsp;9.1 and Mac&nbsp;OS&nbsp;X. The following new features are present in the version of CarbonLib that ships withMac&nbsp;OS&nbsp;9.1.  For more information about CarbonLib, please refer tothe Carbon SDK</P>    <UL>    <LI>New Carbon Event model APIs.<BR><BR></LI>    <LI>New Carbon Printing model APIs.<BR><BR></LI>    <LI>The DataBrowser APIs.<BR><BR></LI>    <LI>The new Help Viewer APIs.<BR><BR></LI>    <LI>The HTMLRenderingLib APIs.<BR><BR></LI>    </UL>    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT:</B><BR>Although Mac OS 9.1 ships with CarbonLib 1.1, it is recommended thatMac OS 9.1 users upgrade to CarbonLib 1.2 or later for better performance.At the time of this writing, CarbonLib 1.2 is available as part of theCarbonLib SDK available at the developer web site(<a href="http://developer.apple.com/sdk">http://developer.apple.com/sdk</a>).</P></TD></TR></TABLE></CENTER><BR><BR>                      <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="rominram"></A><H3>Inside the ROM Image File</H3><P>The ROM image file is loaded into RAM at system startup and then that area ofmemory is set to read only.  Contents of the ROM image file replace the olderhardware based ROM chip set that shipped with Apple Macintosh computers in the past.Updates to the ROM image file are provided with system updates and with new hardware.The following corrections are present in the ROM image file installed with Mac OS 9.1:</P>    <UL>    <LI>It was possible for some display colors to be displayed incorrectly    after waking up from sleep (r. 2469657).  This problem has been corrected.<BR><BR></LI>        <LI>The ID number stored in KMAP resources for Pro keyboards (ANSI, ISO, JIS) was not    the correct number.  This has been corrected (r. 2504668).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="usbsupport"></A><H4>USB Support 1.4.4</H4><P>Mac OS USB is built into the Mac OS ROM file, and enables USB support forthose Macintosh systems that have USB built in.</P>    <UL>    <LI>Connected devices are now shown as 'non-removable' in the    Name Registry (r. 2439684).<BR><BR></LI>        <LI>Better inter-operation with MacsBug has been incorporated into    Mac OS USB (rr. 2540060, 2543100, )<BR><BR>    </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="systemfile"></A><H3>Inside the System File</H3><P>The System file contains code and resources for running the computer.This section describes new features, changes, and bug fixes in theSystem file. The functionality provided by the System file is alwayspresent under Mac&nbsp;OS&nbsp;9.1, even when the shift key is held down atsystem startup.  The system file contains the executable for the librarieslisted in this section and resource data used by the system.</P>    <UL>        <LI>If more than one application is open while the computer was connected    to a server and the user pressed the power button, a dialog notifying the    user of the impending server disconnection would appear in the background.    This has been corrected (r. 2486759).<BR><BR></LI>        <LI>If a driver was installed by another driver while processing an    accRun call, SystemTask would wind up using stale values for the    low memory variables UTableBase and UnitNtryCnt.  SystemTask has been    updated such that if the driver unit table is moved or resized during    an accRun call, it will restart processing the accRun at the beginning    of the table (r. 2542196). If you need to install a driver from within    a driver during an accRun call in a version of Mac OS prior to Mac OS 9.1,    you can do so from inside of a Notification Manager task initiated by your    driver while processing an accRun call.<BR><BR></LI>    <LI>It was possible for the Process to Process Communication Toolbox to load    the Keychain library into some heap other than the system heap and thereby    risk having the library close while it was being used.  This has been    corrected so the keychain library will always be loaded into the system    heap by the PPCToolbox (r. 2516363).<BR><BR></LI>        <LI>The InterfaceLib glue for the GetFSInfo, SetFSInfo and InformFSM    File System Manager calls was trashing register D3.  This has been    corrected (r. 2522240).<BR><BR></LI>        <LI>The File Manager, the Device Manager, and the Delay trap now take	advantage of the Multiprocessing API Library's advanced power management	support to reduce power consumption and increase battery life.<BR><BR></LI>        <LI>Prior to Mac OS 9.1 the limit of the number of outstanding secondary    interrupt requests was 40.  In Mac OS 9.1 that limit was raised to    256 (r. 2627130).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="aliasmanager"></A><H4>Alias Manager</H4><P>The Alias Manager is the part of the operating system that communicateswith the File Manager to maintain alias records used to store referencesto file and folder locations. The Alias Manager does not create Finderalias files; the Finder creates these files and stores alias recordscreated by the Alias Manager in them.</P>    <UL>    <LI>The following new APIs that take FSRefs instead of FSSpecs    have been added to the Alias Manager.  These new routines provide    the same functionality as the corresponding older Alias Manager calls - the only    difference is the use of the new FSRef data type instead of the older    FSSpec data type.  The new calls are listed below:<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>OSErr FSNewAlias(    const FSRef *fromFile, /* can be NULL */    const FSRef *target,    AliasHandle *inAlias)OSErr FSNewAliasMinimal(    const FSRef *target,    AliasHandle *inAlias)OSErr FSIsAliasFile(    const FSRef *   fileRef,    Boolean     *   aliasFileFlag,    Boolean     *   folderFlag)OSErr FSResolveAliasWithMountFlags(    const FSRef *   fromFile, /* can be NULL */    AliasHandle inAlias,    FSRef       *   target,    Boolean     *   wasChanged,    unsigned long   mountFlags )OSErr FSResolveAlias (    const FSRef *   fromFile, /* can be NULL */    AliasHandle    alias,    FSRef      *   target,    Boolean    *   wasChanged)OSErr FSResolveAliasFileWithMountFlags(    FSRef       *   theRef,    Boolean         resolveAliasChains,    Boolean     *   targetIsFolder,    Boolean     *   wasAliased,    unsigned long   mountFlags ) OSErr FSResolveAliasFile(    FSRef       *   theRef,    Boolean         resolveAliasChains,    Boolean     *   targetIsFolder,    Boolean     *   wasAliased) OSErr FSFollowFinderAlias(    FSRef       *   fromFile, /* can be NULL */    AliasHandle     alias,    Boolean         logon,    FSRef       *   target,    Boolean     *   wasChanged) OSErr FSUpdateAlias(    const FSRef   *   fromFile, /* can be NULL */    const FSRef   *   target,    AliasHandle alias,    Boolean *wasChanged)</pre></TD></TR></TABLE></CENTER><BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="appearance"></A><H4>Appearance Manager</H4><P>The Appearance Manager provides facilities for providing a consistent appearance forgraphical user interface elements.</P>    <UL>    <LI><CODE>DrawThemeGenericWell</CODE> has edge case update bug.  If an update is needed    on a well, and only the outside pixel or two need updating, an    optimization within the Appearance Manager will prevent the outside    boundries of the well to get drawn (r. 2435805).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="ATSUI"></A><H4>ATSUI</H4><P>Unicode is a character set which encodes the characters of many languagesin a flat 16-bit number space. ATSUI extends the QuickDraw API and makes itpossible for Mac OS applications to draw Unicode text. ATSUI provides bothlow-level services for drawing Unicode text as well as much of the high-endtypographical control previously provided by QuickDraw GX.</P>    <UL>        <LI>Some third party Unicode cmaps were not being used in ATSUI because    the script code for the font was not being read correctly.  ATSUI now reads    the script code correct so these fonts can be used (r. 2541880).<BR><BR></LI>    	<LI>The routines <CODE>ATSULeftCursorPosition</CODE> and <CODE>ATSURightwardCursorPosition</CODE>	now use Unicode Utils	routines for cluster movement. This corrects some problems found with	the <CODE>ATSULeftCursorPosition</CODE> and <CODE>ATSURightwardCursorPosition</CODE>	cluster movement operations for surrogates and for Indic clusters (r. 2503643).<BR><BR></LI>	    <LI>The routines <CODE>ATSUPreviousCursorPosition</CODE> and <CODE>ATSUNextCursorPosition</CODE>    now pin returned offset to layout boundaries.  Previously, these functions could return offsets    beyond the layout boundary. For example, if a layout starts at offset    2 but the text from offset 0 begins with a word that is 5    characters long, then setting the initial offset at 3 and asking    <CODE>ATSUPreviousCursorPosition</CODE> to return the previous word boundary    would return 0, but now it returns 2 (r. 2503648).<BR><BR></LI>            <LI>The routine <CODE>ATSUPositionToOffset</CODE> is now able to handle surrogate    pairs (r. 2497992).<BR><BR></LI>            <LI>Under some circumstances when only <CODE>QDStyles</CODE> were being used,     it was possible for <CODE>ATSUCompareStyles</CODE> to indicate    that two style runs were equal when in fact they were not.  This problem    has been corrected (r. 2485233).<BR><BR></LI>    <LI>A problem where Color text printed with ATSUI would not appear as expected    on the printed page has been corrected (r. 2393116).<BR><BR></LI>        <LI>The Underline character style is no longer applied to the return character (r. 2520184).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="dragmanager"></A><H4>Drag Manager</H4><P>The Drag Manager supports Drag-and-Drop operations between windows andapplications.</P>    <UL>    <LI>Under some circumstances, <CODE>DrawThemeFocusRect</CODE> could disable    2D graphics acceleration.  This problem has been corrected (r. 2445982).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="deferredtaskmanager"></A><H4>Deferred Task Manager</H4><P>The Deferred Task Manager is the part of the operating system that canbe used to execute routines with all other interrupts enabled at theend of a hardware interrupt cycle.  Normally code running inside ofa hardware interrupt will call the Deferred Task Manager to scheduleoperations that would disable other interrupts for too long if they wereprocessed right away inside of the hardware interrupt cycle.</P>    <UL>    <LI>It is now possible for a deferred task to call a secondary    interrupt handler synchronously from inside of a deferred task    using the routine <CODE>CallSecondaryInterruptHandler2</CODE> (r. 2529860).<BR><BR></LI>        <LI>Now, deferred tasks will not run immediately when they are installed    from inside of a secondary interrupt handler.  Now, when a deferred    task is installed during the processing of a secondary interrupt,    it will be deferred until the end of the secondary interrupt cycle (r. 2529860).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="filemanager"></A><H4>File Manager</H4><P>The File Manager provides services for storing and retrieving disk-basedinformation. Changes in the File Manager include:</P>    <UL>    <LI>The performance of allocating additional space to files has been greatly	improved.<BR><BR></LI>    <LI>Writes to a file that do not begin on a 512-byte boundary can be up to 3	times faster than in previous versions of the File Manager.	Specifically, when a File Manager write request does not start on a 512-byte	boundary, and that write request extents beyond the end of the 512-byte disk	block it began in, and the remainder of that write request will not be	cached (either because the <CODE>noCache</CODE> bit in <CODE>ioPosMode</CODE> was set, 	or because the	write request was too large to be cached), the cache buffer containing the	first part of the write request is immediately flushed to disk. This helps	prevent leaving non-contiguous (on disk) dirty cache buffers in the disk	cache which must be flushed one block at a time when the file is flushed or	closed.<BR><BR></LI>    <LI>It is now possible to set the size of the disk cache to sizes    larger than 8 megabytes (see the <A HREF="#memorycp">Memory control panel</A> section for more information).<BR><BR></LI>        <LI>The File Manager has been revised so that it will no longer process a    read command when storing data in the buffer provided would overwrite    any low memory globals (r. 2508431).<BR><BR></LI>    <LI><CODE>FSGetCatalogInfoBulk</CODE> now works correctly with PC-formatted Zip disks (r. 2485093).<BR><BR></LI>    <LI>Personal File Sharing is now able to use volumes larger than 4 GB (r. 2283946).<BR><BR></LI>    <LI>A problem that could occur when copying large trees of empty folders     from ISO 9660 CDs has been corrected (r. 2372435).<BR><BR></LI>        <LI><CODE>FSCreateFileUnicode</CODE> now works correctly when File Sharing is turned on.    Previously, when File Sharing was turned on, files created by this routine    would be created with a blank file type and creator even if these values were    specified among the parameters to the routine (r. 2397324).<BR><BR></LI>        <LI>A problem where a large number of simultaneous asynchronous read or write    calls could begin to return incorrect result codes was discovered.    Potential circumstances for this    problem only existed in Mac OS 9.0 and Mac OS 9.0.4 (r. 2452853).<BR><BR></LI>        <LI>A problem where file names could be scrambled when being duplicated on    systems with 2-byte character encoding has been corrected (r. 2475992).    Specifically, a <CODE>FSSetCatalogInfo</CODE> call (or its PB equivalents) that didn't    try to set the text encoding hint ended up changing the text encoding hint    to the current default text encoding.  <CODE>FSSetCatalogInfo</CODE> leaves the    text encoding hint    unchanged.<BR><BR></LI>            <LI>A forced unmount (HUnmountVol) will now close any iterators or "large" files    (i.e. files opened with OpenFork) before proceeding with the unmount operation    and disposing of the memory structures allocated for the volume (r. 2526761).<BR><BR></LI>        <LI>For improved performance, the default allocation block size for volumes    over 220GB in size has been set to 8K (r. 2529957).<BR><BR></LI>    <LI>Catalog Node IDs (CNIDs) on Mac OS Extended (HFS Plus) volumes can now be	reused.  If this has happened, bit 12 (<CODE>kHFSCatalogNodeIDsReusedBit</CODE>) of	the VCB's <CODE>vcbAtrb</CODE> field and the <CODE>HFSPlusVolumeHeader</CODE>'s attributes field	will be set.  A disk repair utility that sees this bit set should not	complain if it finds that a CNID larger than <CODE>nextCatalogID</CODE> already in	use.<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="filesystemmanager"></A><H4>File System Manager</H4><P>The File System Manager provides a general means by which foreign file systems can be installed, identified, and interfaced to the operating system.</P>    <UL>        <LI>The <CODE>GetFSInfo</CODE>, <CODE>SetFSInfo</CODE> and    <CODE>InformFSM</CODE> InterfaceLib glue code was trashing register    <CODE>D3</CODE> in the 68020 emulator.  This problem has been    corrected and now this register is preserved (r. 2522240).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="foldermanager"></A><H4>Folder Manager</H4><P>The Folder Manager provides facilities for locating "special" folders like theExtensions folder in the System Folder without relying on the names of those folders.This aids application localization.</P>    <UL>        <LI>The "Chewable Items" folders on disks other than the startup disk are	now emptied at system startup.  In previous versions of the system software	only the "Chewable Items" folder on the startup disk was emptied at system	startup time (r. 2468800).<BR><BR></LI>    <LI>Errors occuring when attempting to create new folders were not    being returned by the <CODE>FindFolder</CODE> routine.  This has been corrected    and FindFolder now returns any error codes generated when attempting    to create a folder (r. 2489334).<BR><BR></LI>    <LI>The Folder Manager now does some additional cleanup of network    trash folders at mount volume and unmount volume time (r. 2485627).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="fontmanager"></A><H4>Font Manager</H4><P>The Font Manager provides system-wide services for the retrieval ofglyphs for display of textual information.</P>    <UL>        <LI><CODE>FMGetFontFamilyTextEncoding</CODE> was only returning the base encoding    for Japanese PostScript fonts and it was not returning the font    variant.  This has been corrected and <CODE>FMGetFontFamilyTextEncoding</CODE>    now returns the font variant as well (r. 2489182).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="iconservices"></A><H4>Icon Services</H4><P>Icon Services provides fast and efficient facilities for retrieval of appropriateicon information used to represent files, directories, or other commonly used icons(for example, the caution alert icon, the note alert icon, and the help icon).</P>    <UL>        <LI>The routine <CODE>GetIconRefFromFile</CODE> now returns the correct icon    for Mac OS 9 Finder Packages, even when a custom icon has been    applied to the package (r. 2481644).<BR><BR></LI>        <LI>A problem where 8-bit icons were being used instead of deep ones     when the screen was in 16-bit mode has been corrected.  Here, the work     around was to switch the screen to 32-bit mode (r. 2395259). <BR><BR></LI>        <LI>A redundant search for a file named Desktop on volumes containing a file    named DesktopDB was eliminated (r. 2388430).<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="memorymanager"></A><H4>Memory Manager</H4><P>The Memory Manager is the part of the operating system responsible formanaging memory allocation requests.</P>    <UL>        	<LI>The MacsBug debugger symbol displayed as the pc location for the memory	manager's code has been changed from <CODE>BowelsOfTheMemoryMgr</CODE> to the more	descriptive name <CODE>YourHeapIsProbablyCorrupt</CODE> (r. 2529682)<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="menumanager"></A><H4>Menu Manager</H4><P>The Menu Manager is the part of the operating system responsible for bothdrawing the menu bar, and drawing menus and pop-up menus on the screen whilethe menu commands are being selected.</P>    <UL>                <LI>A problem where <CODE>IsMenuItemEnabled</CODE> would always return true has been corrected.    This routine now returns the actual enabled state of the item (r. 2406841).<BR><BR></LI>        <LI>A problem where <CODE>PopUpMenuSelect</CODE> could return an irrelevant menu item, if    a keyboard menu command selection was made while a pop-up menu was being    tracked with the mouse, has been corrected (r. 2438609).<BR><BR></LI>        <LI>The menu bar clock's battery indicator has been made more responsive    to changing battery conditions (r. 2497581).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="mlte"></A><H4>MultiLingual Text Editing</H4><P>MultiLingual Text Editing (MLTE) supplies a C language interface forcreating and editing Unicode text documents. Although MLTE may appearto be functionally similar to TextEdit in many ways, MLTE providesmany features that are not provided in TextEdit.</P>    <UL>    	<LI>Stability of <CODE>TXNNewObject</CODE>'s operation under low memory conditions	has been improved (rr. 2536146, 2534825).<BR><BR></LI>	    <LI><CODE>TXNDoFontMenuSelection</CODE> now returns an appropriate error code when    it is asked to perform an operation with a font that is not supported (r. 2488121).<BR><BR></LI>            <LI>The routine <CODE>TXNSetDataFromFile</CODE> was ignoring the input offsets    when called. It now uses these parameters appropriately (r. 2479847).<BR><BR></LI>        <LI>MLTE now encodes the a font's full name into encoded files instead of    the font's UniqueName (r. 2500541).<BR><BR></LI>        <LI>It was possible that justification information would not be used    and text would not appear justified as specified in the source file    when the text data was read from a RTF format file.  This has been    corrected (r. 2507443).<BR><BR></LI>    <LI>It is now possible to provide <CODE>kTXNUnicodeTextData</CODE>    as the search data for the <CODE>TXNFind</CODE> routine (r. 2505642).<BR><BR></LI>        <LI>The routine <CODE>TXNAttachObjectToWindow</CODE> now preserves the current    GrafPort setting when it is called (r. 2516497).<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="mp"></A><H4>Multitasking/Multiprocessing API</H4><P>The Multitasking/Multiprocessing Library allows applications to perform preemptivemultiprocessing operations on PowerPC computers equipped with one or more processors.</P>    <UL>    	    <LI>The routine <CODE>MPRegisterDebugger</CODE> was not returning an error when an attempt    was made to register a debugger for a particular level when one had already    been registered for that level.  <CODE>MPRegisterDebugger</CODE> will now return an error    code when an attempt is made to register a debugger for a level that has already    been registered.  Because multiple debuggers may now be registered, other debuggers    can be installed while Macsbug is installed (r. 2490379).<BR><BR></LI>            <LI>A problem where the routine <CODE>MPThrowException</CODE> would return a     <CODE>kInvalidID</CODE> error when called with the constant <CODE>kMPTaskStoppedErr</CODE> has    been corrected (r. 2492526).<BR><BR></LI>        <LI>A problem where calls to <CODE>MPAllocateAligned</CODE> would crash after <CODE>MPAllocateAligned</CODE> was called with the <CODE>kMPAllocateNoGrowthMask</CODE>    mask in the options parameter has been corrected (r. 2510691).<BR><BR></LI>        <LI>Memory pools allocated by <CODE>MPAllocateAligned</CODE> are now properly released    when they are no longer needed.<BR><BR></LI>            <LI><CODE>MPRemoteCall</CODE> takes a new option, <CODE>kMPInterruptRemoteContext</CODE>,    which causes the remote procedure to occur at level-1 interupt time.  When the     <CODE>kMPInterruptRemoteContext</CODE> option is used, the <CODE>MPRemoteCall</CODE> procedure    will be called almost immediately (the latency is 1.5 microseconds).  This new option    allows applications to call interrupt safe <CODE>MPRemoteCall</CODE> procedures that    will execute right away and do not depend on applications calling <CODE>WaitNextEvent</CODE>.<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT:</B><BR><CODE>MPRemoteCall</CODE> procedures called with the <CODE>kMPInterruptRemoteContext</CODE>option must be interrupt safe.  Hence, they cannot call any routines that may moveor allocate memory.  For more information about interrupt safe routines, pleasesee Technical Note <a href="tn1104.html">TN1104, Interrupt-Safe Routines</a>.</P></TD></TR></TABLE></CENTER><BR><BR></LI>        <LI><CODE>MPRemoteCall</CODE> now calls <CODE>WakeUpProcess</CODE>    when the <CODE>kMPOwningProcessRemoteContext</CODE> option is specified.  This    substantially reduces calling latency in <CODE>MPRemoteCall</CODE>s (from 16 milliseconds    to 100 microseconds).  <BR><BR></LI>        <LI>MP page faults are now resolved at interrupt time instead of system task time.    This improves the page fault latency for MP tasks, and eliminates a number of    possible blocking situations that can occur during MP thread execution.<BR><BR></LI>        <LI>     The routine <CODE>MPAllocateAligned</CODE> could fail even if there was enough memory    when the following conditions were met:<BR><BR>    <OL>		<LI>The call is being made from a preemptive task created by application 1,<BR><BR></LI>		<LI>Application 1 has not yet called <CODE>MaxApplZone</CODE> to make space for the request,<BR><BR></LI>		<LI>The allocation request size is larger than the current free space in the heap,<BR><BR></LI>		<LI>The allocation would fit if the app heap had been grown to full size,<BR><BR></LI>		<LI>The current application is NOT application 1.<BR><BR></LI>	</OL>	This problem has been corrected and the <CODE>MPAllocateAligned</CODE> call will not longer	fail under these conditions when there is sufficient memory available to fulfill	the allocation request (r. 2512273).<BR><BR></LI>	    <LI>Several bugs in the Multitasking/Multiprocessing API library have been corrected resulting in    improved stability in its operation (rr. 2513476, 2520949, 2517072, 2522261, 2524626).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="navigationservices"></A><H4>Navigation Services</H4><P>Navigation Services provides new Open and Save dialogs, allowing users tolocate and select files and other resources.</P>    <UL>        <LI>Under certain conditions with inline input, the new folder name field    in the 'create new folder' Navigation Services sub-window would not    accept text input.  This has been corrected (r. 2404367).<BR><BR></LI>        <LI>A new item "Connect to iDisk..." has been added to the "Shortcuts"    button (r. 2463489).<BR><BR></LI>        <LI>An erroneous call to <CODE>DisposeHandle</CODE> during the process of adding a favorite    to the favorites list in the open dialog has been removed (r. 2470707).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="ppctoolbox"></A><H4>PPC Toolbox</H4><P>The Program-to-Program Communications Toolbox provides process-to-processcommunications facilities both for processes running on the same machine,and for processes running on different computers connected by either anAppleTalk network or a TCP/IP network.</P>    <UL>        <LI>The PPC Toolbox now registers itself with Network Services Location.    The name registered with NSL is not the 'raw' domain name or IP address,    but rather the machine name assigned in the File Sharing control panel.    This means that the same machine name will now be seen when browsing by    way of both AppleTalk and TCP/IP (rr. 2382164, 2450626).<BR><BR></LI>        <LI>It is now possible to change the default port number used by the    PPCToolbox for PPC over TCP/IP.  The port number used by the PPCToolbox    is contained in the 'ppc2' resource in the system file.  If this resource    is present when the PPCToolbox is being initialized, then the ID number    it contains will be used as the default listening port for all    incoming PPC over TCP/IP connections (r. 2450615).<BR><BR>        Here is the Rez definition for the default 'ppc2' resource in the system file:    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>type 'ppc2' {    unsigned integer; // data structure version (1)    unsigned integer; // default PPCtoolbox TCP port};resource 'ppc2' (-16409) {    1,    // version of resource    3031  // default PPCtoolbox TCP port};</pre></TD></TR></TABLE></CENTER>    <BR><BR></LI>        <LI>It was possible for the location name record describing the remote    computer to be set up incorrectly on the listening side of a PPC    connection.  This has been corrected (r. 2426253).<BR><BR></LI>        <LI>Program linking was being turned off after waking up from sleep.    Now, if program linking was turned on before the machine went to sleep,    it will be turned on again when the machine wakes up (r. 2435676).<BR><BR></LI>     <LI>Improvements have been made allowing for more stable operation    of the PPCToolbox when used in conjunction with the KeyChain (r. 2516363).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="processmanager"></A><H4>Process Manager</H4><P>The Process Manager shares the processor among multiple applications.Mac&nbsp;OS&nbsp;9.1 includes the following changes in the Process Manager:</P>    <UL>        <LI>The Process Manager is now entirely written in native PowerPC code,    thus reducing task swapping overhead and improving overall system performance.        In particular, performance of calls to <CODE>WaitNextEvent</CODE>, switching    between applications, and Apple events has been improved.        Also, there should be a noticeable performance improvement when running on    battery power.<BR><BR></LI>            <LI><CODE>WakeUpProcess</CODE> now properly schedules processes prioritizing    them according to their sleep time and their queue of outstanding events.<BR><BR></LI>            <LI>In Mac OS 9, it was possible for the system to crash after an    application displaying floating windows unexpectedly quit.  This    problem has been corrected (r. 2540229).<BR><BR></LI>        <LI>The Process Manager now makes more efficient use of memory and    it coordinates its efforts with the Multitasking/Multiprocessing    library (r. 2005897).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="quickdraw"></A><H4>QuickDraw</H4><P>QuickDraw is the part of the Mac OS used for drawing and displaying graphicalinformation on the screen and other raster devices.</P>    <UL>    <LI><CODE>CalcCMask</CODE> is now capable of working with PixMaps with long     <CODE>rowBytes</CODE> values (r. 2396796).<BR><BR></LI>    <LI>QuickDraw will now correctly draw pictures containing PixMaps with long <CODE>rowBytes</CODE>    values (r. 2358107).<BR><BR></LI>    <LI>CopyBits is now capable of scaling down PixMaps with long <CODE>rowBytes</CODE>     values (r. 2407463).</LI>    </UL>    <BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>The Color Manager has been changed so that requests for white and black on 8 bitdevices now use the documented requirement that white is the first entry in thepallette and black the last entry.  This will cause problems if applications havecustom pallettes which do not have white and black in these required positions.</P></TD></TR></TABLE></CENTER><BR><BR>                    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="quickdrawtext"></A><H4>QuickDraw Text</H4><P>QuickDraw Text is the part of the Mac OS used for drawing and displaying textualinformation on the screen and other raster devices.</P>    <UL>        <LI>If only one QDText accelerator was registered, QuickDraw Text    would not notice its presence and text acceleration would not    take place (r. 2540704).  Hardware acceleration of text rendering    is now possible, and when hardware acceleration is not available    Velocity Engine based acceleration is used (r. 2447291).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="resourcemgr"></A><H4>Resource Manager</H4><P>The Resource Manager provides a data file format for storing and retrievinginformation used during application and operating system run time.</P>    <UL>    <LI>Some performance enhancements have been introduced that should affect both    the performance of the Resource Manager in Mac OS 9.1 and the performance    of applications using resource files saved by the Mac OS 9.1 Resource Manager.<BR><BR>        Specifically, the Resource Manager now sorts resource types and ids for files    opened read/write, and that the order of resources returned by <CODE>GetIndResource</CODE>    will likely be different than in previous versions of the Resource Manager.  Enumerating     across a resource type     with <CODE>GetIndResource</CODE> while calling <CODE>AddResource</CODE> or <CODE>RemoveResource</CODE>    to add or     remove additional resources of that type will likely inconsistent results when compared    to the same code using older versions of the Resource Manager.    <BR><BR>        And, the number of File Manager Read requests needed to get small resources was reduced    from 2 requests to 1 request whenever possible.<BR><BR></LI>    <LI>A new <CODE>Gestalt</CODE> bit, <CODE>gestaltRMSupportsFSCalls</CODE>, has been added to the value    returned by the <CODE>gestaltResourceMgrBugFixesAttrs</CODE> selector that indicates the    presence of the new <CODE>FSRef</CODE> calls described in this section.<BR><BR></LI>        <LI>New APIs that take <CODE>FSRefs</CODE> instead of <CODE>FSSpecs</CODE>.  These new APIs are    described in the following:    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>OpenResFileFSRef</B></P><pre>short OpenResFileFSRef(        const FSRef *ref,        SignedByte permission);</pre><P><CODE>OpenResFileFSRef</CODE> performs the same operation as the<CODE>FSpOpenResFile</CODE> except it allows the caller to refer to thefile using a <CODE>FSRef</CODE> instead of <CODE>FSSpec</CODE>.</P></TD></TR></TABLE></CENTER>                    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>CreateResFileFSRef</B></P><pre>void CreateResFileFSRef(        const FSRef *parentRef,        UniCharCount nameLength,        const UniChar *name,        FSCatalogInfoBitmap whichInfo,        const FSCatalogInfo *catalogInfo, /* can be NULL */        FSRef *newRef, /* can be NULL */        FSSpec *newSpec) /* can be NULL */may be NULL</pre><P><CODE>CreateResFileFSRef</CODE> creates a new resource file.  It is analogous tothe corresponding routine, <CODE>FSpCreateResFile</CODE>, but this new routineprovides a number of additional parameters for better integrationwith the new HFS+ APIs.</P><UL>	<LI><B>parentRef</B> - The directory where the file is to be created<BR><BR></LI>	<LI><B>nameLength</B> - Number of Unicode characters in the file's name<BR><BR></LI>	<LI><B>name</B> - A pointer to the Unicode name<BR><BR></LI>	<LI><B>whichInfo</B> - Which catalog info fields to set<BR><BR></LI>	<LI><B>catInfo</B> - The values for catalog info fields to set; may be <CODE>NULL</CODE><BR><BR></LI>	<LI><B>newRef</B> - A pointer to the <CODE>FSRef</CODE> for the new resource file; may be <CODE>NULL</CODE><BR><BR></LI>	<LI><B>newSpec</B> - A pointer to the <CODE>FSSpec</CODE> for the new resource file; may be <CODE>NULL</CODE><BR><BR></LI></UL></TD></TR></TABLE></CENTER>                    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>ResourceFileAlreadyOpenFSRef</B></P><pre>Boolean ResourceFileAlreadyOpenFSRef(        const FSRef *resourceFileRef,        Boolean *inChain,        SInt16 *refNum);</pre><P><CODE>ResourceFileAlreadyOpenFSRef</CODE> returns true if the resource file referencedby <CODE>resourceFileRef</CODE> is already opened.  If the file is opened, the <CODE>inChain</CODE> and <CODE>refNum</CODE>parameters are set.</P><UL>	<LI><B>resourceFileRef</B> - a reference to the file on disk.<BR><BR></LI>	<LI><B>inChain</B> - set to true if the file is open and its map is in the current	resource searching chain.<BR><BR></LI>	<LI><B>refNum</B> - set to the resource file's reference number.  This reference number	can be used with other resource manager routines to access the file.<BR><BR></LI></UL></TD></TR></TABLE></CENTER>                            <BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="scriptmanager"></A><H4>Script Manager</H4><P>The Script Manager provides facilities for display and retrieval ofnumber, date, time, and other information in a language-independent way.</P>    <UL>        <LI>Some cases were found where <CODE>StringToExtended</CODE> and    <CODE>ExtendedToString</CODE> were not    completely symmetrical.  These cases have been fixed (r. 2454794).<BR><BR></LI>        <LI>Calls to InitDateCache could cause a crash when the current script's    morningStr and eveningStr are empty.  This has been corrected (r. 2439135).<BR><BR></LI>        <LI>The region name "Flemish" has been changed to "Belgian" (r. 2519932).<BR><BR></LI>        <LI>A problem preventing <CODE>TransliterateText</CODE> from translating Simplified Chinese    double byte numbers to ascii numbers has been corrected (r. 2476554).<BR><BR></LI>            <LI>The routine <CODE>IntlTokenize</CODE> was not recognizing the token    "&lt;&gt;" as <CODE>tokenLessGreat</CODE>.  Instead it was parsing it as    <CODE>tokenLess</CODE> followed by <CODE>tokenGreat</CODE>.  This has been corrected    and now "&lt;&gt;" is recognized as <CODE>tokenLessGreat</CODE> (r. 2396920).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="StdCLib"></A><H4>StdCLib 3.7</H4><P>StdCLib is a shared library providing functionality for programs compiled using the C language.Mac OS 9.1 includes a new version of the StdCLib in the System file's data fork containingthe following corrections:</P>    <UL>        <LI>The major change to StdCLib for Mac OS 9.1 is that all StdCLib functions     can now be called from preemptive tasks (r. 2464965).  This includes I/O operations     in &lt;stdio.h&gt;     and memory management in &lt;stdlib.h&gt; (for example, <CODE>malloc</CODE>, <CODE>calloc</CODE>,    <CODE>realloc</CODE>, and <CODE>free</CODE>). <BR><BR>        There are no special initializations which need to be done in order to use     this functionality. However, in order to set/get <CODE>errno</CODE> in &lt;errno.h&gt;     from an MP task,     the source code must be built with "-d _POSIX_THREAD_SAFE_FUNCTIONS" and     the version 3.7 &lt;errno.h&gt; (r. 2464965).  This is because <CODE>errno</CODE> needs to be redefined     as a macro which obtains the address of the <CODE>errno</CODE> value for the task which     requests it.  That is, <CODE>errno</CODE> is per-task data--each MP task has its own     <CODE>errno</CODE> value.<BR><BR>        The following global state is managed on a per-task basis as well: the     seed for the random number generator <CODE>rand</CODE> in &lt;stdlib.h&gt;, the state     of a scan for <CODE>strtok</CODE> in &lt;string.h&gt;, and the static data for <CODE>ecvt</CODE> and     <CODE>fcvt</CODE> in &lt;math.h&gt;, <CODE>tmpnam</CODE> in &lt;stdio.h&gt;,     and <CODE>asctime</CODE> and <CODE>localtime</CODE>    in &lt;time.h&gt;.<BR><BR></LI>    <LI>The following functions have been added to &lt;stdio.h&gt; (r. 2464965):<BR><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>    int getchar_unlocked(void);    int getc_unlocked(FILE* stream);    int putchar_unlocked(int c);    int putc_unlocked(int c, FILE* stream);    void flockfile(FILE* file);    int ftrylockfile(FILE* file);    void funlockfile(FILE* file);so now one can write...    flockfile(stdout);        for (i = 0 ; i &lt; N ; i++)            putc_unlocked(buffer[i], stdout);    funlockfile(stdout);...without incurring overhead on each callto putc in the loop, and to serialize the output.</pre></TD></TR></TABLE></CENTER>                    <BR><BR></LI> <LI>To facilitate MP-safeness, the following macros have been removed      from the version 3.7 &lt;stdio.h&gt;:          <CODE>getc</CODE>, <CODE>putc</CODE>, <CODE>clearerr</CODE>,          <CODE>feof</CODE>, <CODE>ferror</CODE>, and <CODE>fileno</CODE>.   <BR><BR></LI>          </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="tsm"></A><H4>Text Services Manager (TSM)</H4><P>The Text Services Manager provides facilities for applications tocommunicate with various text processing utilities that provideservices such as special text input methods, spell checking,hyphenation, and so on.</P>    <UL>        <LI>Support Carbon event model has been built in to the TSM (r. 2484817).    There are no new APIs for this functionality, it is handled entirely by the    TSM.  Clients of the TSM APIs need only call the existing routines as    outlined in Inside Macintosh.<BR><BR></LI>        <LI>The <CODE>SetTSMCursor</CODE> routine is not available in CarbonLib 1.1.    Instead, carbon applications use the new <CODE>TSMSetInlineInputRegion</CODE>    and TSM handles setting the cursor for you by way of Carbon events (r. 2483971).<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="threadmanager"></A><H4>Thread Manager</H4><P>The Thread Manager is part of the operating system providing multi-programmingservices for use within application programs.</P>    <UL>    <LI>In Mac OS 9, applications calling DisposeThread on a thread whose    stack was allocated in a pre-allocated thread pool, would leak the    stacks allocated memory from the pre-allocated thread pool.  This was    a problem related to the Thread Manager's internal tracking of stack    blocks and it has been corrected in Mac OS 9.1 (r. 2410436).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="timemanager"></A><H4>Time Manager</H4><P>The Time Manager provides millisecond and microsecond timing facilities for Mac OSbased computers.</P>    <UL>    <LI>It was discovered that the Extended Time Manager was not drift free when    used to scheduling regular interrupts for periods beyond 24 days.    This condition has been corrected, and the Extended Time Manager routines    are now drift free when used in this way (r. 2471974).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="unicodeutil"></A><H4>Unicode Text Utilities</H4><P>The Unicode Text Utilities provide a set of APIs for working with Unicodetext. These APIs provide services for sorting and collating Unicode text.</P>    <UL>    <LI>Numbers are now sorted before letters as described in the Unicode    technical report (r. 2503166, 2503167).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="vDSP"></A><H4>vDSP 1.0</H4><P>vDSP is a collection of vector and scalar digital signal processing functions that take full advantage of the Velocity Engine used in sound,MP3, speech, audio, video and radar.</P>    <UL>    <LI>See the forthcoming vDSP SDK for more information.  Also, interested    developers will want to consult the Velocity Engine web pages at the    address <a href="http://developer.apple.com/hardware/ve/index.html">http://developer.apple.com/hardware/ve/index.html</a>.    <BR><BR></LI>    <LI>        <BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="virtualmemorymanager"></A><H4>Virtual Memory Manager</H4><P>The Virtual Memory Manager provides virtual memory services for the Mac OS.</P>    <UL>        <LI>Virtual file mapping is now supported.  See upcoming technical note for	details.  Some documentation regarding these routines is currently available	in the FileMapping.h header file.<BR><BR></LI>        <LI>Page faults caused by MP tasks are now handled with a MUCH smaller	latency. With Mac OS 9.1, page faults caused by MP tasks are handled with	the latency of an interrupt. Before Mac OS 9.1, page faults caused by MP	tasks were handled when SystemTask was called.<BR><BR></LI>        <LI>Race conditions between MP tasks running on multiple-processor systems andvirtual memory paging operations have been removed. Specifically, modifiedmemory pages being paged out are detached from logical memory before beingwritten to disk, and memory pages being paged in now contain valid databefore they are mapped to logical memory.<BR><BR></LI>        </UL><P><a href="#top">Back to top</a></P><BR><BR><A NAME="windowmanager"></A><H4>Window Manager</H4><P>The Window Manager provides facilities for drawing and maintaining windowson the screen.</P>    <UL>    <LI>It was possible for <CODE>GetWindowRegion</CODE> to return an invalid region when    the <CODE>kWindowDragRgn</CODE> selector was provided.  This has been    corrected (r. 2314117).<BR><BR></LI>        <LI>A memory leak that could occur in DisposeWindow for windows created with all of    their regions behind the menu bar has been corrected (r. 2369718).<BR><BR></LI>        <LI>In the PowerPC version of the Window Manager, <CODE>CalcVis</CODE> was not setting the <CODE>visRgn</CODE>    of an invisible window to the empty region as was done in the classic implementation    of the Window Manager.  This has been corrected, and the PowerPC version of the    Window Manager now sets the <CODE>visRgn</CODE> to an empty region for invisible windows (r. 2414578).<BR><BR></LI>        <LI>If an application called <CODE>HideWindow</CODE> on a floating window after the application    had been swapped and the floating window had been hidden by the Window Manager,    the Window Manager would show the floating window the next time the application    was swapped to the foreground.  This has been corrected such that now the floating    window remains hidden when the application is swapped back into the foreground (r. 2414728).<BR><BR></LI>        <LI>The CarbonLib routine <CODE>MoveStructureWindow</CODE> was not working correctly     for collapsed windows.  This has been corrected (r. 2423024).<BR><BR></LI>         <LI>The font used in Utility window titles now uses the routine    <CODE>GetApplicationScript</CODE> to determine which script to use    instead of the <CODE>smSystemScript</CODE> constant (r. 2424745).<BR><BR></LI>        <LI><CODE>IsWindowInStandardState</CODE> was not checking the size of the window during    calculations.  As a result, the <CODE>ZoomWindowIdeal</CODE> routine did not work correctly    with windows positioned partially off screen.  This has been corrected (r. 2478760).<BR><BR></LI>        <LI><CODE>StandardAlert</CODE> was using the <CODE>smSystemScript</CODE> constant to select the script    for used to set the font in its window.  This has been changed such that    <CODE>StandardAlert</CODE> now uses <CODE>smCurrentScript</CODE> to select the script used to find    the font used to display text in its window.  With this change, foreign language    text will be displayed correctly for localized applications in the    <CODE>StandardAlert</CODE> window when running    on a US system with the correct language kit installed (r. 2497250).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="controlpanels"></A><H3>Control Panels</H3><P>Control Panels provide user interface facilitiesfor custom configuration of the system.</P><P>The Process Manager will choose to launch a controlpanel file as an application if it contains either a<CODE>'CODE'</CODE> ID = 0 resource (68K app), or it has a<CODE>'cfrg'</CODE> resource with a fragment descriptormarked as an "application"type. Control Panelsthat meet these criteria will not have their <CODE>'cdev'</CODE>resources called by the system.</P><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT:</B><BR>It is no longer possible to launch a control panel in theFinder's partition by holding down the Command and Controlkeys while double-clicking the control panel's icon (r. 2440800).</P></TD></TR></TABLE></CENTER><BR><BR><BR><BR><A NAME="applemenuoptions"></A><H4>Apple Menu Options</H4><P>The Apple Menu Options control panel provides user interface configurationfacilities for the appearance and behavior of the Apple Menu.</P>    <UL>    <LI>A problem where Apple Menu Options Preferences could be corrupted    has been corrected (r. 2528783).<BR><BR></LI>        <LI>Apple Menu Options now tracks documents when they are opened using    the HFSPlus APIs, and changes to the Apple Menu's hierarchy are now    tracked when the HFSPlus APIs are used.<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="dateandtime"></A><H4>Date and Time</H4><P>The Date and Time control panel provides a user interface for settingthe system clock and configuring the display format for both dates andtimes.</P>    <UL>    <LI>A problem where after waking from sleep of a duration longer    than half an hour, Time Synchronizer would hang when trying to    synchronize the clock over an Airport connection.  This problem    has been corrected (r. 2497293).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="extensionsmanager"></A><H4>Extensions Manager</H4><P>The Extensions Manager control panel provides an enhanced userinterface with facilities for developers to provide descriptiveinformation for extensions and to group related extensions togetherin packages.</P>    <UL>    <LI>Shareway IP is no longer listed as part of the Mac OS All extension set (r. 2509513).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="fileexchange"></A><H4>File Exchange 3.0.4</H4><P>File Exchange provides automatic file name extension to Mac OS file typemapping (for example, mapping the file name extension ".TXT" to the Mac OSfile type 'TEXT') along with other services associated with using volumescreated for other file systems with Mac OS. The File Exchange controlpanel allows users to modify settings used by this facility, add newfile mappings, mount DOS SCSI disks and drive containers, and setFile Translation preferences. New features for this version of FileExchange include:</P>    <UL>        <LI>The "PC SCSI Disks: Mount at startup" check box is now unchecked by	default. This trims 1-1/2 to 2 seconds off the boot time.<BR><BR></LI>        <LI>The 'please insert the disk' message was being displayed too often    when working with multiple ISO 9660 disks.  The reasons for this message    appearing have been examined and changed so the number of times it    will appear has been minimized (r. 2431666).<BR><BR></LI>        <LI>PC DOS formatted volumes containing a folder with the same name as the    disk would not copy correctly.  Now they do (r. 2475510).<BR><BR></LI>        <LI>A problem where the system would hang when mounting some PC formatted    floppy disks with USB drives has been corrected (r. 2418015).<BR><BR></LI>        <LI>A problem where a copy file operation could stall at the end or become very slow    when using a DOS formatted USB hard drive has been corrected (rr. 2333267, 2348961).<BR><BR></LI>        <LI>File Exchange did not have a 'sysz' resource for allocating space    at system startup, now it does (r. 2373137).<BR><BR></LI>        <LI>File Exchange was not managing multiple USB MS-DOS formatted drives correctly. Now    it does (r. 2388092).<BR><BR></LI>        <LI>A problem where File Exchange could hang Mac OS 9 at system    startup time if a SCSI bus was installed that supports 256 target    devices has been corrected (r. 2418923).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="filesharing"></A><H4>File Sharing</H4><P>The File Sharing control panel allows for enduser configuration of file sharing services on thecomputer.</P>    <UL>    <LI>The performance of <CODE>PBGetCatInfo</CODE> has been improved when    file sharing is turned on (r. 2532597).<BR><BR></LI>        <LI>It was possible for File Sharing's patches on the file manager    to report disk full errors (<CODE>dskFulErr</CODE>) for file operations on a local    volume when the amount of free space on the volume was just over a    multiple of 4GB.  This problem has been corrected (r. 2536169).<BR><BR></LI>	    <LI>The new HFS+ routine <CODE>FSCreateFileUnicode</CODE> was not setting    the <CODE>kFSCatInfoFinderInfo</CODE> when File Sharing was turned on.    Now it does (r. 2464870).<BR><BR></LI>        <LI>Some potential stability problems related to File Sharing over IP    have been corrected (rr. 2488036, 2507440).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="filesync"></A><H4>File Synchronization 1.2</H4><P>File Synchronization is a utility control panel that allows users to synchronizecollections of files and folders.</P>    <UL>    <LI>Problems resulting in out of memory warnings later leading    to crashes have been corrected (r. 2245430).<BR><BR></LI>        <LI>A problem where synchronization of folders with custom icons could    cause an out of memory error and a crash has been corrected (r. 2245430).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="generalcontrols"></A><H4>General Controls 8.0</H4><P>The General control panel contains a number of assorted system configurationcommands such as the cursor blinking rate, the menu flash count, et al.</P>    <UL>    <LI>This version of the General control panel is a PowerPC    APPC rewritten for better integration with Mac OS and Multiple Users.<BR><BR></LI>        <LI>The menu flash and insertion point blinking rate were not always    being set appropriately when a user logs in.  Now they are (r. 2462891).<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="internetcp"></A><H4>Internet</H4><P>The Internet control panel provides a graphicaluser interface for creating and editing Internet Config preferences,including support for switchable preference sets for handling multiplelocations or users.</P>    <UL>    <LI>Switching the default Web Browser using the pop-up menu now    changes both the https and the http helpers.  Previously, only the    http helper would be changed.  Also, switching the default news reader    now changes both the nntp helper along with the news helper (r. 2248373).<BR><BR></LI>            <LI>It is now possible to choose helper applications that are delivered    as packages (r. 2496506).<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="memorycp"></A><H4>Memory</H4><P>The Memory control panel provides a user interface for the configurationof virtual memory, RAM disk storage, and the size of the disk cache.</P>    <UL>            <LI>The maximum disk cache size was increased to 32,736K (32M - 32K); theprevious limit was 8160K (8M - 32K).  This was done to help performance whenallocating large files on large HFS Plus volumes (220GB and larger)initialized with the prior default allocation block size of 4KB.<BR><BR>For large volumes, the size of the volume's allocation bitmap can end upbeing bigger than the disk cache, causing the File Manager to do a hugeamount of I/O when allocating space for a file.  Setting the size of thedisk cache to a value larger than the size of the bitmap allows the bitmapto remain in the cache, dramatically speeding up allocation requests.<BR><BR>When a volume uses 4KB allocation blocks (which was the default for largevolumes initialized with Mac OS 9.0.4 or earlier), the allocation bitmapwill be 32KB per GB of volume size.  Volumes over 220GB initialized with MacOS 9.1 default to an 8KB allocation block size, or 16KB of bitmap per GB ofvolume size.  For example, when using a 200GB volume, the disk cache shouldbe GREATER than 6400K; the next larger size is 6432K.  When using a 400GBvolume initialized with Mac OS 9.0, you should set the disk cache size to12832K or larger for best performance.<BR><BR>Note that the default disk cache size is always less than 8MB (8192K), formaximum compatibility.<BR><BR></LI>        <LI>Added a new <CODE>Gestalt</CODE> selector,         <CODE>gestaltDiskCacheSize</CODE> (<CODE>'dcsz'</CODE>), that returnsthe size of the disk cache size in bytes.<BR><BR></LI>        <LI>Increased the speed that the disk cache size changes when the mouse buttonis held down for a long time on the up or down arrows.<BR><BR></LI>        <LI>The computations for maximum disk cache size were changed to better takeinto account physical RAM needed by ROM-in-RAM, built-in video, RAM disk,and the OS.  This makes it much harder to set the disk cache and RAM disk solarge that you don't have enough physical RAM free to boot.  The maximumsize is larger when VM will be on than when VM will be off (since the OSuses less physical RAM when VM is on).  The logical (VM) RAM size alsoaffects the maximum disk cache size; increasing VM can increase the maximumdisk cache size in some configurations.<BR><BR></LI>        <LI>Added a <CODE>SysError</CODE> early in boot if the RAM disk setting is too large forthe system to boot.  This can happen if VM was supposed to be on but wasturned off (for example, by booting with the shift key down), after removing RAM, or ifa driver uses a large amount of physical RAM.  The RAM disk will be turnedoff and you will be forced to restart.<BR><BR></LI>        <LI>The correct free disk space is now displayed in the Virtual Memory panel.  It was previouslypinned to the maximum VM size.<BR><BR></LI>        </UL><P><a href="#top">Back to top</a></P><BR><BR><A NAME="remoteaccess"></A><H4>Remote Access</H4><P>The Remote Access control panel provides user interface facilitiesfor configuring PPP and ARA connections.</P>    <UL>        <LI>Remote Access now supports Challenge-Handshake Authentication Protocol    allowing remote connection services to verify a PPP connection    periodically both during the connection establishment and after the    connection has been established (r. 2297793).<BR><BR></LI>        <LI>PPP now reports its correct MTU size to upper protocol layers for better    support of PPPoE type connections (r. 2483604).<BR><BR></LI>    <LI>A problem with the remote access dialog enter key handling code    that could result in a crash if the key was typed in rapid succession    has been corrected (r. 2536881).<BR><BR></LI>        <LI>A problem where the modem would not dial if the option to connect    automatically when starting TCP/IP applications was on and DialAssist    was on has been corrected (r. 2541002).<BR><BR></LI>        <LI>A problem where the Modem and Remote Access control panels    could wind up with generic icons after an upgrade install    has been corrected (r. 2532014).<BR><BR></LI>        <LI>A problem where a powerbook PB101 would crash if the lid was closed while    ARA was disconnecting has been corrected (r. 2385200).<BR><BR></LI>        <LI>A problem where in areas with ten-digit dialing, DialAssist    would dial the long distance access number before the prefix has    been corrected (r. 2419739).<BR><BR></LI>        <LI>A problem preventing long CCL scripts from functioning correctly    has been corrected (r. 2458391).</LI>        </UL>    <CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT:</B><BR>AppleScript's Remote Access Commands are not installed with Mac OS 9.1 as they are not compatible with Remote Access 4.0.  As a result,Remote Access Commands will not be available to script writersin Mac OS 9.1.<BR><BR>It is recommended that script writers using any of the commands providedby Remote Access Commands re-write their scripts to use Network SetupScripting instead. Examples can be found in the Open Transport (Networking) AppleScript Guidebook module, which can be downloaded from<a href="http://www.apple.com/applescript">http://www.apple.com/applescript</a>on the Web (rr. 2572457, 2530257).</P></TD></TR></TABLE></CENTER><BR><BR>                     <P><a href="#top">Back to top</a></P><BR><BR><A NAME="softwareupdate"></A><H4>Software Update</H4><P>Software Update provides a way to find and install the latest system softwarefor your computer by way of the Internet.</P>    <UL>    <LI>Update now works better when Multiple Users is turned on (r. 2388398).<BR><BR></LI>        <LI>Many of the error messages displayed by Software Update     have been revised so they are more descriptive and helpful (r. 2452634).<BR><BR></LI>        <LI>Software Update will now correctly stop the USB Software Locator    when the user cancels (r. 2465100).<BR><BR></LI>        <LI>Software Update now works correctly across firewalls (r. 2476559).<BR><BR></LI>        <LI>A call to <CODE>InitWindows</CODE> was removed from the Software Update    Engine background only application (r. 2513784).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P> <BR><BR><A NAME="startupdisk"></A><H4>Startup Disk</H4><P>The Startup Disk control panel provides user interface facilitiesfor choosing the disk that will be used to run the computer the nexttime it starts up.</P>    <UL>        <LI>Mac OS 9 comes with an entirely new Startup Disk control panel    written entirely in PowerPC code and delivered as an APPC style    application.  The new control panel features better integration    with the rest of the system and improved user interface facilities.<BR><BR></LI>        <LI>With Multiple Users turned on, it is no longer possible for users    other than the owner to have access to the Startup Disk control    panel (r. 2496511).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="websharing"></A><H4>Web Sharing</H4><P>Web Sharing provides facilities for users to configure and set up the "Web Sharing"folder on their computer to act as a World Wide Web site. Web Sharing allows users topublish documents on an intranet or the Internet. Documents placed in the Web Sharingfolder will be available to other users by using means of any web browsers availableon any platform.</P>    <UL>    <LI>A problem where web sharing would not run if the TCP/IP control    panel was not present (but TCP/IP was enabled and loaded) has been    corrected (r. 2501286).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="extensions"></A><H3>System Extensions</H3><P>System extensions are located in the Extensionsfolder inside the System Folder.  For a system extension to be active,it must be located in the Extensions folder when the system starts up.Extensions are not loaded if the Shift key is held down while thesystem is starting up.</P>        <BR><BR><A NAME="applescript"></A><H4>AppleScript 1.5.5</H4><P>AppleScript is a component of the operating system that provides a scriptinginterface for users to automate actions that would normally require use ofthe menus and keyboard. Even more importantly, it allows users to accessfunctionality of applications which would be difficult or impossible toaccess by hand.</P><A NAME="applescript_mountv"></A><H5>Mount Volume uses Keychain</H5>    <UL>    <LI>As of AppleScript 1.5 and later, the 'mount volume' scripting addition willlook in the Keychain to see if there is a password for the requested server.Note that keychain passwords are stored according to the connectionprotocol: a key for a server accessed via AppleTalk is different than a keyfor accessing the same server through TCP/IP.  So if you've created a keyfor that server connected via TCP/IP, you must use the TCP/IP form of 'mountvolume' (using a URL of the form afp://host.domain.com/volume) in order tohave the keychain key work correctly.  Similarly, if you created the keywhile connected to the server via AppleTalk, you must use the AppleTalk formof 'mount volume' to use that key.<BR><BR></LI>    </UL><A NAME="applescript_rounding"></A><H5>Rounding 'as taught in school'</H5>    <UL>    <LI>In AppleScript 1.5 and later, the 'round' scripting addition now can take anadditional enumerated parameter: 'as taught in school'.  With thisparameter, numbers whose fractional parts are less than .5 are roundedtowards zero, and fractional parts of .5 and above are rounded away fromzero.<BR><BR></LI>    </UL><A NAME="applescript_Unicode"></A><H5>Unicode Support</H5>    <UL>    <LI>In AppleScript 1.3, initial support was added for Unicode data.  AppleScriptcould send, receive, load, and store Unicode strings, and convert betweentext strings and Unicode strings.  It could not display them or perform anyoperations on them.  In AppleScript 1.5 and later, Unicode strings can bedisplayed in script editors (if the appropriate fonts are installed in thesystem).  CAUTION:  In AppleScript 1.5.5, certain operations on Unicode textcan cause AppleScript to crash or hang.  Apple advises that if your scriptis handling Unicode text, you should convert the Unicode text to a stringbefore attempting to manipulate the text in any way. <BR><BR></LI>    <LI>Unicode support in AppleScript 1.5 and later has been improved to correctlyconvert Unicode strings of mixed languages to the appropriatelanguage-specific characters if the necessary Language Kits are installed.<BR><BR></LI>    </UL><A NAME="applescript_X"></A><H5>Mac OS X Support</H5>    <UL>    <LI>In AppleScript 1.4.3, an option was introduced to save scripts as "Mac OS Xapplets".  Due to changes in Mac OS X, these do not actually work on thatsystem.  As of AppleScript 1.5 and later, applets saved as "Mac OS Xapplets" require Mac OS X to run.<BR><BR></LI>    <LI>AppleScript version 1.5 and later can now handle script files in which thescript data is stored in the data fork, rather than the resource fork.  Allscripts that ship with Mac OS X will be stored in the data fork, but theScript Editor by default will continue to save script data in the resourcefork for compatibility with previous versions of AppleScript.<BR><BR></LI>    <LI>As of AppleScript 1.5, AppleScript and the Script Editor recognize filesthat end in '.scpt' as script files, if they are missing other type andcreation data.  This should make it easier to transfer script files usingmedia or communications methods that do not retain Mac type and creatordata.<BR><BR></LI>    <LI>AppleScript 1.5 and later now accept all styles of line endings for thepurposes of finding paragraph breaks in strings.  The expression 'everyparagraph of s' will break paragraphs correctly whether the string isMac-style (paragraphs end with 0x0D), UNIX style (lines end with 0x0A), orDOS style (lines end with 0x0D0A).<BR><BR></LI>    </UL><A NAME="applescript_other"></A><H5>Other Changes</H5>    <UL>    <LI>The Script Editor in AppleScript 1.4.3 introduced a "proxy icon" in thetitle bar of script windows: an icon that represents the saved script fileon disk.  Unfortunately, dragging that icon to a disk folder did not movethe script file to that folder; in AppleScript 1.5 and later, it does.<BR><BR></LI>    <LI>In Script Editor 1.4.3 and earlier, command-clicking on the title of ascript window that is not front most would bring up a pop-up menu for thatscript's path.  Users expect command-dragging the titles of backgroundwindows to drag those windows without bringing them to the front; in ScriptEditor 1.5 and later, that is indeed what happens.<BR><BR></LI>    <LI>In AppleScript 1.5 and later, the "Where is application &lt;name&gt;?" dialog boxnow uses Navigation Services instead of Standard File.<BR><BR></LI>    <LI>In AppleScript 1.5 and later, the "info for" scripting addition now returnsthe size of the file or folder as a real number, not an integer.  Thisaccommodates files or folders that are greater than 2 Gigabytes in size.<BR><BR></LI>    <LI>In AppleScript 1.4.3 and earlier, certain arithmetic operations on oddintegers were handled differently from the same operations on even integers,making those operations approximately half as fast.  Odd integers are nowtreated the same as even integers, so certain repetitive arithmeticoperations on odd integers will be faster in AppleScript 1.5 and later.<BR><BR></LI>    <LI>AppleScript documentation erroneously reports the effective range ofAppleScript integers: the true range is  2^29-1 to -2^29 (i.e. 536870911 to-536870912).  In AppleScript 1.3 through 1.4.3, integer addition andsubtraction handled arithmetic operations at the extremes of this rangeincorrectly; for example, 536870911 + 1 would return -536870912.  InAppleScript 1.5 and later, operations on large-magnitude integers will bepromoted to reals, so for example 536870911 + 1 returns 5.36870912E+8.<BR><BR></LI>    <LI>In AppleScript versions 1.4.3 and earlier, asking for the middle item of anempty list (e.g. 'middle item of {}') would cause AppleScript to crash.This has been fixed in 1.5 and later.<BR><BR></LI>    <LI>In AppleScript 1.4.3, running multiple applets simultaneously couldoccasionally cause AppleScript to crash.  This has been fixed in AppleScript1.5 and later.<BR><BR></LI>    <LI>In AppleScript 1.4.3 and earlier, providing large numbers as the 'seed'parameter to the 'random number' scripting addition would have undesiredeffects: similar large numbers would consistently produce the same initialrandom value (though subsequent values would be more randomly distributed).This is especially troublesome because AppleScript itself uses the systemclock as a seed value if none is provided, and most system clock values tendto be similar large numbers.  In AppleScript 1.5 and later, large seedvalues produce more evenly distributed initial values.<BR><BR></LI>    <LI>In AppleScript 1.3 through 1.4.3, on rare occasions the 'random number'scripting addition, when given real numbers for its range, would generate anumber fractionally larger than the upper bound of the range.  InAppleScript 1.5 and later, all random numbers are assured to be no greaterthan the upper bound.<BR><BR></LI>    <LI>In AppleScript 1.4.3 and earlier, attempting to access item 0 of a list(e.g. 'item 0 of {2, 3, 4}') would produce no error and no result.  InAppleScript 1.5 and later, it produces an 'index out of range' error.<BR><BR></LI>    <LI>In AppleScript 1.4.3 and earlier, creating a script with no 'run' handler(explicit or implicit), but having a 'parent' property of a script with animplicit run handler, would work in the Script Editor but crash if thescript were saved as an applet.  For example:<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>script crasher    property parent : current application    display dialog "This hasn't crashed"end scriptproperty parent : crasher</pre></TD></TR></TABLE></CENTER><BR><BR>                    Note the script has no statements other than the script and propertydefinition, so there is no 'run' handler; when AppleScript tries to run it,it looks in its 'parent' script ('crasher') and tries to run its runhandler.  But because there is no explicit run handler in the 'crasher'script, it tries to get the run handler from its parent, and loopsinfinitely.  This has been fixed in AppleScript 1.5 and later.<BR><BR></LI>    <LI>In Folder Actions 1.4.3 and earlier, Folder Actions would create aninvisible "Icon\n" file in any folder you control-clicked, whether youattached a Folder Action to it or not.  As of Folder Actions 1.5.5, the fileis created only if you actually attach a folder action.<BR><BR></LI>    <LI>In Folder Actions 1.5.5 the 'action name' and 'action number' parameters ofthe 'remove action from' and 'edit action of' events have been changed to'using action name' and 'using action number' for readability.  Olderscripts should de-compile to the new form automatically.<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="appleshareclient"></A><H4>AppleShare Client 3.8.8</H4><P>AppleShare Workstation Client provides file sharing services for computersnetworked with file servers.</P>    <UL>    <LI>The AppleShare Workstation Client no longer uses Apple Shared    Library Manager (ASLM).<BR><BR></LI>        <LI>A crashing bug that could occur with a custom User Authentication    Module that uses volume passwords has been corrected  (r. 2546186).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="atapicddvddriver"></A><H4>ATAPI CD/DVD Driver</H4><P>The ATAPI CD/DVD Driver provides support for connected ATA CD and DVD devices.</P>    <UL>    <LI>Problems where directories on DVD-RAM disks could get corrupted when    switching disks have been corrected (r. 2545573).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="colorsync"></A><H4>ColorSync 3.0.3</H4><P>ColorSync provides system-level color management that enablespublishing software to achieve repeatable, and consistentcolor on-screen, in print, and for electronic delivery.</P>    <UL>            <LI>Changes have been made in the user interface to ensure the user    can only pick gamma values that are within the range that can actually     be used by a display.  Specifically, the gamma calibrator will no longer    allow selection of negative gamma calibration values (r. 2496933).<BR><BR></LI>        <LI>The ColorSync Profiles installed with Mac OS 9.1 have been    updated to the current ICC standard (r. 2505195).<BR><BR></LI>        <LI>Alpha channels are now preserved in calls to CWMatchBitmap where a     progress proc has been specified (r. 2318181).<BR><BR></LI>           <LI>CMLaunchControlPanel now works correctly (r. 2384459).<BR><BR></LI>        <LI>ColorSync now requires a valid version field in profile headers as    specified in the ICC Profile Format Spec (r. 2404863).<BR><BR></LI>        <LI>Requests to copy path based profiles with CMCopyProfile would always    fail with an error -43.  This problem has been corrected (r. 2411802).<BR><BR></LI>        <LI>It is now possible to set the model number property of a profile by     way of AppleScript commands.  These commands existed before, however    they did not work as expected (r. 2417435).<BR><BR></LI>        </UL><P><a href="#top">Back to top</a></P><BR><BR><A NAME="firewire"></A><H4>FireWire Support 2.7</H4><P>FireWire is Apple's Mac OS support for the IEEE 1394 High PerformanceSerial Bus standard. This extension adds services to the Mac OS thatsupport the use of third-party FireWire hardware and software.</P>    <UL>    <LI>A crashing problem that could occur when Unplugging/Replugging devices during QuickTime    movie Playback has been corrected (r. 2520111).<BR><BR></LI>        <LI>A problem where a third party application could hang on wake from    sleep when a number of FireWire devices were connected has been    corrected (r. 2452899).<BR><BR></LI>    	<LI>Some older DV camcorders do not send video correctly when connected to a	FireWire hard disk drive.  Customers using Final Cut Pro or iMovie to	record video onto a FireWire hard disk drive may have experienced lost	video frames when using such cameras.  FireWire 2.7 will make older cameras	send video correctly when a FireWire hard drive is present. (rr. 2408186, 2404727, 2398097).<BR><BR></LI>		<LI>FireWire now supports multiple matching data in SBP-2 drivers.	If the symbol TheDFMDescriptorSize is present, multiple matching data	will be evaluated. This allows a driver to precisely match several	different devices, without using range matches that could pick up 	unwanted additional devices.  If used, TheDFMDescriptorSize should have a value 	equal to the number of matching data sets present - such as 2.  For	an example. see the file FWSBP2DiskDriver.c in the FireWire SDK.			<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>    If a driver with multiple 	matching data is loaded by FireWire 2.6 or an earlier version, only the 	first matching data will be used.</P></TD></TR></TABLE></CENTER><BR><BR></LI>		<LI>Some third party FireWire drivers re-use their command object when	calling <CODE>FWWaitForDeviceReplug</CODE>.  This is illegal and causes a hang.	As a convenience to our customers, in this specific case only, we	now check for improper command object re-use and tolerate it.<BR><BR></LI>		<LI>A problem where a hang would occur as a result of a retry counter	not being decremented has been corrected (r. 2323090).<BR><BR></LI>		<LI>Changed <CODE>LynxFWIMGetCycleTime</CODE> to not try to read PCI registers	when the PCI bus might be powered off or PCI Memory Space might	not be enabled (r. 2452899).<BR><BR></LI>		<LI>Drivers can now pin their DFM scores to a maximum value by	exporting a table of maximum scores called <CODE>MaxDFMScores</CODE>.		There is one unsigned 32 bit entry for each entry 	in <CODE>TheDFMDescriptor</CODE> and its value is the maximum score desired for 	that entry. This allows drivers to exactly match on some values but 	still generate a low score and thus allow other parties to override 	it (r. 2526813).	<BR><BR></LI>		<LI>FireWire will no longer send write responses to broadcast 	writes on OHCI systems (as specified in 1394).<BR><BR></LI>		<LI>FireWire now implements the <CODE>BUS_TIME</CODE> register correctly, 	as required by 1394.<BR><BR></LI>		<LI>A problem where bug where transmit isoch timestamps	could be off by 4 seconds on Uni-N systems has been corrected.<BR><BR></LI>		<LI>All OHCI timestamps now have the full 7 bits of seconds (Previously	only 3 bits were provided).<BR><BR></LI>		<LI>A problem where FireWire could hang on wake from sleep when	both a firewire hard drive and a firewire camera were connected	has been corrected (r. 2452899).<BR><BR></LI>	    </UL>    <P><a href="#top">Back to top</a></P>   <BR><BR><A NAME="htmlrenderinglib"></A><H4>HTMLRenderingLib</H4><P>HTMLRenderingLib is Apple's lightweight HTML rendering engine capable ofdisplaying HTML 3.2 files.</P>    <UL>        <LI>Applications are now passed all url types in their optional URL redirection    routine installed by calling HRRegisterNewURLUPP.  Previously, http type    URLs were handled by the HTMLRenderingLib and were never seen by the URL redirection    routine.  Now, http type URLs will only be handled by the HTMLRenderingLib    when either no URL redirection routine has been installed or when the installed    URL redirection routine returns hrURLNotHandeldErr (r. 2418857).<BR><BR></LI>        <LI>Calls to the HTMLRenderingLib would sometimes leave the GrafPort's origin    or clip region in an unknown state.  This no longer occurs (r. 2406856).<BR><BR></LI>        <LI>It is now possible to call the HTMLRenderingLib from stand-alone    code resources (r. 2459981).<BR><BR></LI>        <LI>The routine <CODE>HRUtilGetURLFromFSSpec</CODE> was not adding a trailing '/' character    when constructing URLs referring to directories.  Now it does (r. 2407002).<BR><BR></LI>        <LI>The Cursor now changes to a hand when it is positioned over links (r. 2502044).<BR><BR></LI>            <LI>Visited links were not being re-colored appropriately under some    circumstances.  This has been corrected (rr. 2309910, 2484091).<BR><BR></LI>            <LI>A problem where bullets would overlap in ordered lists when the HTML    source contained unrecognized tags has been corrected (r. 2362018).<BR><BR></LI>            <LI>A problem that could occur when attempting to display a frames document    when all of the frames have the same name has been corrected (r. 2430596)<BR><BR></LI>        <LI><CODE>HRGetRenderedImageSize</CODE> was returning the vertical size of an image,    minus two pixels.  now, it returns the correct size (r. 2468994).<BR><BR></LI>        <LI>Rendering a large table with missing closing TD tags could cause a    crash.  This has been corrected (r. 2514177).<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="IrDA"></A><H4>IrDA</H4><P>The IrDA extension provides an infrared communicationlink between print drivers and IrDA-capable printers.</P>    <UL>        <LI>A problem where a crash could occur when performing several consecutive    print jobs has been corrected (r. 2512225).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="java"></A><H4>Mac OS Runtime for Java</H4><P>Mac OS Runtime for Java (MRJ) is Apple's implementation of theJava runtime environment. MRJ supports running Java applications,and enables Mac OS applications that use MRJ's JManager API to embedJava applets and other Java content. </P>    <UL>    <LI>JAR files are now read in a more efficient and memory conscious way (r. 2001604).<BR><BR></LI>       <LI>Applet Runner now uses Navigation Services to select         files when running on systems where Navigation Services is        available (r. 2287732).<BR><BR></LI>            <LI>WHWindow.cp's destructor is now virtual (r. 2421498).<BR><BR></LI>        <LI>A problem where Java would crash when a force quit has been corrected (r. 2472481).<BR><BR></LI>       <LI>A null pointer exception that could occur when closing a window    has been corrected (r. 2485969).<BR><BR></LI>        <LI>To assist in localization the following awt.properties have been added (r. 2487549):    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>#The name of the Java Console windowAWT.console.name=Java Console#Java Console Edit Menu item names#These names should be localised.AWT.editmenu.title=EditAWT.editmenu.undo.name=UndoAWT.editmenu.cut.name=CutAWT.editmenu.copy.name=CopyAWT.editmenu.paste.name=PasteAWT.editmenu.clear.name=ClearAWT.editmenu.selectall.name=Select All#This is the font and size used inside the console window.#This should be left as is.AWT.console.fontname=MonacoAWT.console.fontsize=9</pre></TD></TR></TABLE></CENTER>                            <BR><BR></LI>        <LI>Problems redrawing large images have been corrected (r. 2490722).<BR><BR></LI>        <LI><CODE>FileInputStream</CODE> will now set it's member variable <CODE>fd</CODE> to    <CODE>NULL</CODE> when it can't open a file (r. 2508818).<BR><BR></LI>        <LI>MRJ now allocates a larger memory pool the first time <CODE>malloc</CODE> is called (r. 2510365).<BR><BR></LI>       <LI>A problem where Applets with startup errors could crash Apple Applet Runner    has been fixed (r. 2511642).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="multipleusers"></A><H4>Multiple Users 1.3</H4><P>Multiple Users is a multi-user software extension that provides thecapability for a number of users to access a single computer. Each userlogs in to her own environment that provides her own preferences andsome file security.</P>    <UL>        <LI>Better support for networking environments (Macintosh Manager) has    been added.<BR><BR></LI>        <LI>New support for KidSafe is now included.<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="nsl"></A><H4>Network Services Location (NSL)</H4><P>Network Services Location (NSL) allows you to register and search forservices on a network in a protocol-independent fashion. New featuresfor NSL include:</P>    <UL>        <LI>Network browser was inappropriately displaying the message     "name server not responding" in some circumstances.  This problem    has been corrected (r. 2406166).<BR><BR></LI>        <LI>The routine <CODE>NSLStandardGetURL</CODE> was not appropriately disposing    of all of the thread manager tasks it had allocated.  Now it does (r. 2424817).<BR><BR></LI>        <LI>A problem where NSLStandardRegisterURL could crash under low memory    conditions has been corrected (r. 2429189).<BR><BR></LI>	    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="opentransport"></A><H4>Open Transport 2.7.4</H4><P>Open Transport is the networking technology for Mac&nbsp;OS&nbsp;9.1.</P>    <UL>    	    <LI>Open Transport no longer uses ASLM.<BR><BR></LI>        <LI>A problem where a data block could be reused even though it had a    positive reference count has been corrected.  This problem was most    apparent when using Ethernet in promiscuous mode (r. 2459754).<BR><BR></LI>            <LI>It was possible for a crash to occur when switching the TCP configuration    from BootP to DHCP.  This has been corrected (r. 2471989).<BR><BR></LI><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT:</B><BR>Open Transport, like the Memory Manager, Resource Manager, QuickDraw, etc., cannot safely be called at interrupt time. Just as with those managers, if Open Transport is called at interrupt time, it will lead to memory corruption and and eventual crashes. Open Transport 2.7.4 includes improved error checking to detect invalid interrupt-time calls. In several cases where Open Transport could previously corrupt memory and crash, it now returns error codes such as <CODE>kOTBadSyncErr</CODE>, as described in "Inside Macintosh: Networking with Open Transport", page 137.<P>However, unlike most other managers, Open Transport <I>can</I> be called safely from deferred tasks. If your software needs to use Open Transport from an interrupt-time routine, such as a timer task, VBL task, or I/O completion routine, use <CODE>OTScheduleDeferredTask</CODE>, described in "Inside Macintosh: Networking with Open Transport", page 534.</P></TD></TR></TABLE></CENTER>        </UL><P><a href="#top">Back to top</a></P><BR><BR><A NAME="opengl"></A><H4>OpenGL 1.2</H4><P>OpenGL for Macintosh is Apple's implementation of Silicon Graphics'industry-standard 3D graphics API.</P>    <UL>    <LI>Additional Velocity Engine optimizations have been added    including Velocity Engine support in the compiled vertex array path.<BR><BR></LI>        <LI>OpenGL can now draw anti-aliased lines and points.<BR><BR></LI>        <LI>Support for TCL drivers has been added.<BR><BR></LI>        <LI>The following extensions have been added to OpenGL:    <UL>          extensions		    <LI><CODE>GL_ARB_texture_env_add</CODE>, <CODE>GL_EXT_abgr</CODE>, <CODE>GL_EXT_bgra</CODE>, 		<CODE>GL_EXT_texture_env_combine</CODE>, <CODE>GL_EXT_clip_volume_hint</CODE>, 		<CODE>GL_EXT_rescale_normal</CODE>, <CODE>GL_NV_texgen_reflection</CODE>, 		<CODE>GL_EXT_texture_lod_bias</CODE>, <CODE>GL_EXT_SGIS_texture_edge_clamp</CODE>,		<CODE>GL_EXT_abgr</CODE>, 		<CODE>GL_EXT_bgra</CODE>, <CODE>GL_EXT_texture_lod_bias</CODE>,		<CODE>GL_EXT_SGIS_texture_edge_clamp</CODE>, 		<CODE>GL_ARB_transpose_matrix</CODE>, <CODE>GL_ARB_texture_compression</CODE>, 		<CODE>GL_APPLE_packed_pixels</CODE>,				<CODE>GL_ARB_texture_env_add</CODE>, <CODE>GL_EXT_abgr</CODE>,		<CODE>GL_EXT_bgra</CODE>, <CODE>GL_EXT_texture_env_combine</CODE>,		<CODE>GL_EXT_clip_volume_hint</CODE>, <CODE>GL_EXT_rescale_normal</CODE>,		<CODE>GL_NV_texgen_reflection</CODE>,		<CODE>GL_EXT_texture_lod_bias</CODE>, <CODE>GL_EXT_SGIS_texture_edge_clamp</CODE>,		<CODE>GL_ARB_transpose_matrix</CODE>.<BR><BR></LI>		        <LI>Now supported in the software renderer:<BR><BR>   	<CODE>GL_EXT_abgr</CODE>, <CODE>GL_EXT_bgra</CODE>, <CODE>GL_EXT_texture_lod_bias</CODE>,    <CODE>GL_EXT_SGIS_texture_edge_clamp</CODE>.</LI>    			</UL><BR><BR></LI>        <LI>Support for non-coherent memory in the compiled vertex array path has been added.<BR><BR></LI>        <LI>It is now possible to add fog in the compiled vertex array path.<BR><BR></LI>        <LI>ARGB32 textures in 16-bit color are now supported.<BR><BR></LI>       <LI>Features improved support for OpenGLProfiler library.<BR><BR></LI>        <LI>TCL support at the GLD layer is now enabled.<BR><BR></LI>        <LI>OpenGL 1.2 standard is now in the interfaces.<BR><BR></LI>        <LI><CODE>GL_ARB_texture_compression</CODE> and <CODE>GL_APPLE_packed_pixels</CODE> are    now included in the interfaces.<BR><BR></LI>            <LI>LRU/MRU texture paging is now supported with ATI hardware.<BR><BR></LI>        <LI>Several optimizations to texture upload path have been added.<BR><BR></LI>       </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="plaintalk"></A><H4>PlainTalk</H4><P>PlainTalk provides both speech recognition services and services for the translation of text intoaudible speech. The Mac OS 9 installation ships with English Text-to-Speech 2.0.2, PlaintalkSpeech Recognition 2.0, and Mexican Spanish Text-to-Speech 2.0.2. English Text-to-Speech isinstalled as part of the default Mac OS 9 installation. In Mac OS 9.1 English Localized versions,Plaintalk Speech Recognition 2.0 is installed as part of the standard install. For other localizedversions of Mac OS 9.1, it can beinstalled as a custom install option. On some localized OS releases, individual Plaintalk components,may be moved to the CD Extras folder on the System Software CD or removed entirely from the OS.</P>    <UL>    <LI>A problem where the effects of the "Make this application speakable"    Speakable command would not be recognized until speakable items was quit    and restarted has been corrected (r. 2496982).<BR><BR></LI>    </UL><P><a href="#top">Back to top</a></P><BR><BR><A NAME="quicktime"></A><H4>QuickTime 4.1.2</H4><P>QuickTime provides various multimedia services for the Mac OS including the ability to display movies and facilities for the translation and display of various audio and visual data file formats.</P><P>Mac OS 9.1 includes an improved version of the Digital video (DV) codec.  Improvements in this version of the DV codec provide significantly better performance and quality over previous versions.  These changes should be of benefit to all QuickTime developers, especially developers using video editing applications.</P>    <UL>    <LI>High-quality decompression has been optimized for both Power Mac G3 and G4computers.  This includes improved speed for rendering in r408 and v408 formats, improved speed for playback to YUV accelerated windows,  and improved speed for high-quality, single field video.<BR><BR></LI>    <LI>The quality the rendered images produced by normal (low) quality decompression on Power Mac G4 computers has been improved.<BR><BR></LI>    <LI>The quality of the compression in medium and best-quality cases for Power Mac G3 and Power Mac G4 computers has been improved.<BR><BR></LI>    <LI>Multiprocessor support has been enabled for vector decode (i.e.,high quality, low quality,playback and scrub/render). Multiprocessor support has also been enabled for encode in the vector case. For the actual DV operation, the results are nearly two times faster on a two CPU computer than the same code running in non-multiprocessor mode.<BR><BR></LI>    </UL>        <P><a href="#top">Back to top</a></P><BR><BR><A NAME="timesynch"></A><H4>Time Synchronizer</H4><P>Time Synchronizer is a faceless background application that synchronizes thecomputer's clock over the Internet.</P>    <UL>        <LI>Time Synchronizer could hang if the location stored in PRAM could not    be found in the location database (r. 2499437).<BR><BR></LI>        <LI>Alerts explaining error conditions detected at startup preventing    the Time Synchronizer from running were not being displayed (r. 2500473).<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="urlaccess"></A><H4>URL Access 2.1</H4><P>URLAccess is a shared library providing high-level Internet APIs.This facility allows clients to download or upload data from or to theInternet.  With this API, all applications can become Internet-enabledwith just a few additional calls. </P>    <UL>    <LI>URL Access now supports with SSL Ref v3, 128-bit encryption.<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="usbprintersharing"></A><H4>USB Printer Sharing 1.0.1</H4><P>It allows users to share their USB printers over TCP/IP (physical or     wireless).</P>    <UL>    <LI>Mac OS 9.1 ships with USB Printer Sharing 1.0.1.<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><BR><BR> <A NAME="fonts"></A><H3>Fonts</H3><P>Fonts provide information used in drawing characters to the screenand to other graphics devices.</P>    <UL>    <LI>A LineFeed cmap entry has been added to all fonts installed    with Mac OS 9.1 (r. 2487954).<BR><BR></LI>        <LI>The sidebearings from the kashida glyph were removed from the    Arabic fonts to allow better justification of Arabic text in Textension (r. 2343333).<BR><BR></LI>        <LI>The priority of the kashida character was changed in the Arabic fonts    so it will be used appropriately in justification (r. 2503404).<BR><BR></LI>        <LI>Korean System Fonts now support Unicode (r. 2444584).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="applemenuitems"></A><H3>Apple Menu Items</H3><P>Items in the Apple Menu Items folder appear inthe Apple Menu.</P><BR><BR><A NAME="SherlockTwo"></A><H4>Sherlock 2</H4><P>Sherlock provides search facilities for Mac OS computers. In additionto the traditional capabilities of the Find application, Sherlock supportssearching by content and Internet searches.</P>    <UL>    <LI>The forward delete key now works as expected in Sherlock (r. 2457688).<BR><BR></LI>        <LI>Inline input now works correctly in the Save Custom Settings dialog (r. 2498288).<BR><BR></LI>        <LI>Sherlock now uses user@host rather than an email address for a password    when establishing an anonymous FTP connection (r. 2463751).<BR><BR></LI>    <LI>The "Open Enclosing Folder" now works correctly (r. 2383272).<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="AppleSystemProfiler"></A><H4>Apple System Profiler</H4><P>The Apple System Profiler (ASP) provides a simple way to obtain information regarding the current system       configuration. Information provided by the Profiler is useful for customer support representatives in       assisting users.</P>    <UL>    <LI>ASP now displays the CarbonLib version.<BR><BR></LI>     <LI>ASP is now capable of reading reports generated by the ASP    found in Mac OS X.<BR><BR></LI>    <LI>Now correctly displays a PowerBook G3's modem as 33.6 and the    protocol as "V.34".<BR><BR></LI>    <LI>ASP no longer displays "VRAM" size on machines that do not have     built-in VRAM/video cards<BR><BR></LI>    <LI>ASP features improved facilities for identifying memory configurations on iBooks,    and for identifying PC66 memory.<BR><BR></LI>    <LI>ASP now matches FireWire drives to the FireWire nodes.<BR><BR></LI>    <LI>ASP features improved facilities for displaying USB related information including:<BR><BR>        <UL>    <LI>Some issues related to finding USB buses have been corrected.<BR><BR></LI>    <LI>USB Printer Sharing support<BR><BR></LI>    <LI>ASP was describing USB "serial" printers as type "serial".  ASP now describes USB serial printers as type "USB".</LI>    </UL>	<BR><BR></LI>	    <LI>ASP's AppleScript support has been improved in the following ways:<BR><BR>    <UL>	    <LI>ASP would crash when processing requests asking specifically	    for System Folder information and nothing else.<BR><BR></LI>	    <LI>ASP would fail when trying processing requests asking specifically	    for devices and volumes information and nothing else.<BR><BR></LI>	    <LI>ASP wouldn't return Power Mac G4 (AGP Graphics) serial numbers.  Now it does.<BR><BR></LI>	    <LI>ASP didn't return mulitple user's name/environment or video note.  Now it does.<BR><BR></LI>	    <LI>Scripting terminology has been changed as follows:	    	<BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550>	<TR><td bgcolor="#E6E6E6" align=left>	<pre>    "AtEase" is now "At Ease"    "MultipleUses..." is now "Multiple Users..."    "StartupDisk" is now "Startup Disk..."    "...logicboard..." is now "...logic board..."    </pre>	</TD></TR></TABLE></CENTER>	   <BR><BR></LI>	   	<LI>Fixed TCP/IP comments that referenced AppleTalk.<BR><BR></LI>		<LI>The Unique logic board ID returned by ASP now returns a different	number that is more unique than the previous set of ID values returned.<BR><BR></LI>    </UL>                  <BR><BR></LI>    <LI>ASP no longer marks slower RAM, as many users were interpreting this as	a "bad" thing, while all it really means is that the computer runs at the speed	of the slowest RAM (a minor speed difference).  ASP continues to show the	speed of the RAM, to allow users to buy matching RAM speeds, if they	choose.<BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="utilities"></A><H3>Utilities</H3><P>Utilities include items useful for maintaining your computer.Normally, these items are placed in the Utilities folder onyour startup volume when you install your system software, butsome of them can be found in the "Utilities" folder on theInstall CD.</P><BR><BR><BR><BR><A NAME="diskfirstaid"></A><H4>Disk First Aid</H4><P>Disk First Aid is an application program that provides disk diagnosticand repair services. It is normally located in the Utilities directory inthe startup disk's root directory.</P>    <UL>    <LI>DFA detects and replaces code in an HFS Plus "wrapper" for volumes thatwere initialized with Mac OS 9.0.x.  This prevents a crash or hang early inboot when the boot volume has lots of files or directories (typically100,000 or more).<BR><BR></LI>    <LI>Now DFA refuses to repair when logged in as a Panel user and the volume hasopen files.<BR><BR></LI>    <LI>DFA will not complain if a Mac OS Extended (HFS Plus) volume indicates    certain text encodings are in use, even when they aren't actually in use.    These will be updated if any other repairs are performed.  This is most     likely to occur when language kits have been used (r. 2406117).<BR><BR></LI>    <LI>Disk First Aid might mistakenly identify     a Mac OS Extended (HFS Plus) volume that was re-initialized as     a Mac OS Standard (HFS) volume as a Mac OS Extended volume and    report that is unable to repair the volume.  This problem has     been corrected (r. 2509928).<BR><BR></LI>    <LI>When writing a volume header or alternate volume header, the    signature and version fields are always set to their correct    values.<BR><BR></LI>    <LI>DFA will not generate an error if the next CNID is on volumes containing    no files or folders.<BR><BR></LI>    <LI>DFA will now properly check the space used by a startup    file.  This fixes an incorrect error message about some Mac OS X startup     volumes (r. 2455546).<BR><BR></LI>    <LI>A possible off-by-one error in checking the next CNID has been corrected.<BR><BR></LI>    <LI>When repairing an orphan directory thread record, DFS will now    start searching at the first leaf node.  Previously, some nodes could    have been skipped, causing the repair to fail (r. 2496023).<BR><BR></LI>    <LI>When repairing a volume with open files, DFA now copies the parallel Extents     data to the parallel Extents FCB, and not to the parallel Catalog FCB. Also, DFA    copies HFS Plus extent information to the ForkControlBlock if available, or to     parallel FCB (r. 2412846). <BR><BR></LI>    <LI>DFA no longer generates an error regarding the next CNID if an HFS Plus    volume has had its CNIDs reused.<BR><BR></LI>    <LI>When trying to figure out the volume type, DFA now uses the alternate volume     header before the main volume header.<BR><BR></LI>    <LI>DFA can now accommodate larger B-trees (r. 2405114).<BR><BR></LI>    <LI>DFA no longer generates bad error message on volumes containing    large numbers of long filenames (r. 2404773).<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="drivesetup"></A><H4>Drive Setup 2.0.3</H4><P>Drive Setup provides facilities for updating hard disk driversand for formatting hard drives.</P>    <UL>    <LI>Problems with the visual appearance of the partition selection    box with some drives have been corrected (r. 2392640).<BR><BR></LI>        <LI>Drive Setup will not allow the drive to spin down if Test disk is running on 	DVD-RAM media (r. 2451144). <BR><BR></LI>            </UL>    <P><a href="#top">Back to top</a></P><BR><hr width=500 align=center><BR><A NAME="appleextras"></A><H3>Apple Extras</H3><P>Apple Extras include a number of items placed in on yourhard drive during system installs.  These items may includeutilities, tools, or programs meant for specific purposes.</P><BR><BR><BR><BR><A NAME="applecdaudioplayer"></A><H4>CD Audio Player</H4><P>The CD Audio player is a utility that allows you to play audio CDs.</P>    <UL>    <LI>A problem where the CD Audio Player could trash some LowMem Globals    has been corrected (r. 2502234).<BR><BR></LI>        <LI>The CD Audio player will no longer show the data session as an extra track at the end of    track list when a Multisession enhanced audio CD is inserted (r. 2509403).<BR><BR></LI>        <LI>Problems playing and displaying track times for Multisession enhanced audio CDs have    been corrected (rr. 2510627, 2510686).<BR><BR></LI>        </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="worldtext"></A><H4>World Text</H4><P>An MLTE based text editor that allows Unicode text editing.</P>    <UL>    <LI>New MLTE based text editor found in the cd extras folder on the cd.<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="macsbug"></A><H4>MacsBug 6.6.3</H4><P>MacsBug is Apple's low-level debugger, providing a user interface for thedisassembly and perusal of machine-level instructions. </P>    <UL>    <LI>MacsBug 6.6.3 should be used with Mac OS 9.1 (r. 2540060).<BR><BR></LI>    <LI>Even better bus error's magic address now points to a no-access page in memory.    Any attempts to either read or write to this address will enter MacsBug with    and EBBE error.<BR><BR></LI>    </UL>    <P><a href="#top">Back to top</a></P><BR><BR><A NAME="Downloads"></A><H3>Downloadables</H3><TABLE BORDER=0 CELLPADDING=3 WIDTH="100%"> <TR> <td width=50 align=left> <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat"></P></TD> <td align="left"> <P>Acrobat version of this Note (2M)</P> </TD><td width=60 align=left> <A HREF="pdf/tn2010.pdf">Download</A></TD> </TR> </TABLE><BR><P><a href="#top">Back to top</a></P></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn2010.html%3Fid%3DDTS10003049-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn2010.html%3Fid%3DDTS10003049-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn2010.html%3Fid%3DDTS10003049-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>