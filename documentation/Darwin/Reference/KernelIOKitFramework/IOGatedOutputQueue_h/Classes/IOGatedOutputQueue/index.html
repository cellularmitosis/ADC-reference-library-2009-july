<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>IOGatedOutputQueue</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/class/IOGatedOutputQueue" title="IOGatedOutputQueue"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOGatedOutputQueue">IOGatedOutputQueue</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Inherits from:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<a href="../../../IOBasicOutputQueue_h/Classes/IOBasicOutputQueue/index.html#//apple_ref/cpp/cl/IOBasicOutputQueue" target="_top">IOBasicOutputQueue</a>
</div></div></td>
</tr>
<tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IOGatedOutputQueue.h</a></div></div></td>
</tr>
</table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>An extension of an IOBasicOutputQueue. 
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>An IOCommandGate
object is created by this queue and added to a work loop as an
event source. All calls to the target by the consumer thread must
occur with the gate closed. Therefore, all calls to the target of
this type of queue will be serialized with any other thread that
runs on the same work loop context. This is useful for network
drivers that have a tight hardware coupling between the transmit
and receive engines, and a single-threaded hardware access model
is desirable. 
<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOGatedOutputQueue/free/void/()" target="_top">free</a></tt></dt>
<dd><p>Frees the IOGatedOutputQueue object.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOGatedOutputQueue/init/bool/(OSObject*,IOOutputAction,IOWorkLoop*,UInt32)" target="_top">init</a></tt></dt>
<dd><p>Initializes an IOGatedOutputQueue object.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOGatedOutputQueue/output/void/(IOMbufQueue*,UInt32*)" target="_top">output</a></tt></dt>
<dd><p>Transfers all packets in the mbuf queue to the target.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOGatedOutputQueue/scheduleServiceThread/bool/(void*)" target="_top">scheduleServiceThread</a></tt></dt>
<dd><p>Overrides the method inherited from IOOutputQueue.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IOGatedOutputQueue/withTarget/IOGatedOutputQueue*/(IONetworkController*,IOWorkLoop*,UInt32)" target="_top">withTarget(IONetworkController *, IOWorkLoop *, UInt32)</a></tt></dt>
<dd><p>Factory method that constructs and initializes an
IOGatedOutputQueue object.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IOGatedOutputQueue/withTarget/IOGatedOutputQueue*/(OSObject*,IOOutputAction,IOWorkLoop*,UInt32)" target="_top">withTarget(OSObject *, IOOutputAction, IOWorkLoop *, UInt32)</a></tt></dt>
<dd><p>Factory method that constructs and initializes an
IOGatedOutputQueue object.
</p></dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOGatedOutputQueue/free/void/();  indexgroup=Network ;   name=IOGatedOutputQueue::free --><a name="//apple_ref/cpp/instm/IOGatedOutputQueue/free/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="free">free</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Frees the IOGatedOutputQueue object.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">free</span><!-- /a -->(); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Release allocated resources, then call super::free(). <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOGatedOutputQueue/init/bool/(OSObject*,IOOutputAction,IOWorkLoop*,UInt32);  indexgroup=Network ;   name=IOGatedOutputQueue::init --><a name="//apple_ref/cpp/instm/IOGatedOutputQueue/init/bool/(OSObject*,IOOutputAction,IOWorkLoop*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="init">init</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Initializes an IOGatedOutputQueue object.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <a href="../../../IOFWPhysicalAddressSpace_h/index.html#//apple_ref/c/func/init" target="_top" class="function"><span class="function">init</span></a>(
    <a href="../../../OSObject_h/Classes/OSObject/index.html#//apple_ref/cpp/cl/OSObject" target="_top" class="type"><span class="type">OSObject</span></a> <span class="type">*</span><span class="param">target</span>, 
    <a href="../../../IONetworkInterface_h/index.html#//apple_ref/c/tdef/IOOutputAction" target="_top" class="type"><span class="type">IOOutputAction</span></a> <span class="param">action</span>, 
    <a href="../../../IOWorkLoop_h/Classes/IOWorkLoop/index.html#//apple_ref/cpp/cl/IOWorkLoop" target="_top" class="type"><span class="type">IOWorkLoop</span></a> <span class="type">*</span><span class="param">workloop</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">capacity</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>target</code></dt>
<dd><p>The object that will handle packets removed from the
queue, and is usually a subclass of IONetworkController.</p></dd>
<dt><code>action</code></dt>
<dd><p>The function that will handle packets removed from the
queue.</p></dd>
<dt><code>workloop</code></dt>
<dd><p>A workloop object. An IOCommandGate object is created
and added to this workloop as an event source.</p></dd>
<dt><code>capacity</code></dt>
<dd><p>The initial capacity of the output queue.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if initialized successfully, false otherwise. 

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOGatedOutputQueue/output/void/(IOMbufQueue*,UInt32*);  indexgroup=Network ;   name=IOGatedOutputQueue::output --><a name="//apple_ref/cpp/instm/IOGatedOutputQueue/output/void/(IOMbufQueue*,UInt32*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="output">output</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Transfers all packets in the mbuf queue to the target.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">output</span><!-- /a -->(
    <!-- a --><span class="type">IOMbufQueue</span><!-- /a --> <span class="type">*</span><span class="param">queue</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">state</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>queue</code></dt>
<dd><p>A queue of output packets.</p></dd>
<dt><code>state</code></dt>
<dd><p>Return a state bit defined by IOBasicOutputQueue that
declares the new state of the queue following this method call.
A kStateStalled is returned if the queue should stall, otherwise 0
is returned.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOGatedOutputQueue/scheduleServiceThread/bool/(void*);  indexgroup=Network ;   name=IOGatedOutputQueue::scheduleServiceThread --><a name="//apple_ref/cpp/instm/IOGatedOutputQueue/scheduleServiceThread/bool/(void*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="scheduleServiceThread">scheduleServiceThread</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Overrides the method inherited from IOOutputQueue.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">scheduleServiceThread</span><!-- /a -->(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">param</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if a thread was successfully scheduled to service
the queue. 

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IOGatedOutputQueue/withTarget/IOGatedOutputQueue*/(IONetworkController*,IOWorkLoop*,UInt32);  indexgroup=Network ;   name=IOGatedOutputQueue::withTarget --><a name="//apple_ref/cpp/clm/IOGatedOutputQueue/withTarget/IOGatedOutputQueue*/(IONetworkController*,IOWorkLoop*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="withTarget(IONetworkController*,IOWorkLoop*,UInt32)">withTarget(IONetworkController *, IOWorkLoop *, UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Factory method that constructs and initializes an
IOGatedOutputQueue object.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <a href="index.html#//apple_ref/cpp/cl/IOGatedOutputQueue" target="_top" class="type"><span class="type">IOGatedOutputQueue</span></a> <span class="type">*</span> <!-- a --><span class="function">withTarget</span><!-- /a -->(
    <a href="../../../IONetworkController_h/Classes/IONetworkController/index.html#//apple_ref/cpp/cl/IONetworkController" target="_top" class="type"><span class="type">IONetworkController</span></a> <span class="type">*</span><span class="param">target</span>, 
    <a href="../../../IOWorkLoop_h/Classes/IOWorkLoop/index.html#//apple_ref/cpp/cl/IOWorkLoop" target="_top" class="type"><span class="type">IOWorkLoop</span></a> <span class="type">*</span><span class="param">workloop</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">capacity</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>target</code></dt>
<dd><p>An IONetworkController object that will handle packets
removed from the queue.</p></dd>
<dt><code>workloop</code></dt>
<dd><p>A workloop object. An IOCommandGate object is created
and added to this workloop as an event source.</p></dd>
<dt><code>capacity</code></dt>
<dd><p>The initial capacity of the output queue.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns an IOGatedOutputQueue object on success, or 0 otherwise. 

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IOGatedOutputQueue/withTarget/IOGatedOutputQueue*/(OSObject*,IOOutputAction,IOWorkLoop*,UInt32);  indexgroup=Network ;   name=IOGatedOutputQueue::withTarget --><a name="//apple_ref/cpp/clm/IOGatedOutputQueue/withTarget/IOGatedOutputQueue*/(OSObject*,IOOutputAction,IOWorkLoop*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="withTarget(OSObject*,IOOutputAction,IOWorkLoop*,UInt32)">withTarget(OSObject *, IOOutputAction, IOWorkLoop *, UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Factory method that constructs and initializes an
IOGatedOutputQueue object.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <a href="index.html#//apple_ref/cpp/cl/IOGatedOutputQueue" target="_top" class="type"><span class="type">IOGatedOutputQueue</span></a> <span class="type">*</span> <!-- a --><span class="function">withTarget</span><!-- /a -->(
    <a href="../../../OSObject_h/Classes/OSObject/index.html#//apple_ref/cpp/cl/OSObject" target="_top" class="type"><span class="type">OSObject</span></a> <span class="type">*</span><span class="param">target</span>, 
    <a href="../../../IONetworkInterface_h/index.html#//apple_ref/c/tdef/IOOutputAction" target="_top" class="type"><span class="type">IOOutputAction</span></a> <span class="param">action</span>, 
    <a href="../../../IOWorkLoop_h/Classes/IOWorkLoop/index.html#//apple_ref/cpp/cl/IOWorkLoop" target="_top" class="type"><span class="type">IOWorkLoop</span></a> <span class="type">*</span><span class="param">workloop</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">capacity</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>target</code></dt>
<dd><p>The object that will handle packets removed from the
queue.</p></dd>
<dt><code>action</code></dt>
<dd><p>The function that will handle packets removed from the
queue.</p></dd>
<dt><code>workloop</code></dt>
<dd><p>A workloop object. An IOCommandGate object is created
and added to this workloop as an event source.</p></dd>
<dt><code>capacity</code></dt>
<dd><p>The initial capacity of the output queue.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns an IOGatedOutputQueue object on success, or 0 otherwise. 

<!-- end return value --></p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOGatedOutputQueue_h/Classes/IOGatedOutputQueue/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOGatedOutputQueue_h/Classes/IOGatedOutputQueue/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOGatedOutputQueue_h/Classes/IOGatedOutputQueue/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</div>
<!-- headerDoc=cl; uid=//apple_ref/cpp/cl/IOGatedOutputQueue; indexgroup=Network ; name=IOGatedOutputQueue--><a name="//apple_ref/cpp/cl/IOGatedOutputQueue"></a>
</body>
</html>
