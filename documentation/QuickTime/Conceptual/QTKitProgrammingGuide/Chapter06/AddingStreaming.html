<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Kit Programming Guide: Extending the QTKitPlayer To Stream Audio and Video</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Extending the QTKitPlayer To Stream Audio and Video"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001245-CH208" title="Extending the QTKitPlayer To Stream Audio and Video"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../Cocoa-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000495" target="_top">Cocoa</a> &gt; <a href="../Chapter01/Introduction.html#//apple_ref/doc/uid/TP40001245-CH202-TPXREF101">QuickTime Kit Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Chapter05/AddingToQTKitPlayer.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Chapter07/AddingMultimediaPlayback.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001245-CH208-TPXREF101" title="Extending the QTKitPlayer To Stream Audio and Video"></a><h1>Extending the QTKitPlayer To Stream Audio and Video</h1><p>If you’ve been working diligently through the code examples in the last two chapters, you’ve no doubt advanced your knowledge of how to extend your QTKitPlayer application with the tools available in Xcode and Interface Builder. The goal has been to enhance the functionality of the media player by tapping into the power of the QTKit framework and in the process learn by doing. </p><p>In this chapter, you’ll jump into another level of programming skill by adding the capability of streaming audio and video in your application. Streaming, of course, is not the same thing as downloading a QuickTime movie file.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001245-CH208-SW1" title="Note"></a><p><strong>Note:</strong>&nbsp;Streams, which can originate from a live source or stored video on a server, are data packets that are assembled into sound and video, displayed briefly, then discarded. No movie file is created on the user’s computer. The way streaming works is that a streaming server responds to requests for streaming movies, and then transmits those streams to users in response to requests. The requests are handled using RTSP (Real-Time Streaming Protocol); streams are sent over the Internet using RTP (Real-Time Transport Protocol).</p></div><p>The URL for a streaming movie starts with the RTSP protocol identifier and looks like this</p><p><code>rtsp://YourStreamServer.com/YourPath/YourMovie.mov</code></p><p>After you complete the steps in this chapter, your QTKitPlayer application will be able to play audio and video streams in real time over the Internet. You’ll be able to open a streaming movie by choosing Open URL from the File menu and entering the URL string, as shown in <span class="content_text">Figure 5-1</span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40001245-CH208-BABFEJFG" title="Figure 5-1An Open URL dialog in the completed QTKitPlayer application"></a><p><strong>Figure 5-1&nbsp;&nbsp;</strong>An Open URL dialog in the completed QTKitPlayer application</p><img src = "../Art/open_url_dialog.jpg" alt = "An Open URL dialog in the completed QTKitPlayer application" ></div><br/><p>Clicking OK launches an Untitled QTKitPlayer movie window with a big blue Q at the center, as shown in <span class="content_text">Figure 5-2</span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40001245-CH208-BABCCAAF" title="Figure 5-2The movie window launched by the QTKitPlayer to stream audio and video with the big blue Q at its center"></a><p><strong>Figure 5-2&nbsp;&nbsp;</strong>The movie window launched by the QTKitPlayer to stream audio and video with the big blue Q at its center</p><img src = "../Art/qt_streaming_window.jpg" alt = "The movie window launched by the QTKitPlayer to stream audio and video with the big blue Q at its center" ></div><br/><p>When you click the play button in the control bar at the lower left, your application will send a request to a server to fetch the audio or video stream with the RTSP protocol identifier. A few seconds later, the stream will appear in the player window. You can then resize the window accordingly, as you wish. </p><p>You’ll follow the same procedure as defined in the previous chapter: identify the tasks to accomplish, construct and wire together the necessary objects for your user interface, and then add the code to make it work. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="AddingStreaming.html#//apple_ref/doc/uid/TP40001245-CH208-TPXREF141">Tasks to Accomplish</a>
				
			<br/>
			
        
			
			
				<a href="AddingStreaming.html#//apple_ref/doc/uid/TP40001245-CH208-SW2">Constructing the Open URL Panel</a>
				
			<br/>
			
        
			
			
				<a href="AddingStreaming.html#//apple_ref/doc/uid/TP40001245-CH208-TPXREF126">Adding Code To Stream Audio and Video</a>
				
			<br/>
			
        
			
			
				<a href="AddingStreaming.html#//apple_ref/doc/uid/TP40001245-CH208-SW3">What’s Next?</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001245-CH208-TPXREF141" title="Tasks to Accomplish"></a><h2>Tasks to Accomplish</h2><p>The tasks you need to accomplish to extend the capability of your streaming QTKitPlayer are more complex than those described in the previous chapter. You’ll build on the existing QTKitPlayer application, using the tools available to you in Interface Builder 2.5 and Xcode 2.0. But you’ll also be adding more code to the project to deal with the handling of URL streams. You’ll do this:</p><ol class="ol"><li class="li"><p>Construct an OpenURL panel in Interface Builder with a ComboBox object for entering a movie URL. </p></li><li class="li"><p>Add actions and outlets to the OpenURL panel you’ve constructed.</p></li><li class="li"><p>Add a new menu item to the File menu to open the URL.</p></li><li class="li"><p>Subclass NSObject with a QTKitAppDelegate class in your MainMenu.nib and wire it up to handle the opening of a URL in your OpenURL panel.</p></li><li class="li"><p>Add to your Xcode project a new <code>OpenURLPanel.h</code> declaration file in which you define the class methods, getters and setters, delegates, notifications, and actions for your URL panel.</p></li><li class="li"><p>Add an <code>OpenURLPanel.m</code> implementation file in which you get the URL from a string, validate and save the URL, and inform the delegate before closing down the URL panel. </p></li><li class="li"><p>Add an <code>QTKitPlayerAppDelegate.h</code> class interface file to your project with IBActions for opening the URL panel.</p></li><li class="li"><p>Add an <code>QTKitPlayerAppDelegate.m</code> implementation file to your project in order to create the movie document from the URL. </p></li></ol><p>Each task is outlined, step by step, in the next sections of this chapter. You’ll start as you have before with Interface Builder and then move on to add the code you need in four separate Xcode files. </p><a name="//apple_ref/doc/uid/TP40001245-CH208-SW2" title="Constructing the Open URL Panel"></a><h2>Constructing the Open URL Panel</h2><p>By now you should be familiar with how to work with Interface Builder and its various palettes, icons, and objects. For purposes of simplicity and to move things forward a bit faster, this means combining a few basic steps in constructing your Open URL Panel. To start:</p><ol class="ol"><li class="li"><p>Create a new nib and call it OpenURLPanel.nib. </p></li><li class="li"><p>Create an Open URL panel object with Cancel and OK buttons, which are positioned according to Human Interface Guidelines, as shown in <span class="content_text">Figure 5-3</span>.</p></li><li class="li"><p>Create a ComboBox object from the Cocoa-Data palette, where the user can enter a movie URL, as also shown in <span class="content_text">Figure 5-3</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH208-BABIIHEJ" title="Figure 5-3The Open URL panel nib and dialog for entry of a movie URL"></a><p><strong>Figure 5-3&nbsp;&nbsp;</strong>The Open URL panel nib and dialog for entry of a movie URL</p><img src = "../Art/open_url_panel_dialog.jpg" alt = "The Open URL panel nib and dialog for entry of a movie URL" ></div></li><li class="li"><p>In the ComboBox, specify the attributes shown in <span class="content_text">Figure 5-4</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH208-BABCFBCB" title="Figure 5-4The ComboBox attributes"></a><p><strong>Figure 5-4&nbsp;&nbsp;</strong>The ComboBox attributes</p><img src = "../Art/open_url_combo_box.jpg" alt = "The ComboBox attributes" ></div></li><li class="li"><p>In the Size pane of the OpenURLPanel object, set the springs and the size of the panel, as shown in <span class="content_text">Figure 5-5</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH208-BABCIAGF" title="Figure 5-5The size settings and spring positions in the OpenURLPanel object"></a><p><strong>Figure 5-5&nbsp;&nbsp;</strong>The size settings and spring positions in the OpenURLPanel object</p><img src = "../Art/open_url_panel_size.jpg" alt = "The size settings and spring positions in the OpenURLPanel object" ></div></li><li class="li"><p>Now in the OpenURLPanel.nib, select OpenURLPanel from the list of classes. You can type “OpenURLPanel” in the search box and press return, or click NSObject to locate the OpenURLPanel class. Add <code>mPanel</code> and <code>mUrlComboBox</code> as your outlets, as shown in <span class="content_text">Figure 5-6</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH208-BABCJICG" title="Figure 5-6The outlets for the OpenURLPanel class"></a><p><strong>Figure 5-6&nbsp;&nbsp;</strong>The outlets for the OpenURLPanel class</p><img src = "../Art/open_url_panel_outlets.jpg" alt = "The outlets for the OpenURLPanel class" ></div></li><li class="li"><p>Now add one action to the the OpenURLPanel class in the Attributes pane, as shown in <span class="content_text">Figure 5-7</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH208-BABFDHBH" title="Figure 5-7Action added to the OpenURLPanel"></a><p><strong>Figure 5-7&nbsp;&nbsp;</strong>Action added to the OpenURLPanel</p><img src = "../Art/open_url_panel_actions.jpg" alt = "Action added to the OpenURLPanel" ></div></li><li class="li"><p>Save the nib and open the MainMenu.nib - MainMenu. </p></li><li class="li"><p>Add a menu item in the File menu as Open URL. . . with a key equivalent of Command-U, and specify its attributes as shown in <span class="content_text">Figure 5-8</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH208-BABHCHGE" title="Figure 5-8The main menu nib with the menu attributes specified"></a><p><strong>Figure 5-8&nbsp;&nbsp;</strong>The main menu nib with the menu attributes specified</p><img src = "../Art/open_url_menu.jpg" alt = "The main menu nib with the menu attributes specified" ></div></li><li class="li"><p>Now subclass NSObject and create a new class called <code>QTKitPlayerAppDelegate</code>.</p></li><li class="li"><p>Select <code>QTKitPlayerAppDelegate</code> from the list of classes in your MainMenu.nib and open the Attributes pane.</p></li><li class="li"><p>Add the <code>doOpenURL</code> action to your <code>QTKitPlayerAppDelegate</code>, as shown in <span class="content_text">Figure 5-9</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH208-BABEJBHE" title="Figure 5-9Actions added to the QTKitPlayAppDelegate class in the Attributes pane"></a><p><strong>Figure 5-9&nbsp;&nbsp;</strong>Actions added to the QTKitPlayAppDelegate class in the Attributes pane</p><img src = "../Art/qtapp_delegate.jpg" alt = "Actions added to the QTKitPlayAppDelegate class in the Attributes pane" ></div></li><li class="li"><p>Now add the wiring to connect the OpenURL menu item and its action <code>doOpenURL</code> to the <code>QTKitPlayAppDelegate</code> class, as shown in <span class="content_text">Figure 5-10</span>. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40001245-CH208-BABDJBGJ" title="Figure 5-10Wiring to nib"></a><p><strong>Figure 5-10&nbsp;&nbsp;</strong>Wiring to nib</p><img src = "../Art/main_nib_wiring_url.jpg" alt = "Wiring to nib" ></div></li><li class="li"><p>Save the files in Interface Builder and Quit.</p></li></ol><p>If you’ve completed the steps outlined this section, you’ll be ready now to add the necessary code to your project.</p><a name="//apple_ref/doc/uid/TP40001245-CH208-TPXREF126" title="Adding Code To Stream Audio and Video"></a><h2>Adding Code To Stream Audio and Video</h2><p>In this section, you’ll add four new files to your Xcode project, including a <code>OpenURLPanel.h</code> declaration file, an <code>OpenURLPanel.m</code> implementation file, a <code>QTKitPlayerAppDelegate.h</code> class interface file, and a <code>QTKitPlayerAppDelegate.m</code> implementation file. <span class="content_text">Figure 5-11</span> shows the class model for the <code>OpenURLPanel</code> class with its properties and their connections listed.</p><br/><div><a name="//apple_ref/doc/uid/TP40001245-CH208-BABJEECA" title="Figure 5-11The class model for the OpenURLPanel class"></a><p><strong>Figure 5-11&nbsp;&nbsp;</strong>The class model for the OpenURLPanel class</p><img src = "../Art/class_model_openurl.jpg" alt = "The class model for the OpenURLPanel class" ></div><br/><a name="//apple_ref/doc/uid/TP40001245-CH208-TPXREF163" title="Adding Code For The OpenURLPanel Class Interface"></a><h3>Adding Code For The OpenURLPanel Class Interface</h3><p>In this next sequence of steps, you’ll add the code you need for your <code>OpenURLPanel.h</code> class interface file. </p><p>To begin, in your QTKitPlayer project, choose File > New File. In the Assistant window for your new file in Xcode 2.0, select Cocoa > Objective-C class and in the window that opens enter the title <code>OpenURLPanel.h</code> . Now follow these steps:</p><ol class="ol"><li class="li"><p>Insert the following import code at the beginning of your file:</p><div class="codesample"><table><tr><td scope="row"><pre>#import &lt;Cocoa/Cocoa.h><span></span></pre></td></tr><tr><td scope="row"><pre>#import &lt;QTKit/QTKit.h><span></span></pre></td></tr></table></div></li><li class="li"><p>Add the following declaration code after your import statements:</p><div class="codesample"><table><tr><td scope="row"><pre>@interface OpenURLPanel : NSObject<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>// panel<span></span></pre></td></tr><tr><td scope="row"><pre> IBOutlet NSPanel   *mPanel;<span></span></pre></td></tr><tr><td scope="row"><pre> IBOutlet NSComboBox *mUrlComboBox;<span></span></pre></td></tr><tr><td scope="row"><pre>// open url panel<span></span></pre></td></tr><tr><td scope="row"><pre>    id              mDelegate;<span></span></pre></td></tr><tr><td scope="row"><pre>    SEL             mDidEndSelector;<span></span></pre></td></tr><tr><td scope="row"><pre>    void            *mContextInfo;<span></span></pre></td></tr><tr><td scope="row"><pre>    NSMutableArray  *mUrlArray;<span></span></pre></td></tr><tr><td scope="row"><pre>    BOOL            mIsSheet;<span></span></pre></td></tr><tr><td scope="row"><pre> }<span></span></pre></td></tr></table></div></li><li class="li"><p>Define a class method with the following line of code:</p><div class="codesample"><table><tr><td scope="row"><pre>+ (id)openURLPanel;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the getters you need with the following lines of code:</p><div class="codesample"><table><tr><td scope="row"><pre>-(NSString *)urlString;<span></span></pre></td></tr><tr><td scope="row"><pre>- (NSURL *)url;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the setters with the following line of code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)setURLArray:(NSMutableArray *)urlArray;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the delegate with the following line of code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)awakeFromNib;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the notifications:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)writeURLs:(NSNotification *)notification;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the actions you need: </p><div class="codesample"><table><tr><td scope="row"><pre>(IBAction)doOpenURL:(id)sender;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the delegate methods:</p><div class="codesample"><table><tr><td scope="row"><pre> - (void)beginSheetWithWindow:(NSWindow *)window delegate:(id)delegate didEndSelector:(SEL)didEndSelector contextInfo:(void *)contextInfo;<span></span></pre></td></tr></table></div></li></ol><p>Save the file in the Classes folder in your QTKitPlayer project. </p><a name="//apple_ref/doc/uid/TP40001245-CH208-TPXREF140" title="Adding Code To OpenURLPanel.m"></a><h3>Adding Code To OpenURLPanel.m</h3><p>In this next sequence of steps, you’ll be adding a larger chunk of code to your <code>OpenURLPanel.m</code> implementation file. </p><p>To begin, in your QTKitPlayer project, choose File > New File. In the Assistant window for your new file in Xcode 2.0, select Cocoa > Objective-C class and in the window that opens enter the title <code>OpenURLPanel.m</code> . (Note that if you check the box in the title window, your implementation will already be created for you.) Now follow these steps:</p><ol class="ol"><li class="li"><p>Insert the following import code at the beginning of your file:</p><div class="codesample"><table><tr><td scope="row"><pre>#import "OpenURLPanel.h"<span></span></pre></td></tr></table></div></li><li class="li"><p>Following your import statement, you want to define a constant for specifying user default keys. Insert this line:</p><div class="codesample"><table><tr><td scope="row"><pre>#define kUserDefaultURLsKey @"UserDefaultURLsKey"<span></span></pre></td></tr></table></div></li><li class="li"><p>You also want to define the maximum number of URLs, in this case 15. Insert this line:</p><div class="codesample"><table><tr><td scope="row"><pre>#define kMaximumURLs 15<span></span></pre></td></tr></table></div></li><li class="li"><p>Now you want to add the following class methods to deal with opening the URL panel. Add these lines:</p><div class="codesample"><table><tr><td scope="row"><pre>+ (id)openURLPanel<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> if (openURLPanel == nil)<span></span></pre></td></tr><tr><td scope="row"><pre> openURLPanel = [[self alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>return openURLPanel;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Next, you need to add initialization code to initialize an OpenURLPanel instance and listen for application termination notifications. Add these lines:</p><div class="codesample"><table><tr><td scope="row"><pre>- (id)init<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [super init];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // init<span></span></pre></td></tr><tr><td scope="row"><pre>    [self setURLArray:[NSMutableArray arrayWithCapacity:10];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(writeURLs:) name:NSApplicationWillTerminateNotification object:NSApp];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return self;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Insert the following code to handle deallocation of memory and notifications:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)dealloc<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [[NSNotificationCenter defaultCenter] removeObserver:self];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self setURLArray:nil];<span></span></pre></td></tr><tr><td scope="row"><pre>    [super dealloc];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>To get the URL string, insert this chunk of code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (NSString *)urlString<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>     NSString *urlString = nil;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // get the url<span></span></pre></td></tr><tr><td scope="row"><pre>     urlString = [mUrlComboBox stringValue];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if (urlString == nil)<span></span></pre></td></tr><tr><td scope="row"><pre>        urlString = [mUrlComboBox objectValueOfSelectedItem];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if ([urlString length] == 0)<span></span></pre></td></tr><tr><td scope="row"><pre>        urlString = nil;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return urlString;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>To set the instance variable of the URL array, add the following code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)setURLArray:(NSMutableArray *)urlLArray<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [urlLArray retain];<span></span></pre></td></tr><tr><td scope="row"><pre>    [mUrlLArray retain];<span></span></pre></td></tr><tr><td scope="row"><pre>     mUrlLArray = urlLArray;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>The next block of code lets you restore the previous URLs. Insert the following block of code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)awakeFromNib<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSArray *urls;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // restore the previous urls<span></span></pre></td></tr><tr><td scope="row"><pre>    urls = [[NSUserDefaults standardUserDefaults] objectForKey:kUserDefaultURLsKey];<span></span></pre></td></tr><tr><td scope="row"><pre> [mUrlArray addObjectsFromArray:urls];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if (urls)<span></span></pre></td></tr><tr><td scope="row"><pre> [mUrlComboBox addItemsWithObjectValues:urls];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>To set up deal with notifications, you need to add this chunk of code. This will enable you to “listen” for any notifications. Insert the following:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)writeURLs:(NSNotification *)notification<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    NSUserDefaults *userDefaults;<span></span></pre></td></tr><tr><td scope="row"><pre>    if ([mUrlArray count]<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>    // init<span></span></pre></td></tr><tr><td scope="row"><pre> userDefaults = [NSUserDefaults standardUserDefaults];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // write out the urls<span></span></pre></td></tr><tr><td scope="row"><pre>    [userDefaults setObject:mUrlArray forKey:kUserDefaultURLsKey];<span></span></pre></td></tr><tr><td scope="row"><pre>    [userDefaults synchronize];<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>To write to actions, validate and save the URL, add the following code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction)doOpenURL:(id)sender<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSString*urlString;<span></span></pre></td></tr><tr><td scope="row"><pre>    NSURL*url;<span></span></pre></td></tr><tr><td scope="row"><pre>    BOOLinformDelegate = YES;<span></span></pre></td></tr><tr><td scope="row"><pre>    IMP     callback;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if ([sender tag] == NSOKButton)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        // validate the URL<span></span></pre></td></tr><tr><td scope="row"><pre>        url = [self url];<span></span></pre></td></tr><tr><td scope="row"><pre>        urlString = [self urlString];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        if (url)<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>            // save the url<span></span></pre></td></tr><tr><td scope="row"><pre>            if (![mUrlArray containsObject:urlString])<span></span></pre></td></tr><tr><td scope="row"><pre>            {<span></span></pre></td></tr><tr><td scope="row"><pre>                // save the url<span></span></pre></td></tr><tr><td scope="row"><pre>                [mUrlArray addObject:urlString];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>                // add the url to the combo box<span></span></pre></td></tr><tr><td scope="row"><pre>                [mUrlComboBox addItemWithObjectValue:urlString];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>                // remove the oldest url if the maximum has been exceeded<span></span></pre></td></tr><tr><td scope="row"><pre>                if ([mUrlArray count] > kMaximumURLs)<span></span></pre></td></tr><tr><td scope="row"><pre>                {<span></span></pre></td></tr><tr><td scope="row"><pre>                    [mUrlArray removeObjectAtIndex:0];<span></span></pre></td></tr><tr><td scope="row"><pre>                    [mUrlComboBox removeItemAtIndex:0];<span></span></pre></td></tr><tr><td scope="row"><pre>                }<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            else<span></span></pre></td></tr><tr><td scope="row"><pre>            {<span></span></pre></td></tr><tr><td scope="row"><pre>                // move the url to the bottom of the list<span></span></pre></td></tr><tr><td scope="row"><pre>                [mUrlArray removeObject:urlString];<span></span></pre></td></tr><tr><td scope="row"><pre>                [mUrlArray addObject:urlString];<span></span></pre></td></tr><tr><td scope="row"><pre>                [mUrlComboBox removeItemWithObjectValue:urlString];<span></span></pre></td></tr><tr><td scope="row"><pre>                [mUrlComboBox addItemWithObjectValue:urlString];<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        else<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>            if (mIsSheet)<span></span></pre></td></tr><tr><td scope="row"><pre>                NSRunAlertPanel(@"Invalid URL", @"The URL is not valid.", nil, nil, nil);<span></span></pre></td></tr><tr><td scope="row"><pre>            else<span></span></pre></td></tr><tr><td scope="row"><pre>                NSBeginAlertSheet(@"Invalid URL", nil, nil, nil, mPanel, nil, nil, nil, nil, @"The URL is not valid.");<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            informDelegate = NO;<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // inform the delegate<span></span></pre></td></tr><tr><td scope="row"><pre>    if (informDelegate &amp;&amp; mDelegate &amp;&amp; mDidEndSelector)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        callback = [mDelegate methodForSelector:mDidEndSelector];<span></span></pre></td></tr><tr><td scope="row"><pre>        callback(mDelegate, mDidEndSelector, self, [sender tag], mContextInfo);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Add these lines of code to save the delegate and start the sheet:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)beginSheetWithWindow:(NSWindow *)window delegate:(id)delegate didEndSelector:(SEL)didEndSelector contextInfo:(void *)contextInfo<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    // will this run as a sheet<span></span></pre></td></tr><tr><td scope="row"><pre>    mIsSheet = (window ? YES : NO);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // save the delegate, did end selector, and context info<span></span></pre></td></tr><tr><td scope="row"><pre>    mDelegate = delegate;<span></span></pre></td></tr><tr><td scope="row"><pre>    mDidEndSelector = didEndSelector;<span></span></pre></td></tr><tr><td scope="row"><pre>    mContextInfo = contextInfo;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // load the bundle (if necessary)<span></span></pre></td></tr><tr><td scope="row"><pre>    if (mPanel == nil)<span></span></pre></td></tr><tr><td scope="row"><pre>        [NSBundle loadNibNamed:@"OpenURLPanel" owner:self];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // start the sheet (or window)<span></span></pre></td></tr><tr><td scope="row"><pre>    [NSApp beginSheet:mPanel modalForWindow:window modalDelegate:nil didEndSelector:nil contextInfo:nil];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Add these lines to close it down:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)close<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    // close it down<span></span></pre></td></tr><tr><td scope="row"><pre>    [NSApp endSheet:mPanel];<span></span></pre></td></tr><tr><td scope="row"><pre>    [mPanel close];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li></ol><p>This completes the steps for adding code to your <code>OpenURLPanel.m</code> implementation file. There is only one more sequence of steps, described in the next section, before you can run and build your QTKitPlayer application for streaming audio and video.</p><a name="//apple_ref/doc/uid/TP40001245-CH208-TPXREF164" title="Adding Code to QTKitPlayerDelegate"></a><h3>Adding Code to QTKitPlayerDelegate</h3><p>In this next sequence of steps, you’ll be adding a small amount of code to your <code>QTKitPlayerAppDelegate.h</code> class interface file. </p><p>In Xcode 2.0, you’ll see the class model for the delegate, as shown in <span class="content_text">Figure 5-12</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40001245-CH208-BABDCHII" title="Figure 5-12Class model for delegate"></a><p><strong>Figure 5-12&nbsp;&nbsp;</strong>Class model for delegate</p><img src = "../Art/class_model_appdelegate.jpg" alt = "Class model for delegate" ></div><br/><p>To begin, in your QTKitPlayer project, choose File > New File. In the Assistant window for your new file in Xcode 2.0, select Cocoa > Objective-C class and in the window that opens enter the title <code>QTKitPlayerAppDelegate.h</code> and check the box that also lets you create a <code>QTKitPlayerAppDelegate.m</code> file. Now follow these steps:</p><ol class="ol"><li class="li"><p>Insert the following import code at the beginning of your file:</p><div class="codesample"><table><tr><td scope="row"><pre>#import &lt;Cocoa/Cocoa.h><span></span></pre></td></tr><tr><td scope="row"><pre>#import "OpenURLPanel.h"<span></span></pre></td></tr></table></div></li><li class="li"><p>Add the following declaration code after your import statements:</p><div class="codesample"><table><tr><td scope="row"><pre>@interface QTKitPlayerAppDelegate : NSObject<span></span></pre></td></tr></table></div></li><li class="li"><p>Define a NSMenu validation protocol with the following line of code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (BOOL)validateMenuItem:(NSMenuItem *)menuItem;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the OpenURLPanel delegates with the following lines of code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)openURLPanelDidEnd:(OpenURLPanel *)openURLPanel returnCode:(int)returnCode contextInfo:(void *)contextInfo;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the actions with the following lines of code: </p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction)doOpenURL:(id)sender;<span></span></pre></td></tr><tr><td scope="row"><pre>- (IBAction)doOpenURLData:(id)sender;<span></span></pre></td></tr></table></div></li><li class="li"><p>Define the method with the following line of code:</p><div class="codesample"><table><tr><td scope="row"><pre> - (BOOL)createMovieDocumentWithURL:(NSURL *)url asData:(BOOL)asData;<span></span></pre></td></tr></table></div></li></ol><p>You’re done with the <code>QTKitPlayerAppDelegate.h</code> declaration file.</p><a name="//apple_ref/doc/uid/TP40001245-CH208-TPXREF127" title="Adding Code To Your QTKitPlayerDelegate.m"></a><h3>Adding Code To Your QTKitPlayerDelegate.m</h3><p>In this next sequence of steps, you’ll be adding a larger chunk of code to your <code>QTKitPlayerAppDelegate.m</code> implementation file. </p><p>To begin, in the <code>QTKitPlayerAppDelegate.m</code> file, you want to follow these steps:</p><ol class="ol"><li class="li"><p>Insert the following import code at the beginning of your file:</p><div class="codesample"><table><tr><td scope="row"><pre>#import "QTKit/QTKit.h"<span></span></pre></td></tr><tr><td scope="row"><pre>#import "QTKitPlayerAppDelegate.h"<span></span></pre></td></tr><tr><td scope="row"><pre>#import “MovieDocument.h.”<span></span></pre></td></tr></table></div></li><li class="li"><p>Following your import statement, you want add these enumerations. Insert these lines:</p><div class="codesample"><table><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    kQTKitPlayerOpenAsURL = 0,<span></span></pre></td></tr><tr><td scope="row"><pre>    kQTKitPlayerOpenAsData<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div></li><li class="li"><p>You also want to add <code>QTKitPlayAppDelegate</code> after the <code>@implementation</code> directive. Insert this line:</p><div class="codesample"><table><tr><td scope="row"><pre>@implementation QTKitPlayerAppDelegate<span></span></pre></td></tr></table></div></li><li class="li"><p>Now you want to add the following lines for NSMenu validation protocols. Insert this block of code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (BOOL)validateMenuItem:(NSMenuItem *)menuItem<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    BOOLvalid = NO;<span></span></pre></td></tr><tr><td scope="row"><pre>    SEL action;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // init<span></span></pre></td></tr><tr><td scope="row"><pre>    action = [menuItem action];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // validate<span></span></pre></td></tr><tr><td scope="row"><pre>    if (action == @selector(doOpenURL:))<span></span></pre></td></tr><tr><td scope="row"><pre>        valid = YES;<span></span></pre></td></tr><tr><td scope="row"><pre>    else if (action == @selector(doOpenURLData:))<span></span></pre></td></tr><tr><td scope="row"><pre>        valid = YES;<span></span></pre></td></tr><tr><td scope="row"><pre>    else<span></span></pre></td></tr><tr><td scope="row"><pre>        valid = [[NSDocumentController sharedDocumentController] validateMenuItem:menuItem];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return valid;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Next, you need to add these OpenURLPanel delegates. Insert these lines:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)openURLPanelDidEnd:(OpenURLPanel *)openURLPanel returnCode:(int)returnCode contextInfo:(void *)contextInfo<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    BOOL closePanel = YES;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // create the movie document<span></span></pre></td></tr><tr><td scope="row"><pre>    if (returnCode == NSOKButton)<span></span></pre></td></tr><tr><td scope="row"><pre>        closePanel = [self createMovieDocumentWithURL:[openURLPanel url] asData:((long)contextInfo == kQTKitPlayerOpenAsData)];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if (closePanel)<span></span></pre></td></tr><tr><td scope="row"><pre>        [openURLPanel close];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Insert the following code to handle the necessary actions for opening the sheet with a window:</p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction)doOpenURL:(id)sender<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [[OpenURLPanel openURLPanel] beginSheetWithWindow:nil delegate:self didEndSelector:@selector(openURLPanelDidEnd:returnCode:contextInfo:) contextInfo:((void *)kQTKitPlayerOpenAsURL)];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (IBAction)doOpenURLData:(id)sender<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [[OpenURLPanel openURLPanel] beginSheetWithWindow:nil delegate:self didEndSelector:@selector(openURLPanelDidEnd:returnCode:contextInfo:) contextInfo:((void *)kQTKitPlayerOpenAsData)];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>These are the methods you need to create and set up the movie document with an associated URL. Insert this chunk of code:</p><div class="codesample"><table><tr><td scope="row"><pre>- (BOOL)createMovieDocumentWithURL:(NSURL *)url asData:(BOOL)asData<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSDocument  *movieDocument = nil;<span></span></pre></td></tr><tr><td scope="row"><pre>    NSDocumentController*documentController;<span></span></pre></td></tr><tr><td scope="row"><pre>    BOOL            success = YES;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // init<span></span></pre></td></tr><tr><td scope="row"><pre>    documentController = [NSDocumentController sharedDocumentController];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // try to create the document from the URL<span></span></pre></td></tr><tr><td scope="row"><pre>    if (url)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        if (asData)<span></span></pre></td></tr><tr><td scope="row"><pre>            movieDocument = [documentController makeDocumentWithContentsOfURL:url ofType:@"MovieDocumentData"];<span></span></pre></td></tr><tr><td scope="row"><pre>        else<span></span></pre></td></tr><tr><td scope="row"><pre>            movieDocument = [documentController makeDocumentWithContentsOfURL:url ofType:@"MovieDocument"];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // add the document<span></span></pre></td></tr><tr><td scope="row"><pre>    if (movieDocument)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        [documentController addDocument:movieDocument];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        // setup<span></span></pre></td></tr><tr><td scope="row"><pre>        [movieDocument makeWindowControllers];<span></span></pre></td></tr><tr><td scope="row"><pre>        [movieDocument updateChangeCount:NSChangeCleared];<span></span></pre></td></tr><tr><td scope="row"><pre>        [movieDocument showWindows];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    else<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        NSRunAlertPanel(@"Invalid movie", @"The url is not a valid movie.", nil, nil, nil);<span></span></pre></td></tr><tr><td scope="row"><pre>        success = NO;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return success;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li></ol><p>This wraps up the code additions for your QTKitPlayer application. Now you’re ready to build and compile the application and play streaming audio and video over the Internet.</p><a name="//apple_ref/doc/uid/TP40001245-CH208-SW3" title="What&acirc;&#128;&#153;s Next?"></a><h2>What’s Next?</h2><p>You’ve extended the QTKitPlayer beyond its early incarnations as a simple media player, adding editing, importing, exporting, and now streaming capabilities. In the next chapter, you’ll provide new enhancements to the player that will enable you to play back as many as six different QuickTime movies, including QuickTime VR, streaming audio and video, wired sprite movies, and other multimedia content. </p><p>You’ll have a multimedia engine at your disposal that you can use to launch a variety of QuickTime content, much as you would do with an interactive movie kiosk. The steps to create this engine are spelled out in the next chapter and enable you to build on what you’ve learned so far in this programming guide.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Chapter05/AddingToQTKitPlayer.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Chapter07/AddingMultimediaPlayback.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-11-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/Conceptual/QTKitProgrammingGuide/Chapter06/AddingStreaming.html%3Fid%3DTP40001245-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/Conceptual/QTKitProgrammingGuide/Chapter06/AddingStreaming.html%3Fid%3DTP40001245-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/Conceptual/QTKitProgrammingGuide/Chapter06/AddingStreaming.html%3Fid%3DTP40001245-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>