<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>CTLine Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="CTLine Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005111-DontLinkChapterID_1" title="CTLine Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxTextFonts-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">CTLine Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005111-DontLinkChapterID_1-DontLinkElementID_25" title="CTLine Reference"></a><h1>CTLine Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Derived from</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><span class="content_text"><!--a target="_top" -->CFType<!--/a--></span></span></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../CoreText_Framework_Ref/index.html#//apple_ref/doc/uid/TP40005304" target="_top">ApplicationServices</a>/CoreText</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CTLine.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40005111-CH1-DontLinkElementID_20" title="Overview"></a><h2>Overview</h2><p>The CTLine opaque type represents a line of text.</p><p>A CTLine object contains an array of glyph runs. Line objects are created by the typesetter during a framesetting operation and can draw themselves directly into a graphics context.</p><a name="//apple_ref/doc/uid/TP40005111-DontLinkChapterID_1-DontLinkElementID_21" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_2" title="Creating Lines"></a>
    
    <h3 class="tasks">Creating Lines</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineCreateWithAttributedString">CTLineCreateWithAttributedString</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a single immutable line object directly from an attributed string.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineCreateTruncatedLine">CTLineCreateTruncatedLine</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a truncated line from an existing line.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineCreateJustifiedLine">CTLineCreateJustifiedLine</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a justified line from an existing line.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_5" title="Drawing the Line"></a>
    
    <h3 class="tasks">Drawing the Line</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineDraw">CTLineDraw</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Draws a complete line.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_7" title="Getting Line Data"></a>
    
    <h3 class="tasks">Getting Line Data</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetGlyphCount">CTLineGetGlyphCount</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the total glyph count for the line object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetGlyphRuns">CTLineGetGlyphRuns</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the array of glyph runs that make up the line object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetStringRange">CTLineGetStringRange</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the range of characters that originally spawned the glyphs in the line.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetPenOffsetForFlush">CTLineGetPenOffsetForFlush</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the pen offset required to draw flush text.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_12" title="Measuring Lines"></a>
    
    <h3 class="tasks">Measuring Lines</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetImageBounds">CTLineGetImageBounds</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Calculates the image bounds for a line.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetTypographicBounds">CTLineGetTypographicBounds</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Calculates the typographic bounds of a line.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetTrailingWhitespaceWidth">CTLineGetTrailingWhitespaceWidth</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the trailing whitespace width for a line.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_16" title="Getting Line Positioning"></a>
    
    <h3 class="tasks">Getting Line Positioning</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetStringIndexForPosition">CTLineGetStringIndexForPosition</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs hit testing.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetOffsetForStringIndex">CTLineGetOffsetForStringIndex</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the graphical offset or offsets for a string index.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_18" title="Getting the Type Identifier"></a>
    
    <h3 class="tasks">Getting the Type Identifier</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CTLineGetTypeID">CTLineGetTypeID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the Core Foundation type identifier of the line object.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_22" title="Functions"></a><h2>Functions</h2><a name="//apple_ref/c/func/CTLineCreateJustifiedLine" title="CTLineCreateJustifiedLine"></a><a name="//apple_ref/doc/c_ref/CTLineCreateJustifiedLine" title="CTLineCreateJustifiedLine"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_4" title="CTLineCreateJustifiedLine"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_27"></a><h3 class="tight">CTLineCreateJustifiedLine</h3><p class="spaceabove">Creates a justified line from an existing line.</p><p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> CTLineCreateJustifiedLine( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line, <!--a-->CGFloat<!--/a--> justificationFactor, double justificationWidth );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line from which to create a justified line.</p></dd><dt><em>justificationFactor</em></dt><dd><p>Full or partial justification. When set to <code>1.0</code> or greater, full justification is performed. If this parameter is set to less than <code>1.0</code>, varying degrees of partial justification are performed. If it is set to <code>0</code> or less, no justification is performed.</p></dd><dt><em>justificationWidth</em></dt><dd><p>The width to which the resultant line is justified. If <em>justificationWidth</em> is less than the actual width of the line, then negative justification is performed (that is, glyphs are squeezed together).</p></dd></dl><h5 class="tight">Return Value</h5><p>A reference to a justified CTLine object if the call was successful; otherwise, <code>NULL</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineCreateTruncatedLine" title="CTLineCreateTruncatedLine"></a><a name="//apple_ref/doc/c_ref/CTLineCreateTruncatedLine" title="CTLineCreateTruncatedLine"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-SW1" title="CTLineCreateTruncatedLine"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_28"></a><h3 class="tight">CTLineCreateTruncatedLine</h3><p class="spaceabove">Creates a truncated line from an existing line.</p><p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> CTLineCreateTruncatedLine( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line, double width, <a href="reference.html#//apple_ref/doc/c_ref/CTLineTruncationType">CTLineTruncationType</a> truncationType, <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> truncationToken );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line from which to create a truncated line.</p></dd><dt><em>width</em></dt><dd><p>The width at which truncation begins. The line is truncated if its width is greater than the width passed in this parameter.</p></dd><dt><em>truncationType</em></dt><dd><p>The type of truncation to perform if needed. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/CTLineTruncationType">“CTLineTruncationType”</a></span> for possible values.</p></dd><dt><em>truncationToken</em></dt><dd><p>This token is added at the point where truncation took place, to indicate that the line was truncated. Usually, the truncation token is the ellipsis character (<code>U+2026</code>). If this parameter is set to <code>NULL</code>, then no truncation token is used and the line is simply cut off.</p></dd></dl><h5 class="tight">Return Value</h5><p>A reference to a truncated CTLine object if the call was successful; otherwise, <code>NULL</code>.</p><h5 class="tight">Discussion</h5><p>The line specified in <em>truncationToken</em> should have a width less than the width specified by the <em>width</em> parameter. If the width of the line specified in <em>truncationToken</em> is greater than <em>width</em> and truncation is needed, the function returns <code>NULL</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineCreateWithAttributedString" title="CTLineCreateWithAttributedString"></a><a name="//apple_ref/doc/c_ref/CTLineCreateWithAttributedString" title="CTLineCreateWithAttributedString"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_3" title="CTLineCreateWithAttributedString"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_29"></a><h3 class="tight">CTLineCreateWithAttributedString</h3><p class="spaceabove">Creates a single immutable line object directly from an attributed string.</p><p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> CTLineCreateWithAttributedString( <a href="../../../../CoreFoundation/Reference/CFAttributedString/Reference/reference.html#//apple_ref/doc/c_ref/CFAttributedStringRef" target="_top">CFAttributedStringRef</a> string );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>string</em></dt><dd><p>The string from which the line is created.</p></dd></dl><h5 class="tight">Return Value</h5><p>A reference to a CTLine object if the call was successful; otherwise, <code>NULL</code>.</p><h5 class="tight">Discussion</h5><p>This function allows clients who need very simple line generation to create a line without creating a typesetter object. The typesetting is done under the hood. Without a typesetter object, the line cannot be properly broken. However, for simple things like text labels, line breaking is not an issue.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineDraw" title="CTLineDraw"></a><a name="//apple_ref/doc/c_ref/CTLineDraw" title="CTLineDraw"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_6" title="CTLineDraw"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_30"></a><h3 class="tight">CTLineDraw</h3><p class="spaceabove">Draws a complete line.</p><p class="spaceabove"><pre>
void CTLineDraw( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line, <a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> context );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line to draw.</p></dd><dt><em>context</em></dt><dd><p>The context into which the line is drawn.</p></dd></dl><h5 class="tight">Discussion</h5><p>This is a convenience function because the line could be drawn run-by-run by getting the glyph runs, getting the glyphs out of them, and calling a function such as <code><a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextShowGlyphsAtPositions" target="_top">CGContextShowGlyphsAtPositions</a></code>. This call can leave the graphics context in any state and does not flush the context after the draw operation.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetGlyphCount" title="CTLineGetGlyphCount"></a><a name="//apple_ref/doc/c_ref/CTLineGetGlyphCount" title="CTLineGetGlyphCount"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_8" title="CTLineGetGlyphCount"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_31"></a><h3 class="tight">CTLineGetGlyphCount</h3><p class="spaceabove">Returns the total glyph count for the line object.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> CTLineGetGlyphCount( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line whose glyph count is returned.</p></dd></dl><h5 class="tight">Return Value</h5><p>The total glyph count for the line passed in.</p><h5 class="tight">Discussion</h5><p>The total glyph count is equal to the sum of all of the glyphs in the glyph runs forming the line.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetGlyphRuns" title="CTLineGetGlyphRuns"></a><a name="//apple_ref/doc/c_ref/CTLineGetGlyphRuns" title="CTLineGetGlyphRuns"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_9" title="CTLineGetGlyphRuns"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_32"></a><h3 class="tight">CTLineGetGlyphRuns</h3><p class="spaceabove">Returns the array of glyph runs that make up the line object.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> CTLineGetGlyphRuns( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line whose glyph run array is returned.</p></dd></dl><h5 class="tight">Return Value</h5><p>A <code><a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/c/tdef/CFArrayRef" target="_top">CFArrayRef</a></code> containing the CTRun objects that make up the line.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetImageBounds" title="CTLineGetImageBounds"></a><a name="//apple_ref/doc/c_ref/CTLineGetImageBounds" title="CTLineGetImageBounds"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_13" title="CTLineGetImageBounds"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_33"></a><h3 class="tight">CTLineGetImageBounds</h3><p class="spaceabove">Calculates the image bounds for a line.</p><p class="spaceabove"><pre>
<a href="../../../../GraphicsImaging/Reference/CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGRect" target="_top">CGRect</a> CTLineGetImageBounds( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line, <a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> context );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line whose image bounds are calculated.</p></dd><dt><em>context</em></dt><dd><p>The context for which the image bounds are calculated. This is required because the context could have settings in it that would cause changes in the image bounds.</p></dd></dl><h5 class="tight">Return Value</h5><p>A rectangle that tightly encloses the paths of the line's glyphs, or, if the line or context is invalid, <code><a href="../../../../GraphicsImaging/Reference/CGGeometry/Reference/reference.html#//apple_ref/c/data/CGRectNull" target="_top">CGRectNull</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetOffsetForStringIndex" title="CTLineGetOffsetForStringIndex"></a><a name="//apple_ref/doc/c_ref/CTLineGetOffsetForStringIndex" title="CTLineGetOffsetForStringIndex"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_17" title="CTLineGetOffsetForStringIndex"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_34"></a><h3 class="tight">CTLineGetOffsetForStringIndex</h3><p class="spaceabove">Determines the graphical offset or offsets for a string index.</p><p class="spaceabove"><pre>
<!--a-->CGFloat<!--/a--> CTLineGetOffsetForStringIndex( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line, <a href="../../../../CoreFoundation/Reference/CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> charIndex, <!--a-->CGFloat<!--/a-->* secondaryOffset );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line from which the offset is requested.</p></dd><dt><em>charIndex</em></dt><dd><p>The string index corresponding to the desired position.</p></dd><dt><em>secondaryOffset</em></dt><dd><p>On output, the secondary offset along the baseline for <em>charIndex</em>. When a single caret is sufficient for a string index, this value will be the same as the primary offset, which is the return value of this function. May be <code>NULL</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>The primary offset along the baseline for <em>charIndex</em>, or <code>0.0</code> if the line does not support string access.</p><h5 class="tight">Discussion</h5><p>This function returns the graphical offset or offsets corresponding to a string index, suitable for movement between adjacent lines or for drawing a custom caret. For moving between adjacent lines, the primary offset can be adjusted for any relative indentation of the two lines; a <code><a href="../../../../GraphicsImaging/Reference/CGGeometry/Reference/reference.html#//apple_ref/c/tdef/CGPoint" target="_top">CGPoint</a></code> constructed with the adjusted offset for its <code>x</code> value and <code>0.0</code> for its <code>y</code> value is suitable for passing to <code><a href="reference.html#//apple_ref/c/func/CTLineGetStringIndexForPosition">CTLineGetStringIndexForPosition</a></code>. For drawing a custom caret, the returned primary offset corresponds to the portion of the caret that represents the visual insertion location for a character whose direction matches the line's writing direction.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetPenOffsetForFlush" title="CTLineGetPenOffsetForFlush"></a><a name="//apple_ref/doc/c_ref/CTLineGetPenOffsetForFlush" title="CTLineGetPenOffsetForFlush"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_11" title="CTLineGetPenOffsetForFlush"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_35"></a><h3 class="tight">CTLineGetPenOffsetForFlush</h3><p class="spaceabove">Gets the pen offset required to draw flush text.</p><p class="spaceabove"><pre>
double CTLineGetPenOffsetForFlush( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line, <!--a-->CGFloat<!--/a--> flushFactor, double flushWidth );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line from which to obtain a flush position.</p></dd><dt><em>flushFactor</em></dt><dd><p>Determines the type of flushness. A <em>flushFactor</em> of <code>0</code> or less indicates left flush. A <em>flushFactor</em> of <code>1.0</code> or more indicates right flush. Flush factors between <code>0</code> and <code>1.0</code> indicate varying degrees of center flush, with a value of <code>0.5</code> being totally center flush.</p></dd><dt><em>flushWidth</em></dt><dd><p>Specifies the width to which the flushness operation should apply.</p></dd></dl><h5 class="tight">Return Value</h5><p>The offset from the current pen position for the flush operation.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetStringIndexForPosition" title="CTLineGetStringIndexForPosition"></a><a name="//apple_ref/doc/c_ref/CTLineGetStringIndexForPosition" title="CTLineGetStringIndexForPosition"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-SW3" title="CTLineGetStringIndexForPosition"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_36"></a><h3 class="tight">CTLineGetStringIndexForPosition</h3><p class="spaceabove">Performs hit testing.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> CTLineGetStringIndexForPosition( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line, <a href="../../../../GraphicsImaging/Reference/CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGPoint" target="_top">CGPoint</a> position );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line being examined.</p></dd><dt><em>position</em></dt><dd><p>The location of the mouse click relative to the line's origin.</p></dd></dl><h5 class="tight">Return Value</h5><p>The string index for the position, or if the line does not support string access, <code><a href="../../../../CoreFoundation/Reference/CFBaseUtils/Reference/reference.html#//apple_ref/c/econst/kCFNotFound" target="_top">kCFNotFound</a></code>. Relative to the line's string range, this value can be no less than the first string index and no greater than the last string index plus 1.</p><h5 class="tight">Discussion</h5><p>This function can be used to determine the string index for a mouse click or other event. This string index corresponds to the character before which the next character should be inserted. This determination is made by analyzing the string from which a typesetter was created and the corresponding glyphs as embodied by a particular line.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetStringRange" title="CTLineGetStringRange"></a><a name="//apple_ref/doc/c_ref/CTLineGetStringRange" title="CTLineGetStringRange"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_10" title="CTLineGetStringRange"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_37"></a><h3 class="tight">CTLineGetStringRange</h3><p class="spaceabove">Gets the range of characters that originally spawned the glyphs in the line.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFRange" target="_top">CFRange</a> CTLineGetStringRange( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line from which to obtain the string range.</p></dd></dl><h5 class="tight">Return Value</h5><p>A <code><a href="../../../../CoreFoundation/Reference/CFBaseUtils/Reference/reference.html#//apple_ref/c/tdef/CFRange" target="_top">CFRange</a></code> structure that contains the range over the backing store string that spawned the glyphs, or if the function fails for any reason, an empty range.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetTrailingWhitespaceWidth" title="CTLineGetTrailingWhitespaceWidth"></a><a name="//apple_ref/doc/c_ref/CTLineGetTrailingWhitespaceWidth" title="CTLineGetTrailingWhitespaceWidth"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_15" title="CTLineGetTrailingWhitespaceWidth"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_38"></a><h3 class="tight">CTLineGetTrailingWhitespaceWidth</h3><p class="spaceabove">Returns the trailing whitespace width for a line.</p><p class="spaceabove"><pre>
double CTLineGetTrailingWhitespaceWidth( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line whose trailing whitespace width is calculated. </p></dd></dl><h5 class="tight">Return Value</h5><p>The width of the line's trailing whitespace. If the line is invalid, this function will always return zero.</p><h5 class="tight">Discussion</h5><p>Creating a line for a width can result in a line that is actually longer than the desired width due to trailing whitespace. Although this is typically not an issue due to whitespace being invisible, this function can be used to determine what amount of a line's width is due to trailing whitespace.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetTypeID" title="CTLineGetTypeID"></a><a name="//apple_ref/doc/c_ref/CTLineGetTypeID" title="CTLineGetTypeID"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_19" title="CTLineGetTypeID"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_39"></a><h3 class="tight">CTLineGetTypeID</h3><p class="spaceabove">Returns the Core Foundation type identifier of the line object.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeID" target="_top">CFTypeID</a> CTLineGetTypeID( void );
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/c/func/CTLineGetTypographicBounds" title="CTLineGetTypographicBounds"></a><a name="//apple_ref/doc/c_ref/CTLineGetTypographicBounds" title="CTLineGetTypographicBounds"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_14" title="CTLineGetTypographicBounds"></a><a name="//apple_ref/doc/uid/TP40005111-CH3-DontLinkElementID_40"></a><h3 class="tight">CTLineGetTypographicBounds</h3><p class="spaceabove">Calculates the typographic bounds of a line.</p><p class="spaceabove"><pre>
double CTLineGetTypographicBounds( <a href="reference.html#//apple_ref/doc/c_ref/CTLineRef">CTLineRef</a> line, <!--a-->CGFloat<!--/a-->* ascent, <!--a-->CGFloat<!--/a-->* descent, <!--a-->CGFloat<!--/a-->* leading );
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>line</em></dt><dd><p>The line whose typographic bounds are calculated.</p></dd><dt><em>ascent</em></dt><dd><p>On output, the ascent of the line. This parameter can be set to <code>NULL</code> if not needed.</p></dd><dt><em>descent</em></dt><dd><p>On output, the descent of the line. This parameter can be set to <code>NULL</code> if not needed.</p></dd><dt><em>leading</em></dt><dd><p>On output, the leading of the line. This parameter can be set to <code>NULL</code> if not needed.</p></dd></dl><h5 class="tight">Return Value</h5><p>The typographic width of the line. If the line is invalid, this function returns <code>0</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/doc/uid/TP40005111-CH5-DontLinkElementID_23" title="Data Types"></a><h2>Data Types</h2><a name="//apple_ref/c/tdef/CTLineRef" title="CTLineRef"></a><a name="//apple_ref/doc/c_ref/CTLineRef" title="CTLineRef"></a><a name="//apple_ref/doc/uid/TP40005111-CH5-DontLinkElementID_1" title="CTLineRef"></a><a name="//apple_ref/doc/uid/TP40005111-CH5-DontLinkElementID_41"></a><h3 class="tight">CTLineRef</h3><p class="spaceabove">A reference to a line object.</p><p class="spaceabove"><pre>
typedef const struct __CTLine *CTLineRef;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CTLine.h</code><a name="//apple_ref/doc/uid/TP40005111-CH4-DontLinkElementID_24" title="Constants"></a><h2>Constants</h2><a name="//apple_ref/c/tdef/CTLineTruncationType" title="CTLineTruncationType" role="Enum"></a><a name="//apple_ref/doc/c_ref/CTLineTruncationType" title="CTLineTruncationType" role="Enum"></a><a name="//apple_ref/doc/uid/TP40005111-CH4-SW1" title="CTLineTruncationType" role="Enum"></a><a name="//apple_ref/doc/uid/TP40005111-CH4-DontLinkElementID_42"></a><h3 class="tight">CTLineTruncationType</h3><p class="spaceabove">Truncation types required by the <code><a href="reference.html#//apple_ref/c/func/CTLineCreateTruncatedLine">CTLineCreateTruncatedLine</a></code> function to tell the truncation engine which type of truncation is being requested.</p><p class="spaceabove"><pre>
enum{
   <a href="reference.html#//apple_ref/doc/c_ref/kCTLineTruncationStart">kCTLineTruncationStart</a> = 0,
   <a href="reference.html#//apple_ref/doc/c_ref/kCTLineTruncationEnd">kCTLineTruncationEnd</a> = 1,
   <a href="reference.html#//apple_ref/doc/c_ref/kCTLineTruncationMiddle">kCTLineTruncationMiddle</a> = 2
};
typedef uint32_t CTLineTruncationType;
</pre></p><h5 class="tight">Constants</h5><dl class="termdef"><a name="//apple_ref/c/econst/kCTLineTruncationStart" title="kCTLineTruncationStart"></a><a name="//apple_ref/doc/c_ref/kCTLineTruncationStart" title="kCTLineTruncationStart"></a><a name="//apple_ref/doc/uid/TP40005111-CH4-DontLinkElementID_43"></a><dt><code>kCTLineTruncationStart</code></dt><dd><p>Truncate the beginning of the line, leaving the end portion visible.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>CTLine.h</code>.</p></dd><a name="//apple_ref/c/econst/kCTLineTruncationEnd" title="kCTLineTruncationEnd"></a><a name="//apple_ref/doc/c_ref/kCTLineTruncationEnd" title="kCTLineTruncationEnd"></a><a name="//apple_ref/doc/uid/TP40005111-CH4-DontLinkElementID_44"></a><dt><code>kCTLineTruncationEnd</code></dt><dd><p>Truncate the end of the line, leaving the start portion visible.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>CTLine.h</code>.</p></dd><a name="//apple_ref/c/econst/kCTLineTruncationMiddle" title="kCTLineTruncationMiddle"></a><a name="//apple_ref/doc/c_ref/kCTLineTruncationMiddle" title="kCTLineTruncationMiddle"></a><a name="//apple_ref/doc/uid/TP40005111-CH4-DontLinkElementID_45"></a><dt><code>kCTLineTruncationMiddle</code></dt><dd><p>Truncate the middle of the line, leaving both the start and the end portions visible.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>CTLine.h</code>.</p></dd></dl><h5 class="tight">Declared In</h5><code>CTLine.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-05-24<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/CTLineRef/Reference/reference.html%3Fid%3DTP40005111-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/CTLineRef/Reference/reference.html%3Fid%3DTP40005111-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/CTLineRef/Reference/reference.html%3Fid%3DTP40005111-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>