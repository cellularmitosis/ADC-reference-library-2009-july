<html><head><title>Mac OS X
 Manual Page For snmptrapd(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/snmptrapd" title="Mac OS X
 Manual Page for snmptrapd(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/snmptrapd"; name=snmptrapd(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SNMPTRAPD(8)                                      Net-SNMP                                      SNMPTRAPD(8)



<b>NAME</b>
       snmptrapd - Receive and log SNMP trap messages.

<b>SYNOPSIS</b>
       <b>snmptrapd</b> [OPTIONS] [LISTENING ADDRESSES]

<b>DESCRIPTION</b>
       <b>snmptrapd</b> is an SNMP application that receives and logs SNMP TRAP and INFORM messages.

       Note:  the  default  is  to listen on UDP port 162 on all IPv4 interfaces.  Since 162 is a privileged
       port, <b>snmptrapd</b> must typically be run as root.

<b>OPTIONS</b>
       <b>-a</b>      Ignore authenticationFailure traps.

       <b>-A</b>      Append to the log file rather than truncating it.

       <b>-c</b> <u>FILE</u> Read <u>FILE</u> as a configuration file.

       <b>-C</b>      Do not read any configuration files except the one optionally specified by the <b>-c</b> option.

       <b>-d</b>      Dump (in hexadecimal) the sent and received SNMP packets.

       <b>-D</b> <u>TOKEN[,...]</u>
               Turn on debugging output for the given <!-- a --><u>TOKEN</u>(s)<!-- /a -->.  Try <u>ALL</u> for extremely verbose output.

       <b>-e</b>      Print event numbers (rising/falling alarm etc.) from the (obsolete) M2M-MIB.
               This functionality is being deprecated and will be removed in due course.

       <b>-f</b>      Do not fork() from the calling shell.

       <b>-F</b> <u>FORMAT</u>
               When logging to standard output, use the format in the string <u>FORMAT</u>.  See the section <b>FORMAT</b>
               <b>SPECIFICATIONS</b> below for more details.

       <b>-h,</b> <b>--help</b>
               Display a brief usage message and then exit.

       <b>-H</b>      Display  a list of configuration file directives understood by the trap daemon and then exit.

       <b>-I</b> <u>[-]INITLIST</u>
               Specifies which modules should (or should not) be initialized when snmptrapd starts  up.   If
               the  comma-separated  <u>INITLIST</u>  is preceded with a '-', it is the list of modules that should
               <u>not</u> be started.  Otherwise this is the list of the <u>only</u> modules that should be started.

               To get a list of compiled modules, run snmptrapd with the arguments <u>-Dmib</u><b>_</b><u>init</u>  <u>-H</u>  (assuming
               debugging support has been compiled in).

       <b>-L[efos]</b>
               Specify  where  logging output should be directed (standard error or output, to a file or via
               syslog).  See LOGGING OPTIONS in <a href="../man1/snmpcmd.1.html#//apple_ref/doc/man/1/snmpcmd"><u>snmpcmd(1)</u></a><u></u> for details.

       <b>-m</b> <u>MIBLIST</u>
               Specifies a colon separated list of MIB modules to load for this application.  This overrides
               the environment variable MIBS.  See <a href="../man1/snmpcmd.1.html#//apple_ref/doc/man/1/snmpcmd"><u>snmpcmd(1)</u></a><u></u> for details.

       <b>-M</b> <u>DIRLIST</u>
               Specifies a colon separated list of directories to search for MIBs.  This overrides the envi-<font color="#ffffff" class="whiteout">ronment&nbsp;environment</font>
               ronment variable MIBDIRS.  See <a href="../man1/snmpcmd.1.html#//apple_ref/doc/man/1/snmpcmd"><u>snmpcmd(1)</u></a><u></u> for details.

       <b>-n</b>      Do not attempt to translate source addresses of incoming packets into hostnames.

       <b>-p</b> <u>FILE</u> Save the process ID of the trap daemon in <u>FILE</u>.

       <b>-O</b> <u>[abeEfnqQsStTuUvxX]</u>
               Specifies how MIB objects and other output should  be  displayed.   See  the  section  <b>OUTPUT</b>
               <b>OPTIONS</b> in the <a href="../man1/snmpcmd.1.html#//apple_ref/doc/man/1/snmpcmd"><u>snmpcmd(1)</u></a><u></u> manual page for details.

       <b>-t</b>      Do not log traps to syslog.  This disables logging to syslog.  This is useful if you want the
               snmptrapd application to <b>only</b> run traphandle hooks and not to log any traps to any  location.

       <b>-v,</b> <b>--version</b>
               Print version information for the trap daemon and then exit.

       <b>-x</b> <u>ADDRESS</u>
               Connect  to  the  AgentX  master  agent  on  the  specified  address, rather than the default
               AGENTX_SOCKET.  See <a href="snmpd.8.html#//apple_ref/doc/man/8/snmpd"><u>snmpd(8)</u></a><u></u> for details of the format of such addresses.

       <b>--</b><u>name</u><b>="value"</b>
               Allows to specify any token ("name") supported in the <u>snmptrapd.conf</u> file and sets its  value
               to   "value".   Overrides   the   corresponding   token   in  the  <u>snmptrapd.conf</u>  file.  See
               <a href="../man5/snmptrapd.conf.5.html#//apple_ref/doc/man/5/snmptrapd.conf"><u>snmptrapd.conf(5)</u></a><u></u> for the full list of tokens.

<b>FORMAT</b> <b>SPECIFICATIONS</b>
       <b>snmptrapd</b> interprets format strings similarly to <a href="../man3/printf.3.html#//apple_ref/doc/man/3/printf"><u>printf(3)</u></a><u></u>.  It understands the following  formatting
       sequences:

           <b>%%</b>  a literal %

           <b>%a</b>  the contents of the agent-addr field of the PDU (v1 TRAPs only)

           <b>%A</b>  the  hostname corresponding to the contents of the agent-addr field of the PDU, if available,
               otherwise the contents of the agent-addr field of the PDU (v1 TRAPs only).

           <b>%b</b>  PDU source address (Note: this is not necessarily an IPv4 address)

           <b>%B</b>  PDU source hostname if available, otherwise PDU source address (see note above)

           <b>%h</b>  current hour on the local system

           <b>%H</b>  the hour field from the sysUpTime.0 varbind

           <b>%j</b>  current minute on the local system

           <b>%J</b>  the minute field from the sysUpTime.0 varbind

           <b>%k</b>  current second on the local system

           <b>%K</b>  the seconds field from the sysUpTime.0 varbind

           <b>%l</b>  current day of month on the local system

           <b>%L</b>  the day of month field from the sysUpTime.0 varbind

           <b>%m</b>  current (numeric) month on the local system

           <b>%M</b>  the numeric month field from the sysUpTime.0 varbind

           <b>%N</b>  enterprise string

           <b>%q</b>  trap sub-type (numeric, in decimal)

           <b>%P</b>  security information from the PDU (community name for v1/v2c, user and context for v3)

           <b>%t</b>  decimal number of seconds since the operating system epoch (as returned by <!-- a --><u>time(2)</u><!-- /a --><u></u>)

           <b>%T</b>  the value of the sysUpTime.0 varbind in seconds

           <b>%v</b>  list of variable-bindings from the notification payload.  These will be separated by  a  tab,
               or by a comma and a blank if the alternate form is requested See also %V

           <b>%V</b>  specifies  the  variable-bindings  separator.  This takes a sequence of characters, up to the
               next % (to embed a % in the string, use \%)

           <b>%w</b>  trap type (numeric, in decimal)

           <b>%W</b>  trap description

           <b>%y</b>  current year on the local system

           <b>%Y</b>  the year field from the sysUpTime.0 varbind

       In addition to these values, an optional field width and precision may also be specified , just as in
       <a href="../man3/printf.3.html#//apple_ref/doc/man/3/printf"><u>printf(3)</u></a><u></u>, and a flag value. The following flags are supported:

           <b>-</b>   left justify

           <b>0</b>   use leading zeros

           <b>#</b>   use alternate form

       The "use alternate form" flag changes the behavior of various format string sequences:

              Time information will be displayed based on GMT (rather than the local timezone)

              The variable-bindings will be a comma-separated list (rather than a tab-separated one)

              The system uptime will be broken down into a human-meaningful format (rather than being a sim-<font color="#ffffff" class="whiteout">ple&nbsp;simple</font>
              ple integer)

   <b>Examples:</b>
       To get a message like "14:03 TRAP3.1 from humpty.ucd.edu" you could use something like this:

              snmptrapd -P -F "%02.2h:%02.2j TRAP%w.%q from %A\n"

       If you want the same thing but in GMT rather than local time, use

              snmptrapd -P -F "%#02.2h:%#02.2j TRAP%w.%q from %A\n"

<b>LISTENING</b> <b>ADDRESSES</b>
       By default, <b>snmptrapd</b> listens for incoming SNMP TRAP and INFORM packets on UDP port 162 on  all  IPv4
       interfaces.   However,  it  is  possible to modify this behaviour by specifying one or more listening
       addresses as arguments to <b>snmptrapd</b>.  See the <a href="snmpd.8.html#//apple_ref/doc/man/8/snmpd"><u>snmpd(8)</u></a><u></u> manual page for  more  information  about  the
       format of listening addresses.

<b>NOTIFICATION-LOG-MIB</b> <b>SUPPORT</b>
       As  of  net-snmp  5.0,  the snmptrapd application supports the NOTIFICATION-LOG-MIB.  It does this by
       opening an AgentX subagent connection to the master snmpd agent and registering the notification  log
       tables.   As long as the snmpd application is started first, it will attach itself to it and thus you
       should be able to view the last recorded notifications via the nlmLogTable  and  nlmLogVariableTable.
       See  the  snmptrapd.conf  file  and the "dontRetainLogs" token for turning off this support.  See the
       NOTIFICATION-LOG-MIB for more details about the MIB itself.

<b>EXTENSIBILITY</b> <b>AND</b> <b>CONFIGURATION</b>
       See the <a href="../man5/snmptrapd.conf.5.html#//apple_ref/doc/man/5/snmptrapd.conf"><u>snmptrapd.conf(5)</u></a><u></u> manual page.

<b>SEE</b> <b>ALSO</b>
       <a href="../man1/snmpcmd.1.html#//apple_ref/doc/man/1/snmpcmd">snmpcmd(1)</a>, <a href="snmpd.8.html#//apple_ref/doc/man/8/snmpd">snmpd(8)</a>, <a href="../man3/printf.3.html#//apple_ref/doc/man/3/printf">printf(3)</a>, <a href="../man5/snmptrapd.conf.5.html#//apple_ref/doc/man/5/snmptrapd.conf">snmptrapd.conf(5)</a>, <!-- a -->syslog(8)<!-- /a -->, <a href="../man5/variables.5.html#//apple_ref/doc/man/5/variables">variables(5)</a>



4th Berkeley Distribution                        15 Jan 2004                                    SNMPTRAPD(8)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/snmptrapd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/snmptrapd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/snmptrapd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
