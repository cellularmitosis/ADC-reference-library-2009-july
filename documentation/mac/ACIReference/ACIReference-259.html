<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>CWConcatColorWorld(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING259></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-258.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-260.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-218.html"><B>ColorSync Manager Functions</B></A><BR><DL><DD><A HREF="ACIReference-257.html"><B>Matching Colors Using Low-Level Functions Without QuickDraw</B></A> / <A HREF="ACIReference-204.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING259-0></A>
<H3><A NAME=MARKER-11-393></A><A NAME=MARKER-9-394></A>CWConcatColorWorld</H3>
 Sets up a color world that includes a set of profiles for various color transformations among devices in a sequence.<P>
<PRE>
pascal CMError CWConcatColorWorld (
CMWorldRef *cw,
CMConcatProfileSet *profileSet);
</PRE>
<DL>
<DT><CODE>cw</CODE>
<DD> A pointer to a color world. On output, a reference to a color world <A HREF=ACIReference-214.html#MARKER-9-308>(page 3-66)</A>. You pass the returned reference to other functions that use the color world for color-matching and color-checking sessions.
<DT><CODE>profileSet</CODE>
<DD> A pointer to an array of profiles describing the processing to carry out. The array is in processing order--source through destination. See <A HREF=ACIReference-188.html#MARKER-9-246>"Profile Header Structure for ColorSync 1.0" (page 3-46)</A> for the definition of the <CODE>CMConcatProfileSet</CODE> structure. 
<DT><I>function result</I>
<DD> A result code of type CMError. See <A HREF=ACIReference-313.html#MARKER-9-479>"Result Codes" (page 3-174)</A> for a list of ColorSync-specific result codes.
</DL>
<A NAME=HEADING259-6></A>
<H5>DISCUSSION</H5>
 The <CODE>CWConcatColorWorld</CODE> function sets up a session for color processing that includes a set of profiles. The array of profiles is in processing order--source through destination. Your application passes the function a data structure of type <CODE>CMConcatProfileSet</CODE> to identify the profile array. <P>
 The <CODE>keyIndex</CODE> field of the <CODE>CMConcatProfileSet</CODE> data structure specifies the index of the profile within the profile array whose preferred CMM is used for the entire color-matching or color-checking session. The profile header's <CODE>CMMType</CODE> field specifies the CMM. This CMM will fetch the profile elements necessary for the session.<P>
 The quality flag setting--indicating normal mode, draft mode, or best mode--specified by the first profile prevails for the entire session; the quality flags of following profiles in the sequence are ignored. The quality flag setting is stored in the <CODE>flags</CODE> field of the profile header. See <A HREF=ACIReference-187.html#MARKER-9-242>"Profile Header Structure for ColorSync 2.x" (page 3-43)</A> and <A HREF=ACIReference-173.html#MARKER-9-181>"Flag Mask Definitions for Version 2.x Profiles" (page 3-29)</A> for more information on the use of flags. <P>
 The rendering intent specified by the first profile is used to color match to the second profile, the rendering intent specified by the second profile is used to color match to the third profile, and so on through the series of concatenated profiles. <P>
 The following rules govern the profiles you can specify in the profile array pointed to by the <CODE>profileSet</CODE> parameter for use with the <CODE>CWConcatColorWorld</CODE> function: <P>
<UL>
<LI>In the profile array, you can pass in one or more profiles, but you must specify at least one profile. If you specify only one profile, it must be a device-linked profile. If you specify a device-linked profile, you cannot specify any other profiles in the profiles array; a device-linked profile must be used alone. 
<LI>In the profile array, you can specify an abstract profile anywhere in the sequence other than as the first or last profile. 
<LI>For the first and last profiles, you can specify device profiles or color space conversion profiles. However, when you set up a color-matching session with a named color space profile and other profiles, the named color profile must be first or last in the color world.
<LI>You cannot specify <CODE>NULL</CODE> to indicate the system profile. 
<LI>If you specify a color space profile in the middle of the profile sequence, it is ignored by the Apple CMM.<P>
</UL>
 A after executing the <CODE>CWConcatColorWorld</CODE> function, you should call the <CODE>CMCloseProfile</CODE> function <A HREF=ACIReference-221.html#MARKER-9-323>(page 3-71)</A> for each profile to dispose of its reference. <P>
 For more information on color worlds, see <A HREF=ACIReference-189.html#MARKER-9-250>"Concatenated Profile Set Structure" (page 3-49)</A>.<P>
<A NAME=HEADING259-19></A>
<H5>SEE ALSO</H5>
 Instead of passing in an array of profiles, you can specify a device-linked profile. For information on how to create a device-linked profile, see the <CODE>CWNewLinkProfile</CODE> function, which is described next. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-258.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-260.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
