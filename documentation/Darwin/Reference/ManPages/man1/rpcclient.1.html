<html><head><title>Mac OS X
 Manual Page For rpcclient(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/rpcclient" title="Mac OS X
 Manual Page for rpcclient(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/rpcclient"; name=rpcclient(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
RPCCLIENT(1)                                                                                    RPCCLIENT(1)



<b>NAME</b>
       rpcclient - tool for executing client side MS-RPC functions

<b>SYNOPSIS</b>
       rpcclient  [-A authfile]  [-c &lt;command string&gt;]  [-d debuglevel]  [-h] [-l logdir] [-N] [-s &lt;smb con-
        fig file&gt;] [-U username[%password]] [-W workgroup] [-N] [-I destinationIP] {server}

<b>DESCRIPTION</b>
       This tool is part of the <a href="../man7/samba.7.html#//apple_ref/doc/man/7/samba"><b>samba</b>(7)</a> suite.

       rpcclient is a utility initially developed to test MS-RPC  functionality  in  Samba  itself.  It  has
       undergone  several  stages  of development and stability. Many system administrators have now written
       scripts around it to manage Windows NT clients from their UNIX workstation.

<b>OPTIONS</b>
       server
          NetBIOS name of Server to which to connect. The server can be any SMB/CIFS  server.  The  name  is
          resolved using the name resolve order line from <a href="../man5/smb.conf.5.html#//apple_ref/doc/man/5/smb.conf"><b>smb.conf</b>(5)</a>.

       -c|--command='command string'
          execute semicolon separated commands (listed below))

       -I IP-address
          <u>IP</u>  <u>address</u>  is  the  address  of  the  server  to  connect to. It should be specified in standard
          "a.b.c.d" notation.

          Normally the client would attempt to locate a named SMB/CIFS server by looking it up via the  Net-<font color="#ffffff" class="whiteout">BIOS&nbsp;NetBIOS</font>
          BIOS  name  resolution  mechanism described above in the <u>name</u> <u>resolve</u> <u>order</u> parameter above. Using
          this parameter will force the client to assume that the server is on the machine with  the  speci-<font color="#ffffff" class="whiteout">fied&nbsp;specified</font>
          fied IP address and the NetBIOS name component of the resource being connected to will be ignored.

          There is no default for this parameter. If not supplied, it will be  determined  automatically  by
          the client as described above.

       -V
          Prints the program version number.

       -s &lt;configuration file&gt;
          The  file  specified contains the configuration details required by the server. The information in
          this file includes server-specific information such as what printcap  file  to  use,  as  well  as
          descriptions of all the services that the server is to provide. See <u>smb.conf</u> for more information.
          The default configuration file name is determined at compile time.

       -d|--debuglevel=level
          <u>level</u> is an integer from 0 to 10. The default value if this parameter is not specified is zero.

          The higher this value, the more detail will be logged to the log files about the activities of the
          server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reason-<font color="#ffffff" class="whiteout">able&nbsp;reasonable</font>
          able level for day-to-day running - it generates a small amount of  information  about  operations
          carried out.

          Levels above 1 will generate considerable amounts of log data, and should only be used when inves-<font color="#ffffff" class="whiteout">tigating&nbsp;investigating</font>
          tigating a problem. Levels above 3 are designed for use  only  by  developers  and  generate  HUGE
          amounts of log data, most of which is extremely cryptic.

          Note that specifying this parameter here will override the

          parameter in the <u>smb.conf</u> file.

       -l|--logfile=logdirectory
          Base directory name for log/debug files. The extension <b>".progname"</b> will be appended (e.g. log.smb-<font color="#ffffff" class="whiteout">client,&nbsp;log.smbclient,</font>
          client, log.smbd, etc...). The log file is never removed by the client.

       -N
          If specified, this parameter suppresses the normal password prompt from the client  to  the  user.
          This is useful when accessing a service that does not require a password.

          Unless a password is specified on the command line or this parameter is specified, the client will
          request a password.

          If a password is specified on the command line and this option is also defined the password on the
          command line will be silently ingnored and no password will be used.

       -k
          Try to authenticate with kerberos. Only useful in an Active Directory environment.

       -A|--authentication-file=filename
          This  option allows you to specify a file from which to read the username and password used in the
          connection. The format of the file is





          username = &lt;value&gt;
          password = &lt;value&gt;
          domain   = &lt;value&gt;



          Make certain that the permissions on the file restrict access from unwanted users.

       -U|--user=username[%password]
          Sets the SMB username or username and password.

          If %password is not specified, the user will be prompted. The client will  first  check  the  <b>USER</b>
          environment variable, then the <b>LOGNAME</b> variable and if either exists, the string is uppercased. If
          these environmental variables are not found, the username <b>GUEST</b> is used.

          A third option is to use a credentials file which contains the plaintext of the username and pass-<font color="#ffffff" class="whiteout">word.&nbsp;password.</font>
          word. This option is mainly provided for scripts where the admin does not wish to pass the creden-<font color="#ffffff" class="whiteout">tials&nbsp;credentials</font>
          tials on the command line or via environment variables. If this method is used, make certain  that
          the permissions on the file restrict access from unwanted users. See the <u>-A</u> for more details.

          Be cautious about including passwords in scripts. Also, on many systems the command line of a run-<font color="#ffffff" class="whiteout">ning&nbsp;running</font>
          ning process may be seen via the ps command. To be safe always allow rpcclient  to  prompt  for  a
          password and type it in directly.

       -n &lt;primary NetBIOS name&gt;
          This  option allows you to override the NetBIOS name that Samba uses for itself. This is identical
          to setting the

          parameter in the <u>smb.conf</u> file. However, a command line setting will take precedence over settings
          in <u>smb.conf</u>.

       -i &lt;scope&gt;
          This specifies a NetBIOS scope that nmblookup will use to communicate with when generating NetBIOS
          names. For details on the use of NetBIOS scopes, see rfc1001.txt and rfc1002.txt.  NetBIOS  scopes
          are <b>very</b> rarely used, only set this parameter if you are the system administrator in charge of all
          the NetBIOS systems you communicate with.

       -W|--workgroup=domain
          Set the SMB domain of the username. This overrides the default domain which is the domain  defined
          in smb.conf. If the domain specified is the same as the servers NetBIOS name, it causes the client
          to log on using the servers local SAM (as opposed to the Domain SAM).

       -O socket options
          TCP socket options to set on the client socket. See the socket options parameter in  the  <u>smb.conf</u>
          manual page for the list of valid options.

       -h|--help
          Print a summary of command line options.

<b>COMMANDS</b>
   <b>LSARPC</b>
       lsaquery
          Query info policy

       lookupsids
          Resolve a list of SIDs to usernames.

       lookupnames
          Resolve a list of usernames to SIDs.

       enumtrusts
          Enumerate trusted domains

       enumprivs
          Enumerate privileges

       getdispname
          Get the privilege name

       lsaenumsid
          Enumerate the LSA SIDS

       lsaenumprivsaccount
          Enumerate the privileges of an SID

       lsaenumacctrights
          Enumerate the rights of an SID

       lsaenumacctwithright
          Enumerate accounts with a right

       lsaaddacctrights
          Add rights to an account

       lsaremoveacctrights
          Remove rights from an account

       lsalookupprivvalue
          Get a privilege value given its name

       lsaquerysecobj
          Query LSA security object

   <b>LSARPC-DS</b>
       dsroledominfo
          Get Primary Domain Information



       <b>DFS</b>

       dfsexist
          Query DFS support

       dfsadd
          Add a DFS share

       dfsremove
          Remove a DFS share

       dfsgetinfo
          Query DFS share info

       dfsenum
          Enumerate dfs shares

   <b>REG</b>
       shutdown
          Remote Shutdown

       abortshutdown
          Abort Shutdown

   <b>SRVSVC</b>
       srvinfo
          Server query info

       netshareenum
          Enumerate shares

       netfileenum
          Enumerate open files

       netremotetod
          Fetch remote time of day

   <b>SAMR</b>
       queryuser
          Query user info

       querygroup
          Query group info

       queryusergroups
          Query user groups

       querygroupmem
          Query group membership

       queryaliasmem
          Query alias membership

       querydispinfo
          Query display info

       querydominfo
          Query domain info

       enumdomusers
          Enumerate domain users

       enumdomgroups
          Enumerate domain groups

       enumalsgroups
          Enumerate alias groups

       createdomuser
          Create domain user

       samlookupnames
          Look up names

       samlookuprids
          Look up names

       deletedomuser
          Delete domain user

       samquerysecobj
          Query SAMR security object

       getdompwinfo
          Retrieve domain password info

       lookupdomain
          Look up domain

   <b>SPOOLSS</b>
       adddriver &lt;arch&gt; &lt;config&gt; [&lt;version&gt;]
          Execute  an  AddPrinterDriver()  RPC to install the printer driver information on the server. Note
          that the driver files should already exist in the directory  returned  by  getdriverdir.  Possible
          values  for  <u>arch</u>  are  the  same  as  those for the getdriverdir command. The <u>config</u> parameter is
          defined as follows:





          Long Printer Name:Driver File Name:Data File Name:Config File Name:Help File Name:Language Monitor Name:Default Data Type:Comma Separated list of Files



          Any empty fields should be enter as the string "NULL".

          Samba does not need to support the concept of Print Monitors  since  these  only  apply  to  local
          printers  whose  driver can make use of a bi-directional link for communication. This field should
          be "NULL". On a remote NT print server, the Print Monitor for a driver must already  be  installed
          prior to adding the driver or else the RPC will fail.

          The  <u>version</u> parameter lets you specify the printer driver version number. If omitted, the default
          driver version for the specified architecture will be used. This option can be used to upload Win-<font color="#ffffff" class="whiteout">dows&nbsp;Windows</font>
          dows 2000 (version 3) printer drivers.

       addprinter &lt;printername&gt; &lt;sharename&gt; &lt;drivername&gt; &lt;port&gt;
          Add  a  printer on the remote server. This printer will be automatically shared. Be aware that the
          printer driver must already be installed on the server (see adddriver) and the <u>port</u>must be a valid
          port name (see enumports.

       deldriver
          Delete  the specified printer driver for all architectures. This does not delete the actual driver
          files from the server, only the entry from the server's list of drivers.

       deldriverex &lt;driver&gt; [architecture] [version]
          Delete the specified printer driver including driver files. You can limit this action  to  a  spe-<font color="#ffffff" class="whiteout">cific&nbsp;specific</font>
          cific  architecture  and  a specific version. If no architecure is given, all driver files of that
          driver will be deleted.

       enumdata
          Enumerate all printer setting data stored on the server. On Windows NT clients, these  values  are
          stored  in  the  registry, while Samba servers store them in the printers TDB. This command corre-<font color="#ffffff" class="whiteout">sponds&nbsp;corresponds</font>
          sponds to the MS Platform SDK GetPrinterData() function (*  This  command  is  currently  unimple-<font color="#ffffff" class="whiteout">mented).&nbsp;unimplemented).</font>
          mented).

       enumdataex
          Enumerate printer data for a key

       enumjobs &lt;printer&gt;
          List  the  jobs  and  status  of  a given printer. This command corresponds to the MS Platform SDK
          EnumJobs() function

       enumkey
          Enumerate printer keys

       enumports [level]
          Executes an EnumPorts() call using the specified info level. Currently only info levels  1  and  2
          are supported.

       enumdrivers [level]
          Execute  an  EnumPrinterDrivers()  call.  This lists the various installed printer drivers for all
          architectures. Refer to the MS Platform SDK documentation for more details of  the  various  flags
          and calling options. Currently supported info levels are 1, 2, and 3.

       enumprinters [level]
          Execute  an EnumPrinters() call. This lists the various installed and share printers. Refer to the
          MS Platform SDK documentation for more details of the various flags and calling options. Currently
          supported info levels are 1, 2 and 5.

       getdata &lt;printername&gt; &lt;valuename;&gt;
          Retrieve the data for a given printer setting. See the enumdata command for more information. This
          command corresponds to the GetPrinterData() MS Platform SDK function.

       getdataex
          Get printer driver data with keyname

       getdriver &lt;printername&gt;
          Retrieve the printer driver information (such  as  driver  file,  config  file,  dependent  files,
          etc...)  for the given printer. This command corresponds to the GetPrinterDriver() MS Platform SDK
          function. Currently info level 1, 2, and 3 are supported.

       getdriverdir &lt;arch&gt;
          Execute a GetPrinterDriverDirectory() RPC to retrieve the SMB  share  name  and  subdirectory  for
          storing  printer driver files for a given architecture. Possible values for <u>arch</u> are "Windows 4.0"
          (for Windows 95/98), "Windows NT x86", "Windows NT PowerPC", "Windows Alpha_AXP", and "Windows  NT
          R4000".

       getprinter &lt;printername&gt;
          Retrieve the current printer information. This command corresponds to the GetPrinter() MS Platform
          SDK function.

       getprintprocdir
          Get print processor directory

       openprinter &lt;printername&gt;
          Execute an OpenPrinterEx() and ClosePrinter() RPC against a given printer.

       setdriver &lt;printername&gt; &lt;drivername&gt;
          Execute a SetPrinter() command to update the printer driver associated with an installed  printer.
          The printer driver must already be correctly installed on the print server.

          See  also  the enumprinters and enumdrivers commands for obtaining a list of of installed printers
          and drivers.

       addform
          Add form

       setform
          Set form

       getform
          Get form

       deleteform
          Delete form

       enumforms
          Enumerate form

       setprinter
          Set printer comment

       setprinterdata
          Set REG_SZ printer data

       setprintername &lt;printername&gt; &lt;newprintername&gt;
          Set printer name

       rffpcnex
          Rffpcnex test

   <b>NETLOGON</b>
       logonctrl2
          Logon Control 2

       logonctrl
          Logon Control

       samsync
          Sam Synchronisation

       samdeltas
          Query Sam Deltas

       samlogon
          Sam Logon

   <b>GENERAL</b> <b>COMMANDS</b>
       debuglevel
          Set the current debug level used to log information.

       help (?)
          Print a listing of all known commands or extended help on a particular command.

       quit (exit)
          Exit rpcclient.

<b>BUGS</b>
       rpcclient is designed as a developer testing tool and may not be robust in  certain  areas  (such  as
       command  line  parsing). It has been known to generate a core dump upon failures when invalid parame-<font color="#ffffff" class="whiteout">ters&nbsp;parameters</font>
       ters where passed to the interpreter.

       From Luke Leighton's original rpcclient man page:

       <b>WARNING!</b>  The MSRPC over SMB code has been developed from examining Network traces. No  documentation
       is  available from the original creators (Microsoft) on how MSRPC over SMB works, or how the individ-<font color="#ffffff" class="whiteout">ual&nbsp;individual</font>
       ual MSRPC services work. Microsoft's implementation of these  services  has  been  demonstrated  (and
       reported) to be... a bit flaky in places.

       The development of Samba's implementation is also a bit rough, and as more of the services are under-<font color="#ffffff" class="whiteout">stood,&nbsp;understood,</font>
       stood, it can even result in versions of <a href="../man8/smbd.8.html#//apple_ref/doc/man/8/smbd"><b>smbd</b>(8)</a> and <b>rpcclient</b>(1) that are incompatible for some com-<font color="#ffffff" class="whiteout">mands&nbsp;commands</font>
       mands  or services. Additionally, the developers are sending reports to Microsoft, and problems found
       or reported to Microsoft are fixed in Service Packs, which may result in incompatibilities.

<b>VERSION</b>
       This man page is correct for version 3.0 of the Samba suite.

<b>AUTHOR</b>
       The original Samba software and related utilities were created  by  Andrew  Tridgell.  Samba  is  now
       developed  by  the Samba Team as an Open Source project similar to the way the Linux kernel is devel-<font color="#ffffff" class="whiteout">oped.&nbsp;developed.</font>
       oped.

       The original rpcclient man page was written by Matthew Geddes,  Luke  Kenneth  Casson  Leighton,  and
       rewritten  by  Gerald  Carter. The conversion to DocBook for Samba 2.2 was done by Gerald Carter. The
       conversion to DocBook XML 4.2 for Samba 3.0 was done by Alexander Bokovoy.




                                                                                                RPCCLIENT(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/rpcclient.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/rpcclient.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/rpcclient.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
