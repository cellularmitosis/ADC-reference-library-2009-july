<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>File Manager Reference: Deprecated File Manager  Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Deprecated File Manager  Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000107-AppendixA" title="Deprecated File Manager  Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxFileManagement-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000448" target="_top">File Management</a> &gt; <a href="../index.html" target="_top">File Manager Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../revision_history/revision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <h1>Deprecated File Manager  Functions</h1><p>A function identified as deprecated has been superseded and may become unsupported in the future.</p><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_1014" title="Deprecated in Mac OS X v10.4"></a><h2>Deprecated in Mac OS X v10.4</h2><a name="//apple_ref/c/func/Allocate" title="Allocate"></a><a name="//apple_ref/doc/c_ref/Allocate" title="Allocate"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F00140" title="Allocate"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_28"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_28"></a><h3 class="tight">Allocate</h3>
<p class="spaceabove">Allocates additional space on a volume to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSAllocateFork">FSAllocateFork</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr Allocate (
   <!--a-->FSIORefNum<!--/a--> refNum,
   SInt32 *count
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>The file reference number of the open file. </p></dd>
<dt><em>count</em></dt>
<dd><p>On input, a pointer to the number of additional bytes to allocate to the file. On return, a pointer to the number of bytes actually allocated, rounded up to the nearest multiple of the allocation block size. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>Allocate</code> function adds the specified number of bytes to the file and sets the physical end-of-file to 1 byte beyond the last block allocated. If there isn’t enough empty space on the volume to satisfy the allocation request, <code>Allocate</code> allocates the rest of the space on the volume and returns <code>dskFulErr</code> as its function result.</p>
<p>The <code>Allocate</code> function always attempts to allocate contiguous blocks. If the total number of requested bytes is unavailable, <code>Allocate</code> allocates whatever space, contiguous or not, is available. To force the allocation of the entire requested space as a contiguous piece, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/AllocContig">AllocContig</a></code>  instead.</p>
<p>The File Manager automatically allocates file blocks if you move the logical end-of-file past the physical end-of-file, and it automatically deallocates unneeded blocks from a file if you move the logical end-of-file to a position more than one allocation block before the current physical end-of-file. Consequently, you do not in general need to be concerned with allocating or deallocating file blocks. However, you can improve file block contiguity if you use the <code>Allocate</code> or <code>AllocContig</code> function to preallocate file blocks. This is most useful if you know in advance how big a file is likely to become.</p>
<p>When the File Manager allocates (or deallocates) file blocks automatically, it always adds (or removes) blocks in clumps. The <code>Allocate</code> function allows you to add blocks in allocation blocks, which may be smaller than clumps.</p>
<p>The space allocated with this function is not permanently assigned to the file until the file’s logical end-of-file is changed to include the allocated space. When a file (or volume) is closed, the space beyond the file’s logical EOF is made available for other purposes, even if previously allocated to the file with a call to this function. You can change the end-of-file by setting it with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or by writing data to the file with the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSWrite">FSWrite</a></code> function.</p>
<p>This function is not supported by all file systems; for example, volumes mounted by the AppleShare file system do not support this function. To allocate space for a file on any volume, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or one of the related parameter block calls,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFSync">PBSetEOFSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFAsync">PBSetEOFAsync</a></code>.</p>
<p>To allocate space for a file beyond 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSAllocateFork">FSAllocateFork</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkSync">PBAllocateForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkAsync">PBAllocateForkAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>In Mac OS  7.5.5  through Mac OS 8.5, if there is not enough space left on the volume to allocate the requested number of  bytes, the <code>Allocate</code> function does not return the number of bytes actually allocated.    Your application should not rely on the value returned in the <code>count</code> parameter.  </p>
<p>To determine the remaining space on a volume before calling <code>Allocate</code>, use the functions <code>PBXGetVolInfoSync</code> or <code>PBXGetVolInfoAsync</code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/AllocContig" title="AllocContig"></a><a name="//apple_ref/doc/c_ref/AllocContig" title="AllocContig"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F00141" title="AllocContig"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_29"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_29"></a><h3 class="tight">AllocContig</h3>
<p class="spaceabove">Allocates additional contiguous space on a volume to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSAllocateFork">FSAllocateFork</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr AllocContig (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> refNum,
   SInt32 *count
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>The file reference number of an open file. </p></dd>
<dt><em>count</em></dt>
<dd><p>On input, a pointer to the number of additional bytes to allocate to the file; on return, a pointer to the number of bytes allocated, rounded up to the nearest multiple of the allocation block size. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>AllocContig</code> function is identical to the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/Allocate">Allocate</a></code> function except that if there isn’t enough contiguous empty space on the volume to satisfy the allocation request, <code>AllocContig</code> does nothing and returns <code>dskFulErr</code> as its function result. If you want to allocate whatever space is available, even when the entire request cannot be filled by the allocation of a contiguous piece, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/Allocate">Allocate</a></code>  instead.</p>
<p>The File Manager automatically allocates file blocks if you move the logical end-of-file past the physical end-of-file, and it automatically deallocates unneeded blocks from a file if you move the logical end-of-file to a position more than one allocation block before the current physical end-of-file. Consequently, you do not in general need to be concerned with allocating or deallocating file blocks. However, you can improve file block contiguity if you use the <code>AllocContig</code> function to preallocate file blocks. This is most useful if you know in advance how big a file is likely to become.</p>
<p>When the File Manager allocates (or deallocates) file blocks automatically, it always adds (or removes) blocks in clumps. The <code>AllocContig</code> function allows you to add blocks in allocation blocks, which may be smaller than clumps.</p>
<p>The space allocated with this function is not permanently assigned to the file until the file’s logical end-of-file is changed to include the allocated space. When a file (or volume) is closed, the space beyond the file’s logical EOF is made available for other purposes, even if previously allocated to the file with a call to this function. You can change the end-of-file by setting it with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or by writing data to the file with the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSWrite">FSWrite</a></code> function.</p>
<p>This function is not supported by all file systems; for example, volumes mounted by the AppleShare file system do not support this function. To allocate space for a file on any volume, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or one of the related parameter block calls,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFSync">PBSetEOFSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFAsync">PBSetEOFAsync</a></code>.</p>
<p>To allocate space for a file beyond 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSAllocateFork">FSAllocateFork</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkSync">PBAllocateForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkAsync">PBAllocateForkAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>In Mac OS 7.5.5 through Mac OS 8.5, when there is not enough space to allocate the requested number of bytes, <code>AllocContig</code> does not return 0 in the <code>count</code> parameter, so your application cannot rely upon this value.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/CatMove" title="CatMove"></a><a name="//apple_ref/doc/c_ref/CatMove" title="CatMove"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F00441" title="CatMove"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_30"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_30"></a><h3 class="tight">CatMove</h3>
<p class="spaceabove">Moves files or directories from one directory to another on the same volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMoveObject">FSMoveObject</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr CatMove (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> oldName,
   SInt32 newDirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> newName
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The parent directory ID of the file or directory to move. </p></dd>
<dt><em>oldName</em></dt>
<dd><p>The existing name of the file or directory to move. </p></dd>
<dt><em>newDirID</em></dt>
<dd><p>If the <code>newName</code> parameter is empty, the directory ID of the destination directory; otherwise, the parent directory ID of the destination directory.</p></dd>
<dt><em>newName</em></dt>
<dd><p>The name of the destination directory. If a valid directory name is provided in this parameter, the destination directory’s parent directory is specified in the <code>newDirID</code> parameter. However, you can specify an empty name for <code>newName</code>, in which case <code>newDirID</code> should be set to the directory ID of the destination directory.</p><p>It is usually simplest to specify the destination directory by passing its directory ID in the <code>newDirID</code> parameter and by setting <code>newName</code> to an empty name. To specify an empty name, set <code>newName</code> to <code>':'</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> This function returns <code>permErr</code> if called on a locked file.</p>
<h5 class="tight">Discussion</h5>
<p><code>CatMove</code> is strictly a file catalog operation; it does not actually change the location of the file or directory on the disk.</p>
<p>The <code>CatMove</code> function cannot move a file or directory to another volume (that is, the <code>vRefNum</code> parameter is used in specifying both the source and the destination). Also, you cannot use it to rename files or directories; to rename a file or directory, use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HRename">HRename</a></code>.</p>
<p>If you need to move files or directories with named forks other than the data and resource forks, with long Unicode names, or files larger than 2GB, you should use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMoveObject">FSMoveObject</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectSync">PBMoveObjectSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectAsync">PBMoveObjectAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/DirCreate" title="DirCreate"></a><a name="//apple_ref/doc/c_ref/DirCreate" title="DirCreate"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01085" title="DirCreate"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_31"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_31"></a><h3 class="tight">DirCreate</h3>
<p class="spaceabove">Creates a new directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateDirectoryUnicode">FSCreateDirectoryUnicode</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr DirCreate (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 parentDirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> directoryName,
   SInt32 *createdDirID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>parentDirID</em></dt>
<dd><p>The directory ID of the parent directory. If the parent directory ID is 0 and the volume specified in the <code>vRefNum</code> parameter is the default volume, the new directory is placed in the default directory of the volume.  If the parent directory ID is 0 and the volume specified in the <code>vRefNum</code> parameter is a volume other than the default volume, the new directory is placed in the root directory of the volume. To create a directory at the root of a volume, regardless of whether that volume is the current default volume, pass the constant <code>fsRtDirID</code>(2) in this parameter. </p></dd>
<dt><em>directoryName</em></dt>
<dd><p>The name of the new directory. </p></dd>
<dt><em>createdDirID</em></dt>
<dd><p>On return, a pointer to the directory ID of the new directory. Note that a directory ID, unlike a volume reference number, is a long integer.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The date and time of the new directory’s creation and last modification are set to the current date and time.</p>
<p>To create a directory with a Unicode name, use the function  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateDirectoryUnicode">FSCreateDirectoryUnicode</a></code> , or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeSync">PBCreateDirectoryUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeAsync">PBCreateDirectoryUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSClose" title="FSClose"></a><a name="//apple_ref/doc/c_ref/FSClose" title="FSClose"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_2" title="FSClose"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_48"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_48"></a><h3 class="tight">FSClose</h3><p class="spaceabove">Closes an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCloseFork">FSCloseFork</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr FSClose (
   <!--a-->FSIORefNum<!--/a--> refNum
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>refNum</em></dt><dd><p>The file reference number of the open file. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The <code>FSClose</code> function removes the access path for the specified file and writes the contents of the volume buffer to the volume.</p><p>The <code>FSClose</code> function calls the <code>PBFlushFileSync</code> function internally to write the file’s bytes onto the volume. To ensure that the file’s catalog entry is updated, you should call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FlushVol">FlushVol</a></code>  after you call <code>FSClose</code>. </p><h5 class="tight">Special Considerations</h5><p>Make sure that you do not call <code>FSClose</code> with a file reference number of a file that has already been closed. Attempting to close the same file twice may result in loss of data on a volume.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSMakeFSSpec" title="FSMakeFSSpec"></a><a name="//apple_ref/doc/c_ref/FSMakeFSSpec" title="FSMakeFSSpec"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01573" title="FSMakeFSSpec"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_91"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_91"></a><h3 class="tight">FSMakeFSSpec</h3>
<p class="spaceabove">Creates an <code>FSSpec</code> structure describing a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMakeFSRefUnicode">FSMakeFSRefUnicode</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSMakeFSSpec (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume specification for the volume containing the file or directory. This parameter can contain a volume reference number, a drive number, or 0 to specify the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The parent directory ID of the target object. If the directory is sufficiently specified in the <code>fileName</code> parameter, the <code>dirID</code> parameter can be set to 0. If the <code>fileName</code> parameter contains an empty string, <code>FSMakeFSSpec</code> creates an <code>FSSpec</code> structure for the directory specified by the <code>dirID</code> parameter. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>A full or partial pathname. If the <code>fileName</code> parameter specifies a full pathname, <code>FSMakeFSSpec</code> ignores both the <code>vRefNum</code> and <code>dirID</code> parameters. A partial pathname might identify only the final target, or it might include one or more parent directory names. If <code>fileName</code> specifies a partial pathname, then <code>vRefNum</code>, <code>dirID</code>, or both must be valid. </p></dd>
<dt><em>spec</em></dt>
<dd><p>A pointer to a file system specification to be filled in by <code>FSMakeFSSpec</code>. The <code>FSMakeFSSpec</code> function fills in the fields of the file system specification using the information contained in the other three parameters. If your application receives any result code other than <code>noErr</code> or <code>fnfErr</code>, all fields of the resulting <code>FSSpec</code> structure are set to 0. </p><p>The file system specification structure that you pass in this parameter should not share storage space with the input pathname; the <code>name</code> field may be initialized to the empty string before the pathname has been processed. For example, <code>fileName</code> should not refer to the <code>name</code> field of the output file system specification.</p><p></p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>You should call <code>FSMakeFSSpec</code>, or one of the corresponding parameter block functions,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBMakeFSSpecSync">PBMakeFSSpecSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBMakeFSSpecAsync">PBMakeFSSpecAsync</a></code> , whenever you want to create an <code>FSSpec</code> structure. You should not create an <code>FSSpec</code> by filling in the fields of the structure yourself.</p>
<p>If the specified volume is mounted and the specified parent directory exists, but the target file or directory doesn’t exist in that location, <code>FSMakeFSSpec</code> fills in the structure and then returns <code>fnfErr</code> instead of <code>noErr</code>. The structure is valid, but it describes a target that doesn’t exist. You can use the structure for other operations, such as creating a file with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpCreate">FSpCreate</a></code>  function. </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Non-Carbon applications can also specify a working directory reference number in the <code>vRefNum</code> parameter. However, because working directories are not supported in Carbon, you cannot specify a working directory reference number if you wish your application to be Carbon-compatible.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTMetaData/index.html#//apple_ref/doc/uid/DTS10003766" target="_top">QTMetaData</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpCatMove" title="FSpCatMove"></a><a name="//apple_ref/doc/c_ref/FSpCatMove" title="FSpCatMove"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01575" title="FSpCatMove"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_112"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_112"></a><h3 class="tight">FSpCatMove</h3>
<p class="spaceabove">Moves a file or directory from one location to another on the same volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMoveObject">FSMoveObject</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpCatMove (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *source,
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *dest
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>source</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> structure specifying the name and location of the file or directory to move. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>dest</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> structure specifying the name and location of the directory into which the source file or directory is to be moved. The directory ID specified in the <code>parID</code> field of this <code>FSSpec</code> is the directory ID of the parent of the directory into which you want to move the source file or directory. The <code>name</code> field of this <code>FSSpec</code> specifies the name of the directory into which you want to move the source file or directory.</p><p>If you don’t already know the parent directory ID of the destination directory, it might be easier to use the <code>PBCatMoveSync</code> or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/PBCatMoveAsync">PBCatMoveAsync</a></code> function, which allow you to specify only the directory ID of the destination directory.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>FSpCatMove</code> function is strictly a file catalog operation; it does not actually change the location of the file or directory on the disk. You cannot use <code>FSpCatMove</code> to move a file or directory to another volume (that is, the <code>vRefNum</code> field in both <code>FSSpec</code> structures in the <code>source</code> and <code>dest</code> parameters must be the same). Also, you cannot use <code>FSpCatMove</code> to rename files or directories; to rename a file or directory, use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpRename">FSpRename</a></code>.</p>
<p>If you need to move files or directories with named forks other than the data and resource forks, with long Unicode names, or files larger than 2GB, you should use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMoveObject">FSMoveObject</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectSync">PBMoveObjectSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectAsync">PBMoveObjectAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpCreate" title="FSpCreate"></a><a name="//apple_ref/doc/c_ref/FSpCreate" title="FSpCreate"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01576" title="FSpCreate"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_113"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_113"></a><h3 class="tight">FSpCreate</h3>
<p class="spaceabove">Creates a new file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateFileUnicode">FSCreateFileUnicode</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpCreate (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec,
   <!--a-->OSType<!--/a--> creator,
   <!--a-->OSType<!--/a--> fileType,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> scriptTag
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>    A pointer to an <code>FSSpec</code> structure specifying the file to be created. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>creator</em></dt>
<dd><p>The creator of the new file. See the documentation for the Finder Interface for more information on file creators. </p></dd>
<dt><em>fileType</em></dt>
<dd><p>The file type of the new file. See the documentation for the Finder Interface for more information on file types.</p></dd>
<dt><em>scriptTag</em></dt>
<dd><p>The code of the script system in which the filename is to be displayed. If you have established the name and location of the new file using either the <code>NavAskSaveChanges</code> or <code>NavCustomAskSaveChanges</code> function, specify the script code returned in the reply structure. Otherwise, specify the system script by setting the <code>scriptTag</code> parameter to the value <code>smSystemScript</code>.</p><p>For more information about the functions <code>NavAskSaveChanges</code> and <code>NavCustomAskSaveChanges</code>, see <em>Programming With Navigation Services</em>. See the <em>Script Manager Reference</em> for a description of the <code>smSystemScript</code> constant.</p><p></p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>FSpCreate</code> function creates a new file (both data and resource forks) with the specified type, creator, and script code. The new file is unlocked and empty. The date and time of creation and last modification are set to the current date and time.</p>
<p>Files created using <code>FSpCreate</code> are not automatically opened. If you want to write data to the new file, you must first open the file using one of the file access functions,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpOpenDF">FSpOpenDF</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenDF">HOpenDF</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDFSync">PBHOpenDFSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDFAsync">PBHOpenDFAsync</a></code>.</p>
<p>The resource fork of the new file exists but is empty. You’ll need to call one of the Resource Manager functions <code>HCreateResFile</code> or <code>FSpCreateResFile</code> to create a resource map in the file before you can open it by calling one of the Resource Manager functions <code>HOpenResFile</code> or <code>FSpOpenResFile</code>).</p>
<p>Before calling this function, you should call the <code>Gestalt</code> function to check that the function is available. If <code>FSpCreate</code> is not available, you can use the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HCreate">HCreate</a></code>  instead. To create a file with a Unicode filename, use the function  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateFileUnicode">FSCreateFileUnicode</a></code> , or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeSync">PBCreateFileUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeAsync">PBCreateFileUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpDelete" title="FSpDelete"></a><a name="//apple_ref/doc/c_ref/FSpDelete" title="FSpDelete"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01578" title="FSpDelete"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_114"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_114"></a><h3 class="tight">FSpDelete</h3>
<p class="spaceabove">Deletes a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSDeleteObject">FSDeleteObject</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpDelete (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> structure specifying the file or directory to delete. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> If you attempt to delete an open file or a non-empty directory, <code>FSpDelete</code> returns the result code <code>fBsyErr</code>. <code>FSpDelete</code> also returns the result code <code>fBsyErr</code> if the directory has an open working directory associated with it.</p>
<h5 class="tight">Discussion</h5>
<p>If the specified target is a file, both forks of the file are deleted. The file ID reference, if any, is removed. A file must be closed before you can delete it. Similarly, a directory must be empty before you can delete it. </p>
<p>Before calling this function, you should call the <code>Gestalt</code> function to check that the function is available. If <code>FSpDelete</code> is not available, you can use the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HDelete">HDelete</a></code>  instead. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CarbonSketch/index.html#//apple_ref/doc/uid/DTS10003226" target="_top">CarbonSketch</a></span></li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpDirCreate" title="FSpDirCreate"></a><a name="//apple_ref/doc/c_ref/FSpDirCreate" title="FSpDirCreate"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01579" title="FSpDirCreate"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_115"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_115"></a><h3 class="tight">FSpDirCreate</h3>
<p class="spaceabove">Creates a new directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateDirectoryUnicode">FSCreateDirectoryUnicode</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpDirCreate (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> scriptTag,
   SInt32 *createdDirID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> structure specifying the directory to be created. </p><p>Note that if the parent directory ID for the directory described by this <code>FSSpec</code> is 0 and the volume specified in this <code>FSSpec</code> is the default volume, the new directory is placed in the default directory of the volume.  If the parent directory ID is 0 and the specified volume is a volume other than the default volume, the new directory is placed in the root directory of the volume. To create a directory at the root of a volume, regardless of whether that volume is the current default volume, set the parent directory ID to the constant <code>fsRtDirID</code>(2).</p><p></p></dd>
<dt><em>scriptTag</em></dt>
<dd><p>The code of the script system in which the directory name is to be displayed. If you have established the name and location of the new directory using either the <code>NavAskSaveChanges</code> or <code>NavCustomAskSaveChanges</code> function, specify the script code returned in the reply structure. Otherwise, specify the system script by setting the <code>scriptTag</code> parameter to the value <code>smSystemScript</code>.</p><p>For more information on the functions <code>NavAskSaveChanges</code> and <code>NavCustomAskSaveChanges</code>, see <em>Programming With Navigation Services</em>. For a description of the <code>smSystemScript</code> constant, see the <em>Script Manager Reference</em>.</p><p></p></dd>
<dt><em>createdDirID</em></dt>
<dd><p>On return, a pointer to the directory ID of the directory that was created. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>FSpDirCreate</code> function sets the date and time of creation and last modification to the current date and time.</p>
<p>Before calling this function, you should call the <code>Gestalt</code> function to check that the function is available. If <code>FSpDirCreate</code> is not available, you can use the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/DirCreate">DirCreate</a></code>  instead. To create a directory with a Unicode name, use the function  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateDirectoryUnicode">FSCreateDirectoryUnicode</a></code> , or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeSync">PBCreateDirectoryUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeAsync">PBCreateDirectoryUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpExchangeFiles" title="FSpExchangeFiles"></a><a name="//apple_ref/doc/c_ref/FSpExchangeFiles" title="FSpExchangeFiles"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01580" title="FSpExchangeFiles"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_116"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_116"></a><h3 class="tight">FSpExchangeFiles</h3>
<p class="spaceabove">Exchanges the data stored in two files on the same volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSExchangeObjects">FSExchangeObjects</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpExchangeFiles (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *source,
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *dest
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>source</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> for the first file to swap. The contents of this file and its file information are placed in the file specified in the <code>dest</code> parameter. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>dest</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> for the second file to swap. The contents of this file and its file information are placed in the file specified in the <code>source</code> parameter.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>FSpExchangeFiles</code> function swaps the data in two files by changing the information in the volume’s catalog and, if either of the files are open, in the file control blocks. The following fields in the catalog entries for the files are exchanged:</p>
<ul class="ul"><li class="li"><p><code>ioFlStBlk </code></p></li>
<li class="li"><p><code>ioFlLgLen </code></p></li>
<li class="li"><p><code>ioFlPyLen </code></p></li>
<li class="li"><p><code>ioFlRStBlk </code></p></li>
<li class="li"><p><code>ioFlRLgLen </code></p></li>
<li class="li"><p><code>ioFlRPyLen </code></p></li>
<li class="li"><p><code>ioFlMdDat </code></p></li></ul>
<p>In the file control blocks, the <code>fcbFlNum</code>, <code>fcbDirID</code>, and <code>fcbCName</code> fields are exchanged.</p>
<p>You should use <code>FSpExchangeFiles</code> when updating an existing file, so that the file ID remains valid in case the file is being tracked through its file ID. The <code>FSpExchangeFiles</code> function changes the fields in the catalog entries that record the location of the data and the modification dates. It swaps both the data forks and the resource forks.</p>
<p>The <code>FSpExchangeFiles</code> function works on both open and closed files. If either file is open, <code>FSpExchangeFiles</code> updates any file control blocks associated with the file. Exchanging the contents of two files requires essentially the same access permissions as opening both files for writing.</p>
<p>The files whose data is to be exchanged must both reside on the same volume. If they do not, <code>FSpExchangeFiles</code> returns the result code <code>diffVolErr</code>.</p>
<p>To exchange the contents of files with named forks other than the data and resource forks, or of files larger than 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSExchangeObjects">FSExchangeObjects</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBExchangeObjectsSync">PBExchangeObjectsSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBExchangeObjectsAsync">PBExchangeObjectsAsync</a></code>  function. </p>
<h5 class="tight">Special Considerations</h5>
<p>The “compatibility code,” by which <code>FSpExchangeFiles</code> attempted to perform the file exchange itself if it suspected that the underlying filesystem did not have Exchange capability, has been removed in Mac OS 9 and X.</p>
<p>Because other programs may have access paths open to one or both of the files exchanged, your application should have exclusive read/write access permission (<code>fsRdWrPerm</code>) to both files before calling <code>FSpExchangeFiles</code>. Exclusive read/write access to both files will ensure that <code>FSpExchangeFiles</code> doesn't  affect another application because it prevents other applications from obtaining write access to one or both of the files exchanged.</p>
<p><code>FSpExchangeFiles</code> does not respect the file-locked attribute; it will perform the exchange even if one or  both of the files are locked. Obtaining exclusive read/write access to both files before calling <code>FSpExchangeFiles</code> ensures that the files are unlocked because locked files cannot be opened with write access.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpGetFInfo" title="FSpGetFInfo"></a><a name="//apple_ref/doc/c_ref/FSpGetFInfo" title="FSpGetFInfo"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01581" title="FSpGetFInfo"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_117"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_117"></a><h3 class="tight">FSpGetFInfo</h3>
<p class="spaceabove">Obtains the Finder information for a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpGetFInfo (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec,
   <a href="../../Finder_Interface/Reference/reference.html#//apple_ref/doc/c_ref/FInfo" target="_top">FInfo</a> *fndrInfo
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> structure specifying the file. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>fndrInfo</em></dt>
<dd><p>On return, a pointer to information used by the Finder. The <code>FSpGetFInfo</code> function returns the Finder information from the volume catalog entry for the specified file. The function provides only the original Finder information—the information in the <code>FInfo</code> or <code>DInfo</code> structures, not the information in the <code>FXInfo</code> or <code>DXInfo</code> structures. For a description of the <code>FInfo</code> structure, see the <em>Finder Interface Reference</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. If the specified object is a folder, this function returns <code>fnfErr</code>. For other possible return values, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTCarbonShell/index.html#//apple_ref/doc/uid/DTS10003611" target="_top">QTCarbonShell</a></span></li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpOpenDF" title="FSpOpenDF"></a><a name="//apple_ref/doc/c_ref/FSpOpenDF" title="FSpOpenDF"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01582" title="FSpOpenDF"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_119"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_119"></a><h3 class="tight">FSpOpenDF</h3>
<p class="spaceabove">Opens the data fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpOpenDF (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec,
   SInt8 permission,
   <!--a-->FSIORefNum<!--/a--> *refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>    A pointer to an <code>FSSpec</code> structure specifying the file whose data fork is to be opened. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>permission</em></dt>
<dd><p>A constant indicating the type of access with which to open the file’s data fork. In most cases, you can simply set the <code>permission</code> parameter to <code>fsCurPerm</code>. Some applications request <code>fsRdWrPerm</code>, to ensure that they can both read from and write to a file. For a description of the types of access that you can request, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> </p></dd>
<dt><em>refNum</em></dt>
<dd><p>On return, a pointer to the file reference number for accessing the open data fork. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Before calling this function, you should call the <code>Gestalt</code> function to check that the function is available. If <code>FSpOpenDF</code> is not available, you can use the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenDF">HOpenDF</a></code>  instead.</p>
<p>Note that if you wish to access named forks other than the data and resource forks, or forks larger than 2GB, you will need to use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code>. If you try to open a fork larger than 2GB with the <code>FSpOpenDF</code> function, you will receive an error message.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpOpenRF" title="FSpOpenRF"></a><a name="//apple_ref/doc/c_ref/FSpOpenRF" title="FSpOpenRF"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01584" title="FSpOpenRF"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_120"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_120"></a><h3 class="tight">FSpOpenRF</h3>
<p class="spaceabove">Opens the resource fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpOpenRF (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec,
   SInt8 permission,
   <!--a-->FSIORefNum<!--/a--> *refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> structure specifying the file whose resource fork is to be opened. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>permission</em></dt>
<dd><p>A constant indicating the type of access with which to open the file’s resource fork. For a description of the types of access you can request, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> </p></dd>
<dt><em>refNum</em></dt>
<dd><p>On return, a pointer to the file reference number for accessing the open resource fork. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> On some file systems, <code>FSpOpenRF</code> will return the error <code>eofErr</code> if you try to open the resource fork of a file for which no resource fork exists with read-only access.</p>
<h5 class="tight">Discussion</h5>
<p>Before calling this function, you should call the <code>Gestalt</code> function to check that the function is available. If <code>FSpOpenRF</code> is not available, you can use the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenRF">HOpenRF</a></code>  instead. </p>
<p>Note that if you wish to access named forks other than the data and resource forks, or forks larger than 2GB, you will need to use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code>  or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code>. If you try to open a fork larger than 2GB with the <code>FSpOpenRF</code> function, you will receive an error message.  </p>
<h5 class="tight">Special Considerations</h5>
<p>Generally, your application should use Resource Manager functions rather than File Manager functions to access a file’s resource fork. The <code>FSpOpenRF</code> function does not read the resource map into memory and is generally useful only for applications (such as utilities that copy files) that need block-level access to a resource fork. </p>
<p>You should not use the resource fork of a file to hold non-resource data. Many parts of the system software assume that a resource fork always contains resource data.</p>
<p>Because there is no support for locking and unlocking file ranges on local disks in Mac OS X, regardless of whether File Sharing is enabled, you cannot open more than one path to a resource fork with read/write permission. If you try to open a more than one path to a file's resource fork with  <code>fsRdWrShPerm</code> permission, only the first attempt will succeed. Subsequent attempts will return an invalid reference number and the <code>ResError</code> function will return the error <code>opWrErr</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpRename" title="FSpRename"></a><a name="//apple_ref/doc/c_ref/FSpRename" title="FSpRename"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01585" title="FSpRename"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_121"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_121"></a><h3 class="tight">FSpRename</h3>
<p class="spaceabove">Renames a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSRenameUnicode">FSRenameUnicode</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpRename (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> newName
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> structure specifying the file or directory to rename. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>newName</em></dt>
<dd><p>The new name of the file or directory. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If a file ID reference for the specified file exists, it remains with the renamed file.</p>
<p>If you want to change the name of a new copy of an existing file, you should use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpExchangeFiles">FSpExchangeFiles</a></code>  function instead. To rename a file or directory using a long Unicode name, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSRenameUnicode">FSRenameUnicode</a></code>  function or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeSync">PBRenameUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeAsync">PBRenameUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpRstFLock" title="FSpRstFLock"></a><a name="//apple_ref/doc/c_ref/FSpRstFLock" title="FSpRstFLock"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01586" title="FSpRstFLock"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_122"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_122"></a><h3 class="tight">FSpRstFLock</h3>
<p class="spaceabove">Unlocks a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpRstFLock (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>A pointer to an <code>FSSpec</code> structure specifying the file to unlock. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function indicates that the volume supports folder locking (that is, the <code>bHasFolderLock</code> bit of the <code>vMAttrib</code> field is set), you can use <code>FSpRstFLock</code> to unlock a directory. Otherwise, you can only use this function to unlock a file. </p>
<p>You can lock a file or directory with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpSetFLock">FSpSetFLock</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HSetFLock">HSetFLock</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFLockSync">PBHSetFLockSync</a></code> , and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFLockAsync">PBHSetFLockAsync</a></code>  functions. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpSetFInfo" title="FSpSetFInfo"></a><a name="//apple_ref/doc/c_ref/FSpSetFInfo" title="FSpSetFInfo"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01587" title="FSpSetFInfo"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_123"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_123"></a><h3 class="tight">FSpSetFInfo</h3>
<p class="spaceabove">Sets the Finder information about a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpSetFInfo (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec,
   const <a href="../../Finder_Interface/Reference/reference.html#//apple_ref/doc/c_ref/FInfo" target="_top">FInfo</a> *fndrInfo
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>    A pointer to an <code>FSSpec</code> structure specifying the file  for which to set the Finder information. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>fndrInfo</em></dt>
<dd><p>A pointer to the new Finder information. For a description of the <code>FInfo</code> data type, see the <em>Finder Interface Reference</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>FSpSetFInfo</code> function changes the Finder information in the volume catalog entry for the specified file. <code>FSpSetFInfo</code> allows you to set only the original Finder information—the information in the <code>FInfo</code> or <code>DInfo</code> structures, not the information in the <code>FXInfo</code> or <code>DXInfo</code> structures.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CarbonSketch/index.html#//apple_ref/doc/uid/DTS10003226" target="_top">CarbonSketch</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTCarbonShell/index.html#//apple_ref/doc/uid/DTS10003611" target="_top">QTCarbonShell</a></span></li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpSetFLock" title="FSpSetFLock"></a><a name="//apple_ref/doc/c_ref/FSpSetFLock" title="FSpSetFLock"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01588" title="FSpSetFLock"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_124"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_124"></a><h3 class="tight">FSpSetFLock</h3>
<p class="spaceabove">Locks a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FSpSetFLock (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *spec
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>spec</em></dt>
<dd><p>    A pointer to an <code>FSSpec</code> structure specifying the file or directory to lock. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  functions indicate that the volume supports folder locking (that is, the <code>bHasFolderLock</code> bit of the <code>vMAttrib</code> field is set), you can use <code>FSpSetFLock</code> to lock a directory. Otherwise, you can only use this function to lock a file.</p>
<p>After you lock a file, all new access paths to that file are read-only. This function has no effect on existing access paths. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSRead" title="FSRead"></a><a name="//apple_ref/doc/c_ref/FSRead" title="FSRead"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-SW20" title="FSRead"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_125"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_125"></a><h3 class="tight">FSRead</h3><p class="spaceabove">Reads any number of bytes from an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSReadFork">FSReadFork</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr FSRead (
   <!--a-->FSIORefNum<!--/a--> refNum,
   SInt32 *count,
   void *buffPtr
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>refNum</em></dt><dd><p>The file reference number of the open file from which to read. </p></dd><dt><em>count</em></dt><dd><p>On input, a pointer to the number of bytes to read; on output, a pointer to the number of bytes actually read. </p></dd><dt><em>buffPtr</em></dt><dd><p>A pointer to the data buffer into which the data will be read. This buffer is allocated by your application and must be at least as large as the <code>count</code> parameter. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Because the read operation begins at the current mark, you might want to set the mark first by calling the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetFPos">SetFPos</a></code>  function. If you try to read past the logical end-of-file, <code>FSRead</code> reads in all the data up to the end-of-file, moves the mark to the end-of-file, and returns <code>eofErr</code> as its function result. Otherwise, <code>FSRead</code> moves the file mark to the byte following the last byte read and returns <code>noErr</code>.</p><p>The low-level functions <code>PBReadSync</code> and <code>PBReadAsync</code> let you set the mark without having to call <code>SetFPos</code>. Furthermore, if you want to read data in newline mode, you must use <code>PBReadSync</code> or <code>PBReadAsync</code> instead of <code>FSRead</code>.</p><p>If you wish to read from named forks other than the data or resource forks, or from files larger than 2GB, you must use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSReadFork">FSReadFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBReadForkSync">PBReadForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBReadForkAsync">PBReadForkAsync</a></code>. If you attempt to use <code>FSRead</code> to read from a file larger than 2GB, you will receive an error message. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSWrite" title="FSWrite"></a><a name="//apple_ref/doc/c_ref/FSWrite" title="FSWrite"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-SW19" title="FSWrite"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_137"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_137"></a><h3 class="tight">FSWrite</h3><p class="spaceabove">Writes any number of bytes to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSWriteFork">FSWriteFork</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr FSWrite (
   <!--a-->FSIORefNum<!--/a--> refNum,
   SInt32 *count,
   const void *buffPtr
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>refNum</em></dt><dd><p>The file reference number of the open file to which to write. </p></dd><dt><em>count</em></dt><dd><p>On input, a pointer to the number of bytes to write to the file. Passing 0 in this parameter will return a <code>paramErr</code> error.</p><p>On output, a pointer to the number of bytes actually written.</p><p></p></dd><dt><em>buffPtr</em></dt><dd><p>A pointer to the data buffer containing the data to write. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The <code>FSWrite</code> function takes the specified number of bytes from the data buffer and attempts to write them to the file. Because the write operation begins at the current mark, you might want to set the mark first by calling the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetFPos">SetFPos</a></code>  function.</p><p>If the write operation completes successfully, <code>FSWrite</code> moves the file mark to the byte following the last byte written and returns <code>noErr</code>. If you try to write past the logical end-of-file, <code>FSWrite</code> moves the logical end-of-file. If you try to write past the physical end-of-file, <code>FSWrite</code> adds one or more clumps to the file and moves the physical end-of-file accordingly.</p><p>The low-level functions <code>PBWriteSync</code> and <code>PBWriteAsync</code> let you set the mark without having to call <code>SetFPos.</code></p><p>If you wish to write to named forks other than the data or resource forks, or grow files larger than 2GB, you must use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSWriteFork">FSWriteFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBWriteForkSync">PBWriteForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBWriteForkAsync">PBWriteForkAsync</a></code>. If you attempt to use <code>FSWrite</code> to write to a file larger than 2GB, you will receive an error message. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/GetEOF" title="GetEOF"></a><a name="//apple_ref/doc/c_ref/GetEOF" title="GetEOF"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01752" title="GetEOF"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_139"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_139"></a><h3 class="tight">GetEOF</h3>
<p class="spaceabove">Determines the current logical size of an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkSize">FSGetForkSize</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr GetEOF (
   <!--a-->FSIORefNum<!--/a--> refNum,
   SInt32 *logEOF
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>The file reference number of an open file. </p></dd>
<dt><em>logEOF</em></dt>
<dd><p>On return, a pointer to the logical size (the logical end-of-file) of the given file. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>To determine the size of a named fork other than the data or resource forks, or of a fork larger than 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkSize">FSGetForkSize</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkSizeSync">PBGetForkSizeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkSizeAsync">PBGetForkSizeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/GetFPos" title="GetFPos"></a><a name="//apple_ref/doc/c_ref/GetFPos" title="GetFPos"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01776" title="GetFPos"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_140"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_140"></a><h3 class="tight">GetFPos</h3>
<p class="spaceabove">Returns the current position of the file mark.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkPosition">FSGetForkPosition</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr GetFPos (
   <!--a-->FSIORefNum<!--/a--> refNum,
   SInt32 *filePos
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>The file reference number of an open file. </p></dd>
<dt><em>filePos</em></dt>
<dd><p>On return, a pointer to the current position of the mark. The position value is zero-based; that is, the value of <code>filePos</code> is 0 if the file mark is positioned at the beginning of the file. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Because the read and write operations performed by the functions <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSRead">FSRead</a></code> and <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSWrite">FSWrite</a></code> begin at the current mark, you should call <code>GetFPos</code>, or one of the parameter block functions,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetFPosSync">PBGetFPosSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetFPosAsync">PBGetFPosAsync</a></code> , to determine the current position of the file mark before reading from or writing to the file.</p>
<p>To determine the current position of a named fork, or of a fork larger than 2GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkPosition">FSGetForkPosition</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkPositionSync">PBGetForkPositionSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkPositionAsync">PBGetForkPositionAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/GetVRefNum" title="GetVRefNum"></a><a name="//apple_ref/doc/c_ref/GetVRefNum" title="GetVRefNum"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02110" title="GetVRefNum"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_141"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_141"></a><h3 class="tight">GetVRefNum</h3>
<p class="spaceabove">Gets a volume reference number from a file reference number.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr GetVRefNum (
   <!--a-->FSIORefNum<!--/a--> fileRefNum,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> *vRefNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>fileRefNum</em></dt>
<dd><p>The file reference number of an open file. </p></dd>
<dt><em>vRefNum</em></dt>
<dd><p>On return, a pointer to the volume reference number of the volume containing the file specified in the <code>refNum</code> parameter.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If you also want to determine the directory ID of the specified file’s parent directory, call the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetFCBInfoSync">PBGetFCBInfoSync</a></code> or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetFCBInfoAsync">PBGetFCBInfoAsync</a></code>  functions. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HCreate" title="HCreate"></a><a name="//apple_ref/doc/c_ref/HCreate" title="HCreate"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02841" title="HCreate"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_142"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_142"></a><h3 class="tight">HCreate</h3>
<p class="spaceabove">Creates a new file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateFileUnicode">FSCreateFileUnicode</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HCreate (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName,
   <!--a-->OSType<!--/a--> creator,
   <!--a-->OSType<!--/a--> fileType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The directory ID of the directory in which to create the new file. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the new file.  This can be a full or partial pathname. </p><p>You should not allow users to give files names that begin with a period (.). This ensures that files can be successfully opened by applications calling <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpen">HOpen</a></code> instead of <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenDF">HOpenDF</a></code>.</p></dd>
<dt><em>creator</em></dt>
<dd><p>The creator of the new file. For more information on a file’s creator, see the Finder Interface documentation. </p></dd>
<dt><em>fileType</em></dt>
<dd><p>The file type of the new file. For more information on a file’s type, see the Finder Interface documentation.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>HCreate</code> function creates a new file (both data and resource forks) with the specified name, creator, and file type. The new file is unlocked and empty. The date and time of its creation and last modification are set to the current date and time.</p>
<p>Files created using <code>HCreate</code> are not automatically opened. If you want to write data to the new file, you must first open the file using a file access function.</p>
<p>The resource fork of the new file exists but is empty. You’ll need to call one of the Resource Manager functions <code>HCreateResFile</code> or <code>FSpCreateResFile</code> to create a resource map in the file before you can open it (by calling one of the Resource Manager functions <code>HOpenResFile</code> or <code>FSpOpenResFile</code>). </p>
<p>To create a file with a Unicode filename, use the function  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateFileUnicode">FSCreateFileUnicode</a></code> , or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeSync">PBCreateFileUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeAsync">PBCreateFileUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HDelete" title="HDelete"></a><a name="//apple_ref/doc/c_ref/HDelete" title="HDelete"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02844" title="HDelete"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_143"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_143"></a><h3 class="tight">HDelete</h3>
<p class="spaceabove">Deletes a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSDeleteObject">FSDeleteObject</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HDelete (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number,  or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The directory ID of the parent directory of the file or directory to delete. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the file or directory to delete. This can be a full or partial pathname. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> If you attempt to delete an open file or a non-empty directory, <code>HDelete</code> returns the result code <code>fBsyErr</code>. <code>HDelete</code> also returns the result code <code>fBsyErr</code> if the directory has an open working directory associated with it.</p>
<h5 class="tight">Discussion</h5>
<p>If the specified target is a file, both the data and the resource fork of the file are deleted. In addition, if a file ID reference for the specified file exists, that reference is removed. A file must be closed before you can delete it. Similarly, you cannot delete a directory unless it’s empty.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HGetFInfo" title="HGetFInfo"></a><a name="//apple_ref/doc/c_ref/HGetFInfo" title="HGetFInfo"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02845" title="HGetFInfo"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_144"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_144"></a><h3 class="tight">HGetFInfo</h3>
<p class="spaceabove">Obtains the Finder information for a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HGetFInfo (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName,
   <a href="../../Finder_Interface/Reference/reference.html#//apple_ref/doc/c_ref/FInfo" target="_top">FInfo</a> *fndrInfo
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>The volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The parent directory ID of the file. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the file. </p></dd>
<dt><em>fndrInfo</em></dt>
<dd><p>On return, a pointer to the Finder information stored in the specified volume’s catalog. The function returns only the original Finder information—that contained in an <code>FInfo</code> structure, not that in an <code>FXInfo</code> structure.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HGetVol" title="HGetVol"></a><a name="//apple_ref/doc/c_ref/HGetVol" title="HGetVol"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02847" title="HGetVol"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_145"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_145"></a><h3 class="tight">HGetVol</h3>
<p class="spaceabove">Determines the current default volume and default directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr HGetVol (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/StringPtr" target="_top">StringPtr</a> volName,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> *vRefNum,
   SInt32 *dirID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>volName</em></dt>
<dd><p>On return, a pointer to the name of the default volume. If you do not want the name of the default volume returned, set this parameter to <code>NULL</code>. </p></dd>
<dt><em>vRefNum</em></dt>
<dd><p>On return, a pointer to the volume reference number of the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>On return, a pointer to the directory ID of the default directory. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Version Notes</h5>
<p>When CarbonLib is not present, the <code>HGetVol</code> function returns a working directory reference number in the <code>vRefNum</code> parameter if the previous call to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HSetVol">HSetVol</a></code> (or one of the corresponding parameter block calls) passed in a working directory reference number.</p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Carbon applications should use <code>HGetVol</code> and <code>HSetVol</code> to get and set the default directory. the functions <code>GetVol</code> and <code>SetVol</code>, as well as working directories, are no longer supported. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HOpen" title="HOpen"></a><a name="//apple_ref/doc/c_ref/HOpen" title="HOpen"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02891" title="HOpen"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_146"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_146"></a><h3 class="tight">HOpen</h3>
<p class="spaceabove">Opens the data fork of a file. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HOpen (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName,
   SInt8 permission,
   <!--a-->FSIORefNum<!--/a--> *refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The directory ID of the file’s parent directory. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the file. </p></dd>
<dt><em>permission</em></dt>
<dd><p>A constant specifying the type of access with which to open the file’s data fork. For a description of the types of access you can request, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> </p></dd>
<dt><em>refNum</em></dt>
<dd><p>On return, a pointer to the file reference number for accessing the open fork.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If you use <code>HOpen</code> to try to open a file whose name begins with a period, you might mistakenly open a driver instead; subsequent attempts to write data might corrupt data on the target device. To avoid these problems, you should always use <code>HOpenDF</code> instead of <code>HOpen</code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>If you use <code>HOpen</code> to try to open a file whose name begins with a period, you might mistakenly open a driver instead; subsequent attempts to write data might corrupt data on the target device. To avoid these problems, you should always use <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenDF">HOpenDF</a></code> instead of <code>HOpen</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HOpenDF" title="HOpenDF"></a><a name="//apple_ref/doc/c_ref/HOpenDF" title="HOpenDF"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02892" title="HOpenDF"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_147"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_147"></a><h3 class="tight">HOpenDF</h3>
<p class="spaceabove">Opens the data fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HOpenDF (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName,
   SInt8 permission,
   <!--a-->FSIORefNum<!--/a--> *refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The directory ID of the file’s parent directory. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the file. </p></dd>
<dt><em>permission</em></dt>
<dd><p>A constant specifying the type of access with which to open the file’s data fork. For a description of the types of access which you can request, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> </p></dd>
<dt><em>refNum</em></dt>
<dd><p>On return, a pointer to the file reference number for accessing the open data fork.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Note that if you wish to access named forks other than the data and resource forks, or forks larger than 2GB, you will need to use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code>  or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code>. If you try to open a fork larger than 2GB with the <code>HOpenDF</code> function, you will receive an error message.  </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HOpenRF" title="HOpenRF"></a><a name="//apple_ref/doc/c_ref/HOpenRF" title="HOpenRF"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02894" title="HOpenRF"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_148"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_148"></a><h3 class="tight">HOpenRF</h3>
<p class="spaceabove">Opens the resource fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HOpenRF (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName,
   SInt8 permission,
   <!--a-->FSIORefNum<!--/a--> *refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The directory ID for the file’s parent directory. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the file. </p></dd>
<dt><em>permission</em></dt>
<dd><p>A constant specifying the type of access with which to open the file’s resource fork. For a description of the types of access you can request, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> </p></dd>
<dt><em>refNum</em></dt>
<dd><p>On return, a pointer to the file reference number for accessing the open resource fork.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> If you try to open the resource fork of a file for which no resource fork exists with read-only access, <code>HOpenRF</code>  returns the error <code>eofErr</code>.</p>
<h5 class="tight">Discussion</h5>
<p>Note that if you wish to access named forks other than the data and resource forks, or forks larger than 2GB, you will need to use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code>  or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code>. If you try to open a fork larger than 2GB with the <code>HOpenRF</code> function, you will receive an error message.  </p>
<h5 class="tight">Special Considerations</h5>
<p>Generally, your application should use Resource Manager functions rather than File Manager functions to access a file’s resource fork. The <code>HOpenRF</code> function does not read the resource map into memory and is generally useful only for applications (such as utilities that copy files) that need block-level access to a resource fork. </p>
<p>You should not use the resource fork of a file to hold non-resource data. Many parts of the system software assume that a resource fork always contains resource data.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HRename" title="HRename"></a><a name="//apple_ref/doc/c_ref/HRename" title="HRename"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02896" title="HRename"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_149"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_149"></a><h3 class="tight">HRename</h3>
<p class="spaceabove">Renames a file, directory, or volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSRenameUnicode">FSRenameUnicode</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HRename (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> oldName,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> newName
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>A directory ID. </p></dd>
<dt><em>oldName</em></dt>
<dd><p>An existing filename, directory name, or volume name. </p></dd>
<dt><em>newName</em></dt>
<dd><p>The new filename, directory name, or volume name.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Given the name of a file or directory in the <code>oldName</code> parameter, <code>HRename</code> changes it to the name in the <code>newName</code> parameter. Given a volume name in the <code>oldName</code> parameter or a volume reference number in the <code>vRefNum</code> parameter, <code>HRename</code> changes the name of the volume to the name in <code>newName</code>. Access paths currently in use aren’t affected by this function.</p>
<p>If a file ID reference exists for a file you are renaming, the file ID remains with the renamed file.</p>
<p>To rename a file or directory using a long Unicode name, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSRenameUnicode">FSRenameUnicode</a></code>  function or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeSync">PBRenameUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeAsync">PBRenameUnicodeAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>You cannot use <code>HRename</code> to change the directory in which a file resides. To move a file or directory, use the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpCatMove">FSpCatMove</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBCatMoveSync">PBCatMoveSync</a></code>, or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBCatMoveAsync">PBCatMoveAsync</a></code> functions. </p>
<p>If you’re renaming a volume, make sure that both names end with a colon.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HRstFLock" title="HRstFLock"></a><a name="//apple_ref/doc/c_ref/HRstFLock" title="HRstFLock"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02897" title="HRstFLock"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_150"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_150"></a><h3 class="tight">HRstFLock</h3>
<p class="spaceabove">Unlocks a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HRstFLock (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The parent directory ID of the file or directory to unlock. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the file or directory. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function indicates that the volume supports folder locking (that is, the <code>bHasFolderLock</code> bit of the <code>vMAttrib</code> field is set), you can use <code>HRstFLock</code> to unlock a directory. Otherwise, you can only use this function to unlock a file.</p>
<p>You can lock a file or directory with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpSetFLock">FSpSetFLock</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HSetFLock">HSetFLock</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFLockSync">PBHSetFLockSync</a></code> , and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFLockAsync">PBHSetFLockAsync</a></code>  functions. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HSetFInfo" title="HSetFInfo"></a><a name="//apple_ref/doc/c_ref/HSetFInfo" title="HSetFInfo"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02898" title="HSetFInfo"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_151"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_151"></a><h3 class="tight">HSetFInfo</h3>
<p class="spaceabove">Sets the Finder information for a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HSetFInfo (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName,
   const <a href="../../Finder_Interface/Reference/reference.html#//apple_ref/doc/c_ref/FInfo" target="_top">FInfo</a> *fndrInfo
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The parent directory ID of the file. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the file. </p></dd>
<dt><em>fndrInfo</em></dt>
<dd><p>A pointer to the new Finder information. The function changes the Finder information stored in the volume’s catalog. <code>HSetFInfo</code> changes only the original Finder information—that contained in an <code>FInfo</code> structure, not that contained in an <code>FXInfo</code> structure. For a description of the <code>FInfo</code> data type, see the <em>Finder Interface Reference</em>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HSetFLock" title="HSetFLock"></a><a name="//apple_ref/doc/c_ref/HSetFLock" title="HSetFLock"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02899" title="HSetFLock"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_152"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_152"></a><h3 class="tight">HSetFLock</h3>
<p class="spaceabove">Locks a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr HSetFLock (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> fileName
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>The parent directory ID of the file or directory to lock. </p></dd>
<dt><em>fileName</em></dt>
<dd><p>The name of the file or directory. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function indicates that the volume supports folder locking (that is, the <code>bHasFolderLock</code> bit of the <code>vMAttrib</code> field is set), you can use <code>HSetFLock</code> to lock a directory. Otherwise, you can only use this function to lock a file.</p>
<p>After you lock a file, all new access paths to that file are read-only. This function has no effect on existing access paths. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/HSetVol" title="HSetVol"></a><a name="//apple_ref/doc/c_ref/HSetVol" title="HSetVol"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F02902" title="HSetVol"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_153"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_153"></a><h3 class="tight">HSetVol</h3>
<p class="spaceabove">Sets the default volume and the default directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr HSetVol (
   <!--a-->ConstStr63Param<!--/a--> volName,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum,
   SInt32 dirID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>volName</em></dt>
<dd><p>The name of a mounted volume or the partial pathname of a directory. This parameter can be <code>NULL</code>. </p></dd>
<dt><em>vRefNum</em></dt>
<dd><p>A volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><em>dirID</em></dt>
<dd><p>A directory ID. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>HSetVol</code> function lets you specify the default directory by volume reference number or by directory ID.</p>
<p>Both the default volume and the default directory are used in calls made with no volume name, a volume reference number of 0, and a directory ID of 0. </p>
<h5 class="tight">Special Considerations</h5>
<p>Use of the <code>HSetVol</code> function is discouraged if your application may execute in system software versions prior to version 7.0. Because the specified directory might not itself be a working directory, <code>HSetVol</code> records the default volume and directory separately, using the volume reference number of the volume and the actual directory ID of the specified directory. Subsequent calls to <code>GetVol</code> (or <code>PBGetVolSync</code> or <code>PBGetVolAsync</code>) return only the volume reference number, which will cause that volume’s root directory (rather than the default directory, as expected) to be accessed. </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Carbon applications should use <code>HGetVol</code> and <code>HSetVol</code> to get and set the default directory. the functions <code>GetVol</code> and <code>SetVol</code>, as well as working directories, are no longer supported. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBAllocateAsync" title="PBAllocateAsync"></a><a name="//apple_ref/doc/c_ref/PBAllocateAsync" title="PBAllocateAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04697" title="PBAllocateAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_164"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_164"></a><h3 class="tight">PBAllocateAsync</h3>
<p class="spaceabove">Allocates additional space on a volume to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkAsync">PBAllocateForkAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBAllocateAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the file to which to allocate additional blocks. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the number of bytes to allocate. </p></dd>
<dt><code>ioActCount </code></dt>
<dd><p>On output, the number of bytes actually allocated, rounded up to the nearest multiple of the allocation block size. </p></dd></dl>
<p>The <code>PBAllocateAsync</code> function adds <code>ioReqCount</code> bytes to the specified file and sets the physical end-of-file to 1 byte beyond the last block allocated. If there isn’t enough empty space on the volume to satisfy the allocation request, <code>PBAllocateAsync</code> allocates the rest of the space on the volume and returns <code>dskFulErr</code> as its function result.</p>
<p>If the total number of requested bytes is unavailable, <code>PBAllocateAsync</code> allocates whatever space, contiguous or not, is available. To force the allocation of the entire requested space as a contiguous piece, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocContigAsync">PBAllocContigAsync</a></code>  instead.</p>
<p>The File Manager automatically allocates file blocks if you move the logical end-of-file past the physical end-of-file, and it automatically deallocates unneeded blocks from a file if you move the logical end-of-file to a position more than one allocation block before the current physical end-of-file. Consequently, you do not in general need to be concerned with allocating or deallocating file blocks. However, you can improve file block contiguity if you use the <code>PBAllocateAsync</code> function to preallocate file blocks. This is most useful if you know in advance how big a file is likely to become.</p>
<p>The space allocated with this function is not permanently assigned to the file until the file’s logical end-of-file is changed to include the allocated space. When a file (or volume) is closed, the space beyond the file’s logical EOF is made available for other purposes, even if previously allocated to the file with a call to this function. You can change the end-of-file by setting it with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or by writing data to the file with the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSWrite">FSWrite</a></code> function.</p>
<p>This function is not supported by all file systems; for example, volumes mounted by the AppleShare file system do not support this function. To allocate space for a file on any volume, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or one of the related parameter block calls,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFSync">PBSetEOFSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFAsync">PBSetEOFAsync</a></code>.</p>
<p>To allocate space for a file beyond 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSAllocateFork">FSAllocateFork</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkSync">PBAllocateForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkAsync">PBAllocateForkAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>In Mac OS  7.5.5  through Mac OS 8.5, if there is not enough space left on the volume to allocate the requested number of  bytes, the <code>PBAllocateAsync</code> function  does not return the number of bytes actually allocated in the <code>ioActCount</code> field.  </p>
<p>To determine the remaining space on a volume before calling <code>PBAllocateAsync</code>, use the functions <code>PBXGetVolInfoSync</code> or <code>PBXGetVolInfoAsync</code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBAllocateSync" title="PBAllocateSync"></a><a name="//apple_ref/doc/c_ref/PBAllocateSync" title="PBAllocateSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04698" title="PBAllocateSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_167"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_167"></a><h3 class="tight">PBAllocateSync</h3>
<p class="spaceabove">Allocates additional space on a volume to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkSync">PBAllocateForkSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBAllocateSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the file to which to allocate additional blocks. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the number of bytes to allocate. </p></dd>
<dt><code>ioActCount </code></dt>
<dd><p>On output, the number of bytes actually allocated, rounded up to the nearest multiple of the allocation block size. </p></dd></dl>
<p>The <code>PBAllocateSync</code> function adds <code>ioReqCount</code> bytes to the specified file and sets the physical end-of-file to 1 byte beyond the last block allocated. If there isn’t enough empty space on the volume to satisfy the allocation request, <code>PBAllocateSync</code> allocates the rest of the space on the volume and returns <code>dskFulErr</code> as its function result.</p>
<p>If the total number of requested bytes is unavailable, <code>PBAllocateSync</code> allocates whatever space, contiguous or not, is available. To force the allocation of the entire requested space as a contiguous piece, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocContigSync">PBAllocContigSync</a></code>  instead.</p>
<p>The File Manager automatically allocates file blocks if you move the logical end-of-file past the physical end-of-file, and it automatically deallocates unneeded blocks from a file if you move the logical end-of-file to a position more than one allocation block before the current physical end-of-file. Consequently, you do not in general need to be concerned with allocating or deallocating file blocks. However, you can improve file block contiguity if you use the <code>PBAllocateSync</code> function to preallocate file blocks. This is most useful if you know in advance how big a file is likely to become.</p>
<p>The space allocated with this function is not permanently assigned to the file until the file’s logical end-of-file is changed to include the allocated space. When a file (or volume) is closed, the space beyond the file’s logical EOF is made available for other purposes, even if previously allocated to the file with a call to this function. You can change the end-of-file by setting it with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or by writing data to the file with the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSWrite">FSWrite</a></code> function.</p>
<p>This function is not supported by all file systems; for example, volumes mounted by the AppleShare file system do not support this function. To allocate space for a file on any volume, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or one of the related parameter block calls,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFSync">PBSetEOFSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFAsync">PBSetEOFAsync</a></code>.</p>
<p>To allocate space for a file beyond 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSAllocateFork">FSAllocateFork</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkSync">PBAllocateForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkAsync">PBAllocateForkAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>In Mac OS  7.5.5  through Mac OS 8.5, if there is not enough space left on the volume to allocate the requested number of  bytes, the <code>PBAllocateSync</code> function  does not return the number of bytes actually allocated in the <code>ioActCount</code> field.  </p>
<p>To determine the remaining space on a volume before calling <code>PBAllocateSync</code>, use the functions <code>PBXGetVolInfoSync</code> or <code>PBXGetVolInfoAsync</code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBAllocContigAsync" title="PBAllocContigAsync"></a><a name="//apple_ref/doc/c_ref/PBAllocContigAsync" title="PBAllocContigAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04699" title="PBAllocContigAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_168"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_168"></a><h3 class="tight">PBAllocContigAsync</h3>
<p class="spaceabove">Allocates additional contiguous space on a volume to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkAsync">PBAllocateForkAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBAllocContigAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the open file. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the number of bytes to allocate. </p></dd>
<dt><code>ioActCount </code></dt>
<dd><p>On output, the number of bytes actually allocated, rounded up to the nearest multiple of the allocation block size. </p></dd></dl>
<p>The <code>PBAllocContigAsync</code> function is identical to the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocateAsync">PBAllocateAsync</a></code>  function except that if there isn’t enough contiguous empty space on the volume to satisfy the allocation request, <code>PBAllocContigAsync</code> does nothing and returns <code>dskFulErr</code> as its function result. If you want to allocate whatever space is available, even when the entire request cannot be filled by the allocation of a contiguous piece, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocateAsync">PBAllocateAsync</a></code>  instead.</p>
<p>The File Manager automatically allocates file blocks if you move the logical end-of-file past the physical end-of-file, and it automatically deallocates unneeded blocks from a file if you move the logical end-of-file to a position more than one allocation block before the current physical end-of-file. Consequently, you do not in general need to be concerned with allocating or deallocating file blocks. However, you can improve file block contiguity if you use the <code>PBAllocContigAsync</code> function to preallocate file blocks. This is most useful if you know in advance how big a file is likely to become.</p>
<p>The space allocated with this function is not permanently assigned to the file until the file’s logical end-of-file is changed to include the allocated space. When a file (or volume) is closed, the space beyond the file’s logical EOF is made available for other purposes, even if previously allocated to the file with a call to this function. You can change the end-of-file by setting it with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or by writing data to the file with the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSWrite">FSWrite</a></code> function.</p>
<p>This function is not supported by all file systems; for example, volumes mounted by the AppleShare file system do not support this function. To allocate space for a file on any volume, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or one of the related parameter block calls,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFSync">PBSetEOFSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFAsync">PBSetEOFAsync</a></code>.</p>
<p>To allocate space for a file beyond 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSAllocateFork">FSAllocateFork</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkSync">PBAllocateForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkAsync">PBAllocateForkAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>In Mac OS 7.5.5 through Mac OS 8.5, when there is not enough space to allocate the requested number of bytes, <code>PBAllocContigAsync</code> does not return 0 in the <code>ioActCount</code> field, so your application cannot rely upon this value.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBAllocContigSync" title="PBAllocContigSync"></a><a name="//apple_ref/doc/c_ref/PBAllocContigSync" title="PBAllocContigSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04700" title="PBAllocContigSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_169"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_169"></a><h3 class="tight">PBAllocContigSync</h3>
<p class="spaceabove">Allocates additional contiguous space on a volume to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkSync">PBAllocateForkSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBAllocContigSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the open file. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the number of bytes to allocate. </p></dd>
<dt><code>ioActCount </code></dt>
<dd><p>On output, the number of bytes actually allocated, rounded up to the nearest multiple of the allocation block size. </p></dd></dl>
<p>The <code>PBAllocContigSync</code> function is identical to the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocateSync">PBAllocateSync</a></code>  function except that if there isn’t enough contiguous empty space on the volume to satisfy the allocation request, <code>PBAllocContigSync</code> does nothing and returns <code>dskFulErr</code> as its function result. If you want to allocate whatever space is available, even when the entire request cannot be filled by the allocation of a contiguous piece, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocateSync">PBAllocateSync</a></code>  instead.</p>
<p>The File Manager automatically allocates file blocks if you move the logical end-of-file past the physical end-of-file, and it automatically deallocates unneeded blocks from a file if you move the logical end-of-file to a position more than one allocation block before the current physical end-of-file. Consequently, you do not in general need to be concerned with allocating or deallocating file blocks. However, you can improve file block contiguity if you use the <code>PBAllocContigSync</code> function to preallocate file blocks. This is most useful if you know in advance how big a file is likely to become.</p>
<p>The space allocated with this function is not permanently assigned to the file until the file’s logical end-of-file is changed to include the allocated space. When a file (or volume) is closed, the space beyond the file’s logical EOF is made available for other purposes, even if previously allocated to the file with a call to this function. You can change the end-of-file by setting it with the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or by writing data to the file with the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSWrite">FSWrite</a></code> function.</p>
<p>This function is not supported by all file systems; for example, volumes mounted by the AppleShare file system do not support this function. To allocate space for a file on any volume, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetEOF">SetEOF</a></code>  function, or one of the related parameter block calls,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFSync">PBSetEOFSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFAsync">PBSetEOFAsync</a></code>.</p>
<p>To allocate space for a file beyond 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSAllocateFork">FSAllocateFork</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkSync">PBAllocateForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBAllocateForkAsync">PBAllocateForkAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>In Mac OS 7.5.5 through Mac OS 8.5, when there is not enough space to allocate the requested number of bytes, <code>PBAllocContigSync</code> does not return 0 in the <code>ioActCount</code> field, so your application cannot rely upon this value.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBCatMoveAsync" title="PBCatMoveAsync"></a><a name="//apple_ref/doc/c_ref/PBCatMoveAsync" title="PBCatMoveAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04701" title="PBCatMoveAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_172"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_172"></a><h3 class="tight">PBCatMoveAsync</h3>
<p class="spaceabove">Moves files or directories from one directory to another on the same volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectAsync">PBMoveObjectAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBCatMoveAsync (
   <!--a-->CMovePBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a catalog move parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CMovePBRec">CMovePBRec</a></code> for a description of the <code>CMovePBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> This function returns <code>permErr</code> if called on a locked file.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory to move. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioNewName </code></dt>
<dd><p>On input, a pointer to the name of the destination directory. Pass <code>NULL</code> in this field if you wish to specify the destination directory by its directory ID. </p></dd>
<dt><code>ioNewDirID </code></dt>
<dd><p>On input, if the <code>ioNewName</code> field is <code>NULL</code>, the directory ID of the destination directory. If <code>ioNewName</code> is not <code>NULL</code>, this is the parent directory ID of the directory into which the file or directory is to be moved. It is usually simplest to specify the destination directory by passing its directory ID in the <code>ioNewDirID</code> field and by setting <code>ioNewName</code> to <code>NULL</code>. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory to move. </p></dd></dl>
<p><code>PBCatMoveAsync</code> is strictly a file catalog operation; it does not actually change the location of the file or directory on the disk. If a file ID reference exists for the file, the file ID reference remains with the moved file.</p>
<p>The <code>PBCatMoveAsync</code> function cannot move a file or directory to another volume (that is, the value in the <code>ioVRefNum</code> field is used in specifying both the source and the destination). Also, you cannot use it to rename files or directories; to rename a file or directory, use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpRename">FSpRename</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHRenameSync">PBHRenameSync</a></code> , or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHRenameAsync">PBHRenameAsync</a></code> .</p>
<p>If you need to move files or directories with named forks other than the data and resource forks, with long Unicode names, or files larger than 2GB, you should use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMoveObject">FSMoveObject</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectSync">PBMoveObjectSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectAsync">PBMoveObjectAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBCatMoveSync" title="PBCatMoveSync"></a><a name="//apple_ref/doc/c_ref/PBCatMoveSync" title="PBCatMoveSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04702" title="PBCatMoveSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_173"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_173"></a><h3 class="tight">PBCatMoveSync</h3>
<p class="spaceabove">Moves files or directories from one directory to another on the same volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectSync">PBMoveObjectSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBCatMoveSync (
   <!--a-->CMovePBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a catalog move parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CMovePBRec">CMovePBRec</a></code> for a description of the <code>CMovePBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> This function returns <code>permErr</code> if called on a locked file.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory to move. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioNewName </code></dt>
<dd><p>On input, a pointer to the name of the destination directory. Pass <code>NULL</code> in this field if you wish to specify the destination directory by its directory ID. </p></dd>
<dt><code>ioNewDirID </code></dt>
<dd><p>On input, if the <code>ioNewName</code> field is <code>NULL</code>, the directory ID of the destination directory. If <code>ioNewName</code> is not <code>NULL</code>, this is the parent directory ID of the destination directory. It is usually simplest to specify the destination directory by passing its directory ID in the <code>ioNewDirID</code> field and by setting <code>ioNewName</code> to <code>NULL</code>. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory to move. </p></dd></dl>
<p><code>PBCatMoveSync</code> is strictly a file catalog operation; it does not actually change the location of the file or directory on the disk. If a file ID reference exists for the file, the file ID reference remains with the moved file.</p>
<p>The <code>PBCatMoveSync</code> function cannot move a file or directory to another volume (that is, the value in the <code>ioVRefNum</code> field is used in specifying both the source and the destination). Also, you cannot use it to rename files or directories; to rename a file or directory, use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpRename">FSpRename</a></code> , <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHRenameSync">PBHRenameSync</a></code>  , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHRenameAsync">PBHRenameAsync</a></code>.</p>
<p>If you need to move files or directories with named forks other than the data and resource forks, with long Unicode names, or files larger than 2GB, you should use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMoveObject">FSMoveObject</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectSync">PBMoveObjectSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMoveObjectAsync">PBMoveObjectAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBCatSearchAsync" title="PBCatSearchAsync"></a><a name="//apple_ref/doc/c_ref/PBCatSearchAsync" title="PBCatSearchAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04703" title="PBCatSearchAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_174"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_174"></a><h3 class="tight">PBCatSearchAsync</h3>
<p class="spaceabove">Searches a volume’s catalog file using a set of search criteria that you specify.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCatalogSearchAsync">PBCatalogSearchAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBCatSearchAsync (
   <!--a-->CSParamPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CSParam">CSParam</a></code> variant of an HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. When <code>PBCatSearchAsync</code> has searched the entire volume, it returns <code>eofErr</code>. If it exits because it either spends the maximum time allowed in the <code>ioSearchTime</code> field or finds the maximum number of matches allowed in the <code>ioReqMatchCount</code> field, it returns <code>noErr</code>.  </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the volume to search. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume to search; or 0 for the default volume. </p></dd>
<dt><code>ioMatchPtr </code></dt>
<dd><p>On input, a pointer to an array of  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code>  structure to hold the matches found by this function. On return, the <code>FSSpec</code> structures in this array identify the files and directories that match the criteria. </p></dd>
<dt><code>ioReqMatchCount </code></dt>
<dd><p>On input, the maximum number of matches to return. </p></dd>
<dt><code>ioActMatchCount </code></dt>
<dd><p>On output, the actual number of matches returned. </p></dd>
<dt><code>ioSearchBits </code></dt>
<dd><p>On input, a bitmap specifying the fields in the criteria structures to match against. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Catalog_Search_Masks">“Catalog Search Masks”</a></span>  for a description of the bits in this field. </p></dd>
<dt><code>ioSearchInfo1 </code></dt>
<dd><p>On input, a pointer to a  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CInfoPBRec">CInfoPBRec</a></code>  union containing search information. For values that match by mask and value (Finder information, for example), set the bits in the structure passed in <code>ioSearchInfo2</code>, and set the matching value in this structure. For values that match against a range (such as dates), set the lower bounds for the range in this structure. </p></dd>
<dt><code>ioSearchInfo2 </code></dt>
<dd><p>On input, a pointer to a  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CInfoPBRec">CInfoPBRec</a></code>  union containing search information. For values that match by mask and value (Finder information, for example), set the bits in this structure, and set the matching value in the structure passed in the <code>ioSearchInfo1</code> field. For values that match against a range (such as dates), set the upper bounds for the range in this structure. </p></dd>
<dt><code>ioSearchTime </code></dt>
<dd><p>On input, the maximum allowed search time. If you pass 0 in this field, no time limit is set. </p></dd>
<dt><code>ioCatPosition </code></dt>
<dd><p>The current catalog position, specified as a  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CatPositionRec">CatPositionRec</a></code>  structure. You can use this field, along with the <code>ioSearchTime</code> field, to search a volume in segments. To search a volume in segments, set a time limit for the search in the <code>ioSearchTime</code> field and set the <code>initialize</code> field of the <code>CatPositionRec</code> structure to the location for the start of the search (0 if you wish to start searching at the beginning of the volume). On return, the catalog position will be updated. You can then pass this updated <code>CatPositionRec</code> structure to the next call to <code>PBCatSearchSync</code> to continue searching at the place where you left off. </p></dd>
<dt><code>ioOptBuffer </code></dt>
<dd><p>On input, a pointer to an optional read buffer. </p></dd>
<dt><code>ioOptBufSize </code></dt>
<dd><p>On input, the length of the optional read buffer. </p></dd></dl>
<p>If the catalog file changes between two timed calls to <code>PBCatSearchAsync </code>  (that is, when you are using <code>ioSearchTime</code> and <code>ioCatPosition</code> to search a volume in segments and the catalog file changes between searches), <code>PBCatSearchAsync</code> returns a result code of <code>catChangedErr</code> and no matches. Depending on what has changed on the volume, <code>ioCatPosition</code> might be invalid, most likely by a few entries in one direction or another. You can continue the search, but you risk either skipping some entries or reading some twice. </p>
<h5 class="tight">Special Considerations</h5>
<p>Not all volumes support the <code>PBCatSearchAsync</code> function. Before you call <code>PBCatSearchAsync</code> to search a particular volume, you should call the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code> function to determine whether that volume supports <code>PBCatSearchAsync</code>. If the <code>bHasCatSearch</code> bit is set in the <code>vMAttrib</code> field, then the volume supports <code>PBCatSearchAsync</code>.</p>
<p>Even though AFP volumes support <code>PBCatSearchSync</code>, they do not support all of its features that are available on local volumes. These restrictions apply to AFP volumes:</p>
<ul class="ul"><li class="li"><p>AFP volumes do not use the <code>ioSearchTime</code> field. Current versions of the AppleShare server software search for 1 second or until 4 matches are found. The AppleShare workstation software keeps requesting the appropriate number of matches until the server returns either the number specified in the <code>ioReqMatchCount</code> field or an error.</p></li>
<li class="li"><p>AFP volumes do not support both logical and physical fork lengths. If you request a search using the length of a fork, the actual minimum length used is the smallest of the values in the logical and physical fields of the <code>ioSearchInfo1</code> structure and the actual maximum length used is the largest of the values in the logical and physical fields of the <code>ioSearchInfo2</code> structure.</p></li>
<li class="li"><p>The <code>fsSBNegate</code> bit of the <code>ioSearchBits</code> field is ignored during searches of remote volumes that support AFP version 2.1.</p></li>
<li class="li"><p>If the AFP server returns <code>afpCatalogChanged</code>, the catalog position structure returned to your application (in the <code>ioCatPosition</code> field) is the same one you passed to <code>PBCatSearchAsync</code>. You should clear the <code>initialize</code> field of that structure to restart the search from the beginning.</p></li></ul>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBCatSearchSync" title="PBCatSearchSync"></a><a name="//apple_ref/doc/c_ref/PBCatSearchSync" title="PBCatSearchSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04704" title="PBCatSearchSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_175"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_175"></a><h3 class="tight">PBCatSearchSync</h3>
<p class="spaceabove">Searches a volume’s catalog file using a set of search criteria that you specify.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCatalogSearchSync">PBCatalogSearchSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBCatSearchSync (
   <!--a-->CSParamPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CSParam">CSParam</a></code> variant of an HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> When <code>PBCatSearchSync</code> has searched the entire volume, it returns <code>eofErr</code>. If it exits because it either spends the maximum time allowed in the <code>ioSearchTime</code> field or finds the maximum number of matches allowed in the <code>ioReqMatchCount</code> field, it returns <code>noErr</code>.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the volume to search. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume to search; or 0 for the default volume. </p></dd>
<dt><code>ioMatchPtr </code></dt>
<dd><p>On input, a pointer to an array of  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code>  structure to hold the matches found by this function. On return, the <code>FSSpec</code> structures in this array identify the files and directories that match the criteria. </p></dd>
<dt><code>ioReqMatchCount </code></dt>
<dd><p>On input, the maximum number of matches to return. </p></dd>
<dt><code>ioActMatchCount </code></dt>
<dd><p>On output, the actual number of matches returned. </p></dd>
<dt><code>ioSearchBits </code></dt>
<dd><p>On input, a bitmap specifying the fields in the criteria structures to match against. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Catalog_Search_Masks">“Catalog Search Masks”</a></span>  for a description of the bits in this field. </p></dd>
<dt><code>ioSearchInfo1 </code></dt>
<dd><p>On input, a pointer to a  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CInfoPBRec">CInfoPBRec</a></code>  union containing search information. For values that match by mask and value (Finder information, for example), set the bits in the structure passed in <code>ioSearchInfo2</code>, and set the matching value in this structure. For values that match against a range (such as dates), set the lower bounds for the range in this structure. </p></dd>
<dt><code>ioSearchInfo2 </code></dt>
<dd><p>On input, a pointer to a  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CInfoPBRec">CInfoPBRec</a></code>  union containing search information. For values that match by mask and value (Finder information, for example), set the bits in this structure, and set the matching value in the structure passed in the <code>ioSearchInfo1</code> field. For values that match against a range (such as dates), set the upper bounds for the range in this structure. </p></dd>
<dt><code>ioSearchTime </code></dt>
<dd><p>On input, the maximum allowed search time. If you pass 0 in this field, no time limit is set. </p></dd>
<dt><code>ioCatPosition </code></dt>
<dd><p>The current catalog position, specified as a  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CatPositionRec">CatPositionRec</a></code>  structure. You can use this field, along with the <code>ioSearchTime</code> field, to search a volume in segments. To search a volume in segments, set a time limit for the search in the <code>ioSearchTime</code> field and set the <code>initialize</code> field of the <code>CatPositionRec</code> structure to the location for the start of the search (0 if you wish to start searching at the beginning of the volume). On return, the catalog position will be updated. You can then pass this updated <code>CatPositionRec</code> structure to the next call to <code>PBCatSearchSync</code> to continue searching at the place where you left off. </p></dd>
<dt><code>ioOptBuffer </code></dt>
<dd><p>On input, a pointer to an optional read buffer. </p></dd>
<dt><code>ioOptBufSize </code></dt>
<dd><p>On input, the length of the optional read buffer. </p></dd></dl>
<p>If the catalog file changes between two timed calls to <code>PBCatSearchSync </code>  (that is, when you are using <code>ioSearchTime</code> and <code>ioCatPosition</code> to search a volume in segments and the catalog file changes between searches), <code>PBCatSearchSync</code> returns a result code of <code>catChangedErr</code> and no matches. Depending on what has changed on the volume, <code>ioCatPosition</code> might be invalid, most likely by a few entries in one direction or another. You can continue the search, but you risk either skipping some entries or reading some twice. </p>
<h5 class="tight">Special Considerations</h5>
<p>Not all volumes support the <code>PBCatSearchSync</code> function. Before you call <code>PBCatSearchSync</code> to search a particular volume, you should call the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code> function to determine whether that volume supports <code>PBCatSearchSync</code>.If the <code>bHasCatSearch</code> bit is set in the <code>vMAttrib</code> field, then the volume supports <code>PBCatSearchSync</code>.</p>
<p>Even though AFP volumes support <code>PBCatSearchSync</code>, they do not support all of its features that are available on local volumes. These restrictions apply to AFP volumes:</p>
<ul class="ul"><li class="li"><p>AFP volumes do not use the <code>ioSearchTime</code> field. Current versions of the AppleShare server software search for 1 second or until 4 matches are found. The AppleShare workstation software keeps requesting the appropriate number of matches until the server returns either the number specified in the <code>ioReqMatchCount</code> field or an error.</p></li>
<li class="li"><p>AFP volumes do not support both logical and physical fork lengths. If you request a search using the length of a fork, the actual minimum length used is the smallest of the values in the logical and physical fields of the <code>ioSearchInfo1</code> structure and the actual maximum length used is the largest of the values in the logical and physical fields of the <code>ioSearchInfo2</code> structure.</p></li>
<li class="li"><p>The <code>fsSBNegate</code> bit of the <code>ioSearchBits</code> field is ignored during searches of remote volumes that support AFP version 2.1.</p></li>
<li class="li"><p>If the AFP server returns <code>afpCatalogChanged</code>, the catalog position structure returned to your application (in the <code>ioCatPosition</code> field) is the same one you passed to <code>PBCatSearchSync</code>. You should clear the <code>initialize</code> field of that structure to restart the search from the beginning.</p></li></ul>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDirCreateAsync" title="PBDirCreateAsync"></a><a name="//apple_ref/doc/c_ref/PBDirCreateAsync" title="PBDirCreateAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04724" title="PBDirCreateAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_198"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_198"></a><h3 class="tight">PBDirCreateAsync</h3>
<p class="spaceabove">Creates a new directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeAsync">PBCreateDirectoryUnicodeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBDirCreateAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name for the new directory. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID. If the parent directory ID is 0 and the volume specified in the <code>ioVRefNum</code> field is the default volume, the new directory is placed in the default directory of the volume.  If the parent directory ID is 0 and the volume specified in the <code>ioVRefNum</code> field is a volume other than the default volume, the new directory is placed in the root directory of the volume. To create a directory at the root of a volume, regardless of whether that volume is the current default volume, pass the constant <code>fsRtDirID </code> (2) in this field. On output, the directory ID of the new directory. Note that a directory ID, unlike a volume reference number, is a long integer. </p></dd></dl>
<p>The <code>PBDirCreateAsync</code> function is identical to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHCreateAsync">PBHCreateAsync</a></code>  except that it creates a new directory instead of a file. The date and time of the directory’s creation and last modification are set to the current date and time.</p>
<p>To create a directory with a Unicode name, use the function  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateDirectoryUnicode">FSCreateDirectoryUnicode</a></code> , or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeSync">PBCreateDirectoryUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeAsync">PBCreateDirectoryUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDirCreateSync" title="PBDirCreateSync"></a><a name="//apple_ref/doc/c_ref/PBDirCreateSync" title="PBDirCreateSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04725" title="PBDirCreateSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_199"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_199"></a><h3 class="tight">PBDirCreateSync</h3>
<p class="spaceabove">Creates a new directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeSync">PBCreateDirectoryUnicodeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBDirCreateSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name for the new directory. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID. If the parent directory ID is 0 and the volume specified in the <code>ioVRefNum</code> field is the default volume, the new directory is placed in the default directory of the volume.  If the parent directory ID is 0 and the volume specified in the <code>ioVRefNum</code> field is a volume other than the default volume, the new directory is placed in the root directory of the volume. To create a directory at the root of a volume, regardless of whether that volume is the current default volume, pass the constant <code>fsRtDirID </code> (2) in this field. On output, the directory ID of the new directory. Note that a directory ID, unlike a volume reference number, is a long integer. </p></dd></dl>
<p>The <code>PBDirCreateSync</code> function is identical to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHCreateSync">PBHCreateSync</a></code>  except that it creates a new directory instead of a file. The date and time of the directory’s creation and last modification are set to the current date and time.</p>
<p>To create a directory with a Unicode name, use the function  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateDirectoryUnicode">FSCreateDirectoryUnicode</a></code> , or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeSync">PBCreateDirectoryUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateDirectoryUnicodeAsync">PBCreateDirectoryUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTAddAPPLAsync" title="PBDTAddAPPLAsync"></a><a name="//apple_ref/doc/c_ref/PBDTAddAPPLAsync" title="PBDTAddAPPLAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04726" title="PBDTAddAPPLAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_200"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_200"></a><h3 class="tight">PBDTAddAPPLAsync</h3>
<p class="spaceabove">Adds an application to the desktop database.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTAddAPPLAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the application’s name. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database to which you wish to add an application. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the ID of the application’s parent directory. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the application’s signature. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTAddAPPLSync" title="PBDTAddAPPLSync"></a><a name="//apple_ref/doc/c_ref/PBDTAddAPPLSync" title="PBDTAddAPPLSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04727" title="PBDTAddAPPLSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_201"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_201"></a><h3 class="tight">PBDTAddAPPLSync</h3>
<p class="spaceabove">Adds an application to the desktop database.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTAddAPPLSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the application’s name. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database to which you wish to add an application. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the ID of the application’s parent directory. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the application’s signature. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTAddIconAsync" title="PBDTAddIconAsync"></a><a name="//apple_ref/doc/c_ref/PBDTAddIconAsync" title="PBDTAddIconAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04728" title="PBDTAddIconAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_202"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_202"></a><h3 class="tight">PBDTAddIconAsync</h3>
<p class="spaceabove">Adds an icon definition to the desktop database. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTAddIconAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the database to which you wish to add an icon. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd>
<dt><code>ioDTBuffer </code></dt>
<dd><p>On input, a pointer to the buffer holding the icon’s bitmap. </p></dd>
<dt><code>ioDTReqCount </code></dt>
<dd><p>On input, the size in bytes of the buffer that you’ve allocated for the icon’s bitmap. This value depends on the icon type. Be sure to allocate enough storage for the icon data 1024 bytes is the largest amount required for any icon in System 7. For a description of the values you can use to indicate the icon’s size, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Size_Constants">“Icon Size Constants.”</a></span>  </p></dd>
<dt><code>ioIconType </code></dt>
<dd><p> On input, the icon type. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Type_Constants">“Icon Type Constants”</a></span>  for a description of the values you can use in this field. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the icon’s file creator. </p></dd>
<dt><code>ioFileType </code></dt>
<dd><p>On input, the icon’s file type. </p></dd></dl>
<p>If the database already contains an icon definition for an icon of that type, file type, and file creator, the new definition replaces the old. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTAddIconSync" title="PBDTAddIconSync"></a><a name="//apple_ref/doc/c_ref/PBDTAddIconSync" title="PBDTAddIconSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04729" title="PBDTAddIconSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_203"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_203"></a><h3 class="tight">PBDTAddIconSync</h3>
<p class="spaceabove">Adds an icon definition to the desktop database. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTAddIconSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the database to which you wish to add an icon. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd>
<dt><code>ioDTBuffer </code></dt>
<dd><p>On input, a pointer to the buffer holding the icon’s bitmap. </p></dd>
<dt><code>ioDTReqCount </code></dt>
<dd><p>On input, the size in bytes of the buffer that you’ve allocated for the icon’s bitmap. This value depends on the icon type. Be sure to allocate enough storage for the icon data 1024 bytes is the largest amount required for any icon in System 7 For a description of the values you can use to indicate the icon’s size, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Size_Constants">“Icon Size Constants.”</a></span>  </p></dd>
<dt><code>ioIconType </code></dt>
<dd><p>On input, the icon type. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Type_Constants">“Icon Type Constants”</a></span>  for a description of the values you can use in this field. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the icon’s file creator. </p></dd>
<dt><code>ioFileType </code></dt>
<dd><p>On input, the icon’s file type. </p></dd></dl>
<p>If the database already contains an icon definition for an icon of that type, file type, and file creator, the new definition replaces the old. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTCloseDown" title="PBDTCloseDown"></a><a name="//apple_ref/doc/c_ref/PBDTCloseDown" title="PBDTCloseDown"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04730" title="PBDTCloseDown"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_204"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_204"></a><h3 class="tight">PBDTCloseDown</h3>
<p class="spaceabove">Closes the desktop database, though your application should never do this itself. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTCloseDown (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant field of the parameter block for this function is:</p>
<dl class="termdef">	<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number. </p></dd></dl>
<p>System software uses the <code>PBDTCloseDown</code> function to close the desktop database; your application should never use this function, which is described here only for completeness. The system software closes the database when the volume is unmounted.</p>
<p><code>PBDTCloseDown</code> runs synchronously only, and though it will not close down the desktop databases of remote volumes, it will invalidate all local desktop database reference values for remote desktop databases.</p>
<p>When the <code>PBDTCloseDown</code> function closes the database, it frees all resources allocated by  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTOpenInform">PBDTOpenInform</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTGetPath">PBDTGetPath</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTDeleteAsync" title="PBDTDeleteAsync"></a><a name="//apple_ref/doc/c_ref/PBDTDeleteAsync" title="PBDTDeleteAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04731" title="PBDTDeleteAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_205"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_205"></a><h3 class="tight">PBDTDeleteAsync</h3>
<p class="spaceabove">Removes the desktop database. Unless you are manipulating the desktop database in the absence of the Finder, you should never use this function.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTDeleteAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBDTDeleteAsync</code> function removes the desktop database from a local volume. You can call <code>PBDTDeleteAsync</code> only when the database is closed. Your application should not call <code>PBDTDeleteAsync</code> unless absolutely necessary. </p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number of the desktop database to remove.  </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTDeleteSync" title="PBDTDeleteSync"></a><a name="//apple_ref/doc/c_ref/PBDTDeleteSync" title="PBDTDeleteSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04732" title="PBDTDeleteSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_206"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_206"></a><h3 class="tight">PBDTDeleteSync</h3>
<p class="spaceabove">Removes the desktop database. Unless you are manipulating the desktop database in the absence of the Finder, you should never use this function.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTDeleteSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBDTDeleteSync</code> function removes the desktop database from a local volume. You can call <code>PBDTDeleteSync</code> only when the database is closed. Your application should not call <code>PBDTDeleteSync</code> unless absolutely necessary. </p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number of the desktop database to remove.  </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTFlushAsync" title="PBDTFlushAsync"></a><a name="//apple_ref/doc/c_ref/PBDTFlushAsync" title="PBDTFlushAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04733" title="PBDTFlushAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_207"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_207"></a><h3 class="tight">PBDTFlushAsync</h3>
<p class="spaceabove">Saves your changes to the desktop database. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTFlushAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If your application adds information to or removes information from the desktop database, use the <code>PBDTFlushAsync</code> function to save your changes. The <code>PBDTFlushAsync</code> function writes the contents of the desktop database specified in the <code>ioDTRefNum</code> field to the volume.</p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database to flush. </p></dd></dl>
<p> You must call <code>PBDTFlushAsync</code> or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTFlushSync">PBDTFlushSync</a></code>  to update the copy of the desktop database stored on the volume if your application has manipulated information in the database using any of the following functions:</p>
<ul class="ul"><li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTAddIconSync">PBDTAddIconSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTAddIconAsync">PBDTAddIconAsync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTAddAPPLSync">PBDTAddAPPLSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTAddAPPLAsync">PBDTAddAPPLAsync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTSetCommentSync">PBDTSetCommentSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTSetCommentAsync">PBDTSetCommentAsync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTRemoveAPPLSync">PBDTRemoveAPPLSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTRemoveAPPLAsync">PBDTRemoveAPPLAsync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTRemoveCommentSync">PBDTRemoveCommentSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTRemoveCommentAsync">PBDTRemoveCommentAsync</a></code></p></li></ul>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTFlushSync" title="PBDTFlushSync"></a><a name="//apple_ref/doc/c_ref/PBDTFlushSync" title="PBDTFlushSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04734" title="PBDTFlushSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_208"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_208"></a><h3 class="tight">PBDTFlushSync</h3>
<p class="spaceabove">Saves your changes to the desktop database. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTFlushSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If your application adds information to or removes information from the desktop database, use the <code>PBDTFlushSync</code> function to save your changes. The <code>PBDTFlushSync</code> function writes the contents of the desktop database specified in the <code>ioDTRefNum</code> field to the volume.</p>
<p>The relevant field of the parameter block for this function is:</p>
<dl class="termdef">	<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database to flush. </p></dd></dl>
<p> You must call <code>PBDTFlushSync</code> or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTFlushAsync">PBDTFlushAsync</a></code>  to update the copy of the desktop database stored on the volume if your application has manipulated information in the database using any of the following functions:</p>
<ul class="ul"><li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTAddIconSync">PBDTAddIconSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTAddIconAsync">PBDTAddIconAsync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTAddAPPLSync">PBDTAddAPPLSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTAddAPPLAsync">PBDTAddAPPLAsync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTSetCommentSync">PBDTSetCommentSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTSetCommentAsync">PBDTSetCommentAsync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTRemoveAPPLSync">PBDTRemoveAPPLSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTRemoveAPPLAsync">PBDTRemoveAPPLAsync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTRemoveCommentSync">PBDTRemoveCommentSync</a></code></p></li>
<li class="li"><p><code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDTRemoveCommentAsync">PBDTRemoveCommentAsync</a></code></p></li></ul>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetAPPLAsync" title="PBDTGetAPPLAsync"></a><a name="//apple_ref/doc/c_ref/PBDTGetAPPLAsync" title="PBDTGetAPPLAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04735" title="PBDTGetAPPLAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_209"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_209"></a><h3 class="tight">PBDTGetAPPLAsync</h3>
<p class="spaceabove">Identifies the application that can open a file with a given creator. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetAPPLAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On output, a pointer to the application’s name. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database containing the specified application.  </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>On input, an index into the application list. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>On output, the application’s creation date. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the signature of the application. </p></dd>
<dt><code>ioAPPLParID </code></dt>
<dd><p>On output, the application’s parent directory. </p></dd></dl>
<p>A single call, with the <code>ioIndex</code> field set to 0, finds the application file with the most recent creation date. If you want to retrieve information about all copies of the application with the given signature, start with <code>ioIndex</code> set to 1 and increment this value by 1 with each call to <code>PBDTGetAPPLAsync</code> until the result code <code>afpItemNotFound</code> is returned in the <code>ioResult</code> field; when called multiple times in this fashion, <code>PBDTGetAPPLAsync</code> returns information about all the application’s copies, including the file with the most recent creation date, in arbitrary order. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetAPPLSync" title="PBDTGetAPPLSync"></a><a name="//apple_ref/doc/c_ref/PBDTGetAPPLSync" title="PBDTGetAPPLSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04736" title="PBDTGetAPPLSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_210"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_210"></a><h3 class="tight">PBDTGetAPPLSync</h3>
<p class="spaceabove">Identifies the application that can open a file with a given creator. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetAPPLSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On output, a pointer to the application’s name. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database containing the specified application.  </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>On input, an index into the application list. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>On output, the application’s creation date. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the signature of the application. </p></dd>
<dt><code>ioAPPLParID </code></dt>
<dd><p>On output, the application’s parent directory. </p></dd></dl>
<p>A single call, with the <code>ioIndex</code> field set to 0, finds the application file with the most recent creation date. If you want to retrieve information about all copies of the application with the given signature, start with <code>ioIndex</code> set to 1 and increment this value by 1 with each call to <code>PBDTGetAPPLSync</code> until the result code <code>afpItemNotFound</code> is returned in the <code>ioResult</code> field; when called multiple times in this fashion, <code>PBDTGetAPPLSync</code> returns information about all the application’s copies, including the file with the most recent creation date, in arbitrary order. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetCommentAsync" title="PBDTGetCommentAsync"></a><a name="//apple_ref/doc/c_ref/PBDTGetCommentAsync" title="PBDTGetCommentAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04737" title="PBDTGetCommentAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_211"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_211"></a><h3 class="tight">PBDTGetCommentAsync</h3>
<p class="spaceabove">Retrieves the user comments for a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetCommentAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory for which you want to retrieve comments. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the database in which the specified file or directory is found. </p></dd>
<dt><code>ioDTBuffer </code></dt>
<dd><p>On input, a pointer to a buffer allocated to hold the comment text. On output, a pointer to the comment text. Allocate a buffer at least 255 bytes in size. The <code>PBDTGetCommentAsync</code> function places up to <code>ioDTReqCount</code> bytes of the comment into the buffer as a plain text string and places the actual length of the comment in the <code>ioDTActCount</code> field. </p></dd>
<dt><code>ioDTReqCount </code></dt>
<dd><p>On input, the size of the buffer allocated to hold the comment. </p></dd>
<dt><code>ioDTActCount </code></dt>
<dd><p>On output, the comment size. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory of the file or directory. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetCommentSync" title="PBDTGetCommentSync"></a><a name="//apple_ref/doc/c_ref/PBDTGetCommentSync" title="PBDTGetCommentSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04738" title="PBDTGetCommentSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_212"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_212"></a><h3 class="tight">PBDTGetCommentSync</h3>
<p class="spaceabove">Retrieves the user comments for a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetCommentSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory for which you want to retrieve comments. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the database in which the specified file or directory is found. </p></dd>
<dt><code>ioDTBuffer </code></dt>
<dd><p>On input, a pointer to a buffer allocated to hold the comment text. On output, a pointer to the comment text. Allocate a buffer at least 255 bytes in size. The <code>PBDTGetCommentSync</code> function places  up to <code>ioDTReqCount</code> bytes of the comment into the buffer as a plain text string and places the actual length of the comment in the <code>ioDTActCount</code> field. </p></dd>
<dt><code>ioDTReqCount </code></dt>
<dd><p>On input, the size of the buffer allocated to hold the comment. </p></dd>
<dt><code>ioDTActCount </code></dt>
<dd><p>On output, the comment size. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory of the file or directory. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetIconAsync" title="PBDTGetIconAsync"></a><a name="//apple_ref/doc/c_ref/PBDTGetIconAsync" title="PBDTGetIconAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04739" title="PBDTGetIconAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_213"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_213"></a><h3 class="tight">PBDTGetIconAsync</h3>
<p class="spaceabove">Retrieves an icon definition.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetIconAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBDTGetIconAsync</code> function returns the bitmap for an icon that represents a file of a given type and creator. For example, to get the icon for a file of file type <code>'SFWR'</code> created by the application with a signature of <code>'WAVE'</code>, specify these two values in the <code>ioFileType</code> and <code>ioFileCreator</code> fields. </p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd>
<dt><code>ioDTBuffer </code></dt>
<dd><p>On input, a pointer to a buffer to hold the icon’s data. On return, a pointer to the bitmap returned in the buffer. </p></dd>
<dt><code>ioDTReqCount </code></dt>
<dd><p>On input, the requested size of the icon’s bitmap. Pass the size in bytes of the buffer that you’ve allocated for the icon’s bitmap pointed to by the <code>ioDTBuffer</code> field; this value depends on the icon type. Be sure to allocate enough storage for the icon data; 1024 bytes is the largest amount required for any icon in System 7. You can use the constants described in  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Size_Constants">“Icon Size Constants”</a></span>  to indicate the amount of memory you have provided for the icon’s data. </p></dd>
<dt><code>ioDTActCount </code></dt>
<dd><p>On return, the actual size of the icon’s bitmap. If this value is larger than the value specified in the <code>ioDTReqCount</code> field, only the amount of data allowed by the value in the <code>ioDTReqCount</code> field is valid. </p></dd>
<dt><code>ioIconType </code></dt>
<dd><p>On input, the icon type. For a description of the constants which you can use in this field, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Type_Constants">“Icon Type Constants.”</a></span> </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the icon’s file creator.  </p></dd>
<dt><code>ioFileType </code></dt>
<dd><p>On input, the icon’s file type. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetIconInfoAsync" title="PBDTGetIconInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBDTGetIconInfoAsync" title="PBDTGetIconInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04740" title="PBDTGetIconInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_214"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_214"></a><h3 class="tight">PBDTGetIconInfoAsync</h3>
<p class="spaceabove">Retrieves an icon type and the associated file type supported by a given creator in the desktop database. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetIconInfoAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number. </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>On input, an index into the icon list. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd>
<dt><code>ioDTActCount </code></dt>
<dd><p>On output, the size of the icon’s bitmap. </p></dd>
<dt><code>ioIconType </code></dt>
<dd><p>On output, the icon type, including the icon size and color depth. For a description of the values which may be returned in this field, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Type_Constants">“Icon Type Constants.”</a></span> Ignore any values returned in <code>ioIconType</code> that are not listed there; they represent special icons and information used only by the Finder. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the icon’s file creator. </p></dd>
<dt><code>ioFileType </code></dt>
<dd><p>On output, the icon’s file type.  </p></dd></dl>
<p>To step through a list of the icon types and file types supported by an application, make repeated calls to <code>PBDTGetIconInfoAsync</code>, specifying a creator and an index value in the <code>ioIndex</code> field for each call. Set the index to 1 on the first call, and increment it on each subsequent call until the result code <code>afpItemNotFound</code> is returned in the <code>ioResult</code> field.</p>
<p>To get a list of file types that an application can natively open, you can use the Translation Manager function, <code>GetFileTypesThatAppCanNativelyOpen</code>. For a description of this function, see the  <em> Translation Manager Reference </em>. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetIconInfoSync" title="PBDTGetIconInfoSync"></a><a name="//apple_ref/doc/c_ref/PBDTGetIconInfoSync" title="PBDTGetIconInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04741" title="PBDTGetIconInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_215"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_215"></a><h3 class="tight">PBDTGetIconInfoSync</h3>
<p class="spaceabove">Retrieves an icon type and the associated file type supported by a given creator in the desktop database. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetIconInfoSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number. </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>On input, an index into the icon list. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd>
<dt><code>ioDTActCount </code></dt>
<dd><p>On output, the size of the icon’s bitmap. </p></dd>
<dt><code>ioIconType </code></dt>
<dd><p>On output, the icon type, including the icon size and color depth. For a description of the values which may be returned in this field, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Type_Constants">“Icon Type Constants.”</a></span> Ignore any values returned in <code>ioIconType</code> that are not listed there; they represent special icons and information used only by the Finder. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the icon’s file creator. </p></dd>
<dt><code>ioFileType </code></dt>
<dd><p>On output, the icon’s file type.  </p></dd></dl>
<p>To step through a list of the icon types and file types supported by an application, make repeated calls to <code>PBDTGetIconInfoSync</code>, specifying a creator and an index value in the <code>ioIndex</code> field for each call. Set the index to 1 on the first call, and increment it on each subsequent call until the result code <code>afpItemNotFound</code> is returned in the <code>ioResult</code> field.</p>
<p>To get a list of file types that an application can natively open, you can use the Translation Manager function, <code>GetFileTypesThatAppCanNativelyOpen</code>. For a description of this function, see the  <em> Translation Manager Reference </em>. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetIconSync" title="PBDTGetIconSync"></a><a name="//apple_ref/doc/c_ref/PBDTGetIconSync" title="PBDTGetIconSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04742" title="PBDTGetIconSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_216"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_216"></a><h3 class="tight">PBDTGetIconSync</h3>
<p class="spaceabove">Retrieves an icon definition.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetIconSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBDTGetIconSync</code> function returns the bitmap for an icon that represents a file of a given type and creator. For example, to get the icon for a file of file type <code>'SFWR'</code> created by the application with a signature of <code>'WAVE'</code>, specify these two values in the <code>ioFileType</code> and <code>ioFileCreator</code> fields. </p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number.  </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd>
<dt><code>ioDTBuffer </code></dt>
<dd><p>On input, a pointer to a buffer to hold the icon’s data. On return, a pointer to the bitmap returned in the buffer.  </p></dd>
<dt><code>ioDTReqCount </code></dt>
<dd><p>On input, the requested size of the icon’s bitmap. Pass the size in bytes of the buffer that you’ve allocated for the icon’s bitmap, pointed to by the <code>ioDTBuffer</code> field; this value depends on the icon type. Be sure to allocate enough storage for the icon data; 1024 bytes is the largest amount required for any icon in System 7. You can use the constants described in  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Size_Constants">“Icon Size Constants”</a></span>  to indicate the amount of memory you have provided for the icon’s data. </p></dd>
<dt><code>ioDTActCount </code></dt>
<dd><p>On output, the actual size of the icon’s bitmap. If this value is larger than the value specified in the <code>ioDTReqCount</code> field, only the amount of data allowed by <code>ioDTReqCount</code> is valid. </p></dd>
<dt><code>ioIconType </code></dt>
<dd><p>On input, the icon type. For a description of the constants which you can use in this field, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Icon_Type_Constants">“Icon Type Constants.”</a></span> </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the icon’s file creator. </p></dd>
<dt><code>ioFileType </code></dt>
<dd><p>On input, the icon’s file type. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetInfoAsync" title="PBDTGetInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBDTGetInfoAsync" title="PBDTGetInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04743" title="PBDTGetInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_217"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_217"></a><h3 class="tight">PBDTGetInfoAsync</h3>
<p class="spaceabove">Determines information about the location and size of the desktop database on a particular volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetInfoAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion functions, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On output, the volume reference number of the volume where the database files are stored. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the database which you wish to obtain information about. </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>On output, the number of files comprising the desktop database on the volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On output, the parent directory ID of the desktop database. </p></dd>
<dt><code>ioDTLgLen </code></dt>
<dd><p>On output, the logical length of the database files (the sum of the logical lengths of the files that constitute the desktop database for a given volume). </p></dd>
<dt><code>ioDTPyLen </code></dt>
<dd><p>On output, the physical length of the database files (the sum of the physical lengths of the files that constitute the desktop database for a given volume). </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetInfoSync" title="PBDTGetInfoSync"></a><a name="//apple_ref/doc/c_ref/PBDTGetInfoSync" title="PBDTGetInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04744" title="PBDTGetInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_218"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_218"></a><h3 class="tight">PBDTGetInfoSync</h3>
<p class="spaceabove">Determines information about the location and size of the desktop database on a particular volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetInfoSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioVRefNum </code></dt>
<dd><p>On output, the volume reference number of the volume where the database files are stored. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the database which you wish to obtain information about. </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>On output, the number of files comprising the desktop database on the volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On output, the parent directory ID of the desktop database. </p></dd>
<dt><code>ioDTLgLen </code></dt>
<dd><p>On output, the logical length of the database files (the sum of the logical lengths of the files that constitute the desktop database for a given volume). </p></dd>
<dt><code>ioDTPyLen </code></dt>
<dd><p>On output, the physical length of the database files (the sum of the physical lengths of the files that constitute the desktop database for a given volume). </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTGetPath" title="PBDTGetPath"></a><a name="//apple_ref/doc/c_ref/PBDTGetPath" title="PBDTGetPath"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04745" title="PBDTGetPath"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_219"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_219"></a><h3 class="tight">PBDTGetPath</h3>
<p class="spaceabove">Gets the reference number of the specified desktop database. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTGetPath (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p> The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the volume associated with the desktop database or the full pathname of the desktop database. </p></dd>
<dt><code>ioVRefNum</code></dt>
<dd><p>On input, the volume reference number of the volume associated with the desktop database. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On output, the desktop database reference number, which represents the access path to the database. You cannot use the desktop reference number as a file reference number in any File Manager functions other than the desktop database functions. If <code>PBDTGetPath</code> fails, it sets this field to 0. </p></dd></dl>
<p>If the desktop database is not already open, <code>PBDTGetPath</code> opens it and then returns the reference number. If the desktop database doesn’t exist, <code>PBDTGetPath</code> creates it . </p>
<h5 class="tight">Special Considerations</h5>
<p><code>PBDTGetPath</code> allocates memory in the system heap; do not call it at interrupt time.</p>
<p>This function executes synchronously only.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTOpenInform" title="PBDTOpenInform"></a><a name="//apple_ref/doc/c_ref/PBDTOpenInform" title="PBDTOpenInform"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04746" title="PBDTOpenInform"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_220"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_220"></a><h3 class="tight">PBDTOpenInform</h3>
<p class="spaceabove">Gets the reference number of the specified desktop database, reporting whether the desktop database was empty when it was opened. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTOpenInform (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioNamePtr</code></dt>
<dd><p>On input, a pointer to the name of the volume associated with the desktop database or the full pathname of the desktop database. </p></dd>
<dt><code>ioVRefNum</code></dt>
<dd><p>On input, the volume reference number of the volume associated with the desktop database. </p></dd>
<dt><code>ioDTRefNum</code></dt>
<dd><p>On output, the desktop database reference number, which represents the access path to the database. You cannot use the desktop reference number as a file reference number in any File Manager functions other than the desktop database functions. If <code>PBDTOpenInform</code> fails, it sets this field to 0. </p></dd>
<dt><code>ioTagInfo </code></dt>
<dd><p>On output, the return flag (in the low bit of this field). If the desktop database was just created in response to <code>PBDTOpenInform </code>  (and is therefore empty), <code>PBDTOpenInform</code> sets the low bit in this field to 0. If the desktop database had been created before you called <code>PBDTOpenInform</code>, <code>PBDTOpenInform</code> sets the low bit in this field to 1. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<p>This function executes synchronously only.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTRemoveAPPLAsync" title="PBDTRemoveAPPLAsync"></a><a name="//apple_ref/doc/c_ref/PBDTRemoveAPPLAsync" title="PBDTRemoveAPPLAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04747" title="PBDTRemoveAPPLAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_221"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_221"></a><h3 class="tight">PBDTRemoveAPPLAsync</h3>
<p class="spaceabove">Removes an application from the desktop database.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTRemoveAPPLAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> When called on an HFS CD volume, PBDTRemoveAPPL returns an afpItemNotFound error, instead of the expected volume locked error (wPrErr).</p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBDTRemoveAPPLAsync</code> function removes the mapping information for an application from the database specified in the <code>ioDTRefNum</code> field. You can call <code>PBDTRemoveAPPLAsync</code> even if the application is not present on the volume.</p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the application’s name. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database containing the application. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the application’s parent directory. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the application’s signature. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTRemoveAPPLSync" title="PBDTRemoveAPPLSync"></a><a name="//apple_ref/doc/c_ref/PBDTRemoveAPPLSync" title="PBDTRemoveAPPLSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04748" title="PBDTRemoveAPPLSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_222"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_222"></a><h3 class="tight">PBDTRemoveAPPLSync</h3>
<p class="spaceabove">Removes an application from the desktop database.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTRemoveAPPLSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBDTRemoveAPPLSync</code> function removes the mapping information for an application from the database specified in the <code>ioDTRefNum</code> field. You can call <code>PBDTRemoveAPPLSync</code> even if the application is not present on the volume.</p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the application’s name. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database containing the application. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the application’s parent directory. </p></dd>
<dt><code>ioFileCreator </code></dt>
<dd><p>On input, the application’s signature. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTRemoveCommentAsync" title="PBDTRemoveCommentAsync"></a><a name="//apple_ref/doc/c_ref/PBDTRemoveCommentAsync" title="PBDTRemoveCommentAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04749" title="PBDTRemoveCommentAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_223"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_223"></a><h3 class="tight">PBDTRemoveCommentAsync</h3>
<p class="spaceabove">Removes a user comment associated with a file or directory from the desktop database.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTRemoveCommentAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”.  </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the filename or directory name. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the database in which the specified file or directory is found. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory. </p></dd></dl>
<p>You cannot remove a comment if the file or directory it is associated with is not present on the volume. If no comment was stored for the file, <code>PBDTRemoveCommentAsync</code> returns an error. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTRemoveCommentSync" title="PBDTRemoveCommentSync"></a><a name="//apple_ref/doc/c_ref/PBDTRemoveCommentSync" title="PBDTRemoveCommentSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04750" title="PBDTRemoveCommentSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_224"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_224"></a><h3 class="tight">PBDTRemoveCommentSync</h3>
<p class="spaceabove">Removes a user comment associated with a file or directory from the desktop database.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTRemoveCommentSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the filename or directory name. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the database in which the specified file or directory is found. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory. </p></dd></dl>
<p>You cannot remove a comment if the file or directory it is associated with is not present on the volume. If no comment was stored for the file, <code>PBDTRemoveCommentSync</code> returns an error. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTResetAsync" title="PBDTResetAsync"></a><a name="//apple_ref/doc/c_ref/PBDTResetAsync" title="PBDTResetAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04751" title="PBDTResetAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_225"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_225"></a><h3 class="tight">PBDTResetAsync</h3>
<p class="spaceabove">Removes information from the desktop database. Unless you are manipulating the desktop database in the absence of the Finder, you should never use this function.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTResetAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBDTResetAsync</code> function removes all icons, application mappings, and comments from the desktop database specified in the <code>ioDTRefNum</code> field. You can call <code>PBDTResetAsync</code> only when the database is open. It remains open after the data is cleared. Your application should not call <code>PBDTResetAsync</code> unless absolutely necessary.</p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database to clear. </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTResetSync" title="PBDTResetSync"></a><a name="//apple_ref/doc/c_ref/PBDTResetSync" title="PBDTResetSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04752" title="PBDTResetSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_226"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_226"></a><h3 class="tight">PBDTResetSync</h3>
<p class="spaceabove">Removes information from the desktop database. Unless you are manipulating the desktop database in the absence of the Finder, you should never use this function.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTResetSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBDTResetSync</code> function removes all icons, application mappings, and comments from the desktop database specified in the <code>ioDTRefNum</code> field. You can call <code>PBDTResetSync</code> only when the database is open. It remains open after the data is cleared. Your application should not call <code>PBDTResetSync</code> unless absolutely necessary.</p>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number of the desktop database to clear. </p></dd>
<dt><code>ioIndex </code></dt>
<dd><p>Reserved; on input, this field must be set to 0. </p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTSetCommentAsync" title="PBDTSetCommentAsync"></a><a name="//apple_ref/doc/c_ref/PBDTSetCommentAsync" title="PBDTSetCommentAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04753" title="PBDTSetCommentAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_227"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_227"></a><h3 class="tight">PBDTSetCommentAsync</h3>
<p class="spaceabove">Adds a user comment for a file or a directory to the desktop database.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTSetCommentAsync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. See  “File Manager Result Codes”. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number for the desktop database to which to add the user comment. </p></dd>
<dt><code>ioDTBuffer </code></dt>
<dd><p>On input, a pointer to the buffer containing the comment text. Put the comment in the buffer as a plain text string. </p></dd>
<dt><code>ioDTReqCount </code></dt>
<dd><p>On input, the length of the buffer (in bytes) containing the comment text. The maximum length of a comment is 200 bytes; longer comments are truncated. Since the comment is a plain text string and not a Pascal string, the File Manager relies on the value in the <code>ioDTReqCount</code> field for determining the length of the buffer. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory. </p></dd></dl>
<p>If the specified object already has a comment in the database, the new comment replaces the old. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDTSetCommentSync" title="PBDTSetCommentSync"></a><a name="//apple_ref/doc/c_ref/PBDTSetCommentSync" title="PBDTSetCommentSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04754" title="PBDTSetCommentSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_228"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_228"></a><h3 class="tight">PBDTSetCommentSync</h3>
<p class="spaceabove">Adds a user comment for a file or a directory to the desktop database.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDTSetCommentSync (
   <!--a-->DTPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a desktop database parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/DTPBRec">DTPBRec</a></code> for a description of the <code>DTPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block for this function are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory. </p></dd>
<dt><code>ioDTRefNum </code></dt>
<dd><p>On input, the desktop database reference number for the desktop database to which to add the user comment. </p></dd>
<dt><code>ioDTBuffer </code></dt>
<dd><p>On input, a pointer to the buffer containing the comment text. Put the comment in the buffer as a plain text string. </p></dd>
<dt><code>ioDTReqCount </code></dt>
<dd><p>On input, the length of the buffer containing the comment text, in bytes. The maximum length of a comment is 200 bytes; longer comments are truncated. Since the comment is a plain text string and not a Pascal string, the File Manager relies on the value in the <code>ioDTReqCount</code> field for determining the length of the buffer. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory. </p></dd></dl>
<p>If the specified object already has a comment in the database, the new comment replaces the old. </p>
<h5 class="tight">Special Considerations</h5>
<p>All of the desktop database functions may move or purge memory blocks in the application heap or for some other reason should not be called from within an interrupt. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBExchangeFilesAsync" title="PBExchangeFilesAsync"></a><a name="//apple_ref/doc/c_ref/PBExchangeFilesAsync" title="PBExchangeFilesAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04758" title="PBExchangeFilesAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_229"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_229"></a><h3 class="tight">PBExchangeFilesAsync</h3>
<p class="spaceabove">Exchanges the data stored in two files on the same volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBExchangeObjectsAsync">PBExchangeObjectsAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBExchangeFilesAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FIDParam">FIDParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the first file to swap. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDestNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the second file to swap. </p></dd>
<dt><code>ioDestDirID </code></dt>
<dd><p>On input, the second file’s parent directory ID. </p></dd>
<dt><code>ioSrcDirID </code></dt>
<dd><p>On input, the first file’s parent directory ID. </p></dd></dl>
<p>Typically, you use <code>PBExchangeFilesAsync</code> after creating a new file during a safe save. The <code>PBExchangeFilesAsync</code> function changes the fields in the catalog entries that record the location of the data and the modification dates. It swaps both the data forks and the resource forks.</p>
<p>The <code>PBExchangeFilesAsync</code> function works on either open or closed files. <code>PBExchangeFilesAsync</code> swaps the data in two files by changing some of the information in the volume catalog. If either file is open, <code>PBExchangeFilesAsync</code> updates any file control blocks associated with the file. Exchanging the contents of two files requires essentially the same access privileges as opening both files for writing. </p>
<p>The following fields in the catalog entries for the files are exchanged:</p>
<ul class="ul"><li class="li"><p><code>ioFlStBlk </code></p></li>
<li class="li"><p><code>ioFlLgLen </code></p></li>
<li class="li"><p><code>ioFlPyLen </code></p></li>
<li class="li"><p><code>ioFlRStBlk </code></p></li>
<li class="li"><p><code>ioFlRLgLen </code></p></li>
<li class="li"><p><code>ioFlRPyLen </code></p></li>
<li class="li"><p><code>ioFlMdDat </code></p></li></ul>
<p>In the file control blocks, the <code>fcbFlNum</code>, <code>fcbDirID</code>, and <code>fcbCName</code> fields are exchanged.</p>
<p>You should use <code>PBExchangeFilesAsync</code> to preserve the file ID when updating an existing file, in case the file is being tracked through its file ID. The <code>PBExchangeFilesAsync</code> function does not require that file ID references exist for the files being exchanged.</p>
<p>To exchange the contents of files with named forks other than the data and resource forks, or of files larger than 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSExchangeObjects">FSExchangeObjects</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBExchangeObjectsSync">PBExchangeObjectsSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBExchangeObjectsAsync">PBExchangeObjectsAsync</a></code>  function. </p>
<h5 class="tight">Special Considerations</h5>
<p>Your application will have to swap any open reference numbers to the two files because the file's name and parent directory ID are exchanged in the file control blocks. </p>
<p>Because other programs may have access paths open to one or both of the files exchanged, your application should have exclusive read/write access permission (<code>fsRdWrPerm</code>) to both files before calling <code>PBExchangeFilesAsync</code>. Exclusive read/write access to both files will ensure that <code>PBExchangeFilesAsync</code> doesn't  affect another application because it prevents other applications from obtaining write access to one or both of the files exchanged.</p>
<p><code>PBExchangeFilesAsync</code> does not respect the file-locked attribute; it will perform the exchange even if one or  both of the files are locked. Obtaining exclusive read/write access to both files before calling <code>PBExchangeFilesAsync</code> ensures that the files are unlocked because locked files cannot be opened with write access.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBExchangeFilesSync" title="PBExchangeFilesSync"></a><a name="//apple_ref/doc/c_ref/PBExchangeFilesSync" title="PBExchangeFilesSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04759" title="PBExchangeFilesSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_230"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_230"></a><h3 class="tight">PBExchangeFilesSync</h3>
<p class="spaceabove">Exchanges the data stored in two files on the same volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBExchangeObjectsSync">PBExchangeObjectsSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBExchangeFilesSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FIDParam">FIDParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the first file to swap. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDestNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the second file to swap. </p></dd>
<dt><code>ioDestDirID </code></dt>
<dd><p>On input, the second file’s parent directory ID. </p></dd>
<dt><code>ioSrcDirID </code></dt>
<dd><p>On input, the first file’s parent directory ID. </p></dd></dl>
<p>Typically, you use <code>PBExchangeFilesSync</code> after creating a new file during a safe save. The <code>PBExchangeFilesSync</code> function changes the fields in the catalog entries that record the location of the data and the modification dates. It swaps both the data forks and the resource forks.</p>
<p>The <code>PBExchangeFilesSync</code> function works on either open or closed files. <code>PBExchangeFilesSync</code> swaps the data in two files by changing some of the information in the volume catalog. If either file is open, <code>PBExchangeFilesSync</code> updates any file control blocks associated with the file. Exchanging the contents of two files requires essentially the same access privileges as opening both files for writing.</p>
<p>The following fields in the catalog entries for the files are exchanged:</p>
<ul class="ul"><li class="li"><p><code>ioFlStBlk </code></p></li>
<li class="li"><p><code>ioFlLgLen </code></p></li>
<li class="li"><p><code>ioFlPyLen </code></p></li>
<li class="li"><p><code>ioFlRStBlk </code></p></li>
<li class="li"><p><code>ioFlRLgLen </code></p></li>
<li class="li"><p><code>ioFlRPyLen </code></p></li>
<li class="li"><p><code>ioFlMdDat </code></p></li></ul>
<p>In the file control blocks, the <code>fcbFlNum</code>, <code>fcbDirID</code>, and <code>fcbCName</code> fields are exchanged.</p>
<p>You should use <code>PBExchangeFilesSync</code> to preserve the file ID when updating an existing file, in case the file is being tracked through its file ID. The <code>PBExchangeFilesSync</code> function does not require that file ID references exist for the files being exchanged.</p>
<p>To exchange the contents of files with named forks other than the data and resource forks, or of files larger than 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSExchangeObjects">FSExchangeObjects</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBExchangeObjectsSync">PBExchangeObjectsSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBExchangeObjectsAsync">PBExchangeObjectsAsync</a></code>  function. </p>
<h5 class="tight">Special Considerations</h5>
<p>Your application will have to swap any open reference numbers to the two files because the file's name and parent directory ID are exchanged in the file control blocks. </p>
<p>Because other programs may have access paths open to one or both of the files exchanged, your application should have exclusive read/write access permission (<code>fsRdWrPerm</code>) to both files before calling <code>PBExchangeFilesSync</code>. Exclusive read/write access to both files will ensure that <code>PBExchangeFilesSync</code> doesn't  affect another application because it prevents other applications from obtaining write access to one or both of the files exchanged.</p>
<p><code>PBExchangeFilesSync</code> does not respect the file-locked attribute; it will perform the exchange even if one or  both of the files are locked. Obtaining exclusive read/write access to both files before calling <code>PBExchangeFilesSync</code> ensures that the files are unlocked because locked files cannot be opened with write access.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBFlushFileAsync" title="PBFlushFileAsync"></a><a name="//apple_ref/doc/c_ref/PBFlushFileAsync" title="PBFlushFileAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04760" title="PBFlushFileAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_233"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_233"></a><h3 class="tight">PBFlushFileAsync</h3>
<p class="spaceabove">Writes the contents of a file’s access path buffer to the disk.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFlushForkAsync">PBFlushForkAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBFlushFileAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the file to flush. </p></dd></dl>
<p>After writing the contents of the file to the volume, the <code>PBFlushFileAsync</code> function updates the file’s entry in the volume catalog.</p>
<p>In the event of a system crash, all cached data not yet written to disk is lost. If you have made changes to space that already exists within a file (you are overwriting existing data before the file’s end-of-file), you must use <code>PBFlushFileAsync</code> to ensure that everything written to the file will be written to disk. If you flush the fork’s cached blocks using <code>PBFlushFileAsync</code>, the only possible data loss in a system crash will be the file’s modification date. </p>
<p>You do not, however, need to use <code>PBFlushFileAsync</code> to flush a file fork before it is closed; the file is automatically flushed when it is closed and all cache blocks associated with it are removed from the cache.</p>
<p><code>PBFlushFileSync</code> flushes an open fork’s dirty cached blocks, but may not flush catalog information associated with the file. To flush catalog information, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FlushVol">FlushVol</a></code> , or one of the related parameter block calls,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolSync">PBFlushVolSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolAsync">PBFlushVolAsync</a></code>. </p>
<p>To update a file larger than 2GB, or a named fork other than the data and resource forks, you must use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSFlushFork">FSFlushFork</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFlushForkSync">PBFlushForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFlushForkAsync">PBFlushForkAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>Some information stored on the volume won’t be correct until <code>PBFlushVolAsync</code> is called.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBFlushFileSync" title="PBFlushFileSync"></a><a name="//apple_ref/doc/c_ref/PBFlushFileSync" title="PBFlushFileSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04761" title="PBFlushFileSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_234"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_234"></a><h3 class="tight">PBFlushFileSync</h3>
<p class="spaceabove">Writes the contents of a file’s access path buffer to the disk.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFlushForkSync">PBFlushForkSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBFlushFileSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant field of the parameter block is:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the file to flush. </p></dd></dl>
<p>After writing the contents of the file to the volume, the <code>PBFlushFileSync</code> function updates the file’s entry in the volume catalog.</p>
<p>In the event of a system crash, all cached data not yet written to disk is lost. If you have made changes to space that already exists within a file (you are overwriting existing data before the file’s end-of-file), you must use <code>PBFlushFileSync</code> to ensure that everything written to the file will be written to disk. If you flush the fork’s cached blocks using <code>PBFlushFileSync</code>, the only possible data loss in a system crash will be the file’s modification date. </p>
<p>You do not, however, need to use <code>PBFlushFileSync</code> to flush a file fork before it is closed; the file is automatically flushed when it is closed and all cache blocks associated with it are removed from the cache.</p>
<p><code>PBFlushFileSync</code> flushes an open fork’s dirty cached blocks, but may not flush catalog information associated with the file. To flush catalog information, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FlushVol">FlushVol</a></code> , or one of the related parameter block calls,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolSync">PBFlushVolSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolAsync">PBFlushVolAsync</a></code>. </p>
<p>To update a file larger than 2GB, or a named fork other than the data and resource forks, you must use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSFlushFork">FSFlushFork</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFlushForkSync">PBFlushForkSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFlushForkAsync">PBFlushForkAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>Some information stored on the volume won’t be correct until <code>PBFlushVolSync</code> is called.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetCatInfoAsync" title="PBGetCatInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBGetCatInfoAsync" title="PBGetCatInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04766" title="PBGetCatInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_247"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_247"></a><h3 class="tight">PBGetCatInfoAsync</h3>
<p class="spaceabove">Returns catalog information about a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoAsync">PBGetCatalogInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetCatInfoAsync (
   <!--a-->CInfoPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an HFS catalog information parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CInfoPBRec">CInfoPBRec</a></code> for a description of the <code>CInfoPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBGetCatInfoAsync</code> function returns information about a file or directory, depending on the values you specify in the <code>ioFDirIndex</code>, <code>ioNamePtr</code>, <code>ioVRefNum</code>, and <code>ioDirID</code> or <code>ioDrDirID</code> fields. If you need to determine whether the information returned is for a file or a directory, you can test bit 4 of the <code>ioFlAttrib</code> field; if that bit is set, the information returned describes a directory.</p>
<p>The <code>PBGetCatInfoAsync</code> function selects a file or directory according to these rules:</p>
<ul class="ul"><li class="li"><p>  If the value of <code>ioFDirIndex</code> is positive, <code>ioNamePtr</code> is not used as an input parameter and <code>PBGetCatInfoAsync</code> returns information about the file or directory whose directory index is  <code>ioFDirIndex</code> in the directory specified by <code>ioDirID </code>  (or <code>ioDrDirID</code>) on the volume specified by <code>ioVRefNum </code>  (this will be the root directory if <code>ioVRefNum</code> is a volume reference number or a drive number and <code>ioDirID</code> is 0). If   <code>ioNamePtr</code> is not <code>NULL</code>, then it must point to a <code>Str31</code> buffer where the file or directory name will be returned. </p></li>
<li class="li"><p> If the value of <code>ioFDirIndex</code> is 0, <code>PBGetCatInfoAsync</code> returns information about the file or directory specified by <code>ioNamePtr</code> in the directory specified by <code>ioDirID </code>  (or <code>ioDrDirID</code>) on the volume specified by <code>ioVRefNum </code>  (again, this will be the root directory if <code>ioVRefNum</code> is a volume reference number or a drive number and <code>ioDirID</code> is  0).  </p></li>
<li class="li"><p> If the value of <code>ioFDirIndex</code> is negative, <code>PBGetCatInfoAsync</code> ignores the <code>ioNamePtr</code> field and returns information about the directory specified in the <code>ioDrDirID</code> field. If <code>ioNamePtr</code> is not <code>NULL</code>, then it must point to a <code>Str31</code> buffer where the directory name will be returned.  </p></li></ul>
<p>With files, <code>PBGetCatInfoAsync</code> is similar to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetFInfoAsync">PBHGetFInfoAsync</a></code>  but returns some additional information. If the object is a file, the relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. On output, the name of the file is returned in this field, if the file is open. If you do not want the name of the file returned, pass <code>NULL</code> in this field. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioFRefNum </code></dt>
<dd><p>On output, a file reference number. If the file is open, the reference number of the first access path found is returned here <code></code>.  </p></dd>
<dt><code>ioFDirIndex </code></dt>
<dd><p>On input, a directory index. </p></dd>
<dt><code>ioFlAttrib </code></dt>
<dd><p>On output, the file attributes. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Attribute_Constants">“File Attribute Constants”</a></span>  for the meaning of the file attributes. </p></dd>
<dt><code>ioFlFndrInfo </code></dt>
<dd><p>On output, information used by the Finder. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, a directory ID. On output, the file ID. You might need to save the value of <code>ioDirID</code> before calling <code>PBGetCatInfoAsync</code> if you make subsequent calls with the same parameter block. </p></dd>
<dt><code>ioFlStBlk </code></dt>
<dd><p>On output, the first allocation block of the data fork. </p></dd>
<dt><code>ioFlLgLen </code></dt>
<dd><p>On output, the logical size (the logical end-of-file) of the data fork, in bytes. </p></dd>
<dt><code>ioFlPyLen </code></dt>
<dd><p>On output, the physical size (the physical end-of-file) of the data fork, in bytes. </p></dd>
<dt><code>ioFlRStBlk </code></dt>
<dd><p>On output, the first allocation block of the resource fork. </p></dd>
<dt><code>ioFlRLgLen </code></dt>
<dd><p>On output, the logical size of the resource fork, in bytes. </p></dd>
<dt><code>ioFlRPyLen </code></dt>
<dd><p>On output, the physical size of the resource fork, in bytes. </p></dd>
<dt><code>ioFlCrDat </code></dt>
<dd><p>On output, the date and time of the file’s creation.  Note that file systems other than AFP, HFS and HFS Plus  do not generally support creation dates. For file systems which do not support creation dates, the File Manager sets the <code>ioFlCrDat</code> field to 0. </p></dd>
<dt><code>ioFlMdDat </code></dt>
<dd><p>On output, the date and time of the file’s last modification. </p></dd>
<dt><code>ioFlBkDat </code></dt>
<dd><p>On output, the date and time of the file’s last backup. Note that file systems other than AFP, HFS and HFS Plus  do not generally support backup dates. For file systems which do not support backup dates, the File Manager sets the <code>ioFlBkDat</code> field to 0. </p></dd>
<dt><code>ioFlXFndrInfo </code></dt>
<dd><p>On output, additional information used by the Finder. </p></dd>
<dt><code>ioFlParID </code></dt>
<dd><p>On output, the directory ID of the file’s parent directory. </p></dd>
<dt><code>ioFlClpSiz </code></dt>
<dd><p>On output, the file’s clump size. </p></dd></dl>
<p>You can also use <code>PBGetCatInfoAsync</code> to determine whether a file has a file ID reference. The value of the file ID is returned in the <code>ioDirID</code> field. Because that parameter could also represent a directory ID, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBResolveFileIDRefAsync">PBResolveFileIDRefAsync</a></code>  to see if the value is a real file ID. If you want to determine whether a file ID reference exists for a file and create one if it doesn’t, use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBCreateFileIDRefAsync">PBCreateFileIDRefAsync</a></code> , which will either create a file ID or return <code>fidExists</code>.</p>
<p>If the object is a directory, the relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. On output, a pointer to the directory name. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioFDirIndex </code></dt>
<dd><p>On input, a directory index. </p></dd>
<dt><code>ioFlAttrib </code></dt>
<dd><p>On output, the directory attributes. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Attribute_Constants">“File Attribute Constants”</a></span> for the meaning of the bits in this field. The bits in this field for directories are read-only. You cannot alter directory attributes by setting these bits using the functions  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetCatInfoSync">PBSetCatInfoSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetCatInfoAsync">PBSetCatInfoAsync</a></code>. Instead, you can call the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFLockSync">PBHSetFLockSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHRstFLockSync">PBHRstFLockSync</a></code>  functions to lock and unlock a directory, and the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBShareSync">PBShareSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBUnshareSync">PBUnshareSync</a></code>  functions to enable and disable file sharing on local directories. </p></dd>
<dt><code>ioACUser </code></dt>
<dd><p>On output, the directory access rights. The <code>PBGetCatInfoAsync</code> function returns the information in this field only for shared volumes. As a result, you should set this field to 0 before calling <code>PBGetCatInfoAsync</code>.<code>PBGetCatInfoAsync</code> does not return the blank access privileges bit in this field; to determine whether a directory has blank access privileges, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetDirAccessAsync">PBHGetDirAccessAsync</a></code>  function. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/User_Privileges_Constants">“User Privileges Constants”</a></span>  for a description of the constants that may be returned in this field. </p></dd>
<dt><code>ioDrUsrWds </code></dt>
<dd><p>On output, information used by the Finder. </p></dd>
<dt><code>ioDrDirID </code></dt>
<dd><p>On input, if you wish to obtain information about a specific directory, that directory’s ID. Otherwise, if the object returned is a directory, this field contains the directory ID on output. </p></dd>
<dt><code>ioDrNmFls </code></dt>
<dd><p>On output, the number of files in the directory. </p></dd>
<dt><code>ioDrCrDat </code></dt>
<dd><p>On output, the date and time of the directory’s creation. Note that file systems other than AFP, HFS and HFS Plus  do not generally support creation dates.  For file systems which do not support creation dates, the File Manager sets the <code>ioDrCrDat</code> field to 0. </p></dd>
<dt><code>ioDrMdDat </code></dt>
<dd><p>On output, the date and time of the directory’s last modification. </p></dd>
<dt><code>ioDrBkDat </code></dt>
<dd><p>On output, the date and time of the directory’s last backup. Note that file systems other than AFP, HFS and HFS Plus  do not generally support backup dates. For file systems which do not support backup dates, the File Manager sets the <code>ioDrBkDat</code> field to 0. </p></dd>
<dt><code>ioDrFndrInfo </code></dt>
<dd><p>On output, additional information used by the Finder. </p></dd>
<dt><code>ioDrParID </code></dt>
<dd><p>On output, the directory ID of the directory’s parent directory. </p></dd></dl>
<p>To get information on a file or directory with named forks, or on a file larger than 2GB, use one of the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoSync">PBGetCatalogInfoSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoAsync">PBGetCatalogInfoAsync</a></code>  functions. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetCatInfoSync" title="PBGetCatInfoSync"></a><a name="//apple_ref/doc/c_ref/PBGetCatInfoSync" title="PBGetCatInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04767" title="PBGetCatInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_248"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_248"></a><h3 class="tight">PBGetCatInfoSync</h3>
<p class="spaceabove">Returns catalog information about a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoSync">PBGetCatalogInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetCatInfoSync (
   <!--a-->CInfoPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an HFS catalog information parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CInfoPBRec">CInfoPBRec</a></code> for a description of the <code>CInfoPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBGetCatInfoSync</code> function returns information about a file or directory, depending on the values you specify in the <code>ioFDirIndex</code>, <code>ioNamePtr</code>, <code>ioVRefNum</code>, and <code>ioDirID</code> or <code>ioDrDirID</code> fields. If you need to determine whether the information returned is for a file or a directory, you can test bit 4 of the <code>ioFlAttrib</code> field; if that bit is set, the information returned describes a directory.</p>
<p>The <code>PBGetCatInfoSync</code> function selects a file or directory according to these rules:</p>
<ul class="ul"><li class="li"><p>  If the value of <code>ioFDirIndex</code> is positive, <code>ioNamePtr</code> is not used as an input parameter and <code>PBGetCatInfoSync</code> returns information about the file or directory whose directory index is  <code>ioFDirIndex</code> in the directory specified by  <code>ioDirID </code>  (or <code>ioDrDirID</code>) on the volume specified by <code>ioVRefNum </code>  (this will be the root directory if <code>ioVRefNum</code> is a volume reference number or a drive number and <code>ioDirID</code> is 0). If   <code>ioNamePtr</code> is not <code>NULL</code>, then it must point to a <code>Str31</code> buffer where the file or directory name will be returned. </p></li>
<li class="li"><p> If the value of <code>ioFDirIndex</code> is 0, <code>PBGetCatInfoSync</code> returns information about the file or directory specified by <code>ioNamePtr</code> in the directory specified by <code>ioDirID </code>  (or <code>ioDrDirID</code>) on the volume specified by <code>ioVRefNum </code>  (again, this will be the root directory if <code>ioVRefNum</code> is a volume reference number or a drive number and ioDirID is  0).  </p></li>
<li class="li"><p> If the value of <code>ioFDirIndex</code> is negative, <code>PBGetCatInfoSync</code> ignores the <code>ioNamePtr</code> field and returns information about the directory specified in the <code>ioDrDirID</code> field. If <code>ioNamePtr</code> is not <code>NULL</code>, then it must point to a <code>Str31</code> buffer where the directory name will be returned.  </p></li></ul>
<p>With files, <code>PBGetCatInfoSync</code> is similar to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetFInfoSync">PBHGetFInfoSync</a></code>  but returns some additional information. If the object is a file, the relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. On output, the name of the file is returned in this field, if the file is open. If you do not want the name of the file returned, pass <code>NULL</code> in this field. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioFRefNum </code></dt>
<dd><p>On output, a file reference number. If the file is open, the reference number of the first access path found is returned here.  </p></dd>
<dt><code>ioFDirIndex </code></dt>
<dd><p>On input, a directory index. </p></dd>
<dt><code>ioFlAttrib </code></dt>
<dd><p>On output, the file attributes. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Attribute_Constants">“File Attribute Constants”</a></span>  for the meaning of the file attributes. </p></dd>
<dt><code>ioFlFndrInfo </code></dt>
<dd><p>On output, information used by the Finder. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, a directory ID. On output, the file ID. You might need to save the value of <code>ioDirID</code> before calling <code>PBGetCatInfoSync</code> if you make subsequent calls with the same parameter block. </p></dd>
<dt><code>ioFlStBlk </code></dt>
<dd><p>On output, the first allocation block of the data fork. </p></dd>
<dt><code>ioFlLgLen </code></dt>
<dd><p>On output, the logical size (the logical end-of-file) of the data fork, in bytes. </p></dd>
<dt><code>ioFlPyLen </code></dt>
<dd><p>On output, the physical size (the physical end-of-file) of the data fork, in bytes. </p></dd>
<dt><code>ioFlRStBlk </code></dt>
<dd><p>On output, the first allocation block of the resource fork. </p></dd>
<dt><code>ioFlRLgLen </code></dt>
<dd><p>On output, the logical size of the resource fork, in bytes. </p></dd>
<dt><code>ioFlRPyLen </code></dt>
<dd><p>On output, the physical size of the resource fork, in bytes. </p></dd>
<dt><code>ioFlCrDat </code></dt>
<dd><p>On output, the date and time of the file’s creation. Note that file systems other than AFP, HFS and HFS Plus  do not generally support creation dates.  For file systems which do not support creation dates, the File Manager sets the <code>ioFlCrDat</code> field to 0. </p></dd>
<dt><code>ioFlMdDat </code></dt>
<dd><p>On output, the date and time of the file’s last modification. </p></dd>
<dt><code>ioFlBkDat </code></dt>
<dd><p>On output, the date and time of the file’s last backup. Note that file systems other than AFP, HFS and HFS Plus  do not generally support backup dates. For file systems which do not support backup dates, the File Manager sets the <code>ioFlBkDat</code> field to 0. </p></dd>
<dt><code>ioFlXFndrInfo </code></dt>
<dd><p>On output, additional information used by the Finder. </p></dd>
<dt><code>ioFlParID </code></dt>
<dd><p>On output, the directory ID of the file’s parent directory. </p></dd>
<dt><code>ioFlClpSiz </code></dt>
<dd><p>On output, the file’s clump size. </p></dd></dl>
<p>You can also use <code>PBGetCatInfoSync</code> to determine whether a file has a file ID reference. The value of the file ID is returned in the <code>ioDirID</code> field. Because that parameter could also represent a directory ID, call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBResolveFileIDRefSync">PBResolveFileIDRefSync</a></code>  to see if the value is a real file ID. If you want to determine whether a file ID reference exists for a file and create one if it doesn’t, use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBCreateFileIDRefSync">PBCreateFileIDRefSync</a></code> , which will either create a file ID or return <code>fidExists</code>.</p>
<p>If the object is a directory, the relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. On output, a pointer to the directory’s name. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioFDirIndex </code></dt>
<dd><p>On input, a directory index. </p></dd>
<dt><code>ioFlAttrib </code></dt>
<dd><p>On output, the directory attributes. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Attribute_Constants">“File Attribute Constants”</a></span> for the meaning of the bits in this field. The bits in this field for directories are read-only. You cannot alter directory attributes by setting these bits using the functions  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetCatInfoSync">PBSetCatInfoSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetCatInfoAsync">PBSetCatInfoAsync</a></code>. Instead, you can call the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFLockSync">PBHSetFLockSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHRstFLockSync">PBHRstFLockSync</a></code>  functions to lock and unlock a directory, and the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBShareSync">PBShareSync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBUnshareSync">PBUnshareSync</a></code>  functions to enable and disable file sharing on local directories. </p></dd>
<dt><code>ioACUser </code></dt>
<dd><p>On output, the directory access rights. The <code>PBGetCatInfoSync</code> function returns the information in this field only for shared volumes. As a result, you should set this field to 0 before calling <code>PBGetCatInfoSync</code>. <code>PBGetCatInfoSync</code> does not return the blank access privileges bit in this field; to determine whether a directory has blank access privileges, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetDirAccessSync">PBHGetDirAccessSync</a></code>  function. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/User_Privileges_Constants">“User Privileges Constants”</a></span> for a description of the constants that may be returned here. </p></dd>
<dt><code>ioDrUsrWds </code></dt>
<dd><p>On output, information used by the Finder. </p></dd>
<dt><code>ioDrDirID </code></dt>
<dd><p>On input, if you wish to obtain information about a specific directory, that directory’s ID. Otherwise, if the object returned is a directory, this field contains the directory ID on output. </p></dd>
<dt><code>ioDrNmFls </code></dt>
<dd><p>On output, the number of files in the directory. </p></dd>
<dt><code>ioDrCrDat </code></dt>
<dd><p>On output, the date and time of the directory’s creation. Note that file systems other than AFP, HFS and HFS Plus  do not generally support creation dates.  For file systems which do not support creation dates, the File Manager sets the <code>ioDrCrDat</code> field to 0.</p></dd>
<dt><code>ioDrMdDat </code></dt>
<dd><p>On output, the date and time of the directory’s last modification. </p></dd>
<dt><code>ioDrBkDat </code></dt>
<dd><p>On output, the date and time of the directory’s last backup. Note that file systems other than AFP, HFS and HFS Plus  do not generally support backup dates. For file systems which do not support backup dates, the File Manager sets the <code>ioDrBkDat</code> field to 0.</p></dd>
<dt><code>ioDrFndrInfo </code></dt>
<dd><p>On output, additional information used by the Finder. </p></dd>
<dt><code>ioDrParID </code></dt>
<dd><p>On output, the directory ID of the directory’s parent directory. </p></dd></dl>
<p>To get information on a file or directory with named forks, or on a file larger than 2GB, use one of the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoSync">PBGetCatalogInfoSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoAsync">PBGetCatalogInfoAsync</a></code>  functions. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetEOFAsync" title="PBGetEOFAsync"></a><a name="//apple_ref/doc/c_ref/PBGetEOFAsync" title="PBGetEOFAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04768" title="PBGetEOFAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_249"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_249"></a><h3 class="tight">PBGetEOFAsync</h3>
<p class="spaceabove">Determines the current logical size of an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkSizeAsync">PBGetForkSizeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetEOFAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the open file. </p></dd>
<dt><code>ioMisc </code></dt>
<dd><p>On output, the logical size (the logical end-of-file) of the given file. Because the <code>ioMisc</code> field is of type <code>Ptr</code>, you’ll need to coerce the value to a long integer to interpret the value correctly. </p></dd></dl>
<p>To determine the size of a named fork other than the data or resource forks, or of a fork larger than 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkSize">FSGetForkSize</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkSizeSync">PBGetForkSizeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkSizeAsync">PBGetForkSizeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetEOFSync" title="PBGetEOFSync"></a><a name="//apple_ref/doc/c_ref/PBGetEOFSync" title="PBGetEOFSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04769" title="PBGetEOFSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_250"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_250"></a><h3 class="tight">PBGetEOFSync</h3>
<p class="spaceabove">Determines the current logical size of an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkSizeSync">PBGetForkSizeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetEOFSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the open file. </p></dd>
<dt><code>ioMisc </code></dt>
<dd><p>On output, a pointer to the logical size (the logical end-of-file) of the given file. Because the <code>ioMisc</code> field is of type <code>Ptr</code>, you’ll need to coerce the value to a long integer to interpret the value correctly. </p></dd></dl>
<p>To determine the size of a named fork other than the data or resource forks, or of a fork larger than 2 GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkSize">FSGetForkSize</a></code>  function, or one of the corresponding parameter block functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkSizeSync">PBGetForkSizeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkSizeAsync">PBGetForkSizeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetFCBInfoAsync" title="PBGetFCBInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBGetFCBInfoAsync" title="PBGetFCBInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04770" title="PBGetFCBInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_251"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_251"></a><h3 class="tight">PBGetFCBInfoAsync</h3>
<p class="spaceabove">Gets information about an open file from the file control block. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkCBInfoAsync">PBGetForkCBInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetFCBInfoAsync (
   <!--a-->FCBPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a file control block parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FCBPBRec">FCBPBRec</a></code> for a description of the <code>FCBPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. You should pass a pointer to a <code>Str31</code> value if you want the name of the file returned. If you pass <code>NULL</code>, no filename is returned. On output, if <code>PBGetFCBInfoAsync</code> executes successfully, a pointer to the name of the specified open file.  </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. If you specify a valid index number in the <code>ioFCBIndx</code> field, the File Manager returns information on the file having that index in the FCB buffer on the volume specified in this field. This field may contain a drive number or volume reference number. If the value of <code>ioVRefNum</code> is 0, all open files are indexed; otherwise, only open files on the specified volume are indexed. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, if the <code>ioFCBIndx</code> field is 0, the file reference number of the file to get information about. If the value of <code>ioFCBIndx</code> is positive, the <code>ioRefNum</code> field is ignored on input and contains the file reference number on output. </p></dd>
<dt><code>ioFCBIndx </code></dt>
<dd><p>On input, an index. If the value of <code>ioFCBIndx</code> is positive, the File Manager returns information about the file whose index in the FCB buffer is <code>ioFCBIndx</code> and that is located on the volume specified in the <code>ioVRefNum</code> field. If the value of <code>ioFCBIndx</code> is 0, the File Manager returns information about the file whose file reference number is specified by the <code>ioRefNum</code> field.  </p></dd>
<dt><code>ioFCBFlNm </code></dt>
<dd><p>On output, the file ID. </p></dd>
<dt><code>ioFCBFlags </code></dt>
<dd><p>On output, file status flags. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/FCB_Flags">“FCB Flags”</a></span>  for a description of the bits in this field. </p></dd>
<dt><code>ioFCBStBlk </code></dt>
<dd><p>On output, the first allocation block of the file. </p></dd>
<dt><code>ioFCBEOF </code></dt>
<dd><p>On output, the logical size (the logical end-of-file) of the file. </p></dd>
<dt><code>ioFCBPLen </code></dt>
<dd><p>On output, the physical size (the physical end-of-file) of the file. </p></dd>
<dt><code>ioFCBCrPs </code></dt>
<dd><p>On output, the position of the file mark. </p></dd>
<dt><code>ioFCBVRefNum </code></dt>
<dd><p>On output, the volume reference number. </p></dd>
<dt><code>ioFCBClpSiz </code></dt>
<dd><p>On output, the file clump size. </p></dd>
<dt><code>ioFCBParID </code></dt>
<dd><p>On output, the directory ID of the file’s parent directory. </p></dd></dl>
<p>To get information about a fork control block, use one of the functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkCBInfo">FSGetForkCBInfo</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkCBInfoSync">PBGetForkCBInfoSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkCBInfoAsync">PBGetForkCBInfoAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>On OS X, the value returned by <code>PBGetFCBInfoAsync</code> in the <code>ioFCBPLen</code> field may differ from the physical file length reported by <code>FSGetCatalogInfo</code>, <code>PBGetCatInfo</code>, and related functions.  When a write causes a file to grow in size, the physical length reported by <code>FSGetCatalogInfo</code> and similar calls increases by the clump size, which is a multiple of the allocation block size. However, the physical length returned by <code>PBGetFCBInfoAsync</code> changes according to the allocation block size and the file lengths returned by the respective functions get out of sync.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetFCBInfoSync" title="PBGetFCBInfoSync"></a><a name="//apple_ref/doc/c_ref/PBGetFCBInfoSync" title="PBGetFCBInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04771" title="PBGetFCBInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_252"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_252"></a><h3 class="tight">PBGetFCBInfoSync</h3>
<p class="spaceabove">Gets information about an open file from the file control block. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkCBInfoSync">PBGetForkCBInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetFCBInfoSync (
   <!--a-->FCBPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a file control block parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FCBPBRec">FCBPBRec</a></code> for a description of the <code>FCBPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. You should pass a pointer to a <code>Str31</code> value if you want the name of the file returned. If you pass <code>NULL</code>, no filename is returned. On output, if <code>PBGetFCBInfoSync</code> executes successfully, a pointer to the name of the specified open file.  </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. If you specify a valid index number in the <code>ioFCBIndx</code> field, the File Manager returns information on the file having that index in the FCB buffer on the volume specified in this field. This field may contain a drive number or volume reference number. If the value of <code>ioVRefNum</code> is 0, all open files are indexed; otherwise, only open files on the specified volume are indexed. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, if the ioFCBIndx field is 0, the file reference number of the file to get information about. If the value of <code>ioFCBIndx</code> is positive, the <code>ioRefNum</code> field is ignored on input and contains the file reference number on output. </p></dd>
<dt><code>ioFCBIndx </code></dt>
<dd><p>On input, an index. If the value of <code>ioFCBIndx</code> is positive, the File Manager returns information about the file whose index in the FCB buffer is <code>ioFCBIndx</code> and that is located on the volume specified in the <code>ioVRefNum</code> field. If the value of <code>ioFCBIndx</code> is 0, the File Manager returns information about the file whose file reference number is specified by the <code>ioRefNum</code> field.  </p></dd>
<dt><code>ioFCBFlNm </code></dt>
<dd><p>On output, the file ID. </p></dd>
<dt><code>ioFCBFlags </code></dt>
<dd><p>On output, file status flags. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/FCB_Flags">“FCB Flags”</a></span>  for a description of the bits in this field. </p></dd>
<dt><code>ioFCBStBlk </code></dt>
<dd><p>On output, the first allocation block of the file. </p></dd>
<dt><code>ioFCBEOF </code></dt>
<dd><p>On output, the logical size (the logical end-of-file) of the file. </p></dd>
<dt><code>ioFCBPLen </code></dt>
<dd><p>On output, the physical size (the physical end-of-file) of the file. </p></dd>
<dt><code>ioFCBCrPs </code></dt>
<dd><p>On output, the current position of the file mark. </p></dd>
<dt><code>ioFCBVRefNum </code></dt>
<dd><p>On output, the volume reference number. </p></dd>
<dt><code>ioFCBClpSiz </code></dt>
<dd><p>On output, the file clump size. </p></dd>
<dt><code>ioFCBParID </code></dt>
<dd><p>On output, the directory ID of the file’s parent directory. </p></dd></dl>
<p>To get information about a fork control block, use one of the functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkCBInfo">FSGetForkCBInfo</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkCBInfoSync">PBGetForkCBInfoSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkCBInfoAsync">PBGetForkCBInfoAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>On OS X, the value returned by <code>PBGetFCBInfoSync</code> in the <code>ioFCBPLen</code> field may differ from the physical file length reported by <code>FSGetCatalogInfo</code>, <code>PBGetCatInfo</code>, and related functions.  When a write causes a file to grow in size, the physical length reported by <code>FSGetCatalogInfo</code> and similar calls increases by the clump size, which is a multiple of the allocation block size. However, the physical length returned by <code>PBGetFCBInfoSync</code> changes according to the allocation block size and the file lengths returned by the respective functions get out of sync.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetForeignPrivsAsync" title="PBGetForeignPrivsAsync"></a><a name="//apple_ref/doc/c_ref/PBGetForeignPrivsAsync" title="PBGetForeignPrivsAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04774" title="PBGetForeignPrivsAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_253"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_253"></a><h3 class="tight">PBGetForeignPrivsAsync</h3>
<p class="spaceabove">Determines the native access-control information for a file or directory stored on a volume managed by a foreign file system.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBGetForeignPrivsAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetForeignPrivsSync" title="PBGetForeignPrivsSync"></a><a name="//apple_ref/doc/c_ref/PBGetForeignPrivsSync" title="PBGetForeignPrivsSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04775" title="PBGetForeignPrivsSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_254"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_254"></a><h3 class="tight">PBGetForeignPrivsSync</h3>
<p class="spaceabove">Determines the native access-control information for a file or directory stored on a volume managed by a foreign file system.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBGetForeignPrivsSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetFPosAsync" title="PBGetFPosAsync"></a><a name="//apple_ref/doc/c_ref/PBGetFPosAsync" title="PBGetFPosAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04776" title="PBGetFPosAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_261"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_261"></a><h3 class="tight">PBGetFPosAsync</h3>
<p class="spaceabove">Returns the current position of the file mark.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkPositionAsync">PBGetForkPositionAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetFPosAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information about completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, the file reference number of an open file. </p></dd>
<dt><code>ioPosOffset </code></dt>
<dd><p>On output, the current position of the mark. The value returned in <code>ioPosOffset</code> is zero-based. Thus, a call to <code>PBGetFPosAsync</code> returns 0 if you call it when the file mark is positioned at the beginning of the file. The <code>ioReqCount</code>, <code>ioActCount</code>, and <code>ioPosMode</code> fields of the parameter block are all set to 0 on output. To determine the current position of a named fork, or of a fork larger than 2GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkPosition">FSGetForkPosition</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkPositionSync">PBGetForkPositionSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkPositionAsync">PBGetForkPositionAsync</a></code>. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetFPosSync" title="PBGetFPosSync"></a><a name="//apple_ref/doc/c_ref/PBGetFPosSync" title="PBGetFPosSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04777" title="PBGetFPosSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_262"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_262"></a><h3 class="tight">PBGetFPosSync</h3>
<p class="spaceabove">Returns the current position of the file mark.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkPositionSync">PBGetForkPositionSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetFPosSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, the file reference number of an open file. </p></dd>
<dt><code>ioPosOffset </code></dt>
<dd><p>On output, the current position of the mark. The value returned in <code>ioPosOffset</code> is zero-based. Thus, a call to <code>PBGetFPosSync</code> returns 0 if you call it when the file mark is positioned at the beginning of the file. </p></dd></dl>
<p>The <code>ioReqCount</code>, <code>ioActCount</code>, and <code>ioPosMode</code> fields of the parameter block are all set to 0 on output.</p>
<p>To determine the current position of a named fork, or of a fork larger than 2GB, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetForkPosition">FSGetForkPosition</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkPositionSync">PBGetForkPositionSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetForkPositionAsync">PBGetForkPositionAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetUGEntryAsync" title="PBGetUGEntryAsync"></a><a name="//apple_ref/doc/c_ref/PBGetUGEntryAsync" title="PBGetUGEntryAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04778" title="PBGetUGEntryAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_263"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_263"></a><h3 class="tight">PBGetUGEntryAsync</h3>
<p class="spaceabove">Gets a user or group entry from the list of User and Group names and IDs on the local file server.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBGetUGEntryAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetUGEntrySync" title="PBGetUGEntrySync"></a><a name="//apple_ref/doc/c_ref/PBGetUGEntrySync" title="PBGetUGEntrySync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04779" title="PBGetUGEntrySync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_264"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_264"></a><h3 class="tight">PBGetUGEntrySync</h3>
<p class="spaceabove">Gets a user or group entry from the list of User and Group names and IDs on a local file server.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBGetUGEntrySync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetXCatInfoAsync" title="PBGetXCatInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBGetXCatInfoAsync" title="PBGetXCatInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04788" title="PBGetXCatInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_269"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_269"></a><h3 class="tight">PBGetXCatInfoAsync</h3>
<p class="spaceabove">Returns the short name (MS-DOS format name) and the ProDOS information for a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBGetXCatInfoAsync (
   <!--a-->XCInfoPBPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetXCatInfoSync" title="PBGetXCatInfoSync"></a><a name="//apple_ref/doc/c_ref/PBGetXCatInfoSync" title="PBGetXCatInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04789" title="PBGetXCatInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_270"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_270"></a><h3 class="tight">PBGetXCatInfoSync</h3>
<p class="spaceabove">Returns the short name (MS-DOS format name) and the ProDOS information for a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBGetXCatInfoSync (
   <!--a-->XCInfoPBPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHCreateAsync" title="PBHCreateAsync"></a><a name="//apple_ref/doc/c_ref/PBHCreateAsync" title="PBHCreateAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04792" title="PBHCreateAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_273"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_273"></a><h3 class="tight">PBHCreateAsync</h3>
<p class="spaceabove">Creates a new file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeAsync">PBCreateFileUnicodeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHCreateAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion functions, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name for the new file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the parent directory of the new file. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>The <code>PBHCreateAsync</code> function creates both forks of the file the new file is unlocked and empty. The date and time of its creation and last modification are set to the current date and time. If the file created isn’t temporary (that is, if it will exist after the user quits the application), the application should call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFInfoAsync">PBHSetFInfoAsync</a></code> , after the call to <code>PBHCreateAsync</code>, to fill in the information needed by the Finder.</p>
<p>Files created using <code>PBHCreateAsync</code> are not automatically opened. If you want to write data to the new file, you must first open the file using one of the file access functions,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpOpenDF">FSpOpenDF</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenDF">HOpenDF</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDFSync">PBHOpenDFSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDFAsync">PBHOpenDFAsync</a></code>.</p>
<p>The resource fork of the new file exists but is empty. You’ll need to call one of the Resource Manager procedures <code>HCreateResFile</code> or <code>FSpCreateResFile</code> to create a resource map in the file before you can open it (by calling one of the Resource Manager functions <code>HOpenResFile</code> or <code>FSpOpenResFile</code>).</p>
<p>To create a file with a Unicode filename, use the function  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateFileUnicode">FSCreateFileUnicode</a></code> , or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeSync">PBCreateFileUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeAsync">PBCreateFileUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHCreateSync" title="PBHCreateSync"></a><a name="//apple_ref/doc/c_ref/PBHCreateSync" title="PBHCreateSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04793" title="PBHCreateSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_274"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_274"></a><h3 class="tight">PBHCreateSync</h3>
<p class="spaceabove">Creates a new file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeSync">PBCreateFileUnicodeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHCreateSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name for the new file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the parent directory of the new file. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>The <code>PBHCreateSync</code> function creates both the data and resource fork of the file the new file is unlocked and empty. The date and time of its creation and last modification are set to the current date and time. If the file created isn’t temporary (that is, if it will exist after the user quits the application), the application should call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFInfoSync">PBHSetFInfoSync</a></code>  after the call to <code>PBHCreateSync</code> to fill in the information needed by the Finder.</p>
<p>Files created using <code>PBHCreateSync</code> are not automatically opened. If you want to write data to the new file, you must first open the file using one of the file access functions,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpOpenDF">FSpOpenDF</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenDF">HOpenDF</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDFSync">PBHOpenDFSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDFAsync">PBHOpenDFAsync</a></code>.</p>
<p>The resource fork of the new file exists but is empty. You’ll need to call one of the Resource Manager procedures <code>HCreateResFile</code> or <code>FSpCreateResFile</code> to create a resource map in the file before you can open it (by calling one of the Resource Manager functions <code>HOpenResFile</code> or <code>FSpOpenResFile</code>).</p>
<p>To create a file with a Unicode filename, use the function  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSCreateFileUnicode">FSCreateFileUnicode</a></code> , or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeSync">PBCreateFileUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCreateFileUnicodeAsync">PBCreateFileUnicodeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHDeleteAsync" title="PBHDeleteAsync"></a><a name="//apple_ref/doc/c_ref/PBHDeleteAsync" title="PBHDeleteAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04794" title="PBHDeleteAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_275"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_275"></a><h3 class="tight">PBHDeleteAsync</h3>
<p class="spaceabove">Deletes a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBDeleteObjectAsync">PBDeleteObjectAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHDeleteAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. If you attempt to delete an open file or a non-empty directory, <code>PBHDeleteAsync</code> returns the result code <code>fBsyErr</code>. <code>PBHDeleteAsync</code> also returns <code>fBsyErr</code> if you attempt to delete a directory that has an open working directory associated with it. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory to delete. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the parent directory of the file or directory to delete. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>If the specified target is a file, both the data and the resource fork of the file are deleted. In addition, if a file ID reference for the specified file exists, that file ID reference is also removed. A file must be closed before you can delete it. Similarly, you cannot delete a directory unless it’s empty.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHDeleteSync" title="PBHDeleteSync"></a><a name="//apple_ref/doc/c_ref/PBHDeleteSync" title="PBHDeleteSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04795" title="PBHDeleteSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_276"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_276"></a><h3 class="tight">PBHDeleteSync</h3>
<p class="spaceabove">Deletes a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBDeleteObjectSync">PBDeleteObjectSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHDeleteSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> If you attempt to delete an open file or a non-empty directory, <code>PBHDeleteSync</code> returns the result code <code>fBsyErr</code>. <code>PBHDeleteSync</code> also returns <code>fBsyErr</code> if you attempt to delete a directory that has an open working directory associated with it.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory to delete. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the parent directory of the file or directory to delete. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>If the specified target is a file, both the data and the resource fork of the file are deleted. In addition, if a file ID reference for the specified file exists, that file ID reference is also removed. A file must be closed before you can delete it. Similarly, you cannot delete a directory unless it’s empty.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetFInfoAsync" title="PBHGetFInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBHGetFInfoAsync" title="PBHGetFInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04798" title="PBHGetFInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_279"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_279"></a><h3 class="tight">PBHGetFInfoAsync</h3>
<p class="spaceabove">Obtains information about a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoAsync">PBGetCatalogInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetFInfoAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. If the value of the <code>ioFDirIndex</code> field is negative or 0, <code>PBHGetFInfoAsync</code> returns information about the file in the volume specified by the reference number in the <code>ioVRefNum</code> field and having the name given here. On output, a pointer to the name of the file, if the file is open. If you do not wish the name returned, pass <code>NULL</code> here. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume containing the file, or 0 for the default volume. </p></dd>
<dt><code>ioFRefNum </code></dt>
<dd><p>On output, the reference number of the first access path found, if the file is open and if the <code>ioFDirIndex</code> field is negative or 0; if the <code>ioFDirIndex</code> field is positive... </p></dd>
<dt><code>ioFDirIndex </code></dt>
<dd><p>On input, a directory index. If this value is positive, the function returns information about the file having the directory index specified here, on the volume specified in the <code>ioVRefNum</code> field and in the directory specified in the <code>ioDirID</code> field. If this value is negative or 0, the function returns information about the file on the specified volume, having the name pointed to in the <code>ioNamePtr</code> field. </p></dd>
<dt><code>ioFlAttrib </code></dt>
<dd><p>On output, the file attributes. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Attribute_Constants">“File Attribute Constants”</a></span> for a description of the file attributes. </p></dd>
<dt><code>ioFlFndrInfo </code></dt>
<dd><p>On output, Finder information about the file. For a description of the <code>FInfo</code> structure, see the  <em> Finder Interface Reference </em>. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. On output, the file’s file ID. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd>
<dt><code>ioFlStBlk </code></dt>
<dd><p>On output, the first allocation block of the data fork. </p></dd>
<dt><code>ioFlLgLen </code></dt>
<dd><p>On output, the logical size (the logical end-of-file) of the file’s data fork, in bytes. </p></dd>
<dt><code>ioFlPyLen </code></dt>
<dd><p>On output, the physical size (the physical end-of-file) of the file’s data fork, in bytes. </p></dd>
<dt><code>ioFlRStBlk </code></dt>
<dd><p>On output, the first allocation block of the resource fork. </p></dd>
<dt><code>ioFlRLgLen </code></dt>
<dd><p>On output, the logical size of the file’s resource fork, in bytes. </p></dd>
<dt><code>ioFlRPyLen </code></dt>
<dd><p>On output, the physical size of the file’s resource fork, in bytes. </p></dd>
<dt><code>ioFlCrDat </code></dt>
<dd><p>On output, the date and time of the file’s creation. </p></dd>
<dt><code>ioFlMdDat </code></dt>
<dd><p>On output, the date and time of the file’s last modification. </p></dd></dl>
<p> You should call <code>PBHGetFInfoAsync</code> just before  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFInfoAsync">PBHSetFInfoAsync</a></code> , so that the current information is present in the parameter block. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetFInfoSync" title="PBHGetFInfoSync"></a><a name="//apple_ref/doc/c_ref/PBHGetFInfoSync" title="PBHGetFInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04799" title="PBHGetFInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_280"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_280"></a><h3 class="tight">PBHGetFInfoSync</h3>
<p class="spaceabove">Obtains information about a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoSync">PBGetCatalogInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetFInfoSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. If the value of the <code>ioFDirIndex</code> field is negative or 0, <code>PBHGetFInfoSync</code> returns information about the file in the volume specified by the reference number in the <code>ioVRefNum</code> field and having the name given here. On output, a pointer to the name of the file, if the file is open. If you do not wish the name returned, pass <code>NULL</code> here. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume containing the file, or 0 for the default volume. </p></dd>
<dt><code>ioFRefNum </code></dt>
<dd><p>On output, the reference number of the first access path found, if the file is open and if the <code>ioFDirIndex</code> field is negative or 0; if the <code>ioFDirIndex</code> field is positive... </p></dd>
<dt><code>ioFDirIndex </code></dt>
<dd><p>On input, a directory index. If this value is positive, the function returns information about the file having the directory index specified here, on the volume specified in the <code>ioVRefNum</code> field and in the directory specified in the <code>ioDirID</code> field. If this value is negative or 0, the function returns information about the file on the specified volume, having the name pointed to in the <code>ioNamePtr</code> field. </p></dd>
<dt><code>ioFlAttrib </code></dt>
<dd><p>On output, the file attributes. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Attribute_Constants">“File Attribute Constants”</a></span> for a description of the file attributes. </p></dd>
<dt><code>ioFlFndrInfo </code></dt>
<dd><p>On output, Finder information about the file. For a description of the <code>FInfo</code> data type, see the  <em> Finder Interface Reference </em>. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. On output, the file’s file ID. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd>
<dt><code>ioFlStBlk </code></dt>
<dd><p>On output, the first allocation block of the data fork. </p></dd>
<dt><code>ioFlLgLen </code></dt>
<dd><p>On output, the logical size (the logical end-of-file) of the file’s data fork, in bytes. </p></dd>
<dt><code>ioFlPyLen </code></dt>
<dd><p>On output, the physical size (the physical end-of-file) of the file’s data fork, in bytes. </p></dd>
<dt><code>ioFlRStBlk </code></dt>
<dd><p>On output, the first allocation block of the resource fork. </p></dd>
<dt><code>ioFlRLgLen </code></dt>
<dd><p>On output, the logical size of the resource fork, in bytes. </p></dd>
<dt><code>ioFlRPyLen </code></dt>
<dd><p>On output, the physical size of the resource fork, in bytes. </p></dd>
<dt><code>ioFlCrDat </code></dt>
<dd><p>On output, the date and time of the file’s creation. </p></dd>
<dt><code>ioFlMdDat </code></dt>
<dd><p>On output, the date and time of the file’s last modification. </p></dd></dl>
<p>You should call <code>PBHGetFInfoSync</code> just before  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFInfoSync">PBHSetFInfoSync</a></code> , so that the current information is present in the parameter block. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetLogInInfoAsync" title="PBHGetLogInInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBHGetLogInInfoAsync" title="PBHGetLogInInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04800" title="PBHGetLogInInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_281"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_281"></a><h3 class="tight">PBHGetLogInInfoAsync</h3>
<p class="spaceabove">Determines the login method used to log on to a particular shared volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetLogInInfoAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ObjParam">ObjParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the shared volume. This field can contain a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioObjType </code></dt>
<dd><p>On output, the login method type. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Authentication_Method_Constants">“Authentication Method Constants”</a></span>  for the values that are recognized. Values in the range 7–127 are reserved for future use by Apple Computer, Inc. Values in the range 128–255 are available to your application as user-defined values. </p></dd>
<dt><code>ioObjNamePtr </code></dt>
<dd><p>On output, a pointer to the user name used to establish the session. The login user name is returned as a Pascal string. The maximum size of the user name is 31 characters.  </p></dd></dl><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetLogInInfoSync" title="PBHGetLogInInfoSync"></a><a name="//apple_ref/doc/c_ref/PBHGetLogInInfoSync" title="PBHGetLogInInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04801" title="PBHGetLogInInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_282"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_282"></a><h3 class="tight">PBHGetLogInInfoSync</h3>
<p class="spaceabove">Determines the login method used to log on to a particular shared volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetLogInInfoSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetVInfoAsync" title="PBHGetVInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBHGetVInfoAsync" title="PBHGetVInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04802" title="PBHGetVInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_283"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_283"></a><h3 class="tight">PBHGetVInfoAsync</h3>
<p class="spaceabove">Gets detailed information about a volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetVolumeInfoAsync">PBGetVolumeInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetVInfoAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HVolumeParam">HVolumeParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a buffer. If you specify a negative number in the <code>ioVolIndex</code> field, this buffer should hold the name of the volume for which to return information. On output, a pointer to the volume’s name. You should pass a pointer to a <code>Str31</code> value if you want the name returned. If you pass <code>NULL</code>, no volume name is returned. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume for which to return information. If the <code>ioVolIndex</code> field is negative, the File Manager uses the value in the <code>ioNamePtr</code> field, along with the value specified in the <code>ioVRefNum</code> field, to determine the volume. If the value in <code>ioVolIndex</code> is 0, the File Manager attempts to access the volume using only the value in this field. On output, the volume reference number. </p></dd>
<dt><code>ioVolIndex </code></dt>
<dd><p>On input, an index used for indexing through all mounted volumes. If this value is positive, the File Manager uses it to find the volume for which to return information. For instance, if the value of <code>ioVolIndex</code> is 2, the File Manager attempts to access the second mounted volume in the VCB queue. If <code>ioVolIndex</code> is negative, the File Manager uses the values in the <code>ioNamePtr</code> and <code>ioVRefNum</code> fields to access the requested volume. If <code>ioVolIndex</code> is 0, the File Manager uses only the value in the <code>ioVRefNum</code> field. </p></dd>
<dt><code>ioVCrDate </code></dt>
<dd><p>On output, the date and time of the volume’s initialization. </p></dd>
<dt><code>ioVLsMod </code></dt>
<dd><p>On output, the date and time of the volume’s last modification. </p></dd>
<dt><code>ioVAtrb </code></dt>
<dd><p>On output, the volume attributes. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Volume_Information_Attribute_Constants">“Volume Information Attribute Constants”</a></span>  for a description of the volume attributes returned by this function. </p></dd>
<dt><code>ioVNmFls </code></dt>
<dd><p>On output, the number of files in the root directory of the volume. For performance reasons, the Carbon File Manager does not return the number of files in this field; instead, it sets <code>ioVNmFls</code> to 0.To determine the number of files in the root directory of a volume in Carbon, call   <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetCatInfoAsync">PBGetCatInfoAsync</a></code>  for the root directory.  The number of files in the root directory is returned in the <code>ioDrNmFls</code> field. </p></dd>
<dt><code>ioVBitMap </code></dt>
<dd><p>On output, the first block of the volume bitmap. </p></dd>
<dt><code>ioVAllocPtr </code></dt>
<dd><p>On output, the block at which the search for the next new file allocation should start. </p></dd>
<dt><code>ioVNmAlBlks </code></dt>
<dd><p>On output, the number of allocation blocks on the volume. </p></dd>
<dt><code>ioVAlBlkSiz </code></dt>
<dd><p>On output, the size of the allocation blocks. </p></dd>
<dt><code>ioVClpSiz </code></dt>
<dd><p>On output, the default clump size. </p></dd>
<dt><code>ioAlBlSt </code></dt>
<dd><p>On output, the first block in the volume block map. </p></dd>
<dt><code>ioVNxtCNID </code></dt>
<dd><p>On output, the next unused catalog node ID. </p></dd>
<dt><code>ioVFrBlk </code></dt>
<dd><p>On output, the number of unused allocation blocks. </p></dd>
<dt><code>ioVSigWord </code></dt>
<dd><p>On output, the volume signature. For HFS volumes, this is ‘BD’ for HFS Plus volumes, this is ‘H+’. </p></dd>
<dt><code>ioVDrvInfo </code></dt>
<dd><p>On output, the drive number. You can determine whether the given volume is online by inspecting the value of this field. For online volumes, the <code>ioVDrvInfo</code> field contains the drive number of the drive containing the specified volume and hence is always greater than 0. If the value returned in <code>ioVDrvInfo</code> is 0, the volume is either offline or ejected. </p><p>Mac OS X does not support drive numbers; in Mac OS X, the File Manager always returns a value of 1 in this field.</p></dd>
<dt><code>ioVDRefNum </code></dt>
<dd><p>On output, the driver reference number. You can determine whether the volume is offline or ejected by inspecting the value of this field. If the volume is offline, the value of <code>ioVDRefNum</code> is the negative of the drive number (which is cleared when the volume is placed offline; hence the <code>ioVDrvInfo</code> field for an offline volume is zero), and is a negative number. If the volume is ejected, the value of <code>ioVDRefNum</code> is the drive number itself, and thus is a positive number. For online volumes, <code>ioVDRefNum</code> contains a driver reference number; these numbers are always less than 0.  </p></dd>
<dt><code>ioVFSID </code></dt>
<dd><p>On output, the file system handling this volume. </p></dd>
<dt><code>ioVBkUp </code></dt>
<dd><p>On output, the date and time of the volume’s last backup. </p></dd>
<dt><code>ioVSeqNum </code></dt>
<dd><p>Used internally. </p></dd>
<dt><code>ioVWrCnt </code></dt>
<dd><p>On output, the volume write count. </p></dd>
<dt><code>ioVFilCnt </code></dt>
<dd><p>On output, the number of files on the volume. </p></dd>
<dt><code>ioVDirCnt </code></dt>
<dd><p>On output, the number of directories on the volume. </p></dd>
<dt><code>ioVFndrInfo </code></dt>
<dd><p>On output, Finder information for the volume. </p></dd></dl>
<p>You can get information about all the online volumes by making repeated calls to <code>PBHGetVInfoAsync</code>, starting with the value of the <code>ioVolIndex</code> field set to 1 and incrementing that value until <code>PBHGetVInfoAsync</code> returns <code>nsvErr</code>.</p>
<p>If you need to obtain information about HFS Plus volumes, you should use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetVolumeInfo">FSGetVolumeInfo</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetVolumeInfoSync">PBGetVolumeInfoSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetVolumeInfoAsync">PBGetVolumeInfoAsync</a></code>. The <code>PBHGetVInfoAsync</code> function is still supported for HFS Plus volumes, but there is additional information returned by the <code>FSGetVolumeInfo</code> function (such as the date and time that the volume was last checked for consistency). </p>
<h5 class="tight">Special Considerations</h5>
<p>After an operation that changes the amount of free space on the volume—such as deleting a file—there may be a delay before a call to <code>PBHGetVInfoAsync</code> returns the updated amount. This is because the File Manager caches and periodically updates file system information, to reduce the number of calls made to retrieve the information from the file system. Currently, the File Manager updates its information every 15 seconds. This primarily affects NFS volumes. DOS, SMB, UFS and WebDAV volumes were also affected by this in previous versions of Mac OS X, but behave correctly in Mac OS X version 10.3 and later.</p>
<p>If the value of <code>ioVolIndex</code> is negative, the File Manager uses <code>ioNamePtr</code> and <code>ioVRefNum</code> in the standard way to determine the volume. However, because <code>PBHGetVInfoAsync</code> returns the volume name in the buffer  whose address you passed in <code>ioNamePtr</code>, your input pathname will be modified. If you don't want your  input pathname modified, make a copy of it and pass the copy to <code>PBHGetVInfoAsync</code>.</p>
<p>The volume name returned by <code>PBHGetVInfoAsync</code> is not a full pathname to the volume because it does not  contain a colon.</p>
<p>For compatibility with older programs, some values returned by <code>PBHGetVInfoAsync</code> are not what is stored in the volume's Volume Control Block (VCB). Specifically:</p>
<ul class="ul"><li class="li"><p><code>ioVNmAlBlks</code> and <code>ioVFrBlk</code> are pinned to values which, when multiplied by <code>ioVAlBlkSiz</code>, are always less than 2 Gigabytes.</p></li>
<li class="li"><p><code>ioVNmAlBlks</code> may not include the allocation blocks used by the catalog and extents overflow  files. </p></li>
<li class="li"><p>$4244 is returned in <code>ioVSigWord</code> for both HFS and HFS Plus volumes. </p></li></ul>
<p> For unpinned total and free byte counts, and for the real <code>ioVSigWord</code>, use <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBXGetVolInfoAsync">PBXGetVolInfoAsync</a></code> instead of <code>PBHGetVInfoAsync</code>.</p>
<h5 class="tight">Version Notes</h5>
<p>In non-Carbon applications, you may pass a working directory reference in the <code>ioVRefNum</code> field; if you pass a working directory reference in that field, the number of files and directories in the specified directory is returned in the <code>ioVNmFls</code> field.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetVInfoSync" title="PBHGetVInfoSync"></a><a name="//apple_ref/doc/c_ref/PBHGetVInfoSync" title="PBHGetVInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04803" title="PBHGetVInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_284"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_284"></a><h3 class="tight">PBHGetVInfoSync</h3>
<p class="spaceabove">Gets detailed information about a volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetVolumeInfoSync">PBGetVolumeInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetVInfoSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HVolumeParam">HVolumeParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a buffer. If you specify a negative number in the <code>ioVolIndex</code> field, this buffer should hold the name of the volume for which to return information. On output, a pointer to the volume’s name. You should pass a pointer to a <code>Str31</code> value if you want the name returned. If you pass <code>NULL</code>, no volume name is returned. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume for which to return information; or 0 for the default volume. If the <code>ioVolIndex</code> field is negative, the File Manager uses the value in the <code>ioNamePtr</code> field, along with the value specified in the <code>ioVRefNum</code> field, to determine the volume. If the value in <code>ioVolIndex</code> is 0, the File Manager attempts to access the volume using only the value in this field. On output, the volume reference number. </p></dd>
<dt><code>ioVolIndex </code></dt>
<dd><p>On input, an index used for indexing through all mounted volumes. If this value is positive, the File Manager uses it to find the volume for which to return information. For instance, if the value of <code>ioVolIndex</code> is 2, the File Manager attempts to access the second mounted volume in the VCB queue. If <code>ioVolIndex</code> is negative, the File Manager uses the values in the <code>ioNamePtr</code> and <code>ioVRefNum</code> fields to access the requested volume. If <code>ioVolIndex</code> is 0, the File Manager uses only the value in the <code>ioVRefNum</code> field. </p></dd>
<dt><code>ioVCrDate </code></dt>
<dd><p>On output, the date and time of the volume’s initialization. </p></dd>
<dt><code>ioVLsMod </code></dt>
<dd><p>On output, the date and time of the volume’s last modification. </p></dd>
<dt><code>ioVAtrb </code></dt>
<dd><p>On output, the volume attributes. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Volume_Information_Attribute_Constants">“Volume Information Attribute Constants”</a></span>  for a description of the volume attributes returned by this function. </p></dd>
<dt><code>ioVNmFls </code></dt>
<dd><p>On output, the number of files in the root directory of the volume. For performance reasons, the Carbon File Manager does not return the number of files in this field; instead, it sets <code>ioVNmFls</code> to 0.To determine the number of files in the root directory of a volume in Carbon, call   <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetCatInfoSync">PBGetCatInfoSync</a></code>  for the root directory.  The number of files in the root directory is returned in the <code>ioDrNmFls</code> field. </p></dd>
<dt><code>ioVBitMap </code></dt>
<dd><p>On output, the first block of the volume bitmap. </p></dd>
<dt><code>ioVAllocPtr </code></dt>
<dd><p>On output, the block at which the search for the next new file allocation should start. </p></dd>
<dt><code>ioVNmAlBlks </code></dt>
<dd><p>On output, the number of allocation blocks on the volume. </p></dd>
<dt><code>ioVAlBlkSiz </code></dt>
<dd><p>On output, the size of the allocation blocks. </p></dd>
<dt><code>ioVClpSiz </code></dt>
<dd><p>On output, the default clump size. </p></dd>
<dt><code>ioAlBlSt </code></dt>
<dd><p>On output, the first block in the volume block map. </p></dd>
<dt><code>ioVNxtCNID </code></dt>
<dd><p>On output, the next unused catalog node ID. </p></dd>
<dt><code>ioVFrBlk </code></dt>
<dd><p>On output, the number of unused allocation blocks. </p></dd>
<dt><code>ioVSigWord </code></dt>
<dd><p>On output, the volume signature. For HFS volumes, this is ‘BD’ for HFS Plus volumes, this is ‘H+’. </p></dd>
<dt><code>ioVDrvInfo </code></dt>
<dd><p>On output, the drive number. You can determine whether the given volume is online by inspecting the value of this field. For online volumes, the <code>ioVDrvInfo</code> field contains the drive number of the drive containing the specified volume and hence is always greater than 0. If the value returned in <code>ioVDrvInfo</code> is 0, the volume is either offline or ejected.  </p><p>Mac OS X does not support drive numbers; in Mac OS X, the File Manager always returns a value of 1 in this field.</p></dd>
<dt><code>ioVDRefNum </code></dt>
<dd><p>On output, the driver reference number. You can determine whether the volume is offline or ejected by inspecting the value of this field. If the volume is offline, the value of <code>ioVDRefNum</code> is the negative of the drive number (which is cleared when the volume is placed offline; hence the <code>ioVDrvInfo</code> field for an offline volume is zero), and is a negative number. If the volume is ejected, the value of <code>ioVDRefNum</code> is the drive number itself, and thus is a positive number. For online volumes, <code>ioVDRefNum</code> contains a driver reference number; these numbers are always less than 0.  </p></dd>
<dt><code>ioVFSID </code></dt>
<dd><p>On output, the file system handling this volume. </p></dd>
<dt><code>ioVBkUp </code></dt>
<dd><p>On output, the date and time of the volume’s last backup. </p></dd>
<dt><code>ioVSeqNum </code></dt>
<dd><p>Used internally. </p></dd>
<dt><code>ioVWrCnt </code></dt>
<dd><p>On output, the volume write count. </p></dd>
<dt><code>ioVFilCnt </code></dt>
<dd><p>On output, the number of files on the volume. </p></dd>
<dt><code>ioVDirCnt </code></dt>
<dd><p>On output, the number of directories on the volume. </p></dd>
<dt><code>ioVFndrInfo </code></dt>
<dd><p>On output, Finder information for the volume. </p></dd></dl>
<p>You can get information about all the online volumes by making repeated calls to <code>PBHGetVInfoSync</code>, starting with the value of the <code>ioVolIndex</code> field set to 1 and incrementing that value until <code>PBHGetVInfoSync</code> returns <code>nsvErr</code>.</p>
<p>If you need to obtain information about HFS Plus volumes, you should use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetVolumeInfo">FSGetVolumeInfo</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetVolumeInfoSync">PBGetVolumeInfoSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetVolumeInfoAsync">PBGetVolumeInfoAsync</a></code>. The <code>PBHGetVInfoSync</code> function is still supported for HFS Plus volumes, but there is additional information returned by the <code>FSGetVolumeInfo</code> function (such as the date and time that the volume was last checked for consistency). </p>
<h5 class="tight">Special Considerations</h5>
<p>After an operation that changes the amount of free space on the volume—such as deleting a file—there may be a delay before a call to <code>PBHGetVInfoSync</code> returns the updated amount. This is because the File Manager caches and periodically updates file system information, to reduce the number of calls made to retrieve the information from the file system. Currently, the File Manager updates its information every 15 seconds. This primarily affects NFS volumes. DOS, SMB, UFS and WebDAV volumes were also affected by this in previous versions of Mac OS X, but behave correctly in Mac OS X version 10.3 and later.</p>
<p>If the value of <code>ioVolIndex</code> is negative, the File Manager uses <code>ioNamePtr</code> and <code>ioVRefNum</code> in the standard way to determine the volume. However, because <code>PBHGetVInfoSync</code> returns the volume name in the buffer  whose address you passed in <code>ioNamePtr</code>, your input pathname will be modified. If you don't want your  input pathname modified, make a copy of it and pass the copy to <code>PBHGetVInfoSync</code>.</p>
<p>The volume name returned by <code>PBHGetVInfoSync</code> is not a full pathname to the volume because it does not  contain a colon.</p>
<p>For compatibility with older programs, some values returned by <code>PBHGetVInfoSync</code> are not what is stored in the volume's Volume Control Block (VCB). Specifically:</p>
<ul class="ul"><li class="li"><p><code>ioVNmAlBlks</code> and <code>ioVFrBlk</code> are pinned to values which, when multiplied by <code>ioVAlBlkSiz</code>, are always less than 2 Gigabytes.</p></li>
<li class="li"><p><code>ioVNmAlBlks</code> may not include the allocation blocks used by the catalog and extents overflow  files. </p></li>
<li class="li"><p>$4244 is returned in <code>ioVSigWord</code> for both HFS and HFS Plus volumes. </p></li></ul>
<p> For unpinned total and free byte counts, and for the real <code>ioVSigWord</code>, use <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBXGetVolInfoSync">PBXGetVolInfoSync</a></code> instead of <code>PBHGetVInfoSync</code>.</p>
<h5 class="tight">Version Notes</h5>
<p>In non-Carbon applications, you may pass a working directory reference in the <code>ioVRefNum</code> field; if you pass a working directory reference in that field, the number of files and directories in the specified directory is returned in the <code>ioVNmFls</code> field.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetVolAsync" title="PBHGetVolAsync"></a><a name="//apple_ref/doc/c_ref/PBHGetVolAsync" title="PBHGetVolAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04804" title="PBHGetVolAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_285"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_285"></a><h3 class="tight">PBHGetVolAsync</h3>
<p class="spaceabove">Determines the default volume and default directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetVolAsync (
   <!--a-->WDPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a working directory parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/WDPBRec">WDPBRec</a></code> for a description of the <code>WDPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBHGetVolAsync</code> function returns the default volume and directory last set by a call to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HSetVol">HSetVol</a></code> or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetVolSync">PBHSetVolSync</a></code>. The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On output, a pointer to the default volume’s name. You should pass a pointer to a <code>Str31</code> value if you want that name returned. If you pass <code>NULL</code> in this  field, no volume name is returned. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On output, the volume reference number of the default volume.  </p></dd>
<dt><code>ioWDProcID </code></dt>
<dd><p>On output, the working directory user identifier. </p></dd>
<dt><code>ioWDVRefNum </code></dt>
<dd><p>On output, the volume reference number of the volume on which the default directory exists.  </p></dd>
<dt><code>ioWDDirID </code></dt>
<dd><p>On output, the directory ID of the default directory. </p></dd></dl>
<h5 class="tight">Version Notes</h5>
<p>When CarbonLib is not present, the <code>PBHGetVolAsync</code> function returns a working directory reference number in the <code>ioVRefNum</code> parameter if the previous call to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HSetVol">HSetVol</a></code> (or one of the corresponding parameter block calls) passed in a working directory reference number.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetVolSync" title="PBHGetVolSync"></a><a name="//apple_ref/doc/c_ref/PBHGetVolSync" title="PBHGetVolSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04807" title="PBHGetVolSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_288"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_288"></a><h3 class="tight">PBHGetVolSync</h3>
<p class="spaceabove">Determines the default volume and default directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetVolSync (
   <!--a-->WDPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a working directory parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/WDPBRec">WDPBRec</a></code> for a description of the <code>WDPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBHGetVolSync</code> function returns the default volume and directory last set by a call to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HSetVol">HSetVol</a></code> or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetVolSync">PBHSetVolSync</a></code>. The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On output, a pointer to the default volume’s name. Pass a pointer to a <code>Str31</code> value if you want that name returned. If you pass <code>NULL</code> in this  field, no volume name is returned. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On output, the volume reference number of the default volume.  </p></dd>
<dt><code>ioWDProcID </code></dt>
<dd><p>On output, the working directory user identifier. </p></dd>
<dt><code>ioWDVRefNum </code></dt>
<dd><p>On output, the volume reference number of the volume on which the default directory exists. </p></dd>
<dt><code>ioWDDirID </code></dt>
<dd><p>On output, the directory ID of the default directory. </p></dd></dl>
<h5 class="tight">Version Notes</h5>
<p>When CarbonLib is not present, the <code>PBHGetVolSync</code> function returns a working directory reference number in the <code>ioVRefNum</code> parameter if the previous call to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/HSetVol">HSetVol</a></code> (or one of the corresponding parameter block calls) passed in a working directory reference number.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHMoveRenameAsync" title="PBHMoveRenameAsync"></a><a name="//apple_ref/doc/c_ref/PBHMoveRenameAsync" title="PBHMoveRenameAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04812" title="PBHMoveRenameAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_293"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_293"></a><h3 class="tight">PBHMoveRenameAsync</h3>
<p class="spaceabove">Moves a file or directory and optionally renames it.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMoveObjectAsync">FSMoveObjectAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHMoveRenameAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CopyParam">CopyParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBHMoveRenameAsync</code> function allows you to move (not copy) a file or directory. The source and destination pathnames must point to the same file server volume. This function is especially useful when you want to copy or move files located on a remote volume, because it allows you to forgo transmitting large amounts of data across a network. This function is used internally by the Finder; most applications do not need to use it.</p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the pathname for the source file or directory. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume containing the source file or directory. Pass 0 for the default volume. </p></dd>
<dt><code>ioNewName </code></dt>
<dd><p>On input, a pointer to the destination pathname. If <code>ioNewName</code> is <code>NULL</code>, the destination directory is the directory having the ID specified in the <code>ioNewDirID</code> field. If <code>ioNewName</code> is not <code>NULL</code>, the destination directory is the directory having the partial pathname pointed to by <code>ioNewName</code> in the directory having ID <code>ioNewDirID</code> on the specified volume. </p></dd>
<dt><code>ioCopyName </code></dt>
<dd><p>On input, a pointer to the file’s new name. The string pointed to by this field must be a filename, not a partial pathname. If you do not wish to rename the file, pass <code>NULL</code> in this field. </p></dd>
<dt><code>ioNewDirID </code></dt>
<dd><p>On input, if the <code>ioNewName</code> field is <code>NULL</code>, the directory ID of the destination directory. If <code>ioNewName</code> is not <code>NULL</code>, the parent directory ID of the destination directory.  </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the source directory. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHMoveRenameSync" title="PBHMoveRenameSync"></a><a name="//apple_ref/doc/c_ref/PBHMoveRenameSync" title="PBHMoveRenameSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04813" title="PBHMoveRenameSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_294"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_294"></a><h3 class="tight">PBHMoveRenameSync</h3>
<p class="spaceabove">Moves a file or directory and optionally renames it.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSMoveObjectSync">FSMoveObjectSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHMoveRenameSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CopyParam">CopyParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBHMoveRenameSync</code> function allows you to move (not copy) a file or directory. The source and destination pathnames must point to the same file server volume. This function is especially useful when you want to copy or move files located on a remote volume, because it allows you to forgo transmitting large amounts of data across a network. This function is used internally by the Finder; most applications do not need to use it.</p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the pathname for the source file or directory. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume containing the source file or directory. Pass 0 for the default volume. </p></dd>
<dt><code>ioNewName </code></dt>
<dd><p>On input, a pointer to the destination pathname. If <code>ioNewName</code> is <code>NULL</code>, the destination directory is the directory having the ID specified in the <code>ioNewDirID</code> field. If <code>ioNewName</code> is not <code>NULL</code>, the destination directory is the directory having the partial pathname pointed to by <code>ioNewName</code> in the directory having ID <code>ioNewDirID</code> on the specified volume. </p></dd>
<dt><code>ioCopyName </code></dt>
<dd><p>On input, a pointer to the file’s new name. The string pointed to by this field must be a filename, not a partial pathname. If you do not wish to rename the file, pass <code>NULL</code> in this field. </p></dd>
<dt><code>ioNewDirID </code></dt>
<dd><p>On input, if the <code>ioNewName</code> field is <code>NULL</code>, the directory ID of the destination directory. If <code>ioNewName</code> is not <code>NULL</code>, the parent directory ID of the destination directory.  </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the source directory. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenAsync" title="PBHOpenAsync"></a><a name="//apple_ref/doc/c_ref/PBHOpenAsync" title="PBHOpenAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04814" title="PBHOpenAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_295"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_295"></a><h3 class="tight">PBHOpenAsync</h3>
<p class="spaceabove">Opens the data fork of a file. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a basic HFS parameter block.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. If you attempt to open a locked file for writing, <code>PBHOpenAsync</code> returns the result code <code>permErr</code>. If you request exclusive read/write permission but another access path is already open, <code>PBHOpenAsync</code> returns the reference number of the existing access path in <code>ioRefNum</code> and <code>opWrErr</code> as its function result.  </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, a file reference number for accessing the open data fork. If you request exclusive read/write permission but another access path is already open, <code>PBHOpenAsync</code> returns the reference number of the existing access path. You should not use this reference number unless your application originally opened the file. </p></dd>
<dt><code>ioPermssn </code></dt>
<dd><p>On input, a constant specifying the type of access with which to open the fork. For a description of the types of access you can request, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> You can open a path for writing even if it accesses a file on a locked volume, and no error is returned until a <code>PBWriteAsync</code>,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFAsync">PBSetEOFAsync</a></code> , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocateAsync">PBAllocateAsync</a></code>  call is made. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the file’s parent directory. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>If you use <code>PBHOpenAsync</code> to try to open a file whose name begins with a period, you might mistakenly open a driver instead; subsequent attempts to write data might corrupt data on the target device. To avoid these problems, you should always use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDFAsync">PBHOpenDFAsync</a></code>  instead of <code>PBHOpenAsync</code>. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenDFAsync" title="PBHOpenDFAsync"></a><a name="//apple_ref/doc/c_ref/PBHOpenDFAsync" title="PBHOpenDFAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04817" title="PBHOpenDFAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_298"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_298"></a><h3 class="tight">PBHOpenDFAsync</h3>
<p class="spaceabove">Opens the data fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenDFAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>You should use <code>PBHOpenDFAsync</code> instead of the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenAsync">PBHOpenAsync</a></code>  function; <code>PBHOpenDFAsync</code> allows you to safely open a file whose name begins with a period (.).</p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. If you attempt to open a locked file for writing, <code>PBHOpenDFAsync</code> returns the result code <code>permErr</code>. If you request exclusive read/write permission but another access path is already open, <code>PBHOpenDFAsync</code> returns the reference number of the existing access path in <code>ioRefNum</code> and <code>opWrErr</code> as its function result.  </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, the file reference number for accessing the open data fork. If you request exclusive read/write permission but another access path is already open, <code>PBHOpenDFAsync</code> returns the reference number of the existing access path. You should not use this reference number unless your application originally opened the file. </p></dd>
<dt><code>ioPermssn </code></dt>
<dd><p>On input, a constant specifying the type of access with which to open the fork. For a description of the types of access you can request, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> You can open a path for writing even if it accesses a file on a locked volume, and no error is returned until a <code>PBWriteAsync</code>,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFAsync">PBSetEOFAsync</a></code> , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocateAsync">PBAllocateAsync</a></code>  call is made. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the file’s parent directory. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>Note that if you wish to access named forks other than the data and resource forks, or forks larger than 2GB, you will need to use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code>  or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code>. If you try to open a fork larger than 2GB with the <code>PBHOpenDFAsync</code> function, you will receive an error message.  </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenDFSync" title="PBHOpenDFSync"></a><a name="//apple_ref/doc/c_ref/PBHOpenDFSync" title="PBHOpenDFSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04818" title="PBHOpenDFSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_299"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_299"></a><h3 class="tight">PBHOpenDFSync</h3>
<p class="spaceabove">Opens the data fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenDFSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> . If you attempt to open a locked file for writing, <code>PBHOpenDFSync</code> returns the result code <code>permErr</code>. If you request exclusive read/write permission but another access path is already open, <code>PBHOpenDFSync</code> returns the reference number of the existing access path in <code>ioRefNum</code> and <code>opWrErr</code> as its function result.</p>
<h5 class="tight">Discussion</h5>
<p>You should use <code>PBHOpenDFSync</code> instead of the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenSync">PBHOpenSync</a></code>  function; <code>PBHOpenDFSync</code> allows you to safely open a file whose name begins with a period (.).</p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, the file reference number for accessing the open data fork. If you request exclusive read/write permission but another access path is already open, <code>PBHOpenDFSync</code> returns the reference number of the existing access path. You should not use this reference number unless your application originally opened the file. </p></dd>
<dt><code>ioPermssn </code></dt>
<dd><p>On input, a constant specifying the type of access with which to open the fork. For a description of the types of access you can request, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> You can open a path for writing even if it accesses a file on a locked volume, and no error is returned until a <code>PBWriteSync</code>,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFSync">PBSetEOFSync</a></code> , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocateSync">PBAllocateSync</a></code>  call is made. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the file’s parent directory. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>Note that if you wish to access named forks other than the data and resource forks, or forks larger than 2GB, you will need to use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code>  or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code>. If you try to open a fork larger than 2GB with the <code>PBHOpenDFSync</code> function, you will receive an error message.  </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenRFAsync" title="PBHOpenRFAsync"></a><a name="//apple_ref/doc/c_ref/PBHOpenRFAsync" title="PBHOpenRFAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04819" title="PBHOpenRFAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_300"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_300"></a><h3 class="tight">PBHOpenRFAsync</h3>
<p class="spaceabove">Opens the resource fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenRFAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. On some file systems, <code>PBHOpenRFAsync</code> will return the error <code>eofErr</code> if you try to open the resource fork of a file for which no resource fork exists with read-only access. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, a file reference number for accessing the open resource fork. </p></dd>
<dt><code>ioPermssn </code></dt>
<dd><p>On input, a constant specifying the type of access with which to open the fork. For a description of the types of access you can request, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the file’s parent directory. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>Note that if you wish to access named forks other than the data and resource forks, or forks larger than 2GB, you will need to use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code>  or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code>. If you try to open a fork larger than 2GB with the <code>PBHOpenRFAsync</code> function, you will receive an error message.  </p>
<h5 class="tight">Special Considerations</h5>
<p>Generally your application should use Resource Manager functions rather than File Manager functions to access a file’s resource fork. The <code>PBHOpenRFAsync</code> function does not read the resource map into memory and is generally useful only for applications (such as utilities that copy files) that need block-level access to a resource fork. </p>
<p>You should not use the resource fork of a file to hold non-resource data. Many parts of the system software assume that a resource fork always contains resource data.</p>
<p>Because there is no support for locking and unlocking file ranges in Mac OS X, regardless of whether File Sharing is enabled, you cannot open more than one path  to a resource fork with read/ write permission.  If you try to open a more than one path to a file's resource fork with  <code>fsRdWrShPerm</code> permission, only the first attempt will succeed.  Subsequent attempts will return an invalid reference number and the <code>ResError</code> function will return the error <code>opWrErr</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenRFSync" title="PBHOpenRFSync"></a><a name="//apple_ref/doc/c_ref/PBHOpenRFSync" title="PBHOpenRFSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04822" title="PBHOpenRFSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_303"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_303"></a><h3 class="tight">PBHOpenRFSync</h3>
<p class="spaceabove">Opens the resource fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenRFSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> On some file systems, <code>PBHOpenRFSync</code> will return the error <code>eofErr</code> if you try to open the resource fork of a file for which no resource fork exists with read-only access.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, a file reference number for accessing the open resource fork. </p></dd>
<dt><code>ioPermssn </code></dt>
<dd><p>On input, a constant specifying the type of access with which to open the fork. For a description of the types of access you can request, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the file’s parent directory. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>Note that if you wish to access named forks other than the data and resource forks, or forks larger than 2GB, you will need to use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSOpenFork">FSOpenFork</a></code>  function, or one of its corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code>  or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code>. If you try to open a fork larger than 2GB with the <code>PBOpenRFSync</code> function, you will receive an error message.  </p>
<h5 class="tight">Special Considerations</h5>
<p>Generally your application should use Resource Manager functions rather than File Manager functions to access a file’s resource fork. The <code>PBHOpenRFSync</code> function does not read the resource map into memory and is generally useful only for applications (such as utilities that copy files) that need block-level access to a resource fork.</p>
<p>You should not use the resource fork of a file to hold non-resource data. Many parts of the system software assume that a resource fork always contains resource data.</p>
<p>Because there is no support for locking and unlocking file ranges on local disks in Mac OS X, regardless of whether File Sharing is enabled, you cannot open more than one path  to a resource fork with read/ write permission.  If you try to open a more than one path to a file's resource fork with  <code>fsRdWrShPerm</code> permission, only the first attempt will succeed.  Subsequent attempts will return an invalid reference number and the <code>ResError</code> function will return the error <code>opWrErr</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenSync" title="PBHOpenSync"></a><a name="//apple_ref/doc/c_ref/PBHOpenSync" title="PBHOpenSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04823" title="PBHOpenSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_304"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_304"></a><h3 class="tight">PBHOpenSync</h3>
<p class="spaceabove">Opens the data fork of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span>  If you attempt to open a locked file for writing, <code>PBHOpenSync</code> returns the result code <code>permErr</code>. If you request exclusive read/write permission but another access path is already open, <code>PBHOpenSync</code> returns the reference number of the existing access path in <code>ioRefNum</code> and <code>opWrErr</code> as its function result.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, a file reference number for accessing the open data fork. If you request exclusive read/write permission but another access path is already open, <code>PBHOpenSync</code> returns the reference number of the existing access path. You should not use this reference number unless your application originally opened the file. </p></dd>
<dt><code>ioPermssn </code></dt>
<dd><p>On input, a constant specifying the type of access with which to open the fork. For a description of the types of access you can request, see  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants.”</a></span> You can open a path for writing even if it accesses a file on a locked volume, and no error is returned until a <code>PBWriteSync</code>,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBSetEOFSync">PBSetEOFSync</a></code> , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBAllocateSync">PBAllocateSync</a></code>  call is made. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the file’s parent directory. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>If you use <code>PBHOpenSync</code> to try to open a file whose name begins with a period, you might mistakenly open a driver instead; subsequent attempts to write data might corrupt data on the target device. To avoid these problems, you should always use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDFSync">PBHOpenDFSync</a></code>  instead of <code>PBHOpenSync</code>.  </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHRenameAsync" title="PBHRenameAsync"></a><a name="//apple_ref/doc/c_ref/PBHRenameAsync" title="PBHRenameAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04824" title="PBHRenameAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_305"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_305"></a><h3 class="tight">PBHRenameAsync</h3>
<p class="spaceabove">Renames a file, directory, or volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeAsync">PBRenameUnicodeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHRenameAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the existing filename, directory name, or volume name. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume.  </p></dd>
<dt><code>ioMisc </code></dt>
<dd><p>On input, a pointer to the new name for the file, directory or volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory to rename. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>Given a pointer to the name of a file or directory in the <code>ioNamePtr</code> field, <code>PBHRenameAsync</code> changes it to the name pointed to in the <code>ioMisc</code> field. Given a pointer to a volume name in <code>ioNamePtr</code> or a volume reference number in <code>ioVRefNum</code>, the function changes the name of the volume to the name pointed to in <code>ioMisc</code>.</p>
<p>If a file ID reference exists for the file being renamed, the file ID remains with the file.</p>
<p>To rename a file or directory using a long Unicode name, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSRenameUnicode">FSRenameUnicode</a></code>  function or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeSync">PBRenameUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeAsync">PBRenameUnicodeAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>You cannot use <code>PBHRenameAsync</code> to change the directory in which a file is located. To move a file or directory, use the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpCatMove">FSpCatMove</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBCatMoveSync">PBCatMoveSync</a></code>, or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBCatMoveAsync">PBCatMoveAsync</a></code> functions. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHRenameSync" title="PBHRenameSync"></a><a name="//apple_ref/doc/c_ref/PBHRenameSync" title="PBHRenameSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04825" title="PBHRenameSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_306"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_306"></a><h3 class="tight">PBHRenameSync</h3>
<p class="spaceabove">Renames a file, directory, or volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeSync">PBRenameUnicodeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHRenameSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the existing filename, directory name, or volume name. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume.  </p></dd>
<dt><code>ioMisc </code></dt>
<dd><p>On input, a pointer to the new name for the file, directory or volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory to rename. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>Given a pointer to the name of a file or directory in the <code>ioNamePtr</code> field, <code>PBHRenameSync</code> changes it to the name pointed to in the <code>ioMisc</code> field. Given a pointer to a volume name in <code>ioNamePtr</code> or a volume reference number in <code>ioVRefNum</code>, the function changes the name of the volume to the name pointed to in <code>ioMisc</code>.</p>
<p>If a file ID reference exists for the file being renamed, the file ID remains with the file.</p>
<p>To rename a file or directory using a long Unicode name, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSRenameUnicode">FSRenameUnicode</a></code>  function or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeSync">PBRenameUnicodeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBRenameUnicodeAsync">PBRenameUnicodeAsync</a></code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>You cannot use <code>PBHRenameSync</code> to change the directory in which a file is located. To move a file or directory, use the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpCatMove">FSpCatMove</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBCatMoveSync">PBCatMoveSync</a></code>, or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBCatMoveAsync">PBCatMoveAsync</a></code> functions. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHRstFLockAsync" title="PBHRstFLockAsync"></a><a name="//apple_ref/doc/c_ref/PBHRstFLockAsync" title="PBHRstFLockAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04826" title="PBHRstFLockAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_307"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_307"></a><h3 class="tight">PBHRstFLockAsync</h3>
<p class="spaceabove">Unlocks a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoAsync">PBSetCatalogInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHRstFLockAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name for the file or directory o unlock. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory to unlock. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>If the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function indicates that the volume supports folder locking (that is, the <code>bHasFolderLock</code> bit of the <code>vMAttrib</code> field is set), you can use <code>PBHRstFLockAsync</code> to unlock a directory. Otherwise, you can only use this function to unlock a file.</p>
<p>Access paths currently in use aren’t affected by this function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHRstFLockSync" title="PBHRstFLockSync"></a><a name="//apple_ref/doc/c_ref/PBHRstFLockSync" title="PBHRstFLockSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04827" title="PBHRstFLockSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_308"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_308"></a><h3 class="tight">PBHRstFLockSync</h3>
<p class="spaceabove">Unlocks a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoSync">PBSetCatalogInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHRstFLockSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name for the file or directory to unlock. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory to unlock. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>If the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function indicates that the volume supports folder locking (that is, the <code>bHasFolderLock</code> bit of the <code>vMAttrib</code> field is set), you can use <code>PBHRstFLockSync</code> to unlock a directory. Otherwise, you can only use this function to unlock a file.</p>
<p>Access paths currently in use aren’t affected by this function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHSetFInfoAsync" title="PBHSetFInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBHSetFInfoAsync" title="PBHSetFInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04830" title="PBHSetFInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_311"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_311"></a><h3 class="tight">PBHSetFInfoAsync</h3>
<p class="spaceabove">Sets information for a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoAsync">PBSetCatalogInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHSetFInfoAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number or drive number for the volume containing the file; or 0 for the default volume. </p></dd>
<dt><code>ioFlFndrInfo </code></dt>
<dd><p>On input, Finder information for the file. For a description of the <code>FInfo</code> data type, see the  <em> Finder Interface Reference </em>. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID for the file. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd>
<dt><code>ioFlCrDat </code></dt>
<dd><p>On input, the date and time of the file’s creation. </p></dd>
<dt><code>ioFlMdDat </code></dt>
<dd><p>On input, the date and time of the file’s last modification. </p></dd></dl>
<p>You should call the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetFInfoAsync">PBHGetFInfoAsync</a></code>  function just before calling <code>PBHSetFInfoAsync</code>, so that the current information is present in the parameter block. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHSetFInfoSync" title="PBHSetFInfoSync"></a><a name="//apple_ref/doc/c_ref/PBHSetFInfoSync" title="PBHSetFInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04831" title="PBHSetFInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_312"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_312"></a><h3 class="tight">PBHSetFInfoSync</h3>
<p class="spaceabove">Sets information for a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoSync">PBSetCatalogInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHSetFInfoSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number or drive number for the volume containing the file; or 0 for the default volume. </p></dd>
<dt><code>ioFlFndrInfo </code></dt>
<dd><p>On input, Finder information for the file. For a description of the <code>FInfo</code> data type, see the  <em> Finder Interface Reference </em>. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd>
<dt><code>ioFlCrDat </code></dt>
<dd><p>On input, the date and time of the file’s creation. </p></dd>
<dt><code>ioFlMdDat </code></dt>
<dd><p>On input, the date and time of the file’s last modification. </p></dd></dl>
<p>You should call the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetFInfoSync">PBHGetFInfoSync</a></code>  function just before calling <code>PBHSetFInfoSync</code>, so that the current information is present in the parameter block. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHSetFLockAsync" title="PBHSetFLockAsync"></a><a name="//apple_ref/doc/c_ref/PBHSetFLockAsync" title="PBHSetFLockAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04832" title="PBHSetFLockAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_313"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_313"></a><h3 class="tight">PBHSetFLockAsync</h3>
<p class="spaceabove">Locks a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoAsync">PBSetCatalogInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHSetFLockAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a name for the file or directory to lock. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory to lock. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>If the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function indicates that the volume supports folder locking (that is, the <code>bHasFolderLock</code> bit of the <code>vMAttrib</code> field is set), you can use <code>PBHSetFLockAsync</code> to lock a directory. Otherwise, you can only use this function to lock a file.</p>
<p>After you lock a file, all new access paths to that file are read-only. Access paths currently in use aren’t affected. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHSetFLockSync" title="PBHSetFLockSync"></a><a name="//apple_ref/doc/c_ref/PBHSetFLockSync" title="PBHSetFLockSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04833" title="PBHSetFLockSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_314"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_314"></a><h3 class="tight">PBHSetFLockSync</h3>
<p class="spaceabove">Locks a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoSync">PBSetCatalogInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHSetFLockSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HFileParam">HFileParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are: </p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a name for the file or directory to lock. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file or directory to lock. </p></dd>
<dt><code>ioFVersNum </code></dt>
<dd><p>On input, this field should be initialized to zero; if this field is not zero, the call will fall through to the now-obsolete Macintosh File System (MFS) code if the volume accessed is an MFS volume. </p></dd></dl>
<p>If the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function indicates that the volume supports folder locking (that is, the <code>bHasFolderLock</code> bit of the <code>vMAttrib</code> field is set), you can use <code>PBHSetFLockSync</code> to lock a directory. Otherwise, you can only use this function to lock a file.</p>
<p>After you lock a file, all new access paths to that file are read-only. Access paths currently in use aren’t affected. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHSetVolAsync" title="PBHSetVolAsync"></a><a name="//apple_ref/doc/c_ref/PBHSetVolAsync" title="PBHSetVolAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04834" title="PBHSetVolAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_315"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_315"></a><h3 class="tight">PBHSetVolAsync</h3>
<p class="spaceabove">Sets the default volume and the default directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHSetVolAsync (
   <!--a-->WDPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a working directory parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/WDPBRec">WDPBRec</a></code> for a description of the <code>WDPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. If this field specifies a full pathname, the default volume is set to the volume whose name is contained in that pathname. (A full pathname overrides the <code>ioVRefNum</code> field.)If this field contains a partial pathname and the <code>ioVRefNum</code> field specifies a volume reference number, then the default directory is set to the directory having the partial pathname specified here, in the directory given in the <code>ioWDDirID</code> field. If this field is <code>NULL</code>, then the default directory is set to the directory having the ID specified in the <code>ioWDDirID</code> field. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number for the default volume. This field is ignored if the <code>ioNamePtr</code> field specifies a full pathname. </p></dd>
<dt><code>ioWDDirID </code></dt>
<dd><p>On input, a directory ID. If the <code>ioVRefNum</code> field contains a volume reference number and <code>ioNamePtr</code> contains a partial pathname, this field contains the directory ID of the directory containing the default directory. If <code>ioNamePtr</code> is <code>NULL</code>, this field contains the directory ID of the default directory. </p></dd></dl>
<p>Both the default volume and the default directory are used in calls made with no volume name, a volume reference number of 0, and a directory ID of 0. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHSetVolSync" title="PBHSetVolSync"></a><a name="//apple_ref/doc/c_ref/PBHSetVolSync" title="PBHSetVolSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04835" title="PBHSetVolSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_316"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_316"></a><h3 class="tight">PBHSetVolSync</h3>
<p class="spaceabove">Sets the default volume and the default directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHSetVolSync (
   <!--a-->WDPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a working directory parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/WDPBRec">WDPBRec</a></code> for a description of the <code>WDPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. If this field specifies a full pathname, the default volume is set to the volume whose name is contained in that pathname. (A full pathname overrides the <code>ioVRefNum</code> field.)If this field contains a partial pathname and the <code>ioVRefNum</code> field specifies a volume reference number, then the default directory is set to the directory having the partial pathname specified here, in the directory given in the <code>ioWDDirID</code> field. If this field is <code>NULL</code>, then the default directory is set to the directory having the ID specified in the <code>ioWDDirID</code> field. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number for the default volume. This field is ignored if the <code>ioNamePtr</code> field specifies a full pathname. </p></dd>
<dt><code>ioWDDirID </code></dt>
<dd><p>On input, a directory ID. If the <code>ioVRefNum</code> field contains a volume reference number and <code>ioNamePtr</code> contains a partial pathname, this field contains the directory ID of the directory containing the default directory. If <code>ioNamePtr</code> is <code>NULL</code>, this field contains the directory ID of the default directory. </p></dd></dl>
<p>Both the default volume and the default directory are used in calls made with no volume name, a volume reference number of 0, and a directory ID of 0. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBLockRangeAsync" title="PBLockRangeAsync"></a><a name="//apple_ref/doc/c_ref/PBLockRangeAsync" title="PBLockRangeAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04839" title="PBLockRangeAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_319"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_319"></a><h3 class="tight">PBLockRangeAsync</h3>
<p class="spaceabove">Locks a portion of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBXLockRangeAsync">PBXLockRangeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBLockRangeAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. If you call <code>PBLockRangeAsync</code> on a file system that does not implement it—for example, SMB—<code>PBLockRangeAsync</code> returns <code>noErr</code> and does nothing.</p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, the file reference number of the file owning the range to lock. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the number of bytes in the range. Set <code>ioReqCount</code> to –1 to lock the maximum number of bytes from the position specified in the <code>ioPosOffset</code> field. </p></dd>
<dt><code>ioPosMode </code></dt>
<dd><p>On input, a constant specifying the base location for the start of the locked range. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Position_Mode_Constants">“Position Mode Constants”</a></span>  for more information on the constants you can use to specify the base location. </p><p>You should not use the <code><a href="../Reference/reference.html#//apple_ref/doc/c_ref/fsFromLEOF">fsFromLEOF</a></code> constant when locking a file range. <code>PBLockRangeAsync</code> does not return the start of the locked range; thus, there is no way to determine what range was actually locked when you specify <code>fsFromLEOF</code>.</p></dd>
<dt><code>ioPosOffset </code></dt>
<dd><p>On input, the offset from the base location specified in the <code>ioPosMode</code> field for the start of the locked range. </p></dd></dl>
<p>The <code>PBLockRangeAsync</code> function locks a portion of a file that was opened with shared read/write permission. The beginning of the range to be locked is determined by the <code>ioPosMode</code> and <code>ioPosOffset</code> fields. The end of the range to be locked is determined by the beginning of the range and the <code>ioReqCount</code> field. For example, to lock the first 50 bytes in a file, set <code>ioReqCount</code> to 50, <code>ioPosMode</code> to <code>fsFromStart</code>, and <code>ioPosOffset</code> to 0.</p>
<p>The <code>PBLockRangeAsync</code> function uses the same parameters as both <code>PBReadAsync</code> and <code>PBWriteAsync</code>; by calling it immediately before <code>PBReadAsync</code>, you can use the information in the parameter block for the <code>PBReadAsync</code> call.</p>
<p>When you’re finished with the data (typically after a call to <code>PBWriteSync</code>), you can call <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBUnlockRangeAsync">PBUnlockRangeAsync</a></code>  to free that portion of the file for subsequent read and write calls. Closing a file also releases all locked ranges in that file.</p>
<h5 class="tight">Special Considerations</h5>
<p>The <code>PBLockRangeAsync</code> function does nothing if the file specified in the <code>ioRefNum</code> field is open with shared read/write permission but is not located on a remote server volume or is not located under a share point on a sharable local volume. To check whether file sharing is currently on, check that the <code>bHasPersonalAccessPrivileges</code> bit in the <code>vMAttrib</code> field of the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/GetVolParmsInfoBuffer">GetVolParmsInfoBuffer</a></code> returned by the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code> function is set. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBLockRangeSync" title="PBLockRangeSync"></a><a name="//apple_ref/doc/c_ref/PBLockRangeSync" title="PBLockRangeSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04840" title="PBLockRangeSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_320"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_320"></a><h3 class="tight">PBLockRangeSync</h3>
<p class="spaceabove">Locks a portion of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBXLockRangeSync">PBXLockRangeSync</a></code> or <code><a href="../Reference/reference.html#//apple_ref/c/func/FSLockRange">FSLockRange</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBLockRangeSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> If you call <code>PBLockRangeSync</code> on a file system that does not implement it—for example, SMB—<code>PBLockRangeSync</code> returns <code>noErr</code> and does nothing.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, the file reference number of the file owning the range to lock. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the number of bytes in the range. Set <code>ioReqCount</code> to –1 to lock the maximum number of bytes from the position specified in the <code>ioPosOffset</code> field. </p></dd>
<dt><code>ioPosMode </code></dt>
<dd><p>On input, a constant specifying the base location for the start of the locked range. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Position_Mode_Constants">“Position Mode Constants”</a></span>  for more information about the constants you can use to specify the base location. </p><p>You should not use the <code><a href="../Reference/reference.html#//apple_ref/doc/c_ref/fsFromLEOF">fsFromLEOF</a></code> constant when locking a file range. <code>PBLockRangeSync</code> does not return the start of the locked range; thus, there is no way to determine what range was actually locked when you specify <code>fsFromLEOF</code>.</p></dd>
<dt><code>ioPosOffset </code></dt>
<dd><p>On input, the offset from the base location specified in the <code>ioPosMode</code> field for the start of the locked range. </p></dd></dl>
<p>The <code>PBLockRangeSync</code> function locks a portion of a file that was opened with shared read/write permission. The beginning of the range to be locked is determined by the <code>ioPosMode</code> and <code>ioPosOffset</code> fields. The end of the range to be locked is determined by the beginning of the range and the <code>ioReqCount</code> field. For example, to lock the first 50 bytes in a file, set <code>ioReqCount</code> to 50, <code>ioPosMode</code> to <code>fsFromStart</code>, and <code>ioPosOffset</code> to 0.</p>
<p>The <code>PBLockRangeSync</code> function uses the same parameters as both <code>PBReadSync</code> and <code>PBWriteSync</code>; by calling it immediately before <code>PBReadSync</code>, you can use the information in the parameter block for the <code>PBReadSync</code> call.</p>
<p>When you’re finished with the data (typically after a call to <code>PBWriteSync</code>), you can call <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBUnlockRangeSync">PBUnlockRangeSync</a></code>  to free that portion of the file for subsequent read and write calls. Closing a file also releases all locked ranges in that file.</p>
<h5 class="tight">Special Considerations</h5>
<p>The <code>PBLockRangeSync</code> function does nothing if the file specified in the <code>ioRefNum</code> field is open with shared read/write permission but is not located on a remote server volume or is not located under a share point on a sharable local volume. To check whether file sharing is currently on, check that the <code>bHasPersonalAccessPrivileges</code> bit in the <code>vMAttrib</code> field of the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/GetVolParmsInfoBuffer">GetVolParmsInfoBuffer</a></code> returned by the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code> function is set. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBMakeFSSpecAsync" title="PBMakeFSSpecAsync"></a><a name="//apple_ref/doc/c_ref/PBMakeFSSpecAsync" title="PBMakeFSSpecAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04841" title="PBMakeFSSpecAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_325"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_325"></a><h3 class="tight">PBMakeFSSpecAsync</h3>
<p class="spaceabove">Creates an <code>FSSpec</code> structure for a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMakeFSRefUnicodeAsync">PBMakeFSRefUnicodeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBMakeFSSpecAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><p>If the specified volume is mounted and the specified parent directory exists, but the target file or directory doesn’t exist in that location, <code>PBMakeFSSpecAsync</code> fills in the structure and returns <code>fnfErr</code> instead of <code>noErr</code>. The structure is valid, but it describes a target that doesn’t exist. You can use the structure for another operation, such as creating a file.</p><p><code>PBMakeFSSpecAsync</code> can return a number of different File Manager error codes. When <code>PBMakeFSSpecAsync</code> returns any result other than <code>noErr</code> or <code>fnfErr</code>, all fields of the resulting <code>FSSpec</code> structure are set to 0.</p><p></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. When <code>PBMakeFSSpecAsync</code> returns any result other than <code>noErr</code> or <code>fnfErr</code>, all fields of the resulting <code>FSSpec</code> structure are set to 0. See “File Manager Result Codes”. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a full or partial pathname specifying the file or directory for which to create an <code>FSSpec</code>. If the <code>ioNamePtr</code> field specifies a full pathname, <code>PBMakeFSSpecAsync</code> ignores both the <code>ioVRefNum</code> and <code>ioDirID</code> fields. A partial pathname might identify only the final target, or it might include one or more parent directory names. If <code>ioNamePtr</code> specifies a partial pathname, then <code>ioVRefNum</code>, <code>ioDirID</code>, or both must be valid.  </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the file or directory. This field can contain a volume reference number, a drive number, or 0 to specify the default volume. </p></dd>
<dt><code>ioMisc </code></dt>
<dd><p>On input, a pointer to an  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code>  structure. Given a complete specification for a file or directory, the <code>PBMakeFSSpecAsync</code> function fills in this <code>FSSpec</code> structure to identify the file or directory. On output, this field points to the initialized <code>FSSpec</code>. The file system specification structure that you pass in this field should not share storage space with the input pathname; the <code>name</code> field may be initialized to the empty string before the pathname has been processed. For example, <code>ioNamePtr</code> should not refer to the <code>name</code> field of the output file system specification. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, a directory ID. This field usually specifies the parent directory ID of the target object. If the directory is sufficiently specified by the <code>ioNamePtr</code> field, the <code>ioDirID</code> field can be set to 0. If the <code>ioNamePtr</code> field contains an empty string, <code>PBMakeFSSpecAsync</code> creates an <code>FSSpec</code> structure for the directory specified by the <code>ioDirID</code> field. </p></dd></dl>
<p>If the specified volume is mounted and the specified parent directory exists, but the target file or directory doesn’t exist in that location, <code>PBMakeFSSpecAsync</code> fills in the structure and returns <code>fnfErr</code> instead of <code>noErr</code>. The structure is valid, but it describes a target that doesn’t exist. You can use the structure for another operation, such as creating a file.  </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Non-Carbon applications can also specify a working directory reference number in the <code>ioVRefNum</code> field. However, because working directories are not supported in Carbon, you cannot specify a working directory reference number if you wish your application to be Carbon-compatible.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBMakeFSSpecSync" title="PBMakeFSSpecSync"></a><a name="//apple_ref/doc/c_ref/PBMakeFSSpecSync" title="PBMakeFSSpecSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04842" title="PBMakeFSSpecSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_326"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_326"></a><h3 class="tight">PBMakeFSSpecSync</h3>
<p class="spaceabove">Creates an <code>FSSpec</code> structure for a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMakeFSRefUnicodeSync">PBMakeFSRefUnicodeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBMakeFSSpecSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> When <code>PBMakeFSSpecSync</code> returns any result other than <code>noErr</code> or <code>fnfErr</code>, all fields of the resulting <code>FSSpec</code> structure are set to 0.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a full or partial pathname specifying the file or directory for which to create an <code>FSSpec</code>. If the <code>ioNamePtr</code> field specifies a full pathname, <code>PBMakeFSSpecSync</code> ignores both the <code>ioVRefNum</code> and <code>ioDirID</code> fields. A partial pathname might identify only the final target, or it might include one or more parent directory names. If <code>ioNamePtr</code> specifies a partial pathname, then <code>ioVRefNum</code>, <code>ioDirID</code>, or both must be valid.  </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the file or directory. This field can contain a volume reference number, a drive number, or 0 to specify the default volume. </p></dd>
<dt><code>ioMisc </code></dt>
<dd><p>On input, a pointer to an  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code>  structure. Given a complete specification for a file or directory, the <code>PBMakeFSSpecSync</code> function fills in this <code>FSSpec</code> structure to identify the file or directory. On output, this field points to the initialized <code>FSSpec</code>. The file system specification structure that you pass in this field should not share storage space with the input pathname; the <code>name</code> field may be initialized to the empty string before the pathname has been processed. For example, <code>ioNamePtr</code> should not refer to the <code>name</code> field of the output file system specification. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, a directory ID. This field usually specifies the parent directory ID of the target object. If the directory is sufficiently specified by the <code>ioNamePtr</code> field, the <code>ioDirID</code> field can be set to 0. If the <code>ioNamePtr</code> field contains an empty string, <code>PBMakeFSSpecSync</code> creates an <code>FSSpec</code> structure for the directory specified by the <code>ioDirID</code> field.  </p></dd></dl>
<p>If the specified volume is mounted and the specified parent directory exists, but the target file or directory doesn’t exist in that location, <code>PBMakeFSSpecSync</code> fills in the structure and returns <code>fnfErr</code> instead of <code>noErr</code>. The structure is valid, but it describes a target that doesn’t exist. You can use the structure for another operation, such as creating a file. </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Non-Carbon applications can also specify a working directory reference number in the <code>ioVRefNum</code> field. However, because working directories are not supported in Carbon, you cannot specify a working directory reference number if you wish your application to be Carbon-compatible.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetCatInfoAsync" title="PBSetCatInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBSetCatInfoAsync" title="PBSetCatInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04868" title="PBSetCatInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_343"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_343"></a><h3 class="tight">PBSetCatInfoAsync</h3>
<p class="spaceabove">Modifies catalog information for a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoAsync">PBSetCatalogInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBSetCatInfoAsync (
   <!--a-->CInfoPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an HFS catalog information parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CInfoPBRec">CInfoPBRec</a></code> for a description of the <code>CInfoPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBSetCatInfoAsync</code> function sets information about a file or directory. When used to set information about a file, it works much as  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFInfoAsync">PBHSetFInfoAsync</a></code>  does, but lets you set some additional information.</p>
<p>If the object is a file, the relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioFlFndrInfo </code></dt>
<dd><p>On input, Finder information for the file. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. </p></dd>
<dt><code>ioFlCrDat </code></dt>
<dd><p>On input, the date and time of the file’s creation. </p></dd>
<dt><code>ioFlMdDat </code></dt>
<dd><p>On input, the date and time of the file’s last modification. </p></dd>
<dt><code>ioFlBkDat </code></dt>
<dd><p>On input, the date and time of the file’s last backup. </p></dd>
<dt><code>ioFlXFndrInfo </code></dt>
<dd><p>On input, extended Finder information. </p></dd></dl>
<p>If the object is a directory, the relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDrUsrWds </code></dt>
<dd><p>On input, information used by the Finder. </p></dd>
<dt><code>ioDrDirID </code></dt>
<dd><p>On input, the directory ID. </p></dd>
<dt><code>ioDrCrDat </code></dt>
<dd><p>On input, the date and time of the directory’s creation. </p></dd>
<dt><code>ioDrMdDat </code></dt>
<dd><p>On input, the date and time of the directory’s last modification. </p></dd>
<dt><code>ioDrBkDat </code></dt>
<dd><p>On input, the date and time of the directory’s last backup. </p></dd>
<dt><code>ioDrFndrInfo </code></dt>
<dd><p>On input, additional information used by the Finder. </p></dd></dl>
<p>To modify the catalog information for a named fork other than the data and resource fork, or to modify other catalog information maintained on HFS Plus volumes that is not modifiable through <code>PBSetCatInfoAsync</code>, use one of the functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoSync">PBSetCatalogInfoSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoAsync">PBSetCatalogInfoAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetCatInfoSync" title="PBSetCatInfoSync"></a><a name="//apple_ref/doc/c_ref/PBSetCatInfoSync" title="PBSetCatInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04869" title="PBSetCatInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_344"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_344"></a><h3 class="tight">PBSetCatInfoSync</h3>
<p class="spaceabove">Modifies catalog information for a file or directory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoSync">PBSetCatalogInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBSetCatInfoSync (
   <!--a-->CInfoPBPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an HFS catalog information parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CInfoPBRec">CInfoPBRec</a></code> for a description of the <code>CInfoPBRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>PBSetCatInfoSync</code> function sets information about a file or directory. When used to set information about a file, it works much as  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHSetFInfoSync">PBHSetFInfoSync</a></code>  does, but lets you set some additional information.</p>
<p>If the object is a file, the relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioFlFndrInfo </code></dt>
<dd><p>On input, Finder information for the file. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. </p></dd>
<dt><code>ioFlCrDat </code></dt>
<dd><p>On input, the date and time of the file’s creation. </p></dd>
<dt><code>ioFlMdDat </code></dt>
<dd><p>On input, the date and time of the file’s last modification. </p></dd>
<dt><code>ioFlBkDat </code></dt>
<dd><p>On input, the date and time of the file’s last backup. </p></dd>
<dt><code>ioFlXFndrInfo </code></dt>
<dd><p>On input, extended Finder information. </p></dd></dl>
<p>If the object is a directory, the relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDrUsrWds </code></dt>
<dd><p>On input, information used by the Finder. </p></dd>
<dt><code>ioDrDirID </code></dt>
<dd><p>On input, the directory ID. </p></dd>
<dt><code>ioDrCrDat </code></dt>
<dd><p>On input, the date and time of the directory’s creation. </p></dd>
<dt><code>ioDrMdDat </code></dt>
<dd><p>On input, the date and time of the directory’s last modification. </p></dd>
<dt><code>ioDrBkDat </code></dt>
<dd><p>On input, the date and time of the directory’s last backup. </p></dd>
<dt><code>ioDrFndrInfo </code></dt>
<dd><p>On input, additional information used by the Finder. </p></dd></dl>
<p>To modify the catalog information for a named fork other than the data and resource fork, or to modify other catalog information maintained on HFS Plus volumes that is not modifiable through <code>PBSetCatInfoSync</code>, use one of the functions,  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoSync">PBSetCatalogInfoSync</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetCatalogInfoAsync">PBSetCatalogInfoAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetEOFAsync" title="PBSetEOFAsync"></a><a name="//apple_ref/doc/c_ref/PBSetEOFAsync" title="PBSetEOFAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04870" title="PBSetEOFAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_345"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_345"></a><h3 class="tight">PBSetEOFAsync</h3>
<p class="spaceabove">Sets the logical size of an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkSizeAsync">PBSetForkSizeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBSetEOFAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the open file. </p></dd>
<dt><code>ioMisc </code></dt>
<dd><p>On input, the new logical size (the logical end-of-file) of the given file. Because the <code>ioMisc</code> field is of type <code>Ptr</code>, you must coerce the desired value from a long integer to type <code>Ptr</code>. If the value of the <code>ioMisc</code> field is 0, all space occupied by the file on the volume is released. The file still exists, but it contains 0 bytes. Setting a file fork’s end-of-file to 0 is therefore not the same as deleting the file, which removes both file forks at once. </p></dd></dl>
<p>If you attempt to set the logical end-of-file beyond the current physical end-of-file, another allocation block is added to the file if there isn’t enough space on the volume, no change is made and <code>PBSetEOFAsync</code> returns <code>dskFulErr</code> as its function result.</p>
<p>To ensure that your changes to the file are written to disk, call one of the functions,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FlushVol">FlushVol</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolSync">PBFlushVolSync</a></code> , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolAsync">PBFlushVolAsync</a></code>. To set the size of a named fork other than the data and resource forks, or to grow the size of a file beyond 2GB, you must use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetForkSize">FSSetForkSize</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkSizeSync">PBSetForkSizeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkSizeAsync">PBSetForkSizeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetEOFSync" title="PBSetEOFSync"></a><a name="//apple_ref/doc/c_ref/PBSetEOFSync" title="PBSetEOFSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04871" title="PBSetEOFSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_346"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_346"></a><h3 class="tight">PBSetEOFSync</h3>
<p class="spaceabove">Sets the logical size of an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkSizeSync">PBSetForkSizeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBSetEOFSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, a file reference number for the open file. </p></dd>
<dt><code>ioMisc </code></dt>
<dd><p>On input, the new logical size (the logical end-of-file) of the given file. Because the <code>ioMisc</code> field is of type <code>Ptr</code>, you must coerce the desired value from a long integer to type <code>Ptr</code>. If the value of the <code>ioMisc</code> field is 0, all space occupied by the file on the volume is released. The file still exists, but it contains 0 bytes. Setting a file fork’s end-of-file to 0 is therefore not the same as deleting the file, which removes both file forks at once. </p></dd></dl>
<p>If you attempt to set the logical end-of-file beyond the current physical end-of-file, another allocation block is added to the file if there isn’t enough space on the volume, no change is made and <code>PBSetEOFSync</code> returns <code>dskFulErr</code> as its function result.</p>
<p>To ensure that your changes to the file are written to disk, call one of the functions,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FlushVol">FlushVol</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolSync">PBFlushVolSync</a></code> , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolAsync">PBFlushVolAsync</a></code>. To set the size of a named fork other than the data and resource forks, or to grow the size of a file beyond 2GB, you must use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetForkSize">FSSetForkSize</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkSizeSync">PBSetForkSizeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkSizeAsync">PBSetForkSizeAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetForeignPrivsAsync" title="PBSetForeignPrivsAsync"></a><a name="//apple_ref/doc/c_ref/PBSetForeignPrivsAsync" title="PBSetForeignPrivsAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04876" title="PBSetForeignPrivsAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_347"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_347"></a><h3 class="tight">PBSetForeignPrivsAsync</h3>
<p class="spaceabove">Changes the native access-control information for a file or directory stored on a volume managed by a foreign file system.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBSetForeignPrivsAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetForeignPrivsSync" title="PBSetForeignPrivsSync"></a><a name="//apple_ref/doc/c_ref/PBSetForeignPrivsSync" title="PBSetForeignPrivsSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04877" title="PBSetForeignPrivsSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_348"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_348"></a><h3 class="tight">PBSetForeignPrivsSync</h3>
<p class="spaceabove">Changes the native access-control information for a file or directory stored on a volume managed by a foreign file system.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBSetForeignPrivsSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetFPosAsync" title="PBSetFPosAsync"></a><a name="//apple_ref/doc/c_ref/PBSetFPosAsync" title="PBSetFPosAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04878" title="PBSetFPosAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_353"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_353"></a><h3 class="tight">PBSetFPosAsync</h3>
<p class="spaceabove">Sets the position of the file mark.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkPositionAsync">PBSetForkPositionAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBSetFPosAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, the file reference number for an open file. </p></dd>
<dt><code>ioPosMode </code></dt>
<dd><p>On input, a constant indicating how to position the mark; this field must contain one of the values described in  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Position_Mode_Constants">“Position Mode Constants.”</a></span> </p></dd>
<dt><code>ioPosOffset </code></dt>
<dd><p>On input, the offset from the base location specified by the <code>ioPosMode</code> field for the file mark. If you specify <code>fsAtMark</code> in the <code>ioPosMode</code> field, the mark is left wherever it’s currently positioned and the value in the <code>ioPosOffset</code> field is ignored. If you specify <code>fsFromLEOF</code>, the value in <code>ioPosOffset</code> must be less than or equal to 0. On output, the position at which the mark was actually set. </p></dd></dl>
<p>The <code>PBSetFPosAsync</code> function sets the mark of the specified file to the position specified by the <code>ioPosMode</code> and <code>ioPosOffset</code> fields. If you try to set the mark past the logical end-of-file, <code>PBSetFPosAsync</code> moves the mark to the end-of-file and returns <code>eofErr</code> as its function result.</p>
<p>To set the file mark position for a named fork other than the data and resource forks, or to position the file mark at a point more than 2GB into the file, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetForkPosition">FSSetForkPosition</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkPositionSync">PBSetForkPositionSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkPositionAsync">PBSetForkPositionAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetFPosSync" title="PBSetFPosSync"></a><a name="//apple_ref/doc/c_ref/PBSetFPosSync" title="PBSetFPosSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04879" title="PBSetFPosSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_354"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_354"></a><h3 class="tight">PBSetFPosSync</h3>
<p class="spaceabove">Sets the position of the file mark.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkPositionSync">PBSetForkPositionSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBSetFPosSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, the file reference number for an open file. </p></dd>
<dt><code>ioPosMode </code></dt>
<dd><p>On input, a constant indicating how to position the file mark; this field must contain one of the values described in  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Position_Mode_Constants">“Position Mode Constants.”</a></span> </p></dd>
<dt><code>ioPosOffset </code></dt>
<dd><p>On input, the offset from the base location specified by the <code>ioPosMode</code> field for the file mark. If you specify <code>fsAtMark</code> in the <code>ioPosMode</code> field, the mark is left wherever it’s currently positioned and the value in the <code>ioPosOffset</code> field is ignored. If you specify <code>fsFromLEOF</code>, the value in <code>ioPosOffset</code> must be less than or equal to 0. On output, the position at which the mark was actually set. </p></dd></dl>
<p>The <code>PBSetFPosSync</code> function sets the mark of the specified file to the position specified by the <code>ioPosMode</code> and <code>ioPosOffset</code> fields. If you try to set the mark past the logical end-of-file, <code>PBSetFPosSync</code> moves the mark to the end-of-file and returns <code>eofErr</code> as its function result.</p>
<p>To set the file mark position for a named fork other than the data and resource forks, or to position the file mark at a point more than 2GB into the file, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetForkPosition">FSSetForkPosition</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkPositionSync">PBSetForkPositionSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkPositionAsync">PBSetForkPositionAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetVInfoAsync" title="PBSetVInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBSetVInfoAsync" title="PBSetVInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04882" title="PBSetVInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_355"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_355"></a><h3 class="tight">PBSetVInfoAsync</h3>
<p class="spaceabove">Changes information about a volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetVolumeInfoAsync">PBSetVolumeInfoAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBSetVInfoAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HVolumeParam">HVolumeParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the volume’s name. You can specify a new name for the volume here. You cannot specify the volume by name you must use either the volume reference number or the drive number. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume whose information is to be changed; or 0 for the default volume.  </p></dd>
<dt><code>ioVCrDate </code></dt>
<dd><p>On input, the date and time of the volume’s initialization. </p></dd>
<dt><code>ioVLsMod </code></dt>
<dd><p>On input, the date and time of the volume’s last modification. </p></dd>
<dt><code>ioVAtrb </code></dt>
<dd><p>On input, the volume attributes. Only bit 15 of the <code>ioVAtrb</code> field can be changed; setting it locks the volume. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Volume_Information_Attribute_Constants">“Volume Information Attribute Constants”</a></span>  for a description of the volume attributes. </p></dd>
<dt><code>ioVBkUp </code></dt>
<dd><p>On input, the date and time of the volume’s last backup. </p></dd>
<dt><code>ioVSeqNum </code></dt>
<dd><p>Used internally. </p></dd>
<dt><code>ioVFndrInfo </code></dt>
<dd><p>On input, Finder information for the volume. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBSetVInfoSync" title="PBSetVInfoSync"></a><a name="//apple_ref/doc/c_ref/PBSetVInfoSync" title="PBSetVInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04883" title="PBSetVInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_356"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_356"></a><h3 class="tight">PBSetVInfoSync</h3>
<p class="spaceabove">Changes information about a volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetVolumeInfoSync">PBSetVolumeInfoSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBSetVInfoSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HVolumeParam">HVolumeParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the volume’s name. You can specify a new name for the volume here. You cannot specify the volume by name you must use either the volume reference number or the drive number. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume whose information is to be changed; or 0 for the default volume.  </p></dd>
<dt><code>ioVCrDate </code></dt>
<dd><p>On input, the date and time of the volume’s initialization. </p></dd>
<dt><code>ioVLsMod </code></dt>
<dd><p>On input, the date and time of the volume’s last modification. </p></dd>
<dt><code>ioVAtrb </code></dt>
<dd><p>On input, the volume attributes. Only bit 15 of the <code>ioVAtrb</code> field can be changed; setting it locks the volume. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Volume_Information_Attribute_Constants">“Volume Information Attribute Constants”</a></span>  for a description of the volume attributes. </p></dd>
<dt><code>ioVBkUp </code></dt>
<dd><p>On input, the date and time of the volume’s last backup. </p></dd>
<dt><code>ioVSeqNum </code></dt>
<dd><p>Used internally. </p></dd>
<dt><code>ioVFndrInfo </code></dt>
<dd><p>On input, Finder information for the volume. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBShareAsync" title="PBShareAsync"></a><a name="//apple_ref/doc/c_ref/PBShareAsync" title="PBShareAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04886" title="PBShareAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_359"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_359"></a><h3 class="tight">PBShareAsync</h3>
<p class="spaceabove">Establishes a local volume or directory as a share point.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBShareAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBShareSync" title="PBShareSync"></a><a name="//apple_ref/doc/c_ref/PBShareSync" title="PBShareSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04887" title="PBShareSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_360"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_360"></a><h3 class="tight">PBShareSync</h3>
<p class="spaceabove">Establishes a local volume or directory as a share point.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBShareSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBUnlockRangeAsync" title="PBUnlockRangeAsync"></a><a name="//apple_ref/doc/c_ref/PBUnlockRangeAsync" title="PBUnlockRangeAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04891" title="PBUnlockRangeAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_361"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_361"></a><h3 class="tight">PBUnlockRangeAsync</h3>
<p class="spaceabove">Unlocks a portion of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBXUnlockRangeAsync">PBXUnlockRangeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBUnlockRangeAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. If you call <code>PBUnlockRangeAsync</code> on a file system that does not implement it—for example, SMB—<code>PBUnlockRangeAsync</code> returns <code>noErr</code> and does nothing.</p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On input, the file reference number of the file owning the range to unlock. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the number of bytes in the range. </p></dd>
<dt><code>ioPosMode </code></dt>
<dd><p>On input, a constant specifying the base location for the start of the locked range. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Position_Mode_Constants">“Position Mode Constants”</a></span>  for more information on the constants you can use to indicate the base location. </p></dd>
<dt><code>ioPosOffset </code></dt>
<dd><p>On input, the offset from the base location specified in the <code>ioPosMode</code> field for the start of the locked range. </p></dd></dl>
<p>The <code>PBUnlockRangeAsync</code> function unlocks a portion of a file that you locked with  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBLockRangeSync">PBLockRangeSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBLockRangeAsync">PBLockRangeAsync</a></code>. The beginning of the range to be unlocked is determined by the <code>ioPosMode</code> and <code>ioPosOffset</code> fields. The end of the range to be unlocked is determined by the beginning of the range and the <code>ioReqCount</code> field. For example, to unlock the first 50 bytes in a file, set <code>ioReqCount</code> to 50, <code>ioPosMode</code> to <code>fsFromStart</code>, and <code>ioPosOffset</code> to 0. The range of bytes to be unlocked must be the exact same range locked by a previous call to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBLockRangeSync">PBLockRangeSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBLockRangeAsync">PBLockRangeAsync</a></code>.</p>
<p>If for some reason you need to unlock a range whose beginning or length is unknown, you can simply close the file. When a file is closed, all locked ranges held by the user are unlocked. </p>
<h5 class="tight">Special Considerations</h5>
<p>The <code>PBUnlockRangeAsync</code> function does nothing if the file specified in the <code>ioRefNum</code> field is open with shared read/write permission but is not located on a remote server volume or is not located under a share point on a local volume. To check whether file sharing is currently on, check that the <code>bHasPersonalAccessPrivileges</code> bit in the <code>vMAttrib</code> field of the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/GetVolParmsInfoBuffer">GetVolParmsInfoBuffer</a></code> returned by the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code> function is set.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBUnlockRangeSync" title="PBUnlockRangeSync"></a><a name="//apple_ref/doc/c_ref/PBUnlockRangeSync" title="PBUnlockRangeSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04892" title="PBUnlockRangeSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_362"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_362"></a><h3 class="tight">PBUnlockRangeSync</h3>
<p class="spaceabove">Unlocks a portion of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBXUnlockRangeSync">PBXUnlockRangeSync</a></code> or <code><a href="../Reference/reference.html#//apple_ref/c/func/FSUnlockRange">FSUnlockRange</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBUnlockRangeSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> If you call <code>PBUnlockRangeSync</code> on a file system that does not implement it—for example, SMB—<code>PBUnlockRangeSync</code> returns <code>noErr</code> and does nothing.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioRefNum </code></dt>
<dd><p>On input, the file reference number of the file owning the range to unlock. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the number of bytes in the range. </p></dd>
<dt><code>ioPosMode </code></dt>
<dd><p>On input, a constant specifying the base location for the start of the locked range. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Position_Mode_Constants">“Position Mode Constants”</a></span>  for more information on the constants you can use to indicate the base location. </p></dd>
<dt><code>ioPosOffset </code></dt>
<dd><p>On input, the offset from the base location specified in the <code>ioPosMode</code> field for the start of the locked range. </p></dd></dl>
<p>The <code>PBUnlockRangeSync</code> function unlocks a portion of a file that you locked with  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBLockRangeSync">PBLockRangeSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBLockRangeAsync">PBLockRangeAsync</a></code>. The beginning of the range to be unlocked is determined by the <code>ioPosMode</code> and <code>ioPosOffset</code> fields. The end of the range to be unlocked is determined by the beginning of the range and the <code>ioReqCount</code> field. For example, to unlock the first 50 bytes in a file, set <code>ioReqCount</code> to 50, <code>ioPosMode</code> to <code>fsFromStart</code>, and <code>ioPosOffset</code> to 0. The range of bytes to be unlocked must be the exact same range locked by a previous call to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBLockRangeSync">PBLockRangeSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBLockRangeAsync">PBLockRangeAsync</a></code>.</p>
<p>If for some reason you need to unlock a range whose beginning or length is unknown, you can simply close the file. When a file is closed, all locked ranges held by the user are unlocked. </p>
<h5 class="tight">Special Considerations</h5>
<p>The <code>PBUnlockRangeSync</code> function does nothing if the file specified in the <code>ioRefNum</code> field is open with shared read/write permission but is not located on a remote server volume or is not located under a share point on a local volume. To check whether file sharing is currently on, check that the <code>bHasPersonalAccessPrivileges</code> bit in the <code>vMAttrib</code> field of the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/GetVolParmsInfoBuffer">GetVolParmsInfoBuffer</a></code> returned by the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code> function is set.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBUnmountVol" title="PBUnmountVol"></a><a name="//apple_ref/doc/c_ref/PBUnmountVol" title="PBUnmountVol"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04893" title="PBUnmountVol"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_363"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_363"></a><h3 class="tight">PBUnmountVol</h3>
<p class="spaceabove">Unmounts a volume.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSEjectVolumeSync">FSEjectVolumeSync</a></code> or <code><a href="../Reference/reference.html#//apple_ref/c/func/FSUnmountVolumeSync">FSUnmountVolumeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBUnmountVol (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/VolumeParam">VolumeParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the volume. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number of the volume to unmount, or 0 for the default volume. </p></dd></dl>
<p>This function calls <code>PBFlushVolSync</code> to flush the specified volume, unmounts and ejects the volume, and releases the memory used for the volume. Prior to calling this function, all user files on the volume must be closed. Ejecting a volume results in the unmounting of other volumes on the same device.</p>
<p>The <code>PBUnmountVol</code> function always executes synchronously.</p>
<h5 class="tight">Special Considerations</h5>
<p>Don’t unmount the startup volume. Doing so will cause a system crash.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBUnshareAsync" title="PBUnshareAsync"></a><a name="//apple_ref/doc/c_ref/PBUnshareAsync" title="PBUnshareAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04895" title="PBUnshareAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_364"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_364"></a><h3 class="tight">PBUnshareAsync</h3>
<p class="spaceabove">Makes a share point unavailable on the network.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBUnshareAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBUnshareSync" title="PBUnshareSync"></a><a name="//apple_ref/doc/c_ref/PBUnshareSync" title="PBUnshareSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04896" title="PBUnshareSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_365"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_365"></a><h3 class="tight">PBUnshareSync</h3>
<p class="spaceabove">Makes a share point unavailable on the network.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBUnshareSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBXGetVolInfoAsync" title="PBXGetVolInfoAsync"></a><a name="//apple_ref/doc/c_ref/PBXGetVolInfoAsync" title="PBXGetVolInfoAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04901" title="PBXGetVolInfoAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_372"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_372"></a><h3 class="tight">PBXGetVolInfoAsync</h3>
<p class="spaceabove">Returns information about a volume, including size information for volumes up to 2 terabytes.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetVolumeInfo">FSGetVolumeInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBXGetVolInfoAsync (
   <!--a-->XVolumeParamPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an extended volume parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/XVolumeParam">XVolumeParam</a></code> for a description of the <code>XVolumeParam</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the function result. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a buffer. You should pass a pointer to a <code>Str31</code> value if you want the volume name returned; otherwise, pass <code>NULL</code>. If you specify a negative number in the <code>ioVolIndex</code> field, this buffer should hold the name of the volume for which to return information. On output, a pointer to the volume’s name. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. If the value in the <code>ioVolIndex</code> field is negative, the File Manager uses the name in the <code>ioNamePtr</code> field, along with the value in the <code>ioVRefNum</code> field, to determine the volume. If the value in <code>ioVolIndex</code> is 0, the File Manager attempts to access the volume using only the value in this field. On output, the volume reference number. </p></dd>
<dt><code>ioXVersion </code></dt>
<dd><p>On input, the version of the extended volume parameter block. Currently, this value is 0. </p></dd>
<dt><code>ioVolIndex </code></dt>
<dd><p>On input, an index used for indexing through all the mounted volumes. If this value is positive, the File Manager uses it to find the volume for which to return information. For instance, if the value of <code>ioVolIndex</code> is 2, the File Manager attempts to access the second mounted volume in the VCB queue. If <code>ioVolIndex</code> is negative, the File Manager uses the values in the <code>ioNamePtr</code> and <code>ioVRefNum</code> fields to access the requested volume. If <code>ioVolIndex</code> is 0, the File Manager uses only the value in the <code>ioVRefNum</code> field. </p></dd>
<dt><code>ioVCrDate </code></dt>
<dd><p>On output, the date and time of the volume’s creation (initialization). </p></dd>
<dt><code>ioVLsMod </code></dt>
<dd><p>On output, the date and time that the volume was last modified. </p></dd>
<dt><code>ioVAtrb </code></dt>
<dd><p>On output, the volume attributes. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Volume_Information_Attribute_Constants">“Volume Information Attribute Constants”</a></span>  for a description of these attributes. </p></dd>
<dt><code>ioVNmFls </code></dt>
<dd><p>On output, the number of files in the root directory of the volume. For performance reasons, the Carbon File Manager does not return the number of files in this field; instead, it sets <code>ioVNmFls</code> to 0.To determine the number of files in the root directory of a volume in Carbon, call   <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetCatInfoAsync">PBGetCatInfoAsync</a></code>  for the root directory.  The number of files in the root directory is returned in the <code>ioDrNmFls</code> field. </p></dd>
<dt><code>ioVBitMap </code></dt>
<dd><p>On output, the first block of the volume bitmap. </p></dd>
<dt><code>ioVAllocPtr </code></dt>
<dd><p>On output, the block where the next new file allocation search should start. </p></dd>
<dt><code>ioVNmAlBlks </code></dt>
<dd><p>On output, the number of allocation blocks on the volume. </p></dd>
<dt><code>ioVAlBlkSiz </code></dt>
<dd><p>On output, the allocation block size for the volume. </p></dd>
<dt><code>ioVClpSiz </code></dt>
<dd><p>On output, the volume’s default clump size. </p></dd>
<dt><code>ioAlBlSt </code></dt>
<dd><p>On output, the first block in the volume block map. </p></dd>
<dt><code>ioVNxtCNID </code></dt>
<dd><p>On output, the next unused catalog node ID. </p></dd>
<dt><code>ioVFrBlk </code></dt>
<dd><p>On output, the number of free (unused) allocation blocks on the volume. </p></dd>
<dt><code>ioVSigWord </code></dt>
<dd><p>On output, the volume signature. For HFS volumes, this is ‘BD’ for HFS Plus volumes, this is ‘H+’. </p></dd>
<dt><code>ioVDrvInfo </code></dt>
<dd><p>On output, the drive number. You can determine whether the given volume is online by inspecting the value of this field. For online volumes, the <code>ioVDrvInfo</code> field contains the drive number of the drive containing the specified volume and hence is always greater than 0. If the value returned in <code>ioVDrvInfo</code> is 0, the volume is either offline or ejected.  </p></dd>
<dt><code>ioVDRefNum </code></dt>
<dd><p>On output, the driver reference number. You can determine whether the volume is offline or ejected by inspecting the value of this field. If the volume is offline, the value of <code>ioVDRefNum</code> is the negative of the drive number (which is cleared when the volume is placed offline; hence the <code>ioVDrvInfo</code> field for an offline volume is zero), and is a negative number. If the volume is ejected, the value of <code>ioVDRefNum</code> is the drive number itself, and thus is a positive number. For online volumes, <code>ioVDRefNum</code> contains a driver reference number; these numbers are always less than 0.  </p></dd>
<dt><code>ioVFSID </code></dt>
<dd><p>On output, the file system ID for the file system handling this volume. </p></dd>
<dt><code>ioVBkUp </code></dt>
<dd><p>On output, the date and time that the volume was last backed up. </p></dd>
<dt><code>ioVSeqNum </code></dt>
<dd><p>Used internally. </p></dd>
<dt><code>ioVWrCnt </code></dt>
<dd><p>On output, the volume write count. </p></dd>
<dt><code>ioVFilCnt </code></dt>
<dd><p>On output, the number of files on the volume. </p></dd>
<dt><code>ioVDirCnt </code></dt>
<dd><p>On output, the number of directories on the volume. </p></dd>
<dt><code>ioVFndrInfo </code></dt>
<dd><p>On output, Finder information for the volume. </p></dd>
<dt><code>ioVTotalBytes </code></dt>
<dd><p>On output, the total number of bytes on the volume. </p></dd>
<dt><code>ioVFreeBytes </code></dt>
<dd><p>On output, the number of free bytes on the volume. </p></dd></dl>
<p>The <code>PBXGetVolInfoAsync</code> function is similar to the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVInfoAsync">PBHGetVInfoAsync</a></code>  function except that it returns additional volume space information in 64-bit integers and does not modify the information copied from the volume’s volume control block (VCB). Systems that support <code>PBXGetVolInfoAsync</code> will have the <code>gestaltFSSupports2TBVols</code> bit set in the response returned by the <code>gestaltFSAttr </code><code>Gestalt</code> selector. See  <em>Inside Mac OS X: Gestalt Manager Reference</em> for a description of the <code>gestaltFSAttr</code> selector and of the bits that may be returned in the response. </p>
<h5 class="tight">Special Considerations</h5>
<p>After an operation that changes the amount of free space on the volume—such as deleting a file—there may be a delay before a call to <code>PBXGetVolInfoAsync</code> returns the updated amount. This is because the File Manager caches and periodically updates file system information, to reduce the number of calls made to retrieve the information from the file system. Currently, the File Manager updates its information every 15 seconds. This primarily affects NFS volumes. DOS, SMB, UFS and WebDAV volumes were also affected by this in previous versions of Mac OS X, but behave correctly in Mac OS X version 10.3 and later.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBXGetVolInfoSync" title="PBXGetVolInfoSync"></a><a name="//apple_ref/doc/c_ref/PBXGetVolInfoSync" title="PBXGetVolInfoSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04902" title="PBXGetVolInfoSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_373"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_373"></a><h3 class="tight">PBXGetVolInfoSync</h3>
<p class="spaceabove">Returns information about a volume, including size information for volumes up to 2 terabytes.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetVolumeInfo">FSGetVolumeInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBXGetVolInfoSync (
   <!--a-->XVolumeParamPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an extended volume parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/XVolumeParam">XVolumeParam</a></code> for a description of the <code>XVolumeParam</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a buffer. You should pass a pointer to a <code>Str31</code> value if you want the volume name returned; otherwise, pass <code>NULL</code>. If you specify a negative number in the <code>ioVolIndex</code> field, this buffer should hold the name of the volume for which to return information. On output, a pointer to the volume’s name. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. If the value in the <code>ioVolIndex</code> field is negative, the File Manager uses the name in the <code>ioNamePtr</code> field, along with the value in the <code>ioVRefNum</code> field, to determine the volume. If the value in <code>ioVolIndex</code> is 0, the File Manager attempts to access the volume using only the value in this field. On output, the volume reference number. </p></dd>
<dt><code>ioXVersion </code></dt>
<dd><p>On input, the version of the extended volume parameter block. Currently, this value is 0. </p></dd>
<dt><code>ioVolIndex </code></dt>
<dd><p>On input, an index used for indexing through all the mounted volumes. If this value is positive, the File Manager uses it to find the volume for which to return information. For instance, if the value of <code>ioVolIndex</code> is 2, the File Manager attempts to access the second mounted volume in the VCB queue. If <code>ioVolIndex</code> is negative, the File Manager uses the values in the <code>ioNamePtr</code> and <code>ioVRefNum</code> fields to access the requested volume. If <code>ioVolIndex</code> is 0, the File Manager uses only the value in the <code>ioVRefNum</code> field. </p></dd>
<dt><code>ioVCrDate </code></dt>
<dd><p>On output, the date and time of the volume’s creation (initialization). </p></dd>
<dt><code>ioVLsMod </code></dt>
<dd><p>On output, the date and time that the volume was last modified. </p></dd>
<dt><code>ioVAtrb </code></dt>
<dd><p>On output, the volume attributes. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Volume_Information_Attribute_Constants">“Volume Information Attribute Constants”</a></span>  for a description of these attributes. </p></dd>
<dt><code>ioVNmFls </code></dt>
<dd><p>On output, the number of files in the root directory of the volume. For performance reasons, the Carbon File Manager does not return the number of files in this field; instead, it sets <code>ioVNmFls</code> to 0.To determine the number of files in the root directory of a volume in Carbon, call   <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetCatInfoSync">PBGetCatInfoSync</a></code>  for the root directory.  The number of files in the root directory is returned in the <code>ioDrNmFls</code> field. </p></dd>
<dt><code>ioVBitMap </code></dt>
<dd><p>On output, the first block of the volume bitmap. </p></dd>
<dt><code>ioVAllocPtr </code></dt>
<dd><p>On output, the block where the next new file allocation search should start. </p></dd>
<dt><code>ioVNmAlBlks </code></dt>
<dd><p>On output, the number of allocation blocks on the volume. </p></dd>
<dt><code>ioVAlBlkSiz </code></dt>
<dd><p>On output, the allocation block size for the volume. </p></dd>
<dt><code>ioVClpSiz </code></dt>
<dd><p>On output, the volume’s default clump size. </p></dd>
<dt><code>ioAlBlSt </code></dt>
<dd><p>On output, the first block in the volume block map. </p></dd>
<dt><code>ioVNxtCNID </code></dt>
<dd><p>On output, the next unused catalog node ID. </p></dd>
<dt><code>ioVFrBlk </code></dt>
<dd><p>On output, the number of free (unused) allocation blocks on the volume. </p></dd>
<dt><code>ioVSigWord </code></dt>
<dd><p>On output, the volume signature. For HFS volumes, this is ‘BD’ for HFS Plus volumes, this is ‘H+’. </p></dd>
<dt><code>ioVDrvInfo </code></dt>
<dd><p>On output, the drive number. You can determine whether the given volume is online by inspecting the value of this field. For online volumes, the <code>ioVDrvInfo</code> field contains the drive number of the drive containing the specified volume and hence is always greater than 0. If the value returned in <code>ioVDrvInfo</code> is 0, the volume is either offline or ejected.  </p></dd>
<dt><code>ioVDRefNum </code></dt>
<dd><p>On output, the driver reference number. You can determine whether the volume is offline or ejected by inspecting the value of this field. If the volume is offline, the value of <code>ioVDRefNum</code> is the negative of the drive number (which is cleared when the volume is placed offline; hence the <code>ioVDrvInfo</code> field for an offline volume is zero), and is a negative number. If the volume is ejected, the value of <code>ioVDRefNum</code> is the drive number itself, and thus is a positive number. For online volumes, <code>ioVDRefNum</code> contains a driver reference number; these numbers are always less than 0.  </p></dd>
<dt><code>ioVFSID </code></dt>
<dd><p>On output, the file system ID for the file system handling this volume. </p></dd>
<dt><code>ioVBkUp </code></dt>
<dd><p>On output, the date and time that the volume was last backed up. </p></dd>
<dt><code>ioVSeqNum </code></dt>
<dd><p>Used internally. </p></dd>
<dt><code>ioVWrCnt </code></dt>
<dd><p>On output, the volume write count. </p></dd>
<dt><code>ioVFilCnt </code></dt>
<dd><p>On output, the number of files on the volume. </p></dd>
<dt><code>ioVDirCnt </code></dt>
<dd><p>On output, the number of directories on the volume. </p></dd>
<dt><code>ioVFndrInfo </code></dt>
<dd><p>On output, Finder information for the volume. </p></dd>
<dt><code>ioVTotalBytes </code></dt>
<dd><p>On output, the total number of bytes on the volume. </p></dd>
<dt><code>ioVFreeBytes </code></dt>
<dd><p>On output, the number of free bytes on the volume. </p></dd></dl>
<p>The <code>PBXGetVolInfoSync</code> function is similar to the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVInfoSync">PBHGetVInfoSync</a></code>  function except that it returns additional volume space information in 64-bit integers and does not modify the information copied from the volume’s volume control block (VCB). Systems that support <code>PBXGetVolInfoSync</code> will have the <code>gestaltFSSupports2TBVols</code> bit set in the response returned by the <code>gestaltFSAttr </code><code>Gestalt</code> selector. See <em>Inside Mac OS X: Gestalt Manager Reference</em> for a description of the <code>gestaltFSAttr</code> selector and of the bits that may be returned in the response. </p>
<h5 class="tight">Special Considerations</h5>
<p>After an operation that changes the amount of free space on the volume—such as deleting a file—there may be a delay before a call to <code>PBXGetVolInfoSync</code> returns the updated amount. This is because the File Manager caches and periodically updates file system information, to reduce the number of calls made to retrieve the information from the file system. Currently, the File Manager updates its information every 15 seconds. This primarily affects NFS volumes. DOS, SMB, UFS and WebDAV volumes were also affected by this in previous versions of Mac OS X, but behave correctly in Mac OS X version 10.3 and later.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/SetEOF" title="SetEOF"></a><a name="//apple_ref/doc/c_ref/SetEOF" title="SetEOF"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F06834" title="SetEOF"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_378"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_378"></a><h3 class="tight">SetEOF</h3>
<p class="spaceabove">Sets the logical size of an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetForkSize">FSSetForkSize</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr SetEOF (
   <!--a-->FSIORefNum<!--/a--> refNum,
   SInt32 logEOF
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>The file reference number of an open file. </p></dd>
<dt><em>logEOF</em></dt>
<dd><p>The new logical size (the logical end-of-file) of the given file. If you set the <code>logEOF</code> parameter to 0, all space occupied by the file on the volume is released. The file still exists, but it contains 0 bytes. Setting a file fork’s end-of-file to 0 is therefore not the same as deleting the file, which removes both file forks at once. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If you attempt to set the logical end-of-file beyond the physical end-of-file, the physical end-of-file is set 1 byte beyond the end of the next free allocation block if there isn’t enough space on the volume, no change is made, and <code>SetEOF</code> returns <code>dskFulErr</code> as its function result.</p>
<p>To ensure that your changes to the file are written to disk, call one of the functions,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FlushVol">FlushVol</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolSync">PBFlushVolSync</a></code> , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBFlushVolAsync">PBFlushVolAsync</a></code>. To set the size of a named fork other than the data and resource forks, or to grow the size of a file beyond 2GB, you must use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetForkSize">FSSetForkSize</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkSizeSync">PBSetForkSizeSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkSizeAsync">PBSetForkSizeAsync</a></code>.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/SetFPos" title="SetFPos"></a><a name="//apple_ref/doc/c_ref/SetFPos" title="SetFPos"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F06845" title="SetFPos"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_379"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_379"></a><h3 class="tight">SetFPos</h3>
<p class="spaceabove">Sets the position of the file mark.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetForkPosition">FSSetForkPosition</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr SetFPos (
   <!--a-->FSIORefNum<!--/a--> refNum,
   <!--a-->SInt16<!--/a--> posMode,
   SInt32 posOff
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>The file reference number of an open file. </p></dd>
<dt><em>posMode</em></dt>
<dd><p>A constant specifying how to position the file mark; this parameter must contain one of the values described in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Position_Mode_Constants">“Position Mode Constants.”</a></span></p></dd>
<dt><em>posOff</em></dt>
<dd><p>The offset from the base location specified by the <code>posMode</code> parameter for the new file mark position. If you specify <code>fsFromLEOF</code> in the <code>posMode</code> parameter, the value in the <code>posOff</code> parameter must be less than or equal to 0. If you specify <code>fsAtMark</code>, the value in the <code>posOff</code> parameter is ignored. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Because the read and write operations performed by the functions  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSRead">FSRead</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/FSWrite">FSWrite</a></code>  begin at the current mark, you may want to call <code>SetFPos</code> to reposition the file mark before reading from or writing to the file.</p>
<p>To set the file mark position for a named fork other than the data and resource forks, or to position the file mark at a point more than 2GB into the file, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetForkPosition">FSSetForkPosition</a></code>  function, or one of the corresponding parameter block calls,  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkPositionSync">PBSetForkPositionSync</a></code>  and  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBSetForkPositionAsync">PBSetForkPositionAsync</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/UnmountVol" title="UnmountVol"></a><a name="//apple_ref/doc/c_ref/UnmountVol" title="UnmountVol"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F08018" title="UnmountVol"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_380"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_380"></a><h3 class="tight">UnmountVol</h3>
<p class="spaceabove">Unmounts a volume that isn’t currently being used.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSUnmountVolumeSync">FSUnmountVolumeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr UnmountVol (
   <!--a-->ConstStr63Param<!--/a--> volName,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>volName</em></dt>
<dd><p>The name of a mounted volume. This parameter may be <code>NULL</code>. </p></dd>
<dt><em>vRefNum</em></dt>
<dd><p>The volume reference number, drive number, or 0 for the default volume. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>All files on the volume (except those opened by the Operating System) must be closed before you call <code>UnmountVol</code>, which does not eject the volume.</p>
<p>Most applications do not need to use this function, because the user typically ejects (and possibly also unmounts) a volume in the Finder. </p>
<h5 class="tight">Special Considerations</h5>
<p>Don’t unmount the startup volume. Doing so will cause a system crash.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_1015" title="Deprecated in Mac OS X v10.5"></a><h2>Deprecated in Mac OS X v10.5</h2><a name="//apple_ref/c/func/FlushVol" title="FlushVol"></a><a name="//apple_ref/doc/c_ref/FlushVol" title="FlushVol"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F01534" title="FlushVol"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_37"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_37"></a><h3 class="tight">FlushVol</h3>
<p class="spaceabove">Writes the contents of the volume buffer and updates information about the volume.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSFlushVolume">FSFlushVolume</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr FlushVol (
   <!--a-->ConstStr63Param<!--/a--> volName,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSVolumeRefNum">FSVolumeRefNum</a> vRefNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>volName</em></dt>
<dd><p>The name of the mounted volume to flush. </p></dd>
<dt><em>vRefNum</em></dt>
<dd><p>The volume reference number, drive number, or 0 for the default volume. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>For the specified volume, the <code>FlushVol</code> function writes the contents of the associated volume buffer and descriptive information about the volume. Information which has changed since the last time <code>FlushVol</code> was called is written to the volume. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/FSpMakeFSRef" title="FSpMakeFSRef"></a><a name="//apple_ref/doc/c_ref/FSpMakeFSRef" title="FSpMakeFSRef"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F13095" title="FSpMakeFSRef"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_118"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_118"></a><h3 class="tight">FSpMakeFSRef</h3>
<p class="spaceabove">Creates an <code>FSRef</code> for a file or directory, given an <code>FSSpec</code>.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr FSpMakeFSRef (
   const <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSSpec">FSSpec</a> *source,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSRef">FSRef</a> *newRef
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>source</em></dt>
<dd><p>A pointer to the <code>FSSpec</code> for the file or directory. This parameter must point to a valid <code>FSSpec</code> for an existing file or directory; if it does not, the call will return <code>fnfErr</code>. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSSpec">FSSpec</a></code> for a description of the <code>FSSpec</code> data type.</p></dd>
<dt><em>newRef</em></dt>
<dd><p>On input, a pointer to an <code>FSRef</code> structure.  On return, a pointer to the <code>FSRef</code> for the file or directory specified in the <code>FSSpec</code> pointed to in the <code>source</code> parameter. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>To obtain an <code>FSSpec</code> from an <code>FSRef</code>, use the <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> function.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CarbonSketch/index.html#//apple_ref/doc/uid/DTS10003226" target="_top">CarbonSketch</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTCarbonShell/index.html#//apple_ref/doc/uid/DTS10003611" target="_top">QTCarbonShell</a></span></li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBCloseAsync" title="PBCloseAsync"></a><a name="//apple_ref/doc/c_ref/PBCloseAsync" title="PBCloseAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04705" title="PBCloseAsync"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_176"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_176"></a><h3 class="tight">PBCloseAsync</h3><p class="spaceabove">Closes an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCloseForkAsync">PBCloseForkAsync</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr PBCloseAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>paramBlock</em></dt><dd><p>A pointer to a basic File Manager parameter block.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The relevant fields of the parameter block are:</p><dl class="termdef">	<dt><code>ioCompletion</code></dt><dd><p>On input, a pointer to a completion routine.</p></dd><dt><code>ioResult</code></dt><dd><p>On output, the result code of the function.</p></dd><dt><code>ioRefNum</code></dt><dd><p>On input, a file reference number to the file to close.</p></dd></dl><p>The <code>PBCloseAsync</code> function writes the contents of the access path buffer specified by the <code>ioRefNum</code> field to the volume and removes the access path. </p><h5 class="tight">Special Considerations</h5><p>Some information stored on the volume won’t be updated until <code>PBFlushVolAsync</code> is called. </p><p>Do not call <code>PBCloseAsync</code> with a file reference number of a file that has already been closed. Attempting to close the same file twice may result in loss of data on a volume.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBCloseSync" title="PBCloseSync"></a><a name="//apple_ref/doc/c_ref/PBCloseSync" title="PBCloseSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04707" title="PBCloseSync"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_181"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_181"></a><h3 class="tight">PBCloseSync</h3><p class="spaceabove">Closes an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBCloseForkSync">PBCloseForkSync</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr PBCloseSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>paramBlock</em></dt><dd><p>A pointer to a basic File Manager parameter block.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The relevant field of the parameter block is:</p><dl class="termdef">	<dt><code>ioRefNum</code></dt><dd><p>On input, a file reference number to the file to close.</p></dd></dl><p>The <code>PBCloseSync</code> function writes the contents of the access path buffer specified by the <code>ioRefNum</code> field to the volume and removes the access path.</p><h5 class="tight">Special Considerations</h5><p>Some information stored on the volume won’t be updated until <code>PBFlushVolSync</code> is called. </p><p>Do not call <code>PBCloseSync</code> with a file reference number of a file that has already been closed. Attempting to close the same file twice may result in loss of data on a volume.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBCreateFileIDRefAsync" title="PBCreateFileIDRefAsync"></a><a name="//apple_ref/doc/c_ref/PBCreateFileIDRefAsync" title="PBCreateFileIDRefAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04714" title="PBCreateFileIDRefAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_186"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_186"></a><h3 class="tight">PBCreateFileIDRefAsync</h3>
<p class="spaceabove">Establishes a file ID reference for a file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBCreateFileIDRefAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FIDParam">FIDParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Most applications do not need to use this function. In general, you should track files using alias records, as described in the Alias Manager documentation. The Alias Manager uses file IDs internally as part of its search algorithms for finding the target of an alias record. </p>
<p>Given a volume reference number, filename, and parent directory ID, the <code>PBCreateFileIDRefAsync</code> function creates a structure to hold the name and parent directory ID of the specified file. The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. <code>PBCreateFileIDRefAsync</code> returns the result code <code>fidExists</code> if a file ID reference already exists for the file. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the file’s name. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number for the volume containing the file. </p></dd>
<dt><code>ioSrcDirID </code></dt>
<dd><p>On input, the file’s parent directory ID. </p></dd>
<dt><code>ioFileID </code></dt>
<dd><p>On output, a file ID. If a file ID reference already exists for the file, <code>PBCreateFileIDRefAsync</code> supplies the file ID but returns the result code <code>fidExists</code>. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBCreateFileIDRefSync" title="PBCreateFileIDRefSync"></a><a name="//apple_ref/doc/c_ref/PBCreateFileIDRefSync" title="PBCreateFileIDRefSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04715" title="PBCreateFileIDRefSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_187"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_187"></a><h3 class="tight">PBCreateFileIDRefSync</h3>
<p class="spaceabove">Establishes a file ID reference for a file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBCreateFileIDRefSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FIDParam">FIDParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span><code>PBCreateFileIDRefSync</code> returns the result code <code>fidExists</code> if a file ID reference already exists for the file.</p>
<h5 class="tight">Discussion</h5>
<p>Most applications do not need to use this function. In general, you should track files using alias records, as described in the Alias Manager documentation. The Alias Manager uses file IDs internally as part of its search algorithms for finding the target of an alias record.</p>
<p>Given a volume reference number, filename, and parent directory ID, the <code>PBCreateFileIDRefSync</code> function creates a structure to hold the name and parent directory ID of the specified file. The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the file’s name. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number for the volume containing the file. </p></dd>
<dt><code>ioSrcDirID </code></dt>
<dd><p>On input, the file’s parent directory ID. </p></dd>
<dt><code>ioFileID </code></dt>
<dd><p>On output, a file ID. If a file ID reference already exists for the file, <code>PBCreateFileIDRefSync</code> supplies the file ID but returns the result code <code>fidExists</code>. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDeleteFileIDRefAsync" title="PBDeleteFileIDRefAsync"></a><a name="//apple_ref/doc/c_ref/PBDeleteFileIDRefAsync" title="PBDeleteFileIDRefAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04718" title="PBDeleteFileIDRefAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_192"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_192"></a><h3 class="tight">PBDeleteFileIDRefAsync</h3>
<p class="spaceabove">Deletes a file ID reference.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDeleteFileIDRefAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FIDParam">FIDParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Most applications do not need to use this function. In general, you should track files using alias records, as described in the Alias Manager documentation. The Alias Manager uses file IDs internally as part of its search algorithms for finding the target of an alias record.</p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the file. </p></dd>
<dt><code>ioFileID </code></dt>
<dd><p>On input, the file ID reference to delete. After it has invalidated a file ID reference, the File Manager can no longer resolve that ID reference to a filename and parent directory ID. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBDeleteFileIDRefSync" title="PBDeleteFileIDRefSync"></a><a name="//apple_ref/doc/c_ref/PBDeleteFileIDRefSync" title="PBDeleteFileIDRefSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04719" title="PBDeleteFileIDRefSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_193"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_193"></a><h3 class="tight">PBDeleteFileIDRefSync</h3>
<p class="spaceabove">Deletes a file ID reference.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBDeleteFileIDRefSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FIDParam">FIDParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Most applications do not need to use this function. In general, you should track files using alias records, as described in the Alias Manager documentation. The Alias Manager uses file IDs internally as part of its search algorithms for finding the target of an alias record. </p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the file. </p></dd>
<dt><code>ioFileID </code></dt>
<dd><p>On input, the file ID reference to delete. After it has invalidated a file ID reference, the File Manager can no longer resolve that ID reference to a filename and parent directory ID. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBFlushVolAsync" title="PBFlushVolAsync"></a><a name="//apple_ref/doc/c_ref/PBFlushVolAsync" title="PBFlushVolAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04762" title="PBFlushVolAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_237"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_237"></a><h3 class="tight">PBFlushVolAsync</h3>
<p class="spaceabove">Writes the contents of the volume buffer and updates information about the volume.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFlushVolumeAsync">PBFlushVolumeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBFlushVolAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/VolumeParam">VolumeParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the volume to flush. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number, drive number, or 0 for the default volume. </p></dd></dl>
<p><code>PBFlushVolAsync</code> flushes all open files on the volume, and then flushes all volume data structures. On the volume specified by <code>ioNamePtr</code> or <code>ioVRefNum</code>, the <code>PBFlushVolAsync</code> function writes descriptive information about the volume, the contents of the associated volume buffer, and all access path buffers for the volume (if they’ve changed since the last time <code>PBFlushVolAsync</code> was called).</p>
<p>The date and time of the last modification to the volume are set when the modification is made, not when the volume is flushed.</p>
<p>To ensure that all changes to a volume are flushed to the volume, use <code>PBFlushVolAsync</code>. You do not, however, need to flush a volume before unmounting it, ejecting it, or putting it offline; this is done automatically.</p>
<p>If changes are made to a file that affect the file’s end-of-file, the file’s name, the file’s Finder information, or the file’s location on the volume, then you must use <code>PBFlushVolAsync</code>, or one of the other two volume flush functions in this section, to ensure that these changes are written to disk.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBFlushVolSync" title="PBFlushVolSync"></a><a name="//apple_ref/doc/c_ref/PBFlushVolSync" title="PBFlushVolSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04763" title="PBFlushVolSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_238"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_238"></a><h3 class="tight">PBFlushVolSync</h3>
<p class="spaceabove">Writes the contents of the volume buffer and updates information about the volume.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFlushVolumeSync">PBFlushVolumeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBFlushVolSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/VolumeParam">VolumeParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ParamBlockRec">ParamBlockRec</a></code> for a description of the <code>ParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the volume to flush. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number, drive number, or 0 for the default volume. </p></dd></dl>
<p><code>PBFlushVolSync</code> flushes all open files on the volume, and then flushes all volume data structures. On the volume specified by <code>ioNamePtr</code> or <code>ioVRefNum</code>, the <code>PBFlushVolSync</code> function writes descriptive information about the volume, the contents of the associated volume buffer, and all access path buffers for the volume (if they’ve changed since the last time <code>PBFlushVolSync</code> was called).</p>
<p>The date and time of the last modification to the volume are set when the modification is made, not when the volume is flushed.</p>
<p>To ensure that all changes to a volume are flushed to the volume, use <code>PBFlushVolSync</code>. You do not, however, need to flush a volume before unmounting it, ejecting it, or putting it offline; this is done automatically.</p>
<p>If changes are made to a file that affect the file’s end-of-file, the file’s name, the file’s Finder information, or the file’s location on the volume, then you must use <code>PBFlushVolSync</code>, or one of the other two volume flush functions in this section, to ensure that these changes are written to disk.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetVolMountInfo" title="PBGetVolMountInfo"></a><a name="//apple_ref/doc/c_ref/PBGetVolMountInfo" title="PBGetVolMountInfo"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04783" title="PBGetVolMountInfo"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_265"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_265"></a><h3 class="tight">PBGetVolMountInfo</h3>
<p class="spaceabove">Retrieves a record containing all the information needed to mount a volume, except for passwords.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSVolumeMount">FSVolumeMount</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetVolMountInfo (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. This field can contain a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioBuffer </code></dt>
<dd><p>On input, a pointer to a buffer to hold the mounting information. The length of the buffer is specified by the value pointed to by the <code>ioBuffer</code> field in a previous call to  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetVolMountInfoSize">PBGetVolMountInfoSize</a></code>. On output, the mounting information for the specified volume. You can later pass this structure to the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBVolumeMount">PBVolumeMount</a></code>  function to mount the volume. The mounting information for an AppleShare volume is stored as an AFP mounting record. The <code>PBGetVolMountInfo</code> function does not return the user password or volume password in the <code>AFPVolMountInfo</code> structure. Your application should solicit these passwords from the user and fill in the structure before attempting to mount the remote volume. </p></dd></dl>
<p>This function allows your application to record the mounting information for a volume and then to mount the volume later. This programmatic mounting function stores the mounting information in a structure called the  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/AFPVolMountInfo">AFPVolMountInfo</a></code>  structure.  </p>
<h5 class="tight">Special Considerations</h5>
<p>This function executes synchronously. You should not call it at interrupt time.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBGetVolMountInfoSize" title="PBGetVolMountInfoSize"></a><a name="//apple_ref/doc/c_ref/PBGetVolMountInfoSize" title="PBGetVolMountInfoSize"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04784" title="PBGetVolMountInfoSize"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_266"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_266"></a><h3 class="tight">PBGetVolMountInfoSize</h3>
<p class="spaceabove">Determines how much space to allocate for a volume mounting information structure.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSVolumeMount">FSVolumeMount</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBGetVolMountInfoSize (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. This field can contain a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioBuffer </code></dt>
<dd><p>On input, a pointer to storage for the size information, which is of type <code>Integer </code>  (2 bytes). If <code>PBGetVolMountInfoSize</code> returns <code>noErr</code>, that integer contains the size of the volume mounting information structure on output. </p></dd></dl>
<p>You should call this function before you call  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetVolMountInfo">PBGetVolMountInfo</a></code> , to obtain the size of the volume mounting information for which you must allocate storage. Then call <code>PBGetVolMountInfo</code> to retrieve the actual volume mounting information. </p>
<h5 class="tight">Special Considerations</h5>
<p>This function executes synchronously. You should not call it at interrupt time.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHCopyFileAsync" title="PBHCopyFileAsync"></a><a name="//apple_ref/doc/c_ref/PBHCopyFileAsync" title="PBHCopyFileAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04790" title="PBHCopyFileAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_271"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_271"></a><h3 class="tight">PBHCopyFileAsync</h3>
<p class="spaceabove">Duplicates a file and optionally renames it.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFSCopyFileAsync">PBFSCopyFileAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHCopyFileAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CopyParam">CopyParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the source file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number or drive number for the volume containing the source file. Pass 0 for the default volume. </p></dd>
<dt><code>ioDstVRefNum </code></dt>
<dd><p>On input, the reference number or drive number of the destination volume. Pass 0 for the default volume. </p></dd>
<dt><code>ioNewName </code></dt>
<dd><p>On input, a pointer to the partial pathname for the destination directory. If <code>ioNewName</code> is <code>NULL</code>, the destination directory is the directory having the ID specified in the <code>ioNewDirID</code> field. </p></dd>
<dt><code>ioCopyName </code></dt>
<dd><p>On input, a pointer to the file’s new name. The string pointed to by this field must be a filename, not a partial pathname. If you do not wish to rename the file, pass <code>NULL</code> in this field. </p></dd>
<dt><code>ioNewDirID </code></dt>
<dd><p>On input, if the <code>ioNewName</code> field is <code>NULL</code>, the directory ID of the destination directory. If <code>ioNewName</code> is not <code>NULL</code>, the parent directory ID of the destination directory.  </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the source directory. </p></dd></dl>
<p>This function is especially useful when you want to copy or move files located on a remote volume, because it allows you to forgo transmitting large amounts of data across a network. This function is used internally by the Finder; most applications do not need to use it. </p>
<h5 class="tight">Special Considerations</h5>
<p>This is an optional call for AppleShare file servers. Your application should examine the information returned by the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code> function to see if the volume supports <code>PBHCopyFileAsync</code>. If the <code>bHasCopyFile</code> bit is set in the <code>vMAttrib</code> field of the <code>GetVolParmsInfoBuffer</code> structure, then the volume supports <code>PBHCopyFileAsync</code>.</p>
<p>For AppleShare file servers, the source and destination pathnames must indicate the same file server; however, the parameter block may specify different source and destination volumes on that file server. A useful way to tell if two file server volumes are on the same file server is to call the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code> function for each volume and compare the server addresses returned. The server opens source files with read/deny write enabled and destination files with write/deny read and write enabled.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHCopyFileSync" title="PBHCopyFileSync"></a><a name="//apple_ref/doc/c_ref/PBHCopyFileSync" title="PBHCopyFileSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04791" title="PBHCopyFileSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_272"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_272"></a><h3 class="tight">PBHCopyFileSync</h3>
<p class="spaceabove">Duplicates a file and optionally renames it.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBFSCopyFileSync">PBFSCopyFileSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHCopyFileSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a <code><a href="../Reference/reference.html#//apple_ref/c/tdef/CopyParam">CopyParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the source file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, the volume reference number or drive number for the volume containing the source file. Pass 0 for the default volume. </p></dd>
<dt><code>ioDstVRefNum </code></dt>
<dd><p>On input, the reference number or drive number of the destination volume. Pass 0 for the default volume. </p></dd>
<dt><code>ioNewName </code></dt>
<dd><p>On input, a pointer to the partial pathname for the destination directory. If <code>ioNewName</code> is <code>NULL</code>, the destination directory is the directory having the ID specified in the <code>ioNewDirID</code> field. </p></dd>
<dt><code>ioCopyName </code></dt>
<dd><p>On input, a pointer to the file’s new name. The string pointed to by this field must be a filename, not a partial pathname. If you do not wish to rename the file, pass <code>NULL</code> in this field. </p></dd>
<dt><code>ioNewDirID </code></dt>
<dd><p>On input, if the <code>ioNewName</code> field is <code>NULL</code>, the directory ID of the destination directory. If <code>ioNewName</code> is not <code>NULL</code>, the parent directory ID of the destination directory.  </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the source directory. </p></dd></dl>
<p>This function is especially useful when you want to copy or move files located on a remote volume, because it allows you to forgo transmitting large amounts of data across a network. This function is used internally by the Finder; most applications do not need to use it. </p>
<h5 class="tight">Special Considerations</h5>
<p>This is an optional call for AppleShare file servers. Your application should examine the information returned by the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code> function to see if the volume supports <code>PBHCopyFileSync</code>. If the <code>bHasCopyFile</code> bit is set in the <code>vMAttrib</code> field of the <code>GetVolParmsInfoBuffer</code> structure, then the volume supports <code>PBHCopyFileSync</code>.</p>
<p>For AppleShare file servers, the source and destination pathnames must indicate the same file server; however, the parameter block may specify different source and destination volumes on that file server. A useful way to tell if two file server volumes are on the same file server is to call the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code> function for each volume and compare the server addresses returned. The server opens source files with read/deny write enabled and destination files with write/deny read and write enabled.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetDirAccessAsync" title="PBHGetDirAccessAsync"></a><a name="//apple_ref/doc/c_ref/PBHGetDirAccessAsync" title="PBHGetDirAccessAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04796" title="PBHGetDirAccessAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_277"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_277"></a><h3 class="tight">PBHGetDirAccessAsync</h3>
<p class="spaceabove">Returns the access control information for a directory or file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetDirAccessAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/AccessParam">AccessParam</a></code> variant of an HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname for the directory or file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the directory or file. This field can contain a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioACOwnerID </code></dt>
<dd><p>On output, the user ID for the owner of the directory or file. </p></dd>
<dt><code>ioACGroupID </code></dt>
<dd><p>On output, the primary group ID of the directory or file. </p></dd>
<dt><code>ioACAccess </code></dt>
<dd><p>On output, the access rights for the directory or file. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_and_Folder_Access_Privilege_Constants">“File and Folder Access Privilege Constants”</a></span>  for more information on these access rights. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetDirAccessSync" title="PBHGetDirAccessSync"></a><a name="//apple_ref/doc/c_ref/PBHGetDirAccessSync" title="PBHGetDirAccessSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04797" title="PBHGetDirAccessSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_278"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_278"></a><h3 class="tight">PBHGetDirAccessSync</h3>
<p class="spaceabove">Returns the access control information for a directory or file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetDirAccessSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/AccessParam">AccessParam</a></code> variant of an HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname for the directory or file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the directory or file. This field can contain a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioACOwnerID </code></dt>
<dd><p>On output, the user ID for the owner of the directory or file. </p></dd>
<dt><code>ioACGroupID </code></dt>
<dd><p>On output, the primary group ID of the directory or file. </p></dd>
<dt><code>ioACAccess </code></dt>
<dd><p>On output, the access rights for the directory or file. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_and_Folder_Access_Privilege_Constants">“File and Folder Access Privilege Constants”</a></span>  for more information on these access rights.</p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetVolParmsAsync" title="PBHGetVolParmsAsync"></a><a name="//apple_ref/doc/c_ref/PBHGetVolParmsAsync" title="PBHGetVolParmsAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04805" title="PBHGetVolParmsAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_286"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_286"></a><h3 class="tight">PBHGetVolParmsAsync</h3>
<p class="spaceabove">Returns information about the characteristics of a volume.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetVolumeParms">FSGetVolumeParms</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetVolParmsAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p> The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the volume’s name. You can use a either a name or a volume specification to specify the volume. If you use a volume specification to specify the volume, you should set the <code>ioNamePtr</code> field to <code>NULL</code>. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. You can use a either a name or a volume specification to specify the volume. A volume specification can be a volume reference number, drive number, or 0 for the default volume.  </p></dd>
<dt><code>ioBuffer </code></dt>
<dd><p>On input, a pointer to a  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/GetVolParmsInfoBuffer">GetVolParmsInfoBuffer</a></code>  record; you must allocate this memory to hold the returned attributes. On return, the <code>PBHGetVolParmsAsync</code> function places the attributes information in the buffer. Volumes that implement the HFS Plus APIs must use version 3 (or newer) of the <code>GetVolParmsInfoBuffer</code> structure. If the version of the <code>GetVolParmsInfoBuffer</code> is 2 or less, or the <code>bSupportsHFSPlusAPIs</code> bit is clear, then the volume does not implement the HFS Plus APIs and they are being emulated for that volume by the File Manager. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the size, in bytes, of the buffer area pointed to in the <code>ioBuffer</code> field. </p></dd>
<dt><code>ioActCount </code></dt>
<dd><p>On output, the size of the data actually returned. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHGetVolParmsSync" title="PBHGetVolParmsSync"></a><a name="//apple_ref/doc/c_ref/PBHGetVolParmsSync" title="PBHGetVolParmsSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04806" title="PBHGetVolParmsSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_287"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_287"></a><h3 class="tight">PBHGetVolParmsSync</h3>
<p class="spaceabove">Returns information about the characteristics of a volume.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetVolumeParms">FSGetVolumeParms</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHGetVolParmsSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HIOParam">HIOParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p> The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the volume’s name. You can use a either a name or a volume specification to specify the volume. If you use a volume specification to specify the volume, you should set the <code>ioNamePtr</code> field to <code>NULL</code>. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. You can use a either a name or a volume specification to specify the volume. A volume specification can be a volume reference number, drive number, or 0 for the default volume.  </p></dd>
<dt><code>ioBuffer </code></dt>
<dd><p>On input, a pointer to a  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/GetVolParmsInfoBuffer">GetVolParmsInfoBuffer</a></code>  record; you must allocate this memory to hold the returned attributes. On return, the <code>PBHGetVolParmsSync</code> function places the attributes information in the buffer. Volumes that implement the HFS Plus APIs must use version 3 (or newer) of the <code>GetVolParmsInfoBuffer</code> structure. If the version of the <code>GetVolParmsInfoBuffer</code> is 2 or less, or the <code>bSupportsHFSPlusAPIs</code> bit is clear, then the volume does not implement the HFS Plus APIs and they are being emulated for that volume by the File Manager. </p></dd>
<dt><code>ioReqCount </code></dt>
<dd><p>On input, the size, in bytes, of the buffer area pointed to in the <code>ioBuffer</code> field. </p></dd>
<dt><code>ioActCount </code></dt>
<dd><p>On output, the size of the data actually returned. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHMapIDAsync" title="PBHMapIDAsync"></a><a name="//apple_ref/doc/c_ref/PBHMapIDAsync" title="PBHMapIDAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04808" title="PBHMapIDAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_289"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_289"></a><h3 class="tight">PBHMapIDAsync</h3>
<p class="spaceabove">Determines the name of a user or group given the user or group ID.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHMapIDAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ObjParam">ObjParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. </p></dd>
<dt><code>ioObjType </code></dt>
<dd><p>On input, the mapping function code its value is 1 if you’re mapping a user ID to a user name or 2 if you’re mapping a group ID to a group name. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Mapping_Code_Constants">“Mapping Code Constants”</a></span>  for more information about the values you can use in this field. </p></dd>
<dt><code>ioObjNamePtr </code></dt>
<dd><p>On output, a pointer to the user or group name; the maximum size of the name is 31 characters (preceded by a length byte). </p></dd>
<dt><code>ioObjID </code></dt>
<dd><p>On input, the user or group ID to be mapped. AppleShare uses the value 0 to signify  Any User.  </p></dd></dl><h5 class="tight">Special Considerations</h5><p>See the BSD functions <code>getpwnam</code> and <code>getpwuid</code>, which correspond to this function on a conceptual level.</p>
<h5 class="tight">Version Notes</h5>
<p>Because user and group IDs are interchangeable under AFP 2.1 and later volumes, you might not need to specify a value in the <code>ioObjType</code> field.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHMapIDSync" title="PBHMapIDSync"></a><a name="//apple_ref/doc/c_ref/PBHMapIDSync" title="PBHMapIDSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04809" title="PBHMapIDSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_290"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_290"></a><h3 class="tight">PBHMapIDSync</h3>
<p class="spaceabove">Determines the name of a user or group given the user or group ID.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHMapIDSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ObjParam">ObjParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. </p></dd>
<dt><code>ioObjType </code></dt>
<dd><p>On input, the mapping function code its value is 1 if you’re mapping a user ID to a user name or 2 if you’re mapping a group ID to a group name. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Mapping_Code_Constants">“Mapping Code Constants”</a></span>  for more information about the values you can use in this field. </p></dd>
<dt><code>ioObjNamePtr </code></dt>
<dd><p>On output, a pointer to the user or group name; the maximum size of the name is 31 characters (preceded by a length byte). </p></dd>
<dt><code>ioObjID </code></dt>
<dd><p>On input, the user or group ID to be mapped. AppleShare uses the value 0 to signify  Any User.  </p></dd></dl><h5 class="tight">Special Considerations</h5><p>See the BSD functions <code>getpwnam</code> and <code>getpwuid</code>, which correspond to this function on a conceptual level.</p>
<h5 class="tight">Version Notes</h5>
<p>Because user and group IDs are interchangeable under AFP 2.1 and later volumes, you might not need to specify a value in the <code>ioObjType</code> field.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHMapNameAsync" title="PBHMapNameAsync"></a><a name="//apple_ref/doc/c_ref/PBHMapNameAsync" title="PBHMapNameAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04810" title="PBHMapNameAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_291"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_291"></a><h3 class="tight">PBHMapNameAsync</h3>
<p class="spaceabove">Determines the user ID or group ID from a user or group name.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHMapNameAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ObjParam">ObjParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. </p></dd>
<dt><code>ioObjType </code></dt>
<dd><p>On input, the mapping function code its value is 3 if you’re mapping a user name to a user ID or 4 if you’re mapping a group name to a group ID. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Mapping_Code_Constants">“Mapping Code Constants”</a></span>  for more information on the values you can use in this field. </p></dd>
<dt><code>ioObjNamePtr </code></dt>
<dd><p>On input, a pointer to the user or group name. The maximum size of the name is 31 characters. If <code>NULL</code> is passed, the ID returned is always 0.  </p></dd>
<dt><code>ioObjID </code></dt>
<dd><p>On output, the mapped user or group ID. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>See the BSD functions <code>getpwnam</code> and <code>getpwuid</code>, which correspond to this function on a conceptual level.</p>
<h5 class="tight">Version Notes</h5>
<p>Because user and group IDs are interchangeable under AFP 2.1 and later volumes, you might need to set the <code>ioObjType</code> field to determine which database (user or group) to search first. If both a user and a group have the same name, this field determines which kind of ID you receive.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHMapNameSync" title="PBHMapNameSync"></a><a name="//apple_ref/doc/c_ref/PBHMapNameSync" title="PBHMapNameSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04811" title="PBHMapNameSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_292"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_292"></a><h3 class="tight">PBHMapNameSync</h3>
<p class="spaceabove">Determines the user ID or group ID from a user or group name.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function.)</p>
<p class="spaceabove"><pre>
OSErr PBHMapNameSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ObjParam">ObjParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification. </p></dd>
<dt><code>ioObjType </code></dt>
<dd><p>On input, the mapping function code its value is 3 if you’re mapping a user name to a user ID or 4 if you’re mapping a group name to a group ID. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Mapping_Code_Constants">“Mapping Code Constants”</a></span>  for more information on the values you can use in this field. </p></dd>
<dt><code>ioObjNamePtr </code></dt>
<dd><p>On input, a pointer to the user or group name. The maximum size of the name is 31 characters. If <code>NULL</code> is passed, the ID returned is always 0.  </p></dd>
<dt><code>ioObjID </code></dt>
<dd><p>On output, the mapped user or group ID. </p></dd></dl><h5 class="tight">Special Considerations</h5><p>See the BSD functions <code>getpwnam</code> and <code>getpwuid</code>, which correspond to this function on a conceptual level.</p>
<h5 class="tight">Version Notes</h5>
<p>Because user and group IDs are interchangeable under AFP 2.1 and later volumes, you might need to set the <code>ioObjType</code> field to determine which database (user or group) to search first. If both a user and a group have the same name, this field determines which kind of ID you receive.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenDenyAsync" title="PBHOpenDenyAsync"></a><a name="//apple_ref/doc/c_ref/PBHOpenDenyAsync" title="PBHOpenDenyAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04815" title="PBHOpenDenyAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_296"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_296"></a><h3 class="tight">PBHOpenDenyAsync</h3>
<p class="spaceabove">Opens a file’s data fork using the access deny modes.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code> with deny modes in the permissions field.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenDenyAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a basic HFS parameter block.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. The function returns the result code <code>opWrErr</code> if you’ve requested write permission and you have already opened the file for writing in that case, the existing file reference number is returned in <code>ioRefNum</code>. You should not use this reference number unless your application originally opened the file. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname for the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume containing the file. Pass 0 to indicate the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, the file reference number for the file. </p></dd>
<dt><code>ioDenyModes </code></dt>
<dd><p>On input, the type of access you are requesting to the fork. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants”</a></span>  for a description of the types of access that you can request. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. </p></dd></dl>
<p>You should use the <code>PBHOpenDenyAsync</code> and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenyAsync">PBHOpenRFDenyAsync</a></code>  functions (or their synchronous counterparts,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenySync">PBHOpenDenySync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenySync">PBHOpenRFDenySync</a></code> ) if you want to ensure that you get the access permissions and deny-mode permissions that you request. <code>PBHOpenDenyAsync</code> is not retried in any way. If the file cannot be opened because of a deny conflict, the error <code>afpDenyConflict</code> is returned and the <code>ioRefNum</code> field is set to 0. </p>
<p>You can check that the volume supports AFP deny-mode permissions by checking that the <code>bHasOpenDeny</code> bit is set in the <code>vMAttrib</code> field returned by the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function. If you don’t want to special case volumes that support AFP deny mode permissions, you can use the File Manager permissions. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants”</a></span>  for a description of how File Manager permissions are translated to AFP deny-mode permissions.</p>
<p>To open a file’s resource fork with access deny permissions, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenySync">PBHOpenRFDenySync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenyAsync">PBHOpenRFDenyAsync</a></code>  function.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenDenySync" title="PBHOpenDenySync"></a><a name="//apple_ref/doc/c_ref/PBHOpenDenySync" title="PBHOpenDenySync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04816" title="PBHOpenDenySync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_297"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_297"></a><h3 class="tight">PBHOpenDenySync</h3>
<p class="spaceabove">Opens a file’s data fork using the access deny modes.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code> with deny modes in the permissions field.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenDenySync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/AccessParam">AccessParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> The function returns the result code <code>opWrErr</code> if you’ve requested write permission and you have already opened the file for writing in that case, the existing file reference number is returned in <code>ioRefNum</code>. You should not use this reference number unless your application originally opened the file.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname for the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume containing the file. Pass 0 to indicate the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, the file reference number for the file. </p></dd>
<dt><code>ioDenyModes </code></dt>
<dd><p>On input, the type of access you are requesting to the fork. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants”</a></span>  for a description of the types of access that you can request. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. </p></dd></dl>
<p>You should use the <code>PBHOpenDenySync</code> and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenySync">PBHOpenRFDenySync</a></code>  functions (or their asynchronous counterparts,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenyAsync">PBHOpenDenyAsync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenyAsync">PBHOpenRFDenyAsync</a></code> ) if you want to ensure that you get the access permissions and deny-mode permissions that you request. <code>PBHOpenDenySync</code> is not retried in any way. If the file cannot be opened because of a deny conflict, the error <code>afpDenyConflict</code> is returned and the <code>ioRefNum</code> field is set to 0. </p>
<p>You can check that the volume supports AFP deny-mode permissions by checking that the <code>bHasOpenDeny</code> bit is set in the <code>vMAttrib</code> field returned by the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function. If you don’t want to special case volumes that support AFP deny mode permissions, you can use the File Manager permissions. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants”</a></span>  for a description of how File Manager permissions are translated to AFP deny-mode permissions.</p>
<p>To open a file’s resource fork with access deny permissions, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenySync">PBHOpenRFDenySync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenyAsync">PBHOpenRFDenyAsync</a></code>  function.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenRFDenyAsync" title="PBHOpenRFDenyAsync"></a><a name="//apple_ref/doc/c_ref/PBHOpenRFDenyAsync" title="PBHOpenRFDenyAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04820" title="PBHOpenRFDenyAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_301"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_301"></a><h3 class="tight">PBHOpenRFDenyAsync</h3>
<p class="spaceabove">Opens a file’s resource fork using the access deny modes.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkAsync">PBOpenForkAsync</a></code> with deny modes in the permissions field.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenRFDenyAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/AccessParam">AccessParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. The function returns the result code <code>opWrErr</code> if you’ve requested write permission and you have already opened the file for writing in that case, the existing file reference number is returned in <code>ioRefNum</code>. You should not use this reference number unless your application originally opened the file. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname for the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume containing the file. Pass 0 to indicate the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, the file reference number for the file. </p></dd>
<dt><code>ioDenyModes </code></dt>
<dd><p>On input, the type of access you are requesting to the fork. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants”</a></span>  for a description of the types of access that you can request. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. </p></dd></dl>
<p>You should use the <code>PBHOpenRFDenyAsync</code> and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenyAsync">PBHOpenDenyAsync</a></code>  functions (or their synchronous counterparts,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenySync">PBHOpenRFDenySync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenySync">PBHOpenDenySync</a></code> ) if you want to ensure that you get the access permissions and deny-mode permissions that you request. <code>PBHOpenRFDenyAsync</code> is not retried in any way. If the file cannot be opened because of a deny conflict, the error <code>afpDenyConflict</code> is returned and the <code>ioRefNum</code> field is set to 0. </p>
<p>You can check that the volume supports AFP deny-mode permissions by checking that the <code>bHasOpenDeny</code> bit is set in the <code>vMAttrib</code> field returned by the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function. If you don’t want to special case volumes that support AFP deny mode permissions, you can use the File Manager permissions. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants”</a></span>  for a description of how File Manager permissions are translated to AFP deny-mode permissions.</p>
<p>To open a file’s data fork with access deny permissions, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenySync">PBHOpenDenySync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenyAsync">PBHOpenDenyAsync</a></code>  function.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHOpenRFDenySync" title="PBHOpenRFDenySync"></a><a name="//apple_ref/doc/c_ref/PBHOpenRFDenySync" title="PBHOpenRFDenySync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04821" title="PBHOpenRFDenySync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_302"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_302"></a><h3 class="tight">PBHOpenRFDenySync</h3>
<p class="spaceabove">Opens a file’s resource fork using the access deny modes.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBOpenForkSync">PBOpenForkSync</a></code> with deny modes in the permissions field.)</p>
<p class="spaceabove"><pre>
OSErr PBHOpenRFDenySync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/AccessParam">AccessParam</a></code> variant of the basic HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> The function returns the result code <code>opWrErr</code> if you’ve requested write permission and you have already opened the file for writing in that case, the existing file reference number is returned in <code>ioRefNum</code>. You should not use this reference number unless your application originally opened the file.</p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname for the file. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume reference number or drive number for the volume containing the file. Pass 0 to indicate the default volume. </p></dd>
<dt><code>ioRefNum </code></dt>
<dd><p>On output, the file reference number for the file. </p></dd>
<dt><code>ioDenyModes </code></dt>
<dd><p>On input, the type of access you are requesting to the fork. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants”</a></span>  for a description of the types of access that you can request. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the parent directory ID of the file. </p></dd></dl>
<p>You should use the <code>PBHOpenRFDenySync</code> and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenySync">PBHOpenDenySync</a></code>  functions (or their asynchronous counterparts,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenRFDenyAsync">PBHOpenRFDenyAsync</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenyAsync">PBHOpenDenyAsync</a></code> ) if you want to ensure that you get the access permissions and deny-mode permissions that you request. <code>PBHOpenRFDenySync</code> is not retried in any way. If the file cannot be opened because of a deny conflict, the error <code>afpDenyConflict</code> is returned and the <code>ioRefNum</code> field is set to 0. </p>
<p>You can check that the volume supports AFP deny-mode permissions by checking that the <code>bHasOpenDeny</code> bit is set in the <code>vMAttrib</code> field returned by the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsSync">PBHGetVolParmsSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHGetVolParmsAsync">PBHGetVolParmsAsync</a></code>  function. If you don’t want to special case volumes that support AFP deny mode permissions, you can use the File Manager permissions. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_Access_Permission_Constants">“File Access Permission Constants”</a></span>  for a description of how File Manager permissions are translated to AFP deny-mode permissions.</p>
<p>To open a file’s data fork with access deny permissions, use the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenySync">PBHOpenDenySync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBHOpenDenyAsync">PBHOpenDenyAsync</a></code>  function.  </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHSetDirAccessAsync" title="PBHSetDirAccessAsync"></a><a name="//apple_ref/doc/c_ref/PBHSetDirAccessAsync" title="PBHSetDirAccessAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04828" title="PBHSetDirAccessAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_309"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_309"></a><h3 class="tight">PBHSetDirAccessAsync</h3>
<p class="spaceabove">Changes the access control information for a directory.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHSetDirAccessAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an <code><a href="../Reference/reference.html#//apple_ref/c/tdef/AccessParam">AccessParam</a></code> variant of an HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion function. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the directory. This field can contain a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioACOwnerID </code></dt>
<dd><p>On input, the owner ID. </p></dd>
<dt><code>ioACGroupID </code></dt>
<dd><p>On input, the group ID. </p></dd>
<dt><code>ioACAccess </code></dt>
<dd><p>On input, the directory’s access rights. You cannot set the owner or user rights bits of the <code>ioACAccess</code> field directly; if you try to do this, <code>PBHSetDirAccessAsync</code> returns the result code <code>paramErr</code>. Only the blank access privileges can be set for a directory using this function. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_and_Folder_Access_Privilege_Constants">“File and Folder Access Privilege Constants”</a></span>  for more information on directory access privileges.  </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID. </p></dd></dl>
<p>To change the owner or group, you should set the <code>ioACOwnerID</code> or <code>ioACGroupID</code> field to the appropriate ID. You must be the owner of the directory to change the owner or group ID. A guest on a server can manipulate the privileges of any directory owned by the guest. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBHSetDirAccessSync" title="PBHSetDirAccessSync"></a><a name="//apple_ref/doc/c_ref/PBHSetDirAccessSync" title="PBHSetDirAccessSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04829" title="PBHSetDirAccessSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_310"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_310"></a><h3 class="tight">PBHSetDirAccessSync</h3>
<p class="spaceabove">Changes the access control information for a directory.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSSetCatalogInfo">FSSetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBHSetDirAccessSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an <code><a href="../Reference/reference.html#//apple_ref/c/tdef/AccessParam">AccessParam</a></code> variant of an HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the directory. This field can contain a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioACOwnerID </code></dt>
<dd><p>On input, the owner ID. </p></dd>
<dt><code>ioACGroupID </code></dt>
<dd><p>On input, the group ID. </p></dd>
<dt><code>ioACAccess </code></dt>
<dd><p>On input, the directory’s access rights. You cannot set the owner or user rights bits of the <code>ioACAccess</code> field directly; if you try to do this, <code>PBHSetDirAccessSync</code> returns the result code <code>paramErr</code>. Only the blank access privileges can be set for a directory using this function. See  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/File_and_Folder_Access_Privilege_Constants">“File and Folder Access Privilege Constants”</a></span>  for more information on directory access privileges.  </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID. </p></dd></dl>
<p>To change the owner or group, you should set the <code>ioACOwnerID</code> or <code>ioACGroupID</code> field to the appropriate ID. You must be the owner of the directory to change the owner or group ID. A guest on a server can manipulate the privileges of any directory owned by the guest. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBMakeFSRefAsync" title="PBMakeFSRefAsync"></a><a name="//apple_ref/doc/c_ref/PBMakeFSRefAsync" title="PBMakeFSRefAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F13633" title="PBMakeFSRefAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_321"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_321"></a><h3 class="tight">PBMakeFSRefAsync</h3>
<p class="spaceabove">Creates an <code>FSRef</code> for a file or directory, given an <code>FSSpec</code>.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMakeFSRefUnicodeAsync">PBMakeFSRefUnicodeAsync</a></code> instead.)</p>
<p class="spaceabove"><pre>
void PBMakeFSRefAsync (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSRefParam">FSRefParam</a> *paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a file system reference parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSRefParam">FSRefParam</a></code> for a description of the <code>FSRefParam</code> data type.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>For the parameter block based calls, the fields of the source <code>FSSpec</code> are passed as separate parameters (in the <code>ioNamePtr</code>, <code>ioVRefNum</code>, and <code>ioDirID</code> fields).  This allows the call to be dispatched to external file systems the same way as other <code>FSp</code> calls are. </p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p> On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p> On output, the result code of the function. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory for which you wish to create an <code>FSRef</code>. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the file or directory. This can be a volume reference number, a drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the file or directory’s parent directory. </p></dd>
<dt><code>newRef </code></dt>
<dd><p>On input, a pointer to an <code>FSRef</code> structure.  On output, this <code>FSRef </code>   refers to the specified file or directory.   </p></dd></dl>
<p>To obtain an <code>FSSpec</code> from an <code>FSRef</code>, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoAsync">PBGetCatalogInfoAsync</a></code>  call. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBMakeFSRefSync" title="PBMakeFSRefSync"></a><a name="//apple_ref/doc/c_ref/PBMakeFSRefSync" title="PBMakeFSRefSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F13634" title="PBMakeFSRefSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_322"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_322"></a><h3 class="tight">PBMakeFSRefSync</h3>
<p class="spaceabove">Creates an <code>FSRef</code> for a file or directory, given an <code>FSSpec</code>.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBMakeFSRefUnicodeSync">PBMakeFSRefUnicodeSync</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBMakeFSRefSync (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/FSRefParam">FSRefParam</a> *paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to a file system reference parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FSRefParam">FSRefParam</a></code> for a description of the <code>FSRefParam</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>For the parameter block based calls, the fields of the source <code>FSSpec</code> are passed as separate parameters (in the <code>ioNamePtr</code>, <code>ioVRefNum</code>, and <code>ioDirID</code> fields).  This allows the call to be dispatched to external file systems the same way as other <code>FSp</code> calls are. </p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to the name of the file or directory for which you wish to create an <code>FSRef</code>. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the file or directory. This can be a volume reference number, a drive number, or 0 for the default volume. </p></dd>
<dt><code>ioDirID </code></dt>
<dd><p>On input, the directory ID of the file or directory’s parent directory. </p></dd>
<dt><code>newRef </code></dt>
<dd><p>On input, a pointer to an <code>FSRef</code> structure.  On output, this <code>FSRef </code>   refers to the specified file or directory.   </p></dd></dl>
<p>To obtain an <code>FSSpec</code> from an <code>FSRef</code>, use the  <code><a href="../Reference/reference.html#//apple_ref/c/func/PBGetCatalogInfoSync">PBGetCatalogInfoSync</a></code>  function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBReadAsync" title="PBReadAsync"></a><a name="//apple_ref/doc/c_ref/PBReadAsync" title="PBReadAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04857" title="PBReadAsync"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_333"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_333"></a><h3 class="tight">PBReadAsync</h3><p class="spaceabove">Reads any number of bytes from an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBReadForkAsync">PBReadForkAsync</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr PBReadAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>paramBlock</em></dt><dd><p>A pointer to a basic File Manager parameter block. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The relevant fields of the parameter block are:</p><dl class="termdef">	<dt><code>ioCompletion</code></dt><dd><p>On input, a pointer to a completion routine.</p></dd><dt><code>ioResult</code></dt><dd><p>On output, the result code of the function.</p></dd><dt><code>ioRefNum</code></dt><dd><p>On input, a file reference number for an open file to be read.</p></dd><dt><code>ioBuffer</code></dt><dd><p>On input, a pointer to a data buffer into which the bytes are read.</p></dd><dt><code>ioReqCount</code></dt><dd><p>On input, the number of bytes requested. The value that you pass in this field should be greater than zero.</p></dd><dt><code>ioActCount</code></dt><dd><p>On output, the number of bytes actually read.</p></dd><dt><code>ioPosMode</code></dt><dd><p>On input, the positioning mode.</p></dd><dt><code>ioPosOffset</code></dt><dd><p>On input, the positioning offset. On output, the new position of the mark.</p></dd></dl><p>This function attempts to read <code>ioReqCount</code> bytes from the open file whose access path is specified in the <code>ioRefNum</code> field and transfer them to the data buffer pointed to by the <code>ioBuffer</code> field. The position of the mark is specified by <code>ioPosMode</code> and <code>ioPosOffset</code>. If your application tries to read past the logical end-of-file, <code>PBReadAsync</code> reads the data, moves the mark to the end-of-file, and returns <code>eofErr</code> as its function result. Otherwise, <code>PBReadAsync</code> moves the file mark to the byte following the last byte read and returns <code>noErr</code>.</p><p>You can specify that <code>PBReadAsync</code> read the file data 1 byte at a time until the requested number of bytes have been read or until the end-of-file is reached. To do so, set bit 7 of the <code>ioPosMode</code> field.
Similarly, you can specify that <code>PBReadAsync</code> should stop reading data when it reaches an application-defined newline character. To do so, place the ASCII code of that character into the high-order byte of the <code>ioPosMode</code> field; you must also set bit 7 of that field to enable newline mode.</p><p>When reading data in newline mode, <code>PBReadAsync</code> returns the newline character as part of the data read and sets <code>ioActCount</code> to the actual number of bytes placed into the buffer (which includes the newline character). </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBReadSync" title="PBReadSync"></a><a name="//apple_ref/doc/c_ref/PBReadSync" title="PBReadSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04859" title="PBReadSync"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_336"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_336"></a><h3 class="tight">PBReadSync</h3><p class="spaceabove">Reads any number of bytes from an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBReadForkSync">PBReadForkSync</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr PBReadSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>paramBlock</em></dt><dd><p>A pointer to a basic File Manager parameter block. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The relevant fields of the parameter block are:</p><dl class="termdef">	<dt><code>ioRefNum</code></dt><dd><p>On input, a file reference number for an open file to be read.</p></dd><dt><code>ioBuffer</code></dt><dd><p>On input, a pointer to a data buffer into which the bytes are read.</p></dd><dt><code>ioReqCount</code></dt><dd><p>On input, the number of bytes requested. The value that you pass in this field should be greater than zero.</p></dd><dt><code>ioActCount</code></dt><dd><p>On output, the number of bytes actually read.</p></dd><dt><code>ioPosMode</code></dt><dd><p>On input, the positioning mode.</p></dd><dt><code>ioPosOffset</code></dt><dd><p>On input, the positioning offset. On output, the new position of the mark.</p></dd></dl><p>This function attempts to read <code>ioReqCount</code> bytes from the open file whose access path is specified in the <code>ioRefNum</code> field and transfer them to the data buffer pointed to by the <code>ioBuffer</code> field. The position of the mark is specified by <code>ioPosMode</code> and <code>ioPosOffset</code>. If your application tries to read past the logical end-of-file, <code>PBReadSync</code> reads the data, moves the mark to the end-of-file, and returns <code>eofErr</code> as its function result. Otherwise, <code>PBReadSync</code> moves the file mark to the byte following the last byte read and returns <code>noErr</code>.</p><p>You can specify that <code>PBReadSync</code> read the file data 1 byte at a time until the requested number of bytes have been read or until the end-of-file is reached. To do so, set bit 7 of the <code>ioPosMode</code> field.
Similarly, you can specify that <code>PBReadSync</code> should stop reading data when it reaches an application-defined newline character. To do so, place the ASCII code of that character into the high-order byte of the <code>ioPosMode</code> field; you must also set bit 7 of that field to enable newline mode.</p><p>When reading data in newline mode, <code>PBReadSync</code> returns the newline character as part of the data read and sets <code>ioActCount</code> to the actual number of bytes placed into the buffer (which includes the newline character). </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBResolveFileIDRefAsync" title="PBResolveFileIDRefAsync"></a><a name="//apple_ref/doc/c_ref/PBResolveFileIDRefAsync" title="PBResolveFileIDRefAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04862" title="PBResolveFileIDRefAsync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_339"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_339"></a><h3 class="tight">PBResolveFileIDRefAsync</h3>
<p class="spaceabove">Retrieves the filename and parent directory ID of a file given its file ID.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBResolveFileIDRefAsync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FIDParam">FIDParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for more information on the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Most applications do not need to use this function. In general, you should track files using alias records, as described in the Alias Manager documentation. The Alias Manager uses file IDS internally as part of its search algorithms for finding the target of an alias record. </p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioCompletion </code></dt>
<dd><p>On input, a pointer to a completion routine. For more information on completion routines, see  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOCompletionProcPtr">IOCompletionProcPtr</a></code>. </p></dd>
<dt><code>ioResult </code></dt>
<dd><p>On output, the result code of the function. A return code of <code>fidNotFound</code> means that the specified file ID reference has become invalid, either because the file was deleted or because the file ID reference was destroyed by  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDeleteFileIDRefSync">PBDeleteFileIDRefSync</a></code>  or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDeleteFileIDRefAsync">PBDeleteFileIDRefAsync</a></code>. </p></dd>
<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. If the name string is <code>NULL</code>, <code>PBResolveFileIDRefAsync</code> doe s not return the filename, but returns only the parent directory ID of the file in the <code>ioSrcDirID</code> field. If the name string is not <code>NULL</code> but is only a volume name, <code>PBResolveFileIDRefAsync</code> ignores the value in the <code>ioVRefNum</code> field and uses the volume name instead. On output, a pointer to the filename for the file with the given file ID. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the file. This field can contain a volume reference number, a drive number, or 0 for the default volume. </p></dd>
<dt><code>ioSrcDirID </code></dt>
<dd><p>On output, the file’s parent directory ID. </p></dd>
<dt><code>ioFileID </code></dt>
<dd><p>On input, a file ID for the file to retrieve information about. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBResolveFileIDRefSync" title="PBResolveFileIDRefSync"></a><a name="//apple_ref/doc/c_ref/PBResolveFileIDRefSync" title="PBResolveFileIDRefSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04863" title="PBResolveFileIDRefSync"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_340"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_340"></a><h3 class="tight">PBResolveFileIDRefSync</h3>
<p class="spaceabove">Retrieves the filename and parent directory ID of a file given its file ID.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSGetCatalogInfo">FSGetCatalogInfo</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBResolveFileIDRefSync (
   <!--a-->HParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to an <code><a href="../Reference/reference.html#//apple_ref/c/tdef/FIDParam">FIDParam</a></code> variant of the HFS parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for more information on the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span> A return code of <code>fidNotFound</code> means that the specified file ID reference has become invalid, either because the file was deleted or because the file ID reference was destroyed by <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDeleteFileIDRefSync">PBDeleteFileIDRefSync</a></code> or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBDeleteFileIDRefAsync">PBDeleteFileIDRefAsync</a></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Most applications do not need to use this function. In general, you should track files using alias records, as described in the Alias Manager documentation. The Alias Manager uses file IDs internally as part of its search algorithms for finding the target of an alias record.</p>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioNamePtr </code></dt>
<dd><p>On input, a pointer to a pathname. If the name string is <code>NULL</code>, <code>PBResolveFileIDRefSync</code> doe s not return the filename, but returns only the parent directory ID of the file in the <code>ioSrcDirID</code> field. If the name string is not <code>NULL</code> but is only a volume name, <code>PBResolveFileIDRefSync</code> ignores the value in the <code>ioVRefNum</code> field and uses the volume name instead. On output, a pointer to the filename of the file with the given file ID. </p></dd>
<dt><code>ioVRefNum </code></dt>
<dd><p>On input, a volume specification for the volume containing the file. This field can contain a volume reference number, drive number, or 0 for the default volume. </p></dd>
<dt><code>ioSrcDirID </code></dt>
<dd><p>On output, the file’s parent directory ID. </p></dd>
<dt><code>ioFileID </code></dt>
<dd><p>On input, a file ID for the file to retrieve information about. </p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBVolumeMount" title="PBVolumeMount"></a><a name="//apple_ref/doc/c_ref/PBVolumeMount" title="PBVolumeMount"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04897" title="PBVolumeMount"></a>
<a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_366"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_366"></a><h3 class="tight">PBVolumeMount</h3>
<p class="spaceabove">Mounts a volume.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/FSVolumeMount">FSVolumeMount</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr PBVolumeMount (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paramBlock</em></dt>
<dd><p>A pointer to the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/IOParam">IOParam</a></code> variant of the basic File Manager parameter block. See <code><a href="../Reference/reference.html#//apple_ref/c/tdef/HParamBlockRec">HParamBlockRec</a></code> for a description of the <code>HParamBlockRec</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The relevant fields of the parameter block are:</p>
<dl class="termdef">	<dt><code>ioVRefNum </code></dt>
<dd><p>On output, a volume reference number for the mounted volume. </p></dd>
<dt><code>ioBuffer </code></dt>
<dd><p>On input, a pointer to mounting information. You can use the volume mounting information returned by the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/PBGetVolMountInfo">PBGetVolMountInfo</a></code>  function or you can use a volume mounting information structure filled in by your application. If you’re mounting an AppleShare volume, place the volume’s AFP mounting information structure in the buffer pointed to by the <code>ioBuffer</code> field. </p></dd></dl>
<p>This function allows your application to record the mounting information for a volume and then to mount the volume later. </p>
<p>The <code>PBGetVolMountInfo</code> function does not return the user and volume passwords they’re returned blank. Typically, your application asks the user for any necessary passwords and fills in those fields just before calling <code>PBVolumeMount</code>. If you want to mount a volume with guest status, pass an empty string as the user password.</p>
<p>If you have enough information about the volume, you can fill in the mounting structure yourself and call <code>PBVolumeMount</code>, even if you did not save the mounting information while the volume was mounted. To mount an AFP volume, you must fill in the structure with at least the zone name, server name, user name, user password, and volume password. You can lay out the fields in any order within the data field, as long as you specify the correct offsets.</p>
<p>In general, it is easier to mount remote volumes by creating and then resolving alias records that describe those volumes. The Alias Manager displays the standard user interface for user authentication when resolving alias records for remote volumes. As a result, this function is primarily of interest for applications that need to mount remote volumes with no user interface or with some custom user interface. </p>
<h5 class="tight">Special Considerations</h5>
<p>AFP volumes currently ignore the user authentication method passed in the <code>uamType</code> field of the volume mounting information structure whose address is passed in the <code>ioBuffer</code> field of the parameter block. The most secure available method is used by default, except when a user mounts the volume as Guest and uses the <code>kNoUserAuthentication</code> authentication method.</p>
<p>This function executes synchronously. You should not call it at interrupt time.</p>
<h5 class="tight">Version Notes</h5>
<p>The File Sharing workstation software introduced in system software version 7.0 does not currently pass the volume password. The AppleShare 3.0 workstation software does, however, pass the volume password.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBWaitIOComplete" title="PBWaitIOComplete"></a><a name="//apple_ref/doc/c_ref/PBWaitIOComplete" title="PBWaitIOComplete"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F15540" title="PBWaitIOComplete"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_367"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_367"></a><h3 class="tight">PBWaitIOComplete</h3><p class="spaceabove">Keeps the system idle until either an interrupt occurs or the specified timeout value is reached. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function.)</p><p class="spaceabove"><pre>
OSErr PBWaitIOComplete (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock,
   <!--a-->Duration<!--/a--> timeout
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>paramBlock</em></dt><dd><p>A pointer to a basic File Manager parameter block.</p></dd><dt><em>timeout</em></dt><dd><p>The maximum length of time you want the system to be kept idle.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. If the timeout value is reached, returns <code>kMPTimeoutErr</code>.</p><h5 class="tight">Special Considerations</h5><p>This function is not implemented in Mac OS X.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBWriteAsync" title="PBWriteAsync"></a><a name="//apple_ref/doc/c_ref/PBWriteAsync" title="PBWriteAsync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04898" title="PBWriteAsync"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_368"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_368"></a><h3 class="tight">PBWriteAsync</h3><p class="spaceabove">Writes any number of bytes to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBWriteForkAsync">PBWriteForkAsync</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr PBWriteAsync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>paramBlock</em></dt><dd><p>A pointer to a basic File Manager parameter block. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The relevant fields of the parameter block are:</p><dl class="termdef">	<dt><code>ioCompletion</code></dt><dd><p>On input, a pointer to a completion routine.</p></dd><dt><code>ioResult</code></dt><dd><p>On output, the result code of the function.</p></dd><dt><code>ioRefNum</code></dt><dd><p>On input, a file reference number for the open file to which to write.</p></dd><dt><code>ioBuffer</code></dt><dd><p>On input, a pointer to a data buffer containing the bytes to write.</p></dd><dt><code>ioReqCount</code></dt><dd><p>On input, the number of bytes requested.</p></dd><dt><code>ioActCount</code></dt><dd><p>On output, the number of bytes actually written.</p></dd><dt><code>ioPosMode</code></dt><dd><p>On input, the positioning mode.</p></dd><dt><code>ioPosOffset</code></dt><dd><p>On input, the positioning offset. On output, the new position of the mark.</p></dd></dl><p>The <code>PBWriteAsync</code> function takes <code>ioReqCount</code> bytes from the buffer pointed to by <code>ioBuffer</code> and attempts to write them to the open file whose access path is specified by <code>ioRefNum</code>. The position of the mark is specified by <code>ioPosMode</code> and <code>ioPosOffset</code>.
If the write operation completes successfully, <code>PBWriteAsync</code> moves the file mark to the byte following the last byte written and returns <code>noErr</code>. If you try to write past the logical end-of-file, <code>PBWriteAsync</code> moves the logical end-of-file. If you try to write past the physical end-of-file, <code>PBWriteAsync</code> adds one or more clumps to the file and moves the physical end-of-file accordingly. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code><a name="//apple_ref/c/func/PBWriteSync" title="PBWriteSync"></a><a name="//apple_ref/doc/c_ref/PBWriteSync" title="PBWriteSync"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-F04900" title="PBWriteSync"></a><a name="//apple_ref/doc/uid/TP30000107-AppendixA-DontLinkElementID_371"></a><a name="//apple_ref/doc/uid/TP30000107-CH1g-DontLinkElementID_371"></a><h3 class="tight">PBWriteSync</h3><p class="spaceabove">Writes any number of bytes to an open file.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/PBWriteForkSync">PBWriteForkSync</a></code> instead.)</p><p class="spaceabove"><pre>
OSErr PBWriteSync (
   <!--a-->ParmBlkPtr<!--/a--> paramBlock
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>paramBlock</em></dt><dd><p>A pointer to a basic File Manager parameter block. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000107-CH5g-RCM0037">“File Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The relevant fields of the parameter block are:</p><dl class="termdef">	<dt><code>ioRefNum</code></dt><dd><p>On input, a file reference number for the open file to which to write.</p></dd><dt><code>ioBuffer</code></dt><dd><p>On input, a pointer to a data buffer containing the bytes to write.</p></dd><dt><code>ioReqCount</code></dt><dd><p>On input, the number of bytes requested.</p></dd><dt><code>ioActCount</code></dt><dd><p>On output, the number of bytes actually written.</p></dd><dt><code>ioPosMode</code></dt><dd><p>On input, the positioning mode.</p></dd><dt><code>ioPosOffset</code></dt><dd><p>On input, the positioning offset. On output, the new position of the mark.</p></dd></dl><p>The <code>PBWriteSync</code> function takes <code>ioReqCount</code> bytes from the buffer pointed to by <code>ioBuffer</code> and attempts to write them to the open file whose access path is specified by <code>ioRefNum</code>. The position of the mark is specified by <code>ioPosMode</code> and <code>ioPosOffset</code>.
If the write operation completes successfully, <code>PBWriteSync</code> moves the file mark to the byte following the last byte written and returns <code>noErr</code>. If you try to write past the logical end-of-file, <code>PBWriteSync</code> moves the logical end-of-file. If you try to write past the physical end-of-file, <code>PBWriteSync</code> adds one or more clumps to the file and moves the physical end-of-file accordingly. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Files.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../revision_history/revision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-13<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/File_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000107-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/File_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000107-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/File_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000107-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>