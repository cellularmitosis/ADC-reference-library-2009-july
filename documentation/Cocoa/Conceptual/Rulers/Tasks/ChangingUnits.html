<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Rulers and Paragraph Styles: Changing a Ruler&acirc;&#128;&#153;s Measurement Units</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Changing a Ruler&acirc;&#128;&#153;s Measurement Units"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000875" title="Changing a Ruler&acirc;&#128;&#153;s Measurement Units"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../TextFonts-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">Rulers and Paragraph Styles</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="SettingUpRulerView.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="ChangingRulerViewClient.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20000875-BBCGJCDJ" title="Changing a Ruler&acirc;&#128;&#153;s Measurement Units"></a><hr /><H1>Changing a Ruler’s Measurement Units</H1><p><a name="//apple_ref/doc/uid/20000875-DontLinkElementID_67"></a>A new ruler view automatically uses the user’s preferred <a name="//apple_ref/doc/uid/20000875-DontLinkElementID_68"></a>measurement units for drawing hash marks and labels, as stored in the user defaults system<a name="//apple_ref/doc/uid/20000875-DontLinkElementID_69"></a> under the key <code><!--a  -->NSMeasurementUni<!--/a--></code>t. If your application allows the user to change his preferred measurement units, you can change them at runtime using <code>setMeasurementUnits:<a name="//apple_ref/doc/uid/20000875-DontLinkElementID_70"></a></code>, which takes the name of the units to use, such as <code>Inches</code> or <code>Centimeters</code>, and causes the ruler view to use that unit definition in spacing its hash marks and labels.</p><p>NSRulerView supports the units <code>Inches</code>, <code>Centimeters</code>, <code>Points</code>, and <code>Picas</code> by default. If your application uses other measurement units, your application should define and register them before creating any ruler views. To register a unit, use the class method <code>registerUnitWithName:abbreviation:unitToPointsConversionsFactor:stepUpCycle:stepDownCycle:<a name="//apple_ref/doc/uid/20000875-DontLinkElementID_71"></a></code>. Your application can register these wherever it’s most convenient, such as in the NSApplication<a name="//apple_ref/doc/uid/20000875-DontLinkElementID_72"></a> delegate method <code>applicationDidFinishLaunching:<a name="//apple_ref/doc/uid/20000875-DontLinkElementID_73"></a></code>. </p><p>This Objective-C code fragment registers a new unit called <code>Grummets</code>, with the abbreviation <code>gt</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>NSArray *upArray;<span></span></pre></td></tr><tr><td scope="row"><pre>NSArray *downArray;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>upArray = [NSArray arrayWithObjects:[NSNumber numberWithFloat:2.0], nil];<span></span></pre></td></tr><tr><td scope="row"><pre>downArray = [NSArray arrayWithObjects:[NSNumber numberWithFloat:0.5],<span></span></pre></td></tr><tr><td scope="row"><pre>    [NSNumber numberWithFloat:0.2], nil];<span></span></pre></td></tr><tr><td scope="row"><pre>[NSRulerView registerUnitWithName:@"Grummets"<span></span></pre></td></tr><tr><td scope="row"><pre>    abbreviation:NSLocalizedString(@"gt", @"Grummets abbreviation string")<span></span></pre></td></tr><tr><td scope="row"><pre>    unitToPointsConversionFactor:100.0<span></span></pre></td></tr><tr><td scope="row"><pre>    stepUpCycle:upArray stepDownCycle:downArray];<span></span></pre></td></tr></table></div><p>This Java code fragment does the same thing:</p><div class="codesample"><table><tr><td scope="row"><pre>NSArray upArray;<span></span></pre></td></tr><tr><td scope="row"><pre>NSArray downArray;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>upArray = new NSArray (2.0, nil);<span></span></pre></td></tr><tr><td scope="row"><pre>downArray = new NSArray (0.5, 0.2, nil);<span></span></pre></td></tr><tr><td scope="row"><pre>[NSRulerView.registerUnit ("Grummets", "gt", 100.0, upArray, downArray]);<span></span></pre></td></tr></table></div><p>A <code>Grummet</code> is 100.0 PostScript units (points) in length, so a ruler view using it draws a major hash mark every 100.0 points when its document view is unscaled. If the document view is scaled, the ruler view spaces its hash marks<a name="//apple_ref/doc/uid/20000875-DontLinkElementID_74"></a><a name="//apple_ref/doc/uid/20000875-DontLinkElementID_75"></a><a name="//apple_ref/doc/uid/20000875-DontLinkElementID_76"></a> accordingly.</p><p>The arguments <code>stepUpCycle</code> and <code>stepDownCycle</code> control how hash marks are drawn for fractions and multiples of units. NSRulerView attempts to place hash marks so that they’re neither too crowded nor too sparse based on the current scale of the document view. It does so by drawing smaller hash marks for fractions of units where possible and by removing hash marks for whole units where necessary.</p><p>The value of <code>stepDownCycle</code> determines the fractional units checked by the ruler view. For example, with the unit <code>Grummets</code> defined above, the step down cycle is 0.5, then 0.2. With this cycle, the ruler view first checks to see if there’s room for marks every half <code>Grummet</code>, placing them if there is. Then, it checks every fifth of the remaining space, or a tenth of a full <code>Grummet</code>, placing further hash marks if there’s room. Then it returns to the first step in the cycle to further subdivide the ruler, and so on.</p><p>The value of <code>stepUpCycle</code> determines how many full unit marks get dropped when there isn’t room for each one. The example uses a single-step cycle of 2.0, which means that each second <code>Grummet</code> hash mark is displayed if there isn’t room for every one, then every fourth if there still isn’t room, and so on.<a name="//apple_ref/doc/uid/20000875-DontLinkElementID_77"></a><a name="//apple_ref/doc/uid/20000875-DontLinkElementID_78"></a></p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="SettingUpRulerView.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="ChangingRulerViewClient.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1997, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-09-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/Rulers/Tasks/ChangingUnits.html%3Fid%3D10000089i-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/Rulers/Tasks/ChangingUnits.html%3Fid%3D10000089i-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/Rulers/Tasks/ChangingUnits.html%3Fid%3D10000089i-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
