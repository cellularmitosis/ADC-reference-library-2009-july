<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>AppleScript Studio 1.4 Release Notes</title>
	<meta name="Generator" content="Gutenberg"/>
	<meta name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta name = "Copyright" content="Copyright 2009 AppleInc. All Rights Reserved."/>
	<meta name="IndexTitle" content="AppleScript Studio 1.4 Release Notes"/>
	<meta name="xcode-display" content="render"/>
	<meta id="RESOURCES" content="../../../documentation/Resources" />
	<link rel="stylesheet" type="text/css" href="../../../documentation/Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/pedia.js"></script>
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004606" title="AppleScript Studio 1.4 Release Notes"></a>
        <a name="top"></a>
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000872" target="_top">Release Notes</a> &gt; <a href="../index.html#//apple_ref/doc/uid/TP30000872-TP40005948" target="_top">Scripting &amp; Automation</a> &gt; <a href="../idxTools-date.html#//apple_ref/doc/uid/TP30000872-TP40005948-TP30000463">Tools</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
                
        
        <a name="//apple_ref/doc/uid/TP40004606-DontLinkElementID_1" title="AppleScript Studio 1.4 Release Notes"></a><h1>AppleScript Studio 1.4 Release Notes</h1><p>This release note provides late-breaking information about enhancements to AppleScript Studio 1.4 (available in Tiger), as well as a list of the more prominent bug fixes.</p><p>See notes on "Release when closed” below for information on a bug fix that became available in Mac OS X version 10.4.7.</p>
<!-- This template is being used for both PDF and HTML. -->
<!-- TopicBook.pm currently relies on the element name bmini_toc. -->

    <h4>Contents:</h4>
    
    <p class="blockquote">

        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004606-SW1" target="_top">New Features</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004606-SW2" target="_top">Bug Fixes</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004606-SW3" target="_top">Documentation Bug Notes</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40004606-SW4" target="_top">Notes</a>
                
            <br/>
            
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40004606-SW1" title="New Features"></a><h2>New Features</h2><ul class="ul"><li class="li"><p>Data View Improvements</p><ul class="nested"><li class="nested li"><p>The content property now supports both setting and getting data for table and outline views. The format of the data is very flexible. You can set the content as a list of strings, a list of lists, or a list of records. The<code> table view</code>, <code>outline view</code>,<code> data source</code>,<code> data row</code>, <code>data item</code>, and <code>data cell</code> classes all have a content property.</p><p>Here are some examples of setting the content of a table view:</p><div class="codesample"><table><tr><td scope="row"><pre>set tableView to table view 1 of scroll view 1 of window 1<span></span></pre></td></tr><tr><td scope="row"><pre>set content of tableView to {"One", "Two", "Three"} -- This will create three data rows in the first column.<span></span></pre></td></tr><tr><td scope="row"><pre>set content of tableView to {{"Red", "Green", "Blue"}, {"Black", "White", "Gray"}} -- This will create two data rows (given a table view with three columns), using columns based on index. This would produce a table view with two rows and three columns.<span></span></pre></td></tr><tr><td scope="row"><pre>set content of tableView to {{|name|: "John Smith", |phone|:"222-555-3456"}, {|name|: "Paul Jones", |phone|:"123-456-7890"}} -- This will create two data rows, and it will use the columns with the specified names, compared to columns based on index.
<span></span></pre></td></tr></table></div><p>Notice that it isn't necessary to create the data source, data columns or data rows. If the table view doesn't have the necessary data items, it will create them automatically. In this example, a data source, two data columns (named "name" and "phone"), and two data rows are created automatically.</p><p>The following is an example of setting the content of an outline view that contains two data columns: <code>task</code> and <code>completed</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>set content of outlineView to {{completed:false, task:"Things to do", |items|:{{completed:true, task:"Work on outline example", |items|:{{completed:true, task:"Make it plain and simple"}, {completed:true, task:"Put it all in an \"on launched'\" event handler"}}}, {completed:true, task:"Put it in my iDisk when done"}}}} <span></span></pre></td></tr></table></div><p>To designate child items you add an |items| entry in the record that contains its own list of lists or list of records: </p><div class="codesample"><table><tr><td scope="row"><pre>Put it in my iDisk when done<span></span></pre></td></tr></table></div></li><li class="nested li"><p>You can get data from a data source as either a list of lists or a list of records. The<code> data source</code> class has a new boolean property<code> returns records</code> that you can set to true to return records when using the <code>content</code> property, <code>false</code> to return lists. The default setting for this property is true.</p><p>The following are some examples of how to get the content of data views:</p><div class="codesample"><table><tr><td scope="row"><pre>set tableView to table view 1 of scroll view 1 of window 1<span></span></pre></td></tr><tr><td scope="row"><pre>get content of tableView<span></span></pre></td></tr></table></div><p>Returns: <code>{{completed:"Yes", task:"Work on outline example"}, {completed:"Yes", task:"Make it plain and simple"}, {completed:"Yes", task:"Put it all in an \"on launched\" event handler"}, {completed:"Yes", task:"Put it in my iDisk when done"}}</code></p><div class="codesample"><table><tr><td scope="row"><pre>set returns records of data source of tableView to false<span></span></pre></td></tr><tr><td scope="row"><pre>get content of tableView<span></span></pre></td></tr></table></div><p>Returns: <code>{{"Work on outline example", "Yes"}, {"Make it plain and simple", "Yes"}, {"Put it all in an \"on launched\" event handler", "Yes"}, {"Put it in my iDisk when done", "Yes"}}</code></p><p>Here are some examples using an outline view:</p><div class="codesample"><table><tr><td scope="row"><pre>set outlineView to outline view 1 of scroll view 1 of window 1<span></span></pre></td></tr><tr><td scope="row"><pre>get content of outlineView<span></span></pre></td></tr></table></div><p>Returns:<code> {{completed:"--", task:"Things to do", |items|:{{completed:"Yes", task:"Work on outline example", |items|:{{completed:"Yes", task:"Make it plain and simple"}, {completed:"Yes", task:"Put it all in an \"on launched'\" event handler"}}}, {completed:"Yes", task:"Put it in my iDisk when done"}}}}</code></p><div class="codesample"><table><tr><td scope="row"><pre>set returns records of data source of tableView to false<span></span></pre></td></tr></table></div><p>Returns: <code>{{"Things to do", "--", {"Work on outline example", "Yes", {"Make it plain and simple", "Yes"}, {"Put it all in an \"on launched'\" event handler", "Yes"}}, {"Put it in my iDisk when done", "Yes"}}}</code></p></li><li class="nested li"><p>The <code>append</code> command now supports outline views. It uses the same data formats as the <code>content</code> property. You can append a list of strings to a table view, or a list of lists or a list of records.</p></li><li class="nested li"><p>You can now use event handlers and a data source for the same data view. In previous versions of AppleScript Studio, table views could either be scripted by using a data source or by using various event handlers. If you used the event handlers, you couldn't use the data source. In this release, you can mix and match data sources and specific event handlers. This provides the best balance of performance and flexibility. </p><p>There are several new event handlers that provide access to important events in a data view:</p><ul class="simple-spaceabove"><li><p><code>cell value changed </code>-- Called when the user edits a cell in a table or outline view.</p></li><li><p><code>item value changed</code> -- Called when the user edits a cell in an outline view.</p></li><li><p><code>items changed</code> -- Called when the number of items in an outline view has changed.</p></li><li><p><code>rows changed </code>-- Called when the number of rows in a table or outline view has changed.</p></li></ul><p>With these new event handlers, you can use a data source to populate your table view and use the cell <code>value changed</code> event handler to inspect or override the value a user types into a cell.</p></li><li class="nested li"><p>Table view columns now support sort indicators. You can turn them on or off by using the <code>use sort indicators</code> boolean property of the <code>table view</code> class. This only controls the presence of sort indicators. You will still have to detect the click in a table column and change the sort order.</p><p>The Simple Table and Simple Outline examples demonstrate some of the new data view features.</p></li></ul></li><li class="li"><p>Drag and Drop Improvements</p><ul class="nested"><li class="nested li"><p>A new property, <code>allows reordering</code>, supports automatic reordering of items in data views. Setting <code>allows reordering</code> to <code>true</code> on a table view allows the user to drag rows up and down within the table view, in effect changing the order. Note, if the data source is sorted, then <code>allows reordering</code> is ignored.</p><p>The Outline Reorder and Table Reorder examples demonstrate how to use this feature.</p></li><li class="nested li"><p>You can drag and drop rows or items within a data view. In addition to the automatic support provided by <code>allows reordering</code>, you can allow drag and drop of external items into data views, with the additional ability to specify where in the table or outline view to drop items. In order to provide this support there are several new event handlers:</p><ul class="simple-spaceabove"><li><p><code>on prepare table drag</code> -- Called when a drag is about to start in a table view.</p></li><li><p><code>on prepare table drop</code> -- Called while a drop is happening in a table view.</p></li><li><p><code>on accept table drop</code> -- Called when the drop has happened in a table view.</p></li><li><p><code>on prepare outline drag</code> -- Called when a drag is about to start in an outline view.</p></li><li><p><code>on prepare outline drop</code> -- Called while a drop is happening in an outline view.</p></li><li><p><code>on accept outline drop</code> -- Called when the drop has happened in an outline view.</p></li></ul><p>The Simple Table and Simple Outline examples demonstrate how to use these event handlers.</p></li></ul></li><li class="li"><p>New Toolbar Support</p><ul class="nested"><li class="nested li"><p>You can now easily create toolbars in your application. Two new classes have been added: <code>toolbar</code> and <code>toolbar item</code>. Toolbars can be created and added to a window. To support this, the <code>window</code> class has a new <code>toolbar</code> property. The toolbar uses string identifiers to identify the toolbar as well as the toolbar items.</p><p>The following example creates a toolbar and attaches it to a window:</p><div class="codesample"><table><tr><td scope="row"><pre>-- Make the new toolbar, giving it a unique identifier<span></span></pre></td></tr><tr><td scope="row"><pre>set documentToolbar to make new toolbar at end with properties {name:"document toolbar", identifier:"document toolbar identifier", allows customization:true, auto sizes cells:true, display mode:default display mode, size mode:default size mode}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>-- Set up the allowed and default identifiers.<span></span></pre></td></tr><tr><td scope="row"><pre>set allowed identifiers of documentToolbar to {"compile item identifier", "run item identifier", "stop item identifier", "print item identifier", "customize toolbar item identifier", "flexible space item identifier", "space item identifier", "separator item identifier"}<span></span></pre></td></tr><tr><td scope="row"><pre>set default identifiers of documentToolbar to {"compile item identifier", "run item identifier", "stop item identifier"}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>-- Create the toolbar items, adding them to the toolbar.<span></span></pre></td></tr><tr><td scope="row"><pre>make new toolbar item at end of toolbar items of documentToolbar with properties {identifier:"compile item identifier", name:"compile item", label:"Compile", palette label:"Compile", tool tip:"Compile", image name:"CompileScript"}<span></span></pre></td></tr><tr><td scope="row"><pre>make new toolbar item at end of toolbar items of documentToolbar with properties {identifier:"run item identifier", name:"run item", label:"Run", palette label:"Run", tool tip:"Run", image name:"RunScript"}<span></span></pre></td></tr><tr><td scope="row"><pre>make new toolbar item at end of toolbar items of documentToolbar with properties {identifier:"stop item identifier", name:"stop item", label:"Stop", palette label:"Stop", tool tip:"Stop", image name:"StopScript"}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>-- Assign our toolbar to the window<span></span></pre></td></tr><tr><td scope="row"><pre>set toolbar of window 1 to documentToolbar<span></span></pre></td></tr></table></div></li><li class="nested li"><p>There are two new event handlers (that can be attached to a window) to provide toolbar support:</p><ul class="simple-spaceabove"><li><p><code>on clicked toolbar item</code> -- Called when the user clicks on a toolbar item.</p></li><li><p><code>on update toolbar item</code> -- Called by the toolbar to update the state of a toolbar item. You must return <code>true</code> or <code>false</code> to specify the enabled state of the toolbar item: <code>true</code> for enabled, <code>false</code> for disabled.</p></li></ul><p>The Simple Toolbar example demonstrates how to use the new toolbar feature.</p></li></ul></li><li class="li"><p>New Coordinate System Support</p><ul class="nested"><li class="nested li"><p>In previous versions of AppleScript Studio, all coordinates for windows and views were returned in a list of four numbers, {left, bottom, right, top}. The origin of a window or bounds was in the bottom left corner. Unfortunately this isn't the standard used by AppleScript. It uses a list of four numbers, {left, top, right, bottom} with the top left of the window as the origin. To have a backwards compatible way of providing the proper AppleScript manner of specifying bounds, the application class now has a new enumerated property, <code>coordinate system</code>.</p><p>The following are the possible values:</p><ul class="simple-spaceabove"><li><p><code>AppleScript coordinate system</code> -- Defines bounds as {left, top, right, bottom} with the origin in the top left.</p></li><li><p><code>classic coordinate system</code> -- Defines bounds as {left, bottom, right, top} with the origin in the bottom left.</p></li><li><p><code>Cocoa coordinate system</code> -- Defines bounds as {x, y, width, height} with the origin in the bottom left. </p></li></ul><p>The default coordinate system for this release is the <code>classic coordinate system</code>. This is the same system that is used in all previous releases. </p><p>In addition to specifying the coordinate system in a script, you can add the following entry to your application's <code>Info.plist</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>ASKCoordinateSystem&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;string>ASKClassicCoordinateSystem&lt;/string><span></span></pre></td></tr></table></div><p>The possible values are <code>ASKClassicCoordinateSystem</code>, <code>ASKAppleScriptCoordinateSystem</code>, and <code>ASKCocoaCoordinateSystem</code>. When the bounds are accessed and no coordinate system has been specified, Studio will look for the ASKCoordinateSystem entry in the main bundle's <code>Info.plist</code> and will use the specified value.</p><p>The Coordinate System example demonstrates this feature.</p></li></ul></li><li class="li"><p>New Target/Action Support</p><ul class="nested"><li class="nested li"><p>There are new <code>target</code> and <code>action</code> method properties in key classes that allow you to dynamically change the target or script to be executed during runtime. The following classes each have the <code>target</code> and <code>action</code> method properties: <code>cell</code>, <code>control</code>, <code>menu item</code>, and<code> toolbar item</code>. </p><p>You can dynamically change the target of an action in your application or change the Cocoa method that is executed when the action is triggered. For instance, you could set the target and action of a toolbar item as in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>set toolbarItem to toolbar item 1 of toolbar of window 1<span></span></pre></td></tr><tr><td scope="row"><pre>set target of toolbarItem to view "webview" of scroll view 1 of window 1<span></span></pre></td></tr><tr><td scope="row"><pre>set action method of toolbarItem to "stopLoading:"<span></span></pre></td></tr></table></div><p>Then when you click on the toolbar item, it sends the Cocoa method <code>stopLoading:</code> to the target, which in this case is a web view.</p></li></ul></li><li class="li"><p>Xcode Improvements</p><ul class="nested"><li class="nested li"><p>Studio projects can now be built using Xcode's new native target support. The older jam-based targets are still supported. All of the examples and templates for Studio have been upgraded to native targets. You can also upgrade your existing projects to use native targets. See the Xcode documentation to learn more about native targets.</p></li><li class="nested li"><p>The code assistant has been improved in this release. Variables and identifiers in the script you are editing are now included in the completion UI in addition to all of the standard terminology available in previous releases. See the release notes for Xcode 2.0 that describes the many UI enhancements made to the code assistant.</p></li><li class="nested li"><p>It is now possible to edit and save compiled scripts from within Xcode. In addition to the support for text scripts (.<code>applescript</code> files), you can now also use compiled scripts (<code>.scpt</code> files) to build your Studio applications. There are two AppleScript file types, AppleScript Script File (compiled script) and AppleScript Text File (source script). See the notes section on how to enable this support.</p></li><li class="nested li"><p>Xcode has a new dictionary viewer that is based on the new dictionary viewer in Script Editor. It uses the sdef format as its native file format. See the notes section about how to add a reference to <code>AppleScriptKit.sdef</code> to your existing projects.</p></li></ul></li><li class="li"><p>Interface Builder Improvements</p><ul class="nested"><li class="nested li"><p>Scripts can now be designated to have global, per nib, or per object scope. When attaching scripts and event handlers to objects in the AppleScript inspector in Interface Builder, you can choose the scope of the script using the new Scope popup button in the inspector. When the nib is loaded in your project, the scope will determine how the script is attached. If you designate a script as global, then there will be only one instance of the named script while your application is running. If you choose per nib, every time the nib is loaded a new instance of the script is attached to the specified objects in that nib. If the scope is set to per object, then every designated object gets a new instance of the script.</p><p>This provides a more object oriented approach to structuring your application. For instance, in a document based application you could have a <code>Document.applescript</code> file, and when you attach any scripts to the objects in your<code> Document.nib</code>, specify the scope of the scripts in the nib to be per nib. Then every time a new document is created you get a new instance of the Document script. In doing this you can have properties or globals defined in the script that are specific to that instance of the document. In previous versions, any properties or globals defined in a script would be shared by every document. </p><p>The new script scopes only work on Mac OS X 10.4 Tiger or later. Therefore, if you want to select per nib or per object scope for a script, you must switch your nib's Oldest Target setting to Mac OS X Version 10.4.</p></li><li class="nested li"><p>There are four new event handlers for Automator action views: <code>activated</code>, <code>opened</code>, <code>parameters updated</code>, and <code>update parameters</code>. These event handlers are only called when attached to a view object of an Automator action. See the Automator developer documentation to find out more about how to develop actions for Automator.</p></li></ul></li></ul><a name="//apple_ref/doc/uid/TP40004606-SW2" title="Bug Fixes"></a><h2>Bug Fixes</h2><ul class="ul"><li class="li"><p>&lt;rdar://problem/3507378> Using the 'on open' event handler can lead to a crash. This problem was manifested if the return value from an open event handler was <code>false</code> or 0. The work around was to return true at the end of your open event handler. Studio no longer expects or looks at a return result from this event handler.</p></li><li class="li"><p>&lt;rdar://problem/3692092> Upgrade Studio templates to use native build system.</p></li><li class="li"><p>&lt;rdar://problem/3591378> Users need access to the sorted data rows of a data source.You can access the data rows of a data source in their sorted order by using the new <code>sorted data rows</code> property of the<code> data source</code> class.</p></li><li class="li"><p>&lt;rdar://problem/3813515> We should upgrade all of the shipping AppleScript Studio Example projects to be native targets. All of the existing Studio examples have been upgraded to use native targets.</p></li><li class="li"><p>&lt;rdar://problem/3762923> Add an additional (optional) parameter named <code>in bundle with identifier</code> to the <code>localized string</code> command. You can specify a bundle by identifier to find the specified strings table.</p></li></ul><a name="//apple_ref/doc/uid/TP40004606-SW3" title="Documentation Bug Notes"></a><h2>Documentation Bug Notes</h2><ul class="ul"><li class="li"><p>The documentation for the<code> localized string</code> command in <em><a href="../../../documentation/AppleScript/Reference/StudioReference/index.html#//apple_ref/doc/uid/TP30000892" target="_top">AppleScript Studio Terminology Reference</a></em> contains an error. The name for the <code>default localized strings</code> file should be Localizable.strings (not<code> localized.strings</code>). Creating a strings file with the wrong name will cause the<code> localized string</code> command to fail.</p></li></ul><a name="//apple_ref/doc/uid/TP40004606-SW4" title="Notes"></a><h2>Notes</h2><ul class="ul"><li class="li"><p>To turn on the functionality in Xcode for editing compiled scripts (.scpt), you will need to add a user default setting, as the support is preliminary and there isn't a switch in the Xcode UI to turn it on. To enable the editing of compiled scripts, execute the following in Terminal: </p><div class="codesample"><table><tr><td scope="row"><pre>defaults write com.apple.Xcode ASKAllowEditingOfCompiledScripts YES<span></span></pre></td></tr></table></div><p>To disable it, do the following in Terminal: </p><div class="codesample"><table><tr><td scope="row"><pre>defaults delete com.apple.Xcode ASKAllowEditingOfCompiledScripts<span></span></pre></td></tr></table></div><p>There are several side effects to using compiled scripts for your projects. The first is that cvs cannot diff a compiled script (as it is considered a binary file), so using those tools will be limited if you are using source control. Also, searches across your project will now open and search compiled scripts, and any applications referenced in a tell block in your compiled scripts will be launched.</p></li><li class="li"><p>The content of the main.m file has changed in this release. It is now:</p><div class="codesample"><table><tr><td scope="row"><pre>extern void ASKInitialize();<span></span></pre></td></tr><tr><td scope="row"><pre>extern int NSApplicationMain(int argc, const char *argv[]);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>int main(int argc, const char *argv[])<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>ASKInitialize();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>return NSApplicationMain(argc, argv);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>This change means that the application will only run on a Jaguar (10.2) or later system. It will fail if you attempt to launch it on any earlier system. If you need to have your application run on pre-Jaguar systems, you will need to replace the contents of main.m with the following:</p><div class="codesample"><table><tr><td scope="row"><pre>#import &lt;mach-o/dyld.h><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>extern int NSApplicationMain(int argc, const char *argv[]);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>int main(int argc, const char *argv[])<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>if (NSIsSymbolNameDefined("_ASKInitialize"))<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>NSSymbol symbol = NSLookupAndBindSymbol("_ASKInitialize");<span></span></pre></td></tr><tr><td scope="row"><pre>if (symbol)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>void (*initializeASKFunc)(void) = NSAddressOfSymbol(symbol);<span></span></pre></td></tr><tr><td scope="row"><pre>if (initializeASKFunc)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>initializeASKFunc();<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>return NSApplicationMain(argc, argv);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>You may notice that there is a small difference in this code from that in prior releases. Instead of using NSSymbol *symbol, which was not correct, this version contains the correct version for you to use.</p><p>Before the Jaguar release of Studio, <code>main.m</code> files contained the following:</p><div class="codesample"><table><tr><td scope="row"><pre>extern int NSApplicationMain(int argc, const char *argv[]);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>int main(int argc, const char *argv[])<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>return NSApplicationMain(argc, argv);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>If your project is still using a main.m that looks like this, you will not be able to use any of the new features added to Studio from Jaguar on. Please replace your main.m with the contents of either of the two versions shown, based on the minimum system version you need.</p></li><li class="li"><p>In Tiger v10.4.0 through v10.4.6, the "Release when closed” NSWindow attribute in Interface Builder is not honored. The window object is always released regardless of how this attribute is set.</p><p>The workaround (which is not needed starting in Mac OS X version 10.4.7) is to not close the window, but instead to hide it if you want to keep it around. You can do this by adding an <code>on should close</code> handler to your application as shown in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>on choose menu item theObject<span></span></pre></td></tr><tr><td scope="row"><pre>   show window "Main"<span></span></pre></td></tr><tr><td scope="row"><pre>end choose menu item<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>on should close theObject<span></span></pre></td></tr><tr><td scope="row"><pre>    hide window "Main"<span></span></pre></td></tr><tr><td scope="row"><pre>    return false<span></span></pre></td></tr><tr><td scope="row"><pre>end should close<span></span></pre></td></tr></table></div></li><li class="li"><p>The <code>.asdictionary</code> format is not supported by the new dictionary viewer, as the new dictionary viewer's native file format is sdef. All of the examples and palettes in this release of Studio contain a reference to <code>AppleScriptKit.sdef</code>. Clicking on this reference will open a dictionary viewer showing Studio's terminology. In your existing projects, you will need to remove the existing <code>AppleScriptKit.asdictionary</code>, making sure to only remove the reference, not the file, and then add a reference to the AppleScriptKit.sdef. To add the reference, choose the "Add to Project:…" menu item from the Project menu, navigate to <code>/System/Library/Frameworks/AppleScriptKit.framework/Resources</code>, choose the <code>AppleScriptKit.sdef</code> file, and then click the "Add" button. When the sheet appears to ask which target to add the file to, make sure none of the targets is checked. This will add the file as a reference and ensure that it is not included as part of your application when it is built. </p></li><li class="li"><p>AppleScript text files newly created in Mac OS X 10.4 or in projects created on Mac OS X 10.3.x or earlier may have the wrong encoding, which may cause file saving to fail or cause the script to compile incorrectly. AppleScript text files should be saved in the default system encoding, commonly "Western (Mac OS Roman)" or "Japanese (Mac OS)". You can change the file's encoding via the Format > File Encoding menu, or via an Inspector.</p></li><li class="li"><p>There are new examples that demonstrate the new features in this release:</p><ul class="nested"><li class="nested li"><p>Coordinate System - Demonstrates the new coordinate system support.</p></li><li class="nested li"><p>Outline Reorder - Demonstrates how to set the contents of an outline using a single list of records, as well as dynamically turning on or off the automatic reordering support.</p></li><li class="nested li"><p>Simple Outline - Updated to demonstrate the new drag and drop support for data views. Also demonstrates the new change cell value event handler.</p></li><li class="nested li"><p>Simple Table - Demonstrates how to set the contents of a table view using a list of lists of strings, as well as how to use the new drag and drop event handlers for data views.</p></li><li class="nested li"><p>Simple Toolbar - Demonstrates how to create a toolbar in a window and populate it with toolbar items.</p></li><li class="nested li"><p>Table Reorder - Demonstrates how to populate a table view using a list of records, as well as using the automatic reordering support.</p></li></ul></li></ul>

        <br/><br/> 
        
        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-12-22<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/releasenotes/ScriptingAutomation/RN-AppleScriptStudioOlder/index.html%3Fid%3DTP40004606-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/releasenotes/ScriptingAutomation/RN-AppleScriptStudioOlder/index.html%3Fid%3DTP40004606-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/releasenotes/ScriptingAutomation/RN-AppleScriptStudioOlder/index.html%3Fid%3DTP40004606-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
</body>
</html>