<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Quartz Display Services Programming Topics: Overview of Quartz Display Services</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Overview of Quartz Display Services"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004226" title="Overview of Quartz Display Services"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../Quartz-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../index.html" target="_top">Quartz Display Services Programming Topics</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="DisplayInfo.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40004226-SW1" title="Overview of Quartz Display Services"></a><hr /><H1>Overview of Quartz Display Services</H1><p>Quartz Display Services is a set of system software functions that support dynamic changes to the arrangement and display modes of the displays attached to a user’s computer, as well as other display-related operations. (In this document, the term <strong>display</strong> refers to a graphics hardware system consisting of a frame buffer, a gamma correction table or color palette, and possibly an attached monitor.)</p><p>For example, Mac OS X applications can use Quartz Display Services to:</p><ul class="ul"><li class="li"><p>Examine and change display modes</p></li><li class="li"><p>Configure a set of displays in a single operation</p></li><li class="li"><p>Capture one or more displays for exclusive use</p></li><li class="li"><p>Perform fade effects</p></li><li class="li"><p>Activate display mirroring</p></li><li class="li"><p>Configure gamma color correction tables and color palettes</p></li><li class="li"><p>Receive notification of screen update operations</p></li></ul><p>Unlike the Carbon Display Manager, Quartz Display Services is a low-level API. User interface elements such as windows are not automatically repositioned when monitors are detached or display modes change. Instead, Quartz provides a notification mechanism for display state changes. High-level application frameworks such as Carbon and Cocoa can detect these state changes and make their own adjustments to the size, position, and layout of windows on the affected displays. </p><p>Mac OS X System Preferences uses Quartz Display Services to perform some of the actions in the Displays preferences pane. For example, the Display pane shown in <span class="content_text"><a href="Overview.html#//apple_ref/doc/uid/TP40004226-SW2">Figure 1</a></span> contains controls that allow the user to switch display modes. The user can: </p><ul class="ul"><li class="li"><p>Choose a different display resolution</p></li><li class="li"><p>Change the bits per pixel of a display, which determines how many colors can be displayed</p></li><li class="li"><p>Set the refresh rate of a CRT monitor</p></li></ul><br/><div><a name="//apple_ref/doc/uid/TP40004226-SW2" title="Figure 1A Display pane"></a><p><strong>Figure 1&nbsp;&nbsp;</strong>A Display pane</p><img src = "../Art/display.jpg" alt = "A Display pane" ></div><br/><p>On a system with two or more attached monitors, the Arrangement pane shown in <span class="content_text"><a href="Overview.html#//apple_ref/doc/uid/TP40004226-SW3">Figure 2</a></span> contains controls that allow the user to: </p><ul class="ul"><li class="li"><p>Rearrange the displays on the extended desktop</p></li><li class="li"><p>Change the main display by moving the menu bar from one display to another</p></li><li class="li"><p>Create a display mirroring set </p></li></ul><br/><div><a name="//apple_ref/doc/uid/TP40004226-SW3" title="Figure 2An Arrangement pane"></a><p><strong>Figure 2&nbsp;&nbsp;</strong>An Arrangement pane</p><img src = "../Art/arrangement.jpg" alt = "An Arrangement pane" ></div><br/><p>The next few sections introduce some basic features of displays, along with some of the more important functions in the Quartz Display Services API. The other articles in this document contain examples that show how to use this API to perform some common operations. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40004226-DontLinkElementID_7">Display States</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40004226-DontLinkElementID_8">Display IDs</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40004226-DontLinkElementID_9">Display Modes</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40004226-DontLinkElementID_10">Display Arrangement</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40004226-DontLinkElementID_11">Display Mirroring</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40004226-DontLinkElementID_7" title="Display States"></a><h2>Display States</h2><p>A display is considered to be online when the frame buffer hardware is connected to a monitor. If no monitor is attached to the frame buffer, a display is characterized as offline. </p><p>When a display is online, the display is mapped into the global display (desktop) coordinate system. The upper-left corner of a display is called the origin. The origin of a display is always specified in global display (desktop) coordinates. </p><p>The display with the origin at (0,0) is called the main or primary display. In a system without display mirroring, the display with the menu bar is typically the main display. The user can change the main display by dragging the menu bar to a different display in Displays preferences.</p><p>An online display can be active, mirroring, or sleeping. These terms are defined as follows:</p><ul class="ul"><li class="li"><p>A display is active if it is awake and available for drawing. </p></li><li class="li"><p>A display is mirroring another display if the same content is drawn to both displays simultaneously. You cannot draw on the mirroring display. </p></li><li class="li"><p>A display is sleeping when its frame buffer and the attached monitor are in reduced power mode. A sleeping display is still considered to be a part of global display space, but you cannot draw on it.</p></li></ul><a name="//apple_ref/doc/uid/TP40004226-DontLinkElementID_8" title="Display IDs"></a><h2>Display IDs</h2><p>When a monitor is attached and a display is online, Quartz assigns a unique display identifier (ID) of type <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/tdef/CGDirectDisplayID" target="_top">CGDirectDisplayID</a></code>. A display ID can persist across processes and system reboot, and typically remains constant as long as certain display parameters do not change. You can obtain an array of display IDs that correspond to all online displays in the system with the function <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGGetOnlineDisplayList" target="_top">CGGetOnlineDisplayList</a></code>. </p><p>Typically you're more interested in active displays because they're available for drawing. You can obtain an array of display IDs that correspond to all active displays in the system with the function <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGGetActiveDisplayList" target="_top">CGGetActiveDisplayList</a></code>. The first display in the list is always the main display. The main display is also represented by the constant <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/macro/kCGDirectMainDisplay" target="_top">kCGDirectMainDisplay</a></code>, which is defined as a call to the function <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGMainDisplayID" target="_top">CGMainDisplayID</a></code>. </p><p>These functions also obtain an array of display IDs:</p><ul class="ul"><li class="li"><p><code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGGetDisplaysWithPoint" target="_top">CGGetDisplaysWithPoint</a></code> obtains the display IDs for online displays whose bounds include a specified point. </p></li><li class="li"><p><code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGGetDisplaysWithRect" target="_top">CGGetDisplaysWithRect</a></code> obtains the display IDs for online displays whose bounds include a specified rectangle. </p></li><li class="li"><p><code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGGetDisplaysWithOpenGLDisplayMask" target="_top">CGGetDisplaysWithOpenGLDisplayMask</a></code> obtains the display IDs for online displays that correspond to the bits set in an OpenGL display mask. </p></li></ul><a name="//apple_ref/doc/uid/TP40004226-DontLinkElementID_9" title="Display Modes"></a><h2>Display Modes</h2><p>Every display has a set of supported modes of operation. A display mode is a set of standard properties such as resolution (width and height in pixels), bits per pixel, and refresh rate, and optional properties such as pixel stretching to fill the screen.</p><p>Each display mode is represented by a display mode dictionary. To find out what modes a display supports, you use the function <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGDisplayAvailableModes" target="_top">CGDisplayAvailableModes</a></code>, which returns a list of mode dictionaries. To find out the current display mode for an online display, you use the function <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGDisplayCurrentMode" target="_top">CGDisplayCurrentMode</a></code>, which returns a single mode dictionary. A display mode dictionary contains a set of key-value pairs that you can query using Core Foundation CFDictionary functions. </p><p>To find the optimal mode for a selected set of properties, you can use the function <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGDisplayBestModeForParameters" target="_top">CGDisplayBestModeForParameters</a></code>. For example, if you request a supported mode for a display with a resolution of 750 x 550 pixels and 24 bits per pixel, this function may return a supported mode with resolution of 800 x 600 pixels and 32 bits per pixel.</p><p>Mode dictionaries are read-only. If you want to change a specific display property such as resolution, you need to find the appropriate mode dictionary and use it to change the mode of the display. You can use <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGDisplaySwitchToMode" target="_top">CGDisplaySwitchToMode</a></code>, a convenience function for changing the mode of a single display. For more information, see <span class="content_text"><a href="DisplayModes.html#//apple_ref/doc/uid/TP40004234-SW1">“Changing Display Modes.”</a></span> </p><a name="//apple_ref/doc/uid/TP40004226-DontLinkElementID_10" title="Display Arrangement"></a><h2>Display Arrangement</h2><p>On systems with multiple displays, your application can control the arrangement of the displays in the global display space. This is done by setting the origin of each display with the function <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGConfigureDisplayOrigin" target="_top">CGConfigureDisplayOrigin</a></code>. The new origins are placed as close as possible to the requested locations, without overlapping or leaving a gap between displays. You can also use this function to designate a display as the main display by setting its origin to (0,0). For more information about using this function, see <span class="content_text"><a href="DisplayTransactions.html#//apple_ref/doc/uid/TP40004230-SW1">“Configuring Displays Using a Transaction.”</a></span></p><p>When your application terminates, the display arrangement returns to the current settings in Displays preferences.</p><a name="//apple_ref/doc/uid/TP40004226-DontLinkElementID_11" title="Display Mirroring"></a><h2>Display Mirroring</h2><p>On systems with multiple displays, your application can draw the same content to two or more displays simultaneously. This is called mirroring, and the displays are said to be in a mirroring set. You can create or change the configuration of a mirroring set with the function <code><a href="../../../Reference/Quartz_Services_Ref/Reference/reference.html#//apple_ref/c/func/CGConfigureDisplayMirrorOfDisplay" target="_top">CGConfigureDisplayMirrorOfDisplay</a></code>. One display is designated the main or primary display in the mirroring set, and all drawing is directed to this display. For more information about using this function, see <span class="content_text"><a href="DisplayTransactions.html#//apple_ref/doc/uid/TP40004230-SW1">“Configuring Displays Using a Transaction.”</a></span> </p><p>Display mirroring and display matte generation are implemented either in hardware (preferred) or software, at the discretion of the device driver. In hardware mirroring, the graphics hardware renders the contents of a single frame buffer in two or more displays simultaneously. In software mirroring, identical content is drawn into the frame buffer of each display in the mirroring set. The display with the highest resolution and deepest pixel depth typically becomes the main display.</p><p>Quartz makes sure that all window-based content is placed on all displays in a mirroring set. Applications that draw in windows need not be concerned about supporting mirroring. Applications drawing directly to the display may need to implement a traditional device loop to properly support mirroring.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="DisplayInfo.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-06-28<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Conceptual/QuartzDisplayServicesConceptual/Articles/Overview.html%3Fid%3DTP40004316-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Conceptual/QuartzDisplayServicesConceptual/Articles/Overview.html%3Fid%3DTP40004316-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Conceptual/QuartzDisplayServicesConceptual/Articles/Overview.html%3Fid%3DTP40004316-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
