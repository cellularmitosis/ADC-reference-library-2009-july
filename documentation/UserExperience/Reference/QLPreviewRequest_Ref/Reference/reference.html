<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QLPreviewRequest Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="QLPreviewRequest Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005056-DontLinkChapterID_1" title="QLPreviewRequest Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/UserExperience/index.html#//apple_ref/doc/uid/TP30001281-TP30000437" target="_top">User Experience</a> &gt; <a href="../../../../../reference/UserExperience/idxFilesSoftwareInstallation-date.html#//apple_ref/doc/uid/TP30001281-TP30000437-TP30000524" target="_top">Files &amp; Software Installation</a> &gt; <a href="../index.html" target="_top">QLPreviewRequest Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionQLPreviewRequest.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005056-DontLinkChapterID_1-DontLinkElementID_9" title="QLPreviewRequest Reference"></a><h1>QLPreviewRequest Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Derived from</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><span class="content_text"><a href="../../../../CoreFoundation/Reference/CFTypeRef/index.html#//apple_ref/doc/uid/20001203" target="_top">CFType</a></span></span></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../Quicklook_Framework_Reference/index.html#//apple_ref/doc/uid/TP40005021" target="_top">QuickLook</a>/QuickLook.h</div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guide</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../Conceptual/Quicklook_Programming_Guide/index.html#//apple_ref/doc/uid/TP40005020" target="_top">Quick Look Programming Guide</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">QLGenerator.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40005056-CH1-DontLinkElementID_5" title="Overview"></a><h2>Overview</h2><p>Quick Look generators use the <code>QLPreviewRequest</code> API to help create a document preview that is returned to Quick Look clients (such as Finder and Spotlight) for display. An object of the <code>QLPreviewRequest</code> opaque type represents a request from a client for a preview of a document and is used to return the preview image the generator creates or locates</p><p>A generator must implement the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback function to create and return a preview image requested for a given document. <code>QLPreviewRequest</code> gives you four ways to create or locate a preview for a document:</p><ul class="ul"><li class="li"><p>You can create a graphics context to draw the preview in. Graphics contexts for previews are of three kinds: bitmap, single-page vector, and multi-page vector.</p><ul class="nested"><li class="nested li"><p>For bitmap and single-page vector contexts, use the <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreateContext">QLPreviewRequestCreateContext</a></code> function.</p></li><li class="nested li"><p>For multi-page (PDF) contexts, use the <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreatePDFContext">QLPreviewRequestCreatePDFContext</a></code> function.</p></li></ul></li><li class="li"><p>The generator can extract the preview data from the document and return it to the client using the <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestSetDataRepresentation">QLPreviewRequestSetDataRepresentation</a></code> function. (For this approach to work the application’s document must save the preview as part of the document.) The generator can also dynamically generate the preview and return it with this function.</p></li><li class="li"><p>As a refinement of this same approach, the generator can dynamically generate the preview as HTML data that references attachments. It can then call <code><a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestSetDataRepresentation">QLPreviewRequestSetDataRepresentation</a></code>, passing in a content type of HTML and dictionaries specifying the attachments.</p></li></ul><p>Most of the other functions of <code>QLPreviewRequest</code> let you get the data associated with the preview request, such as the URL locating the document and the UTI identifying the content type of the document.</p><a name="//apple_ref/doc/uid/TP40005056-DontLinkChapterID_1-DontLinkElementID_6" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_2" title="Assigning content to the preview request"></a>
    
    <h3 class="tasks">Assigning content to the preview request</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreateContext">QLPreviewRequestCreateContext</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a graphics context to draw the preview in. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreatePDFContext">QLPreviewRequestCreatePDFContext</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a PDF context suitable to draw a multi-page preview.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestSetDataRepresentation">QLPreviewRequestSetDataRepresentation</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the preview request to data saved within the document or to dynamically generated data.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestFlushContext">QLPreviewRequestFlushContext</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Flush the context and sets the preview response.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005056-CH3-198485" title="Getting attributes of the preview request"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-CJAHBCJF" title="Getting attributes of the preview request"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005056-CH3-CJACHGEE" title="Getting attributes of the preview request"></a>Getting attributes of the preview request</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCopyContentUTI">QLPreviewRequestCopyContentUTI</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the UTI for the preview request.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCopyOptions">QLPreviewRequestCopyOptions</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the options specified for the preview request.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCopyURL">QLPreviewRequestCopyURL</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the URL of the document for which a preview is requested.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestGetGeneratorBundle">QLPreviewRequestGetGeneratorBundle</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Get the bundle of the generator receiving the preview request.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestIsCancelled">QLPreviewRequestIsCancelled</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns whether the preview request has been cancelled by the client.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_4" title="Getting the QLPreviewRequest Type ID"></a>
    
    <h3 class="tasks">Getting the QLPreviewRequest Type ID</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestGetTypeID">QLPreviewRequestGetTypeID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the type identifier for the <code>QLPreviewReqest</code> opaque type.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_7" title="Functions"></a><h2>Functions</h2><a name="//apple_ref/c/func/QLPreviewRequestCopyContentUTI" title="QLPreviewRequestCopyContentUTI"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestCopyContentUTI" title="QLPreviewRequestCopyContentUTI"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-CJABEIEF" title="QLPreviewRequestCopyContentUTI"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_12"></a><h3 class="tight">QLPreviewRequestCopyContentUTI</h3><p class="spaceabove">Returns the UTI for the preview request.</p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> CFStringRef QLPreviewRequestCopyContentUTI(
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>The preview request object. </p></dd></dl><h5 class="tight">Return Value</h5><p>The UTI of the associated preview request; returns <code>NULL</code> if the UTI is not available. You should explicitly release this object when it is no longer needed.</p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestCopyOptions" title="QLPreviewRequestCopyOptions"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestCopyOptions" title="QLPreviewRequestCopyOptions"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-CJAEAHCD" title="QLPreviewRequestCopyOptions"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_13"></a><h3 class="tight">QLPreviewRequestCopyOptions</h3><p class="spaceabove">Returns the options specified for the preview request.</p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> CFDictionaryRef QLPreviewRequestCopyOptions(
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>A preview request object. </p></dd></dl><h5 class="tight">Return Value</h5><p>A dictionary containing the properties specified for the preview request. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Preview_Properties">“Preview Properties”</a></span> for supported options. You should explicitly release this object when it is no longer needed.</p><h5 class="tight">Discussion</h5><p>The client sets options in the preview request to give hints to the generator. (For Mac OS X v10.5 no options are supported.)</p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestCopyURL" title="QLPreviewRequestCopyURL"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestCopyURL" title="QLPreviewRequestCopyURL"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-CJAGHAIH" title="QLPreviewRequestCopyURL"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_14"></a><h3 class="tight">QLPreviewRequestCopyURL</h3><p class="spaceabove">Returns the URL of the document for which a preview is requested.</p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> CFURLRef QLPreviewRequestCopyURL(
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>The preview request object. </p></dd></dl><h5 class="tight">Return Value</h5><p>The URL identifying the file for which the preview is requested.</p><h5 class="tight">Special Considerations</h5><p>This function is thread safe.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestCreateContext" title="QLPreviewRequestCreateContext"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestCreateContext" title="QLPreviewRequestCreateContext"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-CJAGBJHB" title="QLPreviewRequestCreateContext"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_15"></a><h3 class="tight">QLPreviewRequestCreateContext</h3><p class="spaceabove">Creates a graphics context to draw the preview in. </p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> CGContextRef QLPreviewRequestCreateContext(
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview,
    <a href="../../../../GraphicsImaging/Reference/CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGSize" target="_top">CGSize</a> size,
    <!--a-->Boolean<!--/a--> isBitmap,
    <a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> properties
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>The preview request object.</p></dd><dt><em>size</em></dt><dd><p>The size of the preview; if <em>isBitmap</em> is <code>true</code> the size is in pixels, otherwise it is in points.</p></dd><dt><em>isBitmap</em></dt><dd><p><code>true</code> if the preview uses a bitmap-based graphics context, <code>false</code> otherwise. This value of this parameter affects the interpretation of the <em>size</em> parameter.</p></dd><dt><em>properties</em></dt><dd><p>A dictionary containing properties for the preview response. <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Preview_Properties">“Preview Properties”</a></span> lists the current property keys and describes their values. </p></dd></dl><h5 class="tight">Return Value</h5><p>A Core Graphics graphics-context object that you can draw your preview image in. You should explicitly release this object when it is no longer needed.</p><h5 class="tight">Discussion</h5><p>You can directly draw your preview data in the graphics-context object created by this function. After calling this function, you should flush the context with <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestFlushContext">QLPreviewRequestFlushContext</a></code>. Also be sure to release the <code>CGContext</code> object.</p><p>Quick Look provides three types of graphics contexts for drawing previews: bitmap, single-page vector-based, and multi-page vector-based (for PDF previews). You use this function to acquire a context for bitmap and single-page vector drawing; the <em>isBitmap</em> parameter is used to distinguish between them. For multi-page contexts, use the <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreatePDFContext">QLPreviewRequestCreatePDFContext</a></code> function.</p><p> If you prefer to work in Objective-C code, you can convert the created <code><a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/tdef/CGContextRef" target="_top">CGContextRef</a></code> to a <code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSGraphicsContext_Class/Reference/Reference.html#//apple_ref/occ/cl/NSGraphicsContext" target="_top">NSGraphicsContext</a></code> object using <code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSGraphicsContext_Class/Reference/Reference.html#//apple_ref/occ/clm/NSGraphicsContext/graphicsContextWithGraphicsPort:flipped:" target="_top">graphicsContextWithGraphicsPort:flipped:</a></code>.</p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestCreatePDFContext" title="QLPreviewRequestCreatePDFContext"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestCreatePDFContext" title="QLPreviewRequestCreatePDFContext"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-SW1" title="QLPreviewRequestCreatePDFContext"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_16"></a><h3 class="tight">QLPreviewRequestCreatePDFContext</h3><p class="spaceabove">Creates a PDF context suitable to draw a multi-page preview.</p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> CGContextRef QLPreviewRequestCreatePDFContext(
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview,
    const <a href="../../../../GraphicsImaging/Reference/CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGRect" target="_top">CGRect</a> * mediaBox,
    <a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> auxiliaryInfo,
    <a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> properties);
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>The preview request object. </p></dd><dt><em>mediaBox</em></dt><dd><p>A pointer to the media box of the context.</p><p>A media box is a rectangle that defines the size and location of the PDF page. The origin of the rectangle should typically be (0,0). If you pass NULL, Quartz uses a default page size of 8.5 by 11 inches (612 by 792 points). For information see the description for <code><a href="../../../../GraphicsImaging/Reference/CGPDFContext/Reference/reference.html#//apple_ref/c/func/CGPDFContextCreate" target="_top">CGPDFContextCreate</a></code>. </p></dd><dt><em>auxiliaryInfo</em></dt><dd><p>A dictionary containing PDF auxiliary information. See the description of the auxiliary dictionary keys in <em><a href="../../../../GraphicsImaging/Reference/CGPDFContext/index.html#//apple_ref/doc/uid/TP30000957" target="_top">CGPDFContext Reference</a></em> for more information about the keys and values of this dictionary.</p></dd><dt><em>properties</em></dt><dd><p>A dictionary containing additional properties for the preview response. For information on acceptable keys and values, see <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Preview_Properties">“Preview Properties.”</a></span></p></dd></dl><h5 class="tight">Return Value</h5><p>A reference to a Core Graphics context object that is used to display a PDF version of the preview. You should explicitly release this object when it is no longer needed.</p><h5 class="tight">Discussion</h5><p>Be sure to bracket each PDF page written to the context with <code><a href="../../../../GraphicsImaging/Reference/CGPDFContext/Reference/reference.html#//apple_ref/c/func/CGPDFContextBeginPage" target="_top">CGPDFContextBeginPage</a></code> and <code><a href="../../../../GraphicsImaging/Reference/CGPDFContext/Reference/reference.html#//apple_ref/c/func/CGPDFContextEndPage" target="_top">CGPDFContextEndPage</a></code> calls. After calling this function, you should flush the context with <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestFlushContext">QLPreviewRequestFlushContext</a></code>.</p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestFlushContext" title="QLPreviewRequestFlushContext"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestFlushContext" title="QLPreviewRequestFlushContext"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-SW2" title="QLPreviewRequestFlushContext"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_17"></a><h3 class="tight">QLPreviewRequestFlushContext</h3><p class="spaceabove">Flush the context and sets the preview response.</p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> void QLPreviewRequestFlushContext(
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview,
    <a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> context
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>The preview request object.</p></dd><dt><em>context</em></dt><dd><p>The graphics context to flush.</p></dd></dl><h5 class="tight">Discussion</h5><p>You should call this method immediately after drawing in the graphics contexts created by <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreateContext">QLPreviewRequestCreateContext</a></code> and <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreatePDFContext">QLPreviewRequestCreatePDFContext</a></code>.</p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestGetGeneratorBundle" title="QLPreviewRequestGetGeneratorBundle"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestGetGeneratorBundle" title="QLPreviewRequestGetGeneratorBundle"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-CJAGIDHI" title="QLPreviewRequestGetGeneratorBundle"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_18"></a><h3 class="tight">QLPreviewRequestGetGeneratorBundle</h3><p class="spaceabove">Get the bundle of the generator receiving the preview request.</p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> CFBundleRef QLPreviewRequestGetGeneratorBundle(
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>The preview request object.</p></dd></dl><h5 class="tight">Return Value</h5><p>A reference to a bundle object representing the generator’s bundle.</p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestGetTypeID" title="QLPreviewRequestGetTypeID"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestGetTypeID" title="QLPreviewRequestGetTypeID"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-CJAHBFIE" title="QLPreviewRequestGetTypeID"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_19"></a><h3 class="tight">QLPreviewRequestGetTypeID</h3><p class="spaceabove">Gets the type identifier for the <code>QLPreviewReqest</code> opaque type.</p><p class="spaceabove"><pre>
<a href="../../../../CoreFoundation/Reference/CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeID" target="_top">CFTypeID</a> QLPreviewRequestGetTypeID();
</pre></p><h5 class="tight">Return Value</h5><p>The type identifier for the <code>QLPreviewReqest</code> opaque type.</p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestIsCancelled" title="QLPreviewRequestIsCancelled"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestIsCancelled" title="QLPreviewRequestIsCancelled"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_3" title="QLPreviewRequestIsCancelled"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_20"></a><h3 class="tight">QLPreviewRequestIsCancelled</h3><p class="spaceabove">Returns whether the preview request has been cancelled by the client.</p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> Boolean QLPreviewRequestIsCancelled(
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>The object representing the preview request.</p></dd></dl><h5 class="tight">Return Value</h5><p><code>true</code> if the request is being canceled, <code>false</code> otherwise.</p><h5 class="tight">Discussion</h5><p>While computing the response, the generator can poll the preview request object with this function to determine if the client has cancelled the request. Alternatively, the generator can implement the <code><a href="reference.html#//apple_ref/c/tdef/CancelPreviewGeneration">CancelPreviewGeneration</a></code> callback. but since that function is called in a secondary thread, it is generally safer to take the polling approach. </p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/c/func/QLPreviewRequestSetDataRepresentation" title="QLPreviewRequestSetDataRepresentation"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestSetDataRepresentation" title="QLPreviewRequestSetDataRepresentation"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-CJABFDGA" title="QLPreviewRequestSetDataRepresentation"></a><a name="//apple_ref/doc/uid/TP40005056-CH3-DontLinkElementID_21"></a><h3 class="tight">QLPreviewRequestSetDataRepresentation</h3><p class="spaceabove">Sets the preview request to data saved within the document or to dynamically generated data.</p><p class="spaceabove"><pre>
<!--a-->QL_EXPORT<!--/a--> void QLPreviewRequestSetDataRepresentation(
    <!--a-->QLPreviewRequest<!--/a--> preview,
    <a href="../../../../CoreFoundation/Reference/CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> data,
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> contentTypeUTI,
    <!--a-->CFDictionary<!--/a--> properties
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>preview</em></dt><dd><p>The preview request object.</p></dd><dt><em>data</em></dt><dd><p>The data of the preview returned to the client. .</p></dd><dt><em>contentTypeUTI</em></dt><dd><p>The UTI specifying the content type of the preview.</p></dd><dt><em>properties</em></dt><dd><p>Additional properties for the preview response. For more on supported keys and values for this dictionary, see <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Preview_Properties">“Preview Properties.”</a></span> If the saved data is HTML, you may specify a special set of properties; see the discussion below for more information.</p></dd></dl><h5 class="tight">Discussion</h5><p>This function returns preview data to the client. The data is either extracted from a document (where the document’s application has saved it,) or it is dynamically generated. How Quick Look handles the data depends upon the value of <em>contentTypeUTI</em>. The content data of the preview must be of a native Quick Look type. Currently supported UTIs for these types are: <code><!--a target="_top" -->kUTTypeImage<!--/a--></code>, <code><!--a target="_top" -->kUTTypePDF<!--/a--></code>, <code><!--a target="_top" -->kUTTypeHTML<!--/a--></code>, <code><!--a target="_top" -->kUTTypeXML<!--/a--></code>, <code><!--a target="_top" -->kUTTypePlainText<!--/a--></code>, <code><!--a target="_top" -->kUTTypeRTF<!--/a--></code>, <code><!--a target="_top" -->kUTTypeMovie<!--/a--></code>, and <code><!--a target="_top" -->kUTTypeAudio<!--/a--></code>. </p><p>If the UTI type is <code>kUTTypeHTML</code>, you can have the WebKit handle the layout and display of your preview. You must provide the HTML in <em>data</em> plus any attachments (for example, Address Book cards, Mail messages, or Omni Outliner documents) in the <em>properties</em> dictionary. This dictionary takes <code><a href="reference.html#//apple_ref/c/data/kQLPreviewPropertyAttachmentsKey">kQLPreviewPropertyAttachmentsKey</a></code> as its key and consists of one ore more subdictionaries (one per attachment). Each subdictionary uses an arbitrary string identifier as a key; the attachment should be referenced within the HTML data using the <code><!--a target="_top" -->kQLPreviewContentIDScheme<!--/a--></code> URL scheme (“cid”) and the identifier as the URL resource specifier—for example, “cid:the_identifier”. The keys of the subdictionary properties are <code><a href="reference.html#//apple_ref/c/data/kQLPreviewPropertyMIMETypeKey">kQLPreviewPropertyMIMETypeKey</a></code>, <code><a href="reference.html#//apple_ref/c/data/kQLPreviewPropertyTextEncodingNameKey">kQLPreviewPropertyTextEncodingNameKey</a></code>, and <code><a href="reference.html#//apple_ref/c/data/kQLPreviewPropertyAttachmentDataKey">kQLPreviewPropertyAttachmentDataKey</a></code>. </p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: This function should be called in the same thread as the preview request is made in; generally, this is the same thread in which the <code><a href="reference.html#//apple_ref/c/tdef/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback was invoked.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/doc/uid/TP40005056-CH5-SW1" title="Callbacks"></a><h2>Callbacks</h2><a name="//apple_ref/c/tdef/CancelPreviewGeneration" title="CancelPreviewGeneration"></a><a name="//apple_ref/doc/c_ref/CancelPreviewGeneration" title="CancelPreviewGeneration"></a><a name="//apple_ref/doc/uid/TP40005056-CH5-SW2" title="CancelPreviewGeneration"></a><a name="//apple_ref/doc/uid/TP40005056-CH5-DontLinkElementID_22"></a><h3 class="tight">CancelPreviewGeneration</h3><p class="spaceabove">Defines a pointer to a function that Quick Look calls to cancel a preview request.</p><p class="spaceabove"><pre>
void (*CancelPreviewGeneration)(
    void *thisInterface,
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>thisInterface</em></dt><dd><p>The <code>CFPlugIn</code> COM-style interface for the generator.</p></dd><dt><em>preview</em></dt><dd><p>The object representing the preview request. </p></dd></dl><h5 class="tight">Discussion</h5><p>If the client application indicates (usually because of user choice) that it is no longer interested in the preview currently being created by a Quick Look generator, this callback function is invoked. The generator can implement this function to stop creating the preview and clean up the resources used for creating it. </p><p>An alternative to implementing this callback is to periodically poll the <code><a href="reference.html#//apple_ref/c/tdef/QLPreviewRequestRef" target="_self">QLPreviewRequestRef</a></code> object with <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestIsCancelled" target="_self">QLPreviewRequestIsCancelled</a></code> to see if the request has been canceled. </p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40005056-CH5-DontLinkElementID_10" title="Important:"></a><p><strong>Important:</strong>&nbsp;Because this function is called on a thread different from the one used to request that the preview be created, you should be extra careful about thread safety. If you have any doubts about thread safety, do not implement this callback.</p><p></p></div><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: For a discussions of issues and possible approaches, see <span class="content_text"><a href="../../../Conceptual/Quicklook_Programming_Guide/QLImplementationOverview/QLImplementationOverview.html#//apple_ref/doc/uid/TP40005020-CH6" target="_top">Overview of Generator Implementation</a></span> in <em><a href="../../../Conceptual/Quicklook_Programming_Guide/index.html#//apple_ref/doc/uid/TP40005020" target="_top">Quick Look Programming Guide</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QuickLook/QLGenerator.h</code><a name="//apple_ref/c/tdef/GeneratePreviewForURL" title="GeneratePreviewForURL"></a><a name="//apple_ref/doc/c_ref/GeneratePreviewForURL" title="GeneratePreviewForURL"></a><a name="//apple_ref/doc/uid/TP40005056-CH5-CJACGCCE" title="GeneratePreviewForURL"></a><a name="//apple_ref/doc/uid/TP40005056-CH5-DontLinkElementID_23"></a><h3 class="tight">GeneratePreviewForURL</h3><p class="spaceabove">Defines a pointer to the callback function that Quick Look calls to request a preview from a generator.</p><p class="spaceabove"><pre>
OSStatus (*GeneratePreviewForURL)(
    void *thisInterface,
    <a href="reference.html#//apple_ref/doc/c_ref/QLPreviewRequestRef">QLPreviewRequestRef</a> preview,
    <a href="../../../../CoreFoundation/Reference/CFURLRef/Reference/reference.html#//apple_ref/doc/c_ref/CFURLRef" target="_top">CFURLRef</a> url,
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> contentTypeUTI,
    <a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> options
);
</pre></p><p>The Xcode template for Quick Look generators automatically creates a “skeletal” function with the same name as the callback symbol name: <code><a href="reference.html#//apple_ref/doc/c_ref/GeneratePreviewForURL">GeneratePreviewForURL</a></code>. </p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>thisInterface</em></dt><dd><p>The <code>CFPlugIn</code> COM-style interface for the generator.</p></dd><dt><em>preview</em></dt><dd><p>The object containing all information relevant to the preview request. The generator’s role is to assign a document preview (in the requested native type) to this object before it returns.</p></dd><dt><em>url</em></dt><dd><p>A URL (represented by a <code><a href="../../../../CoreFoundation/Reference/CFURLRef/Reference/reference.html#//apple_ref/c/tdef/CFURLRef" target="_top">CFURLRef</a></code> object) that locates the document for which a preview is requested. </p></dd><dt><em>contentTypeUTI</em></dt><dd><p>The UTI specifying the content type of the document for which the preview is requested.</p></dd><dt><em>options</em></dt><dd><p>A dictionary of options for processing the preview. Options may be passed from the client (for example, Finder or Spotlight). </p></dd></dl><h5 class="tight">Return Value</h5><p>A status code representing the result of the request. For the current version of this callback, you should always return <code><a href="../../../../MusicAudio/Reference/AudioFileConvertRef/Reference/reference.html#//apple_ref/c/econst/noErr" target="_top">noErr</a></code>.</p><h5 class="tight">Discussion</h5><p>The <code><a href="reference.html#//apple_ref/doc/c_ref/GeneratePreviewForURL">GeneratePreviewForURL</a></code> callback function implemented by a Quick Look generator may be called one or more times concurrenly if the <code>QLSupportsConcurrentRequests</code> property in the generator bundle’s <code>Info.plist</code> file is set to <code>true</code>. If this is the case, use the <em>preview</em> parameter to distinguish among current requests. The generator might also have the <code>QLNeedsToBeRunInMainThread</code> property set to <code>true</code>, in which case the callback is always invoked in the main thread. </p><h5 class="tight">Special Considerations</h5><p><strong>Thread-safety</strong>: For a discussions of issues and possible approaches, see “<span class="content_text"><a href="../../../Conceptual/Quicklook_Programming_Guide/QLImplementationOverview/QLImplementationOverview.html#//apple_ref/doc/uid/TP40005020-CH6" target="_top">Overview of Generator Implementation</a></span>“ in <em><a href="../../../Conceptual/Quicklook_Programming_Guide/index.html#//apple_ref/doc/uid/TP40005020" target="_top">Quick Look Programming Guide</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QuickLook/QLGenerator.h</code><a name="//apple_ref/doc/uid/TP40005056-CH4-DontLinkElementID_8" title="Data Types"></a><h2>Data Types</h2><a name="//apple_ref/c/tdef/QLPreviewRequestRef" title="QLPreviewRequestRef"></a><a name="//apple_ref/doc/c_ref/QLPreviewRequestRef" title="QLPreviewRequestRef"></a><a name="//apple_ref/doc/uid/TP40005056-CH4-CJAGEHGI" title="QLPreviewRequestRef"></a><a name="//apple_ref/doc/uid/TP40005056-CH4-DontLinkElementID_24"></a><h3 class="tight">QLPreviewRequestRef</h3><p class="spaceabove">An opaque reference representing an <code>QLPreviewRequest</code> object.</p><p class="spaceabove"><pre>
typedef struct __QLPreviewRequest *QLPreviewRequestRef;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QLGenerator.h</code><a name="//apple_ref/doc/uid/TP40005056-CH6-SW1" title="Constants"></a><h2>Constants</h2><a name="//apple_ref/doc/constant_group/Preview_Properties" title="Preview Properties" role="GlobalDataGroup"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-CJAJBFCA" title="Preview Properties" role="GlobalDataGroup"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_25"></a><h3 class="tight">Preview Properties</h3><p class="spaceabove">Keys of the properties dictionary in functions used to create a preview.</p><p class="spaceabove"><pre>
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewPropertyDisplayNameKey;
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewPropertyWidthKey;
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewPropertyHeightKey;
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewPropertyStringEncodingKey;
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewPropertyMIMETypeKey;
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewPropertyTextEncodingNameKey;
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewPropertyAttachmentDataKey;
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewPropertyAttachmentsKey;
QL_EXPORT const <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> kQLPreviewContentIDScheme;
</pre></p><h5 class="tight">Constants</h5><dl class="termdef"><a name="//apple_ref/c/data/kQLPreviewPropertyDisplayNameKey" title="kQLPreviewPropertyDisplayNameKey"></a><a name="//apple_ref/doc/c_ref/kQLPreviewPropertyDisplayNameKey" title="kQLPreviewPropertyDisplayNameKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_26"></a><dt><code>kQLPreviewPropertyDisplayNameKey</code></dt><dd><p>Specifies a custom display name in the preview panel. The default display name is the document title. The value must be encapsulated in a <code>CFString</code> object.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd><a name="//apple_ref/c/data/kQLPreviewPropertyWidthKey" title="kQLPreviewPropertyWidthKey"></a><a name="//apple_ref/doc/c_ref/kQLPreviewPropertyWidthKey" title="kQLPreviewPropertyWidthKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_27"></a><dt><code>kQLPreviewPropertyWidthKey</code></dt><dd><p>Specifies the width (in points) of the preview. Note that this property is a hint; Quick Look might set the width automatically for some types of previews. The value must be encapsulated in a <code>CFNumber</code> object.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd><a name="//apple_ref/c/data/kQLPreviewPropertyHeightKey" title="kQLPreviewPropertyHeightKey"></a><a name="//apple_ref/doc/c_ref/kQLPreviewPropertyHeightKey" title="kQLPreviewPropertyHeightKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_28"></a><dt><code>kQLPreviewPropertyHeightKey</code></dt><dd><p>Specifies the height (in points) of the preview.  Note that this property is a hint; Quick Look might set the height automatically for some types of previews. The value must be encapsulated in a <code>CFNumber</code> object.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd><a name="//apple_ref/c/data/kQLPreviewPropertyStringEncodingKey" title="kQLPreviewPropertyStringEncodingKey"></a><a name="//apple_ref/doc/c_ref/kQLPreviewPropertyStringEncodingKey" title="kQLPreviewPropertyStringEncodingKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_29"></a><dt><code>kQLPreviewPropertyStringEncodingKey</code></dt><dd><p>Specifies the string encoding (as an <code><a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringEncoding" target="_top">CFStringEncoding</a></code> value) of the preview data if the native type is plain text. The value must be encapsulated in a <code>CFNumber</code> object.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd><a name="//apple_ref/c/data/kQLPreviewPropertyMIMETypeKey" title="kQLPreviewPropertyMIMETypeKey"></a><a name="//apple_ref/doc/c_ref/kQLPreviewPropertyMIMETypeKey" title="kQLPreviewPropertyMIMETypeKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-SW3" title="kQLPreviewPropertyMIMETypeKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_30"></a><dt><code>kQLPreviewPropertyMIMETypeKey</code></dt><dd><p>Gives the web content or attachment mime type. For the main data, the default type is “text/html”. The value is a <code>CFString</code> object.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd><a name="//apple_ref/c/data/kQLPreviewPropertyTextEncodingNameKey" title="kQLPreviewPropertyTextEncodingNameKey"></a><a name="//apple_ref/doc/c_ref/kQLPreviewPropertyTextEncodingNameKey" title="kQLPreviewPropertyTextEncodingNameKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-SW4" title="kQLPreviewPropertyTextEncodingNameKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_31"></a><dt><code>kQLPreviewPropertyTextEncodingNameKey</code></dt><dd><p>Specifies the encoding of the web content or attachment text. For the value, use IANA encodings like “UTF-8”. The value value is a <code>CFString</code> object.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd><a name="//apple_ref/c/data/kQLPreviewPropertyAttachmentDataKey" title="kQLPreviewPropertyAttachmentDataKey"></a><a name="//apple_ref/doc/c_ref/kQLPreviewPropertyAttachmentDataKey" title="kQLPreviewPropertyAttachmentDataKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-SW2" title="kQLPreviewPropertyAttachmentDataKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_32"></a><dt><code>kQLPreviewPropertyAttachmentDataKey</code></dt><dd><p>Gives the attachment data. The value is a <code>CFData</code> object.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd><a name="//apple_ref/c/data/kQLPreviewPropertyAttachmentsKey" title="kQLPreviewPropertyAttachmentsKey"></a><a name="//apple_ref/doc/c_ref/kQLPreviewPropertyAttachmentsKey" title="kQLPreviewPropertyAttachmentsKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-SW5" title="kQLPreviewPropertyAttachmentsKey"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_33"></a><dt><code>kQLPreviewPropertyAttachmentsKey</code></dt><dd><p>Gives the list of attachments (or sub-resources). Value is a <code>CFDictionary</code> object.</p><p>The keys of the dictionary are the attachment identifiers (<code>CFString</code> objects) that can be referenced with the <code>cid:id</code> URL; the values are dictionaries using the <code>kQLPreviewPropertyAttachmentDataKey</code>, <code>kQLPreviewPropertyMIMETypeKey</code> and <code>kQLPreviewPropertyTextEncodingNameKey</code> properties.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd><a name="//apple_ref/c/data/kQLPreviewContentIDScheme" title="kQLPreviewContentIDScheme"></a><a name="//apple_ref/doc/c_ref/kQLPreviewContentIDScheme" title="kQLPreviewContentIDScheme"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-SW6" title="kQLPreviewContentIDScheme"></a><a name="//apple_ref/doc/uid/TP40005056-CH6-DontLinkElementID_34"></a><dt><code>kQLPreviewContentIDScheme</code></dt><dd><p>The <code>cid</code> URL scheme.</p><p>The <code>cid</code> URL scheme permits the HTML of a mail message to refer  to the images or other data included in the message. For more information go to <span class="content_text"><a href="http://www.rfc-archive.org/getrfc.php?rfc=2111" target="_blank">http://www.rfc-archive.org/getrfc.php?rfc=2111</a></span>.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>QLGenerator.h</code>.</p></dd></dl><h5 class="tight">Discussion</h5><p>You use these keys to specify properties of the generated preview in the dictionary passed into the functions <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreateContext">QLPreviewRequestCreateContext</a></code>, <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestCreatePDFContext">QLPreviewRequestCreatePDFContext</a></code>, and <code><a href="reference.html#//apple_ref/c/func/QLPreviewRequestSetDataRepresentation">QLPreviewRequestSetDataRepresentation</a></code> as the final parameter.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X version 10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>QuickLook/QLGenerator.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionQLPreviewRequest.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-04-20<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/UserExperience/Reference/QLPreviewRequest_Ref/Reference/reference.html%3Fid%3DTP40005056-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/UserExperience/Reference/QLPreviewRequest_Ref/Reference/reference.html%3Fid%3DTP40005056-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/UserExperience/Reference/QLPreviewRequest_Ref/Reference/reference.html%3Fid%3DTP40005056-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>