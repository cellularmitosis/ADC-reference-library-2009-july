<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="GoLive CyberStudio 3">		<title>EODelayedObserverQueue (Java) </title>	</head>	<body bgcolor="white">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../EOControlTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="EODelayedObserverQueue"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/EODelayedObserverQueue"></a>EODelayedObserverQueue</font></h1>		<p><br>		</p>		<blockquote>			<b>Inherits from: </b>Object</blockquote>		<blockquote>			<b>Package: </b>com.webobjects.eocontrol</blockquote>		<p>		<hr size="4">		<br>		</p>		<h2>Class Description</h2>		<p>		<hr alt="">		</p>		<p>The EODelayedObserverQueue class is a part of EOControl's change tracking mechanism. An EODelayedObserverQueue collects change notifications for observers of multiple objects and notifies them of the changes <em>en masse</em> during the application's run loop, according to their individual priorities. For an overview of the general change tracking mechanism, see <a href="../Introduction.html#BIADGEAG">&quot;Tracking Enterprise Objects Changes&quot; (page 22)</a> in the introduction to the EOControl Framework.</p>		<p>EODelayedObserverQueue's style of notification is particularly useful for coalescing and prioritizing multiple changes; the interface layer's EOAssociation classes use it extensively to update Java Client and Application Kit user interfaces, for example. Instead of being told that an object will change, an EODelayedObserver is told that it did change, with a subjectChanged message, as described in the EODelayedObserver class specification. Delayed observation is thus not useful for comparing old and new states, but only for examining the new state. Delayed observation also isn't ordinarily used outside the scope of a Java Client or Application Kit application (in a command line tool or WebObjects application, for example).</p>		<p>The motivation for a delayed change notification mechanism arises mainly from issues in observing multiple objects. Any single change to an observed object typically requires the observer to update some state or perform an action. When many such objects change, it makes no sense to recalculate the new state and perform the action for each object. EODelayedObserverQueue allows these changes to be collected into a single notification. It further orders change notifications according to priorities, allowing observers to be updated in sequence according to dependencies among them. For example, an EOMasterDetailAssociation (EOInterface), which must update its detail EODisplayGroup (EOInterface) according to the selection in the master <em>before</em> any redisplay occurs, has an earlier priority than the default for EOAssociations. This prevents regular EOAssociations from redisplaying old values and then displaying the new values after the EOMasterDetailAssociation updates.</p>		<p>For more information on using EODelayedObserverQueues, see the sections</p>		<ul>			<li><a href="Concepts/EODelayedObserverQueueCon.html#BABDFBBD">&quot;Enqueuing a Delayed Observer&quot; (page 69)</a> 			<li><a href="Concepts/EODelayedObserverQueueCon.html#BABDHJBI">&quot;Change Notification&quot; (page 69)</a> 			<li><a href="Concepts/EODelayedObserverQueueCon.html#BABCJAEA">&quot;Observer Proxies&quot; (page 70)</a> 		</ul>		<p><br>		<br>		<br>		</p>		<h2>Constants</h2>		<p>		<hr alt="">		</p>		<p>EODelayedObserverQueue defines the following <code>int</code> constant:</p>		<p><br>		<table border="1">			<tr>				<td scope="row"><b>Constant</b></td>				<td><b>Description</b></td>			</tr>			<tr>				<td scope="row"><a name="BABECIDE"></a><tt>FlushDelayedObserversRunLoopOrdering</tt></td>				<td>Determines when to notify delayed observers during end of event processing.</td>			</tr>		</table><br>		<br>		<br>		</p>		<h2>Method Types</h2>		<p>		<hr alt="">		</p>		<blockquote>			Constructors<br>			<a href="#//apple_ref/java/instm/EODelayedObserverQueue/EODelayedObserverQueue">EODelayedObserverQueue</a> 			<p>Getting the default queue<br>			<a href="#//apple_ref/java/clm/EODelayedObserverQueue/defaultObserverQueue">defaultObserverQueue</a></p>			<p>Enqueuing and dequeuing observers<br>			<a href="#//apple_ref/java/instm/EODelayedObserverQueue/enqueueObserver">enqueueObserver</a><a href="#//apple_ref/java/instm/EODelayedObserverQueue/dequeueObserver">dequeueObserver</a></p>			<p>Sending change notifications<br>			<a href="#//apple_ref/java/instm/EODelayedObserverQueue/notifyObserversUpToPriority">notifyObserversUpToPriority</a></p>		</blockquote>		<p><br>		<br>		</p>		<h2>Constructors</h2>		<p>		<hr alt="">		<a name="BBCBJEGJ"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/EODelayedObserverQueue"></a>EODelayedObserverQueue</h3>		<p><code>public <b>EODelayedObserverQueue</b>()</code></p>		<p>Creates and returns a new EODelayedObserverQueue with NSRunLoop.DefaultRunLoopMode as its only run loop mode. 		<hr width="25%" align="left">		<br>		<br>		</p>		<h2>Static Methods</h2>		<p>		<hr alt="">		<a name="defaultObserverQueue"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODelayedObserverQueue/defaultObserverQueue"></a>defaultObserverQueue</h3>		<p><code>public static EODelayedObserverQueue <b>defaultObserverQueue</b>()</code></p>		<p>Returns the EODelayedObserverQueue that EODelayedObservers use by default. 		<hr width="25%" align="left">		<br>		<br>		</p>		<h2>Instance Methods</h2>		<p>		<hr alt="">		<a name="dequeueObserver_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/dequeueObserver"></a>dequeueObserver</h3>		<p><code>public void <b>dequeueObserver</b>(EODelayedObserver <em>anObserver</em>)</code></p>		<p>Removes <em>anObserver</em> from the receiver. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODelayedObserverQueue/enqueueObserver">enqueueObserver</a></p>		<p>		<hr width="25%" align="left">		<a name="enqueueObserver_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/enqueueObserver"></a>enqueueObserver</h3>		<p><code>public void <b>enqueueObserver</b>(EODelayedObserver <em>anObserver</em>)</code></p>		<p>Records <em>anObserver</em> to be sent subjectChanged messages. If <em>anObserver</em>'s priority is ObserverPriorityImmediate, it's immediately sent the message and not enqueued. Otherwise <em>anObserver</em> is sent the message the next time <a href="#//apple_ref/java/instm/EODelayedObserverQueue/notifyObserversUpToPriority">notifyObserversUpToPriority</a> is invoked with a priority later than or equal to <em>anObserver</em>'s. Does nothing if <em>anObserver</em> is already recorded. </p>		<p>The first time this method is invoked during the run loop with an observer whose priority isn't <code>ObserverPriorityImmediate</code>, it registers the receiver to be sent a <a href="#//apple_ref/java/instm/EODelayedObserverQueue/notifyObserversUpToPriority">notifyObserversUpToPriority</a> message at the end of the run loop, using <a href="#BABECIDE">FlushDelayedObserversRunLoopOrdering</a> and the receiver's run loop modes. This causes enqueued observers up to a priority of ObserverPrioritySixth to be notified automatically during each pass of the run loop.</p>		<p>When <em>anObserver</em> is done observing changes, it should invoke discardPendingNotification to remove itself from the queue.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODelayedObserverQueue/dequeueObserver">dequeueObserver</a>, priority (EODelayedObserver), discardPendingNotification (EODelayedObserver), </p>		<p>		<hr width="25%" align="left">		<a name="notifyObserversUpToPriority_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODelayedObserverQueue/notifyObserversUpToPriority"></a>notifyObserversUpToPriority</h3>		<p><code>public void <b>notifyObserversUpToPriority</b>(int <em>priority</em>)</code></p>		<p>Sends subjectChanged messages to all of the receiver's enqueued observers whose priority is <em>priority</em> or earlier. This method cycles through the receiver's enqueued observers in priority order, sending each a <b>subjectChanged</b><b> </b>message and then returning to the very beginning of the queue, in case another observer with an earlier priority was enqueued as a result of the message. </p>		<p>EODelayedObserverQueue invokes this method automatically as needed during the run loop, with a <em>priority</em> of ObserverPrioritySixth.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODelayedObserverQueue/enqueueObserver">enqueueObserver</a>, priority (EODelayedObserver)</p>		<p>		<hr width="25%" align="left">		<br>		</p>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 19, 2001)</p>		<p><br>		<a href="../EOControlTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>