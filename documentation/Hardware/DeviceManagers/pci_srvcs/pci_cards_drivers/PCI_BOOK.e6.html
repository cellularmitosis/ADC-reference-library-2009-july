<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Installation</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.dd.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.e5.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.e7.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H1.Heading1"><A NAME="pgfId=3607"> </A><A NAME="39320"> </A>Installation</H1><P CLASS="T1.Text1"><A NAME="pgfId=3609"> </A>Once loaded, a driver must be installed in the <A NAME="marker=3608"> </A>unit table to become available to Device Manager clients. This process begins with a CFM fragment connection ID and results in a <TT CLASS="cv">refNum</TT> value.</P><P CLASS="T1.Text1"><A NAME="pgfId=4386"> </A>The installing software can specify a desired range of unit numbers in the unit table. For example, pre-version 4.3 SCSI drivers use the range 32 through 38 as a convention to their clients. If the driver cannot be installed within that range, an error is returned. The unit table may grow to accommodate the new driver, however. For the rules of this growth, see the important statement on the <A HREF="PCI_BOOK.e8.html" CLASS="XRef">InstallDriverFromFragment function</A> page.</P><P CLASS="T1.Text1"><A NAME="pgfId=4390"> </A>When installing a native driver, the caller also passes the <TT CLASS="cv">RegEntryIDPtr</TT> value of the device that the driver is to manage. This pointer (along with the <TT CLASS="cv">refNum</TT> value) is given to the driver as a parameter in the initialization command. The driver may use this pointer to iterate through a device's property list, as an aid to initialization. The native driver should return <TT CLASS="cv">noErr</TT> to indicate a successful initialization command.</P><P CLASS="T1.Text1"><A NAME="pgfId=3615"> </A>These functions, described in the next sections, operate on a loaded driver fragment:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3616"> </A><TT CLASS="cv">VerifyFragmentAsDriver</TT> verifies fragment contents as driver.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3617"> </A><TT CLASS="cv">InstallDriverFromFragment</TT> places a driver fragment in the unit table.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3618"> </A><TT CLASS="cv">InstallDriverFromDisk</TT> places a disk-based driver in the unit table.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3619"> </A><TT CLASS="cv">OpenInstalledDriver</TT> opens a driver that is already installed in the unit table.</LI></UL><H2 CLASS="RoH.RoutineHeadingTOC"><A HREF="PCI_BOOK.e7.html#pgfId=3621" CLASS="Hypertext">VerifyFragmentAsDriver</A></H2><H2 CLASS="RoH.RoutineHeadingTOC"><A HREF="PCI_BOOK.e8.html#pgfId=3646" CLASS="Hypertext">InstallDriverFromFragment</A></H2><H2 CLASS="RoH.RoutineHeadingTOC"><A HREF="PCI_BOOK.e9.html#pgfId=3699" CLASS="Hypertext">InstallDriverFromDisk</A></H2><H2 CLASS="RoH.RoutineHeadingTOC"><A HREF="PCI_BOOK.ea.html#pgfId=3752" CLASS="Hypertext">OpenInstalledDriver</A></H2><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.dd.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.e5.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.e7.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>