<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Virtual Memory Manager (IM: M)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING151></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Memory-150.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Memory-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Memory-202.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Memory-152.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Memory-2.html"><B>Memory</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING151-0></A>
<H1>Chapter 3 - Virtual Memory Manager</H1>
 <A NAME=MARKER-2-19></A>This chapter describes the Virtual Memory Manager, the part of the Operating System that allows memory to be extended beyond the limits of the physical address space provided by the available RAM. A user can select (in the Memory control panel) whether to enable this larger or "virtual" address space.<A NAME=MARKER-2-20></A><P>
 Most applications are completely unaffected by the operation of the Virtual Memory Manager and have no need to know whether any virtual memory is available. <BR>You might, however, need to intervene in the otherwise automatic workings of <BR>the Virtual Memory Manager if your application has critical timing requirements, executes code at interrupt time, or performs debugging operations. <P>
 The Virtual Memory Manager also offers services that might be of use to software components even if virtual memory is not enabled on a particular computer. On some Macintosh computers, the physical address space is discontiguous and is therefore not identical with the logical address space. In normal operations, the Operating System uses the MMU coprocessor to map logical addresses to their corresponding physical addresses. In some cases, however, you might need to perform this address mapping yourself. For example, if you are writing software that runs in the Macintosh Operating System but communicates addresses to NuBus(TM) expansion cards with bus master <BR>or direct memory access (DMA) capabilities, you need to pass physical and not <BR>logical addresses. You can use the Virtual Memory Manager to determine those <BR>physical addresses.<A NAME=MARKER-2-21></A><A NAME=MARKER-2-126></A><P>
 To use this chapter, you should be familiar with the normal operation of the Memory Manager, as described in the chapter "Introduction to Memory Management" in this book. If your application or other software executes code at interrupt time, you should also be familiar with the process of scheduling interrupt code, as described in the chapter "Introduction to Processes and Tasks" in <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes.</I></A><P>
 This chapter begins with a description of how the Virtual Memory Manager provides virtual memory. It explains how the logical and physical address spaces are mapped to one another and when you might need to use the services provided by the Virtual Memory Manager. Then it explains how you can use the Virtual Memory Manager to<P>
<UL>
<LI>make portions of the logical address space resident in physical RAM
<LI>make portions of the logical address space immovable in physical RAM
<LI>map logical to physical addresses
<LI>defer execution of application-defined interrupt code until a safe time<P>
</UL>
 This chapter also provides information about a number of routines that are useful only for the implementation of debuggers that operate under virtual memory.<P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Memory-152.html#HEADING152-0">About the Virtual Memory Manager</A>
<DD>
<DL>
<DT><A HREF="Memory-152.html#HEADING152-8">Virtual Memory</A>
<DD>
<DT><A HREF="Memory-152.html#HEADING152-14">The Logical Address Space</A>
<DD>
<DL>
	<DT><DT><A HREF="Memory-152.html#HEADING152-19">24-Bit Addressing</A>
		<DD><DD>
	<DT><DT><A HREF="Memory-152.html#HEADING152-27">32-Bit Addressing</A>
		<DD><DD>
</DL>
<DT><A HREF="Memory-152.html#HEADING152-32">The Physical Address Space</A>
<DD>
<DT><A HREF="Memory-152.html#HEADING152-42">Page Faults</A>
<DD>
</DL>
<DT><A HREF="Memory-153.html#HEADING153-0">Using the Virtual Memory Manager</A>
<DD>
<DL>
<DT><A HREF="Memory-153.html#HEADING153-11">Obtaining Information About Virtual Memory</A>
<DD>
<DT><A HREF="Memory-153.html#HEADING153-15">Holding and Releasing Memory</A>
<DD>
<DT><A HREF="Memory-153.html#HEADING153-25">Locking and Unlocking Memory</A>
<DD>
<DT><A HREF="Memory-153.html#HEADING153-34">Mapping Logical to Physical Addresses</A>
<DD>
<DT><A HREF="Memory-153.html#HEADING153-56">Deferring User Interrupt Handling</A>
<DD>
</DL>
<DT><A HREF="Memory-154.html#HEADING154-0">Virtual Memory and Debuggers</A>
<DD>
<DL>
<DT><A HREF="Memory-154.html#HEADING154-12">Bus-Error Vectors</A>
<DD>
<DT><A HREF="Memory-154.html#HEADING154-17">Special Nonmaskable Interrupt Needs</A>
<DD>
<DT><A HREF="Memory-154.html#HEADING154-19">Supervisor Mode</A>
<DD>
<DT><A HREF="Memory-154.html#HEADING154-23">The Debugging State</A>
<DD>
<DT><A HREF="Memory-154.html#HEADING154-26">Keyboard Input</A>
<DD>
<DT><A HREF="Memory-154.html#HEADING154-28">Page States</A>
<DD>
</DL>
<DT><A HREF="Memory-155.html#HEADING155-0">Virtual Memory Manager Reference</A>
<DD>
<DL>
<DT><A HREF="Memory-156.html#HEADING156-0">Data Structures</A>
<DD>
<DL>
<DT><A HREF="Memory-157.html#HEADING157-0">Memory-Block Record</A>
<DD>
<DT><A HREF="Memory-158.html#HEADING158-0">Translation Table</A>
<DD>
</DL>
<DT><A HREF="Memory-159.html#HEADING159-0">Routines</A>
<DD>
<DL>
<DT><A HREF="Memory-160.html#HEADING160-0">Virtual Memory Management</A>
<DD>
<DT><A HREF="Memory-168.html#HEADING168-0">Virtual Memory Debugger Support Routines</A>
<DD>
</DL>
</DL>
<DT><A HREF="Memory-177.html#HEADING177-0">Summary of the Virtual Memory Manager</A>
<DD>
<DL>
<DT><A HREF="Memory-177.html#HEADING177-1">Pascal Summary</A>
<DD>
<DL>
<DT><A HREF="Memory-177.html#HEADING177-2">Constants</A>
<DD>
<DT><A HREF="Memory-177.html#HEADING177-6">Data Types</A>
<DD>
<DT><A HREF="Memory-177.html#HEADING177-10">Routines</A>
<DD>
</DL>
<DT><A HREF="Memory-177.html#HEADING177-30">C Summary</A>
<DD>
<DL>
<DT><A HREF="Memory-177.html#HEADING177-31">Constants</A>
<DD>
<DT><A HREF="Memory-177.html#HEADING177-35">Data Types</A>
<DD>
<DT><A HREF="Memory-177.html#HEADING177-39">Routines</A>
<DD>
</DL>
<DT><A HREF="Memory-177.html#HEADING177-62">Assembly-Language Summary</A>
<DD>
<DL>
<DT><A HREF="Memory-177.html#HEADING177-63">Data Types</A>
<DD>
<DT><A HREF="Memory-177.html#HEADING177-66">Trap Macros</A>
<DD>
</DL>
<DT><A HREF="Memory-177.html#HEADING177-71">Result Codes</A>
<DD>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Memory-150.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Memory-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Memory-202.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Memory-152.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Memory-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
