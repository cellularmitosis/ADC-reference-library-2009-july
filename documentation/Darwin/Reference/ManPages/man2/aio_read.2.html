<html><head><title>Mac OS X Developer Tools
 Manual Page For aio_read(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/aio_read" title="Mac OS X Developer Tools
 Manual Page for aio_read(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/aio_read"; name=aio_read(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
AIO_READ(2)                 BSD System Calls Manual                AIO_READ(2)

<b>NAME</b>
     <b>aio_read</b> -- asynchronous read from a file (REALTIME)

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;aio.h&gt;</b>

     <u>int</u>
     <b>aio_read</b>(<u>struct</u> <u>aiocb</u> <u>*aiocbp</u>);

<b>DESCRIPTION</b>
     The <b>aio_read</b>() system call allows the calling process to read <u>aiocbp-&gt;aio</u><b>_</b><u>nbytes</u> from the descriptor
     <u>aiocbp-&gt;aio</u><b>_</b><u>fildes</u>, beginning at the offset <u>aiocbp-&gt;aio</u><b>_</b><u>offset</u>, into the buffer pointed to by
     <u>aiocbp-&gt;aio</u><b>_</b><u>buf</u>.  The call returns immediately after the read request has been enqueued to the descrip-<font color="#ffffff" class="whiteout">tor;&nbsp;descriptor;</font>
     tor; the read may or may not have completed at the time the call returns.

     If _POSIX_PRIORITIZED_IO is defined, and the descriptor supports it, then the enqueued operation is
     submitted at a priority equal to that of the calling process minus <u>aiocbp-&gt;aio</u><b>_</b><u>reqprio</u>.

     The <u>aiocbp-&gt;aio</u><b>_</b><u>lio</u><b>_</b><u>opcode</u> argument is ignored by the <b>aio_read</b>() system call.

     The <u>aiocbp</u> pointer may be subsequently used as an argument to <b>aio_return</b>() and <b>aio_error</b>() in order to
     determine return or error status for the enqueued operation while it is in progress.

     If the request could not be enqueued (generally due to invalid arguments), then the call returns with-<font color="#ffffff" class="whiteout">out&nbsp;without</font>
     out having enqueued the request.

     If the request is successfully enqueued, the value of <u>aiocbp-&gt;aio</u><b>_</b><u>offset</u> can be modified during the
     request as context, so this value must not be referenced after the request is enqueued.

<b>RESTRICTIONS</b>
     The Asynchronous I/O Control Block structure pointed to by <u>aiocbp</u> and the buffer that the
     <u>aiocbp-&gt;aio</u><b>_</b><u>buf</u> member of that structure references must remain valid until the operation has com-<font color="#ffffff" class="whiteout">pleted.&nbsp;completed.</font>
     pleted.  For this reason, use of auto (stack) variables for these objects is discouraged.

     The asynchronous I/O control buffer <u>aiocbp</u> should be zeroed before the <b>aio_read</b>() call to avoid passing
     bogus context information to the kernel.

     Modifications of the Asynchronous I/O Control Block structure or the buffer contents after the request
     has been enqueued, but before the request has completed, are not allowed.

     If the file offset in <u>aiocbp-&gt;aio</u><b>_</b><u>offset</u> is past the offset maximum  for <u>aiocbp-&gt;aio</u><b>_</b><u>fildes</u>, no I/O
     will occur.

<b>RETURN</b> <b>VALUES</b>
     The <b>aio_read</b>() function returns the value 0 if successful; otherwise the value -1 is returned and the
     global variable <u>errno</u> is set to indicate the error.

<b>DIAGNOSTICS</b>
     None.

<b>ERRORS</b>
     The <b>aio_read</b>() system call will fail if:

     [EAGAIN]           Because of system resource limitations, the request was not queued.

     [ENOSYS]           The <b>aio_read</b>() system call is not supported.

     The following conditions may be synchronously detected when the <b>aio_read</b>() system call is made, or
     asynchronously, at any time thereafter.  If they are detected at call time, <b>aio_read</b>() returns -1 and
     sets <u>errno</u> appropriately.  Otherwise, the <b>aio_return</b>() system call must be called.  It will return -1;
     <b>aio_error</b>() must then be called to determine the actual value that would have been returned in <u>errno</u>.

     [EBADF]            The <u>aiocbp-&gt;aio</u><b>_</b><u>fildes</u> argument is invalid.

     [EINVAL]           The offset <u>aiocbp-&gt;aio</u><b>_</b><u>offset</u> is not valid, the priority specified by
                        <u>aiocbp-&gt;aio</u><b>_</b><u>reqprio</u> is not a valid priority, or the number of bytes specified by
                        <u>aiocbp-&gt;aio</u><b>_</b><u>nbytes</u> is not valid.

     [EOVERFLOW]        The file is a regular file, <u>aiocbp-&gt;aio</u><b>_</b><u>nbytes</u> is greater than zero, the starting
                        offset in <u>aiocbp-&gt;aio</u><b>_</b><u>offset</u> is before the end of the file, but is at or beyond the
                        <u>aiocbp-&gt;aio</u><b>_</b><u>fildes</u> offset maximum.

     If the request is successfully enqueued, but subsequently cancelled or an error occurs, the value
     returned by the <b>aio_return</b>() system call is per the <a href="read.2.html#//apple_ref/doc/man/2/read">read(2)</a> system call, and the value returned by the
     <b>aio_error</b>() system call is either one of the error returns from the <a href="read.2.html#//apple_ref/doc/man/2/read">read(2)</a> system call, or one of:

     [EBADF]            The <u>aiocbp-&gt;aio</u><b>_</b><u>fildes</u> argument is invalid for reading.

     [ECANCELED]        The request was explicitly cancelled via a call to <b>aio_cancel</b>().

     [EINVAL]           The offset <u>aiocbp-&gt;aio</u><b>_</b><u>offset</u> would be invalid.

<b>SEE</b> <b>ALSO</b>
     <a href="aio_cancel.2.html#//apple_ref/doc/man/2/aio_cancel">aio_cancel(2)</a>, <a href="aio_error.2.html#//apple_ref/doc/man/2/aio_error">aio_error(2)</a>, <a href="aio_return.2.html#//apple_ref/doc/man/2/aio_return">aio_return(2)</a>, <a href="aio_suspend.2.html#//apple_ref/doc/man/2/aio_suspend">aio_suspend(2)</a>, <a href="aio_write.2.html#//apple_ref/doc/man/2/aio_write">aio_write(2)</a>, <a href="../man4/aio.4.html#//apple_ref/doc/man/4/aio">aio(4)</a>

<b>STANDARDS</b>
     The <b>aio_read</b>() system call is expected to conform to the IEEE Std 1003.1 (``POSIX.1'') standard.

<b>HISTORY</b>
     The <b>aio_read</b>() system call first appeared in FreeBSD 3.0.

<b>AUTHORS</b>
     This manual page was written by Terry Lambert &lt;terry@whistle.com&gt;.

<b>BUGS</b>
     Invalid information in <u>aiocbp-&gt;</u><b>_</b><u>aiocb</u><b>_</b><u>private</u> may confuse the kernel.

BSD                            November 17, 1998                           BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/aio_read.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/aio_read.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/aio_read.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
