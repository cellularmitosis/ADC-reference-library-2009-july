<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects Deployment Guide Using JavaMonitor: Installing Software</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Installing Software"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000061" title="Installing Software"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../MacOSXServer/index.html#//apple_ref/doc/uid/TP30000440-TP30000426" target="_top">Mac OS X Server</a> &gt; <a href="../../../../MacOSXServer/WebObjects-date.html#//apple_ref/doc/uid/TP30000440-TP30000426-TP30000592" target="_top">WebObjects</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP30000059-TPXREF101">WebObjects Deployment Guide Using JavaMonitor</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../IntroducingDeployment/IntroducingDeployment.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../WebObjectsAdaptors/WebObjectsAdaptors.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000061-TPXREF101" title="Installing Software"></a><h1>Installing Software</h1><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_48" title="Important:"></a><p><strong>Important:</strong>&nbsp;In WebObjects 5.3 and later, you do not need a deployment license key. WebObjects Deployment is preinstalled with Mac OS X Server 10.4.1 and later. However, installing earlier WebObjects deployment packages requires a deployment license key. Read the license agreement before installing earlier releases. </p><p></p></div><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_49" title="Important:"></a><p><strong>Important:</strong>&nbsp;On Mac OS X Server v10.5 and later, you have the option of either keeping the configuration files for Apache 1.3 and continuing to use Apache 1.3, or upgrading to Apache 2. Once you upgrade to Apache 2, you cannot return to Apache 1.3.</p><p><em>A clean install of Mac OS X Server v10.5 will always use Apache 2.2. If you wish to keep Apache 1.3, you should do an upgrade install instead of a clean install.</em></p><p>The Migration Assistant automatically converts your Apache 1.3 configuration files to Apache 2 when you upgrade to Apache 2. After an upgrade install, if you want to upgrade your Apache Version from 1.3 to 2.2, start the Server Admin application and select the Web module. Select “Upgrade Apache Version” to upgrade to Apache 2. If there is a problem during the translation process, the conversion stops and your Apache 1.3 configuration files are left unmodified. Errors, warnings, or confirmations of successful operations during the conversion are logged at <code>/Library/Logs/Migration</code>.</p><p>See <em><a href="../../../../../server/macosx/docs/Upgrading_and_Migrating_v10.5_2nd_Ed.pdf" target="_top">Mac OS X Server Upgrading and Migrating</a></em>  and <em><a href="../../../../../server/macosx/docs/Web_Technologies_Admin_v10.5.pdf" target="_top">Mac OS X Server Web Technologies Administration</a></em>for more details.</p><p></p></div><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_50" title="Important:"></a><p><strong>Important:</strong>&nbsp;If your WebObjects adaptor does not start properly with the Apache 2.2 module, then check if the Apache configuration file <code>httpd.conf</code> is missing a reference to the WebObjects adaptor.</p><p>To do this, open the <code>/etc/apache2/httpd.conf</code> file and search for this line:</p><p>
<code>Include /System/Library/WebObjects/Adaptors/Apache2.2/apache.conf</code></p><p>
If this line does not exist, add these lines to the <code>/etc/httpd/httpd.conf</code> file and restart your web server:</p><p>
<code># Including WebObjects Configs</code></p><p><code>Include /System/Library/WebObjects/Adaptors/Apache2.2/apache.conf</code></p><p></p></div><p>This chapter addresses WebObjects Deployment installation issues, including what elements of the software need to be installed on a computer, taking the computer’s purpose into account.</p><p>The chapter contains these sections:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="Installation.html#//apple_ref/doc/uid/TP30000061-BCIGBBHJ">“Choosing What to Install”</a></span> explains which files need to be installed on a computer, based on the purpose of the computer within a deployment.</p></li><li class="li"><p><span class="content_text"><a href="Installation.html#//apple_ref/doc/uid/TP30000061-BCIDHGEE">“HTTP Adaptors”</a></span> covers the various HTTP adaptors that can be used in a deployment. It explains which adaptors are appropriate for your platform as well as how to build an adaptor from the source files included with WebObjects.</p></li><li class="li"><p><span class="content_text"><a href="Installation.html#//apple_ref/doc/uid/TP30000061-CJBEGAGC">“Data-Store Adaptor Installation”</a></span> describes the JDBC and JNDI adaptors that WebObjects applications can use to interact with data stores, such as databases and directory-services servers.</p></li></ul><a name="//apple_ref/doc/uid/TP30000061-BCIGBBHJ" title="Choosing What to Install"></a><h2>Choosing What to Install</h2><p>When you perform a complete installation<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_295"></a> of WebObjects Deployment on a computer, two types of files are copied to its hard disk: adaptor files and deployment files.</p><a name="//apple_ref/doc/uid/TP30000061-TPXREF106" title="HTTP Adaptor Files"></a><h3>HTTP Adaptor Files</h3><p><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_296"></a>HTTP adaptors allow your web server to communicate with WebObjects application instances. The adaptor processes a single transaction, a request and its response, at a time. Normally, the request is forwarded to a single application instance, which, in turn, generates the response. Exceptions include error conditions or a request for an application that does not exist.</p><p>Typically an HTTP adaptor performs the following actions for each request:</p><ol class="ol"><li class="li"><p>Reads the request from the server, checks the URL, and collects header data and form data.</p></li><li class="li"><p>Finds an application to service the request. This is the part of the process that involves load balancing between instances.</p></li><li class="li"><p>Uses an existing socket connection to the application or connects a new socket to the application and forwards the request to the application.</p></li><li class="li"><p>Waits for and reads the response (status, headers, and content).</p></li><li class="li"><p>Returns the connection to the connection pool or—if the connection is transitory—closes the connection.</p></li><li class="li"><p>Sends the response to the client through the web server.</p></li></ol><p>The executable files of the HTTP adaptors<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_297"></a> are placed in <code>/System/Library/WebObjects/Adaptors</code>. You can build your own adaptors using the source files for the default adaptors as a starting point. These source files are installed in <code>/Developer/Examples/WebObjects/Source/Adaptors</code>.</p><p>In addition to the HTTP adaptors, WebObjects applications that access a data store need to have an appropriate adaptor for that data store. Two types of data stores are supported, databases and directory services; these use JDBC and JNDI (Java Naming and Directory Interface), respectively.</p><a name="//apple_ref/doc/uid/TP30000061-TPXREF107" title="Deployment Files"></a><h3>Deployment Files</h3><p>Deployment files are divided into two groups:</p><ul class="spaceabove"><li class="li"><p><strong>Runtime environment<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_298"></a></strong>. The runtime environment of WebObjects is implemented in JAR (Java archive) files contained within <strong>framework</strong><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_299"></a> (<code>.framework</code>) bundles. WebObjects frameworks are installed in <code>/System/Library/Frameworks</code>. These frameworks are used by any WebObjects application, including the deployment tools of WebObjects.</p></li><li class="li"><p><strong>Deployment tools<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_300"></a></strong>. WebObjects Deployment includes two deployment tools you use to configure and monitor your site. The files that make up these tools are placed in <code>/System/Library/WebObjects/JavaApplications</code>. <span class="content_text">Table 2-1</span> shows the purpose of each tool. For more information on the deployment tools, see <span class="content_text"><a href="../DeploymentElements/DeploymentElements.html#//apple_ref/doc/uid/TP30000063-BAJEBCEE">“Managing Application Instances.”</a></span></p><a name="//apple_ref/doc/uid/TP30000061-BCIIHBBD" title="Table 2-1The WebObjects deployment and administration tools"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-1&nbsp;&nbsp;</strong>The WebObjects deployment and administration tools</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Filename</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Application name</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Purpose</p></th></tr><tr><td  scope="row"><p><code>JavaMonitor.woa</code></p></td><td ><p>JavaMonitor<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_301"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_302"></a></p></td><td ><p>Site configuration<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_303"></a> and administration<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_304"></a></p></td></tr><tr><td  scope="row"><p><code>wotaskd.woa</code></p></td><td ><p>wotaskd<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_305"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_306"></a></p></td><td ><p>Instance management<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_307"></a></p></td></tr></table></div></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_51" title="Note"></a><p><strong>Note:</strong>&nbsp;In WebObjects 5.4, the source for the deployment tools is located in the <code>/Developer/Examples/JavaWebObjects/Source/JavaMonitor</code> folder.</p></div><a name="//apple_ref/doc/uid/TP30000061-TPXREF108" title="Types of WebObjects Deployment Installations"></a><h3>Types of WebObjects Deployment Installations</h3><p>Depending on the purpose of the computer you’re installing the software on, there are three types of WebObjects Deployment installations you can perform:</p><ul class="spaceabove"><li class="li"><p><strong>Web server<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_308"></a> only</strong>: On a computer that you want to use as the web server but on which you do not intend to run application instances (including the deployment tools), you need to install only the HTTP adaptor files.</p></li><li class="li"><p><strong>Application host<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_309"></a> only</strong>: On computers that you intend to use only as application hosts, you need to install only the deployment tools<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_310"></a>. (If you do not plan to run JavaMonitor on that computer, you can delete its files.)</p></li><li class="li"><p><strong>Web server and application host</strong>: When one computer can satisfy all your deployment needs or when you want a web server to also run application instances<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_311"></a>, you need to install the adaptor files<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_312"></a> and the deployment tools.<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_313"></a></p></li></ul><a name="//apple_ref/doc/uid/TP30000061-BCIDHGEE" title="HTTP Adaptors"></a><h2>HTTP Adaptors</h2><p>WebObjects uses a variety of HTTP adaptors to enable access to applications through a web server. Depending on your deployment platform, particular HTTP adaptors<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_314"></a> are installed by default.</p><p> Mac OS X Server supports Apache and CGI. The Apache adaptor is active by default. Requests in the form <code>http://.../cgi-bin/WebObjects/</code> are handled by the Apache adaptor<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_315"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_316"></a>. If you disable the Apache module, such requests are handled by the CGI adaptor<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_317"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_318"></a>. </p><a name="//apple_ref/doc/uid/TP30000061-BCIFFDFB" title="General Adaptor Building Issues"></a><h3>General Adaptor Building Issues</h3><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_52" title="Important:"></a><p><strong>Important:</strong>&nbsp; In WebObjects 5.4 and later, recompiling the Apache 1.3 adaptor is not supported. The source for the Apache 2 adaptor is located in the <code>/Developer/Examples/WebObjects/Source/Adaptors/Apache 2</code> folder in the WebObjects development package.</p><p></p></div><p><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_319"></a>If you want to use an HTTP adaptor other than the one installed by default on your platform, you need to build it and install it. This section discusses building HTTP adaptors from the source code in <code>/Developer/Examples/WebObjects/Source/Adaptors</code>.</p><p>Before building an adaptor, make sure that you have the following installed:</p><ul class="spaceabove"><li class="li"><p>WebObjects Deployment</p></li><li class="li"><p>ANSI-C compliant compiler—for example, <code>gcc</code> version 2.7.2 or later</p></li><li class="li"><p><code>gnumake</code> version 3.74 or later</p></li><li class="li"><p>Web server software</p></li></ul><p>Follow these steps to build your adaptor:</p><ol class="ol"><li class="li"><p>Select the platform you want to build on by editing the <code>ADAPTOR_OS</code> variable in <code>make.config</code>.</p></li><li class="li"><p>Select the adaptor that you want to build by editing the <code>ADAPTORS</code> variable in <code>make.config</code>. You can build multiple adaptors for different web servers at the same time.</p></li><li class="li"><p>Modify the appropriate compile-time parameters in <code>Adaptor/config.h</code>. Most features can be configured at initialization time. Some, however, are determined during compilation; you change these by editing <code>config.h</code>.</p></li><li class="li"><p>Depending on the adaptor you want to build, you may need to make additional changes:</p><ul class="ul"><li class="li"><p>For Apache, modify the <code>APXS</code> variable in <code>make.config</code>. The default settings should work for Mac OS X Server.</p></li><li class="li"><p>For CGI, you might need to customize <code>CFLAGS</code> or <code>LDFLAGS</code> in <code>CGI/Makefile</code>. For example, you don’t need to define <code>-nopdolib</code> when you are not using the Apple PDO C compiler.</p></li></ul></li><li class="li"><p>Set the <code>CC</code> variable in <code>make.config</code> to point at the compiler you want to use. The compiler must be an ANSI C compiler. The <code>CC</code> variable is set to <code>gcc</code> by default.</p></li><li class="li"><p>Type <code>make</code> in the <code>NEXT_ROOT/Developer/Examples/WebObjects/Source/Adaptors</code> folder.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_53" title="Note"></a><p><strong>Note:</strong>&nbsp;To compile the Apache 2 adaptor on Mac OS X, type <code>make Apache2.2</code>.</p></div></li></ol><p>In case you need to modify the default adaptors, <span class="content_text">Table 2-2</span> identifies the purpose of the source files in <code>/Developer/Examples/WebObjects/Source/Adaptors/</code>.</p><a name="//apple_ref/doc/uid/TP30000061-CJBBHBGH" title="Table 2-2Adaptor source description"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-2&nbsp;&nbsp;</strong>Adaptor source description</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Source file</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>Apache/mod_WebObjects.c</code></p></td><td ><p>Interface modules that interact directly with the web server.</p></td></tr><tr><td  scope="row"><p><code>CGI/WebObjects.c</code></p></td><td ><p>Interface modules that interact directly with the web server.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/config.h</code></p></td><td ><p>Configuration-parameters file.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/config.c</code></p></td><td ><p>Operating system–specific configuration items.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/transaction.c</code></p></td><td ><p>Implements request/response processing.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/request.c</code></p></td><td ><p>Structures and routines to collect headers and form data. Also function support for sending requests to applications.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/response.c</code></p></td><td ><p>Structures and routines to collect response headers and content.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/hostlookup.c</code></p></td><td ><p>Gets <code>hostent</code> structure for an application host using <code>gethostbyname</code> and caches the result.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/transport.h</code></p></td><td ><p>Declaration of application IPC API.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/nbsocket.c</code></p></td><td ><p>Transport is implemented with nonblocking sockets. This file provides timeouts and user-space buffering.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/loadbalancing.h</code></p></td><td ><p>Declaration of functions to provide load balancing. Load-balancing implementations need to define these functions.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/random.c</code></p></td><td ><p>Load-balancing routine that randomly selects any available application instance.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/roundrobin.c</code></p></td><td ><p>Load-balancing routine that selects an instance using a round-robin algorithm.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/loadaverage.c</code></p></td><td ><p>Load-balancing routine that selects an instance using the load average returned by each instance in its headers.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/log.c</code></p></td><td ><p><code><!--a-->printf<!--/a--></code> style logging to <code>/tmp/WebObjects.log</code>. Checks for the existence of <code>/tmp/logWebObjects</code>, an empty file that must be owned by root on UNIX platforms. This file should not be present in deployment mode.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/xmlparse.c</code></p></td><td ><p>Parses the configuration information supplied in an XML document. This is either supplied from wotaskd, a URL, or a file.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/WOURLCUtilities.c</code></p></td><td ><p>WebObjects URL-parsing routines.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/MoreURLCUtilities.c</code></p></td><td ><p>Additional utility functions to augment <code>WOURLCUtilities.c</code>.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/strdict.c</code></p></td><td ><p>String key–based dictionary.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/strtbl.c</code></p></td><td ><p>String key/value lookup data structure.</p></td></tr><tr><td  scope="row"><p><code>Adaptor/list.c</code></p></td><td ><p>Data structure used to collect pointers.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000061-TPXREF151" title="Building the Apache Adaptor"></a><h3>Building the Apache Adaptor</h3><p><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_320"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_321"></a>A successful build of the Apache adaptor yields a file named<code> mod_WebObjects.so</code>. This file should be copied into <code>/System/Library/WebObjects/Adaptors/Apache</code> on Mac OS X and <code>NEXT_ROOT/Library/WebObjects/Adaptors/Apache</code> on other platforms. In order for the adaptor to work, Apache must be configured to accept Dynamic Shared Objects<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_322"></a> (DSOs). Refer to the Apache web server documentation available at <span class="content_text"><a href="http://www.apache.org" target="_blank">http://www.apache.org</a></span> for more information on building Apache to accept DSOs. If the adaptor fails to build, it is probably because Apache is not built to accept DSOs.</p><p>Once you have built the adaptor and server, you need to configure the web server to handle WebObjects requests. See <span class="content_text"><a href="../WebObjectsAdaptors/WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCDGJGH">“Customizing HTTP Adaptors”</a></span> for more information on configuring Apache. </p><p>After you have built and configured the server with the linked adaptor, you should start it and confirm that it’s working by moving aside the WebObjects CGI adaptor in the <code>cgi-bin</code> directory and making a few requests. You can determine whether the CGI or Apache adaptor is handling requests by turning on the logging<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_323"></a> feature of the adaptor as follows:</p><ol class="ol"><li class="li"><p>As root, execute the following command:</p><div class="codesample"><table><tr><td scope="row"><pre>touch /tmp/logWebObjects<span></span></pre></td></tr></table></div></li><li class="li"><p>Make a request to a WebObjects application to initialize the log file.</p></li><li class="li"><p>Execute the following command:</p><div class="codesample"><table><tr><td scope="row"><pre>tail -f /tmp/WebObjects.log<span></span></pre></td></tr></table></div></li><li class="li"><p>If the Apache web server is configured to use the CGI adaptor, each request is logged as</p><div class="codesample"><table><tr><td scope="row"><pre>Info: &lt;CGI> new request: /cgi-bin/WebObjects/MyApp<span></span></pre></td></tr></table></div></li><li class="li"><p>If the Apache web server is configured to use the WebObjects Apache module, each request is logged as<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_324"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_325"></a></p><div class="codesample"><table><tr><td scope="row"><pre>Info: &lt;WebObjects Apache Module> new request: /cgi-bin/WebObjects/MyApp<span></span></pre></td></tr></table></div></li></ol><a name="//apple_ref/doc/uid/TP30000061-TPXREF149" title="Building the CGI Adaptor"></a><h3>Building the CGI Adaptor</h3><p><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_326"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_327"></a>The default CGI adaptor is a generic CGI adaptor designed to be used with all web servers that support CGI. There is a performance disadvantage when using CGI adaptors; therefore, you should consider using a server plug-in adaptor whenever possible.</p><p>To install this adaptor, copy the file <code>WebObjects</code> to your web server’s <code>cgi-bin</code> or <code>scripts</code> directory. This is done for you if you install WebObjects on a system with a web server installed.</p><p>It is possible to configure the CGI adaptor to contact the instance of wotaskd on localhost for adaptor configuration information including the list of instances. For deployment you normally want to use a different mechanism that is less expensive. Set up the CGI adaptor to use either a static file on the web server or a static URL for this information. For examples of this, see <span class="content_text"><a href="../WebObjectsAdaptors/WebObjectsAdaptors.html#//apple_ref/doc/uid/TP30000062-BBCDGJGH">“Customizing HTTP Adaptors.”</a></span></p><p>If there are problems executing the CGI adaptor on MacOS X, do the following:</p><ul class="spaceabove"><li class="li"><p>Make sure that the <code>WebObjects</code> CGI executable is installed in <code>/Library/WebServer/CGI-Executables/</code>.</p></li><li class="li"><p>Verify that it is owned by root:admin.</p></li><li class="li"><p>Make it executable by everyone.</p></li></ul><p>Although generally not the best for production-level deployment, there is a good reason to use the CGI adaptor. It is useful for exercising the underlying request handler and debugging<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_328"></a> any customizations you may have made to the source code. Since all input to any CGI program is provided in the environment variables and <code>stdin</code>, the WebObjects CGI program can be conveniently run under a debugger.</p><p>To do this, set the following environment variables and values as shown in <span class="content_text">Table 2-3</span>.</p><a name="//apple_ref/doc/uid/TP30000061-CJBHIGBE" title="Table 2-3CGI debugging variable settings"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-3&nbsp;&nbsp;</strong>CGI debugging variable settings</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Environment variable</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Value</p></th></tr><tr><td  scope="row"><p><code>REQUEST_METHOD</code></p></td><td ><p><code>GET</code></p></td></tr><tr><td  scope="row"><p><code>SERVER_PROTOCOL</code></p></td><td ><p><code>HTTP/1.0</code></p></td></tr><tr><td  scope="row"><p><code>QUERY_STRING</code></p></td><td ><p><code>\?foo=bar</code></p></td></tr><tr><td  scope="row"><p><code>SCRIPT_NAME</code></p></td><td ><p><code>/cgi-bin/WebObjects</code></p></td></tr><tr><td  scope="row"><p><code>PATH_INFO</code></p></td><td ><p><code>/MyApps/MyCoolApp</code></p></td></tr></table></div><p>If you want to include form data, set a <code>CONTENT_LENGTH</code> header and type the form as <code>stdin</code>. An alternative is to edit and execute the <code>TestCGI.sh</code> or <code>Env.csh</code> files provided in <code>/Developer/Examples/WebObjects/Source/Adaptors/CGI</code>.<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_329"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_330"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_331"></a></p><a name="//apple_ref/doc/uid/TP30000061-CJBEGAGC" title="Data-Store Adaptor Installation"></a><h2>Data-Store Adaptor Installation</h2><p><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_332"></a>This section provides resources that help you obtain and install the two types of data-store adaptors that WebObjects applications may require: database adaptors and adaptors for directory-services servers.</p><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_6" title="Database Adaptors"></a><h3>Database Adaptors</h3><p><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_333"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_334"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_335"></a>To ensure that your JDBC driver works with your database, you should get the latest JDBC driver that matches the version of your database and the version of Java JDK installed on your machine. </p><a name="//apple_ref/doc/uid/TP30000061-TPXREF109" title="Directory Services Adaptors"></a><h3>Directory Services Adaptors</h3><p><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_336"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_337"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_338"></a>WebObjects provides access to directory services through the use of the JNDI adaptor<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_339"></a> in conjunction with a service provider. WebObjects <a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_340"></a><a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_341"></a>has been tested with connections to the following Lightweight Directory Access Protocol (LDAP) servers<a name="//apple_ref/doc/uid/TP30000061-DontLinkElementID_342"></a>:</p><ul class="spaceabove"><li class="li"><p>OpenLDAP Directory Server</p></li></ul><p>To use this LDAP JNDI adaptor, you need to have the JNDI class libraries and the LDAP service provider from Sun Microsystems installed. These are both available from <span class="content_text"><a href="http://java.sun.com/products/jndi" target="_blank">http://java.sun.com/products/jndi</a></span>. On Mac OS X these are installed by default.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../IntroducingDeployment/IntroducingDeployment.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../WebObjectsAdaptors/WebObjectsAdaptors.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/Deployment/Deploying_Applications/Installation/Installation.html%3Fid%3DTP30001009-4.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/Deployment/Deploying_Applications/Installation/Installation.html%3Fid%3DTP30001009-4.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/Deployment/Deploying_Applications/Installation/Installation.html%3Fid%3DTP30001009-4.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>