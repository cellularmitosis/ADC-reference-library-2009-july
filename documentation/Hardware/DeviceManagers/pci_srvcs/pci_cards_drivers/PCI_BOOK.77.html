<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Generic and Family Drivers</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.6f.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.76.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.78.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2.Heading2"><A NAME="pgfId=3484"> </A>Generic and <A NAME="30932"> </A>Family Drivers</H1><P CLASS="T1.Text1"><A NAME="pgfId=3485"> </A>The Macintosh native driver model defines a new driver packaging format, described in <A HREF="PCI_BOOK.7b.html#28278" CLASS="XRef">Driver Package</A> later in this chapter. The driver package may contain a generic driver or a driver that is specific to a family of devices. <B CLASS="bold">Generic drivers</B> have a family type of <A NAME="marker=3489"> </A><TT CLASS="cv">'ndrv'</TT> and are controlled by the Device Manager (described in <I CLASS="italics">Inside Macintosh: Devices</I>). Family drivers have other type designations and do not act as Device Manager clients. They are not installed in the Device Manager unit table and do not export the generic driver call interface. The generic driver call interface and runtime framework are described in <A HREF="PCI_BOOK.79.html#22845" CLASS="XRef">Generic Driver Framework</A>.</P><P CLASS="T1.Text1"><A NAME="pgfId=3493"> </A>Currently most drivers are generic, but this will not be true in future versions of the Mac&nbsp;OS. Some drivers belong to device families with special characteristics that do not fit into the generic driver model; they are drivers controlled by family experts. Examples of this type of driver are FireWire SBP-2 drivers, USB drivers, and networking device drivers for the Open Transport environment. Networking device drivers under Open Transport are STREAMS drivers that provide industry standard STREAMS/DLPI interfaces to Mac OS. Open Transport drivers are discussed in <A HREF="PCI_BOOK.219.html#12320" CLASS="XRef">Network Drivers</A> USB drivers are discussed in the documentation included in the Mac OS USB DDK. </P><P CLASS="T1.Text1"><A NAME="pgfId=3498"> </A>Drivers controlled by family experts use family programming interfaces <A NAME="marker=3497"> </A>(FPIs), which are defined for each family and are not accessible to Macintosh applications. </P><P CLASS="T1.Text1"><A NAME="pgfId=3499"> </A>All drivers with driver family service interfaces must export well-defined driver family service names for both family expert data and family expert functions. Clients of family drivers load the CFM-based driver and call the exported names. The CFM connects the driver client to the CFM device driver exports. Native device drivers that provide private family interfaces need not provide an additional generic driver interface to Mac OS.</P><P CLASS="T1.Text1"><A NAME="pgfId=3500"> </A>As an example of a family interface, Open Transport requires a family data structure called <TT CLASS="cv">install_info</TT> and a driver family service function whose name is <TT CLASS="cv">GetOTInstallInfo</TT>. The <TT CLASS="cv">install_info</TT> structure is used by Open Transport to create stream to STREAMS device drivers. The Open Transport family expert calls the device driver family expert <TT CLASS="cv">GetOTInstallInfo</TT> function as part of the installation process for native drivers of the <TT CLASS="cv">'otan'</TT> service category. See <A HREF="PCI_BOOK.219.html#12320" CLASS="XRef">Network Drivers</A> for more details on Open Transport driver requirements.</P><P CLASS="T1.Text1"><A NAME="pgfId=3510"> </A>Other family drivers are described in <A HREF="PCI_BOOK.1d4.html#12320" CLASS="XRef">Graphics Drivers</A> and <A HREF="PCI_BOOK.23d.html#12320" CLASS="XRef">SCSI Drivers</A>.</P><DIV><blockquote><p CLASS="NoteHead"><b><A NAME="pgfId=14174"> </A>Note</b></p><P CLASS="Note"><A NAME="pgfId=3511"> </A>Device drivers need to provide only one family interface. If a device driver chooses to provide more than one service category programming interface, however, it must conform to the standards of each interface. </P></blockquote></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.6f.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.76.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.78.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>