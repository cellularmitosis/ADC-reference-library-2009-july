<html><head><title>Mac OS X
 Manual Page For pkgutil(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/pkgutil" title="Mac OS X
 Manual Page for pkgutil(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/pkgutil"; name=pkgutil(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
pkgutil(1)                BSD General Commands Manual               pkgutil(1)

<b>NAME</b>
     <b>pkgutil</b> -- Query and manipulate the installer package receipt database.

<b>SYNOPSIS</b>
     <b>pkgutil</b> [options] [commands]

<b>DESCRIPTION</b>
     <b>pkgutil</b> reads and manipulates the Installer's receipt database and flat packages.  <b>pkgutil</b> can be used
     to learn about flat packages, including installation date, location, and which files were or will be
     installed.  Options are processed first, and affect the operation of all commands.  Multiple commands
     are performed sequentially in the given order.

<b>OPTIONS</b>
     <b>--help,</b> <b>-h</b>  A brief summary of commands and usage.

     <b>--force,</b> <b>-f</b>
                 Don't ask for confirmation before performing a potentially destructive or ambiguous opera-<font color="#ffffff" class="whiteout">tion.&nbsp;operation.</font>
                 tion.

     <b>--verbose,</b> <b>-v</b>
                 Output in a "human-readable" format with extra headers, footers, indentation, and other
                 contextual information.

     <b>--debug</b>     Print implementation details and other useless information while running.

     <b>--volume</b> <u>path</u>
                 Perform all operations on the specified volume or home directory.  The root volume '/' will
                 be used if unspecified.

     <b>--edit-pkg</b> <u>package-id</u>
                 Specifies an existing receipt to be modified in-place by <b>--learn</b>.

     <b>--only-files</b>
                 List only files (not directories) in <b>--files</b> listing.

     <b>--only-dirs</b>
                 List only directories (not files) in <b>--files</b> listing.

     <b>--regexp</b>    Try to match <u>package-id</u> arguments as a regular expression if an exact match isn't found.
                 See <a href="egrep.1.html#//apple_ref/doc/man/1/egrep">egrep(1)</a> and <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format">re_format(7)</a> for syntax.

<b>DATABASE</b> <b>COMMANDS</b>
     <b>--packages,</b> <b>--pkgs</b>
                 List all installed package IDs on the specified <b>--volume</b>.

     <b>--pkgs-plist</b>
                 List all installed package IDs on the specified <b>--volume</b> in Mac OS X <a href="../man5/plist.5.html#//apple_ref/doc/man/5/plist">plist(5)</a> format.

     <b>--pkgs=REGEXP</b>
                 List all installed package IDs matching <u>REGEXP</u> on the specified <b>--volume</b>.  The equal sign
                 (=) is <b>required</b> or the search string will be ignored and all package IDs will be returned.
                 Be mindful of escaping characters in both your shell and the regular expression.  (Eg,
                 'pkgutil --pkgs=\\.D' searches for package IDs matching the literal '.D' after escaping the
                 backslash from your shell and then the dot from the regex to make it literal.) Regular
                 expressions are more complex than simple shell globbing. A dot (.) matches any character,
                 while '*' matches zero or more of the previous character. See <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format">re_format(7)</a> for a complete
                 description of the syntax.

     <b>--files</b> <u>package-id</u>
                 List all of the files managed under the <u>package-id</u>.  This list will include files installed
                 by other packages if those other packages have tainted the specified <u>package-id</u>. See the
                 explanation of tainting in the <b>NOTES</b> section.

     <b>--export-plist</b> <u>package-id</u>
                 Print all receipt information about the specified <u>package-id</u> in the standard Mac OS X
                 <a href="../man5/plist.5.html#//apple_ref/doc/man/5/plist">plist(5)</a> format.

     <b>--import-plist</b>
                 Load receipt data formatted as a <a href="../man5/plist.5.html#//apple_ref/doc/man/5/plist">plist(5)</a> from standard input. Use <b>--export-plist</b> for an
                 example of the data and formatting expected.

     <b>--verify</b> <u>package-id</u>
                 Run <a href="../man8/repair_packages.8.html#//apple_ref/doc/man/8/repair_packages">repair_packages(8)</a> to verify the specified <u>package-id</u>.

     <b>--repair</b> <u>package-id</u>
                 Run <a href="../man8/repair_packages.8.html#//apple_ref/doc/man/8/repair_packages">repair_packages(8)</a> to repair the specified <u>package-id</u>.

     <b>--pkg-info</b> <u>package-id</u>
                 Print extended information about the specified <u>package-id</u>.

     <b>--pkg-info-plist</b> <u>package-id</u>
                 Print extended information about the specified <u>package-id</u> in Mac OS X <a href="../man5/plist.5.html#//apple_ref/doc/man/5/plist">plist(5)</a> format.

     <b>--forget</b> <u>package-id</u>
                 Discard all receipt data about <u>package-id</u>, but do not touch the installed files.  <b>DO</b> <b>NOT</b>
                 use this command from an installer package script to fix broken package design.

     <b>--unlink</b> <u>package-id</u>
                 Unlinks (removes) each file referenced by <u>package-id</u>. <b>WARNING</b>: This command makes no
                 attempt to perform reference counting or dependency analysis. It can easily remove files
                 required by your system. It may include unexpected files due to <b>package</b> <b>tainting</b>. Use the
                 <b>--files</b> command first to double check.

     <b>--learn</b> <u>path</u>
                 Used within a package's postinstall script to record ACLs or filesystem permissions applied
                 to <u>path</u> that were not contained within the file archive itself. The installer passes a ref-<font color="#ffffff" class="whiteout">erence&nbsp;reference</font>
                 erence to the receipt being constructed via the INSTALL_PKG_SESSION_ID environment vari-<font color="#ffffff" class="whiteout">able.&nbsp;variable.</font>
                 able.

     <b>--pkg-groups</b> <u>package-id</u>
                 List all of the package groups this <u>package-id</u> is a member of.

     <b>--groups</b>    List all of the package groups on the specified <b>--volume</b>.

     <b>--groups-plist</b>
                 List all of the package groups on the specified <b>--volume</b> in Mac OS X <a href="../man5/plist.5.html#//apple_ref/doc/man/5/plist">plist(5)</a> format.

     <b>--group-pkgs</b> <u>group-id</u>
                 List all of the packages that are members of this <u>group-id</u>.

     <b>--file-info</b> <u>path</u>
                 Show the metadata known about <u>path</u>.

     <b>--file-info-plist</b> <u>path</u>
                 Show the metadata known about <u>path</u> in Mac OS X <a href="../man5/plist.5.html#//apple_ref/doc/man/5/plist">plist(5)</a> format.

<b>FILE</b> <b>COMMANDS</b>
     <b>--expand</b> <u>pkg-path</u> <u>dir-path</u>
                 Expand the flat package at <u>pkg-path</u> into a new directory specified by <u>dir-path</u>.

     <b>--flatten</b> <u>dir-path</u> <u>pkg-path</u>
                 Flatten the <u>dir-path</u> into a new flat package created at <u>pkg-path</u>.  The directory to be
                 flattened <b>must</b> have the proper contents and layout for a flat package.  This is not
                 intended as a substitute for <a href="packagemaker.1.html#//apple_ref/doc/man/1/packagemaker">packagemaker(1)</a>.

     <b>--bom</b> <u>path</u>  Extract any BOM files from the flat pkg at <u>path</u> into /tmp and return the <!-- a -->filename(s)<!-- /a -->.  Sug-<font color="#ffffff" class="whiteout">gested&nbsp;Suggested</font>
                 gested use is as an argument to <a href="../man8/lsbom.8.html#//apple_ref/doc/man/8/lsbom">lsbom(8)</a>.  Eg, "lsbom `pkgutil --bom <u>path</u>`". Note that flat
                 package archives may contain no BOM, one BOM, or several BOMs.

     <b>--payload-files</b> <u>path</u>
                 List the files archived within the payload of the uninstalled flat <!-- a -->package(s)<!-- /a --> contained at
                 <u>path</u>.  This should be equivilant to "lsbom -s `pkgutil --bom <u>path</u>`". Note that flat package
                 archives may contain more than one package, and the destination location for the unin-<font color="#ffffff" class="whiteout">stalled&nbsp;uninstalled</font>
                 stalled <!-- a -->package(s)<!-- /a --> is unknown to this command.

<b>DEBUG</b> <b>COMMANDS</b>
     <b>--pkgutil-version</b>
                 Output the version of the <b>pkgutil</b> command.

     <b>--test</b>      Verify a connection to the receipt database and check that the client and server agree on
                 the protocol version.

<b>ENVIRONMENT</b>
     The following environment variables affect the execution of <b>pkgutil</b>.

     INSTALL_PKG_SESSION_ID
                      Supplied by the Installer when <b>pkgutil</b> is used within a package script. Overridden by
                      the <b>--edit-pkg</b> option, so be sure to leave the package unspecified within package
                      scripts if you want to modify the package being installed.

     INSTALL_TARGET_VOLUME
                      Supplied by the Installer when <b>pkgutil</b> is used within a package script. Overridden by
                      the <b>--volume</b> option, so be sure to leave the volume unspecified within package scripts
                      if you want to modify the package being installed.

<b>NOTES</b>
     1.   <b>Package</b> <b>tainting</b> is when one package declares its contents should become part of another package.
          Future upgrades to the other package will behave as if the other package installed the additional
          files found in the tainting package. This will usually result in the tainting package's files
          being removed when the tainted package is upgraded.

     2.   The <b>--forget</b> command is a debugging tool and should not be used routinely.  There are better ways
          to permanently disable upgrade logic within a package.

<b>FILES</b>
     /usr/libexec/repair_packages
     /Library/Receipts/db/
     ~/Library/Receipts/db/

<b>SEE</b> <b>ALSO</b>
     <a href="../man8/installer.8.html#//apple_ref/doc/man/8/installer">installer(8)</a>
     <a href="../man8/repair_packages.8.html#//apple_ref/doc/man/8/repair_packages">repair_packages(8)</a>
     <a href="packagemaker.1.html#//apple_ref/doc/man/1/packagemaker">packagemaker(1)</a>
     <a href="http://lists.apple.com/mailman/listinfo/installer-dev">http://lists.apple.com/mailman/listinfo/installer-dev</a>

<b>BUGS</b>
     Package dependency analysis and reference counting are not yet available, hence there is no <b>--uninstall</b>
     command yet.

Mac OS                           April 2, 2008                          Mac OS
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/pkgutil.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/pkgutil.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/pkgutil.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
