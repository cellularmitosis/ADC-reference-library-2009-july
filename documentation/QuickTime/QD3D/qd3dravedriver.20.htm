<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Texture Operations</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=33543"> </A><A NAME="29338"> </A>Texture Operations</H1><P CLASS="T1.Text1"><A NAME="pgfId=37991"> </A>A drawing engine may support a <B CLASS="bold">texture mapping operation</B> that determines how a drawing engine performs texture mapping. You specify an engine's texture mapping operation by assigning a value to its <TT CLASS="cv">kQATag_TextureOp</TT> state variable. The default value of this variable for a drawing engine that supports texture mapping is <TT CLASS="cv">kQATextureOp_None</TT>.<A NAME="marker=52051"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=38018"> </A>You can use the following masks to specify a texture mapping operation. The bits are ORed together to determine the desired operation.</P><CODE CLASS="Cv.Code"><A NAME="pgfId=64933"> </A>#define kQATextureOp_None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<BR>#define kQATextureOp_Modulate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)<BR>#define kQATextureOp_Highlight&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)<BR>#define kQATextureOp_Decal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)<BR>#define kQATextureOp_Shrink&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)<BR></CODE><DIV><H2 CLASS="UH.UserHd"><A NAME="pgfId=35279"> </A>Constant descriptions</H2><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=64935"> </A><TT CLASS="cv">kQATextureOp_None</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=35286"> </A>The drawing engine supports no special texture mapping operations. The drawing engine simply replaces an object's color with the texture map color. This mode results in a flat-looking image with no lighting effects, which is most useful when the texture mapping engine is used as a 2D warping engine (for example, for video effects). The texture map's alpha channel values control the transparency of a rendered object on a per-pixel basis. The alpha channel value of a particular pixel is the product of texture map's alpha channel value and the vertex alpha channel value (which is interpolated from the <TT CLASS="cv">TQAVTexture</TT> data structure).</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=64945"> </A><TT CLASS="cv">kQATextureOp_Modulate</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=35287"> </A> The texture map color is modulated with the interpolated diffuse colors (from the <TT CLASS="cv">kd_r</TT>, <TT CLASS="cv">kd_g</TT>, and <TT CLASS="cv">kd_b</TT> fields of a texture vertex).</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=64956"> </A><TT CLASS="cv">kQATextureOp_Highlight</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=35288"> </A> The interpolated specular colors (from the <TT CLASS="cv">ks_r</TT>, <TT CLASS="cv">ks_g</TT>, and <TT CLASS="cv">ks_b</TT> fields of a texture vertex) are added to the texture map color.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=64967"> </A><TT CLASS="cv">kQATextureOp_Decal</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=35289"> </A><A NAME="marker=52198"> </A>The texture map alpha channel value is used to blend the texture map color and the interpolated decal colors (from the <TT CLASS="cv">r</TT>, <TT CLASS="cv">g</TT>, and <TT CLASS="cv">b</TT> fields of a texture vertex). When the texture map alpha channel value is 0, the texture map color is replaced with the interpolated <TT CLASS="cv">r</TT>, <TT CLASS="cv">g</TT>, and <TT CLASS="cv">b</TT> values.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=64977"> </A><TT CLASS="cv">kQATextureOp_Shrink</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=35290"> </A> The drawing engine modifies any <I CLASS="italics">u</I> and <I CLASS="italics">v</I> values so that they always lie in the range 0.0 to 1.0 inclusive. This guarantees that wrapping not occur. In theory, <I CLASS="italics">u</I> and <I CLASS="italics">v</I> values in the range [0.0,&nbsp;1.0] should never cause wrapping. In practice, however, errors that occur during <I CLASS="italics">uv</I> interpolation can cause <I CLASS="italics">uv</I> overflow or underflow, which can result in occasional one pixel texture wrapping at the 0.0 and 1.0 boundaries.<A NAME="marker=57861"> </A></DD></DL COMPACT><P CLASS="I.Important"><A NAME="pgfId=51239"> </A>The clamping specified by the <TT CLASS="cv">kQATextureOp_Shrink</TT> flag is not the same type of OpenGL texture clamping specified by the <TT CLASS="cv">kQATagGL_TextureWrapU</TT> and <TT CLASS="cv">kQATagGL_TextureWrapV</TT> state variables (see <A HREF="qd3dravedriver.23.htm#35669" CLASS="XRef">&quot;Texture Wrapping Values&quot;</A>). OpenGL clamping is designed to accept arbitrary <I CLASS="italics">uv</I> values, while clamping specified by the <TT CLASS="cv">kQATextureOp_Shrink</TT> flag operates only on <I CLASS="italics">uv</I> values in the range 0.0 to 1.0. The <TT CLASS="cv">kQATextureOp_Shrink</TT> clamping is therefore less expensive to implement (perhaps simply by compressing the range of <I CLASS="italics">u</I> and <I CLASS="italics">v</I> slightly before beginning interpolation). Any drawing engine that does support OpenGL clamping can use that code to support <TT CLASS="cv">kQATextureOp_Shrink</TT> clamping. </P><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>