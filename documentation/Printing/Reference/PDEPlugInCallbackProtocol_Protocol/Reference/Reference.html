<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>PDEPlugInCallbackProtocol Protocol Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="PDEPlugInCallbackProtocol Protocol Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006586-CH1" title="PDEPlugInCallbackProtocol"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Printing/index.html#//apple_ref/doc/uid/TP30001281-TP30000432" target="_top">Printing</a> &gt; <a href="../../../../../reference/Printing/idxCarbon-date.html#//apple_ref/doc/uid/TP30001281-TP30000432-TP30000494" target="_top">Carbon</a> &gt; <a href="../index.html" target="_top">PDEPlugInCallbackProtocol Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/cat/PDEPlugInCallbackProtocol" title="PDEPlugInCallbackProtocol"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-SW2" title="PDEPlugInCallbackProtocol"></a><h1>PDEPlugInCallbackProtocol Reference</h1><p class="protocol_subtitle">(informal protocol)</p><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Adopted by</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html#//apple_ref/occ/cl/NSObject" target="_top">NSObject</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/Carbon.framework</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">PDEPluginInterface.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_1" title="Overview"></a><h2>Overview</h2><p class="spaceabove">The <code>PDEPlugInCallbackProtocol</code> informal protocol is implemented by the printing system to allow a Cocoa printing dialog extension plug-in (Cocoa PDE) that implements the <code>PMPlugIn</code> protocol to access information about the current print job. The printing system uses the <code>PDEPanelsForType:withHostInfo:</code> message to pass an object that implements <code>PDEPlugInCallbackProtocol</code> to the PDE. The PDE can retain this object and use it to exchange information with the printing system.</p><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_9" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_10" title="Accessing Print Job Information"></a>
		<h3 class="tasks">Accessing Print Job Information</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/printSession">&#8211;&#xA0;printSession</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the current print session object.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/printSettings">&#8211;&#xA0;printSettings</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the current print settings object.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/pageFormat">&#8211;&#xA0;pageFormat</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the current page format object.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/PMPrinter">&#8211;&#xA0;PMPrinter</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the current printer object.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/ppdFile">&#8211;&#xA0;ppdFile</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a CUPS object used to access information about the current printer.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_11" title="Changing PPD Options"></a>
		<h3 class="tasks">Changing PPD Options</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/willChangePPDOptionKeyValue:ppdChoice:">&#8211;&#xA0;willChangePPDOptionKeyValue:ppdChoice:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Requests a change in the value of a PPD option.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_12" title="Changing the Pane Size"></a>
		<h3 class="tasks">Changing the Pane Size</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/panelViewDidResize">&#8211;&#xA0;panelViewDidResize</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies the printing system that the size of the pane’s view has changed.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_13" title="Not Recommended"></a>
		<h3 class="tasks">Not Recommended</h3>
		
		
		
			<p>These methods are not relevant in Cocoa PDEs written for applications or CUPS printer drivers.</p>
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/jobTemplate">&#8211;&#xA0;jobTemplate</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the job template for the current printer.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/printerInfoTicket">&#8211;&#xA0;printerInfoTicket</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the printer information ticket for the current printer.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_14" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/instm/NSObject/jobTemplate" title="jobTemplate"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_7" title="jobTemplate"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_16"></a><h3 class="verytight">jobTemplate</h3><p class="spaceabove">Returns the job template for the current printer.</p><p class="spaceabovemethod">- (PMTemplateRef) jobTemplate</p><h5 class="tight">Return Value</h5><p>The current printer’s job template.</p><h5 class="tight">Discussion</h5><p>This method is relevant only in a Cocoa PDE associated with a Tioga printer module. A PDE associated with an application or a CUPS printer driver should use the <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/ppdFile">ppdFile</a></code> method to get information about the destination printer.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code><a name="//apple_ref/occ/instm/NSObject/pageFormat" title="pageFormat"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_4" title="pageFormat"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_17"></a><h3 class="verytight">pageFormat</h3><p class="spaceabove">Returns the current page format object.</p><p class="spaceabovemethod">- (PMPageFormat) pageFormat</p><h5 class="tight">Return Value</h5><p>The page format object for the current print job. Note that both the Page Setup and Print dialogs have a page format object.</p><h5 class="tight">Discussion</h5><p>You may send this message to the receiver to obtain the page format object for the current print job.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code><a name="//apple_ref/occ/instm/NSObject/panelViewDidResize" title="panelViewDidResize"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_6" title="panelViewDidResize"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_18"></a><h3 class="verytight">panelViewDidResize</h3><p class="spaceabove">Notifies the printing system that the size of the pane’s view has changed.</p><p class="spaceabovemethod">- (void)panelViewDidResize</p><h5 class="tight">Discussion</h5><p>You should send this message to the receiver if your pane’s view size has changed. In response, the printing system resizes the dialog to show as much of the view as possible. For example, the view size may increase if the user clicks a disclosure control that reveals additional settings.</p><h5 class="tight">Special Considerations</h5><p>If your PDE is running in Mac OS X v10.4, this method is available but does nothing. You should display your view in its fully disclosed state.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code><a name="//apple_ref/occ/instm/NSObject/PMPrinter" title="PMPrinter"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-SW3" title="PMPrinter"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_19"></a><h3 class="verytight">PMPrinter</h3><p class="spaceabove">Returns the current printer object.</p><p class="spaceabovemethod">- (PMPrinter) PMPrinter</p><h5 class="tight">Return Value</h5><p>The printer object for the currently selected printer.</p><h5 class="tight">Discussion</h5><p>You may send this message to the receiver to obtain the printer object for the currently selected printer in the dialog. If your PDE is extending the Page Setup dialog, this method returns the formatting printer. If your PDE is extending the Print dialog, this method returns the destination printer.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code><a name="//apple_ref/occ/instm/NSObject/ppdFile" title="ppdFile"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-SW1" title="ppdFile"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_20"></a><h3 class="verytight">ppdFile</h3><p class="spaceabove">Returns a CUPS object used to access information about the current printer.</p><p class="spaceabovemethod">- (ppd_file_t *) ppdFile</p><h5 class="tight">Return Value</h5><p>The CUPS object that contains information about the current printer.</p><h5 class="tight">Discussion</h5><p>This method gives you access to information in the PPD file associated with the destination printer for the current print job. The PPD file contains information such as optional hardware and features the printer supports.</p><p>When you send this message, the receiver returns a CUPS PPD file object that you can pass to CUPS functions to get information about the PPD file. The printing system owns the returned object, and the object should be considered read-only. You should not change this object explicitly or by using CUPS functions.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code><a name="//apple_ref/occ/instm/NSObject/printerInfoTicket" title="printerInfoTicket"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_8" title="printerInfoTicket"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_21"></a><h3 class="verytight">printerInfoTicket</h3><p class="spaceabove">Returns the printer information ticket for the current printer.</p><p class="spaceabovemethod">- (PMTicketRef) printerInfoTicket</p><h5 class="tight">Return Value</h5><p>The printer information ticket for the current printer.</p><h5 class="tight">Discussion</h5><p>This method is relevant only in a Cocoa PDE associated with a Tioga printer module. A PDE associated with an application or a CUPS printer driver should use the <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/ppdFile">ppdFile</a></code> method to get information about the destination printer.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code><a name="//apple_ref/occ/instm/NSObject/printSession" title="printSession"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_2" title="printSession"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_22"></a><h3 class="verytight">printSession</h3><p class="spaceabove">Returns the current print session object.</p><p class="spaceabovemethod">- (PMPrintSession) printSession</p><h5 class="tight">Return Value</h5><p>The print session object for the current print job.</p><h5 class="tight">Discussion</h5><p>You may send this message to the receiver to obtain the print session object for the current print job.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code><a name="//apple_ref/occ/instm/NSObject/printSettings" title="printSettings"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_3" title="printSettings"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_23"></a><h3 class="verytight">printSettings</h3><p class="spaceabove">Returns the current print settings object.</p><p class="spaceabovemethod">- (PMPrintSettings) printSettings</p><h5 class="tight">Return Value</h5><p>The print settings object for the current print job. If your PDE is not extending the Print dialog, this method returns <code>nil</code>.</p><h5 class="tight">Discussion</h5><p>You may send this message to the receiver to obtain the print settings object for the current print job, if the object exists.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code><a name="//apple_ref/occ/instm/NSObject/willChangePPDOptionKeyValue:ppdChoice:" title="willChangePPDOptionKeyValue:ppdChoice:"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_5" title="willChangePPDOptionKeyValue:ppdChoice:"></a><a name="//apple_ref/doc/uid/TP40006586-CH1-DontLinkElementID_24"></a><h3 class="verytight">willChangePPDOptionKeyValue:ppdChoice:</h3><p class="spaceabove">Requests a change in the value of a PPD option.</p><p class="spaceabovemethod">- (BOOL)willChangePPDOptionKeyValue:(NSString *)option ppdChoice:(NSString *)choice</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>option</em></dt><dd><p>The main key for an option in the printer's PPD file.</p></dd><dt><em>choice</em></dt><dd><p>The new value of the specified option.</p></dd></dl><h5 class="tight">Return Value</h5><p><code>YES</code> if the specified choice is accepted; otherwise <code>NO</code>.</p><h5 class="tight">Discussion</h5><p>You should send this message to the receiver whenever your PDE or the user requests a change in the value of a PPD option for the current print job. A return value of <code>YES</code> indicates that the printing system accepts the change, and the change has been recorded in the print settings object and the CUPS PPD file object. Note that your PDE should not attempt to modify the print settings or the CUPS PPD file object directly; the printing system handles this task for you.</p><p>If the desired choice is in conflict with other currently selected PPD options, the printing system tries to resolve the conflict. This may include presenting the user with a dialog explaining the conflict and allowing the user to cancel the change. A return value of <code>NO</code> indicates that the printing system rejects the change, and you should ensure that the user interface representing the option reverts to the value prior to the requested change.</p><h5 class="tight">Special Considerations</h5><p>If your PDE is running in Mac OS X v10.4, this method is available but does nothing.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>PDEPluginInterface.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-12-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Printing/Reference/PDEPlugInCallbackProtocol_Protocol/Reference/Reference.html%3Fid%3DTP40006586-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Printing/Reference/PDEPlugInCallbackProtocol_Protocol/Reference/Reference.html%3Fid%3DTP40006586-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Printing/Reference/PDEPlugInCallbackProtocol_Protocol/Reference/Reference.html%3Fid%3DTP40006586-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>