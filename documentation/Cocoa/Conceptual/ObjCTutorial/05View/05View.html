<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Cocoa Application Tutorial: Defining the View: Building the User Interface</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Defining the View: Building the User Interface"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000863-CH7" title="Defining the View: Building the User Interface"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../ObjectiveCLanguage-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000856" target="_top">Objective-C Language</a> &gt; <a href="../01Introduction/01Introduction.html#//apple_ref/doc/uid/TP40000863-CH13-DontLinkElementID_3">Cocoa Application Tutorial</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../04Model/04Model.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../06Controller/06Controller.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000863-CH7-SW1" title="Defining the View: Building the User Interface"></a><h1>Defining the View: Building the User Interface</h1><p>Every application has a user interface. It can be a tedious and infuriating task to design user interfaces without a good program to help you. Interface Builder, an application supplied with Xcode, makes designing user interfaces simple, and so turns a tedious task into something easy. </p><p>This chapter teaches you how Interface Builder integrates with Cocoa. It guides you through building the user interface for your application. You learn where to locate the tools you need and how to use the features in Interface Builder to create the perfect user interface for your application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="05View.html#//apple_ref/doc/uid/TP40000863-CH7-SW15">User Interface Elements and Interface Builder</a>
				
			<br/>
			
        
			
			
				<a href="05View.html#//apple_ref/doc/uid/TP40000863-CH7-SW18">Creating the Currency Converter Window</a>
				
			<br/>
			
        
			
			
				<a href="05View.html#//apple_ref/doc/uid/TP40000863-CH7-SW27">Refining the Layout and View Functionality</a>
				
			<br/>
			
        
			
			
				<a href="05View.html#//apple_ref/doc/uid/TP40000863-CH7-SW32">Test the Interface</a>
				
			<br/>
			
        
			
			
				<a href="05View.html#//apple_ref/doc/uid/TP40000863-CH7-SW33">What’s Next?</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000863-CH7-SW15" title="User Interface Elements and Interface Builder"></a><h2>User Interface Elements and Interface Builder</h2><p>Interface Builder is an application that helps you design the user interface and connect the different parts of your application. It contains a drag-and-drop interface for UI design, and an inspector that allows you to view and change the properties of the various objects in your design, as well as the connections between them.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW2" title="What Is a Nib File?"></a><h3>What Is a Nib File?</h3><p>Every Cocoa application with a graphical user interface has at least one nib file. The main nib file is loaded automatically when an application launches. It contains the menu bar and generally at least one window along with various other objects. An application can have other nib files as well. Each nib file contains:</p><ul class="spaceabove"><li class="li"><p><strong>Archived objects.</strong> Also known in object-oriented terminology as “flattened” or “serialized” objects—meaning that the object has been encoded in such a way that it can be saved to disk (or transmitted over a network connection to another computer) and later restored in memory. Archived objects contain information such as their size, location, and position in the object hierarchy. At the top of the hierarchy of archived objects is the File’s Owner object, a proxy object that points to the actual object that owns the nib file (typically the one that loaded the nib file from disk).</p></li><li class="li"><p><strong>Images.</strong> Image files are files that you drag to the nib file window or to an object that can accept them (such as a button or image view). </p></li><li class="li"><p><strong>Class references.</strong> Interface Builder can store the details of Cocoa objects and objects that you place into static palettes, but it does not know how to archive instances of your custom classes since it doesn’t have access to the code. For these classes, Interface Builder stores a proxy object to which it attaches your custom class information.</p></li><li class="li"><p><strong>Connection information.</strong> Information about how objects within the class hierarchies are interconnected. Connector objects special to Interface Builder store this information. When you save a document, its connector objects are archived in the nib file along with the objects they connect. </p></li></ul><a name="//apple_ref/doc/uid/TP40000863-CH7-SW16" title="Windows and Menus in Cocoa"></a><h3>Windows and Menus in Cocoa</h3><p>Windows have numerous characteristics. They can be onscreen or offscreen. Onscreen windows are “layered” on the screen in tiers managed by the window server. A typical Cocoa window has a title bar, a content area, and several control objects.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW17" title="Key and Main Windows"></a><h4>Key and Main Windows</h4><p>Onscreen windows can carry a status: key or main. Key windows respond to keypresses for an application and are the primary recipient of messages from menus and panels. Usually, a window is made key when the user clicks it. Each application can have only one key window.</p><p>An application has one main window, which can often have key status as well. The main window is the principal focus of user actions for an application. Often user actions in a key window (typically a panel such as the Font window or an Info window) have a direct effect on the main window.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-TPXREF137" title="NSWindow and the Window Server"></a><h4>NSWindow and the Window Server</h4><p>Many user interface objects other than the standard window are windows. Menus, pop-up lists, and pull-down lists are primarily windows, as are all varieties of utility windows and dialogs: attention dialogs, Info windows, drawers, utility windows, and tool palettes, to name a few. In fact, anything drawn on the screen must appear in a window. Users, however, may not recognize or refer to them as windows.</p><p>Two interacting systems create and manage Cocoa windows. A window is created by the window server. The window server is a process that uses the internal window management portion of Quartz (the low-level drawing system) to draw, resize, hide, and move windows using Quartz graphics routines. The window server also detects user events (such as mouse clicks) and forwards them to applications.</p><p>The window that the window server creates is paired with an object supplied by the Application Kit framework. The object supplied is an instance of the <code>NSWindow</code> class. Each physical window in a Cocoa program is managed by an instance of <code>NSWindow</code> or a subclass of it. For information on the Application Kit, see <span class="content_text"><a href="../../CocoaFundamentals/WhatIsCocoa/WhatIsCocoa.html#//apple_ref/doc/uid/TP40002974-CH3" target="_top">What Is Cocoa?</a></span> in <em><a href="../../CocoaFundamentals/index.html#//apple_ref/doc/uid/TP40002974" target="_top">Cocoa Fundamentals Guide</a></em>.</p><p>When you create an <code>NSWindow</code> object, the window server creates the physical window that the <code>NSWindow</code> object manages. The <code>NSWindow</code> class offers a number of instance methods through which you customize the operation of its onscreen window.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-TPXREF138" title="Application, Window, View"></a><h4>Application, Window, View</h4><p>In a running Cocoa application, <code>NSWindow</code> objects occupy a middle position between an instance of <code>NSApplication</code> and the views of the application. (A view is an object that can draw itself and detect user events.) The <code>NSApplication</code> object keeps a list of its windows and tracks the current status of each. Each <code>NSWindow</code> object, on the other hand, manages a hierarchy of views in addition to its window. </p><p>At the top of this hierarchy is the content view, which fits just within the window’s content rectangle. The content view encloses all other views (its subviews), which come below it in the hierarchy. The <code>NSWindow</code> object distributes events to views in the hierarchy and regulates coordinate transformations among them.</p><p>Another rectangle, the frame rectangle, defines the outer boundary of the window and includes the title bar and the window’s controls. Cocoa uses the bottom-left corner of the frame rectangle as the origin for the base coordinate system, unlike Carbon applications, which use the top-left corner. Views draw themselves in coordinate systems transformed from (and relative to) this base coordinate system.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW18" title="Creating the Currency Converter Window"></a><h2>Creating the Currency Converter Window</h2><p>Currency Converter has a main window that the user will interact with. This section will guide you through the process of designing Currency Converter’s main window.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW19" title="Create the Window"></a><h3>Create the Window</h3><p>You use Interface Builder to define an application’s user interface. To open the Currency Converter’s main nib file in Interface Builder:</p><ol class="ol"><li class="li"><p>Locate <code>MainMenu.nib</code> in the Resources subgroup of your project.</p></li><li class="li"><p>Double-click the nib file. This opens the nib file in Interface Builder.</p></li></ol><p>A default menu bar, the <code>MainMenu.nib</code> window, the Library, and an empty window titled Window appear when the nib file is opened.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW20" title="Resize the Window"></a><h3>Resize the Window</h3><p>Make the window smaller by dragging the bottom-right corner of the window inward, as shown in <span class="content_text">Figure 4-1</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40000863-CH7-TPXREF168" title="Figure 4-1Resizing a window manually"></a><p><strong>Figure 4-1&nbsp;&nbsp;</strong>Resizing a window manually</p><img src = "../Art/window_resizing.jpg" alt = "Resizing a window manually" ></div><br/><p>You can resize the window more precisely by using the Window Size inspector.</p><ol class="ol"><li class="li"><p>Choose Tools > Inspector.</p></li><li class="li"><p>Click the Size icon, which looks like a yellow ruler.</p></li><li class="li"><p>In the Content Size &amp; Position group, you can set the width, height, and default x and y coordinates of the window.</p></li><li class="li"><p>Type new dimensions into the width and height fields, as shown in <span class="content_text">Figure 4-2</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW4" title="Figure 4-2Resizing a window with the inspector"></a><p><a name="//apple_ref/doc/uid/TP40000863-CH7-CJBDJABG" title="Figure 4-2Resizing a window with the inspector"></a><strong>Figure 4-2&nbsp;&nbsp;</strong>Resizing a window with the inspector</p><img src = "../Art/window_info_size.jpg" alt = "Resizing a window with the inspector" ></div></li><li class="li"><p>In the Initial Position group, you see a graphical representation of your window and your screen. Drag the window to the top-left corner of the box for a traditional default position for your application.</p></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW21" title="Change the Title of the Window"></a><h3>Change the Title of the Window</h3><p>Currently, when your application runs, its title will be Window. To change the title:</p><ol class="ol"><li class="li"><p>Select the Window object in the <code>MainMenu.nib</code> window.</p></li><li class="li"><p>Navigate to the Attributes tab in the Inspector.</p></li><li class="li"><p>Change the value of Title from Window to Currency Converter.</p></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW22" title="Add the Text Fields"></a><h3>Add the Text Fields</h3><p>The Library window of Interface Builder contains several user interface elements that you can drag into a window or menu to create an application’s user interface. </p><ol class="ol"><li class="li"><p>If the Library is not already open, shown in <span class="content_text">Figure 4-3</span>—choose Tools > Library.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW5" title="Figure 4-3Cocoa Views and Cells in the Interface Builder Library window"></a><p><strong>Figure 4-3&nbsp;&nbsp;</strong>Cocoa Views and Cells in the Interface Builder Library window</p><img src = "../Art/library_text_box.jpg" alt = "Cocoa Views and Cells in the Interface Builder Library window" ></div></li><li class="li"><p>In the list at the top of the Library, open Library, then Cocoa, and select Views &amp; Cells.</p></li><li class="li"><p>Notice how in <span class="content_text">Figure 4-3</span> the icons have labels. If you do not see labels, choose View Icons &amp; Labels from the gear menu at the bottom of the window. This will make it easier to locate the objects you are looking for.</p></li><li class="li"><p>Place a text field in the Currency Converter window.</p><p>Find the Text Field item (shown highlighted in <span class="content_text">Figure 4-3</span>) and drag the Text Field object from the library to the top-right corner of the window. Notice that Interface Builder helps you place objects according to the Apple human interface guidelines by displaying layout guides when an object is dragged close to the proper distance from neighboring objects or the edge of the window.</p></li><li class="li"><p>Increase the text field’s size so that it’s about a third wider.</p><p>Resize the text field by grabbing a handle and dragging in the direction you want it to grow. In this case, drag the left handle to the left to enlarge the text field, as shown in <span class="content_text">Figure 4-4</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW6" title="Figure 4-4Resizing a text field"></a><p><strong>Figure 4-4&nbsp;&nbsp;</strong>Resizing a text field</p><img src = "../Art/textfield_resize.jpg" alt = "Resizing a text field" ></div></li><li class="li"><p>Add two more text fields, both the same size as the first. </p><p>There are two options: You can drag another text field from the palette to the window and make it the same size as the first one, or you can duplicate the text field already in the window. </p><p>To duplicate the text field in the Currency Converter window:</p><ol class="ol"><li class="ol ol"><p>Select the text field, if it is not already selected.</p></li><li class="ol ol"><p>Choose Duplicate (Command-D) from the Edit menu. The new text field appears slightly offset from the original field. </p></li><li class="ol ol"><p>Position the new text field under the first text field. Notice that the layout guides appear and Interface Builder snaps the text field into place.</p></li><li class="ol ol"><p>To make the third text field, press Command-D again.</p></li></ol><p>As a shortcut, you can also Option-drag the original text field to duplicate it.</p></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW23" title="Assign Labels to the Fields"></a><h3>Assign Labels to the Fields</h3><p>Text fields without labels would be confusing, so add labels to them by using the ready-made label object from the library.</p><ol class="ol"><li class="li"><p>Drag a Label element onto the window from the Cocoa library.</p><div class="item_figure"><img src = "../Art/text.jpg" alt = "Dragging a label onto the window from the Cocoa library" ></div></li><li class="li"><p>Make the text label right aligned:</p><p>With the Label element selected, click the third button from the left in the Alignment area in the Text Field Attributes tab in the Inspector, as shown in <span class="content_text">Figure 4-5</span>.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000863-CH7-DontLinkElementID_7" title="Note"></a><p><strong>Note:</strong>&nbsp;To open the inspector in Interface Builder, choose Tools > Inspector.</p></div><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW7" title="Figure 4-5Right aligning a text label in Interface Builder"></a><p><strong>Figure 4-5&nbsp;&nbsp;</strong>Right aligning a text label in Interface Builder</p><img src = "../Art/text_align.jpg" alt = "Right aligning a text label in Interface Builder" ></div></li><li class="li"><p>Enter <code>Exchange Rate per $1:</code> in the Title text field.</p></li><li class="li"><p>Duplicate the text label twice. Set the title of the second text label to “Dollars to Convert:” and the title for the third text label to “Amount in Other Currency:”.</p></li><li class="li"><p>Expand the text fields to the left so that their entire titles are visible, as shown in <span class="content_text">Figure 4-6</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW8" title="Figure 4-6Text fields and labels in the Currency Converter window"></a><p><strong>Figure 4-6&nbsp;&nbsp;</strong>Text fields and labels in the Currency Converter window</p><img src = "../Art/window_text_fields.jpg" alt = "Text fields and labels in the Currency Converter window" ></div></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW24" title="Change the Text Field Attributes"></a><h3>Change the Text Field Attributes</h3><p>The bottom text field displays the results of the currency conversion computation and should therefore have different attributes than the other text fields. It must not be editable by the user.</p><p>To make the text field that shows the result cannot be editable by the user:</p><ol class="ol"><li class="li"><p>Select the third text field.</p></li><li class="li"><p>In the Inspector, navigate to the Text Field Attributes tab.</p></li><li class="li"><p>Make sure the Editable option is deselected so that users are not allowed to alter the contents of the text field. Also make sure the Selectable option is selected so that users can copy the contents of the text field to other applications.</p></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW25" title="Configure a Button"></a><h3>Configure a Button</h3><p>The currency conversion should be invoked either by clicking a button or pressing Return. To add a button to the Currency Converter window:</p><ol class="ol"><li class="li"><p>Drag the Push Button object from the library to the bottom-right corner of the window.</p></li><li class="li"><p>Double-click the button and change its title to Convert.</p></li><li class="li"><p>In the Key Equiv. section of the Button Attributes inspector, click the gray box. Now press Return. A return symbol should appear in the gray box. This makes the button respond to the Return key as well as to clicks.</p></li><li class="li"><p>Align the button under the text fields.</p><ol class="ol"><li class="ol ol"><p>Drag the button downward until the layout guide appears, and then release it.</p></li><li class="ol ol"><p>With the button still selected, hold down the Option key. If you move the pointer around, Interface Builder shows you the distance in pixels from the button to the element over which the pointer is hovering.</p></li><li class="ol ol"><p>With the Option key still down and the pointer over the Amount in Other Currency text field, use the arrow keys to nudge the button so that its center is aligned with the center of the text field, as shown in <span class="content_text">Figure 4-7</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW9" title="Figure 4-7Measuring distances in Interface Builder"></a><p><strong>Figure 4-7&nbsp;&nbsp;</strong>Measuring distances in Interface Builder</p><img src = "../Art/window_button.jpg" alt = "Measuring distances in Interface Builder" ></div></li></ol></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW26" title="Add a Separator to Group Controls"></a><h3>Add a Separator to Group Controls</h3><p>The final interface for Currency Converter has a line separating the text fields and the button. To add the line to the Currency Converter window:</p><ol class="ol"><li class="li"><p>Drag a Horizontal Line object from the Library to the Currency Converter window.</p></li><li class="li"><p>Drag the endpoints of the line until the line extends across the window, as shown in <span class="content_text">Figure 4-8</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW10" title="Figure 4-8Adding a horizontal line to the Currency Converter window"></a><p><strong>Figure 4-8&nbsp;&nbsp;</strong>Adding a horizontal line to the Currency Converter window</p><img src = "../Art/window_line.jpg" alt = "Adding a horizontal line to the Currency Conveter window" ></div></li><li class="li"><p>Move the Convert button up until the layout guide appears below the horizontal separator, and shorten the window until the horizontal layout guide appears below the Convert button.</p></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW27" title="Refining the Layout and View Functionality"></a><h2>Refining the Layout and View Functionality</h2><p>The Currency Converter window now contains all the necessary objects for it to function the way it is designed. This section guides you through formatting the window and menu to make it more user friendly.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW3" title="Configure the Menu"></a><h3>Configure the Menu</h3><p>By default, Interface Builder places the term NewApplication in place of the application name in the menu bar and throughout an application’s menu hierarchy. You must change this text to the application name in all menu items that include the application name, such as the application menu and the Help menu.</p><ol class="ol"><li class="li"><p>Rename the application menu:</p><ol class="ol"><li class="ol ol"><p>In the MainMenu window, double-click NewApplication to highlight the text for editing.</p></li><li class="ol ol"><p>Enter Currency Converter in place of the text and press Return.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40000863-CH7-DontLinkElementID_8" title="Important:"></a><p><strong>Important:</strong>&nbsp;At runtime, the title of the application menu is determined by the value of the application-name property (the value of the <code>CFBundleName</code> information property list key), not the title you specify in the nib file. See <span class="content_text"><a href="../08Configuring/08Configuring.html#//apple_ref/doc/uid/TP40000863-CH10-SW2">“The Info.plist File”</a></span> for details.</p><p></p></div></li></ol></li><li class="li"><p>Modify items in the application menu.</p><ol class="ol"><li class="ol ol"><p>In the MainMenu window, which looks like a program’s toolbar, click Currency Converter, double-click About NewApplication, and replace NewApplication with Currency Converter.</p></li><li class="ol ol"><p>Change Currency Converter > Hide NewApplication to Hide Currency Converter.</p></li><li class="ol ol"><p>Change Currency Converter > Quit NewApplication to Quit Currency Converter. The Currency Converter application menu should now look like the one in <span class="content_text">Figure 4-9</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW29" title="Figure 4-9The Currency Converter application menu"></a><p><strong>Figure 4-9&nbsp;&nbsp;</strong>The Currency Converter application menu</p><img src = "../Art/menu.jpg" alt = "The Currency Coverter application menu" ></div></li></ol></li><li class="li"><p>In the Help menu, change NewApplication Help to Currency Converter Help.</p></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW28" title="Aligning Objects in a Window"></a><h3>Aligning Objects in a Window</h3><p>In order to make an attractive user interface, you must be able to visually align interface objects in rows and columns. “Eyeballing” the alignments can be very difficult; and typing in x/y coordinates by hand is tedious and time consuming. Aligning user interface elements is made even more difficult because the elements have shadows and user interface guideline metrics do not typically take the shadows into account. Interface Builder uses visual guides and layout rectangles to help you with object alignment.</p><p>In Cocoa, all drawing is done within the bounds of an object’s frame. Because interface objects have shadows, they do not visually align correctly if you align the edges of the frames. For example, <em><a href="../../../../UserExperience/Conceptual/AppleHIGuidelines/index.html#//apple_ref/doc/uid/20000957" target="_top">Apple Human Interface Guidelines</a></em> says that a push button should be 20 pixels tall, but you actually need a frame of 32 pixels for both the button and its shadow. The layout rectangle is what you must align. You can view the layout rectangles of objects in Interface Builder using the Show Layout Rectangles command in the Layout menu.</p><p>Interface Builder gives you several ways to align objects in a window:</p><ul class="spaceabove"><li class="li"><p>Dragging objects with the mouse in conjunction with the layout guides</p></li><li class="li"><p>Pressing the arrow keys (with the grid off, the selected objects move one pixel)</p></li><li class="li"><p>Using a reference object to put selected objects in rows and columns</p></li><li class="li"><p>Using the built-in alignment functions</p></li><li class="li"><p>Specifying origin points in the Size pane in the inspector</p></li></ul><p>The Alignment submenu in the Layout menu provides various alignment commands and tools, including the Alignment window, which contains controls you can use to perform common alignment operations.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW30" title="Finalize the Window Size"></a><h3>Finalize the Window Size</h3><p>The Currency Converter interface is almost complete. The finishing touch is to resize the window so that all the user interface elements are centered and properly aligned to each edge. Currently, the objects are aligned only to the top and right edges.</p><p>To finalize the Currency Converter window:</p><ol class="ol"><li class="li"><p>Select the Amount in Other Currency text label and extend the selection (Shift-click) to include the other two labels.</p></li><li class="li"><p>Choose Layout > Size to Fit to resize all the labels to their minimum width.</p></li><li class="li"><p>Choose Layout > Alignment > Align Right Edges.</p></li><li class="li"><p>Drag the labels towards the left edge of the window, and release them when the layout guide appears.</p></li><li class="li"><p>Select the three text fields and drag them to the left, again using the guides to help you find the proper position.</p></li><li class="li"><p>Shorten the horizontal separator and move the button into position again under the text fields.</p></li><li class="li"><p>Make the window shorter and narrower until the layout guides appear to the right of the text fields.</p></li><li class="li"><p>Select the Window object in MainMenu.nib</p></li><li class="li"><p>Since you have made the window the perfect size for its components, you don’t want the user to resize the window. In the Attributes tab of the Inspector, make sure the Resize checkbox under the Controls section is deselected. </p></li></ol><p>At this point the application’s window should look like <span class="content_text">Figure 4-10</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40000863-CH7-SW14" title="Figure 4-10The Currency Converter final user interface in Interface Builder"></a><p><strong>Figure 4-10&nbsp;&nbsp;</strong>The Currency Converter final user interface in Interface Builder</p><img src = "../Art/main_window.jpg" alt = "The Currency Converter final user interface in Interface Builder" ></div><br/><a name="//apple_ref/doc/uid/TP40000863-CH7-SW11" title="Enable Tabbing Between Text Fields"></a><h3>Enable Tabbing Between Text Fields</h3><p>The final step in composing the Currency Converter user interface has more to do with behavior than with appearance. You want the user to be able to tab from the first editable field to the second, and back to the first. Many objects in the Interface Builder Library have an outlet named <code>nextKeyView</code>. This variable identifies the next object to receive keyboard events when the user presses the Tab key (or the previous object when Shift-Tab is pressed). A Cocoa application by default makes its “best guess” about how to handle text field tabbing, but this guess often produces unexpected results. If you want correct interfield tabbing, you must connect fields through the <code>nextKeyView</code> outlet.</p><p>To tab between text fields:</p><ol class="ol"><li class="li"><p>Select the Exchange Rate text field.</p></li><li class="li"><p>Control-drag a connection from the Exchange Rate text field to the Dollars to Convert text field, as shown in <span class="content_text">Figure 4-11</span>. (To Control-drag, press Control, then drag the connection line.)</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW12" title="Figure 4-11Connecting nextKeyView outlets in Interface Builder"></a><p><strong>Figure 4-11&nbsp;&nbsp;</strong>Connecting <code>nextKeyView</code> outlets in Interface Builder</p><img src = "../Art/window_nextkey.jpg" alt = "Connecting nextKeyView outlets in Interface Builder" ></div></li><li class="li"><p>Select <code>nextKeyView</code> under Outlets. This identifies the next object to respond to events after the Tab key is pressed.</p></li><li class="li"><p>Repeat the same procedure, going from the Dollars to Convert text field to the Exchange Rate text field.</p></li></ol><p>Now that you’ve set up tabbing between text fields, you must tell Currency Converter which text field will be selected first. You do this by setting an <code>initialFirstResponder</code>.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW31" title="Set the First Responder Text Field"></a><h3>Set the First Responder Text Field</h3><p>The <code>initialFirstResponder</code> is the default selected object when your application starts. If you do not set this outlet, the window sets a key loop and picks a default <code>initialFirstResponder</code> for you (not necessarily the same as the one you would have specified).</p><p>To set the <code>initialFirstResponder</code> outlet for the Currency Converter window:</p><ol class="ol"><li class="li"><p>Control-drag a connection from the Window instance in the <code>MainMenu.nib</code> window to the Exchange Rate text field, as shown in <span class="content_text">Figure 4-12</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP40000863-CH7-SW13" title="Figure 4-12Setting the initialFirstResponder outlet in Interface Builder"></a><p><strong>Figure 4-12&nbsp;&nbsp;</strong>Setting the <code>initialFirstResponder</code> outlet in Interface Builder</p><img src = "../Art/window_first_responder.jpg" alt = "Setting the initialFirstResponder outlet in Interface Builder" ></div></li><li class="li"><p>Select <code>initialFirstResponder</code>.</p></li></ol><p>The Currency Converter user interface is now complete.</p><a name="//apple_ref/doc/uid/TP40000863-CH7-SW32" title="Test the Interface"></a><h2>Test the Interface</h2><p>Interface Builder lets you test an application’s user interface without having to write code. To test the Currency Converter user interface:</p><ol class="ol"><li class="li"><p>Choose File > Save to save your work.</p></li><li class="li"><p>Choose File > Simulate Interface.</p></li><li class="li"><p>Try various user operations, such as tabbing, and cutting and pasting between text fields.</p></li><li class="li"><p>When finished, choose Quit Cocoa Simulator from the application menu to exit test mode.</p></li></ol><a name="//apple_ref/doc/uid/TP40000863-CH7-SW33" title="What&acirc;&#128;&#153;s Next?"></a><h2>What’s Next?</h2><p>In this chapter, you built the user interface for your application. You placed and organized all the various objects the user will interact with as they use the application, and you had them interact with each other. The next chapter will guide you through the creation of a controller that will help the view you just created interact with the model you implemented in the previous chapter.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../04Model/04Model.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../06Controller/06Controller.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/ObjCTutorial/05View/05View.html%3Fid%3DTP40000863-5.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/ObjCTutorial/05View/05View.html%3Fid%3DTP40000863-5.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/ObjCTutorial/05View/05View.html%3Fid%3DTP40000863-5.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>