<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<TITLE> Handling Events</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a><!-- start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!-- start of path -->
<font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <a href="../../../../Carbon/index.html#//apple_ref/doc/uid/TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../Carbon/UserExperience-date.html#//apple_ref/doc/uid/TP30000420-TP30000465" target="_top">User Experience</a></font>
<br><br>
<!-- end of path -->

<A HREF="Navigation_Services-27.html"><img src="images/up.gif" border="0" alt="Up"></A>
<nobr>&nbsp;</nobr>
<A HREF="Navigation_Services-27.html"><img src="images/previous.gif" border="0" alt="Previous"></A>
<nobr>&nbsp;</nobr>
<A HREF="Navigation_Services-29.html"><img src="images/next.gif" border="0" alt="Next"></A>
<nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<script type="text/javascript" language="JavaScript"><!--
function loadFrames(){
if (top == self || (parent.frames[1].name != doc))
    top.location.href = '../index.html?' + location.href;
}

if (self != top) {
  // loaded in frames
  document.write('<a href="'+self.location+'" target="_top"><img src="images/hideframes.gif" border="0" alt="Hide Frames"></a>');
  }
else {
  // not loaded frames
	document.write('<a href="JavaScript:loadFrames()"><img src="images/showframes.gif" border="0" alt="Show Frames"></a>');

}
//--></script>
<!-- end Show/Hide frames -->
<HR>
</DIV>
<A NAME="elementId-1000260"></A><A NAME="pgfId-1000266"></A><H1 CLASS="Head2">
<A NAME="BBJCJEAA"></A><A NAME="11550"></A>Handling Events</H1>
<P CLASS="Para">
<A NAME="pgfId-1030440"></A>To respond to events generated by the user and Navigation Services, you can create an event-handling function, described in this document as MyEventProc. You register your event-handling function by passing a Universal Procedure Pointer (UPP) in the <CODE CLASS="otherCodeCharacters">
eventProc</CODE>
 parameter of a Navigation Services function such as NavGetFile. You obtain this UPP by calling the macro <CODE CLASS="otherCodeCharacters">
NewNavEventProc </CODE>
and passing a pointer to your event-handling function. If an event occurs while the Open dialog box is displayed, for example, the NavGetFile function will call your event-handling function. In the <CODE CLASS="otherCodeCharacters">
callBackParms</CODE>
 parameter of your event-handling function, NavGetFile supplies a structure of type NavCBRec. This structure contains the information your application needs to respond to the event. For instance, your application can obtain the event record describing the event to be handled from the pointer in the <CODE CLASS="otherCodeCharacters">
event</CODE>
 field of the NavCBRec structure. </P>
<P CLASS="Para">
<A NAME="pgfId-1001606"></A>When calling your event-handling function, Navigation Services passes only the update events that apply to your windows and only the mouse-down events that occur in the preview or customization areas.</P>
<P CLASS="Para">
<A NAME="pgfId-1014592"></A>You are strongly encouraged to provide at least a simple function to handle update events. If you do this, Navigation Services dialog boxes automatically become movable and resizable. Listing 2-6 shows an example of such a function.</P>
<PRE CLASS="CodeLines-Container"><A NAME="pgfId-1014606"></A><H5 CLASS="CodeCaption"><A NAME="BBJDBAEJ"></A>Listing 2-6	<A NAME="33571"></A>A sample event-handling function</H5>
<A NAME="pgfId-1032221"></A>pascal void myEventProc(NavEventCallbackMessage callBackSelector, 
                        NavCBRecPtr callBackParms, 
                        NavCallBackUserData callBackUD)
{
    WindowPtr window = 
                    (WindowPtr)callBackParms-&gt;eventData.event-&gt;message;
    switch (callBackSelector)
    {
        case kNavCBEvent:
            switch (((callBackParms-&gt;eventData)
                    .eventDataParms).event-&gt;what)
            {
                case updateEvt:
                    MyHandleUpdateEvent(window, 
                        (EventRecord*)callBackParms-&gt;eventData.event);
                    break;
            }
            break;
    }
}
</PRE>
<P CLASS="Para">
<A NAME="pgfId-1016655"></A>In your event-handling function, you can also call the function NavCustomControl to control various aspects of dialog boxes. For example, the following line shows how you can determine whether the preview area is currently showing:</P>
<PRE CLASS="CodeLines-Container"><A NAME="pgfId-1000360"></A>NavCustomControl(context, kNavCtlIsPreviewShowing, &amp;isShowing);
</PRE>
<P CLASS="Para">
<A NAME="pgfId-1001612"></A>If you extend the type pop-up menus with custom menu items, Navigation Services expects your event-handling function to respond to these items. For more information, see Customizing Type Pop-up Menus.</P>
<HR>&#169; 2000 Apple Computer, Inc. (Last Updated 18 April 00)<P>
<A HREF="Navigation_Services-27.html"><img src="images/up.gif" border="0" alt="Up"></A>
<nobr>&nbsp;</nobr>
<A HREF="Navigation_Services-27.html"><img src="images/previous.gif" border="0" alt="Previous"></A>
<nobr>&nbsp;</nobr>
<A HREF="Navigation_Services-29.html"><img src="images/next.gif" border="0" alt="Next"></A>
<nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<script type="text/javascript" language="JavaScript"><!--
function loadFrames(){
if (top == self || (parent.frames[1].name != doc))
    top.location.href = '../index.html?' + location.href;
}

if (self != top) {
  // loaded in frames
  document.write('<a href="'+self.location+'" target="_top"><img src="images/hideframes.gif" border="0" alt="Hide Frames"></a>');
  }
else {
  // not loaded frames
	document.write('<a href="JavaScript:loadFrames()"><img src="images/showframes.gif" border="0" alt="Show Frames"></a>');

}
//--></script>
<!-- end Show/Hide frames -->
<!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer -->
</BODY>
</HTML>
