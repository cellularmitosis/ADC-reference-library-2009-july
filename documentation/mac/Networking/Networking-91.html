<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The XPP Parameter Block for ZIP(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING91></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-90.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-92.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-84.html"><B>Chapter 4 - Zone Information Protocol (ZIP)</B></A> / <A HREF="Networking-89.html"><B>ZIP Reference</B></A><BR><DL><DD><A HREF="Networking-90.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING91-0></A>
<H3><A NAME=MARKER-9-41></A>The XPP Parameter Block for ZIP </H3>
 <A NAME=MARKER-2-91></A>The Zone Information Protocol's <CODE>GetMyZone</CODE>, <CODE>GetLocalZones</CODE>, and <CODE>GetZoneList</CODE> functions implemented by the .XPP driver use the <CODE>xCallParam</CODE> variant record to the XPP parameter block defined by the <CODE>XPPParamBlock</CODE> data type.<A NAME=MARKER-2-80></A> Your application uses this parameter block to specify input values to and receive output values from a ZIP function. This section defines the parameter block fields that are common to all of the ZIP functions and that are filled in by the MPW interface or returned by the function; your application does not need to fill in these fields. This section does not define reserved fields, which are used either internally by the .XPP driver or not at all. The fields for the <CODE>xCallParam</CODE> variant record are defined in the function descriptions. <P>
<PRE>
TYPE XPPParamBlock = 
      PACKED RECORD
         qLink:               QElemPtr;   {reserved}
         qType:               Integer;    {reserved}
         ioTrap:              Integer;    {reserved}
         ioCmdAddr:           Ptr;        {reserved}
         ioCompletion:        ProcPtr;    {completion routine}
         ioResult:            OSErr;      {result code}
         cmdResult:           LongInt;    {reserved}
         ioVRefNum:           Integer;    {reserved}
         ioRefNum:            Integer;    {driver reference number}
         csCode:              Integer;    {primary command code}
         CASE XPPPrmBlkType OF
            xCallParam
               xppSubCode:    Integer;    {secondary command code}
               xppTimeout:    Byte;       {.XPP timeout period}
               xppRetry:      Byte;       {retry count}
               filler1:       Integer;    {reserved}
               zipBuffPtr:    Ptr;        {returned zone names}
               zipNumZones:   Integer;    {number of zones returned}
               zipLastFlag:   Byte;       {nonzero when all zone names }
                                          { have been returned}
               filler2:       Byte;       {reserved}
               zipInfoField:  PACKED ARRAY[1..70] OF Byte;
                                          {reserved}
      END;
      XPPParmBlkPtr = ^XPPParamBlock;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>ioCompletion</CODE>
<DD> A pointer to a <A NAME=MARKER-2-44></A>completion routine that you can provide. When you execute a function <A NAME=MARKER-2-45></A>asynchronously, the .XPP driver calls your completion routine when it completes execution of the function if you specify a pointer to the routine as the value of this field. Specify <CODE>NIL</CODE> for this field if you do not wish to provide a completion routine. If you execute a function synchronously, the .XPP driver ignores the <CODE>ioCompletion</CODE> field. For information about completion routines, see the chapter "Introduction to AppleTalk" in this book. 
<DT><CODE><A NAME=MARKER-9-71></A>ioResult</CODE>
<DD> The result of the function. When you execute the function asynchro-<BR>nously, the function sets this field to 1 and returns a function result of <CODE>noErr</CODE> as soon as the function begins execution. When the function completes execution, it sets the <CODE>ioResult</CODE> field to the actual result code.
<DT><CODE><A NAME=MARKER-2-73></A>ioRefNum</CODE>
<DD> The .XPP driver reference number. The MPW interface fills in <BR>this field. 
<DT><CODE><A NAME=MARKER-2-92></A>csCode</CODE>
<DD> The command code of the XPP command to<A NAME=MARKER-2-8></A> be executed. The MPW interface fills<A NAME=MARKER-9-75></A> in this<A NAME=MARKER-2-178></A> field<A NAME=MARKER-2-52></A>.
</DL>



</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-90.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-92.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
