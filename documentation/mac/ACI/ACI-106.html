<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Customizing Complement Functions</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING106></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACI-105.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-107.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACI-2.html"><B>Advanced Color Imaging on the Mac OS</B></A> / <BR><DD><A HREF="ACI-99.html"><B>Chapter 7 - Color Manager</B></A> / <A HREF="ACI-104.html"><B>Using the Color Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING106-0></A>
<H2>Customizing Complement Functions</H2>
 <A NAME=MARKER-2-53></A>Some specialized color applications may need to modify the way in which the Color Manager calculates the inverse, or complement, of a color. The Color Manager's default method for inverting a color is to invert the bit values of the <CODE>RGBColor</CODE> data structure. For colors in which at least one component has very low or very high values this method produces expected (or at least discernible) results. A pure green, for example, with RGB color values of 0x0000, 0xFFFF, and 0x0000, inverts to magenta, with RGB color values of 0xFFFF, 0x0000, and 0xFFFF. But midrange values do not change by much: a component value of 0x7FFF, for example, inverts to 0x8000, which is an indiscernible difference. A gray value always inverts to another gray, which may or may not be what your application needs.<P>
 Your application can supply a custom complement function to find the inverse of a specified color. The Color Manager keeps complement functions in a linked list beginning in the <CODE>GDevice</CODE> data structure's <CODE>gdCompProc</CODE> field. Each link is a <CODE>CProcRec</CODE> data structure, which has the format shown below.<P>
<PRE>
struct CProcRec {
   Handle            nxtComp; /* handle to next CProcRec */
   ColorComplementProcPtrcompProc;/* pointer to complement 
                                 function */
};
typedef struct CProcRec CProcRec;
</PRE>
 You install a complement function with the <A NAME=MARKER-2-54></A><CODE>AddComp</CODE> function. When your application is done using it, be sure to remove it with the <A NAME=MARKER-2-55></A><CODE>DelComp</CODE> function.<A NAME=MARKER-2-56></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACI-105.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-107.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACI-3.html">&copy; Apple Computer, Inc.</A><br>13 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
