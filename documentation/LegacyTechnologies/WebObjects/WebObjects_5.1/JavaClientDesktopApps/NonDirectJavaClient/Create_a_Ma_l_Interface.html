<HTML>
	<HEAD>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="generator" content="XML_Publisher">
		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">
        <title>Create
a Master-Detail Interface</title>
		</HEAD>
	<BODY bgcolor="#ffffff">
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --> <!-- insert Show/Hide frames -->
<script type="text/javascript" language="JavaScript"><!--
function loadFrames(){
if (top == self || (parent.frames[1].name != content))
    top.location.href = 'index.html?' + location.href;
}

if (self != top) {
  // loaded in frames
  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');
  }
else {
  // not loaded frames
	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');
}
//--></script>
<!-- end Show/Hide frames -->
<a href="Adding_Action_Methods.html" target="content"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="Build_and_Run.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerTop -->  
<!-- apple_doc: pageHeadingStart --><a name = "TPXREF25"></a><a name="-602729"></a><h3><font face="Lucida Grande,Helvetica,Arial">Create
a Master-Detail Interface</font></h3><!-- apple_doc: pageHeadingEnd -->

<p>To express the relationships in your EOModel, you use a master-detail
interface. This interface includes a master table that holds records
for the source of the relationship and a detail table that holds
records for the destination. As individual records in the master
table are selected, the contents of the detail table change to show
the records that correspond to the selection in the master table. </p>
<p>Before adding a master-detail interface, delete the table
view from the nib file's main window and delete the Student EODisplayGroup
and the EOEditingContext object from the nib file window.</p>
<p>You create a master-detail interface by simply dragging a
relationship from EOModeler into a nib file window. Drag the Student
entity's <code>activities</code> relationship
from EOModeler onto the main window in Interface Builder. This creates
a master-detail relationship. The icon you drag is found under the
Student entity in the entity list pane of EOModeler. You may have
to click the plus icon to show the relationship.</p>
<br><a name = "TPXREF42"></a><a name="-642337"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
6-16 The <code>activities</code> relationship
in the Student entity</font></b></p> <img src = "../Art/entitiesinmodeler.gif" alt = "[image: ../Art/entitiesinmodeler.gif]">

<p>Reconnect the Add and Remove buttons to the Student EODisplayGroup.
Add two buttons for detail part of the relationship to add and remove
activities. Connect them to the activities display group. Add the
formatters for the columns as you did earlier.</p>
<p>Test the master-detail interface by choosing Test Interface
from the File menu.  <a href="#BBCIFFAI">Figure 6-17</a> shows the master-detail interface.</p>
<br><a name = "BBCIFFAI"></a><a name="-602792"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
6-17 A master-detail interface</font></b></p>
 <img src = "../Art/masterdetailnib.gif" alt = "[image: ../Art/masterdetailnib.gif]">

<p>The master-detail interface you just created can be improved.
Although you can add new records by entering text directly in the
table columns, it would be nice to provide text fields for doing
the same thing. Also, you should take advantage of more built-in
features of the technology, such as reversion, undo, and redo.</p>
<p>It's easy to add widgets in Interface Builder. Simply drag
widgets from the Interface Builder palette onto the window.  <a href="#BBCBHHJE">Figure 6-18</a> illustrates
the complete widget set of text fields, text areas, and buttons
for the master-detail interface.</p>
<br><a name = "BBCBHHJE"></a><a name="-602819"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
6-18 Complete widget set for the master-detail
interface</font></b></p> <img src = "../Art/masterdetailnib2.gif" alt = "[image: ../Art/masterdetailnib2.gif]">

<p>Once you drag a widget into a window, you must connect it
to the application. Consider the Achievements text field for the
Activities entity. Once it's placed in the interface, Control-drag
from the text field to the Activities entity in nib file window.
In the Info window, choose EOTextAssociation from the pop-up menu
and double-click "achievements" in the scrolling list, as shown
in  <a href="#BBCBCCDJ">Figure 6-19</a>. This
creates an association between the widget and the attribute in the
entity. So, when you select a record, the value of the <code>achievements</code> attribute
for that record is also displayed in the text field. This also allows
you to edit the value of the attribute with which a text field is
associated.</p>
<br><a name = "BBCBCCDJ"></a><a name="-602845"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
6-19 Connect widgets with associations</font></b></p>
 <img src = "../Art/connectwidgettoutlet.gif" alt = "[image: ../Art/connectwidgettoutlet.gif]">

<p>Associate each widget appropriately. Save the nib file.</p>

<br>
    <!-- insert Show/Hide frames -->
<script type="text/javascript" language="JavaScript"><!--
function loadFrames(){
if (top == self || (parent.frames[1].name != content))
    top.location.href = 'index.html?' + location.href;
}

if (self != top) {
  // loaded in frames
  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');
  }
else {
  // not loaded frames
	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');
}
//--></script>
<!-- end Show/Hide frames -->
<a href="Adding_Action_Methods.html" target="content"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="Build_and_Run.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerBottom --> <br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated May 1, 2002)</font></p><!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->
</body>
</html>
