<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Machine Identification</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><table border="0" cellpadding="0" cellspacing="2" width="432">		<tr>	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">	<b>PATH<img src="images/space.gif" width="6" height="12"></b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a --> 	<b>&gt;</b> iBook Developer Note		</font></td>	</tr>	</table><br><!-- end of path --><A HREF="iBook-7.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="iBook-7.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="iBook-9.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2-Heading2"><A NAME="pgfId-3575"></A><A NAME="26892"></A>Machine Identification</H1><P CLASS="T1-Text1"><A NAME="pgfId-4850"></A>All Macintosh ROMs based on Open Firmware and ROM in RAM share the same BoxFlag. The intent is for applications to use properties in the Open Firmware device tree rather than checking BoxFlag to find out the features of the machine. As with other computers that use ROM-in-RAM, a call to <TT CLASS="cv">gestaltMachineType</TT> returns the value 406 ($196).<A NAME="marker-4851"></A><A NAME="marker-4852"></A> <A NAME="marker-4867"></A><A NAME="marker-5670"></A></P><DIV><BLOCKQUOTE><H4><A NAME="pgfId-18864"></A>IMPORTANT</H4><P CLASS="I-Important"><A NAME="pgfId-4853"></A>Programs such as control panels and installers that use Box Flag to verify that this is a valid CPU on which to execute need to be changed to verify the existence of the hardware they require. Developers should look for the features they need, rather than reading the box flag and then making assumptions about the computer's features.  </P></BLOCKQUOTE><P CLASS="T1-Text1"><A NAME="pgfId-4857"></A>Asset management software that reports the kind of machine it is run on can obtain the value of the property at <TT CLASS="cv">Devices:device-tree:compatible</TT> in the name registry. The model string is the first program-usable string in the array of C strings in the <TT CLASS="cv">compatible</TT> field. For the iBook, the <TT CLASS="cv">model</TT> property value is <TT CLASS="cv">PowerBook2,2</TT>. </P><P CLASS="T1-Text1"><A NAME="pgfId-4858"></A>The string obtained from the <TT CLASS="cv">compatible</TT> property cannot be displayed to the computer user. If it is available, you can use the result from calling <TT CLASS="cv">Gestalt ('mnam', &amp;result)</TT> where <TT CLASS="cv">result</TT> is a string pointer. This call returns a Pascal style string that can be displayed to the user. </P><P CLASS="T1-Text1"><A NAME="pgfId-4859"></A>Applications should not use either of these results to infer the presence of certain features; instead, applications should use Gestalt calls to test for the features they requires. </P></DIV><HR>&#169 2000 Apple Computer, Inc. &#150 (Last Updated 07 Sep 00)<P><A HREF="iBook-7.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="iBook-7.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="iBook-9.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>