<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Sound Command Numbers (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING66></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-65.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-67.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-44.html"><B>Chapter 2 - Sound Manager</B></A> / <A HREF="Sound-62.html"><B>Sound Manager Reference</B></A><BR><DL><DD><A HREF="Sound-63.html"><B>Constants</B></A></DL></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING66-0></A>
<H3><A NAME=MARKER-9-528></A>Sound Command Numbers</H3>
 You can perform many sound-related operations by sending sound commands to a sound channel. For example, to change the volume of a sound that is currently playing, you can send the <CODE>ampCmd</CODE> sound command to the channel using the <CODE>SndDoImmediate</CODE> routine. Similarly, to change the volume of all sounds subsequently to be played in a sound channel, you can send the <CODE>volumeCmd</CODE> sound command to that channel using the <CODE>SndDoCommand</CODE> routine.<P>
 The <CODE>cmd</CODE> field of the <CODE>SndCommand</CODE> data structure (described on <A HREF=Sound-69.html#MARKER-9-610>page 2-99</A>) specifies the sound command you want to execute. The <CODE>param1</CODE> and <CODE>param2</CODE> fields of that structure contain any additional information that might be needed to complete the command. One or both of these parameter fields might be ignored by a particular sound command. In some cases, the Sound Manager returns information to your application in one of the parameter fields.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>In general, you'll use either <CODE>SndDoCommand</CODE> or <CODE>SndDoImmediate</CODE> to send sound commands to a sound channel. With several commands, however, you must use the <CODE>SndControl</CODE> function to issue the sound command. In Sound Manager version 3.0 and later, however, you virtually never need to use <CODE>SndControl</CODE> because the commands that require it are either no longer supported (for example, <CODE>availableCmd</CODE>, <CODE>totalLoadCmd</CODE>, and <CODE>loadCmd</CODE>) or are obsolete (for example, <CODE>versionCmd</CODE>). The sound commands specific to the <CODE>SndControl</CODE> function are documented here for completeness only.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 The sound commands available to your application are defined by constants.<A NAME=MARKER-2-529></A><P>
<PRE>
CONST
   nullCmd           = 0;        {do nothing}
   quietCmd          = 3;        {stop a sound that is playing}
   flushCmd          = 4;        {flush a sound channel}
   reInitCmd         = 5;        {reinitialize a sound channel}
   waitCmd           = 10;       {suspend processing in a channel}
   pauseCmd          = 11;       {pause processing in a channel}
   resumeCmd         = 12;       {resume processing in a channel}
   callBackCmd       = 13;       {execute a callback procedure}
   syncCmd           = 14;       {synchronize channels}
   availableCmd      = 24;       {see if initialization options are }
                                 { supported}
   versionCmd        = 25;       {determine version}
   totalLoadCmd      = 26;       {report total CPU load}
   loadCmd           = 27;       {report CPU load for a new channel}
   freqDurationCmd   = 40;       {play a note for a duration}
   restCmd           = 41;       {rest a channel for a duration}
   freqCmd           = 42;       {change the pitch of a sound
   ampCmd            = 43;       {change the amplitude of a sound}
   timbreCmd         = 44;       {change the timbre of a sound}
   getAmpCmd         = 45;       {get the amplitude of a sound}
   volumeCmd         = 46;       {set volume}
   getVolumeCmd      = 47;       {get volume}
   waveTableCmd      = 60;       {install a wave table as a voice}
   soundCmd          = 80;       {install a sampled sound as a voice}
   bufferCmd         = 81;       {play a sampled sound}
   rateCmd           = 82;       {set the pitch of a sampled sound}
   getRateCmd        = 85;       {get the pitch of a sampled sound}
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-530></A>nullCmd</CODE>
<DD> Do nothing.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: 0 (ignored on input and output)
<DT><CODE><A NAME=MARKER-2-531></A>quietCmd</CODE>
<DD> Stop the sound that is currently playing. You should send <CODE>quietCmd</CODE> by using <CODE>SndDoImmediate</CODE>.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: 0 (ignored on input and output)<A NAME=MARKER-2-532></A>
<DT><CODE><A NAME=MARKER-2-288></A>flushCmd</CODE>
<DD> Remove all commands currently queued in the specified sound channel. A <CODE>flushCmd</CODE> command does not affect any sound that is currently in progress. You should send <CODE>flushCmd</CODE> by using <CODE>SndDoImmediate</CODE>.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: 0 (ignored on input and output)<A NAME=MARKER-2-539></A>
<DT><CODE><A NAME=MARKER-2-290></A>reInitCmd</CODE>
<DD> Reset the initialization parameters specified in <CODE>param2</CODE> for the specified channel.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: initialization parameters<A NAME=MARKER-2-478></A>
<DT><CODE><A NAME=MARKER-2-537></A>waitCmd</CODE>
<DD> Suspend further command processing in a channel until the specified duration has elapsed. To achieve sounds longer than 32,767 half-milliseconds, Pascal programmers can pass a negative number in <CODE>param1</CODE>, in which case the sound plays for 32,767 half-milliseconds plus the absolute value of <CODE>param1</CODE>.<BR><CODE>param1</CODE>: duration in half-milliseconds (0 to 65,565)<BR><CODE>param2</CODE>: 0 (ignored on input and output)
<DT><CODE><A NAME=MARKER-2-539></A>pauseCmd</CODE>
<DD> Pause any further command processing in a channel until <CODE>resumeCmd</CODE> is received.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: 0 (ignored on input and output)<A NAME=MARKER-2-540></A>
<DT><CODE><A NAME=MARKER-2-292></A>resumeCmd</CODE>
<DD> Resume command processing in a channel that was previously paused by <CODE>pauseCmd</CODE>.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: 0 (ignored on input and output)<A NAME=MARKER-2-542></A><CODE></CODE>
<DT><CODE><A NAME=MARKER-2-543></A>callBackCmd</CODE>
<DD> Execute the callback procedure specified as a parameter to the <CODE>SndNewChannel</CODE> function. Both <CODE>param1</CODE> and <CODE>param2</CODE> are application-specific; you can use these two parameters to send data to your callback routine.<BR><CODE>param1</CODE>: application-defined<BR><CODE>param2</CODE>: application-defined<A NAME=MARKER-2-544></A>
<DT><CODE><A NAME=MARKER-2-545></A>syncCmd</CODE>
<DD> Synchronize multiple channels of sound. A <CODE>syncCmd</CODE> command is held in the specified channel, suspending all further command processing. The <CODE>param2</CODE> parameter contains an identifier that is arbitrary. Each time the Sound Manager receives <CODE>syncCmd</CODE>, it decrements the <CODE>count</CODE> parameter for each channel having that identifier. When the count for a specific channel reaches 0, command processing in that channel resumes.<BR><CODE>param1</CODE>: count<BR><CODE>param2</CODE>: identifier<A NAME=MARKER-2-546></A>
<DT><CODE><A NAME=MARKER-2-547></A>availableCmd</CODE>
<DD> Return 1 in <CODE>param1</CODE> if the Sound Manager supports the initialization options specified in <CODE>param2</CODE> and 0 otherwise. However, the Sound Manager might support certain initialization parameters in general but not on a specific machine. You should send <CODE>availableCmd</CODE> using the <CODE>SndControl</CODE> function.<BR><CODE>param1</CODE>: 0 on input; result of command on output<BR><CODE>param2</CODE>: initialization parameters
<DT><CODE><A NAME=MARKER-2-548></A>versionCmd</CODE>
<DD> Previously, this command determined which version of a sound data format is available. The result is returned in <CODE>param2</CODE>. The high word of the result indicates the major revision number, and the low word indicates the minor revision number. For example, version 2.0 of a data format would be returned as $00020000. However, this command is obsolete, and your application should not rely on it. You send <CODE>versionCmd</CODE> by using the <CODE>SndControl</CODE> function.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: 0 on input; version on output
<DT><CODE><A NAME=MARKER-2-549></A>totalLoadCmd</CODE>
<DD> Previously, this command determined the total CPU load factor for all existing sound activity and for a new sound channel having the initialization parameters specified in <CODE>param2</CODE>. However, this command is obsolete, and your application should not rely on it. You send <CODE>totalLoadCmd</CODE> by using the <CODE>SndControl</CODE> function.<BR><CODE>param1</CODE>: 0 on input, load factor on output<BR><CODE>param2</CODE>: initialization parameters
<DT><CODE><A NAME=MARKER-2-550></A>loadCmd</CODE>
<DD> Previously, this command determined the CPU load factor that would be incurred by a new channel of sound having the initialization parameters specified in <CODE>param2</CODE>. The load factor returned in <CODE>param1</CODE> is the percentage of CPU processing power that the specified sound channel would require. However, this command is obsolete, and your application should not rely on it. You send <CODE>loadCmd</CODE> by using the <CODE>SndControl</CODE> function.<BR><CODE>param1</CODE>: 0 on input, load factor on output<BR><CODE>param2</CODE>: initialization parameters
<DT><CODE><A NAME=MARKER-2-551></A>freqDurationCmd</CODE>
<DD> Play the note specified in <CODE>param2</CODE> for the duration specified in <CODE>param1</CODE>. To achieve sounds longer than 32,767 half-milliseconds, Pascal programmers can pass a negative number in <CODE>param1</CODE>, in which case the sound plays for 32,767 half-milliseconds plus the absolute value of <CODE>param1</CODE>. The <CODE>param2</CODE> parameter must contain a value in the range 0 to 127. If you want the note to stop playing after the duration specified in <CODE>param1</CODE>, you must send <CODE>quietCmd</CODE> after <CODE>freqDurationCmd</CODE>.<BR><CODE>param1</CODE>: duration in half-milliseconds (0 to 65,565)<BR><CODE>param2</CODE>: desired frequency
<DT><CODE><A NAME=MARKER-2-553></A>restCmd</CODE>
<DD> Rest a channel for a specified duration. The duration is specified in half-milliseconds in <CODE>param1</CODE>. To achieve sounds longer than 32,767 half-milliseconds, Pascal programmers can pass a negative number in <CODE>param1</CODE>, in which case the sound plays for 32,767 half-milliseconds plus the absolute value of <CODE>param1</CODE>.<BR><CODE>param1</CODE>: duration in half-milliseconds (0 to 65,565)<BR><CODE>param2</CODE>: 0 (ignored on input and output)<A NAME=MARKER-2-554></A>
<DT><CODE><A NAME=MARKER-2-555></A>freqCmd</CODE>
<DD> Change the frequency (or pitch) of a sound. If no sound is currently playing, then <CODE>freqCmd</CODE> causes the Sound Manager to begin playing indefinitely at the frequency specified in <CODE>param2</CODE>. If, however, no instrument is installed in the channel and you attempt to play either wave-table or sampled-sound data, no sound is produced. The <CODE>param2</CODE> parameter must contain a value in the range 0 to 127. The <CODE>freqCmd</CODE> command is identical to the <CODE>freqDurationCmd</CODE> command, except that no duration is specified to a <CODE>freqCmd</CODE> command.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: desired frequency<A NAME=MARKER-2-556></A>
<DT><CODE><A NAME=MARKER-2-315></A>ampCmd</CODE>
<DD> Change the amplitude (or loudness) of a sound. If no sound is currently playing, then <CODE>ampCmd</CODE> sets the amplitude of the next sound to be played. You specify the amplitude in <CODE>param1</CODE>; the amplitude should be an integer in the range 0 to 255.<BR><CODE>param1</CODE>: desired amplitude<BR><CODE>param2</CODE>: 0 (ignored on input and output)<A NAME=MARKER-2-558></A>
<DT><CODE><A NAME=MARKER-2-324></A>timbreCmd</CODE>
<DD> Change the timbre (or tone) of a sound currently being defined using square-wave data. A timbre value of 0 produces a clear tone; a timbre value of 254 produces a buzzing tone. You can use <CODE>timbreCmd</CODE> only for sounds defined using square-wave data.<BR><CODE>param1</CODE>: desired timbre (0 to 254)<BR><CODE>param2</CODE>: 0 (ignored on input and output)<A NAME=MARKER-2-560></A>
<DT><CODE><A NAME=MARKER-2-561></A>getAmpCmd</CODE>
<DD> Determine the current amplitude (or loudness) of a sound. The amplitude is returned in an integer variable whose address you pass in <CODE>param2</CODE> and is in the range 0 to 255.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: pointer to amplitude variable
<DT><CODE><A NAME=MARKER-9-562></A><A NAME=MARKER-2-563></A>volumeCmd</CODE>
<DD> <A NAME=MARKER-8-21></A>Set the right and left volumes of the specified sound channel to the volumes specified in the high and low words of <CODE>param2</CODE>. The value $0100 represents full volume, and $0080 represents half volume. You can specify values larger than $0100 to overdrive the volume. For example, setting <CODE>param2</CODE> to $02000200 sets the volume on both left and right speakers to twice full volume. Note, however, that <CODE>volumeCmd</CODE> is available only in Sound Manager versions 3.0 and later.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: high word is right volume, low word is left volume
<DT><CODE><A NAME=MARKER-2-565></A>getVolumeCmd</CODE>
<DD> Get the current right and left volumes of the specified sound channel. The volumes are returned in the high and low words of the long integer pointed to by <CODE>param2</CODE>. The value $0100 represents full volume, and $0080 represents half volume. Note, however, that <CODE>getVolumeCmd</CODE> is available only in Sound Manager versions 3.0 and later.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: pointer to volume data<A NAME=MARKER-2-566></A>
<DT><CODE><A NAME=MARKER-2-567></A>waveTableCmd</CODE>
<DD> Install a wave table as a voice in the specified channel. The <CODE>param1</CODE> parameter specifies the length of the wave table, and the <CODE>param2</CODE> parameter is a pointer to the wave-table data itself. You can use <CODE>waveTableCmd</CODE> only for sounds defined using wave-table data.<BR><CODE>param1</CODE>: length of wave table<BR><CODE>param2</CODE>: pointer to wave-table data
<DT><CODE><A NAME=MARKER-2-568></A>soundCmd</CODE>
<DD> Install a sampled sound as a voice in a channel. If the high bit of the command is set, <CODE>param2</CODE> is interpreted as an offset from the beginning of the <CODE>'snd '</CODE> resource containing the command to the sound header. If the high bit is not set, <CODE>param2</CODE> is interpreted as a pointer to the sound header. You can use the <CODE>soundCmd</CODE> command only with noncompressed sampled-sound data. You can also use <CODE>soundCmd</CODE> to preconfigure a sound channel, so that you can later send sound commands to it at interrupt time.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: offset or pointer to sound header
<DT><CODE><A NAME=MARKER-2-570></A>bufferCmd</CODE>
<DD> Play a buffer of sampled-sound data. If the high bit of the command is set, <CODE>param2</CODE> is interpreted as an offset from the beginning of the <CODE>'snd '</CODE> resource containing the command to the sound header. If the high bit is not set, <CODE>param2</CODE> is interpreted as a pointer to the sound header. You can use <CODE>bufferCmd</CODE> only with sampled-sound data. Note that sending a <CODE>bufferCmd</CODE> resets the rate of the channel to 1.0.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: offset or pointer to sound header
<DT><CODE><A NAME=MARKER-2-571></A>rateCmd</CODE>
<DD> Set the rate of a sampled sound that is currently playing, thus effectively altering its pitch and duration. Your application can set a rate of 0 to pause a sampled sound that is playing. The new rate is set to the value specified in <CODE>param2</CODE>, which is interpreted relative to 22 kHz. (For example, to set the rate to 44 kHz, pass $00020000 in <CODE>param2</CODE>; see <A HREF=Sound-51.html#MARKER-9-172>Listing 2-4 on page 2-26</A> for sample code that uses <CODE>rateCmd</CODE>.) You can use <CODE>rateCmd</CODE> only with sampled-sound data.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: desired rate of sound<A NAME=MARKER-2-572></A>
<DT><CODE><A NAME=MARKER-2-574></A>getRateCmd</CODE>
<DD> Determine the sample rate of the sampled sound currently playing. The current rate of the channel is returned in a <CODE>Fixed</CODE> variable whose address you pass in <CODE>param2</CODE> of the sound command. The values returned are always relative to the 22 kHz sampling rate, as with the <CODE>rateCmd</CODE> sound command. You can use <CODE>getRateCmd</CODE> only with sampled-sound data, and you should send it by using <CODE>SndDoImmediate</CODE>.<BR><CODE>param1</CODE>: 0 (ignored on input and output)<BR><CODE>param2</CODE>: pointer to rate variable<A NAME=MARKER-2-575></A>
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-65.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-67.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
