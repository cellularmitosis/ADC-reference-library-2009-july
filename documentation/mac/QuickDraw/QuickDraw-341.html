<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PictInfo (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING341></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-340.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-342.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-332.html"><B>Chapter 7 - Pictures</B></A> / <A HREF="QuickDraw-335.html"><B>Pictures Reference</B></A><BR><DL><DD><A HREF="QuickDraw-336.html"><B>Data Structures</B></A> / <A HREF="QuickDraw-321.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING341-0></A>
<H3><A NAME=MARKER-9-137></A>PictInfo</H3>
 <A NAME=MARKER-14-139></A><A NAME=MARKER-14-139></A><A NAME=MARKER-2-140></A>When you use the <CODE>GetPictInfo</CODE> function (described on <A HREF=QuickDraw-353.html#MARKER-9-226>page 7-46</A>) to collect information about a picture, or when you use the <CODE>GetPixMapInfo</CODE> function (described on <A HREF=QuickDraw-354.html#MARKER-9-230>page 7-49</A>) to collect color information about a pixel map or bitmap, the function returns the information in a <CODE>PictInfo</CODE> record. When you gather this information for multiple pictures, pixel maps, or bitmaps, the <CODE>RetrievePictInfo</CODE> function (described on <A HREF=QuickDraw-358.html#MARKER-9-248>page 7-57</A>) also returns a <CODE>PictInfo</CODE> record containing this information.<P>
 Initially, all of the fields in a new <CODE>PictInfo</CODE> record are set to <CODE>NIL</CODE>. Relevant fields are set to appropriate values depending on the information you request using the Picture Utilities functions as described in this chapter.<P>
 The <CODE>PictInfo</CODE> record is defined as follows:<P>
<PRE>
TYPE PictInfo = 
RECORD
   version:          Integer;          {Picture Utilities version number}
   uniqueColors:     LongInt;          {total colors in survey}
   thePalette:       PaletteHandle;    {handle to a Palette record--NIL for }
                                       { a bitmap in a basic graphics port}
   theColorTable:    CTabHandle;       {handle to a ColorTable record--NIL }
                                       { for a bitmap in a basic graphics }
                                       { port}
   hRes:             Fixed;            {best horizontal resolution (dpi)}
   vRes:             Fixed;            {best vertical resolution (dpi)}
   depth:            Integer;          {greatest pixel depth}
   sourceRect:       Rect;             {optimal bounding rectangle for }
                                       { picture for display at resolution }
                                       { specified in hRes and vRes fields}
   textCount:        LongInt;          {number of text strings in picture(s)}
   lineCount:        LongInt;          {number of lines in picture(s)}
   rectCount:        LongInt;          {number of rectangles in picture(s)}
   rRectCount:       LongInt;          {number of rounded rectangles in }
                                       { picture(s)}
   ovalCount:        LongInt;          {number of ovals in picture(s)}
   arcCount:         LongInt;          {number of arcs and wedges in }
                                       { picture(s)}
   polyCount:        LongInt;          {number of polygons in picture(s)}
   regionCount:      LongInt;          {number of regions in picture(s)}
   bitMapCount:      LongInt;          {number of bitmaps}
   pixMapCount:      LongInt;          {number of pixel maps}
   commentCount:     LongInt;          {number of comments in picture(s)}
   uniqueComments:   LongInt;          {number of different comments }
                                       { (by ID) in picture(s)}
   commentHandle:    CommentSpecHandle;{handle to an array of CommentSpec }
                                       { records for picture(s)}
   uniqueFonts:      LongInt;          {number of fonts in picture(s)}
   fontHandle:       FontSpecHandle;   {handle to an array of FontSpec }
                                       { records for picture(s)}
   fontNamesHandle:  Handle;           {handle to list of font names for }
                                       { picture(s)}
   reserved1:        LongInt;
   reserved2:        LongInt;
END; 
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>version<A NAME=MARKER-2-141></A></CODE>
<DD> The version number of the Picture Utilities, currently set to 0.
<DT><CODE>uniqueColors<A NAME=MARKER-2-142></A></CODE>
<DD> The number of colors in the picture specified to the <CODE>GetPictInfo</CODE> function, or the number of colors in the pixel map or bitmap specified to the <CODE>GetPixMapInfo</CODE> function, or the total number of colors for all the pictures, pixel maps, and bitmaps returned by the <CODE>RetrievePictInfo</CODE> function. The number of colors returned in this field is limited by the accuracy of the Picture Utilities' color bank for color storage. See <A HREF=QuickDraw-360.html#MARKER-9-260>"Application-Defined Routines" beginning on page 7-60</A> for information about the Picture Utility's color bank and about how you can create your own for selecting colors.<A NAME=MARKER-2-143></A>
<DT><CODE>thePalette<A NAME=MARKER-2-144></A></CODE>
<DD> A handle to the resulting <CODE>Palette</CODE> record if you specified to the <CODE>GetPictInfo</CODE>, <CODE>GetPixMapInfo</CODE>, or <CODE>NewPictInfo</CODE> function that colors be returned in a <CODE>Palette</CODE> record. That <CODE>Palette</CODE> record contains either the number of colors you specified to the function or--if there aren't that many colors in the pictures, pixel maps, or bitmaps--the number of colors found. Depending on the constant you pass in the <CODE>verb</CODE> parameter to the function, the <CODE>Palette</CODE> record contains either the most used or the widest range of colors in the pictures, pixel maps, and bitmaps. On Macintosh computers running basic QuickDraw only, this field is always returned as <CODE>NIL</CODE>. See the chapter "Palette Manager" in <I><A HREF="../ACI/ACI-2.html">Advanced Color Imaging on the Mac OS</A></I> for more information about <CODE>Palette</CODE> records.
<DT><CODE>theColorTable<A NAME=MARKER-2-472></A></CODE>
<DD> A handle to the resulting <CODE>ColorTable</CODE> record if you specified to the <CODE>GetPictInfo</CODE>, <CODE>GetPixMapInfo</CODE>, or <CODE>NewPictInfo</CODE> function that colors be returned in a <CODE>ColorTable</CODE> record. If the pictures, pixel maps, or bitmaps contain fewer colors found than you specified to the function, the unused entries in the <CODE>ColorTable</CODE> record are filled with black. Depending on the constant you pass in the <CODE>verb</CODE> parameter to the function, the <CODE>ColorTable</CODE> record contains either the most used or the widest range of colors in the pictures, pixel maps, and bitmaps. The chapter "Color QuickDraw" in this book describes <CODE>ColorTable</CODE> records. On Macintosh computers running basic QuickDraw only, this field is always returned as <CODE>NIL</CODE>.
<DT>
<DD> If a picture has more than 256 colors or has pixel depths of 32 bits, then Color QuickDraw translates the colors in the <CODE>ColorTable</CODE> record to 16-bit depths. In such a case, the returned colors might have a slight loss of resolution, and the <CODE>uniqueColors</CODE> field reflects the number of colors distinguishable at that pixel depth.
<DT><CODE>hRes<A NAME=MARKER-9-473></A></CODE>
<DD> The horizontal resolution of the current picture, pixel map, or bitmap retrieved by the <CODE>GetPictInfo</CODE> or <CODE>GetPixMapInfo</CODE> function; the greatest horizontal resolution from all pictures, pixel maps, and bitmaps retrieved by the <CODE>RetrievePictInfo</CODE> function.
<DT><CODE>vRes<A NAME=MARKER-2-477></A></CODE>
<DD> The vertical resolution of the current picture, pixel map, or bitmap retrieved by the <CODE>GetPictInfo</CODE> or <CODE>GetPixMapInfo</CODE> function; the greatest vertical resolution of all pictures, pixel maps, and bitmaps retrieved by the <CODE>RetrievePictInfo</CODE> function. Note that although the values of the <CODE>hRes</CODE> and <CODE>vRes</CODE> fields are usually the same, they don't have to be.
<DT><CODE>depth<A NAME=MARKER-2-148></A></CODE>
<DD> The pixel depth of the picture specified to the <CODE>GetPictInfo</CODE> function or the pixel map specified to the <CODE>GetPixMapInfo</CODE> function. When you use the <CODE>RetrievePictInfo</CODE> function, this field contains the deepest pixel depth of all pictures or pixel maps retrieved by the function.
<DT><CODE>sourceRect<A NAME=MARKER-2-149></A></CODE>
<DD> The optimal bounding rectangle for displaying the picture at the resolution indicated by the <CODE>hRes</CODE> and <CODE>vRes</CODE> fields. The upper-left corner of the rectangle is always (0,0). Pictures created with the <CODE>OpenCPicture</CODE> function have the <CODE>hRes</CODE>, <CODE>vRes</CODE>, and <CODE>sourceRect</CODE> fields built into their <CODE>Picture</CODE> records. For pictures created by <CODE>OpenPicture</CODE>, the <CODE>hRes</CODE> and <CODE>vRes</CODE> fields are set to 72 dpi, and the source rectangle is calculated using the <CODE>picFrame</CODE> field of the <CODE>Picture</CODE> record for the picture. 
<DT><CODE>textCount<A NAME=MARKER-2-150></A></CODE>
<DD> The number of text strings in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of text objects in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For pixel maps and bitmaps specified to <CODE>GetPixMapInfo</CODE> or <CODE>RetrievePictInfo</CODE>, this field is set to 0.
<DT><CODE>lineCount<A NAME=MARKER-2-151></A></CODE>
<DD> The number of lines in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of lines in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>rectCount<A NAME=MARKER-2-152></A></CODE>
<DD> The number of rectangles in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of rectangles in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>rRectCount<A NAME=MARKER-2-153></A></CODE>
<DD> The number of rounded rectangles in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of rounded rectangles in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>ovalCount<A NAME=MARKER-2-154></A></CODE>
<DD> The number of ovals in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of ovals in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>arcCount<A NAME=MARKER-2-155></A></CODE>
<DD> The number of arcs and wedges in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of arcs and wedges in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>polyCount<A NAME=MARKER-2-156></A></CODE>
<DD> The number of polygons in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of polygons in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>regionCount<A NAME=MARKER-2-157></A></CODE>
<DD> The number of regions in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of regions in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>bitMapCount<A NAME=MARKER-2-481></A></CODE>
<DD> The total number of bitmaps in the survey.
<DT><CODE>pixMapCount<A NAME=MARKER-2-159></A></CODE>
<DD> The total number of pixel maps in the survey.
<DT><CODE>commentCount<A NAME=MARKER-2-160></A></CODE>
<DD> The number of comments in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of comments in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. This field is valid only if you specified to the <CODE>GetPictInfo</CODE> or <CODE>NewPictInfo</CODE> function that comments be returned in a <CODE>CommentSpec</CODE> record, described on <A HREF=QuickDraw-339.html#MARKER-9-119>page 7-29</A>. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>uniqueComments</CODE> <A NAME=MARKER-2-161></A>
<DD> The number of picture comments that have different IDs in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of picture comments with different IDs in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. (The values for many common IDs are listed in Appendix B, "Using Picture Comments for Printing," in this book.) This field is valid only if you specify that comments be returned in a <CODE>CommentSpec</CODE> record. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>commentHandle<A NAME=MARKER-2-162></A></CODE>
<DD> A handle to an array of <CODE>CommentSpec</CODE> records, described on <A HREF=QuickDraw-339.html#MARKER-9-119>page 7-29</A>. For pixel maps and bitmaps, this field is set to <CODE>NIL</CODE>.
<DT><CODE>uniqueFonts<A NAME=MARKER-2-163></A></CODE>
<DD> The number of different fonts in the picture specified to the <CODE>GetPictInfo</CODE> function, or the total number of different fonts in all the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. For bitmap fonts, a font is a complete set of glyphs in one size, typeface, and style--for example, 12-point Geneva italic. For outline fonts, a font is a complete set of glyphs in one typeface and style--for example, Geneva italic. 
<DT>
<DD> This field is valid only if you specify that fonts be returned in a <CODE>FontSpec</CODE> record, which is described on <A HREF=QuickDraw-340.html#MARKER-9-127>page 7-29</A>. For pixel maps and bitmaps, this field is set to 0.
<DT><CODE>fontHandle<A NAME=MARKER-2-164></A></CODE>
<DD> A handle to a list of <CODE>FontSpec</CODE> records, described on <A HREF=QuickDraw-340.html#MARKER-9-127>page 7-29</A>. For pixel maps and bitmaps, this field is set to <CODE>NIL</CODE>. 
<DT><CODE>fontNamesHandle</CODE>
<DD> <BR>A handle to the names of the fonts in the picture retrieved by the <CODE>GetPictInfo</CODE> function or the pictures retrieved by the <CODE>RetrievePictInfo</CODE> function. The offset to a particular name is stored in the <CODE>nameOffset</CODE> field of the <CODE>FontSpec</CODE> record for that font. A font name is a name, such as Geneva, given to one font family to distinguish it from other font families. 
</DL>
 When you are finished with this information, be sure to dispose of it. You can dispose of <CODE>Palette</CODE> records by using the <CODE>DisposePalette</CODE> procedure (which is described in the chapter "Palette Manager" in <I><A HREF="../ACI/ACI-2.html">Advanced Color Imaging on the Mac OS</A></I>). You can dispose of <CODE>ColorTable</CODE> records by using the <CODE>DisposeCTable</CODE> procedure (described in the chapter "Color QuickDraw" in this book). You can dispose of other allocations with the <CODE>DisposeHandle</CODE> procedure (described in <I><A HREF="../Memory/Memory-2.html">Inside Macintosh: Memory</A></I>).<CODE><A NAME=MARKER-9-177></A></CODE><A NAME=MARKER-9-486></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-340.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-342.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
