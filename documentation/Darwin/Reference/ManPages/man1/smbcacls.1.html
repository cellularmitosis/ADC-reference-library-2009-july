<html><head><title>Mac OS X
 Manual Page For smbcacls(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/smbcacls" title="Mac OS X
 Manual Page for smbcacls(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/smbcacls"; name=smbcacls(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SMBCACLS(1)                                                                                      SMBCACLS(1)



<b>NAME</b>
       smbcacls - Set or get ACLs on an NT file or directory names

<b>SYNOPSIS</b>
       smbcacls  {//server/share}  {filename}  [-D acls]  [-M acls]  [-a acls] [-S acls] [-C name] [-G name]
        [--numeric] [-t] [-U username] [-h] [-d]

<b>DESCRIPTION</b>
       This tool is part of the <a href="../man7/samba.7.html#//apple_ref/doc/man/7/samba"><b>samba</b>(7)</a> suite.

       The smbcacls program manipulates NT Access Control Lists (ACLs) on SMB file shares.

<b>OPTIONS</b>
       The following options are available to the smbcacls program. The format of ACLs is described  in  the
       section ACL FORMAT

       -a acls
          Add the ACLs specified to the ACL list. Existing access control entries are unchanged.

       -M acls
          Modify  the  mask value (permissions) for the ACLs specified on the command line. An error will be
          printed for each ACL specified that was not already present in the ACL list

       -D acls
          Delete any ACLs specified on the command line. An error will be printed  for  each  ACL  specified
          that was not already present in the ACL list.

       -S acls
          This command sets the ACLs on the file with only the ones specified on the command line. All other
          ACLs are erased. Note that the ACL specified must contain at least a  revision,  type,  owner  and
          group for the call to succeed.

       -U username
          Specifies  a  username  used  to connect to the specified service. The username may be of the form
          "username" in which case the user is prompted to enter in a password and the  workgroup  specified
          in  the <a href="../man5/smb.conf.5.html#//apple_ref/doc/man/5/smb.conf"><b>smb.conf</b>(5)</a> file is used, or "username%password" or "DOMAINsername%password" and the pass-<font color="#ffffff" class="whiteout">word&nbsp;password</font>
          word and workgroup names are used as provided.

       -C name
          The owner of a file or directory can be changed to the name given using the <u>-C</u>  option.  The  name
          can  be  a  sid in the form S-1-x-y-z or a name resolved against the server specified in the first
          argument.

          This command is a shortcut for -M OWNER:name.

       -G name
          The group owner of a file or directory can be changed to the name given using the <u>-G</u>  option.  The
          name  can  be  a  sid  in the form S-1-x-y-z or a name resolved against the server specified n the
          first argument.

          This command is a shortcut for -M GROUP:name.

       --numeric
          This option displays all ACL information in numeric format. The default  is  to  convert  SIDs  to
          names and ACE types and masks to a readable string format.

       -t
          Don't actually do anything, only validate the correctness of the arguments.

       -h|--help
          Print a summary of command line options.

       -V
          Prints the program version number.

       -s &lt;configuration file&gt;
          The  file  specified contains the configuration details required by the server. The information in
          this file includes server-specific information such as what printcap  file  to  use,  as  well  as
          descriptions of all the services that the server is to provide. See <u>smb.conf</u> for more information.
          The default configuration file name is determined at compile time.

       -d|--debuglevel=level
          <u>level</u> is an integer from 0 to 10. The default value if this parameter is not specified is zero.

          The higher this value, the more detail will be logged to the log files about the activities of the
          server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reason-<font color="#ffffff" class="whiteout">able&nbsp;reasonable</font>
          able level for day-to-day running - it generates a small amount of  information  about  operations
          carried out.

          Levels above 1 will generate considerable amounts of log data, and should only be used when inves-<font color="#ffffff" class="whiteout">tigating&nbsp;investigating</font>
          tigating a problem. Levels above 3 are designed for use  only  by  developers  and  generate  HUGE
          amounts of log data, most of which is extremely cryptic.

          Note that specifying this parameter here will override the

          parameter in the <u>smb.conf</u> file.

       -l|--logfile=logdirectory
          Base directory name for log/debug files. The extension <b>".progname"</b> will be appended (e.g. log.smb-<font color="#ffffff" class="whiteout">client,&nbsp;log.smbclient,</font>
          client, log.smbd, etc...). The log file is never removed by the client.

<b>ACL</b> <b>FORMAT</b>
       The format of an ACL is one or more ACL entries separated by either commas or newlines. An ACL  entry
       is one of the following:





       REVISION:&lt;revision number&gt;
       OWNER:&lt;sid or name&gt;
       GROUP:&lt;sid or name&gt;
       ACL:&lt;sid or name&gt;:&lt;type&gt;/&lt;flags&gt;/&lt;mask&gt;



       The  revision  of the ACL specifies the internal Windows NT ACL revision for the security descriptor.
       If not specified it defaults to 1. Using values other than 1 may cause strange behaviour.

       The owner and group specify the owner and group sids for the object. If a SID in the format S-1-x-y-z
       is  specified  this  is  used, otherwise the name specified is resolved using the server on which the
       file or directory resides.

       ACLs specify permissions granted to the SID. This SID again can be specified in S-1-x-y-z  format  or
       as a name in which case it is resolved against the server on which the file or directory resides. The
       type, flags and mask values determine the type of access granted to the SID.

       The type can be either 0 or 1 corresponding to ALLOWED or DENIED access to the SID. The flags  values
       are generally zero for file ACLs and either 9 or 2 for directory ACLs. Some common flags are:

         <b>#define</b> <b>SEC_ACE_FLAG_OBJECT_INHERIT</b> <b>0x1</b>

         <b>#define</b> <b>SEC_ACE_FLAG_CONTAINER_INHERIT</b> <b>0x2</b>

         <b>#define</b> <b>SEC_ACE_FLAG_NO_PROPAGATE_INHERIT</b> <b>0x4</b>

         <b>#define</b> <b>SEC_ACE_FLAG_INHERIT_ONLY</b> <b>0x8</b>

       At present flags can only be specified as decimal or hexadecimal values.

       The mask is a value which expresses the access right granted to the SID. It can be given as a decimal
       or hexadecimal value, or by using one of the following text strings which map to the NT file  permis-<font color="#ffffff" class="whiteout">sions&nbsp;permissions</font>
       sions of the same name.

         <b>R</b> - Allow read access

         <b>W</b> - Allow write access

         <b>X</b> - Execute permission on the object

         <b>D</b> - Delete the object

         <b>P</b> - Change permissions

         <b>O</b> - Take ownership

       The following combined permissions can be specified:

         <b>READ</b> - Equivalent to 'RX' permissions

         <b>CHANGE</b> - Equivalent to 'RXWD' permissions

         <b>FULL</b> - Equivalent to 'RWXDPO' permissions

<b>EXIT</b> <b>STATUS</b>
       The  smbcacls  program  sets  the exit status depending on the success or otherwise of the operations
       performed. The exit status may be one of the following values.

       If the operation succeeded, smbcacls returns and exit status of 0. If smbcacls  couldn't  connect  to
       the  specified  server,  or  there  was  an error getting or setting the ACLs, an exit status of 1 is
       returned. If there was an error parsing any command line arguments, an exit status of 2 is  returned.

<b>VERSION</b>
       This man page is correct for version 3.0 of the Samba suite.

<b>AUTHOR</b>
       The  original  Samba  software  and  related  utilities were created by Andrew Tridgell. Samba is now
       developed by the Samba Team as an Open Source project similar to the way the Linux kernel  is  devel-<font color="#ffffff" class="whiteout">oped.&nbsp;developed.</font>
       oped.

       smbcacls was written by Andrew Tridgell and Tim Potter.

       The  conversion to DocBook for Samba 2.2 was done by Gerald Carter. The conversion to DocBook XML 4.2
       for Samba 3.0 was done by Alexander Bokovoy.




                                                                                                 SMBCACLS(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/smbcacls.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/smbcacls.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/smbcacls.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
