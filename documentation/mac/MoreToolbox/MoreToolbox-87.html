<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>RemoveResource (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING87></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-86.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-88.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-9.html"><B>Chapter 1 - Resource Manager</B></A> / <A HREF="MoreToolbox-24.html"><B>Resource Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-30.html"><B>Resource Manager Routines</B></A> / <A HREF="MoreToolbox-84.html"><B>Disposing of Resources</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING87-0></A>
<H3><A NAME=MARKER-9-426></A>RemoveResource</H3>
 <A NAME=MARKER-2-427></A><A NAME=MARKER-2-524></A>You can use the <CODE>RemoveResource</CODE> procedure to remove a resource's entry from the current resource file's resource map in memory. The <CODE>RemoveResource</CODE> procedure is also available as the <CODE>RmveResource</CODE> procedure. <P>
<PRE>
PROCEDURE RemoveResource (theResource: Handle);
</PRE>
<DL>
<DT><CODE>theResource</CODE>
<DD>  A handle to a resource. 
</DL>
<A NAME=HEADING87-4></A>
<H5>DESCRIPTION</H5>
 Given a handle to a resource in the current resource file, <CODE>RemoveResource</CODE> removes the resource entry (resource type, resource ID, resource name, if any, and resource attributes) from the current resource file's resource map in memory. <P>
 The <CODE>RemoveResource</CODE> procedure doesn't immediately release the memory occupied by the resource data; instead, the Resource Manager releases the memory when your application quits, when you call <CODE>UpdateResFile</CODE>, or when you call <CODE>CloseResFile</CODE> (which in turn calls <CODE>UpdateResFile</CODE>). If the <CODE>resProtected</CODE> attribute for the resource is set or if the <CODE>theResource</CODE> parameter doesn't contain a handle to a resource, <CODE>RemoveResource</CODE> does nothing, and <CODE>ResError</CODE> returns the result code <CODE>rmvResFailed</CODE>.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>If you've removed a resource, the Resource Manager writes the entire resource map when it updates the resource fork, and all changes made to the resource map become permanent. If you want any of the changes to be temporary, you should restore the original information before the Resource Manager updates the resource fork.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 If you want to release the memory before updating or closing the resource fork, call the Memory Manager procedure <CODE>DisposeHandle</CODE> after you call <CODE>RemoveResource</CODE>.<P>
<A NAME=HEADING87-9></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>RemoveResource</CODE> procedure may move or purge memory blocks in the application heap. Your application should not call this procedure at interrupt time.<P>
<A NAME=HEADING87-11></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>rmvResFailed<TD>-196<TD><CODE>RemoveResource</CODE> procedure failed</TABLE>
</H5>
<A NAME=HEADING87-12></A>
<H5>SEE ALSO</H5>
 To check for errors, call the <CODE>ResError</CODE> function as described on <A HREF=MoreToolbox-35.html#MARKER-9-220>page 1-47</A>.<P>
 For descriptions of the <CODE>AddResource</CODE> and <CODE>UpdateResFile</CODE> procedures, see <A HREF=MoreToolbox-64.html#MARKER-9-342>page 1-85</A> and <A HREF=MoreToolbox-66.html#MARKER-9-349>page 1-87</A>, respectively. The <CODE>CloseResFile</CODE> procedure is described next. <P>
 For more information about the Memory Manager procedure <CODE>DisposeHandle</CODE>, see <I><A HREF="../Memory/Memory-2.html">Inside Macintosh: Memory</A></I>. <A NAME=MARKER-2-429></A> <A NAME=MARKER-2-430></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-86.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-88.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
