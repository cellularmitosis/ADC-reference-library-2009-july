<html><head><title>Mac OS X
 Manual Page For pam_close_session(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/pam_close_session" title="Mac OS X
 Manual Page for pam_close_session(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/pam_close_session"; name=pam_close_session(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PAM_OPEN_SESSION(3)                       App. Programmers' Manual                       <!-- a -->PAM_OPEN_SESSION(3)<!-- /a -->



<b>NAME</b>
       pam_open_session, pam_close_session - PAM session management


<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;security/pam_appl.h&gt;</b>

       <b>int</b> <b>pam_open_session(pam_handle_t</b> <u>*pamh</u><b>,</b> <b>int</b>  <u>flags</u><b>);</b>

       <b>int</b> <b>pam_close_session(pam_handle_t</b> <u>*pamh</u><b>,</b> <b>int</b>  <u>flags</u><b>);</b>



<b>DESCRIPTION</b>
       PAM provides management-hooks for the initialization and termination of a session.


       <b>pam_open_session</b>
              Use  this function to signal that an authenticated user session has begun. It should be called
              only after the user is properly identified and (where necessary) has been granted  their  cre-<font color="#ffffff" class="whiteout">dentials&nbsp;credentials</font>
              dentials with <a href="pam_authenticate.3.html#//apple_ref/doc/man/3/pam_authenticate"><b>pam_authenticate</b>(3)</a> and <a href="pam_setcred.3.html#//apple_ref/doc/man/3/pam_setcred"><b>pam_setcred</b>(3)</a> respectively.

              Some types of functions associated with session initialization are logging for the purposes of
              system-audit and mounting directories (the user's home directory for  example).  These  should
              not  concern  the  application.  It should be noted that the <u>effective</u> uid, <a href="../man2/geteuid.2.html#//apple_ref/doc/man/2/geteuid"><b>geteuid</b>(2)</a>, of the
              application should be of sufficient privilege to perform such tasks.


       <b>pam_close_session</b>
              Use this function to signal that a user session has terminated. In general this  function  may
              not  need  to be located in the same application as the initialization function, <b>pam_open_ses</b>-<font color="#ffffff" class="whiteout">sion.&nbsp;pam_open_session.</font>
              <b>sion</b>.

              Typically, this function will undo the actions of <b>pam_open_session</b>.  That is, log audit infor-<font color="#ffffff" class="whiteout">mation&nbsp;information</font>
              mation concerning the end of the user session or unmount the user's home directory. Apart from
              having sufficient privilege the details of the session  termination  should  not  concern  the
              calling  application.  It  is good programming practice, however, to cease acting on behalf of
              the user on returning from this call.


<b>RETURN</b> <b>VALUE</b>
       A successful return from the session management functions will be indicated with <b>PAM_SUCCESS</b>.

       The specific error indicating a failure to open or close a session is  <b>PAM_SESSION_ERR</b>.   In  general
       other return values may be returned. They should be treated as indicating failure.


<b>ERRORS</b>
       May be translated to text with <a href="pam_strerror.3.html#//apple_ref/doc/man/3/pam_strerror"><b>pam_strerror</b>(3)</a>.


<b>CONFORMING</b> <b>TO</b>
       OSF-RFC 86.0, October 1995.


<b>BUGS</b>
       none known.


<b>SEE</b> <b>ALSO</b>
       <a href="pam_start.3.html#//apple_ref/doc/man/3/pam_start"><b>pam_start</b>(3)</a>, <a href="pam_authenticate.3.html#//apple_ref/doc/man/3/pam_authenticate"><b>pam_authenticate</b>(3)</a>, <a href="pam_setcred.3.html#//apple_ref/doc/man/3/pam_setcred"><b>pam_setcred</b>(3)</a>, <a href="pam_get_item.3.html#//apple_ref/doc/man/3/pam_get_item"><b>pam_get_item</b>(3)</a>, <a href="pam_strerror.3.html#//apple_ref/doc/man/3/pam_strerror"><b>pam_strerror</b>(3)</a> and <!-- a --><b>pam</b>(3)<!-- /a -->.

       Also,  see  the three <b>Linux-PAM</b> Guides, for <b>System</b> <b>administrators</b>, <b>module</b> <b>developers</b>, and <b>application</b>
       <b>developers</b>.



Linux-PAM 0.55                                   1997 Jan 4                              <!-- a -->PAM_OPEN_SESSION(3)<!-- /a -->
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/pam_close_session.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/pam_close_session.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/pam_close_session.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
