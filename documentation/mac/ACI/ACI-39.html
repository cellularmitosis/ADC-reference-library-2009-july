<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Creating a Component Resource for a Color Picker</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING39></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACI-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACI-2.html"><B>Advanced Color Imaging on the Mac OS</B></A> / <BR><DD><A HREF="ACI-29.html"><B>Chapter 2 - Color Picker Manager</B></A> / <A HREF="ACI-38.html"><B>Writing Your Own Color Pickers</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING39-0></A>
<H2><A NAME=MARKER-9-109></A>Creating a Component Resource for a Color Picker</H2>
 <A NAME=MARKER-2-110></A>A color picker is stored as a component resource. It contains a number of resources, including icons, strings, and the standard component resource (a resource of type <CODE>'thng'</CODE>) required of any Component Manager component. In addition, a color picker must contain code to handle required request codes passed to it by the Component Manager.<P>
 Your color picker must be contained in a resource file. The creator of the file can be any type you wish, but the type of the file must be <CODE>'thng'</CODE>. If your color picker contains a <CODE>'BNDL'</CODE> resource (described in the chapter "Finder Interface" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>), then the file's bundle bit must be set. To allow other applications to use your color picker, you should place it in the Extensions folder (where it will be automatically registered at startup.) Otherwise, you can use the Component Manager function <CODE>RegisterComponent</CODE> or <CODE>RegisterComponentResource</CODE> to make your color picker available as your application needs it.<P>
 <A HREF=#MARKER-9-111>Listing 2-15</A> shows the Rez listing of a component resource that describes a color picker.<P>
<B>Listing 2-15  <A NAME=MARKER-9-111></A>A component resource for a color picker</B><P>
<PRE>
resource 'thng' (kPickerID, locked) {
   'cpkr',     /* component type: a color picker */
   'stup',     /* component subtype */
   'wave',     /* color picker manufacturer */
   $00000071,  /* control flags */
   $000000ff,  /* control flags mask */
   'cpkr',     /* resource type for color picker's code */
   kPickerID,  /* resource ID for color picker's code */
   'STR ',     /* resource type for color picker's name */
   kPickerID,  /* resource ID for color picker's name */
   'STR ',     /* color picker info resource type */
   kInfoID,    /* color picker info resource ID */
   'ICN#',     /* icon list for color picker */
   kPickerID   /* icon list resource ID */
};
</PRE>
 The component resource, and the resources that define the component's code, name, information string, and icon family, must be in the same resource file. <P>
 <A HREF=#MARKER-9-113>Figure 2-5</A> shows the color picker created with this component resource. This is a very simplistic color picker that uses only editable text fields for specifying a color.<A NAME=MARKER-2-112></A><P>
<B>Figure 2-5  <A NAME=MARKER-9-113></A>An application-created color picker<A NAME=MARKER-2-114></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/CP-S-05_2.1.jpg">
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACI-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACI-3.html">&copy; Apple Computer, Inc.</A><br>13 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
