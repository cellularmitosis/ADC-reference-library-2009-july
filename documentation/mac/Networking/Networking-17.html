<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>AppleTalk Networking(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING17></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-16.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-18.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-15.html"><B>Chapter 1 - Introduction to AppleTalk</B></A> / <A HREF="Networking-16.html"><B>About Networking on the Macintosh</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING17-0></A>
<H2>AppleTalk Networking</H2>
 This section introduces some networking concepts and terms that pertain to AppleTalk and that are used throughout the chapters of this book. It discusses<P>
<UL>
<LI>fundamental networking concepts and AppleTalk
<LI>addressing in AppleTalk
<LI>AppleTalk connectivity<P>
</UL>
<A NAME=HEADING17-5></A>
<H3>Basic AppleTalk Networking Concepts</H3>
 A networking system, such as AppleTalk, consists of hardware and software. Hardware on an AppleTalk network includes physical devices such as Macintosh personal computer workstations, printers, and Macintosh computers acting as file servers, print servers, and routers; these devices are all referred to as<A NAME=MARKER-2-26></A> <B>nodes</B> on the network. <P>
 AppleTalk <A NAME=MARKER-2-13></A>interconnects these nodes through transmission paths that include both software and hardware components. The software that governs the transfer of data across a computer network is commonly designed using a <A NAME=MARKER-2-178></A>layered architecture or model. (For more information on networking models and AppleTalk, see <A HREF=Networking-21.html#MARKER-9-147>"AppleTalk and the OSI Model" beginning on page 1-17</A>.)<P>
 For each layer of a model, protocols exist that specify how the networking software <BR>is to implement the functions which that layer provides and interact with the layer <BR>above and below it. A <A NAME=MARKER-2-204></A><B>protocol </B>is a formalized set of procedural rules for the exchange <BR>of information and the interactions between the network's interconnected nodes. A network software developer implements these rules in programs that carry out the functions specified by the protocol. AppleTalk consists of a number of protocols, many <BR>of which are implemented in software programs called <I>drivers.</I> <P>
<DL>
<DT><B>Note</B>
<DD>This book uses the abbreviated term <I>protocol</I> to refer to the implementation of those rules in software drivers, instead of always using the complete term <I>protocol implementation.</I><EM></EM>   <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 There are many ways to characterize networks. One characteristic of a network is whether it is connection-oriented or connectionless. (A protocol can also be considered connectionless or connection-oriented.) A <A NAME=MARKER-9-148></A>connection-oriented network is one in which two nodes on the network, such as computers, that want to communicate must go through a connection-establishment process, which is called a <I>handshake.</I> This involves the exchange of predetermined signals between the nodes in which each end identifies itself to the other. Once a connection is established, the communicating applications or processes on the nodes at either end can send and receive streams of data. <P>
 A <A NAME=MARKER-2-101></A><B>connectionless</B> <B>network</B> is one in which two nodes that want to communicate do so by <A NAME=MARKER-2-177></A>going directly into a data-transfer state without first setting up a connection. A connectionless network is also called a <B>datagram</B> or <A NAME=MARKER-2-40></A><B>packet-oriented</B> <B>network</B> because data is sent as discrete packets; a <B>packet</B> <A NAME=MARKER-2-31></A>is a small unit of data that is sent across a network. This means that each packet must carry the full addressing information required to deliver the data from its source node to its destination node. A packet includes a <A NAME=MARKER-2-35></A><B>header</B> portion that holds the addressing information along with some other information, such as a checksum value that can be used to verify the integrity of the data delivered, and a data portion that holds the message text. The terms <I>packet</I> and <B><A NAME=MARKER-2-42></A><I>datagram</I></B> are synonymous. <P>
 A connection-oriented network is analogous to a telephone system. The party who initiates the call knows whether or not the connection is made because someone at <BR>the other end of the line either answers or not. A connectionless network is analogous <BR>to electronic mail. A person sends a mail message expecting it will be delivered to its destination. Although the mail usually arrives safely, the sender doesn't know this unless the recipient initiates a response affirming it.<P>
 There are trade-offs between the two types of networks: a connection-oriented network provides more function, but at a cost. A connectionless network is less costly in terms of overhead, but it offers limited support. <P>
 A connection-oriented network ensures <A NAME=MARKER-2-68></A><B>reliable delivery of data,</B> which includes error checking and recovery from error or packet loss. Connection-oriented networks provide support for sessions. In AppleTalk networking, a <B>session</B> <A NAME=MARKER-2-177></A>is a logical (as opposed to physical) connection between two entities on an internet. The two communicating parties can send streams of data across a session, rather than being limited to sending the data as individual packets. When data is sent as a <A NAME=MARKER-2-44></A>stream, <A NAME=MARKER-2-49></A>the networking system provides flow control to manage the data that makes up the stream. A session must be set up at the beginning and broken down at the end. All of these services entail overhead.<P>
 There is no connection setup or breakdown required for a connectionless network, and no session is established. A connectionless network offers best-effort delivery only. <B><A NAME=MARKER-2-84></A>Best-effort delivery</B> means that the network attempts to deliver any packets that meet certain requirements, such as containing a valid destination address, but the network does not inform the sender when it is unable to deliver the packet, nor does it attempt to recover from error conditions and packet loss. A connectionless network involves less overhead because it does not provide network-wide acknowledgments, flow control, or error recovery.<P>
 The terms <I>connectionless</I> and <I>connection-oriented</I> can also be applied to individual protocols that make up the networking software, as well as to the entire network system itself. AppleTalk includes protocols that provide <A NAME=MARKER-9-43></A>connection-oriented services, although, as a whole, AppleTalk is considered a connectionless network because data is delivered across an AppleTalk network or internet as discrete packets. One of the AppleTalk protocols, the Datagram Delivery Protocol (DDP), implements packet delivery. However, the AppleTalk Data Stream Protocol (ADSP) and the AppleTalk Transaction Protocol (ATP) provide connection-oriented services, such as session establishment and reliable delivery of data. The AppleTalk protocols that provide connection-oriented services are built on top of the datagram services that DDP provides.<P>
 In developing AppleTalk applications, you must decide whether to use a connection-<BR>oriented or <A NAME=MARKER-2-49></A>connectionless AppleTalk protocol. How to choose a protocol to use is described in <A HREF=Networking-22.html#MARKER-9-174>"Deciding Which AppleTalk Protocol to Use" beginning on page 1-19</A>. <P>
 The connection-oriented AppleTalk protocols support the following two kinds of sessions: <P>
<UL>
<LI><B><A NAME=MARKER-2-90></A>symmetrical.</B> <A NAME=MARKER-2-165></A>This session is also referred to as a <I>peer-to-peer session.</I> It is one in which both ends have equal control over the communication. Both ends can send and receive data at the same time and initiate or terminate the session. This type of session offers more capability and is more commonly used than an asymmetrical session.
<LI><B><A NAME=MARKER-2-91></A>asymmetrical.</B> <A NAME=MARKER-2-181></A>In this type of session, only one end of the connection can control the communication. One end of the connection makes a request to which the other end can only respond. This type of session is best suited to a transaction in which a small amount of data is transferred from one side to the other.<P>
</UL>
 When both ends can send and receive data, the process is called a <A NAME=MARKER-2-94></A><B>full-duplex</B> <BR><B>dialog.</B> When both sides must alternate between sending and receiving data, <BR>the process is called a <A NAME=MARKER-2-53></A><B>half-duplex</B> <B>dialog.</B> <P>
<A NAME=HEADING17-22></A>
<H3>Addressing and Data Delivery on AppleTalk Networks</H3>
 This section discusses some of the aspects of AppleTalk networking that are part of its addressing and data-delivery scheme. Many components contribute to the addressing information that is used to identify the location of an application or a process on an AppleTalk internet. This section defines these names and numbers, and <A HREF=#MARKER-9-12>Table 1-1</A> highlights them. 
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-12></A><A NAME=MARKER-9-12></A><B>Table 1-1 AppleTalk addressing numbers and names</B></CAPTION>
<TH>Addressing information<TH>Description<TR>
<TD>Network number<TD><A NAME=MARKER-21-93></A>A unique 16-bit number that identifies the network to which a node is connected. A single AppleTalk network can be either extended or nonextended. An extended network is defined by a range of network numbers.<TR>
<TD>Node ID<TD><A NAME=MARKER-2-139></A>A unique 8-bit number that identifies a node on an AppleTalk network.<TR>
<TD><A NAME=MARKER-2-186></A>Socket number<TD>A unique 8-bit number that identifies a socket. A maximum of 254 different socket numbers can be assigned in a node.<TR>
<TD>Zone name<TD>A name assigned to an arbitrary subset of nodes within an AppleTalk internet.</TABLE>
<P>
 <A NAME=MARKER-2-50></A>A single AppleTalk network can be interconnected with other AppleTalk networks through<B> <A NAME=MARKER-2-54></A>routers</B> to create a large, dispersed AppleTalk <A NAME=MARKER-2-121></A>internet. A router in an internet can select the most efficient path to the data's intended destination, while allowing connected networks to remain fully independent and to retain separate addresses. <P>
 Each network is assigned a<B> network number</B> so that packets destined for a particular network on an AppleTalk internet can be routed to the correct network. A router consults the packet's destination network number and forwards the packet throughout the internet from one router to another until the packet arrives at its destination network. AppleTalk supports a number of types of networks including <A NAME=MARKER-2-33></A>LocalTalk, TokenTalk, <A NAME=MARKER-2-116></A>EtherTalk, and FDDITalk networks.<P>
 AppleTalk assigns a <B>node ID</B> to a node when it connects to the network. Every node on an AppleTalk network is identified by its unique 8-bit node ID. (Extended networks include the 16-bit network number.) Once a packet arrives at its destination network, the packet is delivered to its destination node within that network, based on the node ID. <P>
 More than one application or process that uses AppleTalk may be running on a single node at the same time. Because of this, AppleTalk must have a way to determine for which application or process a packet that is delivered to the node is intended. AppleTalk uses sockets to satisfy this requirement. A <B>socket</B> is a piece of software that serves as <BR>an addressable entity on a node. Each process or application that runs on an AppleTalk network "plugs into" a socket that is identified by a unique number. Applications or processes exchange data with each other across an internet through sockets. Because <BR>each application or process has its own socket address, a node can have two or more concurrent open connections, for example, one to a file server and one to a printer. <P>
 The <A NAME=MARKER-2-128></A><B>socket</B> <B>number</B> identifies the process to which the D<A NAME=MARKER-2-29></A>atagram Delivery Protocol (DDP) is<A NAME=MARKER-2-97></A> to deliver a packet. The combination of the socket number, the node ID, and <BR>the network number creates the <B>internet socket address</B> of an a<A NAME=MARKER-2-120></A>pplication or process. <BR>An internet socket address provides a unique identifier for any socket in the AppleTalk internet. When an application or process is associated with a socket, it is referred to <BR>as a <B><A NAME=MARKER-2-98></A>socket client.</B> <P>
 An application or process becomes accessible from any point in the AppleTalk internet through its association with an internet socket address and a special name that is associated with the internet socket address through the AppleTalk <A NAME=MARKER-2-46></A>Name-Binding Protocol (NBP). An NBP name contains three parts: object, type, and zone. The zone field of the name is the zone in which the node resides.<P>
 A <A NAME=MARKER-2-99></A><B>zone</B> is a logical grouping of nodes in an AppleTalk internet. The use of zones allows <BR>a network administrator to set up departmental or other logical groupings of nodes on an internet. A single extended network can contain nodes belonging to any number of zones; an individual node on an extended network can belong to only one zone. Each zone is identified by a zone name. <P>
 An <A NAME=MARKER-2-56></A><B>AppleTalk internet</B> always consists of more than one AppleTalk network. It can be made up of a mix of LocalTalk networks, TokenTalk networks, EtherTalk networks, and FDDITalk networks. It can also consist of more than one network of a single type, such as several LocalTalk networks. A single AppleTalk network can be either a nonextended network or an extended network. An AppleTalk internet can include both nonextended and extended networks. <P>
<DL>
<DT><B>Note</B>
<DD>The term <I>internet</I> is used throughout this book to refer to an AppleTalk internet exclusively. It is not within the scope of this book to discuss other types of internets, such as Arpanet.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 An AppleTalk <A NAME=MARKER-2-59></A><B>nonextended network</B> is one in which<P>
<UL>
<LI>the network has one network number assigned to it
<LI>the network supports only one zone
<LI>all nodes on the network share the same network number and zone name
<LI>each node on the network has a unique node ID<P>
</UL>
 LocalTalk is an example of a nonextended network. Each node on a nonextended net-<BR>work, such as LocalTalk, has a unique 8-bit node ID. Because there are 256 combinations of 8 bits, and two combinations are not available (ID 255 is reserved for broadcast messages and the ID 0 is not allowed), a nonextended network supports up to only <BR>254 active nodes at a time. <P>
 An AppleTalk <A NAME=MARKER-2-60></A><B>extended network</B> is one in which<P>
<UL>
<LI>the network has a range of network numbers assigned to it
<LI>the network supports multiple zones
<LI>each node on the network has a unique node ID (Nodes can also have different network numbers that fall within the network number range and different <BR>zone names.)<P>
</UL>
 A network number range defines the extended network. An extended network uses what is referred to as<B> <A NAME=MARKER-9-77></A>extended addressing:</B> in principle, a range of network numbers allows each extended network to have over 16 million (224) nodes. In any specific implementation, the hardware or software might <A NAME=MARKER-2-115></A>limit the network to fewer nodes.<P>
 You can think of an extended network as a number of nonextended networks forming a single network, each providing up to 254 possible node IDs.<P>
 Whether the network is extended or nonextended, data is always delivered in DDP packets that include the DDP header that contains addressing information followed by the data itself. As the DDP packet is passed down the protocol stack to the layer below, the packet is extended to include additional information. <P>
 At the data-link layer, additional addressing information is prepended to the DDP header, and the packet is now called a <I>frame.</I> At the physical layer, a frame preamble is prepended to the frame header and a frame trailer is appended to the end of the data portion of the DDP packet. (You don't need to be concerned with the frame preamble and frame trailer; they are mentioned here and shown in <A HREF=#MARKER-9-61>Figure 1-1</A> for completeness.) The frame is then transmitted across the network or internet to its destination node. <P>
 At the destination node, the frame is received, and as it is passed up through the protocol stack the additional information that was added to the DDP packet at each layer on the sending node is used and removed at the corresponding layer on the destination node. The frame preamble and frame trailer are removed at the physical layer. The frame header is removed at the data-link layer. You can think of the data that your application sends as being enclosed successively at each of these layers in envelopes that contain addressing information necessary to deliver the data; at the corresponding layer on the destination node, the envelope is removed. <A HREF=#MARKER-9-61>Figure 1-1</A> illustrates this concept.<P>
<B>Figure 1-1  <A NAME=MARKER-9-61></A>Data delivery on AppleTalk networks</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IAT-L-05.jpg"><P>
<A NAME=HEADING17-50></A>
<H3>AppleTalk Connectivity</H3>
 A fundamental part of a network system is its <A NAME=MARKER-2-67></A><B>connectivity</B> infrastructure, which includes the communication hardware and the protocols for controlling the<B> </B>hardware. The communication hardware can consist of various media including wire cabling, <A NAME=MARKER-2-1></A>fiber optics cabling, and a network interface controller (NIC), if one is used. This hardware and software constitute the data transmission medium, which is called a <A NAME=MARKER-2-73></A>data link. A <BR>data link provides nodes with access to the network.<P>
 Nodes on a network share and compete for access to the link. The link-access protocol implemented in the software controls the access of a node to the network hardware and makes it possible for many nodes to share the same communications hardware. It also handles the delivery of packets from one node to another over a network. When a packet is delivered to the link-access protocol for transmission across the network, additional addressing and control information is added to the packet, and the packet is called <BR>a <A NAME=MARKER-2-74></A><B>frame.<A NAME=MARKER-2-121></A></B> <P>
 AppleTalk connectivity is designed to be <A NAME=MARKER-2-77></A><B><A NAME=MARKER-2-85></A>link independent,</B> which means that it allows for the use of various types of data links accessed through the various link-access protocols, which it supports. <A NAME=MARKER-2-116></A>AppleTalk provides the following data-link support:<A NAME=MARKER-2-109></A><P>
<UL>
<LI>The <A NAME=MARKER-2-78></A>L<A NAME=MARKER-2-79></A>ocalTalk Link-Access Protocol (LLAP) supports a LocalTalk link.
<LI><A NAME=MARKER-2-80></A>The E<A NAME=MARKER-2-82></A>therTalk Link-Access Protocol (ELAP) supports an Ethernet link.
<LI><A NAME=MARKER-2-81></A>The T<A NAME=MARKER-2-83></A>okenTalk Link-Access Protocol (TLAP) supports a <A NAME=MARKER-2-93></A>token ring link.<A NAME=MARKER-2-79></A>
<LI><A NAME=MARKER-2-120></A>The F<A NAME=MARKER-2-88></A>iber <A NAME=MARKER-4-7></A>Distributed Data<A NAME=MARKER-2-107></A> Interface Link-Access Protocol (FLAP) supports a Fiber Distributed Data Interface link.<P>
</UL>
 These protocols provide interfaces between the Datagram Delivery Protocol (DDP) and the types of data-link hardware that AppleTalk can use. A user can choose to connect to any of the data links that the node is set up to support. <P>
 AppleTalk includes a component called the <A NAME=MARKER-2-91></A><B>Link-Access Protocol (LAP) Manager,</B> <A NAME=MARKER-2-108></A>which insulates the higher-level AppleTalk protocols from having to identify and connect to the link that the user has chosen; the LAP Manager connects to the selected link for them.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-16.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-18.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
