<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Script Manager Reference (Not Recommended): Deprecated Script Manager Reference (Not Recommended) Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Deprecated Script Manager Reference (Not Recommended) Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000143-AppendixA" title="Deprecated Script Manager Reference (Not Recommended) Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxTextFonts-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">Script Manager Reference (Not Recommended)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../scriptmgr_ref_docrevhist/scriptmgr_ref_docrevhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The Script Manager is deprecated as of Mac OS X v10.5. Instead, you should update your application to handle Unicode text using the facilities of the Cocoa system (see <em><a href="../../../../Cocoa/Conceptual/TextArchitecture/index.html#//apple_ref/doc/uid/10000086i" target="_top">Text System Overview</a></em>) or Core Text (see <em><a href="../../../Conceptual/CoreText_Programming/index.html#//apple_ref/doc/uid/TP40005533" target="_top">Core Text Programming Guide</a></em>). See also <em><a href="../../../../MacOSX/Conceptual/BPInternational/index.html#//apple_ref/doc/uid/10000171i" target="_top">Internationalization Programming Topics</a></em>.</p></div></div></div>
        <h1>Deprecated Script Manager Reference (Not Recommended) Functions</h1><p>A function identified as deprecated has been superseded and may become unsupported in the future.</p><a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_592" title="Deprecated in Mac OS X v10.4"></a><h2>Deprecated in Mac OS X v10.4</h2><a name="//apple_ref/c/func/CharacterByteType" title="CharacterByteType"></a><a name="//apple_ref/doc/c_ref/CharacterByteType" title="CharacterByteType"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F00482" title="CharacterByteType"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_6"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_6"></a><h3 class="tight">CharacterByteType</h3>
<p class="spaceabove">Identifies a byte in a text buffer as a single-byte character or as the first or second byte of a double-byte character.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;You should update your application to handle Unicode text. There is no replacement function because Unicode handles encoding in a different manner.)</p>
<p class="spaceabove"><pre>
short CharacterByteType (
   <!--a-->Ptr<!--/a--> textBuf,
   short textOffset,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> script
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>textBuf</em></dt>
<dd><p>A pointer to a text buffer containing the byte to be identified. </p></dd>
<dt><em>textOffset</em></dt>
<dd><p>The offset to the byte to be identified. The offset is measured in bytes; the first byte has an offset of 0. </p></dd>
<dt><em>script</em></dt>
<dd><p>A value that specifies the script system of the text in the buffer. Constants for all defined script codes are listed on <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> To specify the font script, pass <code>smCurrentScript</code> in this parameter. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>One of three identifications: a single-byte character, the first byte of a double-byte character, or the second byte of a double-byte character. The first byte of a double-byte character—the one at the lower offset in memory—is the high-order byte the second byte of a double-byte character—the one at the higher offset—is the low-order byte. This is the same order in which text is processed and numbers are represented. </p>
<h5 class="tight">Discussion</h5>
<p>The script system associated with the character you wish to examine must be enabled in order for the function to provide useful information. For example, if only the Roman script system is available and you attempt to identify a byte in a run of double-byte characters, the <code>CharacterByteType</code> function returns 0, indicating that the byte is a single-byte character.</p>
<p>For single-byte script systems, the character-type tables reside in the string-manipulation (<code>'itl2'</code>) resource and reflect region-specific or language-specific differences in uppercase conventions.</p>
<p>For double-byte script systems, the character-type tables reside in the encoding/rendering (<code>'itl5'</code>) resource, not the string-manipulation resource. Whenever you call <code>CharacterByteType</code>, the necessary character-set encoding information is taken from the encoding/rendering resource. You cannot use the <code>GetIntlResource</code> function to access double-byte character-type tables directly.</p>
<p>From byte value alone, it is not possible to distinguish the second byte of a double-byte character from a single-byte character. <code>CharacterByteType</code> differentiates the second byte of a double-byte character from a single-byte character by assuming that the byte at offset 0 is the first byte of a character. With that assumption, it then sequentially identifies the size and starting position of each character in the buffer up to <code>textOffset</code>. </p>
<h5 class="tight">Special Considerations</h5>
<p>If you specify <code>smCurrentScript</code> for the <code>script</code> parameter, the value returned by <code>CharacterByteType</code> can be affected by the state of the font force flag. It is unaffected by the state of the international resources selection flag.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/CharacterType" title="CharacterType"></a><a name="//apple_ref/doc/c_ref/CharacterType" title="CharacterType"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F00483" title="CharacterType"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_7"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_7"></a><h3 class="tight">CharacterType</h3>
<p class="spaceabove">Returns a variety of information about the character represented by a given byte, including its type, class, orientation, direction, case, and size (in bytes). &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;You should update your application to handle Unicode text. There is no replacement function because Unicode handles encoding in a different manner.)</p>
<p class="spaceabove"><pre>
short CharacterType (
   <!--a-->Ptr<!--/a--> textBuf,
   short textOffset,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> script
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>textBuf</em></dt>
<dd><p>A pointer to a text buffer containing the character to be examined. </p></dd>
<dt><em>textOffset</em></dt>
<dd><p>The offset to the location of the character to be examined. (It can be an offset to either the first or the second byte of a double-byte character.) Offset is in bytes; the first byte of the first character has an offset of 0. </p></dd>
<dt><em>script</em></dt>
<dd><p>A value that specifies the script system the byte belongs to. Constants for all defined script codes are listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> To specify the font script, pass <code>smCurrentScript</code> in this parameter. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An integer bit field that provides information about the requested character. </p>
<h5 class="tight">Discussion</h5>
<p>The <code>CharacterType</code> return value is an integer bit field that provides information about the requested character. The field has the following format:</p>
<ul class="ul"><li class="li"><p> Bit range 0–3 (Type). The character types. </p></li>
<li class="li"><p> Bit range 4–7. Reserved. </p></li>
<li class="li"><p> Bit Range 8–11 (Class). Character classes (i.e., subtypes). </p></li>
<li class="li"><p> Bit 12 (Orientation). Horizontal or vertical. </p></li>
<li class="li"><p> Bit 13 (Direction). Left or right. In double-byte script systems, bit 13 indicates whether or not the character is part of the main character set (not a user-defined character). </p></li>
<li class="li"><p> Bit 14 (Case). Uppercase or lowercase. </p></li>
<li class="li"><p> Bit 15 (Size). single-byte or double-byte. </p></li></ul>
<p>The script system associated with the character you wish to examine must be enabled in order for any of these three functions to provide useful information.</p>
<p>For single-byte script systems, the character-type tables reside in the string-manipulation (<code>'itl2'</code>) resource and reflect region-specific or language-specific differences in uppercase conventions. The <code>CharacterType</code> function gets the tables from the string-manipulation resource using the <code>GetIntlResource</code> function.</p>
<p>For double-byte script systems, the character-type tables reside in the encoding/rendering (<code>'itl5'</code>) resource, not the string-manipulation resource. Whenever you call <code>CharacterType</code>, the necessary character-set encoding information is taken from the encoding/rendering resource. You cannot use the <code>GetIntlResource</code> function to access double-byte character-type tables directly.</p>
<p>The Script Manager defines the recognized character types, character classes, and character modifiers (bits 12–15), with constants to describe them. The <code>CharacterType</code> field masks are described in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Character_Type_Field_Masks">“Character Type Field Masks.”</a></span></p>
<p>The Script Manager also defines a set of masks with which you can isolate each of the fields in the <code>CharacterType</code> return value. If you perform an <code>AND</code> operation with the <code>CharacterType</code> result and the mask for a particular field, you select only the bits in that field. Once you’ve done that, you can test the result, using the constants that represent the possible results.</p>
<p>The function <code>CharacterType</code> calls <code>CharacterByteType</code> to determine whether the byte at <code>textOffset</code> is a single-byte character or the first byte or second byte of a double-byte character. The larger the text buffer, the longer <code>CharacterByteType</code> takes to execute. To be most efficient, place the pointer <code>textBuf</code> at the beginning of the character of interest before calling <code>CharacterType</code>. (If you want to be compatible with older versions of <code>CharacterType</code>, also set <code>textOffset</code> to 1, rather than 0, for double-byte characters.) </p>
<h5 class="tight">Special Considerations</h5>
<p>The function <code>CharacterType</code> may move memory; your application should not call this function at interrupt time.</p>
<p>If you specify <code>smCurrentScript</code> for the <code>script</code> parameter, <code>CharacterType</code> always assumes that the text in the buffer belongs to the font script. It is unaffected by the state of the font force flag or the international resources selection flag.</p>
<p>For single-byte script systems, the character-type tables are in the string-manipulation (<code>'itl2'</code>) resource. For double-byte script systems, they are in the encoding/rendering (<code>'itl5'</code>) resource. If the appropriate resource does not include these tables, <code>CharacterType</code> exits without doing anything.</p>
<p>Some Roman fonts (for example, Symbol) substitute other characters for the standard characters in the Standard Roman character set. Since the Roman script system <code>CharacterType</code> function assumes the Standard Roman character set, it may return inappropriate results for nonstandard characters.</p>
<h5 class="tight">Version Notes</h5>
<p>In versions of system software earlier than 7.0, the <code>textOffset</code> parameter to the <code>CharacterType</code> function must point to the second byte of a double-byte character.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/ClearIntlResourceCache" title="ClearIntlResourceCache"></a><a name="//apple_ref/doc/c_ref/ClearIntlResourceCache" title="ClearIntlResourceCache"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F00492" title="ClearIntlResourceCache"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_8"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_8"></a><h3 class="tight">ClearIntlResourceCache</h3>
<p class="spaceabove">Clears the application’s international resources cache, which contains the resource ID numbers of the string-manipulation (<code>'itl2'</code>) and tokens (<code>'itl4'</code>) resources for the current script.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement because this function is no longer needed in Mac OS X.)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void ClearIntlResourceCache (
   void
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>At application launch, the script management system sets up an international resources cache for the application. The cache contains the resource ID numbers of the string-manipulation and tokens resources for all enabled scripts.</p>
<p>If you provide your own string manipulation or tokens resource to replace the default for a particular script, call <code>ClearIntlResourceCache</code> at launch to ensure that your supplied resource is used instead of the script system’s <code>'itl2'</code> or <code>'itl4'</code> resource. </p>
<p>The current default ID numbers for a script system’s <code>'itl2'</code> and <code>'itl4'</code> resources are stored in its script variables. You can read and modify these values with the <code>GetScriptVariable</code> and <code>SetScriptVariable</code> functions using the selectors <code>smScriptSort </code>  (for the <code>'itl2'</code> resource) and <code>smScriptToken</code> (for the <code>'itl4'</code> resource). Before calling <code>ClearIntlResourceCache</code>, you should set the script’s default ID number to the ID of the resource that you are supplying.</p>
<p>If the international resources selection flag is <code>TRUE</code>, the ID numbers of your supplied resources must be in the system script range. Otherwise, the IDs must be in the range of the current script.</p>
<p>If you use the <code>SetScriptVariable</code> function to change the value of the <code>'itl2'</code> or <code>'itl4'</code> resource ID and then call <code>ClearIntlResourceCache</code> to flush the cache, be sure to restore the original resource ID before your application quits. </p>
<h5 class="tight">Special Considerations</h5>
<p>The function <code>ClearIntlResourceCache</code> may move memory; your application should not call this function at interrupt time.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/FillParseTable" title="FillParseTable"></a><a name="//apple_ref/doc/c_ref/FillParseTable" title="FillParseTable"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F01477" title="FillParseTable"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_9"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_9"></a><h3 class="tight">FillParseTable</h3>
<p class="spaceabove">Helps your application to quickly process a buffer of mixed single-byte and double-byte characters. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;You should update your application to handle Unicode text. There is no replacement function because Unicode handles encoding in a different manner.)</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> FillParseTable (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/CharByteTable">CharByteTable</a> table,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> script
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>table</em></dt>
<dd><p>A 256-byte table to be filled in by <code>FillParseTable</code>. </p></dd>
<dt><em>script</em></dt>
<dd><p>A value that specifies the script system the parse table belongs to. Constants for all defined script codes are listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> To specify the font script, pass <code>smCurrentScript</code> in this parameter. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>    If you specify <code>smCurrentScript</code> for the <code>script</code> parameter, the value returned by <code>FillParseTable</code> can be affected by the state of the font force flag. It is unaffected by the international resources selection flag. </p>
<h5 class="tight">Discussion</h5>
<p>Before calling <code>FillParseTable</code>, allocate space for a 256-byte table to pass to the function in the table parameter.</p>
<p>This function returns a 256-byte table that distinguishes the character codes of all possible single-byte characters from the first (high-order) byte values of all possible double-byte characters in the specified script system. The script system associated with the character you wish to examine must be enabled in order for any of these three functions to provide useful information.</p>
<p>For single-byte script systems, the character-type tables reside in the string-manipulation (<code>'itl2'</code>) resource and reflect region-specific or language-specific differences in uppercase conventions.</p>
<p>For double-byte script systems, the character-type tables reside in the encoding/rendering (<code>'itl5'</code>) resource, not the string-manipulation resource. Whenever you call <code>FillParseTable</code>, the necessary character-set encoding information is taken from the encoding/rendering resource. You cannot use the <code>GetIntlResource</code> function to access double-byte character-type tables directly.In every script system, double-byte characters have distinctive high-order (first) bytes that allow them to be distinguished from single-byte characters. <code>FillParseTable</code> fills a 256-byte table, conceptually equivalent to a single-byte character-set table, with values that indicate, byte-for-byte, whether the character-code value represented by that byte index is the first byte of a double-byte character. An entry in the <code>CharByteTable</code> is 0 for a single-byte character and 1 for the first byte of a double-byte character.</p>
<p>If your application is processing mixed characters, it can use the table to identify the locations of the double-byte characters as it makes a single pass through the text, rather than having to call <code>CharacterByteType</code> or <code>CharacterType</code> for each byte of the text buffer in turn. <code>CharacterByteType</code> and <code>CharacterType</code> start anew at the beginning of the text buffer each time they are called, tracking character positions up to the offset of the byte to be analyzed. </p>
<h5 class="tight">Special Considerations</h5>
<p><code>FillParseTable</code> may move memory; your application should not call this function at interrupt time.</p>
<p>The table defined by <code>CharByteTable</code> is not dynamic; it does not get updated when the current font changes. You need to call it separately for each script run in your text.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/FontScript" title="FontScript"></a><a name="//apple_ref/doc/c_ref/FontScript" title="FontScript"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F01538" title="FontScript"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_10"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_10"></a><h3 class="tight">FontScript</h3>
<p class="spaceabove">Returns the script code for the current script (usually the font script). &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../ATS/Reference/reference.html#//apple_ref/c/func/ATSFontFamilyGetEncoding" target="_top">ATSFontFamilyGetEncoding</a></code> instead.)</p>
<p class="spaceabove"><pre>
short FontScript (
   void
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef"></dl>
<h5 class="tight">Return Value</h5>
<p>A script code. All recognized script codes and their defined constants are listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> <code>FontScript</code> returns only explicit script codes (≥ 0). If the font of the active graphics port is Roman and the font force flag is <code>TRUE</code>, the script code returned is that of the system script and the script-forced result flag is set to <code>TRUE</code>. If the font of the active graphics port is non-Roman, the state of the font force flag is ignored. If the script system corresponding to the font of the active graphics port is not installed and enabled, the script code returned is that of the system script and the script-defaulted result flag is set to <code>TRUE</code>.</p>
<h5 class="tight">Discussion</h5>
<p>The information about the script code is subject to two control flags—the font force flag and the international resources selection flag. You can test and set these flags with the <code>GetScriptManagerVariable</code> and <code>SetScriptManagerVariable</code> selectors <code>smFontForce</code> and <code>smIntlForce</code>.</p>
<p>The function starts by initializing two result flags, the script-forced result flag and the script-defaulted result flag, to <code>FALSE</code>. These flags are Script Manager variables, accessed through the <code>GetScriptManagerVariable</code> function selectors <code>smForced</code> and <code>smDefault</code>. </p>
<h5 class="tight">Special Considerations</h5>
<p><code>FontScript</code> may move memory; your application should not call this function at interrupt time.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/FontToScript" title="FontToScript"></a><a name="//apple_ref/doc/c_ref/FontToScript" title="FontToScript"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F01539" title="FontToScript"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_11"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_11"></a><h3 class="tight">FontToScript</h3>
<p class="spaceabove">Translates a font family ID number into its corresponding script code, if that script system is currently enabled. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../ATS/Reference/reference.html#//apple_ref/c/func/ATSFontFamilyGetEncoding" target="_top">ATSFontFamilyGetEncoding</a></code> instead.)</p>
<p class="spaceabove"><pre>
short FontToScript (
   short fontNumber
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>fontNumber</em></dt>
<dd><p>A font family ID number. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A script code. All recognized script codes and their defined constants are listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> <code>FontToScript</code> returns only explicit script codes (≥ 0). If <code>fontNumber</code> is in the Roman range and the font force flag is <code>TRUE</code>, the script code returned is that of the system script and the script-forced result flag is set to <code>TRUE</code>. If <code>fontNumber</code> is in the non-Roman range, the state of the font force flag is ignored. If the script system corresponding to <code>fontNumber</code> is not enabled, the script code returned is that of the system script and the script-defaulted result flag is set to <code>TRUE</code>.</p>
<h5 class="tight">Discussion</h5>
<p>The information about the script code is subject to two control flags—the font force flag and the international resources selection flag. You can test and set these flags with the <code>GetScriptManagerVariable</code> and <code>SetScriptManagerVariable</code> selectors <code>smFontForce</code> and <code>smIntlForce</code>.</p>
<p>The function starts by initializing two result flags, the script-forced result flag and the script-defaulted result flag, to <code>FALSE</code>. These flags are Script Manager variables, accessed through the <code>GetScriptManagerVariable</code> function selectors <code>smForced</code> and <code>smDefault</code>.</p>
<p>Do not use the function <code>FontToScript</code> to convert resource IDs to scripts codes. </p>
<h5 class="tight">Special Considerations</h5>
<p><code>FontToScript</code> may move memory; your application should not call this function at interrupt time.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/GetIntlResourceTable" title="GetIntlResourceTable"></a><a name="//apple_ref/doc/c_ref/GetIntlResourceTable" title="GetIntlResourceTable"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F01818" title="GetIntlResourceTable"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_13"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_13"></a><h3 class="tight">GetIntlResourceTable</h3>
<p class="spaceabove">Obtains a specific word-selection, line-break, number-parts, untoken, or whitespace table from the appropriate international resource.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement because this function is no longer needed in Mac OS X.)</p>
<p class="spaceabove"><pre>
void GetIntlResourceTable (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> script,
   short tableCode,
   <!--a-->Handle<!--/a--> *itlHandle,
   long *offset,
   long *length
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>script</em></dt>
<dd><p>A script code, the value that specifies a particular script system. Constants for all defined script codes are listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> </p></dd>
<dt><em>tableCode</em></dt>
<dd><p>A number that specifies which table is requested. The constants for <code>tableCode</code> are detailed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Table_Selectors">“Table Selectors.”</a></span> </p></dd>
<dt><em>itlHandle</em></dt>
<dd><p>On return, a handle to the string-manipulation (<code>'itl2'</code>) or tokens (<code>'itl4'</code>) resource containing the table specified in the <code>tableCode</code> parameter. If the script system whose table is requested is not available, <code>GetIntlResourceTable</code> returns a <code>NULL</code> handle. </p></dd>
<dt><em>offset</em></dt>
<dd><p>On return, a pointer to the offset (in bytes) to the specified table from the beginning of the resource. </p></dd>
<dt><em>length</em></dt>
<dd><p>On return, a pointer to the size of the table (in bytes).</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>When you provide a script code in the <code>script</code> parameter, and a table code in the <code>tableCode</code> parameter, <code>GetIntlResourceTable</code> returns a handle to the string-manipulation resource or tokens resource containing that table, the offset of the specified table from the beginning of the resource, and the length of the table. </p>
<p>If you wish to manipulate the contents of the table you have requested, use the size returned in the <code>length</code> parameter to allocate a buffer, and perform a block move of the table’s contents into that buffer. </p>
<h5 class="tight">Special Considerations</h5>
<p><code>GetIntlResourceTable</code> may move memory; your application should not call this function at interrupt time.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/GetSysDirection" title="GetSysDirection"></a><a name="//apple_ref/doc/c_ref/GetSysDirection" title="GetSysDirection"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F02028" title="GetSysDirection"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_16"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_16"></a><h3 class="tight">GetSysDirection</h3>
<p class="spaceabove">Returns the current value of <code>SysDirection</code>, the global variable that determines the system direction (primary line direction).&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;This function does not return anything useful in Mac OS X.)</p>
<p class="spaceabove"><pre>
short GetSysDirection (
   void
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef"></dl>
<h5 class="tight">Return Value</h5>
<p>The current value of <code>SysDirection</code>: 0 if the system direction is left-to-right; -1 ($FFFF) if the system direction is right-to-left. </p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/IntlScript" title="IntlScript"></a><a name="//apple_ref/doc/c_ref/IntlScript" title="IntlScript"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F03062" title="IntlScript"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_17"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_17"></a><h3 class="tight">IntlScript</h3>
<p class="spaceabove">Identifies the script system used by the Text Utilities date-formatting, time-formatting, and string-sorting functions. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../ATS/Reference/reference.html#//apple_ref/c/func/ATSFontFamilyGetEncoding" target="_top">ATSFontFamilyGetEncoding</a></code> instead.)</p>
<p class="spaceabove"><pre>
short IntlScript (
   void
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef"></dl>
<h5 class="tight">Return Value</h5>
<p>A script code. All recognized script codes and their defined constants are listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> <code>IntlScript</code> returns only explicit script codes (≥ 0). If the international resources selection flag is <code>TRUE</code>, the script code returned is that of the system script. If the identified script system is not enabled, the script code returned is that of the system script and the script-defaulted result flag is set to <code>TRUE</code>.</p>
<h5 class="tight">Discussion</h5>
<p>Information about the script system is subject to two control flags—the font force flag and the international resources selection flag. You can test and set these flags with the <code>GetScriptManagerVariable</code> and <code>SetScriptManagerVariable</code> selectors <code>smFontForce</code> and <code>smIntlForce</code>.</p>
<p>The function starts by initializing two result flags, the script-forced result flag and the script-defaulted result flag, to <code>FALSE</code>. These flags are Script Manager variables, accessed through the <code>GetScriptManagerVariable</code> function selectors <code>smForced</code> and <code>smDefault</code>.</p>
<p>The function also identifies the script system whose resources are returned by the Script Manager function <code>GetIntlResource</code>. It is either the font script—the script system corresponding to the current font of the active graphics port—or the system script. </p>
<h5 class="tight">Special Considerations</h5>
<p><code>IntlScript</code> may move memory; your application should not call this function at interrupt time.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/IntlTokenize" title="IntlTokenize"></a><a name="//apple_ref/doc/c_ref/IntlTokenize" title="IntlTokenize"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F03063" title="IntlTokenize"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_18"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_18"></a><h3 class="tight">IntlTokenize</h3>
<p class="spaceabove">Allows your application to convert text into a sequence of language-independent tokens.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement because this function is no longer needed in Mac OS X.)</p>
<p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/TokenResults">TokenResults</a> IntlTokenize (
   <!--a-->TokenBlockPtr<!--/a--> tokenParam
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>tokenParam</em></dt>
<dd><p>A pointer to a token block structure. The structure specifies the text to be converted to tokens, the destination of the token list, a handle to the tokens (<code>'itl4'</code>) resource, and a set of options. See the <code><a href="../Reference/reference.html#//apple_ref/c/tdef/TokenBlock">TokenBlock</a></code>data structure for information on what you need to pass in this structure and what you obtain on return.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A <code>TokenResults</code> value that specifies whether the function executed with errors. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/TokenResults">“Token Results”</a></span> for a list of the values that can be returned.</p>
<h5 class="tight">Discussion</h5>
<p>Before calling the <code>IntlTokenize</code> function, allocate memory for and set up the following data structures:</p>
<ul class="ul"><li class="li"><p> A token block structure (data type <code>TokenBlock</code>). The token block structure is a parameter block that holds both input and output parameters for the <code>IntlTokenize</code> function. </p></li>
<li class="li"><p> A token list to hold the results of the tokenizing operation. To set up the token list, estimate how many tokens will be generated from your text, multiply that by the size of a token structure, and allocate a memory block of that size in bytes. An upper limit to the possible number of tokens is the number of characters in the source text. </p></li>
<li class="li"><p> A string list, if you want the <code>IntlTokenize</code> function to generate character strings for all the tokens. To set up the string list, multiply the estimated number of tokens by the expected average size of a string, and allocate a memory block of that size in bytes. An upper limit is twice the number of tokens plus the number of bytes in the source text. </p></li></ul>
<p>The function <code>IntlTokenize</code> creates tokens based on information in the tokens ( <code>'itl4'</code>) resource of the script system under which the source text was created. You must load the tokens resource and place its handle in the token block structure before calling the <code>IntlTokenize</code> function.</p>
<p>The token block structure contains both input and output values. At input, you must provide values for the fields that specify the source text location, the token list location, the size of the token list, the tokens ( <code>'itl4'</code>) resource to use, and several options that affect the operation. You must set reserved locations to 0 before calling <code>IntlTokenize</code>.</p>
<p>On output, the token block structure specifies how many tokens have been generated and the size of the string list (if you have selected the option to generate strings).</p>
<p>The results of the tokenizing operation are contained in the token list, an array of token structures (data type  <code><a href="../Reference/reference.html#//apple_ref/c/tdef/TokenRec">TokenRec</a></code> ).</p>
<p>Pascal strings are generated if the <code>doString</code> parameter in the token block structure is set to <code>TRUE</code>. The string is a normalized version of the source text that generated the token; alternate digits are replaced with ASCII numerals, the decimal point is always an ASCII period, and double-byte Roman letters are replaced with low-ASCII equivalents.</p>
<p>To make a series of calls to <code>IntlTokenize</code> and append the results of each call to the results of previous calls, set <code>doAppend</code> to <code>FALSE</code> and initialize <code>tokenCount</code> and <code>stringCount</code> to 0 before making the first call to <code>IntlTokenize</code>. (You can ignore <code>stringCount</code> if you set <code>doString</code> to <code>FALSE</code>.) Upon completion of the call, <code>tokenCount</code> and <code>stringCount</code> will contain the number of tokens and the length in bytes of the string list, respectively, generated by the call. On subsequent calls, set <code>doAppend</code> to <code>TRUE</code>, reset the <code>source</code> and <code>sourceLength</code> parameters (and any other parameters as appropriate) for the new source text, but maintain the output values for <code>tokenCount</code> and <code>stringCount</code> from each call as input values to the next call. At the end of your sequence of calls, the token list and string list will contain, in order, all the tokens and strings generated from the calls to <code>IntlTokenize</code>.</p>
<p>If you are making tokens from text that was created under more than one script system, you must load the proper tokens resource and place its handle in the token block structure separately for each script run in the text, appending the results each time. </p>
<p>Delimiters for quoted literals are passed to <code>IntlTokenize</code> in a two-integer array.</p>
<p>The individual delimiters, as specified in the <code>leftDelims</code> and <code>rightDelims</code> parameters, are paired by position. The first (in storage order) opening delimiter in <code>leftDelims</code> is paired with the first closing delimiter in <code>rightDelims</code>.</p>
<p>Comment delimiters may be 1 or 2 tokens each and there may be two sets of opening and closing pairs. They are passed to <code>IntlTokenize</code> in a <code>commentType</code> array.</p>
<p>If only one token is needed for a delimiter, the second token must be specified to be <code>delimPad</code>. If only one delimiter of an opening-closing pair is needed, then both of the tokens allocated for the other symbol must be <code>delimPad</code>. The first token of a two-token sequence is at the higher position in the <code>leftComment</code> or <code>rightComment</code> array.</p>
<p>When <code>IntlTokenize</code> encounters an escape character within a quoted literal, it places the portion of the literal before the escape character into a single token (of type <code>tokenLiteral</code>), places the escape character into another token ( <code>tokenEscape</code>), places the character following the escape character into another token (whatever token type it corresponds to), and places the portion of the literal following the escape sequence into another token ( <code>tokenLiteral</code>). Outside of a quoted literal, the escape character has no special significance.</p>
<p><code>IntlTokenize</code> considers the character specified in the <code>decimalCode</code> parameter to be a decimal character only when it is flanked by numeric or alternate numeric characters, or when it follows them. </p>
<h5 class="tight">Special Considerations</h5>
<p><code>IntlTokenize</code> may move memory; your application should not call this function at interrupt time.</p>
<p>Because each call to <code>IntlTokenize</code> must be for a single script run, there can be no change of script within a comment or quoted literal. </p>
<p>Comments and quoted literals must be complete within a single call to <code>IntlTokenize</code> in order to avoid syntax errors.</p>
<p><code>IntlTokenize</code> always uses the tokens resource whose handle you pass it in the token block structure. Therefore, it is not directly affected by the state of the font force flag or the international resources selection flag. However, if you use the <code>GetIntlResource</code> function to get a handle to the tokens resource to pass to <code>IntlTokenize</code>, remember that <code>GetIntlResource</code> is affected by the state of the international resources selection flag.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/SetSysDirection" title="SetSysDirection"></a><a name="//apple_ref/doc/c_ref/SetSysDirection" title="SetSysDirection"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F06990" title="SetSysDirection"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_21"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_21"></a><h3 class="tight">SetSysDirection</h3>
<p class="spaceabove">Sets the value of <code>SysDirection</code>, the global variable that determines the system direction (primary line direction).&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement because this function is no longer needed in Mac OS X.)</p>
<p class="spaceabove"><pre>
void SetSysDirection (
   short value
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>value</em></dt>
<dd><p>The desired value for <code>SysDirection</code>:0 if you wish the system direction to be left-to-right and -1 ($FFFF) if you wish the system direction to be right-to-left. </p></dd></dl>
<h5 class="tight">Return Value</h5>

<h5 class="tight">Discussion</h5>
<p>The value of <code>SysDirection</code> is initialized from the system’s international configuration resource, and may be controlled by the user. Your application can use the <code>SetSysDirection</code> function to change <code>SysDirection</code> while drawing, but should restore it when appropriate (such as when your application becomes inactive). </p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/TransliterateText" title="TransliterateText"></a><a name="//apple_ref/doc/c_ref/TransliterateText" title="TransliterateText"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F07950" title="TransliterateText"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_22"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_22"></a><h3 class="tight">TransliterateText</h3>
<p class="spaceabove">Converts characters from one subscript to the closest possible approximation in a different subscript within the same double-byte script system. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../../../../CoreFoundation/Reference/CFMutableStringRef/Reference/reference.html#//apple_ref/c/func/CFStringUppercase" target="_top">CFStringUppercase</a></code> instead.)</p>
<p class="spaceabove"><pre>
OSErr TransliterateText (
   <!--a-->Handle<!--/a--> srcHandle,
   <!--a-->Handle<!--/a--> dstHandle,
   short target,
   long srcMask,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> script
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>srcHandle</em></dt>
<dd><p>A handle to the source text to be transliterated. The <code>TransliterateText</code> function converts all of the text that you pass it in this parameter. It determines the length of the source text (in bytes) from the handle size. </p></dd>
<dt><em>dstHandle</em></dt>
<dd><p>A handle to a buffer that, upon completion of the call, contains the transliterated text.</p><p>Before calling <code>TransliterateText</code>, allocate a handle (of any size) to pass in the <code>dstHandle</code> parameter. The length of the transliterated text may be different (as when converting between single-byte and double-byte characters), and <code>TransliterateText</code> sets the size of the destination handle as required. It is your responsibility to dispose of the destination handle when you no longer need it.</p></dd>
<dt><em>target</em></dt>
<dd><p>A value that specifies what kind of text the source text is to be transliterated into. </p><p>The low byte of the target is the format to convert to (the target format). It determines what form the text should be transliterated to. In all script systems, there are two currently supported values for target format: <code>smTransAscii</code> and <code>smTransNative</code>. In double-byte script systems, additional values are recognized.</p><p>The high byte is the target modifier; it contains modifiers, whose meanings depend on the script code, providing additional formatting instructions. In all script systems, there are two values for target modifier: <code>smTransLower</code> and <code>smTransUpper</code>.</p><p></p></dd>
<dt><em>srcMask</em></dt>
<dd><p>A bit array that specifies which parts of the source text are to be transliterated. A bit is set for each script system or subscript that should be converted to the target format. In all script systems, the <code>srcMask</code> parameter may have the following values: <code>smMaskAscii</code>, <code>smMaskNative</code>, and <code>smMaskAll</code>. In double-byte script systems, additional values are recognized. </p></dd>
<dt><em>script</em></dt>
<dd><p>A value that specifies the script system of the text to be transliterated. Constants for all defined script codes are listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> To specify the font script, pass <code>smCurrentScript</code> in this parameter. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000143-CH4g-RCM0085">“Script Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Transliteration is the conversion of text from one form or subscript to another within a single script system. In the Roman script system, transliteration means case conversion. In double-byte script systems, it is the automatic conversion of characters from one subscript to another. One common use for transliteration is as an initial stage of text conversion for an input method.</p>
<p><code>TransliterateText</code> also performs uppercasing and lowercasing, with consideration for regional variants, in the Roman script system and on Roman text within double-byte script systems.</p>
<p>Because the low-ASCII character set (character codes $20–$7F) is present in all script systems, you could theoretically use the <code>TransliterateText</code> function to convert characters from one script system into another completely different script system. You could transliterate from a native subscript into ASCII under one script system, and then transliterate from that ASCII into a native subscript under a different script system. Such a function is not recommended, however, because of the imperfect nature of phonetic translation. Furthermore, many script systems do not support transliteration from native subscripts to ASCII. </p>
<h5 class="tight">Special Considerations</h5>
<p><code>TransliterateText</code> may move memory; your application should not call this function at interrupt time.</p>
<p>If you pass <code>smCurrentScript</code> in the <code>script</code> parameter, the conversion performed by <code>TransliterateText</code> can be affected by the state of the font force flag. It is unaffected by the international resources selection flag.</p>
<p>Transliteration of a block of text does not work across script-run boundaries. Because the <code>TransliterateText</code> function requires transliteration tables that are in a script system’s international resources, you need to call it anew for each script run in your text.</p>
<p>Currently, the Roman version of <code>TransliterateText</code> checks the source mask only to ensure that at least one of the bits corresponding to the <code>smMaskAscii</code> and <code>smMaskNative</code> constants is set.</p>
<p>The Arabic and Hebrew versions of <code>TransliterateText</code> perform case conversion only. They allow the target values <code>smTransAscii</code> and <code>smTransNative</code> only; otherwise, they behave like the Roman version. </p>
<p>The <code>TransliterateText</code> tables for single-byte script systems reside in the script’s string-manipulation (<code>'itl2'</code>) resource, so they can reflect region-specific or language-specific differences in uppercase conventions. If the string-manipulation resource does not include these tables, <code>TransliterateText</code> exits without doing anything. </p>
<p>The <code>TransliterateText</code> tables for double-byte script systems reside in the script’s transliteration (<code>'trsl'</code>) resource. If the <code>'trsl'</code> resource does not include these tables, <code>TransliterateText</code> exits without doing anything. </p>
<p>The Japanese, Traditional Chinese, and Simplified Chinese versions of <code>TransliterateText</code> have two modes of operation. If either <code>smMaskAscii</code> or <code>smMaskNative</code> is specified in the source mask, and if the target is <code>smTransAscii</code>, and if either of the target modifiers is specified, <code>TransliterateText</code> performs the specified case conversion on both single-byte and double-byte Roman letters. Otherwise, <code>TransliterateText</code> performs conversions according to the target format values. Any combination of source masks and target format is permitted.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_593" title="Deprecated in Mac OS X v10.5"></a><h2>Deprecated in Mac OS X v10.5</h2><a name="//apple_ref/c/func/GetIntlResource" title="GetIntlResource"></a><a name="//apple_ref/doc/c_ref/GetIntlResource" title="GetIntlResource"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F01817" title="GetIntlResource"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_12"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_12"></a><h3 class="tight">GetIntlResource</h3>
<p class="spaceabove">Returns a handle to one of the international resources.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;The replacement for this function depends on the purpose for which it is used, as described in the Special Considerations section.)</p>
<p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> GetIntlResource (
   short theID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theID</em></dt>
<dd><p>Contains an integer (0, 1, 2, 4, or 5 respectively for the <code>'itl0'</code>, <code>'itl1'</code>, <code>'itl2'</code>, <code>'itl4'</code>, and <code>'itl5'</code>resources) to identify the type of the desired international resource. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A handle to the correct resource of the requested type. The resource returned is that of the current script, which is either the font script or the system script. The resource is of one of the following types: numeric-format (<code>'itl0'</code>), long-date-format (<code>'itl1'</code>), string-manipulation (<code>'itl2'</code>), tokens (<code>'itl4'</code>), or encoding/rendering (<code>'itl5'</code>). If <code>GetIntlResource</code> cannot return the requested resource, it returns a <code>NULL</code> handle and sets the global variable <code>resErr</code> to the appropriate error code.</p>
<h5 class="tight">Special Considerations</h5><p>Depending on the information that this function was called to obtain, it can be replaced by the use of <code><a href="../../../../CoreFoundation/Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/func/CFLocaleCopyCurrent" target="_top">CFLocaleCopyCurrent</a></code> to get an appropriate <code>CFLocaleRef</code> followed by one of the following:</p><ul class="ul"><li class="li"><p><code><a href="../../../../CoreFoundation/Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/func/CFLocaleGetValue" target="_top">CFLocaleGetValue</a></code> with keys such as <code><a href="../../../../CoreFoundation/Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/data/kCFLocaleUsesMetricSystem" target="_top">kCFLocaleUsesMetricSystem</a></code>, <code><a href="../../../../CoreFoundation/Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/data/kCFLocaleDecimalSeparator" target="_top">kCFLocaleDecimalSeparator</a></code>, <code><a href="../../../../CoreFoundation/Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/data/kCFLocaleCurrencySymbol" target="_top">kCFLocaleCurrencySymbol</a></code>.</p></li><li class="li"><p><code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/func/CFDateFormatterCreate" target="_top">CFDateFormatterCreate</a></code> to get an appropriate <code>CFDateFormatterRef</code> object, followed by <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/func/CFDateFormatterCopyProperty" target="_top">CFDateFormatterCopyProperty</a></code> with keys such as <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/data/kCFDateFormatterMonthSymbols" target="_top">kCFDateFormatterMonthSymbols</a></code>, <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/data/kCFDateFormatterWeekdaySymbols" target="_top">kCFDateFormatterWeekdaySymbols</a></code>, and <code><a href="../../../../CoreFoundation/Reference/CFDateFormatterRef/Reference/reference.html#//apple_ref/c/data/kCFDateFormatterAMSymbol" target="_top">kCFDateFormatterAMSymbol</a></code>.</p></li><li class="li"><p><code><a href="../../../../CoreFoundation/Reference/CFNumberFormatterRef/Reference/reference.html#//apple_ref/c/func/CFNumberFormatterCreate" target="_top">CFNumberFormatterCreate</a></code> to get an appropriate <code>CFNumberFormatterRef</code> object, followed by <code><a href="../../../../CoreFoundation/Reference/CFNumberFormatterRef/Reference/reference.html#//apple_ref/c/func/CFNumberFormatterCopyProperty" target="_top">CFNumberFormatterCopyProperty</a></code> with keys such as <code><a href="../../../../CoreFoundation/Reference/CFNumberFormatterRef/Reference/reference.html#//apple_ref/c/data/kCFNumberFormatterCurrencyDecimalSeparator" target="_top">kCFNumberFormatterCurrencyDecimalSeparator</a></code>, <code><a href="../../../../CoreFoundation/Reference/CFNumberFormatterRef/Reference/reference.html#//apple_ref/c/data/kCFNumberFormatterMinusSign" target="_top">kCFNumberFormatterMinusSign</a></code>, <code><a href="../../../../CoreFoundation/Reference/CFNumberFormatterRef/Reference/reference.html#//apple_ref/c/data/kCFNumberFormatterPercentSymbol" target="_top">kCFNumberFormatterPercentSymbol</a></code>, and <code><a href="../../../../CoreFoundation/Reference/CFNumberFormatterRef/Reference/reference.html#//apple_ref/c/data/kCFNumberFormatterNegativePrefix" target="_top">kCFNumberFormatterNegativePrefix</a></code>.</p></li></ul>
<p><code>GetIntlResource</code> may move memory; your application should not call this function at interrupt time.</p>


<h5 class="tight">Carbon Porting Notes</h5>
<p>While the return type of this function remains a Handle, in Mac OS X it returns an ordinary memory handle instead of a resource handle.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/GetScriptManagerVariable" title="GetScriptManagerVariable"></a><a name="//apple_ref/doc/c_ref/GetScriptManagerVariable" title="GetScriptManagerVariable"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F01998" title="GetScriptManagerVariable"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_14"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_14"></a><h3 class="tight">GetScriptManagerVariable</h3>
<p class="spaceabove">Retrieves the value of the specified Script Manager variable.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;The replacement for this function depends on the selector used with it, as described in the Special Considerations section.)</p>
<p class="spaceabove"><pre>
long GetScriptManagerVariable (
   short selector
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>selector</em></dt>
<dd><p>A value that specifies a particular Script Manager variable. To specify the Script Manager variable whose value you need, use one of the selector constants listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Script_Manager_Selectors">“Script Manager Selectors.”</a></span> </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The current value of the specified Script Manager variable or 0 if the selector is invalid. For some valid selectors, 0 may also be a valid return value. For example, when you call <code>GetScriptManagerVariable</code> with a selector value of <code>smRegionCode</code> on a version of Macintosh system software that has been localized for the United States, it returns 0. Although <code>GetScriptManagerVariable</code> always returns a long integer, the actual value may be a long integer, standard integer, or signed byte. If the value is not a long integer, it is stored in the low-order word or byte of the long integer returned by <code>GetScriptManagerVariable</code>; the remaining bytes are set to 0.</p>
<h5 class="tight">Discussion</h5>
<p>The Script Manager maintains a set of variables that control general settings of the text environment, including the identity of the system script and the keyboard script, and the settings of the font force flag and the international resources selection flag.</p>
<p>You may want access to the Script Manager variables in order to understand the current environment or to modify it. </p><h5 class="tight">Special Considerations</h5><p>The replacement for this function depends on the selector used with it. Many of the selectors refer to information that is not meaningful on a Unicode system or refer to details of the Script Manager itself; in general there are no replacements for these. Selectors that have meaningful replacements are shown in the following list. These are not direct replacements; they provide analogous but more modern functionality.</p><ul class="simple"><li><p><code>smSysScript</code>. To obtain a text encoding for the legacy Mac OS encoding associated with the user's preferred user interface language or with the application's default text encoding, use <code><a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/func/CFStringGetSystemEncoding" target="_top">CFStringGetSystemEncoding</a></code> or <code><a href="../../Dock_Manager/Reference/reference.html#//apple_ref/c/func/GetApplicationTextEncoding" target="_top">GetApplicationTextEncoding</a></code>. Sometimes <code>smSysScript</code> is just used to get a script code to pass to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/GetScriptVariable" target="_self">GetScriptVariable</a></code>; in this case the replacements for <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/GetScriptVariable" target="_self">GetScriptVariable</a></code> selectors may provide more information.</p></li><li><p><code>smKeyScript</code>. To obtain the intended language associated with the user's current keyboard input source (plus other languages that can be input using it), use <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/func/TISCopyCurrentKeyboardInputSource" target="_top">TISCopyCurrentKeyboardInputSource</a></code> to get that input source, then pass it to <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/func/TISGetInputSourceProperty" target="_top">TISGetInputSourceProperty</a></code> with the <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/econst/kTISPropertyInputSourceLanguages" target="_top">kTISPropertyInputSourceLanguages</a></code> key. </p></li><li><p><code>smKCHRCache</code>. To obtain the key layout data for the keyboard layout currently in use, use <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/func/TISCopyCurrentKeyboardLayoutInputSource" target="_top">TISCopyCurrentKeyboardLayoutInputSource</a></code> to get that input source, then pass it to <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/func/TISGetInputSourceProperty" target="_top">TISGetInputSourceProperty</a></code> with the <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/econst/kTISPropertyUnicodeKeyLayoutData" target="_top">kTISPropertyUnicodeKeyLayoutData</a></code> key (this returns <code>'uchr'</code> Unicode ayout data only; it will not return any data for keyboard layouts that only have <code>'KCHR'</code> data).</p></li><li><p><code>smRegionCode</code>. To obtain the locale associated with the user's preferred formats (for dates, times, numbers, and so on) use the following code:</p><div class="codesample"><table><tr><td scope="row"><pre>CFStringRef curLocaleStringRef = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>localeRef = CFLocaleCopyCurrent();<span></span></pre></td></tr><tr><td scope="row"><pre>if (localeRef) {<span></span></pre></td></tr><tr><td scope="row"><pre>    curLocaleStringRef = CFLocaleGetIdentifier(localeRef);<span></span></pre></td></tr><tr><td scope="row"><pre>    CFRelease(localeRef);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>To obtain the user's preferred user interface language, use the following line of code:</p><div class="codesample"><table><tr><td scope="row"><pre>CFArrayRef langArray = (CFArrayRef)CFPreferencesCopyAppValue(CFSTR("AppleLanguages"), kCFPreferencesCurrentApplication);<span></span></pre></td></tr></table></div>	<p>The first entry in <code>langArray</code> indicates the preferred language. See also <code><a href="../../../../CoreFoundation/Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/func/CFLocaleCopyPreferredLanguages" target="_top">CFLocaleCopyPreferredLanguages</a></code>.</p></li></ul><p>Selectors that have no meaningful replacement on a Unicode system include <code>smEnabled</code>, <code>smBidirect</code>, and <code>smDoubleByte</code>. Selectors that pertain to internal operation of the Script Manager itself and thus have no meaningful replacement include <code>smVersion</code>, <code>smMunged</code>, <code>smPrint</code>, and <code>smSysRef</code>.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/GetScriptVariable" title="GetScriptVariable"></a><a name="//apple_ref/doc/c_ref/GetScriptVariable" title="GetScriptVariable"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F02001" title="GetScriptVariable"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_15"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_15"></a><h3 class="tight">GetScriptVariable</h3>
<p class="spaceabove">Retrieves the value of the specified script variable from the specified script system.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;The replacement for this function depends on the selector used with it, as described in the Special Considerations section.)</p>
<p class="spaceabove"><pre>
long GetScriptVariable (
   short script,
   short selector
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>script</em></dt>
<dd><p>A value that specifies the script system whose variable you are accessing. Use one of the script-code constants listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> </p></dd>
<dt><em>selector</em></dt>
<dd><p>A value that specifies a particular script variable. Use one of the selector constants listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Script_Variable_Selectors">“Script Variable Selectors.”</a></span> Valid selector values are defined by each script system.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>0 if the selector value is invalid or if the specified script system is not installed. For some valid selectors, 0 may also be a valid return value. For example, calling <code>GetScriptVariable</code> with a selector of <code>smScriptLang</code> on a version of Macintosh system software that has been localized for the United States returns 0. Although <code>GetScriptVariable</code> always returns a long integer, the actual value may be a long integer, standard integer, or signed byte. If the value is not a long integer, it is stored in the low-order word or byte of the long integer returned by <code>GetScriptVariable</code>; the remaining bytes are set to 0.</p>
<h5 class="tight">Discussion</h5>
<p>Each enabled script system maintains a set of variables that control the current settings of that script system, including the ID numbers of its international resources, its preferred fonts and font sizes, and its primary line direction. </p><h5 class="tight">Special Considerations</h5><p>The replacement for this function depends on the selector used with it. Many of the selectors refer to information that is not meaningful on a Unicode system or refer to details of the Script Manager itself; in general there are no replacements for these. Selectors that have meaningful replacements are shown in the following list. These are not direct replacements; they provide analogous but more modern functionality.</p><ul class="simple"><li><p><code>smScriptLang</code>. This was typically used with the system script to determine the system language. Instead, to obtain the user's preferred user interface language, use the following line of code:</p><div class="codesample"><table><tr><td scope="row"><pre>CFArrayRef langArray = (CFArrayRef)CFPreferencesCopyAppValue(CFSTR("AppleLanguages"), kCFPreferencesCurrentApplication);<span></span></pre></td></tr></table></div>	<p>The first entry in <code>langArray</code> indicates the preferred language. See also <code><a href="../../../../CoreFoundation/Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/func/CFLocaleCopyPreferredLanguages" target="_top">CFLocaleCopyPreferredLanguages</a></code>.</p></li><li><p>Font selectors <code>smScriptSysFond</code>, <code>smScriptSysFondSize</code>, <code>smScriptAppFond</code>, <code>smScriptAppFondSize</code>,  <code>smScriptMonoFondSize</code>, <code>smScriptPrefFondSize</code>, <code>smScriptSmallFondSize</code>, and <code>smScriptHelpFondSize</code>. On Mac OS X you generally do not need to worry about setting an appropriate font based on character script to ensure that characters are displayed correctly; Unicode encoding and font fallbacks (to automatically find a font that can display a character) take care of this. However, for cases where you do need to do this (such as Carbon applications that handle non-Unicode text), the Core Text function <code><a href="../../CTFontRef/Reference/reference.html#//apple_ref/c/func/CTFontCreateUIFontForLanguage" target="_top">CTFontCreateUIFontForLanguage</a></code> (available in Mac OS X v10.5 and later) provides a way to get a <code>CTFontRef</code> object for a specified language and user interface use.</p></li><li><p>Script resource ID selectors <code>smScriptNumber</code>, <code>smScriptDate</code>, <code>smScriptSort</code>, and <code>smScriptToken</code>. These were used in several ways. Sometimes they were used to get a resource ID so specific fields in the resource could be examined (for example, to determine the appropriate decimal separator or time format). For this use <code><a href="../../../../CoreFoundation/Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/func/CFLocaleGetValue" target="_top">CFLocaleGetValue</a></code> can now be used with an appropriate key (for example, <code>kCFLocaleDecimalSeparator</code>) to get similar information (much of the information associated with the resource specified by <code>smScriptToken</code> is not relevant for a Unicode system). Another use was to get a resource ID (or a handle) to pass to some other system function. For text sorting, this is replaced by the collation functionality in CFString. For formatting of times, dates, and numbers, this is replaced by functionality in CFLocale, CFDateFormatter, CFNumberFormatter.</p></li><li><p><code>smScriptKeys</code>. To determine an appropriate keyboard input source for a particular language, use <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/func/TISCopyInputSourceForLanguage" target="_top">TISCopyInputSourceForLanguage</a></code>.</p></li><li><p><code>smScriptIcon</code>. To obtain an icon for a particular keyboard input source, use <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/func/TISGetInputSourceProperty" target="_top">TISGetInputSourceProperty</a></code> with the <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/econst/kTISPropertyIconRef" target="_top">kTISPropertyIconRef</a></code> or <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/econst/kTISPropertyIconImageURL" target="_top">kTISPropertyIconImageURL</a></code> key.</p></li></ul>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/SetScriptManagerVariable" title="SetScriptManagerVariable"></a><a name="//apple_ref/doc/c_ref/SetScriptManagerVariable" title="SetScriptManagerVariable"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F06963" title="SetScriptManagerVariable"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_19"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_19"></a><h3 class="tight">SetScriptManagerVariable</h3>
<p class="spaceabove">Sets the specified Script Manager variable to the value of the input parameter.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;This is mainly used to set the value of variables that control the internal operation of the Script Manager (selectors <code>smIntlForce</code> and <code>smGenFlags</code>), and therefore there is no modern replacement.)</p>
<p class="spaceabove"><pre>
OSErr SetScriptManagerVariable (
   short selector,
   long param
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>selector</em></dt>
<dd><p>A value that specifies a particular Script Manager variable. To specify the Script Manager variable whose value you wish to change, use one of the selector constants listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Script_Manager_Selectors">“Script Manager Selectors.”</a></span> </p></dd>
<dt><em>param</em></dt>
<dd><p>The new value for the specified Script Manager variable.</p><p>The actual values to be assigned may be long integers, standard integers, or signed bytes. If the value is other than a long integer, you must store it in the low-order word or byte of the <code>param</code> parameter and set the unused bytes to 0.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000143-CH4g-RCM0085">“Script Manager Result Codes.”</a></span> The value <code>smBadVerb</code> if the selector is not valid. Otherwise, the function returns 0 (<code>noErr</code>).</p>
<h5 class="tight">Discussion</h5>
<p>The Script Manager maintains a set of variables that control general settings of the text environment, including the identity of the system script and the keyboard script, and the settings of the font force flag and the international resources selection flag.</p>
<p>You may want access to the Script Manager variables in order to understand the current environment or to modify it. </p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code><a name="//apple_ref/c/func/SetScriptVariable" title="SetScriptVariable"></a><a name="//apple_ref/doc/c_ref/SetScriptVariable" title="SetScriptVariable"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-F06966" title="SetScriptVariable"></a>
<a name="//apple_ref/doc/uid/TP30000143-AppendixA-DontLinkElementID_20"></a><a name="//apple_ref/doc/uid/TP30000143-CH1g-DontLinkElementID_20"></a><h3 class="tight">SetScriptVariable</h3>
<p class="spaceabove">Sets the specified script variable for the specified script system to the value of the input parameter.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;The replacement for this function depends on the purpose for which it is used, as described in the Special Considerations section.)</p>
<p class="spaceabove"><pre>
OSErr SetScriptVariable (
   short script,
   short selector,
   long param
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>script</em></dt>
<dd><p>A value that specifies the script system whose variable you are setting. Use one of the script-code constants listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Meta_Script_Codes">“Meta Script Codes.”</a></span> </p></dd>
<dt><em>selector</em></dt>
<dd><p>A value that specifies a particular script variable. Use one of the selector constants listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Script_Variable_Selectors">“Script Variable Selectors.”</a></span></p></dd>
<dt><em>param</em></dt>
<dd><p>The new value for the specified script variable. The actual value to be assigned may be a long integer, standard integer, or signed byte. If the value is not a long integer, you must store it in the low-order word or byte of the <code>param</code> parameter and set the unused bytes to 0. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000143-CH4g-RCM0085">“Script Manager Result Codes.”</a></span> The value <code>smBadVerb</code> if the selector is not valid, and <code>smBadScript</code> if the script is invalid. Otherwise, 0 (<code>noErr</code>).</p>
<h5 class="tight">Discussion</h5>
<p>Each enabled script system maintains a set of variables that control the current settings of that script system, including the ID numbers of its international resources, its preferred fonts and font sizes, and its primary line direction. </p><h5 class="tight">Special Considerations</h5><p>The replacement for this function depends on whether the goal is to set the keyboard layout globally or for a specific TSM document. To set it globally, use <code><a href="../../../../TextFonts/Reference/TextInputSourcesReference/Reference/reference.html#//apple_ref/c/func/TISSelectInputSource" target="_top">TISSelectInputSource</a></code>. To set it for a specific document, use the TSM document property <code>kTSMDocumentInputSourceOverridePropertyTag</code>.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Script.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../scriptmgr_ref_docrevhist/scriptmgr_ref_docrevhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-12-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/Script_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000143-3.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/Script_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000143-3.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/Script_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000143-3.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>