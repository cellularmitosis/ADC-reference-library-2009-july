<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Noninterrupt and Interrupt-Level Execution</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.6f.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.74.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.76.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2.Heading2"><A NAME="pgfId=3453"> </A><A NAME="28012"> </A>Noninterrupt and Interrupt-Level Execution</H1><P CLASS="T1.Text1"><A NAME="pgfId=3454"> </A>In prior releases of Mac&nbsp;OS there has been no clear distinction between application-level programming and system-level programming. Restrictions about when certain system services can be used and when they cannot are not fully defined. </P><P CLASS="T1.Text1"><A NAME="pgfId=3456"> </A>In native driver model, different <A NAME="marker=3455"> </A>execution levels have different restrictions. Noninterrupt (task level) execution may make use of nearly any operating-system or Mac OS ROM Toolbox service. Secondary interrupt routines and hardware interrupt handlers are allowed only a small subset of those services.</P><P CLASS="T1.Text1"><A NAME="pgfId=3457"> </A>The discussion in this book uses the following definitions for execution levels:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3459"> </A><A NAME="marker=3458"> </A><B CLASS="bold">Task level:</B> the noninterrupt level on which most code, including applications, is executed.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3461"> </A><A NAME="marker=3460"> </A><B CLASS="bold">Hardware interrupt level:</B> the execution level of concern to driver writers. Hardware interrupt-level execution happens as a direct result of a hardware interrupt request. The software executed at hardware interrupt level includes installable interrupt handlers for PCI and other devices as well as interrupt handlers supplied by Apple.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3463"> </A><A NAME="marker=3462"> </A><B CLASS="bold">Secondary interrupt level:</B> the execution level similar to deferred task execution in previous versions of Mac&nbsp;OS. The secondary interrupt queue is filled with requests to execute subroutines that are posted for execution by hardware interrupt handlers. The handlers need to perform certain actions but choose to defer the execution of those actions to minimize interrupt-level execution. Unlike hardware interrupt handlers, which can be interrupted by hardware interrupts and can nest, secondary interrupt handlers always run serially.</LI></UL><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.6f.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.74.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.76.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>