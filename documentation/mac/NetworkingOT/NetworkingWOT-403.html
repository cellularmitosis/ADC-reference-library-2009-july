<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>OTInetMailExchange</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING403></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-402.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-404.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-377.html"><B>Chapter 29 - TCP/IP Services Reference</B></A> / <A HREF="NetworkingWOT-393.html"><B>Functions</B></A><BR><DL><DD><A HREF="NetworkingWOT-401.html"><B>Getting Information About an Internet Host</B></A> / </DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING403-0></A>
<H3><A NAME=MARKER-9-135></A>OTInetMailExchange<A NAME=MARKER-13-136></A></H3>
 Returns mail-exchange-host names and preference information for a domain name you specify.<P>
<A NAME=HEADING403-2></A>
<H5>C INTERFACE</H5>
<PRE>
<A NAME=MARKER-11-137></A>OSStatus OTInetMailExchange (InetSvcRef ref,
                                         char *name,
                                         UInt16 *num,
                                         Ine
</PRE>
<A NAME=HEADING403-4></A>
<H5>C++ INTERFACE</H5>
<PRE>
<A NAME=MARKER-12-138></A>OSStatus TInternetServices::MailExchange (char *name,
                                         UInt16 *num,
                                         InetMailExchange e 
</PRE>
<A NAME=HEADING403-6></A>
<H5>PARAMETERS</H5>
<DL>
<DT><CODE>ref</CODE>
<DD> The internet services reference you obtained when you opened the TCP/IP service provider.
<DT><CODE>name</CODE>
<DD> A pointer to a host name, partially qualified domain name, or fully qualified domain name for which you want mail exchange information.
<DT><CODE>num</CODE>
<DD> A pointer to the number of elements in the array pointed to by the <CODE>mx </CODE>parameter. When the function completes, it sets the number pointed to by the <CODE>num</CODE> parameter to the actual number of elements filled in.
<DT><CODE>mx</CODE>
<DD> A pointer to the first element in an array of <A HREF=NetworkingWOT-387.html#MARKER-9-56><CODE>InetMailExchange</CODE></A> structures. You must allocate the structures in this array.
<DT><I>function result</I>
<DD> A result code. See <A HREF=NetworkingWOT-479.html#MARKER-9-72>Appendix B</A> for more information.
</DL>
<A NAME=HEADING403-12></A>
<H5>DISCUSSION</H5>
 In order to deliver mail, a mail application must determine the fully qualified domain name of the host to which the mail should be sent. That host might be the final destination of the mail, a mail server, or a mail gateway. The domain name system servers maintain mail-exchange resource records that pair domain names with the hosts that can accept mail for that domain. Each domain name can be paired with any number of host names; each record containing such a pair also contains a preference number. The mailer sends the mail to the host with the lowest preference number first and tries the others in turn until the mail is delivered or until the mailer decides that the mail is undeliverable. <P>
 The <CODE>OTInetMailExchange</CODE> function returns mail-exchange host and preference information for the domain name you specify. You must then determine the address of the host and how best to deliver the mail. <P>
 If you call this function asynchronously, the TCP/IP service provider calls your notifier function with the <CODE>T_DNRMAILEXCHANGECOMPLETE</CODE> completion event code when the function completes. The <CODE>cookie</CODE> parameter to the notifier function contains the array pointer you specified in the <CODE>mx</CODE> parameter. If you had more than one simultaneous outstanding call to the <CODE>OTInetMailExchange</CODE> function, you can use this information to determine which call has completed execution.<P>
<A NAME=HEADING403-16></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 If you call this function asynchronously, do not modify the <CODE>InetMailExchange</CODE> array until the function completes.<P>
<A NAME=HEADING403-18></A>
<H5>SEE ALSO</H5>
 The <A HREF=NetworkingWOT-387.html#MARKER-9-56><CODE>InetMailExchange</CODE></A> structure.<P>
 Internet mail routing and mail-exchange resource records are described in RFC 974: <I>Mail Routing and the Domain System</I>.<A NAME=MARKER-13-139></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-402.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-404.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
