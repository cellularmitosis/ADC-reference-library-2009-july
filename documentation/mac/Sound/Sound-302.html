<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>SoundComponentSetOutput (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING302></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-301.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-303.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-266.html"><B>Chapter 5 - Sound Components</B></A> / <A HREF="Sound-277.html"><B>Sound Components Reference</B></A><BR><DL><DD><A HREF="Sound-296.html"><B>Sound Component-Defined Routines</B></A> / <A HREF="Sound-297.html"><B>Managing Sound Components</B></A></DL></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="../../../referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING302-0></A>
<H3>SoundComponentSetOutput</H3>
 <A NAME=MARKER-2-281></A><A NAME=MARKER-2-282></A>A sound output device component can call the <CODE>SoundComponentSetOutput</CODE> function of the Apple Mixer to indicate the type of data it expects to receive.<P>
<PRE>
pascal ComponentResult SoundComponentSetOutput 
                           (ComponentInstance ti, 
                              SoundComponentDataPtr requested, 
                              SoundComponentDataPtr *actual);
</PRE>
<DL>
<DT><CODE>ti</CODE>
<DD> A component instance that identifies your sound component.
<DT><CODE>requested</CODE>
<DD> A pointer to a sound component data record that specifies the type of the data your component expects to receive.
<DT><CODE>actual</CODE>
<DD> This parameter is currently unused.
</DL>
<A NAME=HEADING302-6></A>
<H5>DESCRIPTION</H5>
 The Apple Mixer's <CODE>SoundComponentSetOutput</CODE> function can be called by a sound output device component to specify the kind of audio data the output device component wants to receive. The Apple Mixer uses that information to determine the type of sound component chain it needs to construct in order to deliver that kind of audio data to your sound output device component. For example, if your sound output device is able to accept 16-bit samples, the Sound Manager doesn't need to convert 16-bit audio data into 8-bit data.<P>
 The following lines of code illustrate how the sound output device component for the Apple Sound Chip might call Apple Mixer's <CODE>SoundComponentSetOutput</CODE> function:<P>
<PRE>
myDataRec.flags = 0;                /*ignored here*/
myDataRec.format = kOffsetBinary;   /*ASC needs offset binary*/
myDataRec.sampleRate = rate22khz;   /*ASC needs 22 kHz samples*/
myDataRec.sampleSize = 8;           /*ASC needs 8-bit data*/
myDataRec.numChannels = 2;          /*ASC can do stereo*/
myDataRec.sampleCount = 1024;       /*ASC uses a 1K FIFO*/
myErr = SoundComponentSetOutput(mySource, &amp;myDataRec, &amp;myActual);
</PRE>
 In general, however, a sound output device component shouldn't need to call the Apple Mixer's <CODE>SoundComponentSetOutput</CODE> function. Instead, it can indicate the type of data it expects to receive when it calls the <CODE>OpenMixerSoundComponent</CODE> function. The <CODE>SoundComponentSetOutput</CODE> function is intended for sophisticated sound output device components that might want to reinitialize the Apple Mixer.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>Only the Apple Mixer component needs to implement this function.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
<A NAME=HEADING302-12></A>
<H5>RESULT CODES</H5>
 The Apple Mixer's <CODE>SoundComponentSetOutput</CODE> function returns <CODE>noErr</CODE> if successful or an appropriate result code otherwise.<A NAME=MARKER-2-283></A><A NAME=MARKER-2-284></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-301.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-303.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
