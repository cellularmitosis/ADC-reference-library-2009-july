<html><head><title>Serving WebObjects</title></head>
<body bgcolor="#ffffff">

<!--start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="ServingWebObjectsTOC.html" target="_top">Serving WebObjects</a>
</font>
<br><br>
<!--end of path -->


 
<a href="ServingWebObjectsTOC.html"><IMG SRC="ArrowUp.gif">Table of Contents</a> <a href="ServingWebObjects32.html"><IMG SRC="ArrowLeft.gif">Previous Section</a>
<P>
 
<a name="8185">
<h2> Making Monitor and MonitorProxy Fail-safe</h2>
</a><a name="8187">
Because Monitor is a critical piece of any deployment, you should take measures to make sure that it does not fail. To help you achieve this aim, WebObjects provides a simple command-line tool, <strong>MonitorDaemon</strong>. This tool restarts Monitor or <strong>MonitorProxy</strong> when they fail. How you use MonitorDaemon depends on the WebObjects deployment platform.<p>
</a><a name="8189">
<h3> Using MonitorDaemon on Windows NT</h3>
</a><a name="8191">
When WebObjects is properly installed, the Services Control panel contains two services which use <strong>MonitorDaemon</strong> to keep Monitor and <strong>MonitorProxy</strong> running.: "Apple WebObjects Monitor" and "Apple WebObjects MonitorProxy." Use these services to keep Monitor and <strong>MonitorProxy</strong> up and running.<p>
</a><a name="8193">
To make Monitor and <strong>MonitorProxy</strong> start automatically at boot time, you can configure the services to be started Automatically.<p>
</a><a name="8195">
<h3> Using MonitorDaemon on Mac OS X Server</h3>
</a><a name="8197">
On these platforms you can enter the <strong>MonitorDaemon</strong> tool on a shell command line (such as provided by <strong>Terminal.app</strong>), start it from a shell script, or configure it to launch Monitor or <strong>MonitorProxy</strong> automatically at boot time.<p>
</a><a name="8199">
For command line usage you pass as arguments the path to the application you want to be launched and then any arguments you want to launch it with. So to start <strong>MonitorDaemon</strong> for Monitor, you might give the following command:<p>
</a><pre><a name="8201">MonitorDaemon 
/System/Library/WebObjects/Applications/Monitor.woa/Monitor
</a></pre><a name="8203">
To have Monitor launched at system boot time, you must add a startup script to <strong>/etc/startup</strong>. The scripts in <strong>/etc/startup</strong> follow a naming convention whereby the first four characters of the script filename are numbers. These numbers signify the order in which the system runs the scripts in <strong>/etc/startup</strong>. You should start Monitor and <strong>MonitorProxy</strong> near the end of the boot cycle.<p>
</a><a name="8205">
You could add the following script, named <strong>3000_Monitor</strong>, to <strong>/etc/startup</strong> to start <strong>MonitorDaemon</strong> when the system boots and have it keep Monitor running:<p>
</a><pre><a name="8207">#!/bin/sh
</a><a name="8208">
</a><a name="8209"># 
</a><a name="8210"># Start Monitor using MonitorDaemon for WebObjects Deployment
</a><a name="8211">#
</a><a name="8212">. /etc/rc.common
</a><a name="8213">
</a><a name="9464"># the following is one line:
</a><a name="8261">/System/Library/WebObjects/Applications/Monitor.woa/MonitorDaemon 
/System/Library/WebObjects/Applications/Monitor.woa/Monitor &amp;
</a></pre><a name="8214">
<p>
</a>
<P>
 


</body>
</html>
