<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PBDTGetAPPL (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING497></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-496.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-498.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-483.html"><B>Chapter 9 - Desktop Manager</B></A> / <A HREF="MoreToolbox-486.html"><B>Desktop Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-489.html"><B>Routines</B></A> / <A HREF="MoreToolbox-494.html"><B>Reading the Desktop Database</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING497-0></A>
<H3>PBDTGetAPPL</H3>
 To identify the application that can open a file with a given creator, use the <CODE>PBDTGetAPPL</CODE> function.<P>
<PRE>
FUNCTION PBDTGetAPPL (paramBlock: DTPBPtr; async: Boolean): OSErr;
</PRE>
<DL>
<DT><CODE>paramBlock</CODE>
<DD> A pointer to a desktop parameter block.
<DT><CODE>async</CODE>
<DD> A Boolean value that specifies asynchronous (<CODE>TRUE</CODE>) or synchronous (<CODE>FALSE</CODE>) execution.
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD>--><TD>ioCompletion<TD>ProcPtr<TD>A pointer to a completion routine.<TR>
<TD>\xAE<TD>ioResult<TD>OSErr<TD>The result code.<TR>
<TD>--><TD>ioNamePtr<TD>StringPtr<TD>A pointer to the application's name.<TR>
<TD>--><TD>ioDTRefNum<TD>Integer<TD>The desktop database reference number.<TR>
<TD>--><TD>ioIndex<TD>Integer<TD>An index into the application list.<TR>
<TD>\xAE<TD>ioTagInfo<TD>LongInt<TD>The application's creation date.<TR>
<TD>--><TD>ioFileCreator<TD>OSType<TD>The application's signature.<TR>
<TD>\xAE<TD>ioAPPLParID<TD>LongInt<TD>The application's parent directory.</TABLE>
</B><P>
<A NAME=HEADING497-6></A>
<H5>DESCRIPTION</H5>
 For an application in the database specified in <CODE>ioDTRefNum</CODE> with the signature specified in <CODE>ioFileCreator</CODE>, <CODE>PBDTGetAPPL</CODE> returns the filename in <CODE>ioNamePtr</CODE>, the parent directory ID in <CODE>ioAPPLParID</CODE>, and the creation date in <CODE>ioTagInfo</CODE>. A single call, with <CODE>ioIndex</CODE> set to 0, finds the application file with the most recent creation date. If you want to retrieve information about all copies of the application with the given signature, start with <CODE>ioIndex</CODE> set to 1 and increment until <CODE>ioResult</CODE> returns <CODE>afpItemNotFound</CODE>; when called multiple times in this fashion, <CODE>PBDTGetAPPL</CODE> returns information about all the application's copies, including the file with the most recent creation date, in arbitrary order.<P>
<A NAME=HEADING497-8></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>ioErr<TD>-36<TD>I/O error<TR>
<TD>rfNumErr<TD>-51<TD>Reference number invalid<TR>
<TD>extFSErr<TD>-58<TD>External file system--file system identifier is nonzero<TR>
<TD>afpItemNotFound<TD>-5012<TD>Information not found<A NAME=MARKER-2-33></A><A NAME=MARKER-2-34></A></TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-496.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-498.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
