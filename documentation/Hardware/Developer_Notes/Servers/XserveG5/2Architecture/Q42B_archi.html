<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Xserve G5 Developer Note: Architecture</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Architecture"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001164-CH206" title="Architecture"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../../HardwareDrivers/index.html#//apple_ref/doc/uid/TP30000440-TP40003576" target="_top">Hardware &amp; Drivers</a> &gt; <a href="../../../../../HardwareDrivers/AppleHardware-date.html#//apple_ref/doc/uid/TP30000440-TP40003576-TP30000519" target="_top">Apple Hardware</a> &gt; <a href="../0Preface/Q42B_pref.html#//apple_ref/doc/uid/TP30001164-CH204-BCIEAFGH">Xserve G5 Developer Note</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../1Overview/Q42B_overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../3Input-Output/Q42B_innout.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF101" title="Architecture"></a><h1>Architecture</h1><p>This chapter describes the architecture of the Xserve G5. It includes information about the major components on the logic boards: the microprocessor, the other main ICs, and the buses that connect them to each other and to the I/O interfaces. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-TPXREF102">Block Diagram and Buses</a>
				
			<br/>
			
        
			
			
				<a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-TPXREF103">Processor Module</a>
				
			<br/>
			
        
			
			
				<a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-TPXREF107">U3H Bridge and Memory Controller</a>
				
			<br/>
			
        
			
			
				<a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-TPXREF134">HyperTransport Technology</a>
				
			<br/>
			
        
			
			
				<a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-TPXREF115">K2 I/O Controller</a>
				
			<br/>
			
        
			
			
				<a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-TPXREF125">Optional Graphics Card</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF102" title="Block Diagram and Buses"></a><h2>Block Diagram and Buses</h2><p><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_37"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_38"></a>The architecture of Xserve G5 is based on one or two PowerPC G5 microprocessors and two custom ICs: the U3H memory controller and bus bridge and the K2 I/O controller. <span class="content_text"><a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-TPXREF127">Figure 2-1</a></span> is a simplified block diagram of a standard Xserve G5 with two PowerPC G5 microprocessors. The single microprocessor configuration and the cluster node configuration have similar structure with fewer features, as identified in <span class="content_text"><a href="../1Overview/Q42B_overview.html#//apple_ref/doc/uid/TP30001164-CH205-BBCEACJE">Table 1-1</a></span> and <span class="content_text"><a href="../1Overview/Q42B_overview.html#//apple_ref/doc/uid/TP30001164-CH205-BBCEAGGA">Table 1-2</a></span> and throughout this developer note.</p><br/><div><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF127" title="Figure 2-1Simplified block diagram  "></a><p><strong>Figure 2-1&nbsp;&nbsp;</strong>Simplified block diagram  </p><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_39"></a><img src = "../art/040924021715_01.gif" alt = "Simplified block diagram" width="592" height="676"></div><br/><p>Xserve G5 has the following separate buses. </p><ul class="ul"><li class="li"><p>Processor bus: running at half the speed of the processor, 64-bit data throughput per processor connecting the processor module to the U3H IC<a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_40"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_41"></a></p></li><li class="li"><p>Dual processor systems have two independent, 64-bit processor buses, each running at half the speed of the processors</p></li><li class="li"><p>Memory bus: 400 MHz, 128-bit bus connecting the main ECC DDR SDRAM memory to the U3H IC<a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_42"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_43"></a></p></li><li class="li"><p>PCI-X bridge bus: supports two 64-bit PCI-X slots <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_44"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_45"></a></p></li><li class="li"><p>Internal PCI bus: 33 MHz, 32-bit bus supports the K2 I/O controller, the boot ROM, and the USB controllers<a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_46"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_47"></a></p></li><li class="li"><p> Serial ATA (SATA) bus: supports 1.5 Gbps internal hard drive connectors</p></li><li class="li"><p>Ultra DMA ATA/100 bus: support internal optical drive, where available</p></li><li class="li"><p>HyperTransport: high-speed, bidirectional, point-to-point link for integrated circuits supports bidirectional data rates up to 4.8 GBps</p></li></ul><p>The remainder of this chapter describes the architecture of the Xserve G5.</p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF103" title="Processor Module"></a><h2>Processor Module</h2><p>Depending on whether the Xserve G5 is a single or dual configuration, the processor module is one or two logic boards containing a G5 microprocessor. The processor module is connected to the main logic board by way of a 300-pin connector. To achieve the required level of performance, the signal lines that connect the processor module and the main logic board are carefully matched in length, loading, and impedance. </p><div class="warningbox"><img src="../../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_5" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;DON’T TRY TO USE OLDER PROCESSOR CARDS! This connector differs from those in earlier computers and it is <em>not pin-compatible</em>.</p><p></p><div class="clear"></div></div><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF104" title="PowerPC G5 Microprocessor"></a><h3>PowerPC G5 Microprocessor</h3><p>The PowerPC G5 used in the Xserve G5 has the following features:<a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_48"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_49"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_50"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_51"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_52"></a></p><ul class="spaceabove"><li class="li"><p>64-bit PowerPC implementation with 42-bit physical memory addressing</p></li><li class="li"><p>core runs at twice the bus speed</p></li><li class="li"><p>superscalar execution core supporting more than 200 in-flight instructions</p></li><li class="li"><p>two independent double-precision floating point units </p></li><li class="li"><p>Velocity Engine: 128-bit-wide vector execution unit </p></li><li class="li"><p>64K L1 instruction cache, 32K L1 data cache per processor</p></li><li class="li"><p>fully symmetric multiprocessing capability </p></li><li class="li"><p>built-in 512KB L2 cache per processor</p></li><li class="li"><p> independent, unidirectional frontside bus for each processor running at half the speed of the processor, each supporting a minimum of 8 GBps data throughput per processor</p></li></ul><p>To find more information, see the reference at <span class="content_text"><a href="../aReferences/Q42B_refs.html#//apple_ref/doc/uid/TP30001164-CH209-TPXREF102">“PowerPC G5 Microprocessor.”</a></span> </p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF105" title="Cache Memory"></a><h3>Cache Memory</h3><p>The Xserve G5 has 512 KB L2 cache per processor built into the PowerPC G5 microprocessor. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_6" title="Note"></a><p><strong>Note:</strong>&nbsp;The Xserve G5 does not use jumpers to control the clock speeds of the processor and cache. </p></div><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF106" title="Dual Processors"></a><h3>Dual Processors</h3><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_53"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_54"></a><p>The dual-processor configurations of the Xserve G5 have two processor cards containing a PowerPC G5 processor. The dual-processor configurations allow applications that support multitasking to about double their performance. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_7" title="Note"></a><p><strong>Note:</strong>&nbsp;The cluster node Xserve G5 is available only in dual configuration.</p></div><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF107" title="U3H Bridge and Memory Controller"></a><h2>U3H Bridge and Memory Controller</h2><p>The U3H custom IC is at the heart of the Xserve G5. It provides the bridging functionality among the processors, the memory system, and HyperTransport bus to the PCI-based I/O system. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_55"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_56"></a></p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF108" title="Processor Bus"></a><h3>Processor Bus</h3><p>The processor bus runs at half the speed of the processor and connects the processor module to the U3H IC. The bus has 64-bit wide data and 36-bit wide addresses. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_57"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_58"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_59"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_60"></a></p><p>The Xserve G5 system controller is built with 130-nanometer, SOI technology, providing each subsystem with dedicated bandwidth to main memory. The Xserve G5 uses separate processor boards with each PowerPC G5 processor; two processor boards are used for dual processor systems. The U3H I/O implements two independent processor interfaces. The processor clock rate is up to 2.3 GHz in and connects to the U3H I/O through the Apple Processor Interface (API). The processor clock is derived from a PLL which multiplies the reference clock by preset intervals of 8 times.</p><p>Out-of-order completion allows the memory controller to optimize the data bus efficiency by transferring whichever data is ready, rather than having to pass data across the bus in the order the transactions were posted on the bus. This means that a fast DDR SDRAM read can pass a slow PCI read, potentially enabling the processor to do more before it has to wait on the PCI data. </p><p>Intervention is a cache-coherency optimization that improves performance for dual-processor systems. If one processor modifies some data, that data first gets stored only in that processor’s cache. If the other processor then wants that data, it needs to get the new modified values. </p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF109" title="Main Memory Bus"></a><h3>Main Memory Bus</h3><p>The Xserve G5 main memory bus connects the main memory to the U3H IC via the 64-bit data bus. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_61"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_62"></a>Main memory is provided by up to eight ECC DDR400 (PC3200) SDRAM DIMMs. Supported DIMM sizes are 256 MB, 512 MB, and 1 GB. The DIMMs must be unbuffered and installed in pairs of the same size. The memory slots accept a maximum of eight 1 GB DIMMs for memory size of 8 GB. </p><p>For more information about memory DIMMs, see <span class="content_text"><a href="../4Expansion/Q42B_expan.html#//apple_ref/doc/uid/TP30001164-CH208-TPXREF102">“RAM Expansion.”</a></span> </p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF134" title="HyperTransport Technology"></a><h2>HyperTransport Technology</h2><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_63"></a><p>The DDR HyperTransport is an advanced chip-to-chip communications technology that provides a high-speed, high-performance, point-to-point link for integrated circuits. HyperTransport provides a universal connection that reduces the number of buses within a system.</p><p>The HyperTransport bus between the U3H IC and the PCI-X bridge is 16 bits wide, supporting total of 4.8 GBps bidirectional throughput. Between the PCI-X bridge and the K2 IC, the bus width is 8 bits, supporting total of 1.6 GBps bidirectional throughput.</p><p>The HyperTransport bus supports two open PCI-X expansion slots for user expansion; see <span class="content_text"><a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-BCIBABJE">“PCI or PCI-X Expansion Slots .”</a></span> </p><p>For more information on the HyperTransport technology, go to the World Wide Web at</p><p><span class="content_text"><a href="http://www.hypertransport.org" target="_blank">http://www.hypertransport.org</a></span></p><a name="//apple_ref/doc/uid/TP30001164-CH206-BCIBABJE" title="PCI or PCI-X Expansion Slots "></a><h3>PCI or PCI-X Expansion Slots </h3><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_64"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_65"></a><p>The Xserve G5 provides two open, user-accessible PCI-X slots via Bus A of the HyperTransport bus. Bus B implements the high speed, dual channel, on-board, gigabit Ethernet controller. To connect a monitor to the Xserve G5, Bus A also supports a build-to-order graphics card; see <span class="content_text"><a href="Q42B_archi.html#//apple_ref/doc/uid/TP30001164-CH206-TPXREF125">“Optional Graphics Card.”</a></span><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_66"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_67"></a></p><p>Each user-accessible slot on Bus A has room for a full size 12.335-inch or short 6.926-inch card, holding a maximum of two full size cards.</p><p>The expansion slots on Bus A accommodate 32-bit and 64-bit PCI and PCI-X cards. PCI-X cards need to be compatible with Mac OS X and with PCI-X 1.0 standards. PCI cards need to be compatible with Mac OS X and with Xserve G5 systems. Supported PCI and PCI-X speeds are: 33 MHz, 66 MHz, 100 MHz, or 133 MHz. The 133 MHz PCI-X option is available only when one card is installed. If a second card is installed, the 133 MHz PCI-X card operates at a maximum of 100 MHz. If two cards are installed, both cards operate at the speed of the slower card. If a PCI card is installed in either slot, both slots will operate as PCI slots.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_8" title="Important:"></a><p><strong>Important:</strong>&nbsp;The Xserve G5 must be powered off when installing or replacing PCI or PCI-X cards or a graphics card. Xserve G5 systems do not support PCI hot plug functionality.</p><p></p></div><p>The connectors to the PCI-X slots are 3.3 V keyed and support 32-bit and 64-bit buses. The connectors include a PME signal which allows a PCI card to wake the computer from sleep. Maximum power consumption for both expansion slots is 25 W (15 W top slot, 10 W bottom slot).</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_9" title="Note"></a><p><strong>Note:</strong>&nbsp;5 V keyed or signalling cards do not work in the Xserve G5.</p></div><p>The slots (12.335 inch) have a capture feature which is at the end of the slot. If a card exceeds the short length it is recommended that the long length be used rather than an intermediate length, to assure the card stays secure if and when the system is in shipment.</p><p>The U3H IC used in the Xserve G5 supports the PCI write combining feature. This feature allows sequential write transactions involving the Memory Write or Memory Write and Invalidate commands to be combined into a single PCI transaction. For memory write transactions to be combined, they must be sequential, ascending, and non-overlapping PCI addresses. Placing an <code>eieio</code> or <code>sync</code> command between the write commands prevents any write combining. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_68"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_69"></a></p><p>For more information, refer to <span class="content_text"><a href="../4Expansion/Q42B_expan.html#//apple_ref/doc/uid/TP30001164-CH208-TPXREF108">“PCI and PCI-X Expansion Slots  .”</a></span></p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF113" title="Ethernet Controller "></a><h3>Ethernet Controller </h3><p>A separate Ethernet media access controller (MAC) and PHY support dual gigabit Ethernet. As a dedicated I/O channel on the dedicated PCI-X bus connected to the HyperTransport interface, it can operate at its full capacity without degrading the performance of other peripheral devices. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_70"></a></p><p>The MAC implements the link layer. It is integrated to a PHY interface that provides dual 10-BaseT, 100-BaseT, or 1000-BaseT operation over a standard twisted-pair interface. The operating speed of the link is automatically negotiated by the PHY and the bridge or router to which the Ethernet port is connected. For information about the port, see <span class="content_text"><a href="../3Input-Output/Q42B_innout.html#//apple_ref/doc/uid/TP30001164-CH207-TPXREF111">“Ethernet Ports .”</a></span> </p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF115" title="K2 I/O Controller"></a><h2>K2 I/O Controller</h2><p>The K2 custom IC provides all the I/O functions. These functions are described in the following sections. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_71"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_72"></a></p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF116" title="DMA Support"></a><h3>DMA Support</h3><p>The K2 IC provides DB-DMA (descriptor-based direct memory access) support for the following I/O channels: <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_73"></a></p><ul class="spaceabove"><li class="li"><p>Ultra ATA/100 </p></li><li class="li"><p>Communication slot interface</p></li><li class="li"><p>I2S channel to the front panel display</p></li><li class="li"><p>Serial ATA</p></li><li class="li"><p>Firmware </p></li></ul><p>The DB-DMA system provides a scatter-gather process based on memory-resident data structures that describe the data transfers. The DMA engine is enhanced to allow bursting of data files for improved performance. </p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF117" title="Interrupt Support"></a><h3>Interrupt Support</h3><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_74"></a><p>The interrupt controller for the Xserve G5 system is an MPIC cell in the K2 IC. In addition to accepting K2 internal interrupt sources, the MPIC controller accepts internal interrupts from U3H and dedicated interrupt pins. </p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF111" title="Internal PCI Bus"></a><h3>Internal PCI Bus</h3><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_75"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_76"></a><p>An internal 33-MHz, 64-bit PCI bus connects the K2 I/O controller to the boot ROM and the USB controller. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_77"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_78"></a>The internal PCI bus offers no development opportunity.</p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF112" title="Boot ROM"></a><h4>Boot ROM</h4><p>The boot ROM supports up to 2 MB of on-board flash EPROM. The boot ROM includes the hardware-specific code and tables needed to start up the computer. It uses Open Firmware to initialize the hardware, build the device tree, load an operating system, and provide common hardware access services. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_79"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_80"></a></p><a name="//apple_ref/doc/uid/TP30001164-CH206-BAJEEHBJ" title="PCI USB Controller"></a><h4>PCI USB Controller</h4><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_81"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_82"></a><p>The Xserve G5 CPU uses a PCI USB controller ASIC with one Enhanced Host Controller Interface (EHCI) function and two Open Host Controller Interface (OHCI) functions. The controller has two external USB 2.0 ports. If connected to classic-speed USB devices, the two ports are connected to separate OHCI controllers.</p><p>The USB ports comply with the Universal Serial Bus Specification 2.0. The USB register set complies with the EHCI and OHCI specifications. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_83"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_84"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_85"></a>For more information, see <span class="content_text"><a href="../3Input-Output/Q42B_innout.html#//apple_ref/doc/uid/TP30001164-CH207-TPXREF102">“USB Ports.”</a></span></p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF129" title="Serial ATA Interface"></a><h3>Serial ATA Interface</h3><p>Based on the Serial ATA 1.0 specification, Serial ATA (SATA) is a disk-interface technology that delivers up to 1.5 Gbps of performance to each independent drive on the Xserve G5. It provides a scalable, point-to-point connection that allows multiple ports to be aggregated into a single controller. Serial ATA uses a thin, point-to-point cable connection that enables easy routing within a system, avoiding master/slave, daisy-chaining, and termination issues and enabling better airflow within a system. </p><p>The K2 IC implements three Serial ATA revision one ports, each of which accommodates one independent internal hard drive. </p><p><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_86"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_87"></a>For information about the drive bays, see <span class="content_text"><a href="../3Input-Output/Q42B_innout.html#//apple_ref/doc/uid/TP30001164-CH207-TPXREF118">“Hard Disk Drives.”</a></span> </p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF130" title="Serial Interface"></a><h3>Serial Interface</h3><p>The K2 IC implements an RS-232-compatible serial port for use with a terminal. See see <span class="content_text"><a href="../3Input-Output/Q42B_innout.html#//apple_ref/doc/uid/TP30001164-CH207-TPXREF164">“Serial Port.”</a></span> You can use the RI input on the serial port connector to wake the Xserve G5 system from sleep mode.</p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF120" title="Ultra DMA ATA/100 Interface "></a><h3>Ultra DMA ATA/100 Interface </h3><p>The K2 IC provides an Ultra DMA ATA/100 interface to support an optical drive. For information about optical drives, see <span class="content_text"><a href="../3Input-Output/Q42B_innout.html#//apple_ref/doc/uid/TP30001164-CH207-TPXREF113">“SuperDrive (Optional)”</a></span> or <span class="content_text"><a href="../3Input-Output/Q42B_innout.html#//apple_ref/doc/uid/TP30001164-CH207-TPXREF115">“Combo Drive .”</a></span></p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF114" title="FireWire Controllers"></a><h3>FireWire Controllers</h3><p>The K2 IC includes a FireWire controller that supports both IEEE 1394b (FireWire 800) with a maximum data rate of 800 Mbps (100 MBps) and IEEE 1394a (FireWire 400) with a maximum data rate of 400 Mbps (50 MBps). The IC is backwards-compatible with 1394a (FireWire 400). The K2 IC provides DMA (direct memory access) support for the FireWire interface.<a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_88"></a></p><p>Two physical layer (PHY) ICs connected to the U3H IC implement the electrical signaling protocol for the FireWire ports. The FireWire 400 port is located on the front panel; two FireWire 800 ports are located on the back panel. </p><p>While the PHYs are operating, they act as repeaters so that the FireWire bus remains connected. For more information, see <span class="content_text"><a href="../3Input-Output/Q42B_innout.html#//apple_ref/doc/uid/TP30001164-CH207-TPXREF106">“FireWire Ports.”</a></span> </p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_10" title="Note"></a><p><strong>Note:</strong>&nbsp; The PHYs are powered even when the system is turned off, as long as the computer is connected to AC power. </p></div><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF124" title="Power Controller"></a><h3>Power Controller</h3><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_89"></a><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_90"></a><p>The power management controller in Xserve G5 is a microcontroller called the PMU99. It supports several modes of power management that provide significantly lower power consumption than previous systems. <a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_91"></a></p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF131" title="Dual System Monitor ICs"></a><h3>Dual System Monitor ICs</h3><p>The Xserve G5 hardware contains an IC that monitors system voltages and the operation of both fans in the Xserve G5 enclosure. Voltages monitored include 5 V main, 12 V main, 3.3 V trickle, 2.5 V sleep, logic Vcore and processor Vcore. The system monitor IC also contains a built-in temperature sensor that measures the hardware’s ambient temperature; a second sensor on the processor card measures local processor temperature. Software can access the system monitor IC through the second U3H IIC bus at port addresses 0x5A and 0x5C.</p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF132" title="System Activity Lights"></a><h3>System Activity Lights</h3><p>Two rows of eight lights indicate system activity. In a server with a single processor, the rows of system activity lights operate together; in a dual-processor server, the rows of lights operate independently to show each processor’s activity. In that case, CPU 0 is shown by the top row, CPU 1 by the bottom.</p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF133" title="Device Identification"></a><h3>Device Identification</h3><p>Each Xserve G5 boot ROM contains a unique device serial number. However, because the boot ROM is a flash EPROM device, it is possible to overwrite the serial number and lose it irrecoverably. As an alternative, software that needs to identify an individual Xserve G5 can access the <code>local-mac-address</code> property of its Ethernet node, which is set by Open Firmware at boot time. You can read this property using a tool such as IORegistry Explorer.</p><a name="//apple_ref/doc/uid/TP30001164-CH206-TPXREF125" title="Optional Graphics Card"></a><h2>Optional Graphics Card</h2><p>The Xserve G5 has a build-to-order option of an ATI RV100 64 MB RAM VGA/PCI graphics card with a VGA connector. The ATI RV100 runs at 64-bit PCI 33 or 66 MHz. </p><p><a name="//apple_ref/doc/uid/TP30001164-CH206-DontLinkElementID_92"></a>The Xserve G5 can boot headless (that is, without an attached monitor). While booted headlessly, the system actually creates a virtual display and draws into an off-screen buffer, without attempting to update a physical display. It is important that application design take this condition into account and not assume that graphics activity implies that a user is present.</p><p>The Xserve G5 cluster node configuration does not have a graphics card or internal graphics and is accessed via remote command line.</p><p>For more information about the ATI RV100 VGA/PCI graphics card, see <span class="content_text"><a href="../3Input-Output/Q42B_innout.html#//apple_ref/doc/uid/TP30001164-CH207-TPXREF165">“VGA Connector.”</a></span> </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../1Overview/Q42B_overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../3Input-Output/Q42B_innout.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-02-21<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Hardware/Developer_Notes/Servers/XserveG5/2Architecture/Q42B_archi.html%3Fid%3DTP30001164-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Hardware/Developer_Notes/Servers/XserveG5/2Architecture/Q42B_archi.html%3Fid%3DTP30001164-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Hardware/Developer_Notes/Servers/XserveG5/2Architecture/Q42B_archi.html%3Fid%3DTP30001164-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>