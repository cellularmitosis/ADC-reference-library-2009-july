<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>DrawJustified(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING160></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-159.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-161.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-126.html"><B>Chapter 3 - QuickDraw Text</B></A> / <A HREF="Text-143.html"><B>QuickDraw Text Reference</B></A><BR><DL><DD><A HREF="Text-147.html"><B>Routines</B></A> / <A HREF="Text-156.html"><B>Drawing Text</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING160-0></A>
<H3><A NAME=MARKER-2-910></A><A NAME=MARKER-2-537></A><A NAME=MARKER-9-312></A>DrawJustified</H3>
 The <A NAME=MARKER-2-362></A><CODE>DrawJustified</CODE> procedure draws the specified text at the current pen location in the current graphics port, taking into account the adjustment necessary to condense or extend the text by the slop value, appropriately for the script system.<P>
<PRE>
PROCEDURE DrawJustified (textPtr: Ptr; textLength: LongInt;
                         slop: Fixed; 
                         styleRunPosition: JustStyleCode;
                         numer, denom: Point);
</PRE>
<DL>
<DT><CODE>textPtr</CODE>
<DD> A pointer to the memory location of the beginning of the text to be drawn.
<DT><CODE>textLength</CODE>
<DD> The number of bytes of text to be drawn.
<DT><CODE>slop</CODE>
<DD> The amount of slop for the text to be drawn. A positive value extends the text segment; a negative value condenses the text segment.
<DT><CODE>styleRunPosition</CODE>
<DD> The position on the line of this style run. The style run can be the only one on the line, the leftmost on the line, the rightmost on the line, or one between two other style runs.
<DT><CODE>numer</CODE>
<DD> A point giving the numerator for the horizontal and vertical <BR>scaling factors.
<DT><CODE>denom</CODE>
<DD> A point giving the denominator for the horizontal and <BR>vertical scaling factors.
</DL>
<A NAME=HEADING160-9></A>
<H5>DESCRIPTION</H5>
 The <CODE>DrawJustified</CODE> procedure is similar to the <CODE>DrawText</CODE> procedure, except that you use it to draw text that is expanded or condensed by the number of pixels specified by <CODE>slop</CODE>. The <CODE>DrawJustified</CODE> procedure is most commonly used to draw a line of justified text.<P>
 The <CODE>DrawJustified</CODE> procedure draws the specified text in the font, size, and style of the current graphics port, taking into account any scaling factors, and it distributes the slop appropriately for the script system. Regardless of the line direction of the text to be drawn, you place the pen at the left edge of the line before calling <CODE>DrawJustified</CODE> for the first style run. For all subsequent style runs on that line, QuickDraw advances the pen appropriately.<P>
 If <CODE>DrawJustified</CODE> changes the width of spaces, it temporarily resets the space extra (<CODE>spExtra</CODE>) value. It adds to the current value of the field, if any, the amount of extra space to be applied to each space character within the range of text in order to justify the text, based on calculations that take into account the slop value and all of the text characteristics. On exit, <CODE>DrawJustified</CODE> restores the original value.<P>
 For the slop parameter, pass <CODE>DrawJustified</CODE> the value assessed for this style run based on the proportion returned for it from <CODE>PortionLine</CODE>. For more information, see <A HREF=Text-147.html#MARKER-9-256>"The numer and denom Parameters" on page 3-64</A>.<P>
<DL>
<DT><B>Note</B>
<DD>Be sure to pass the same values for <CODE>styleRunPosition</CODE> and the scaling factors (<CODE>numer</CODE> and <CODE>denom</CODE>) to <CODE>DrawJustified</CODE> that you pass to <CODE>PortionLine</CODE>.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 See <A HREF=Text-147.html#MARKER-9-255>"The styleRunPosition Parameter" on page 3-63</A> for a description of this parameter and the values it takes. See <A HREF=Text-147.html#MARKER-9-254>"The slop Parameter" on page 3-63</A> for more information about the <CODE>slop</CODE> parameter.<P>
 For more information about how to use <CODE>DrawJustified</CODE> in conjunction with the other routines used to prepare to draw a line of justified text, see<A HREF=Text-139.html#MARKER-9-136>"Measuring and Drawing Lines of Text,"</A> beginning on <A HREF=Text-139.html#MARKER-9-136>page 3-29</A>.<P>
<A NAME=HEADING160-17></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>DrawJustifie</CODE>d procedure works with text in all script systems. For example, to depict justified Arabic text, <CODE>DrawJustified</CODE> uses extension bars to create the additional width that is distributed as slop within a style run.<P>
 For 1-byte complex script systems, <CODE>DrawJustified</CODE> substitutes the proper ligatures, reversals, and compound characters as needed.<P>
 For 2-byte script systems that do not use space characters to delimit words, <CODE>DrawJustified</CODE> distributes the slop value in a manner appropriate to the script system. For script systems, such as Japanese, that use ideographic characters, <CODE>DrawJustified</CODE> distributes the additional screen pixel width appropriately for the text representation.<P>
 Note that <CODE>textLen</CODE>gth is the number of <I>bytes</I> to be drawn, not the number of characters. Because 2-byte script systems<A NAME=MARKER-2-365></A> also include characters consisting of only 1 byte, do not simply multiply the number of characters by 2 to determine this value; you must determine and specify the correct number of bytes.<P>
 The <CODE>DrawJustified</CODE> procedure may move memory; do not call this procedure at interrupt time<A NAME=MARKER-2-911></A>.<A NAME=MARKER-2-41></A><A NAME=MARKER-9-401></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-159.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-161.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
