<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>PackageTool - /Sample Package/HTMLSample sources/HTMLSample Pages/docs/userdefined.html</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../samplecode/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; <A HREF="javascript:location.replace('index.html');">PackageTool</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div>

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">PackageTool</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/Sample Package/HTMLSample sources/HTMLSample Pages/docs/userdefined.html</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/PackageTool.c</option>
<option value="listing2.html">/PackageTool.h</option>
<option value="listing3.html">/PackageTool.r</option>
<option value="listing4.html">/PackageUtils.c</option>
<option value="listing5.html">/PackageUtils.h</option>
<option value="listing6.html">/PackageWindow.c</option>
<option value="listing7.html">/PackageWindow.h</option>
<option value="listing8.html">/Sample Package/HTMLSample/HTMLSample Help/buttons.html</option>
<option value="listing9.html">/Sample Package/HTMLSample/HTMLSample Help/index.html</option>
<option value="listing10.html">/Sample Package/HTMLSample/HTMLSample Pages/docs/display.html</option>
<option value="listing11.html">/Sample Package/HTMLSample/HTMLSample Pages/docs/drawing.html</option>
<option value="listing12.html">/Sample Package/HTMLSample/HTMLSample Pages/docs/generalroutines.html</option>
<option value="listing13.html">/Sample Package/HTMLSample/HTMLSample Pages/docs/index.html</option>
<option value="listing14.html">/Sample Package/HTMLSample/HTMLSample Pages/docs/intro.html</option>
<option value="listing15.html">/Sample Package/HTMLSample/HTMLSample Pages/docs/types.html</option>
<option value="listing16.html">/Sample Package/HTMLSample/HTMLSample Pages/docs/userdefined.html</option>
<option value="listing17.html">/Sample Package/HTMLSample/HTMLSample Pages/docs/utilities.html</option>
<option value="listing18.html">/Sample Package/HTMLSample/HTMLSample Pages/error.html</option>
<option value="listing19.html">/Sample Package/HTMLSample/HTMLSample Pages/index.html</option>
<option value="listing20.html">/Sample Package/HTMLSample Package Guide/index.html</option>
<option value="listing21.html">/Sample Package/HTMLSample Package Guide/tn1188/tn1188.html</option>
<option value="listing22.html">/Sample Package/HTMLSample sources/AboutBox.c</option>
<option value="listing23.html">/Sample Package/HTMLSample sources/AboutBox.h</option>
<option value="listing24.html">/Sample Package/HTMLSample sources/CIconButtons.c</option>
<option value="listing25.html">/Sample Package/HTMLSample sources/CIconButtons.h</option>
<option value="listing26.html">/Sample Package/HTMLSample sources/CWDefines.h</option>
<option value="listing27.html">/Sample Package/HTMLSample sources/debugf.c</option>
<option value="listing28.html">/Sample Package/HTMLSample sources/debugf.h</option>
<option value="listing29.html">/Sample Package/HTMLSample sources/History.c</option>
<option value="listing30.html">/Sample Package/HTMLSample sources/History.h</option>
<option value="listing31.html">/Sample Package/HTMLSample sources/HTMLSample Help/buttons.html</option>
<option value="listing32.html">/Sample Package/HTMLSample sources/HTMLSample Help/index.html</option>
<option value="listing33.html">/Sample Package/HTMLSample sources/HTMLSample Pages/docs/display.html</option>
<option value="listing34.html">/Sample Package/HTMLSample sources/HTMLSample Pages/docs/drawing.html</option>
<option value="listing35.html">/Sample Package/HTMLSample sources/HTMLSample Pages/docs/generalroutines.html</option>
<option value="listing36.html">/Sample Package/HTMLSample sources/HTMLSample Pages/docs/index.html</option>
<option value="listing37.html">/Sample Package/HTMLSample sources/HTMLSample Pages/docs/intro.html</option>
<option value="listing38.html">/Sample Package/HTMLSample sources/HTMLSample Pages/docs/types.html</option>
<option value="listing39.html">/Sample Package/HTMLSample sources/HTMLSample Pages/docs/userdefined.html</option>
<option value="listing40.html">/Sample Package/HTMLSample sources/HTMLSample Pages/docs/utilities.html</option>
<option value="listing41.html">/Sample Package/HTMLSample sources/HTMLSample Pages/error.html</option>
<option value="listing42.html">/Sample Package/HTMLSample sources/HTMLSample Pages/index.html</option>
<option value="listing43.html">/Sample Package/HTMLSample sources/HTMLSample.c</option>
<option value="listing44.html">/Sample Package/HTMLSample sources/HTMLSample.h</option>
<option value="listing45.html">/Sample Package/HTMLSample sources/HTMLSample.r</option>
<option value="listing46.html">/Sample Package/HTMLSample sources/RenderingWindow.c</option>
<option value="listing47.html">/Sample Package/HTMLSample sources/RenderingWindow.h</option>
<option value="listing48.html">/Sample Package/HTMLSample sources/SampleUtils.c</option>
<option value="listing49.html">/Sample Package/HTMLSample sources/SampleUtils.h</option>
<option value="listing50.html">/SimplePrefs.c</option>
<option value="listing51.html">/SimplePrefs.h</option>
<option value="listing52.html">/Utilities.c</option>
<option value="listing53.html">/Utilities.h</option></select>
				</p>
				</form>
				<p><strong><a href="PackageTool.zip">Download Sample</a></strong> (&#147;PackageTool.zip&#148;, 631.7K)<BR>
<strong><a href="PackageTool.dmg">Download Sample</a></strong> (&#147;PackageTool.dmg&#148;, 919.8K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">&lt;HTML&gt;&lt;HEAD&gt;   &lt;TITLE&gt;HTMLRenderingLib - User Defined Routines&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY BGCOLOR=&quot;#FFFFFF&quot;&gt;&lt;H4&gt;&amp;nbsp;&lt;/H4&gt;&lt;H3&gt;HTMLRenderingLib - user defined routines&lt;/H3&gt;&lt;H4&gt;&lt;A NAME=MyHRWasURLVisitedProc&gt;&lt;/A&gt;&lt;/H4&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H4&gt;&lt;FONT COLOR=&quot;#FF0000&quot;&gt;MyHRWasURLVisitedProc&lt;/FONT&gt;&lt;/H4&gt;&lt;BLOCKQUOTE&gt;&lt;PRE&gt;Boolean MyHRWasURLVisitedProc(        const char *url,        void *refCon);&lt;/PRE&gt;      &lt;P&gt;&lt;B&gt;url&lt;/B&gt; - a pointer to a C-style string containing the   URL.&lt;/P&gt;      &lt;P&gt;&lt;B&gt;refCon&lt;/B&gt; - an application defined value you provided when   calling HRRegisterWasURLVisitedUPP to associate your visited proc   with a HTML rendering object.&lt;/P&gt;      &lt;P&gt;function result - an error code.&lt;/P&gt;&lt;/BLOCKQUOTE&gt;&lt;P&gt;Your visited procedure will be called whenever the HTML renderinglibrary would like to determine if a link has been visited. If youare maintaining your own database of visited links, you can use thisroutine to report visited links back to the HTML rendering library.If a link has been visited, your routine should return true. If not,then your routine should return false. &lt;/P&gt;&lt;P&gt;To set the visited links routine for a particular renderingobject, call the HRRegisterWasURLVisitedUPP routine. The inRefConparameter provided to this routine will be passed to your visitedroutine whenever it is called.&lt;/P&gt;&lt;BLOCKQUOTE&gt;&lt;PRE&gt;void HRRegisterWasURLVisitedUPP(        HRWasURLVisitedUPP inWasURLVisitedUPP,        &lt;A HREF=&quot;types.html#HRReference&quot;&gt;HRReference&lt;/A&gt; hrRef,        void * inRefCon);&lt;/PRE&gt;&lt;/BLOCKQUOTE&gt;&lt;P&gt;&lt;A HREF=&quot;index.html&quot;&gt;return to index&lt;/A&gt;&lt;/P&gt;&lt;H4&gt;&lt;A NAME=MyHRNewURLProc&gt;&lt;/A&gt;&lt;/H4&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H4&gt;&lt;FONT COLOR=&quot;#FF0000&quot;&gt;MyHRNewURLProc&lt;/FONT&gt;&lt;/H4&gt;&lt;BLOCKQUOTE&gt;&lt;PRE&gt;OSStatus MyHRNewURLProc(        const char *url,        const char *targetFrame,        Boolean addToHistory,        void *refCon);   &lt;/PRE&gt;      &lt;P&gt;&lt;B&gt;url&lt;/B&gt; - a pointer to a C-style string containing the   URL.&lt;/P&gt;      &lt;P&gt;&lt;B&gt;targetFrame&lt;/B&gt; - a pointer to a C-style string containing   the destination frame for the URL.&lt;/P&gt;      &lt;P&gt;&lt;B&gt;addToHistory&lt;/B&gt; - a boolean value.&lt;/P&gt;      &lt;P&gt;&lt;B&gt;refCon&lt;/B&gt; - an application defined value you provided when   calling HRRegisterNewURLUPP to associate your visited proc with a   HTML rendering object.&lt;/P&gt;      &lt;P&gt;function result - an error code.&lt;/P&gt;&lt;/BLOCKQUOTE&gt;&lt;P&gt;Your new url procedure will be called whenever the HTML renderinglibrary replaces the HTML image being shown in the display. Thisroutine provides an opportunity for your application to update thewindows title and add the url to a history of visited links. &lt;/P&gt;&lt;P&gt;To set the new url routine for a particular rendering object, callthe HRRegisterNewURLUPP routine. The inRefCon parameter provided tothis routine will be passed to your new url routine whenever it iscalled.&lt;/P&gt;&lt;BLOCKQUOTE&gt;&lt;PRE&gt;void HRRegisterNewURLUPP(        HRNewURLUPP inNewURLUPP,        HRReference hrRef,        void *inRefCon);&lt;/PRE&gt;&lt;/BLOCKQUOTE&gt;&lt;P&gt;&lt;A HREF=&quot;index.html&quot;&gt;return to index&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;A NAME=MyHRURLToFSSpecProc&gt;&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;H4&gt;&lt;FONT COLOR=&quot;#FF0000&quot;&gt;MyHRURLToFSSpecProc&lt;/FONT&gt;&lt;/H4&gt;&lt;BLOCKQUOTE&gt;&lt;PRE&gt;OSStatus MyHRURLToFSSpecProc(        const char *rootURL,        const char *linkURL,        FSSpec *fsspec,        &lt;A HREF=&quot;types.html#URLSourceType&quot;&gt;URLSourceType&lt;/A&gt; urlSourceType,        void *refCon);&lt;/PRE&gt;      &lt;P&gt;&lt;B&gt;rootURL&lt;/B&gt; - can be NULL. a pointer to a C-style string   containing the root URL.&lt;/P&gt;      &lt;P&gt;&lt;B&gt;linkURL&lt;/B&gt; - can be NULL. a pointer to a C-style string   containing the link URL.&lt;/P&gt;      &lt;P&gt;&lt;B&gt;fsspec&lt;/B&gt; - a pointer to a file system specification record   where your routine should store the location of the file to be   displayed.&lt;/P&gt;      &lt;P&gt;&lt;B&gt;urlSourceType&lt;/B&gt; - a value of type &lt;A HREF=&quot;types.html#URLSourceType&quot;&gt;URLSourceType&lt;/A&gt;   describing the type of file the HTML rendering library is looking   for.&lt;/P&gt;      &lt;P&gt;&lt;B&gt;refCon&lt;/B&gt; - an application defined value you provided when   calling HRRegisterURLToFSSpecUPP to associate your visited proc   with a HTML rendering object.&lt;/P&gt;&lt;/BLOCKQUOTE&gt;&lt;P&gt;Your new url procedure will be called whenever the HTML renderinglibrary is trying to find a file associated with a particular link orURL. This routine provides an opportunity for your application tointercept URLs re-direct them to refer to different files on disk.&lt;/P&gt;&lt;P&gt;To set the url to FSSpec routine for a particular renderingobject, call the HRRegisterURLToFSSpecUPP routine. The inRefConparameter provided to this routine will be passed to your url toFSSpec routine whenever it is called.&lt;/P&gt;&lt;BLOCKQUOTE&gt;&lt;PRE&gt;void HRRegisterURLToFSSpecUPP(        HRURLToFSSpecUPP inURLToFSSpecUPP,        HRReference hrRef,        void *inRefCon);&lt;/PRE&gt;&lt;/BLOCKQUOTE&gt;&lt;P&gt;&amp;nbsp;&lt;/P&gt;&lt;P&gt;&lt;A HREF=&quot;index.html&quot;&gt;return to index&lt;/A&gt;&lt;/P&gt;&lt;P&gt;&lt;/P&gt;&lt;/BODY&gt;&lt;/HTML&gt;</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/PackageTool/listing39.html%3Fid%3DDTS10000599-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/PackageTool/listing39.html%3Fid%3DDTS10000599-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/PackageTool/listing39.html%3Fid%3DDTS10000599-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>