<html><head><title>Mac OS X Developer Tools
 Manual Page For Tcl_ListObjReplace(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/Tcl_ListObjReplace" title="Mac OS X Developer Tools
 Manual Page for Tcl_ListObjReplace(3tcl)"><a name="//apple_ref/doc/man/3/Tcl_ListObjReplace" title="Mac OS X Developer Tools
 Manual Page for Tcl_ListObjReplace(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/Tcl_ListObjReplace"; name=Tcl_ListObjReplace(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tcl_ListObj(3)                             Tcl Library Procedures                             <!-- a -->Tcl_ListObj(3)<!-- /a -->



____________________________________________________________________________________________________________

<b>NAME</b>
       Tcl_ListObjAppendList,  Tcl_ListObjAppendElement,  Tcl_NewListObj, Tcl_SetListObj, Tcl_ListObjGetEle-<font color="#ffffff" class="whiteout">ments,&nbsp;Tcl_ListObjGetElements,</font>
       ments, Tcl_ListObjLength, Tcl_ListObjIndex, Tcl_ListObjReplace - manipulate Tcl objects as lists

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       int
       <b>Tcl_ListObjAppendList</b>(<u>interp,</u> <u>listPtr,</u> <u>elemListPtr</u>)

       int
       <b>Tcl_ListObjAppendElement</b>(<u>interp,</u> <u>listPtr,</u> <u>objPtr</u>)

       Tcl_Obj *
       <b>Tcl_NewListObj</b>(<u>objc,</u> <u>objv</u>)

       <b>Tcl_SetListObj</b>(<u>objPtr,</u> <u>objc,</u> <u>objv</u>)

       int
       <b>Tcl_ListObjGetElements</b>(<u>interp,</u> <u>listPtr,</u> <u>objcPtr,</u> <u>objvPtr</u>)

       int
       <b>Tcl_ListObjLength</b>(<u>interp,</u> <u>listPtr,</u> <u>intPtr</u>)

       int
       <b>Tcl_ListObjIndex</b>(<u>interp,</u> <u>listPtr,</u> <u>index,</u> <u>objPtrPtr</u>)

       int
       <b>Tcl_ListObjReplace</b>(<u>interp,</u> <u>listPtr,</u> <u>first,</u> <u>count,</u> <u>objc,</u> <u>objv</u>)

<b>ARGUMENTS</b>
       Tcl_Interp   <u>*interp</u>         (in)      If an error occurs while converting an object  to  be  a  list
                                              object,  an  error message is left in the interpreter's result
                                              object unless <u>interp</u> is NULL.

       Tcl_Obj      <u>*listPtr</u>        (in/out)  Points to the list object to be manipulated.  If <u>listPtr</u>  does
                                              not already point to a list object, an attempt will be made to
                                              convert it to one.

       Tcl_Obj      <u>*elemListPtr</u>    (in/out)  For <b>Tcl_ListObjAppendList</b>, this points to a list  object  con-<font color="#ffffff" class="whiteout">taining&nbsp;containing</font>
                                              taining elements to be appended onto <u>listPtr</u>.  Each element of
                                              *<u>elemListPtr</u> will become a new element of <u>listPtr</u>.  If  *<u>elem</u>-<font color="#ffffff" class="whiteout">ListPtr&nbsp;*elemListPtr</font>
                                              <u>ListPtr</u>  is  not  NULL  and  does  not already point to a list
                                              object, an attempt will be made to convert it to one.

       Tcl_Obj      <u>*objPtr</u>         (in)      For <b>Tcl_ListObjAppendElement</b>, points to the  Tcl  object  that
                                              will  be appended to <u>listPtr</u>.  For <b>Tcl_SetListObj</b>, this points
                                              to the Tcl object that will be converted to a list object con-<font color="#ffffff" class="whiteout">taining&nbsp;containing</font>
                                              taining the <u>objc</u> elements of the array referenced by <u>objv</u>.

       int          <u>*objcPtr</u>        (in)      Points  to  location  where  <b>Tcl_ListObjGetElements</b> stores the
                                              number of element objects in <u>listPtr</u>.

       Tcl_Obj      <u>***objvPtr</u>      (out)     A location where <b>Tcl_ListObjGetElements</b> stores a pointer to an
                                              array of pointers to the element objects of <u>listPtr</u>.

       int          <u>objc</u>            (in)      The number of Tcl objects that <b>Tcl_NewListObj</b> will insert into
                                              a new list object, and  <b>Tcl_ListObjReplace</b>  will  insert  into
                                              <u>listPtr</u>.   For  <b>Tcl_SetListObj</b>,  the  number of Tcl objects to
                                              insert into <u>objPtr</u>.                                            |

       Tcl_Obj      "*CONST objv[]" <u>in</u>                                                                       ||
                                              An  array  of pointers to objects.  <b>Tcl_NewListObj</b> will insert |
                                              these objects into a new list  object  and  <b>Tcl_ListObjReplace</b> |
                                              will  insert  them into an existing <u>listPtr</u>.  Each object will |
                                              become a separate list element.

       int          <u>*intPtr</u>         (out)     Points to location where <b>Tcl_ListObjLength</b> stores  the  length
                                              of the list.

       int          <u>index</u>           (in)      Index  of the list element that <b>Tcl_ListObjIndex</b> is to return.
                                              The first element has index 0.

       Tcl_Obj      <u>**objPtrPtr</u>     (out)     Points to place where <b>Tcl_ListObjIndex</b> is to store  a  pointer
                                              to the resulting list element object.

       int          <u>first</u>           (in)      Index  of the starting list element that <b>Tcl_ListObjReplace</b> is
                                              to replace.  The list's first element has index 0.

       int          <u>count</u>           (in)      The number of elements that <b>Tcl_ListObjReplace</b> is to  replace.
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       Tcl  list objects have an internal representation that supports the efficient indexing and appending.
       The procedures described in this man page are used to create, modify, index, and append to  Tcl  list
       objects from C code.

       <b>Tcl_ListObjAppendList</b>  and  <b>Tcl_ListObjAppendElement</b>  both  add one or more objects to the end of the
       list object referenced by <u>listPtr</u>.  <b>Tcl_ListObjAppendList</b> appends each element  of  the  list  object
       referenced  by  <u>elemListPtr</u>  while  <b>Tcl_ListObjAppendElement</b>  appends the single object referenced by
       <u>objPtr</u>.  Both procedures will convert the object referenced by <u>listPtr</u> to a list object if necessary.
       If  an error occurs during conversion, both procedures return <b>TCL_ERROR</b> and leave an error message in
       the interpreter's result object if <u>interp</u> is not NULL.  Similarly, if <u>elemListPtr</u>  does  not  already
       refer  to  a  list  object,  <b>Tcl_ListObjAppendList</b>  will attempt to convert it to one and if an error
       occurs during conversion, will return <b>TCL_ERROR</b> and leave  an  error  message  in  the  interpreter's
       result  object  if  interp  is not NULL.  Both procedures invalidate any old string representation of
       <u>listPtr</u> and, if it was converted to a list object, free any old internal representation.   Similarly,
       <b>Tcl_ListObjAppendList</b>  frees  any  old  internal representation of <u>elemListPtr</u> if it converts it to a
       list object.  After appending each element in <u>elemListPtr</u>, <b>Tcl_ListObjAppendList</b> increments the  ele-<font color="#ffffff" class="whiteout">ment's&nbsp;element's</font>
       ment's  reference  count since <u>listPtr</u> now also refers to it.  For the same reason, <b>Tcl_ListObjAppen</b>-<font color="#ffffff" class="whiteout">dElement&nbsp;Tcl_ListObjAppendElement</font>
       <b>dElement</b> increments <u>objPtr</u>'s reference count.  If no error occurs, the two procedures  return  <b>TCL_OK</b>
       after appending the objects.

       <b>Tcl_NewListObj</b>  and  <b>Tcl_SetListObj</b> create a new object or modify an existing object to hold the <u>objc</u>
       elements of the array referenced by <u>objv</u> where each element is a pointer to a Tcl object.  If <u>objc</u> is
       less  than  or equal to zero, they return an empty object.  The new object's string representation is
       left invalid.  The two procedures increment the reference counts of the elements in  <u>objc</u>  since  the
       list  object  now refers to them.  The new list object returned by <b>Tcl_NewListObj</b> has reference count
       zero.

       <b>Tcl_ListObjGetElements</b> returns a count and a pointer to an array of the elements in  a  list  object.
       It  returns  the count by storing it in the address <u>objcPtr</u>.  Similarly, it returns the array pointer
       by storing it in the address <u>objvPtr</u>.  The memory pointed to is managed by  Tcl  and  should  not  be
       freed by the caller.  If <u>listPtr</u> is not already a list object, <b>Tcl_ListObjGetElements</b> will attempt to
       convert it to one; if the conversion fails, it returns <b>TCL_ERROR</b> and leaves an error message  in  the
       interpreter's  result  object  if  <u>interp</u> is not NULL.  Otherwise it returns <b>TCL_OK</b> after storing the
       count and array pointer.

       <b>Tcl_ListObjLength</b> returns the number of elements in  the  list  object  referenced  by  <u>listPtr</u>.   It
       returns  this count by storing an integer in the address <u>intPtr</u>.  If the object is not already a list
       object, <b>Tcl_ListObjLength</b> will attempt to convert it to one; if  the  conversion  fails,  it  returns
       <b>TCL_ERROR</b> and leaves an error message in the interpreter's result object if <u>interp</u> is not NULL.  Oth-<font color="#ffffff" class="whiteout">erwise&nbsp;Otherwise</font>
       erwise it returns <b>TCL_OK</b> after storing the list's length.

       The procedure <b>Tcl_ListObjIndex</b> returns a pointer to the object at element <u>index</u> in  the  list  refer-<font color="#ffffff" class="whiteout">enced&nbsp;referenced</font>
       enced  by  <u>listPtr</u>.   It returns this object by storing a pointer to it in the address <u>objPtrPtr</u>.  If
       <u>listPtr</u> does not already refer to a list object, <b>Tcl_ListObjIndex</b> will attempt to convert it to  one;
       if the conversion fails, it returns <b>TCL_ERROR</b> and leaves an error message in the interpreter's result
       object if <u>interp</u> is not NULL.  If the index is out of range, that is, <u>index</u> is  negative  or  greater
       than  or equal to the number of elements in the list, <b>Tcl_ListObjIndex</b> stores a NULL in <u>objPtrPtr</u> and
       returns <b>TCL_OK</b>.  Otherwise it returns <b>TCL_OK</b> after storing the element's object pointer.  The  refer-<font color="#ffffff" class="whiteout">ence&nbsp;reference</font>
       ence  count  for the list element is not incremented; the caller must do that if it needs to retain a
       pointer to the element.

       <b>Tcl_ListObjReplace</b> replaces zero or more elements of the list referenced by  <u>listPtr</u>  with  the  <u>objc</u>
       objects  in the array referenced by <u>objv</u>.  If <u>listPtr</u> does not point to a list object, <b>Tcl_ListObjRe</b>-<font color="#ffffff" class="whiteout">place&nbsp;Tcl_ListObjReplace</font>
       <b>place</b> will attempt to convert it to one; if the conversion fails, it returns <b>TCL_ERROR</b> and leaves  an
       error message in the interpreter's result object if <u>interp</u> is not NULL.  Otherwise, it returns <b>TCL_OK</b>
       after replacing the objects.  If <u>objv</u> is NULL, no new elements are added.  If the argument  <u>first</u>  is
       zero or negative, it refers to the first element.  If <u>first</u> is greater than or equal to the number of
       elements in the list, then no elements are deleted; the new elements are appended to the list.  <u>count</u>
       gives  the number of elements to replace.  If <u>count</u> is zero or negative then no elements are deleted;
       the new elements are simply inserted before the one designated by <u>first</u>.  <b>Tcl_ListObjReplace</b>  invali-<font color="#ffffff" class="whiteout">dates&nbsp;invalidates</font>
       dates  <u>listPtr</u>'s  old string representation.  The reference counts of any elements inserted from <u>objv</u>
       are incremented since the resulting list now refers to them.  Similarly, the reference counts for any
       replaced objects are decremented.

       Because  <b>Tcl_ListObjReplace</b> combines both element insertion and deletion, it can be used to implement
       a number of list operations.  For example, the following code inserts the <u>objc</u> objects referenced  by
       the array of object pointers <u>objv</u> just before the element <u>index</u> of the list referenced by <u>listPtr</u>:
              result = Tcl_ListObjReplace(interp, listPtr, index, 0, objc, objv);
       Similarly, the following code appends the <u>objc</u> objects referenced by the array <u>objv</u> to the end of the
       list <u>listPtr</u>:
              result = Tcl_ListObjLength(interp, listPtr, &amp;length);
              if (result == TCL_OK) {
                result = Tcl_ListObjReplace(interp, listPtr, length, 0, objc, objv);
              }
       The <u>count</u> list elements starting at <u>first</u> can be deleted by simply calling <b>Tcl_ListObjReplace</b> with  a
       NULL <u>objvPtr</u>:
              result = Tcl_ListObjReplace(interp, listPtr, first, count, 0, NULL);


<b>SEE</b> <b>ALSO</b>
       Tcl_NewObj, Tcl_DecrRefCount, Tcl_IncrRefCount, Tcl_GetObjResult


<b>KEYWORDS</b>
       append,  index, insert, internal representation, length, list, list object, list type, object, object
       type, replace, string representation



Tcl                                                  8.0                                      <!-- a -->Tcl_ListObj(3)<!-- /a -->
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_ListObjReplace.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_ListObjReplace.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_ListObjReplace.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
