<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Xcode Build System Guide: Build Settings</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Build Settings"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002691" title="Build Settings"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../Xcode-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000557" target="_top">Xcode</a> &gt; <a href="../000-Introduction/Introduction.html#//apple_ref/doc/uid/TP40006904-CH1-SW1">Xcode Build System Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../200-Build_Phases/bs_build_phases.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../400-Build_Configurations/build_configs.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40002691-BACIFADG" title="Build Settings"></a><h1>Build Settings</h1><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_56"></a><p>A <strong>build setting</strong> is a variable that contains information used to build a product. For each operation performed in the build process—such as compiling Objective-C source files—build settings control how that operation is performed. For example, the information in a build setting can specify which options Xcode passes to the tool—in this case, the compiler—used to perform that operation.</p><p>Build settings constitute the main method of customizing the build process. They represent variable aspects of the build process that Xcode consults as it builds a product.</p><p>This chapter explains how build settings are implemented and how you can take advantage of them to communicate with the build system.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW1">Build Setting Overview</a>
				
			<br/>
			
        
			
			
				<a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-CJBDGGEA">Build Setting Syntax</a>
				
			<br/>
			
        
			
			
				<a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW5">Build Setting Evaluation</a>
				
			<br/>
			
        
			
			
				<a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW9">Build Setting Troubleshooting</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40002691-SW1" title="Build Setting Overview"></a><h2>Build Setting Overview</h2><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_57"></a><p>A build setting in Xcode has two parts: The name and the specification. The <strong>build setting name</strong> identifies the build setting and can be used within other settings; in that sense, it is similar to the names of environment variables in a command shell. The <strong>build setting specification</strong> is the information Xcode uses to determine the value of the build setting at build time. A build setting may also have a display name, or <strong>build setting title</strong>, which is used to display the build setting in the Xcode user interface.</p><br/><div><img src = "../art/wf_build_setting.gif" alt = "A build setting" width="102" height="86"></div><br/><p>The build system consults the value of build settings as it generates tool invocations. For example, to generate profiling code for all the source files compiled with GCC, you turn on the Generate Debug Symbols (<code>GCC_GENERATE_DEBUGGING_SYMBOLS</code>) build setting. When Xcode creates the <code><a href="../../../../Darwin/Reference/ManPages/man1/gcc.1.html#//apple_ref/doc/man/1/gcc" target="_top">gcc</a></code> command-line invocation to compile a source file, it evaluates compiler build settings (such as Generate Debug Symbols) to construct the argument list.</p><p>Build setting values may come from a number of sources at build time. Xcode stores build setting specifications in dictionaries spread across several layers. Typically, you are most interested in the <em>target layer</em>; however, it is important to understand the various layers from which build setting values can be derived. See <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW5">“Build Setting Evaluation”</a></span> for details.</p><p>Xcode has many built-in build settings that you can use to customize the build process. Furthermore, you can define your own build settings, which you can use to configure standard build settings across several targets or access within scripts in Run Script build phases to perform special tasks. To learn how to use each build setting, see <em><a href="../../../Reference/XcodeBuildSettingRef/index.html#//apple_ref/doc/uid/TP40003931" target="_top">Xcode Build Setting Reference</a></em>.</p><p>In addition to build settings, you can set <strong>per-file compiler flags</strong> that the build system uses when creating tool invocations. With them you can change how a file is compiled without affecting any other files in the project. See <span class="content_text"><!--a target="_top" -->"Per-File Compiler Flags"<!--/a--></span> in <em><a href="../../XcodeProjectManagement/index.html#//apple_ref/doc/uid/TP40006917" target="_top">Xcode Project Management Guide</a></em> for details. </p><a name="//apple_ref/doc/uid/TP40002691-CJBDGGEA" title="Build Setting Syntax"></a><h2>Build Setting Syntax</h2><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_58"></a><p>Build setting names start with a letter or underscore character; the remaining characters can be letters, underscore characters, or numbers. The Xcode application doesn’t allow you to define build settings whose names don’t follow this convention. Because build setting names are case sensitive, however, <code>project_name</code> is irrelevant to the build system and doesn’t override the value of the <code>PROJECT_NAME</code> build setting.</p><p>Xcode displays titles for most of its predefined build settings in the Build pane of project and target editors. For example, the title of the <code>PRODUCT_NAME</code> build setting is Product Name. The <code><a href="../../../../Darwin/Reference/ManPages/man1/xcodebuild.1.html#//apple_ref/doc/man/1/xcodebuild" target="_top">xcodebuild</a></code> tool doesn’t use build setting titles.</p><p>The value of a build setting is determined by evaluating the build setting specification. A build setting specification can be a value such as a string, number, and so forth, or it can reference the value of other build settings.</p><p>To reference a build setting value in a build setting specification, use the name of the build setting surrounded by parentheses and prefixed by the dollar-sign character ($). For example, the specification of a build setting that refers to the value of the Product Name build setting could be similar to <code>The name of this target's product is $(PRODUCT_NAME)</code>.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002691-SW10" title="Note"></a><p><strong>Note:</strong>&nbsp;When referring to build setting values in build setting specifications, you must use the build setting name, such as <code>PRODUCT_NAME</code>, instead of its title.</p></div><p>In addition to the build settings provided by Xcode, you can add <strong>user-defined build settings</strong> to a project. A user-defined build setting is one that is not defined by the build system. You can add them at the command-line, target, project and environment levels. You can reference user-defined build settings in build setting specifications, and scripts in Run Script build phases. User-defined build settings don’t have a title.</p><p>The following list describes some circumstances in which you may need to add user-defined build settings to a project:</p><ul class="ul"><li class="li"><p>To modify the value of build settings that are not displayed in the Xcode application</p></li><li class="li"><p>To specify a value that can be used by several build settings in different layers (see <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW5">“Build Setting Evaluation”</a></span> for details)</p></li><li class="li"><p>To define a build setting you want to use in Run Script build phase scripts or a build-rule script</p></li></ul><a name="//apple_ref/doc/uid/TP40002691-SW3" title="Conditional Build Settings"></a><h3>Conditional Build Settings</h3><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_59"></a><p>In general, build setting specifications apply to a target regardless of the SDK used to build it or the architectures for which the product is built. There are occasions, however, when you may need to specify a build setting value that must apply only when the product is built using a particular SDK, or when Xcode is generating a executable code for a particular architecture or for a particular variant of the product. <strong>Conditional build setting definitions</strong> allow you to add build setting values that apply only when one or more conditions are met (for example, the product is being built using the iPhone Simulator SDK).</p><p>These are the conditions available in conditional build setting definitions:</p><ul class="spaceabove"><li class="li"><p><strong>Architecture</strong></p><p>The architecture condition lets you create build setting definitions for particular architectures.</p><p>This is the format of a build setting definition conditionalized on architecture:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;build_setting_name>[arch=&lt;architecture_pattern>] = &lt;build_setting_specification><span></span></pre></td></tr></table></div><p>These are examples of architecture patterns:</p><div class="codesample"><table><tr><td scope="row"><pre>armv6                  // ARM v6<span></span></pre></td></tr><tr><td scope="row"><pre>i386                   // 32-bit Intel<span></span></pre></td></tr><tr><td scope="row"><pre>x86_64                 // 64-bit Intel<span></span></pre></td></tr><tr><td scope="row"><pre>*                      // Any architecture<span></span></pre></td></tr></table></div><p>For example, to specify Other C Flags as <code>-dM</code> for the i386 architecture, you would use:</p><div class="codesample"><table><tr><td scope="row"><pre>OTHER_CFLAGS[arch=i386] = -dM<span></span></pre></td></tr></table></div></li><li class="li"><p><strong>SDK</strong></p><p>The SDK condition lets you create build setting definitions for particular SDKs.</p><p>This is the format of a build setting definition conditionalized on SDK:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;build_setting_name>[sdk=&lt;sdk_pattern>] = &lt;build_setting_specification><span></span></pre></td></tr></table></div><p>You can set the SDK condition to match one or any release of an SDK. These are examples of SDK patterns:</p><div class="codesample"><table><tr><td scope="row"><pre>iphoneos2.0           // The iPhone OS 2.0 Device SDK<span></span></pre></td></tr><tr><td scope="row"><pre>iphoneos*             // Any release of the iPhone OS SDK<span></span></pre></td></tr><tr><td scope="row"><pre>iphonesimulator2.0    // The iPhone OS 2.0 Simulator SDK<span></span></pre></td></tr><tr><td scope="row"><pre>iphonesimulator*      // Any release of the iPhone OS Simulator SDK<span></span></pre></td></tr><tr><td scope="row"><pre>macosx*               // Any release of the Mac OS X SDK<span></span></pre></td></tr><tr><td scope="row"><pre>*                     // Any SDK<span></span></pre></td></tr></table></div></li><li class="li"><p><strong>Variant</strong></p><p>Build variants specify the purpose of a product. These are the available build variants:</p><ul class="nested"><li class="nested li"><p><code>normal</code>: The normal build variant produces a binaries that can be released to end users.</p></li><li class="nested li"><p><code>profile</code>: The profile variant produces binaries to be used to profile program execution.</p></li><li class="nested li"><p><code>debug</code>: The debug variant produces binaries you can use to debug your programs.</p></li></ul><p>You can use build setting variants in build setting definitions to tailor build aspects to particular binary variants.</p><p>This is the format of a build setting definition conditionalized on variant:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;build_setting_name>[variant=&lt;variant_name>] = &lt;build_setting_specification><span></span></pre></td></tr></table></div></li></ul><p>You can specify one or more conditions in a conditional build setting definition by concatenating the conditions enclosing each condition with square brackets or by separating the conditions with commas:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;build_setting_name>[sdk=&lt;sdk_pattern>][arch=&lt;arch_pattern>] = &lt;build_setting_specification><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;build_setting_name>[sdk=&lt;sdk_pattern>,arch=&lt;arch_pattern>] = &lt;build_setting_specification><span></span></pre></td></tr></table></div><p>To define conditional build settings at the command line on in shell scripts, surround the definition with single or double quotation marks:</p><div class="codesample"><table><tr><td scope="row"><pre>"OTHER_CFLAGS[arch=i386]=-dM"<span></span></pre></td></tr></table></div><p>The conditional build setting syntax provides a way to define build settings, not to access the conditions or values of the build settings at built time. At build time, referencing a build setting that has been conditionalized provides the conditional value of the build setting. For example, setting <code>OTHER_CFLAGS[arch=i386]</code> to <code>-dM</code>, results in <code>$(OTHER_CFLAGS)</code> returning <code>-dM</code> at build time when the active architecture is i386. You cannot use the condition patterns at build time to access the build setting conditions.  </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002691-SW4" title="Note"></a><p><strong>Note:</strong>&nbsp;You cannot use conditional build settings in Run Script build phases.</p></div><p>This section describes the literal syntax of conditional build setting definitions, used in build configuration files, environment variables, shell scripts, or <code><a href="../../../../Darwin/Reference/ManPages/man1/xcodebuild.1.html#//apple_ref/doc/man/1/xcodebuild" target="_top">xcodebuild</a></code> invocations. To learn how to use the build settings editor to define conditional build setting definitions, see <span class="content_text"><!--a target="_top" -->"Editing Build Settings"<!--/a--></span> in <em><a href="../../XcodeProjectManagement/index.html#//apple_ref/doc/uid/TP40006917" target="_top">Xcode Project Management Guide</a></em>.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002691-SW6" title="Note"></a><p><strong>Note:</strong>&nbsp;The build settings editor doesn’t show the variant condition, but you can specify build settings conditionalized on product variants in configuration files.</p></div><a name="//apple_ref/doc/uid/TP40002691-SW5" title="Build Setting Evaluation"></a><h2>Build Setting Evaluation</h2><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_60"></a><p>To take advantage of build settings in your project, you must understand how they are evaluated when Xcode builds your product. By defining build settings at several build setting layers you can, for example, quickly change an aspect of a product when building from the command line, configure a product aspect only in one of a product’s alternate “flavors” but not in all of them, or specify an aspect for all the projects that you work on.</p><p>At build time, Xcode evaluates each build setting individually. <span class="content_text">Figure 3-1</span> shows the layers in which build settings can be defined; the specifications of build settings defined in higher layers override the specifications of the same build settings at lower layers. Using this layered approach, you can define a build setting in terms of itself, in multiple layers. That is, you can include the value of a build setting as part of the specification of the build setting in more than one layer. The value of the build setting at build time is a composite of the specifications of that build setting in all the layers where it’s defined. For an example of how this process works, see <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW2">“Multilayer Build Setting Definitions.”</a></span></p><br/><div><a name="//apple_ref/doc/uid/TP40002691-CJBFEGAD" title="Figure 3-1Build setting layers"></a><p><strong>Figure 3-1&nbsp;&nbsp;</strong>Build setting layers</p><img src = "../art/build_settings_layers.gif" alt = "Build setting layers" width="468" height="327"></div><br/><div class="notebox"><a name="//apple_ref/doc/uid/TP40002691-SW12" title="Note"></a><p><strong>Note:</strong>&nbsp;The build setting layers may not all be available when you build a product. If you build from the Xcode application, the command-line layer is not used.</p></div><p>When the build system needs the value of a build setting, it starts at the highest build setting layer available to it and works down in the order shown in the following list:</p><ol class="ol"><li class="li"><p><strong>Command-line layer</strong> (<code>xcodebuild</code> only). The command-line layer includes build settings defined in the <code>xcodebuild</code> invocation.</p><p>The <code><a href="../../../../Darwin/Reference/ManPages/man1/xcodebuild.1.html#//apple_ref/doc/man/1/xcodebuild" target="_top">xcodebuild</a></code> tool’s command invocation represents the highest layer in which you can define build settings when building a product. The build settings defined in this layer are accessible only to <code>xcodebuild</code>.</p><p>This layer gives you a way to customize builds performed from the command line without requiring access to the Xcode application.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002691-SW13" title="Note"></a><p><strong>Note:</strong>&nbsp;In the <strong>build settings editor</strong> (the Build pane in project and target editors), Xcode provides data editors appropriate for particular build settings. For example, build settings with a Boolean value use a checkbox and those whose value is a list of paths use a list editor. In the command line, however, you don’t have access to checkboxes or list editors when specifying the value of build settings. When specifying build settings at the command line, you should consult <em><a href="../../../Reference/XcodeBuildSettingRef/index.html#//apple_ref/doc/uid/TP40003931" target="_top">Xcode Build Setting Reference</a></em> to find out the proper text-based format for the build settings’ specifications.</p></div></li><li class="li"><p><strong>Target layer.</strong> The target layer contains build settings defined in the active build configuration of the target being built.</p><p>This is the main layer for specifying how a product is built. The build setting specifications in this layer override the ones defined at lower layers; this applies to both user-defined build settings and built-in build settings that have titles.</p><p>Each target can define several named collections of build settings, called <em>build configurations</em>. This lets you produce different “flavors” of a target’s product without having to create separate targets. When you build, you build a specific configuration of the target.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002691-SW14" title="Note"></a><p><strong>Note:</strong>&nbsp;A build configuration can inherit build setting definitions from a configuration file. For more information on how configuration files affect build setting precedence, see <span class="content_text"><a href="../400-Build_Configurations/build_configs.html#//apple_ref/doc/uid/TP40002692-SW7">“Build Configurations.”</a></span></p></div><p>Xcode evaluates build settings for a target independently from the build settings defined in other targets. This is true even for dependent and aggregate targets.</p><p>For more information on targets, see <span class="content_text"><a href="../100-Targets/bs_targets.html#//apple_ref/doc/uid/TP40002689-CIHEHECG">“Targets.”</a></span></p></li><li class="li"><p><strong>Project layer.</strong> The project layer contains build settings defined in the active build configuration of the current project—the project in which the current target is defined.</p><p>Xcode and <code>xcodebuild</code> use the project layer to specify projectwide aspects, such as the location of the project itself. You can define build settings that you want all targets in the project to share at this layer. These build settings can be overridden by individual targets (at the target layer). When you have multiple targets with build settings that should be synchronized, the project layer can be a convenient way to do so.</p><p>Projects, like targets, also define build configurations; for more information, see <span class="content_text"><a href="../400-Build_Configurations/build_configs.html#//apple_ref/doc/uid/TP40002692-SW7">“Build Configurations.”</a></span> </p></li><li class="li"><p><strong>Application settings layer.</strong> The application build settings layer contains application-wide build settings defined for the current user.</p><p>The application settings layer contains per-user settings, such as any source trees defined by the current user. In <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-CJBFEGAD">Figure 3-1</a></span>, this layer appears dimmed because Xcode provides limited access to build settings at this layer. Xcode Preferences > Building provides an interface for changing the <code>OBJROOT</code> and <code>SYMROOT</code> build settings at this layer. </p></li><li class="li"><p><strong>Built-in defaults.</strong> The built-in defaults layer contains a number of default values for build settings that are built into Xcode. Most of the build settings defined at this layer are build settings that specify required attributes of Mac OS X products. </p></li><li class="li"><p><strong>Environment layer.</strong> Build settings defined in the Xcode application environment or the shell from which <code>xcodebuild</code> is launched.</p><p>The environment layer is composed of environment variables that correspond to build setting names. You can use it to configure build settings that must apply to more than one project. This layer, however, cannot access build settings configured in any other layer. For example, defining an environment variable named <code>MY_PRODUCT_NAME</code> as <code>My Company $(PRODUCT_NAME)</code> results in an undefined-variable error, unless you also define an environment variable named <code>PRODUCT_NAME</code>.</p><p>You must follow the syntax described in <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-CJBDGGEA">“Build Setting Syntax”</a></span> when defining the environment variables in your session.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002691-SW15" title="Note"></a><p><strong>Note:</strong>&nbsp; If you associate additional compiler flags with a file, as described in <span class="content_text"><!--a target="_top" -->"Per-File Compiler Flags"<!--/a--></span> in <em><a href="../../XcodeProjectManagement/index.html#//apple_ref/doc/uid/TP40006917" target="_top">Xcode Project Management Guide</a></em>, those flags are always used when the file is processed as part of a build. They cannot be overridden in any of the build setting layers.</p></div></li></ol><p>As soon as the build system finds a definition for the build setting it’s looking for, it stops traversing the build setting layers. However, if the build setting specification found includes references to other build settings, it resolves them. This starts the traversing process again, as many times as necessary to compute the value of the original build setting.</p><p>If a build setting refers to itself (that is, the build setting specification includes a reference to the build setting being evaluated), the build system resolves the reference starting at the subsequent build setting layer. The following sections provide examples of this process.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002691-SW16" title="Note"></a><p><strong>Note:</strong>&nbsp;Xcode uses <strong>bold text</strong> in the build setting editors for projects and targets to indicate build settings specified at the current level—that is, at the level that you are currently viewing, either the project or the target. Build settings that are not in bold text are specified at lower layers.</p></div><a name="//apple_ref/doc/uid/TP40002691-SW2" title="Multilayer Build Setting Definitions"></a><h3>Multilayer Build Setting Definitions</h3><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_61"></a><p>Imagine that, to build a product, you need to define a single build setting at every build setting layer. This is a very unlikely case to be sure, but one that illustrates how the process works. <span class="content_text">Table 3-1</span> shows an example configuration for the <code>LAYERED</code> build setting throughout the build setting layers. This example assumes that the product is built from the command-line using <code><a href="../../../../Darwin/Reference/ManPages/man1/xcodebuild.1.html#//apple_ref/doc/man/1/xcodebuild" target="_top">xcodebuild</a></code>:</p><a name="//apple_ref/doc/uid/TP40002691-CJBDHDBE" title="Table 3-1Configuration of the LAYERED build setting"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 3-1&nbsp;&nbsp;</strong>Configuration of the <code>LAYERED</code> build setting</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Build setting layer</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Build setting specification</p></th></tr><tr><td  scope="row"><p>Command line</p></td><td ><p><code>command line, $(LAYERED)</code></p></td></tr><tr><td  scope="row"><p>Target</p></td><td ><p><code>target, $(LAYERED)</code></p></td></tr><tr><td  scope="row"><p>Project</p></td><td ><p><code>project, $(LAYERED)</code></p></td></tr><tr><td  scope="row"><p>Environment</p></td><td ><p><code>environment</code></p></td></tr></table></div><p><span class="content_text">Figure 3-2</span> shows how the build system would evaluate the <code>LAYERED</code> build setting when building using <code>xcodebuild</code>.</p><br/><div><a name="//apple_ref/doc/uid/TP40002691-CJBEDGHF" title="Figure 3-2Evaluation of the LAYERED build setting"></a><p><strong>Figure 3-2&nbsp;&nbsp;</strong>Evaluation of the LAYERED build setting</p><img src = "../art/build_settings_eval.gif" alt = "Evaluation of the LAYERED build setting" width="316" height="359"></div><br/><p>To evaluate the <code>LAYERED</code> build setting, the build system does the following:</p><ol class="ol"><li class="li"><p>Looks for a definition for <code>LAYERED</code> in the command-line layer (the highest available to <code>xcodebuild</code>). It finds the specification <code>command line, $(LAYERED)</code>.</p></li><li class="li"><p>Resolves <code>$(LAYERED)</code> starting at the next layer down, the target layer. At this layer, it obtains the specification <code>target, $(LAYERED)</code>. Because this specification also references the value of the <code>LAYERED</code> build setting, the build system continues to look in lower layers for the build setting specification.</p></li><li class="li"><p>Resolves <code>$(LAYERED)</code> starting at the project layer, obtaining <code>project, $(LAYERED)</code>.</p></li><li class="li"><p>Resolves <code>$(LAYERED)</code> starting at the environment layer, obtaining <code>environment</code>.</p><p>The evaluation of <code>LAYERED</code> stops here because there are no build setting layers below the environment layer. When all the references are resolved, the final value of the build setting is computed as <code>command line, target, project, environment</code>.</p></li></ol><p>This example uses <code>$(LAYERED)</code> to access the value of the same build setting at a lower layer. However, you can get the same result in the example by replacing <code>$(LAYERED)</code> with <code>$(value)</code> in any of the build setting specifications at the command-line, target, or project layers.</p><p>The process of evaluating a build setting specification that references itself repeats recursively until the build system reaches the environment layer or until the build system finds a build setting specification that does not reference its own value. </p><a name="//apple_ref/doc/uid/TP40002691-SW7" title="Build Setting References"></a><h3>Build Setting References</h3><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_62"></a><p>The build system gives you a great deal of flexibility when defining build settings. The following example illustrates how the build system evaluates the <code>STAGGERED</code> build setting, which is defined in the target layer and references the values of several other build settings.</p><p>The value of the <code>STAGGERED</code> build setting is composed of data and a caption for the data, with the caption shown first and both elements separated by a colon (:) and a space. The specification for <code>STAGGERED</code> contains references to two other build settings: <code>LAYERED</code> (the data, explained in <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW2">“Multilayer Build Setting Definitions”</a></span>) and <code>CAPTION</code> (the caption for the data). It also contains static elements (the colon and space characters).</p><p><span class="content_text">Figure 3-3</span> shows how the build system evaluates the <code>STAGGERED</code> build setting.</p><br/><div><a name="//apple_ref/doc/uid/TP40002691-CJBEFEIF" title="Figure 3-3Evaluation of the STAGGERED build setting"></a><p><strong>Figure 3-3&nbsp;&nbsp;</strong>Evaluation of the <code>STAGGERED</code> build setting</p><img src = "../art/build_settings_eval2.gif" alt = "Evaluation of the STAGGERED build setting" width="617" height="430"></div><br/><p>These are the steps the build system takes to evaluate the <code>STAGGERED</code> build setting:</p><ol class="ol"><li class="li"><p>Look for a definition of <code>STAGGERED</code> in the command-line layer. None is found.</p></li><li class="li"><p>Look for a definition of  <code>STAGGERED</code> in the target layer.</p><p>The build system finds a definition of <code>STAGGERED</code>: <code>STAGGERED = $(CAPTION): $(LAYERED)</code>. Here is where the evaluation of the <code>STAGGERED</code> build setting begins.</p></li><li class="li"><p>Resolve <code>$(CAPTION)</code> starting at the command-line layer:</p><ol class="ol"><li class="ol ol"><p>Look for a definition of <code>CAPTION</code> in the command-line layer. None is found.</p></li><li class="ol ol"><p>Look for a definition of <code>CAPTION</code> in the target layer. None is found.</p></li><li class="ol ol"><p>Look for a definition of <code>CAPTION</code> in the project layer. The build system finds the specification <code>evaluation order</code>.</p><p>The evaluation of <code>CAPTION</code> stops here because there are no references to other build settings. The final value of the <code>CAPTION</code> build setting is <code>evaluation order</code>.</p></li></ol></li><li class="li"><p>Resolve <code>$(LAYERED)</code> starting at the command-line layer.</p><ol class="ol"><li class="ol ol"><p>Look for a definition of <code>LAYERED</code> in the command-line layer. The build system finds the specification <code>command line, $(LAYERED)</code>. The build system resolves the specification for <code>LAYERED</code> at this build setting layer as described in the previous section. The final value of the <code>LAYERED</code> build setting is <code>command line, target, project, environment</code>.</p></li></ol></li><li class="li"><p>Get the final value for the <code>STAGGERED</code> build setting by replacing the two references in the build setting’s specification with their values: <code>evaluation order: command line, target, project, environment</code>.</p></li></ol><p>Knowing the precedence that the build system uses when evaluating build settings makes it easy to determine where to configure build settings to tailor the build process for special situations. Following the <code>STAGGERED</code> example, imagine you want to override the value of the <code>CAPTION</code> build setting for a particular target. All you would have to do is configure the <code>CAPTION</code> build setting in that target with the appropriate value.</p><p><span class="content_text">Figure 3-4</span> shows the effects of overriding CAPTION in the target layer.</p><br/><div><a name="//apple_ref/doc/uid/TP40002691-CJBIBJED" title="Figure 3-4Evaluation of the STAGGERED build setting with CAPTION overridden in the target layer"></a><p><strong>Figure 3-4&nbsp;&nbsp;</strong>Evaluation of the <code>STAGGERED</code> build setting with <code>CAPTION</code> overridden in the target layer</p><img src = "../art/build_settings_eval3.gif" alt = "Evaluation of the STAGGERED build setting with CAPTION overridden in the target layer" width="617" height="430"></div><br/><p>These are the steps the build system takes to evaluate the <code>STAGGERED</code> build setting after overriding <code>CAPTION</code> in the target build setting layer:</p><ol class="ol"><li class="li"><p>Look for a definition of <code>STAGGERED</code> in the command-line layer. None is found.</p></li><li class="li"><p>Look for a definition of <code>STAGGERED</code> in the target layer. The build system finds <code>STAGGERED = $(CAPTION): $(LAYERED)</code>.</p></li><li class="li"><p>Resolve <code>$(CAPTION)</code> starting at the command-line layer:</p><ol class="ol"><li class="ol ol"><p>Look for a definition of <code>CAPTION</code> in the command-line layer. None is found.</p></li><li class="ol ol"><p>Look for a definition of <code>CAPTION</code> in the target layer. The build system finds <code>order of evaluation</code>.</p><p>The evaluation of <code>CAPTION</code> stops here because there are no references to other build settings in its specification. Even though <code>CAPTION</code> is configured in the project layer, that specification has been overridden in the target layer; therefore, it’s ignored. The final value of <code>CAPTION</code> in this example is <code>order of evaluation</code>.</p></li></ol></li><li class="li"><p>Look for a definition of <code>LAYERED</code> in the command-line layer. The build system finds <code>LAYERED = command line, $(LAYERED)</code>.</p><ol class="ol"><li class="ol ol"><p>Resolve the specification for <code>LAYERED</code> at this build setting layer as described earlier in this section, obtaining <code>command line, target, project, environment</code>.</p></li></ol></li><li class="li"><p>Get the final value for the <code>STAGGERED</code> build setting by replacing the two references in the build setting’s specification with their values: <code>order of evaluation: command line, target, project, environment</code>.</p></li></ol><a name="//apple_ref/doc/uid/TP40002691-SW9" title="Build Setting Troubleshooting"></a><h2>Build Setting Troubleshooting</h2><p>As you work on a project, you may need to determine where and how a build setting is defined. Because build settings can be identified by their name and their title (see <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-CJBDGGEA">“Build Setting Syntax”</a></span> for details). Depending on where a build setting is defined—in the <code><a href="../../../../Darwin/Reference/ManPages/man1/xcodebuild.1.html#//apple_ref/doc/man/1/xcodebuild" target="_top">xcodebuild</a></code>  invocation, in an environment variable, or in the Xcode application’s user interface—you may need to map between a build setting name and its corresponding build setting title.</p><p>This section provides tips on how to troubleshoot build setting problems you may encounter.</p><a name="//apple_ref/doc/uid/TP40002691-BACHHHIJ" title="Finding Build Setting Definitions"></a><h3>Finding Build Setting Definitions</h3><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_63"></a><a name="//apple_ref/doc/uid/TP40002691-DontLinkElementID_64"></a><p>During the development process you may need to find the top definition of a build setting in order to change its value during a build. That is, you want to find the specification that overrides all other specifications throughout the build setting layers (see <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW5">“Build Setting Evaluation”</a></span> for details). This section showcases a technique you can use to quickly locate the top definition of a build setting.</p><p>Look for the top definition of a build setting in these places:</p><ul class="spaceabove"><li class="li"><p>The <code><a href="../../../../Darwin/Reference/ManPages/man1/xcodebuild.1.html#//apple_ref/doc/man/1/xcodebuild" target="_top">xcodebuild</a></code> invocation (when building using <code>xcodebuild</code>)</p></li><li class="li"><p>The active configuration of the target you’re interested in</p></li><li class="li"><p>The active configuration of the project</p></li><li class="li"><p>The output of the <code>env</code> command</p></li></ul><p><span class="content_text">Figure 3-5</span> shows the steps you would take to find the definition of a build setting when you know the build setting’s name, title, or its specification.</p><br/><div><a name="//apple_ref/doc/uid/TP40002691-CJBJEAFI" title="Figure 3-5Finding build setting definitions"></a><p><strong>Figure 3-5&nbsp;&nbsp;</strong>Finding build setting definitions</p><img src = "../art/find_definition_process.gif" alt = "Finding build setting definitions" width="546" height="442"></div><br/><ol class="ol"><li class="li"><p>If you’re building using <code>xcodebuild</code>, look for the build setting name (or its specification) in the tool’s invocation. If the build setting is part of the invocation, you found the definition.</p></li><li class="li"><p>Look for the build setting in the target you’re interested in. You can locate a particular build setting by choosing All Settings from the Show pop-up menu of the build settings editor and entering the name, the title, or the specification (shown in the Value column) of the build setting you’re looking for. You can look in all configurations of the target at once by choosing All Configurations from the Configuration pop-up menu:</p><ol class="ol"><li class="ol ol"><p>If the build setting is displayed in bold text, it means that it’s defined in the target. This is the top definition of the build setting. If the build setting's definition is displayed as “Multiple values,” the build setting has a different definition in the various configurations of the target. Select a specific configuration from the Configuration pop-up menu to see its definition of the build setting. Choose Active Configuration to see the definition in the active build configuration.</p></li><li class="ol ol"><p>If the build setting is displayed in nonbold text, the build setting is defined in the project layer or the environment layer (see <span class="content_text"><a href="bs_build_settings.html#//apple_ref/doc/uid/TP40002691-SW5">“Build Setting Evaluation”</a></span> for details).</p></li></ol></li><li class="li"><p>Look for the build setting in the active configuration at the project level.</p></li><li class="li"><p>Look for the build setting in the build environment (the definitions of all the environment variables the Xcode application or <code>xcodebuild</code> have access to during the build process).</p><ol class="ol"><li class="ol ol"><p>Add a Run Script build phase to the target you’re interested in and make it the first build phase to make it easier to locate the script’s output.</p></li><li class="ol ol"><p>Add an invocation to the <code>env</code> command to the build phase’s shell script.</p></li><li class="ol ol"><p>If you’re building using the Xcode application, open the Build Results window, reveal the build log pane, and build the product. If you’re building using <code>xcodebuild</code>, invoke the tool from your shell as you normally would. See <span class="content_text"><!--a target="_top" -->"Building Products"<!--/a--></span> for information on how to build in Xcode.</p></li><li class="ol ol"><p>Look at the build log (the detailed log in the Build Results window if using the Xcode application). The build environment is listed after the group of <code>setenv</code> invocations that set environment variables that reflect most of the build setting values for the current build. Search that group for the name of the build setting you’re interested in. If the build setting is not in that group, the build setting is not defined for the target you are investigating.</p><p>If the build setting is defined in the <code>setenv</code> group and the <code>env</code> group, you can override its value only in the target layer or above. If the build setting is defined only in the <code>env</code> group, look for the build setting definition among the environment variables defined in the user-configuration files for the logged-in user. If you find the build setting there, change its specification, log out, and log in.</p></li></ol></li></ol>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../200-Build_Phases/bs_build_phases.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../400-Build_Configurations/build_configs.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-02-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/XcodeBuildSystem/300-Build_Settings/bs_build_settings.html%3Fid%3DTP40006904-1.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/XcodeBuildSystem/300-Build_Settings/bs_build_settings.html%3Fid%3DTP40006904-1.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/XcodeBuildSystem/300-Build_Settings/bs_build_settings.html%3Fid%3DTP40006904-1.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>