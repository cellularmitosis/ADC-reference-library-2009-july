<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>3D Metafile Header</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=8311"> </A><A NAME="marker=13865"> </A><A NAME="21447"> </A>3D Metafile <A NAME="marker=13864"> </A>Header</H1><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8312"> </A>Labels</H3><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26603"> </A>ASCII</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8313"> </A><TT CLASS="cv">3DMetafile</TT></DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26612"> </A>Binary</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8314"> </A><TT CLASS="cv">3DMF</TT>																			 (= <TT CLASS="cv">0x33444D46</TT>)</DD></DL COMPACT></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8316"> </A><A NAME="marker=13866"> </A>metafile flags</H3><P CLASS="T1.Text1"><A NAME="pgfId=15163"> </A>Each metafile header includes a flag that indicates the uses to which file pointers and reference objects are put in that metafile. The left column below gives the form of the flag found in text metafiles, while the right colun gives the form found in binary metafiles. </P><CODE CLASS="Cv.Code"><A NAME="pgfId=32531"> </A>Normal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x00000000<BR>Stream&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x00000001<BR>Database&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x00000002<BR></CODE></DIV><DIV><H2 CLASS="UH.UserHd"><A NAME="pgfId=8318"> </A>Constant descriptions</H2><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26625"> </A><TT CLASS="cv">Normal</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8319"> </A>This flag indicates that objects in the metafile can be instantiated by reference, using the mechanism of file pointers and reference objects described above. The table of contents contains only entries for objects that actually have at least one instantiation by reference. (Note that normal metafiles are not prohibited from having the same full description of an object occur in two different places in the file.) In order to read a normal metafile, a parser should have random access to that file.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26634"> </A><TT CLASS="cv">Stream</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8320"> </A>This flag indicates that there are no internal references in the metafile. Objects cannot be instantiated by reference; the complete specification of an object must occur at each place in the file at which that object is to be instantiated. In order to read a stream metafile, a parser need have sequential access only.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26643"> </A><TT CLASS="cv">Database</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8321"> </A>This flag indicates that every shared object in the metafile that is not itself a reference object is the target object of a file pointer appearing in a table of contents in the metafile. That is, every object that could be instantiated by reference and is not itself a reference object must be listed in a table of contents (whether or not that object has actually been instantiated by reference in this file). All of the shared contents of a database metafile may be discovered by a parser through examination of its tables of contents. Note that an object can be both stream and database; this means that there are no reference objects but the metafile contains a complete table of contents for the shared objects. </DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8322"> </A>Data Format</H3><CODE CLASS="Cv.Code"><A NAME="pgfId=32535"> </A>&nbsp;&nbsp;&nbsp;&nbsp;Uns16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;majorVersion<BR>&nbsp;&nbsp;&nbsp;&nbsp;Uns16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minorVersion<BR>&nbsp;&nbsp;&nbsp;&nbsp;MetafileFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flags<BR>&nbsp;&nbsp;&nbsp;&nbsp;FilePointer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tocLocation<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26656"> </A><TT CLASS="cv">majorVersion</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8324"> </A><A NAME="marker=13867"> </A>The version number of the metafile. Currently, the version number is 1.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26665"> </A><TT CLASS="cv">minorVersion</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8325"> </A><A NAME="marker=13868"> </A>The revision number of the metafile. Currently, the revision number is 5.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26674"> </A><TT CLASS="cv">flags</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8326"> </A>The metafile header flag.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=26683"> </A><TT CLASS="cv">tocLocation</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=8327"> </A><A NAME="marker=13869"> </A>A file pointer to the location (in the metafile) of a table of contents object. If the value in this field is <TT CLASS="cv">NULL</TT>, then the entire metafile must be parsed in order to find any extant tables of contents.</DD></DL COMPACT></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8328"> </A>Data Size</H3><P CLASS="T0.Text0"><A NAME="pgfId=8329"> </A>20</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8330"> </A>Description</H3><P CLASS="T1.Text1"><A NAME="pgfId=8331"> </A>A metafile header is a structure having four fields. The first two fields specify the version and revision numbers of the metafile. The third field contains a flag indicating the type of the metafile (normal, stream, or database). The fourth field contains a pointer to the location of a table of contents for the metafile. A metafile header in a file indicates that the file is a metafile and provides some information about its contents.</P><P CLASS="T1.Text1"><A NAME="pgfId=8332"> </A>Each metafile must contain exactly one metafile header, and this header must precede every other object in that file. Though each metafile header contains a pointer to the location of a table of contents, there need be no corresponding table of contents in the metafile.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8333"> </A>Parent Hierarchy</H3><P CLASS="T1.Text1"><A NAME="pgfId=8334"> </A>3DMF.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8335"> </A>Parent Objects</H3><P CLASS="T1.Text1"><A NAME="pgfId=8336"> </A>None.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8337"> </A>Child Objects</H3><P CLASS="T1.Text1"><A NAME="pgfId=8338"> </A>None.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=8339"> </A>Example</H3><CODE CLASS="Cv.Code"><A NAME="pgfId=32539"> </A>3DMetafile ( 1 5 Normal tableofcontents0&gt; )<BR>&nbsp;&nbsp;&nbsp;&nbsp;box2:<BR>&nbsp;&nbsp;&nbsp;&nbsp;Box (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 0 1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# orientation<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 0 0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# majorAxis<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 0 0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# minorAxis<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 1 0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# origin<BR>&nbsp;&nbsp;&nbsp;&nbsp;)<BR></CODE></DIV></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>