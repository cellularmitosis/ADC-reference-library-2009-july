<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"        "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd"><HTML><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note HW29: 'pslt' resource - What Is It?</title>                                       <meta name="categories" content="Hardware"><meta name="week-posted" content="Dec 30, 1991 - Jan 3, 1992"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"><a name="//apple_ref/doc/uid/DTS10002498" title="'pslt' resource - What Is It?"></a><a name="top"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxHardwareDrivers-date.html">Hardware & Drivers</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/HardwareDrivers/index.html" target="_blank">Reference Library > Hardware & Drivers</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note HW29</div>
<div id="pageheadsub">'pslt' resource - What Is It?</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->                     <P id = "menutext"><A HREF="#Introduction">Why a 'pslt' Resource?</A><BR><BR><A HREF="#Section1">pseudo-slot, 'pslt', Resource Structure</A><BR><BR><A HREF="#Section2">The Meanings of the Fields</A><BR><BR><A HREF="#Section3">Which Resource ID Is Which?</A><BR><BR><A HREF="#Section4">Non-NuBus Machines</A><BR><BR><A HREF="#References">References</A><BR><BR><A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext">One of the new resources that can be very helpful to some NuBus developersis the <code>'pslt'</code> resource. The only problem is that the resource is notdocumented. This Technical Note takes care of the documentation problem.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Jan 01 1992]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR><!-- begin_content --><A name="Introduction"></A><h2>Why a 'pslt' Resource?</H2><p>For implementation reasons, the NuBus connectors on a Macintosh II-familymotherboard map into differing areas of the NuBus address space in anunexpected manner. For example, the three slots of a IIcx are $9/$A/$B whilethe slots on a IIci are $C/$D/$E. Although the Slot Manager can return all thepertinent address space information uniformly, it may be difficult to present aconsistent human interface to users who need to identify a particular card in aparticular slot. A good example of this is a network router where there may beseveral identical cards. Although lookup tables can handle known products, newproducts present an interface challenge, complicated by the new "tower" formatmachines.</p><p>To address this problem, we introduce the concept of "pseudo-slot" numbering,which provides a simple and consistent mapping of the interface presentation ofthe machine to the physical NuBus slot implementation. These resources areavailable in System 7.0 and later. The basic pseudo-slot rules are simple:</p><ol type="1">	<li>Pseudo-slots start at #1, and count in ascending order</li>	<li>Slot #1 is ALWAYS the slot closest to the edge of the machine, regardless of the horizontal/vertical orientation</li>	<li>The highest numbered pseudo-slot is farthest from the edge of the case.</li></ol><p>The information that maps the pseudo-slot to the physical slot is contained ina <code>'pslt'</code> resource, one for each NuBus machine. By building the user interfacebased on the information in the <code>'pslt'</code> resource, you can generate an accurateslot map, even on machines that you don't know about.</p><a name="Section1"></a><h2>pseudo-slot, <code>'pslt'</code>, Resource Structure</H2><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>type 'pslt' {        integer = $$Countof(pSlotSpec);    /* # of slots */        integer;                    /* NuBus orientation */        longint;                    /* psltFlags, reserved */        wide array pSlotSpec {                integer;            /* NuBus slot # */                integer;            /* pseudo slot # */        };};</pre>	</TD></TR></TABLE></CENTER><a name="Section2"></a><h2>The Meanings of the Fields</H2><p>#ofSlots    This is fairly obvious. This number is 6 for the Macintosh ii, IIx andIIfx and 3 for the Macintosh IIcx and IIci, etc. The number represents thenumber of NuBus slots that are physically in the box that you are asking about.If you ask about the Macintosh IIsi, you will find that there is not a <code>'pslt'</code>resource, because the IIsi slot can take either a NuBus card or a PDS card andthere is no way to tell the difference between the two types.</p><p>Orientation    This is not an obvious value.  There are eight defined values whichyou may see in this field.  In the diagrams the black line is the NuBusSlot#and the gray line is the pseudoslot#, the Apple logo shows thehorizontal/vertical orientation of the box.  the meaning of the orientationnumbers are as follows:</p><P align=center><img src="images/hw_29_001.gif" alt="Orientation" width=64 height=57></p><P>#define horizAscendingRight 0 - The machine's physical orientation ishorizontal and the slots are numbered in ascending order starting from the leftof the box, as seen from the front of the machine.  So as the pseudoslot#increases so does the NuBusSlot#.  Most of the current NuBus Macintosh machineshave this type of orientation.</p><P align=center><img src="images/hw_29_002.gif" alt="horizAscendingRight" width=64 height=57></p><p>#define horizDescendingRight 1 - The machine's physical orientation ishorizontal and the slots are numbered in descending order starting from theleft of the box, as seen from the front of the machine.  So as the pseudoslot#increases the NuBusSlot# decreases.  There are currently no Macintosh machineswhich have this orientation.</p><P align=center><img src="images/hw_29_003.gif" alt="horizDescendingRight" width=64 height=57></p><p>#define vertAscendingBottom 2 - The machine's physical orientation is verticaland the slots are numbered in ascending order starting from the bottom of thebox.  So as the pseudoslot# increases so does the NuBusSlot#.  There iscurrently only one Macintosh with this orientation and it is the Quadra 900.</p><P align=center><img src="images/hw_29_004.gif" alt="vertAscendingBottom" width=64 height=57></p><p>#define vertDescendingBottom 3 - The machine's physical orientation is verticaland the slots are numbered in descending order starting from the bottom of thebox.  So as the pseudoslot# increases the NuBusSlot# decreases.  The Quadra 700is currently the only Macintosh with this orientation.</p><P align=center><img src="images/hw_29_005.gif" alt="vertDescendingBottom" width=64 height=57></p><p>#define vertAscendingTop 4 - The machine's physical orientation is vertical andthe slots are numbered in ascending order starting from the top of the box.  Soas the pseudoslot# increases so does the NuBusSlot#.  There are currently noMacintosh machines which have this orientation.</p><P align=center><img src="images/hw_29_006.gif" alt="vertAscendingTop" width=64 height=57></p><p>#define vertDescendingTop 5 - The machine's physical orientation is verticaland the slots are numbered in descending order starting from the top of thebox.  So as the pseudoslot# increases the NuBusSlot# decreases.  There arecurrently no Macintosh machines which have this orientation.</p><P align=center><img src="images/hw_29_007.gif" alt="vertDescendingTop" width=64 height=57></p><p>#define horizAscendingLeft 6 - The machine's physical orientation is horizontaland the slots are numbered in ascending order starting from the right of thebox, as seen from the front of the machine.  So as the pseudoslot# increases sodoes the NuBusSlot#.  There are currently no Macintosh machines which have thisorientation.</p><P align=center><img src="images/hw_29_008.gif" alt="horizAscendingLeft" width=64 height=57></p><p>#define horizDescendingLeft 7 - The machine's physical orientation ishorizontal and the slots are numbered in descending order starting from theright of the box, as seen from the front of the machine.  So as the pseudoslot#increases the NuBusSlot# decreases.  There are currently no Macintosh machineswhich have this orientation.</p><p>NuBusSlot#    The rest of the values in the resource are pairs of values. Thefirst value is the hardware number of the slot (the value that the Slot Managerand hardware use).</p><p>pseudoslot#    The second value of the pairs is the number that is given to theslot for this resource. The number one slot is always the slot that is closestto the side of the box.</p><a name="Section3"></a><h2>Which Resource ID Is Which?</H2><p>The <code>'pslt'</code> resource IDs are the same as the Gestalt selector values for aparticular machine. So if you are on a Macintosh IIfx and you would like to knowwhich <code>'pslt'</code> to look at for that machine, you will need to get thegestaltMachineType for the machine that you are on; then use this value todetermine the correct <code>'pslt'</code> resource ID to look for. When you make the call toget the <code>'pslt'</code> resource, you will want to use the call RGetResource, since theresource may be in ROM. So if Gestalt returns a gestaltMachineType value of 13,you will look for resource 13 and get the configuration for theMacintosh iifx.</p><a name="Section4"></a><h2>Non-NuBus Machines</H2><p>Only machines with true NuBus on the motherboard will have <code>'pslt'</code> resources.Machines like an Macintosh LC or IIsi won't since the physical alignment of theslot is harder to determine. If you don't find a <code>'pslt'</code> for this 'mach' type,then this machine doesn't have NuBus (although you could have used Gestalt tofind that out).</p><a name="Section5"></a><h2>Two Examples</H2><p>The following values are the straight hexadecimal numbers from ResEdit.</p><p>Macintosh ii (ID 6):</p>0006 |0000 |0000 0000 |0009 0001 |000A 0002 |000B 0003 |000C 0004 |000D 0005|000E 0006<P>At this point I am sure that you are asking what all these numbers mean, well Iwill tell you.</p><p>The first number (0006) says that there are six slots in the machine that thisresource documents. The next value is the orientation (0000) and from above wesee that this machine is oriented horizontally and has the NuBusSlot#increasing at the same time as the pseudoslot# increase. It also indicates thatthe slot numbers increase from the left of the box to the right (as seen fromthe front of the box). The next number (0000 0000) is reserved. Now we have theslot numbers that say that slot 0009 (NuBusSlot#) is slot one (0001) and is theclosest slot to the side of the box, slot 000A translates into slot two (0002),etc . . . So, slot A is to the right of slot 9--as seen from the front of themachine.</p><p>Macintosh Quadra 700 (ID 22):</p>0002 |0003 |0000 0000 |000D 0002 |000E 0001<P>The first number (0002) says that there are two slots in the machine that thisresource documents. The next value is the orientation (0003) and from above wesee that this machine is oriented vertically and has the NuBusSlot# decreasingat the same time as the pseudoslot# increase. It also indicates that the slotnumbers decrease from the bottom of the box up. The next number (0000 0000) isreserved. Now we have the slot numbers that say that slot 000D (NuBusSlot#) isslot two (0002), and slot 000E translates into slot one (0001) and is theclosest slot to the side of the box. Remember that all slots that have thepseudoslot# of one are the slots closest to the side of the box; therefore,shot D is above slot E.</p><a name="References"></a><h2>References</h2><P><i>Inside Macintosh</i>, Volume VI, Compatibility Guidelines</p><P>Technical Note M.OV.GestaltSysenvirons --<A HREF = "../ov/ov_16.html">Gestalt and Sysenvirons : A Never Ending Story</a></p><P><A HREF="#top">Back to top</A></P><P><A NAME=Downloads></A></P>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (80K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/hw_29.pdf">Download</A></P>               </TD>            </TR></table><BR><P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/hw/hw_29.html%3Fid%3DDTS10002498-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/hw/hw_29.html%3Fid%3DDTS10002498-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/hw/hw_29.html%3Fid%3DDTS10002498-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>