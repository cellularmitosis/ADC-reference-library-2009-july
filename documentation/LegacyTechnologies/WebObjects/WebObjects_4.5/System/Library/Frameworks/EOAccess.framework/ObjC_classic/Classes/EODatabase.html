<HTML>		<HEAD>		<TITLE>			EODatabase		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOAccess Reference</font><br><br><!--end of path --><a href="../EOAccessTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "DAEBFCCD"><BR><h1><FONT COLOR=\"#000066\"><a name="//apple_ref/occ/cl/EODatabase">EODatabase</a></FONT></h1><br></a><blockquote><b>Inheritsfrom: </b> NSObject</blockquote><blockquote><b>Conforms to: </b> NSObject<BR>(NSObject)</blockquote><blockquote><b>Declared in: </b> EOAccess/EODatabase.h<BR></blockquote><br><br><HR SIZE=4><br><h2>Class Description</h2><hr><p>An EODatabase object represents a single database server.It contains an EOAdaptor which is capable of communicating withthe server, a list of EOModels that describe the server's schema,a list of EODatabaseContexts that are connected to the server, anda set of snapshots representing the state of all objects storedin the server.</p><p>Each of an EODatabase's EODatabaseContexts forms a separatetransaction scope, and is in effect a separate logical user to theserver. An EODatabaseContext uses one or more pairs of EODatabaseChanneland EOAdaptorChannel objects to manage data operations (insert,update, delete, and fetch). Adaptors may support a limited numberof contexts per database or channels per context, but an applicationis guaranteed at least one of each.</p><p>For more information on the EODatabase class, see the sections:</p><ul><li> <a frame= "conv" href="More/EODatabase.html#DAEDDFEF">"The Database Level" </a></li><li> <a frame= "conv" href="More/EODatabase.html#DAEDJCCB">"Snapshots" </a></li></ul><br><br><br><h2>Constants</h2><hr><p>EOAccess declares the following constants in <tt>EODatabase.h</tt>.</p><br><table border = \"1\"><tr><td scope="row"><b>Constant</b></td><td><b>Type</b></td><td><b>Description</b></td></tr><tr><td scope="row"><a name = "DAECIJFH"><tt>EODistantPastTimeInterval</tt></a></td><td>NSTimeInterval</td><td>The lower bound on timestamps.</td></tr><tr><td scope="row"><tt>EOGeneralDatabaseException</tt></td><td>NSString</td><td>The name of exceptions raised by the database sublayerwhen errors occur during interactions with a database server.</td></tr></table><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Creating instances	</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/initWithModel:">- initWithModel:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/initWithAdaptor:">- initWithAdaptor:</a></dd></dl><dl><dt>Adding and removing models</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/addModel:">- addModel:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/addModelIfCompatible:">- addModelIfCompatible:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/removeModel:">- removeModel:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/models">- models</a></dd></dl><dl><dt>Accessing entities</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/entityForObject:">- entityForObject:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/entityNamed:">- entityNamed:</a></dd></dl><dl><dt>Recording snapshots</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">- recordSnapshot:forGlobalID:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forSourceGlobalID:relationshipName:">- recordSnapshot:forSourceGlobalID:relationshipName:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshots:">- recordSnapshots:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordToManySnapshots:">- recordToManySnapshots:</a></dd></dl><dl><dt>Forgetting snapshots</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotForGlobalID:">- forgetSnapshotForGlobalID:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotsForGlobalIDs:">- forgetSnapshotsForGlobalIDs:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetAllSnapshots">- forgetAllSnapshots</a></dd></dl><dl><dt>Accessing snapshots andsnapshot timestamps</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshotForGlobalID:after:">- snapshotForGlobalID:after:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshotForGlobalID:">- snapshotForGlobalID:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshotForSourceGlobalID:relationshipName:after:">- snapshotForSourceGlobalID:relationshipName:after:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshotForSourceGlobalID:relationshipName:">- snapshotForSourceGlobalID:relationshipName:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshots">- snapshots</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/timestampForGlobalID:">- timestampForGlobalID:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/timestampForSourceGlobalID:relationshipName:">- timestampForSourceGlobalID:relationshipName:</a></dd></dl><dl><dt>Snapshot reference counting</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/incrementSnapshotCountForGlobalID:">- incrementSnapshotCountForGlobalID:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/decrementSnapshotCountForGlobalID:">- decrementSnapshotCountForGlobalID:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EODatabase/disableSnapshotRefcounting">+ disableSnapshotRefcounting</a></dd></dl><dl><dt>Registering databasecontexts</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/registerContext:">- registerContext:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/unregisterContext:">- unregisterContext:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/registeredContexts">- registeredContexts</a></dd></dl><dl><dt>Accessing the adaptor</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/adaptor">- adaptor</a></dd></dl><dl><dt>Managing the databaseconnection</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/handleDroppedConnection">- handleDroppedConnection</a></dd></dl><dl><dt>Managing the result cache</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/invalidateResultCache">- invalidateResultCache</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/invalidateResultCacheForEntityNamed:">- invalidateResultCacheForEntityNamed:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/resultCacheForEntityNamed:">- resultCacheForEntityNamed:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/setResultCache:forEntityNamed:">- setResultCache:forEntityNamed:</a></dd></dl></blockquote><br><br><h2>Class Methods</h2><hr><a name = "DAECJIEJ"><BR><h3><a name="//apple_ref/occ/clm/EODatabase/disableSnapshotRefcounting">disableSnapshotRefcounting</a></h3></a><p><code>+ (void)<b>disableSnapshotRefcounting</b></code></p>Configures EODatabase instances not to releaseunreferenced snapshots.<hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Instance Methods</h2><hr><a name = "adaptor"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/adaptor">adaptor</a></h3></a><p><code>- (EOAdaptor *)<b>adaptor</b></code></p>Returns the EOAdaptor used by the receiver forcommunication with the database server. Your application can interactdirectly with the EOAdaptor, but should avoid altering its state(for example, by starting a transaction with one of its adaptorcontexts).<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/initWithAdaptor:">- initWithAdaptor:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/initWithModel:">- initWithModel:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "addModel_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/addModel:">addModel:</a></h3></a><p><code>- (void)<b>addModel:</b>(EOModel*)<em>aModel</em></code></p>Adds <em>aModel</em> tothe receiver's list of EOModels. This allows EODatabases to loadentities and their properties only as they're needed, by dividingthem among separate EOModels. <em>aModel</em> mustuse the same EOAdaptor as the receiver and use the same connectiondictionary as the receiver's other EOModels.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/addModelIfCompatible:">- addModelIfCompatible:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/models">- models</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/removeModel:">- removeModel:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "addModelIfCompatible_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/addModelIfCompatible:">addModelIfCompatible:</a></h3></a><p><code>- (BOOL)<b>addModelIfCompatible:</b>(EOModel*)<em>aModel</em></code></p>Adds <em>aModel</em> tothe receiver's list of EOModels, checking first to see whetherit's compatible with those other EOModels. Returns YES if <em>aModel</em> isalready in the list or if it's successfully added. Returns NO if <em>aModel</em>'sadaptor name differs from that of the receivers or if the receiver's  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/adaptor">adaptor</a> returns NO toa <b>canServiceModel:</b> message.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/addModel:">- addModel:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/models">- models</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/removeModel:">- removeModel:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "DAEDFDED"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/decrementSnapshotCountForGlobalID:">decrementSnapshotCountForGlobalID:</a></h3></a><p><code>- (void)<b>decrementSnapshotCountForGlobalID:</b>(EOGlobalID*)<em>globalId</em></code></p>If the receiver releases unreferenced snapshots,decrements the reference count for the shared snapshot associatedwith <em>globalID</em>; and if no more objectsrefer to the snapshot, removes it from the snapshot table. (If thereceiver doesn't release snapshots, this method does nothing.)<hr WIDTH=25% ALIGN=LEFT><a name = "entityForObject_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/entityForObject:">entityForObject:</a></h3></a><p><code>- (EOEntity *)<b>entityForObject:</b>(id)<em>anObject</em></code></p>Returns the EOEntity from one of the receiver'sModels that's mapped to <em>anObject</em>,or nil if there is no such EOEntity. This method works by sending <b>entityForObject:</b> messagesto each of the receiver's EOModels and returning the first onefound.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/entityNamed:">- entityNamed:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "entityNamed_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/entityNamed:">entityNamed:</a></h3></a><p><code>- (EOEntity *)<b>entityNamed:</b>(NSString*)<em>entityName</em></code></p>Returns the EOEntity from one of the receiver'sModels that's named <em>entityName</em>,or nil if there is no such EOEntity. This method works by sending <b>entityNamed:</b> messagesto each of the receiver's EOModels and returning the first onefound.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/entityForObject:">- entityForObject:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "forgetAllSnapshots"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/forgetAllSnapshots">forgetAllSnapshots</a></h3></a><p><code>- (void)<b>forgetAllSnapshots</b></code></p>Clears all of the receiver's snapshots andposts an <code>EOObjectsChangedInStoreNotification</code> (definedin the EOControl framework's EOObjectStore class) describing theinvalidated object. For a description of snapshots and their rolein an application, see the class description.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotForGlobalID:">- forgetSnapshotForGlobalID:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotsForGlobalIDs:">- forgetSnapshotsForGlobalIDs:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">- recordSnapshot:forGlobalID:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshots:">- recordSnapshots:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forSourceGlobalID:relationshipName:">- recordSnapshot:forSourceGlobalID:relationshipName:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordToManySnapshots:">- recordToManySnapshots:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "forgetSnapshotForGlobalID_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/forgetSnapshotForGlobalID:">forgetSnapshotForGlobalID:</a></h3></a><p><code>- (void)<b>forgetSnapshotForGlobalID:</b>(EOGlobalID*)<em>globalID</em></code></p>Clears the snapshot made for the enterpriseobject identified by <em>globalID</em> andposts an <code>EOObjectsChangedInStoreNotification</code> (definedin the EOControl framework's EOObjectStore class) describing theinvalidated object. For a description of snapshots and their rolein an application, see the class description.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotsForGlobalIDs:">- forgetSnapshotsForGlobalIDs:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetAllSnapshots">- forgetAllSnapshots</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">- recordSnapshot:forGlobalID:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "forgetSnapshotsForGlobalIDs_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/forgetSnapshotsForGlobalIDs:">forgetSnapshotsForGlobalIDs:</a></h3></a><p><code>- (void)<b>forgetSnapshotsForGlobalIDs:</b>(NSArray*)<em>globalIDs</em></code></p>Clears the snapshots made for the enterpriseobjects identified by each of the EOGlobalIDs in <em>globalIDs</em> andposts an EOObjectsChangedInStoreNotification (defined in the EOControlframework's EOObjectStore class) describing the invalidated objects.For a description of snapshots and their role in an application,see the class description.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotForGlobalID:">- forgetSnapshotForGlobalID:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetAllSnapshots">- forgetAllSnapshots</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshots:">- recordSnapshots:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "DAEEBADH"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/handleDroppedConnection">handleDroppedConnection</a></h3></a><p><code>- (void)<b>handleDroppedConnection</b></code></p>Invoked to initiate clean up when the Frameworkdetects a dropped database connection. The receiver cleans up bysending  <a frame= "conv" href="EOAdaptor.html#//apple_ref/occ/instm/EOAdaptor/handleDroppedConnection">handleDroppedConnection</a> to its adaptor,and then sending  <a frame= "conv" href="EODatabaseContext.html#//apple_ref/occ/instm/EODatabaseContext/handleDroppedConnection">handleDroppedConnection</a> to all ofits registered database contexts. When the cleanup procedure is complete,the Framework can automatically reconnect to the database.<p>Youshould never invoke this method; it's invoked automatically bythe Framework.</p><hr WIDTH=25% ALIGN=LEFT><a name = "DAEDFFIA"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/incrementSnapshotCountForGlobalID:">incrementSnapshotCountForGlobalID:</a></h3></a><p><code>- (void)<b>incrementSnapshotCountForGlobalID:</b>(EOGlobalID*)<em>globalId</em></code></p>Increments the reference count for the sharedsnapshot associated with <em>globalID</em> ifthe receiver releases unreferenced snapshots. (Does nothing if thereceiver doesn't release snapshots.)<hr WIDTH=25% ALIGN=LEFT><a name = "initWithAdaptor_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/initWithAdaptor:">initWithAdaptor:</a></h3></a><p><code>- <b>initWithAdaptor:</b>(EOAdaptor*)<em>anAdaptor</em></code></p>The designated initializer, this method initializesa newly allocated EODatabase with <em>anAdaptor</em> asits adaptor and returns <b>self</b>.<p>Typically,you don't need to programmatically create EODatabase objects.Rather, they are created automatically by the control layer. Seethe class description for more information. If you do need to createan EODatabase programmatically, you should never associate morethan one EODatabase with a given EOAdaptor. In general, use  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/initWithModel:">initWithModel:</a>,which automatically selects the adaptor.</p><hr WIDTH=25% ALIGN=LEFT><a name = "initWithModel_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/initWithModel:">initWithModel:</a></h3></a><p><code>- <b>initWithModel:</b>(EOModel*)<em>aModel</em></code></p>Initializes a newly allocated EODatabase bycreating an instance of EOAdaptor named in <em>aModel</em> and invoking  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/initWithAdaptor:">initWithAdaptor:</a>.Returns <b>self</b>. Typically, you don't needto programmatically create EODatabase objects. Rather, they arecreated automatically by the control layer. See the class descriptionfor more information.<p><b>See Also: </b>  <a frame= "conv" href="EOAdaptor.html#//apple_ref/occ/clm/EOAdaptor/adaptorWithModel:">+ adaptorWithModel:</a> ( <a frame= "conv" href="EOAdaptor.html#EOAdaptor">EOAdaptor</a>),  <a frame= "conv" href="EOModel.html#//apple_ref/occ/instm/EOModel/adaptorName">- adaptorName</a> ( <a frame= "conv" href="EOModel.html#CHGCHFGE">EOModel</a>)</p><hr WIDTH=25% ALIGN=LEFT><a name = "DAEEBGCF"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/invalidateResultCache">invalidateResultCache</a></h3></a><p><code>- (void)<b>invalidateResultCache</b></code></p>Invalidates the receiver's result cache. Seethe class description for more discussion of this topic.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/invalidateResultCacheForEntityNamed:">- invalidateResultCacheForEntityNamed:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/resultCacheForEntityNamed:">- resultCacheForEntityNamed:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "DAECAHIC"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/invalidateResultCacheForEntityNamed:">invalidateResultCacheForEntityNamed:</a></h3></a><p><code>- (void)<b>invalidateResultCacheForEntityNamed:</b>(NSString*)<em>entityName</em></code></p>Invalidates the result cache containing an arrayof globalIDs for the objects associated with the entity <em>entityName</em>.See the class description for more discussion of this topic.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/invalidateResultCache">- invalidateResultCache</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/resultCacheForEntityNamed:">- resultCacheForEntityNamed:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "DAECBAFD"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/models">models</a></h3></a><p><code>- (NSArray *)<b>models</b></code></p>Returns the receiver's EOModels.<p><b>SeeAlso: </b>   <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/initWithModel:">- initWithModel:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/addModel:">- addModel:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/addModelIfCompatible:">- addModelIfCompatible:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/removeModel:">- removeModel:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "recordSnapshot_forGlobalID_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">recordSnapshot:forGlobalID:</a></h3></a><p><code>- (void)<b>recordSnapshot:</b>(NSDictionary*)<em>aSnapshot</em><b>forGlobalID:</b>(EOGlobalID *)<em>globalID</em></code></p>Records <em>aSnapshot</em> under <em>globalID</em>.For a description of snapshots and their role in an application,see the class description.<p><b>See Also: </b>  <a frame= "conv" href="EOEntity.html#//apple_ref/occ/instm/EOEntity/globalIDForRow:">- globalIDForRow:</a> ( <a frame= "conv" href="EOEntity.html#DAJCFCGJ">EOEntity</a>),  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshots:">- recordSnapshots:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotForGlobalID:">- forgetSnapshotForGlobalID:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "recordSnapshot_forSourceGlobalID_relationshipName_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/recordSnapshot:forSourceGlobalID:relationshipName:">recordSnapshot:forSourceGlobalID:relationshipName:</a></h3></a><p><code>- (void)<b>recordSnapshot:</b>(NSArray*)<em>globalIDs</em><b>forSourceGlobalID:</b>(EOGlobalID*)<em>globalID</em><b>relationshipName:</b>(NSString *)<em>name</em></code></p>For the object identified by <em>globalID</em>,records an NSArray of <em>globalIDs</em> forthe to-many relationship named <em>name</em>.These <em>globalIDs</em> identify the objectsat the destination of the relationship. For a description of snapshotsand their role in an application, see the class description.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">- recordSnapshot:forGlobalID:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshots:">- recordSnapshots:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">- recordSnapshot:forGlobalID:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshotForSourceGlobalID:relationshipName:">- snapshotForSourceGlobalID:relationshipName:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "recordSnapshots_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/recordSnapshots:">recordSnapshots:</a></h3></a><p><code>- (void)<b>recordSnapshots:</b>(NSDictionary*)<em>snapshots</em></code></p>Records the snapshots in <em>snapshots</em>. <em>snapshots</em> isa dictionary whose keys are EOGlobalIDs and whose values are thesnapshots for those global IDs. For a description of snapshots andtheir role in an application, see the class description.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">- recordSnapshot:forGlobalID:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotsForGlobalIDs:">- forgetSnapshotsForGlobalIDs:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "recordToManySnapshots_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/recordToManySnapshots:">recordToManySnapshots:</a></h3></a><p><code>- (void)<b>recordToManySnapshots:</b>(NSDictionary*)<em>snapshots</em></code></p>Records the objects in <em>snapshots</em>. <em>snapshots</em> shouldbe an NSDictionary of NSDictionaries, in which the top-level dictionaryhas as its key the globaID of the enterprise object for which to-manyrelationships are being recorded. The key's value is a dictionarywhose keys are the names of the enterprise object's to-many relationships.Each of these keys in turn has as its value an array of globalIDsthat identify the objects at the destination of the relationship.For a description of snapshots and their role in an application,see the class description.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forSourceGlobalID:relationshipName:">- recordSnapshot:forSourceGlobalID:relationshipName:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">- recordSnapshot:forGlobalID:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshotForSourceGlobalID:relationshipName:">- snapshotForSourceGlobalID:relationshipName:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "registerContext_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/registerContext:">registerContext:</a></h3></a><p><code>- (void)<b>registerContext:</b>(EODatabaseContext*)<em>aContext</em></code></p>Records <em>aContext</em> asone of the receiver's EODatabaseContexts, without retaining it. <em>aContext</em> must havebeen created with the receiver using EODatabaseContext's  <a frame= "conv" href="EODatabaseContext.html#//apple_ref/occ/instm/EODatabaseContext/initWithDatabase:">initWithDatabase:</a> method,which invokes this method automatically. You should never need toinvoke this method directly.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/unregisterContext:">- unregisterContext:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/registeredContexts">- registeredContexts</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "DAECEEDC"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/registeredContexts">registeredContexts</a></h3></a><p><code>- (NSArray *)<b>registeredContexts</b></code></p>Returns all the EODatabaseContexts that havebeen registered with the receiver, generally all the database contextsthat were created with the receiver as their EODatabase object.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/registerContext:">- registerContext:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/unregisterContext:">- unregisterContext:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "removeModel_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/removeModel:">removeModel:</a></h3></a><p><code>- (void)<b>removeModel:</b>(EOModel*)<em>aModel</em></code></p>Removes <em>aModel</em> fromthe receiver's list of EOModels. Raises an exception if <em>aModel</em> isn'tone of the receiver's models.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/addModel:">- addModel:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/addModelIfCompatible:">- addModelIfCompatible:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/models">- models</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "DAEBGADH"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/resultCacheForEntityNamed:">resultCacheForEntityNamed:</a></h3></a><p><code>- (NSArray *)<b>resultCacheForEntityNamed:</b>(NSString*)<em>entityName</em></code></p>Returns an array containing the globalIDs ofthe objects associated with <em>entityName</em>.See the class description for more discussion of this topic.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/invalidateResultCache">- invalidateResultCache</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/invalidateResultCacheForEntityNamed:">- invalidateResultCacheForEntityNamed:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "setResultCache_forEntityNamed_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/setResultCache:forEntityNamed:">setResultCache:forEntityNamed:</a></h3></a><p><code>- (void)<b>setResultCache:</b>(NSArray*)<em>cache</em><b>forEntityNamed:</b>(NSString *)<em>entityName</em></code></p>Updates the receiver's cache for <em>entityName</em> with <em>cache</em>,an array of EOGlobalID objects, for all the enterprise objects associatedwith the EOEntity named<em> entityName</em>.This method is invoked automatically, and you should never needto invoke it directly. For more information on this topic, see theclass description.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/invalidateResultCache">- invalidateResultCache</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/invalidateResultCacheForEntityNamed:">- invalidateResultCacheForEntityNamed:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/resultCacheForEntityNamed:">- resultCacheForEntityNamed:</a></p><hr WIDTH=25% ALIGN=LEFT><BR><h3><a name="//apple_ref/occ/instm/EODatabase/setTimestampToNow">setTimestampToNow</a></h3><p><code>- (void)<b>setTimestampToNow</b></code></p>Sets the internal timestamp to the value returnedby NSDate's <b>timeIntervalSinceReferenceDate</b> method.Used for recording subsequent snapshots.<hr WIDTH=25% ALIGN=LEFT><a name = "snapshotForGlobalID_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/snapshotForGlobalID:">snapshotForGlobalID:</a></h3></a><p><code>- (NSDictionary *)<b>snapshotForGlobalID:</b>(EOGlobalID*)<em>globalID</em></code></p>Equivalent to invoking  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshotForGlobalID:after:">snapshotForGlobalID:after:</a> with  <a frame= "conv" href="#DAECIJFH">EODistantPastTimeInterval</a> asthe time interval, this method returns the snapshot associated with <em>globalID</em>.<hr WIDTH=25% ALIGN=LEFT><a name = "DAECJHCG"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/snapshotForGlobalID:after:">snapshotForGlobalID:after:</a></h3></a><p><code>- (NSDictionary *)<b>snapshotForGlobalID:</b>(EOGlobalID*)<em>globalId</em><b>after:</b>(NSTimeInterval)<em>timestamp</em></code></p>Returns the snapshot associated with <em>globalID</em>.Returns <code>nil</code> if thereisn't a snapshot for the globalID or if the corresponding timestampis less than timestamp. For a description of snapshots and theirrole in an application, see the class description.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forGlobalID:">- recordSnapshot:forGlobalID:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/forgetSnapshotForGlobalID:">- forgetSnapshotForGlobalID:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "snapshotForSourceGlobalID_relationshipName_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/snapshotForSourceGlobalID:relationshipName:">snapshotForSourceGlobalID:relationshipName:</a></h3></a><p><code>- (NSArray *)<b>snapshotForSourceGlobalID:</b>(EOGlobalID*)<em>globalID</em><b>relationshipName:</b>(NSString *)<em>name</em></code></p>Equivalent to invoking  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/snapshotForSourceGlobalID:relationshipName:after:">snapshotForSourceGlobalID:relationshipName:after:</a> with  <a frame= "conv" href="#DAECIJFH">EODistantPastTimeInterval</a> asthe time interval, this method returns the to-many snapshot for <em>globalId</em> and <em>name</em>.<hr WIDTH=25% ALIGN=LEFT><a name = "DAECAGFB"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/snapshotForSourceGlobalID:relationshipName:after:">snapshotForSourceGlobalID:relationshipName:after:</a></h3></a><p><code>- (NSArray *)<b>snapshotForSourceGlobalID:</b>(EOGlobalID*)<em>globalID</em><b>relationshipName:</b>(NSString *)<em>name</em><b>after:</b>(NSTimeInterval)<em>timestamp</em></code></p>Returns the to-many snapshot for <em>globalId</em> and <em>name</em>.A to-many snapshot is an array of globalIDs. These globalIDs identifythe objects at the destination of the to-many relationship named <em>name</em>,which is a property of the object identified by <em>globalID.</em> Returns <code>nil</code> ifthere isn't a to-many snapshot for <em>globalId</em> orif the timestamp is less than timestamp. For a description of snapshotsand their role in an application, see the class description.<hr WIDTH=25% ALIGN=LEFT><a name = "DAEDGCCC"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/snapshots">snapshots</a></h3></a><p><code>- (NSDictionary *)<b>snapshots</b></code></p>Returns all of the receiver's snapshots, storedin a dictionary under their EOGlobalIDs.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordSnapshot:forSourceGlobalID:relationshipName:">- recordSnapshot:forSourceGlobalID:relationshipName:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/recordToManySnapshots:">- recordToManySnapshots:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "DAEDBFBE"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/timestampForGlobalID:">timestampForGlobalID:</a></h3></a><p><code>- (NSTimeInterval)<b>timestampForGlobalID:</b>(EOGlobalID*)<em>globalId</em></code></p>Returns the timestamp of the snapshot for <em>globalID</em>.Returns <code>EODistantPastTimeInterval</code> ifthere isn't a snapshot.<hr WIDTH=25% ALIGN=LEFT><a name = "DAECJJDF"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/timestampForSourceGlobalID:relationshipName:">timestampForSourceGlobalID:relationshipName:</a></h3></a><p><code>- (NSTimeInterval)<b>timestampForSourceGlobalID:</b>(EOGlobalID*)<em>globalId</em><b>relationshipName:</b>(NSString *)<em>relationshipName</em></code></p>Returns the timestamp of the to-many snapshotfor the relationship specified by <em>relationshipName</em> and theobject specified by <em>globalID</em>. Returns <code>EODistantPastTimeInterval</code> ifthere isn't a snapshot.<hr WIDTH=25% ALIGN=LEFT><a name = "unregisterContext_"><BR><h3><a name="//apple_ref/occ/instm/EODatabase/unregisterContext:">unregisterContext:</a></h3></a><p><code>- (void)<b>unregisterContext:</b>(EODatabaseContext*)<em>aContext</em></code></p>Removes <em>aContext</em> asone of the receiver's EODatabaseContexts, without releasing it.An EODatabaseContext automatically invokes this method when it's deallocated;you should never need to invoke it directly.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/registerContext:">- registerContext:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODatabase/registeredContexts">- registeredContexts</a></p><hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../EOAccessTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>