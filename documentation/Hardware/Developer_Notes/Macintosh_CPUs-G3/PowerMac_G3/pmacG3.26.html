<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Custom ICs</TITLE></HEAD><BODY BGCOLOR="#ffffff"><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><table border="0" cellpadding="0" cellspacing="2" width="432">		<tr>	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">	<b>PATH<img src="../../../images/space.gif" width="6" height="12"></b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a --> 	<b>&gt;</b> Original Power Mac G3 Computers Developer Note		</font></td>	</tr>	</table><!-- end of path --><DIV><!-- top navigation --><P><A HREF="pmacG3.20.html"><img src="images/up.gif" border="0" alt="Up"></A> <A HREF="pmacG3.25.html"><img src="images/previous.gif" border="0" alt="Previous"></A> <A HREF="pmacG3.27.html"><img src="images/next.gif" border="0" alt="Next"></A> <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></a></div><!-- end top navigation --><hr><H1 CLASS="H2.Heading2"><A NAME="pgfId=698"> </A>Custom ICs</H1><P CLASS="T1.Text1"><A NAME="pgfId=228"> </A>The architecture of the main logic board is designed around five large custom integrated circuits: <A NAME="marker=103"> </A></P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=667"> </A>the Grackle memory controller and PCI bridge</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=256"> </A>the Heathrow I/O subsystem and DMA controller</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=217"> </A>the Screamer sound processor (on Audio/Video and Audio input/output cards, not on the main logic board)</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=247"> </A>the Cuda soft-power controller</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=294"> </A>the ATI 3D RAGE video subsystem (an ATI 3D RAGE II+DVD graphics controller is used on systems with the V4.0F2 ROM, an ATI 3D RAGE PRO graphics controller is used on systems with the V4.5F1 and V4.5F2 ROM)</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=274"> </A>The computer also uses several standard ICs that are used in other Macintosh computers. This section describes only the custom ICs. </P><DIV><H2 CLASS="H3nb.Heading3"><A NAME="pgfId=258"> </A>Grackle IC</H2><P CLASS="T1.Text1"><A NAME="pgfId=2955"> </A>The Grackle IC functions as the bridge between the PowerPC microprocessor bus and the I/O and graphics devices on the PCI bus. It provides buffering and address translation from one bus to the other. <A NAME="marker=2956"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=2957"> </A>The Grackle IC also provides the control and timing signals for ROM and RAM. The memory control logic supports byte, word, longword, and burst accesses to the system memory. If an access is not aligned to the appropriate address boundary, Grackle generates multiple data transfers on the bus. <A NAME="marker=3218"> </A></P><DIV><H4 CLASS="H4.Heading4"><A NAME="pgfId=2314"> </A>Memory Control</H4><P CLASS="T1.Text1"><A NAME="pgfId=2315"> </A>The Grackle IC controls the system RAM and ROM and provides address multiplexing and refresh signals for the DRAM devices. For information about the address multiplexing, see <A HREF="pmacG3.3a.html#36390" CLASS="XRef">RAM Address Multiplexing</A>. </P></DIV><DIV><H4 CLASS="H4.Heading4"><A NAME="pgfId=2293"> </A>PCI Bus Bridge<A NAME="marker=2292"> </A></H4><P CLASS="T1.Text1"><A NAME="pgfId=2294"> </A>The Grackle IC acts as a bridge between the processor bus and the PCI expansion bus, converting signals on one bus to the equivalent signals on the other bus. The PCI bridge functions are performed by two converters. One accepts requests from the processor bus and presents them to the PCI bus. The other converter accepts requests from the PCI bus and provides access to the RAM and ROM on the processor bus. </P><P CLASS="T1.Text1"><A NAME="pgfId=2296"> </A>The PCI bus bridge in the Grackle IC runs synchronously. The processor bus operates at a clock rate of 67&nbsp;MHz, and the PCI bus operates at 30 or 33&nbsp;MHz. </P><P CLASS="T1.Text1"><A NAME="pgfId=2297"> </A>The PCI bus bridge generates PCI parity as required by the PCI bus specification, but it does not check parity or respond to the parity error signal. </P></DIV></DIV><DIV><H2 CLASS="H3.Heading3"><A NAME="pgfId=259"> </A><A NAME="11221"> </A>Heathrow IC</H2><P CLASS="T1.Text1"><A NAME="pgfId=1420"> </A>The Heathrow IC is an I/O controller and DMA engine for Power Macintosh computers using the PCI bus architecture. <A NAME="marker=3217"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=2891"> </A>Heathrow also provides power-management control functions for energy saving features included on Power Macintosh computers. The Heathrow IC is connected to the PCI bus and uses the 30-33&nbsp;MHz PCI bus clock. </P><P CLASS="T1.Text1"><A NAME="pgfId=1466"> </A>The Heathrow IC includes circuitry equivalent to the Ethernet, IDE, SCC, SCSI, SWIM3, and VIA controller ICs. The functional blocks in the Heathrow IC include the following: <A NAME="marker=114"> </A></P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=1524"> </A>gated clocks PCI bus arbiter</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2900"> </A>system wide interrupt handling</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=1414"> </A>a SWIM3 floppy drive controller </LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=231"> </A>a MESH-based (Macintosh enhanced SCSI hardware) SCSI controller</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=295"> </A>SCC serial I/O controller </LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=296"> </A>IDE hard disk interface controller </LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=1549"> </A>sound control logic and buffers</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3120"> </A>10Base-T Ethernet controller</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=1363"> </A>The Heathrow IC provides bus interfaces for the following I/O devices:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=1364"> </A>ADB device controller</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3040"> </A>VIA system interface to the Cuda IC</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=1365"> </A>Screamer sound input and output IC</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=1946"> </A>8 KB nonvolatile RAM control <A NAME="marker=2718"> </A></LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=307"> </A>The SCSI controller cell in the Heathrow IC is an 8-bit MESH controller. The MESH cell supports data transfer rates of 5&nbsp;MB per second.</P><P CLASS="T1.Text1"><A NAME="pgfId=1518"> </A>The Heathrow IC also contains a serial interface and sound control logic for the Screamer&nbsp;sound IC on the Audio/Video and Audio input/output cards. </P><P CLASS="T1.Text1"><A NAME="pgfId=306"> </A>The 85C30 SCC cell in the Heathrow IC is an 8-bit device. The SCC circuitry supports serial and LocalTalk protocols. </P></DIV><DIV><H2 CLASS="H3.Heading3"><A NAME="pgfId=1555"> </A>Screamer Sound IC </H2><P CLASS="T1.Text1"><A NAME="pgfId=2999"> </A>The <B CLASS="bold">Screamer </B>custom IC combines a waveform amplifier with a 16-bit digital sound encoder and decoder (codec). The Screamer IC supports all of the audio input and output features on the Audio/Video and Audio input/output cards. The Screamer IC provides improved audio performance over the AWACS IC used in previous Macintosh computers. For additional information about the audio features of the Audio/Video and Audio input/output cards, see <A HREF="pmacG3.2d.html#12699" CLASS="XRef">Sound</A>. <A NAME="marker=3000"> </A></P></DIV><DIV><H2 CLASS="H3.Heading3"><A NAME="pgfId=4621"> </A>Burgundy Sound IC</H2><P CLASS="T1.Text1"><A NAME="pgfId=4622"> </A>The <B CLASS="bold">Burgundy </B>custom IC combines a waveform amplifier with an internal 18-bit digital sound codec (only 16 bits supported for analog to digital/digital to analog sound capture and playback). The Burgundy IC supports all of the audio input and output features on the DVD-Video and Audio/Video Card. The Burgundy IC provides improved audio performance over the Screamer IC used on the Audio/Video and Audio input/output cards. <A NAME="marker=4652"> </A></P></DIV><DIV><H2 CLASS="H3.Heading3"><A NAME="pgfId=3001"> </A>Cuda IC</H2><P CLASS="T1.Text1"><A NAME="pgfId=3034"> </A>The Cuda IC provides several system functions, including <A NAME="marker=3032"> </A><A NAME="marker=3033"> </A></P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3035"> </A>management of soft system resets; warm reset is controlled by the ADB cell in the Heathrow IC</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3036"> </A>management of the real-time clock </LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3037"> </A>software control of the power supply</LI></UL></DIV><DIV><H2 CLASS="H3.Heading3"><A NAME="pgfId=283"> </A>Graphics Controller</H2><P CLASS="T1.Text1"><A NAME="pgfId=244"> </A>The ATI 3D RAGE graphics controller contains the logic for the video display. It&nbsp;includes the following functions:<A NAME="marker=187"> </A></P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=2381"> </A>architecture optimized to support high-speed SGRAM video memory</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3142"> </A>display memory controller, built-in drawing coprocessor, video scaler, color space converter, clock generator, and true color palette video DAC (digital-to-analog converter)</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2382"> </A>video CLUT (color lookup table)</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2383"> </A>hardware graphics acceleration with a 16-bit Z-buffer</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2529"> </A>accelerates QuickDraw 3D rendering up to 6 times that of software-only acceleration</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2384"> </A>true color palette DAC supporting pixel clock rates to 200 MHz for 1600 by 1200 resolution at 75&nbsp;Hz</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2385"> </A>graphics and video line buffer for superior video scaling and playback quality</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2386"> </A>hardware cursor up to 64 x 64 x 2</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2387"> </A>DDC1 and DDC2B+ for plug-and-play monitor support</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2389"> </A>supports synchronous graphics RAM (SGRAM)</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=2762"> </A>graphics control accessible through the QuickDraw, QuickDraw 3D, QuickDraw&nbsp;3D&nbsp;RAVE, and QuickTime components APIs</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=2390"> </A>A separate data bus handles data transfers between the ATI 3D RAGE graphics controller and the display memory. The display memory data bus is 64 bits wide, and all data transfers consist of 32 bits at a time. The ATI 3D RAGE IC breaks each 64-bit data transfer into several pixels of the appropriate size for the current display mode--4, 8, 16, 24, or 32&nbsp;bits per pixel. <A NAME="marker=2391"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3793"> </A>The ATI 3D RAGE graphics controller uses several clocks. Its transactions are synchronized with the PCI bus. Data transfers from the frame-buffer RAM are clocked by the MEM_CLK signal. Data transfers to the CLUT and the video output are clocked by the dot clock, which has a different rate for different display monitors. </P><P CLASS="T1.Text1"><A NAME="pgfId=2393"> </A>The 2D graphics accelerator is a fixed-function accelerator for rectangle fill, line draw, polygon fill, panning/scrolling, bit masking, monochrome expansion, and scissoring. </P></DIV><HR>\xA9 1998 Apple Computer, Inc. - Revised 8/13/98<P><A HREF="pmacG3.20.html"><img src="images/up.gif" border="0" alt="Up"></A> <A HREF="pmacG3.25.html"><img src="images/previous.gif" border="0" alt="Previous"></A> <A HREF="pmacG3.27.html"><img src="images/next.gif" border="0" alt="Next"></A>  <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!-- document.write(frameLink);//--></script><!-- end Show/Hide frames --></a></P> <!--start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>