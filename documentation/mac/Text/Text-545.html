<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Intl1Rec Data Type(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING545></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-544.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-546.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-531.html"><B>Appendix B - International Resources</B></A> / <A HREF="Text-544.html"><B>Long-Date-Format Resource (Type 'itl1')</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING545-0></A>
<H2>The Intl1Rec Data Type</H2>
 <A NAME=MARKER-2-217></A>You can access the contents of the long-date-format resource through the <BR>Intl1Rec data type.<P>
<PRE>
TYPE Intl1Rec = 
PACKED RECORD
   days:          ARRAY[1..7] OF Str15;   {day names}
   months:        ARRAY[1..12] OF Str15;  {month names}
   suppressDay:   Byte;                   {elements to suppress}
   lngDateFmt:    Byte;                   {order of elements}
   dayLeading0:   Byte;                   {leading 0 in day no.?}
   abbrLen:       Byte;                   {abbreviation length}
   st0:           PACKED ARRAY[1..4] OF Char;   {separator string}
   st1:           PACKED ARRAY[1..4] OF Char;   {separator string}
   st2:           PACKED ARRAY[1..4] OF Char;   {separator string}
   st3:           PACKED ARRAY[1..4] OF Char;   {separator string}
   st4:           PACKED ARRAY[1..4] OF Char;   {separator string}
   intl1Vers:     Integer;                {version &amp; region}
   localRtn:      ARRAY[0..0] OF Integer; {flag for extended itl1}
END;
TYPE Intl1Ptr = ^Intl1Rec;
TYPE Intl1Hndl = ^Intl1Ptr;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE><A NAME=MARKER-2-87></A>days</CODE>
<DD> <A NAME=MARKER-2-219></A>An array of 7 day names (ordered for days corresponding to Sunday through Saturday). Each day name may consist of a maximum of 15 characters.
<DT><CODE><A NAME=MARKER-2-88></A>months</CODE>
<DD> <A NAME=MARKER-9-89></A>An array of 12 month names (ordered for months corresponding to January through December). Each month name may consist of a maximum of 15 characters.
<DT><CODE><A NAME=MARKER-21-90></A>suppressDay</CODE>
<DD> <A NAME=MARKER-2-91></A>A byte that lets you omit any element in the long date. To include the day name in the long date, you set the field to 0. To suppress the day name, set the field to 255 ($FF).
<DT>
<DD> If the value does not equal 0 or $FF, this field is treated as bit flags. You can use the following predefined constants as masks to set the appropriate bits in the <CODE>suppressDay</CODE> byte.
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Constant<TH>Value<TH>Explanation<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-34></A>supDay<TD>1<TD>Suppress day of month<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-35></A>supWeek<TD>2<TD>Suppress day name<TR>
<TD>&nbsp;<TD><A NAME=MARKER-9-92></A>supMonth<TD>4<TD>Suppress month<TR>
<TD>&nbsp;<TD><A NAME=MARKER-21-93></A>supYear<TD>8<TD>Suppress year</TABLE>

<DT>
<DD> Note that a value of 2 is same as a value of $FF in this field.
<DT><CODE><A NAME=MARKER-2-224></A>lngDateFmt</CODE> 
<DD> <A NAME=MARKER-2-225></A>The byte that indicates the order of long date elements. If the byte value of the field is neither 0 (which specifies an order of day/month/year) nor $FF (which specifies an order of month/day/year), then its value is divided into 4 fields of 2 bits each. The least significant bit field (bits 0 and 1) corresponds to the first element in the long date format, whereas the most significant bit field (bits 6 and 7) specifies the last (fourth) element in the format. You can use the following predefined constants to set each bit field to the appropriate value.
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Constant<TH>Value<TH>Explanation<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-38></A>longDay<TD>0<TD>Day of the month<TR>
<TD>&nbsp;<TD><A NAME=MARKER-9-94></A>longWeek<TD>1<TD>Day of the week<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-40></A>longMonth<TD>2<TD>Month<TR>
<TD>&nbsp;<TD><A NAME=MARKER-2-41></A>longYear<TD>3<TD>Year</TABLE>

<DT>
<DD> Note that these constants represent values for the 2-bit field, and are neither masks nor bit numbers. For example, suppose you wanted long dates to appear in this order: day of the week, day of the month, month, and year. You would set the value of <CODE>longDateFmt</CODE> like this:
</DL>
<PRE>
               longDateFmt :=
                  longWeek*1     {sets bits 0 and 1}
                  + LongDay*4    {sets bits 2 and 3}
                  + longMonth*16 {sets bits 4 and 5}
                  + longYear*64; {sets bits 6 and 7}
</PRE>
<DL>
<DT><A NAME=MARKER-2-95></A>dayLeading0
<DD> <A NAME=MARKER-2-96></A>If 255 ($FF), specifies a leading zero in a day number. If 0, no leading zero is included in the day number.
<DT><A NAME=MARKER-2-228></A>abbrLen
<DD> The number of characters to which month and day names should be abbreviated when abbreviation is desired.
<DT><CODE><A NAME=MARKER-2-229></A>st0</CODE>
<DD> String that precedes (in memory) the first element in a long date. See <A HREF=#MARKER-9-42>Table B-5</A> and <A HREF=#MARKER-9-237>Figure B-3</A>.
<DT><CODE><A NAME=MARKER-2-230></A>st1</CODE>
<DD> String that separates the first and second elements in a long date. See <A HREF=#MARKER-9-42>Table B-5</A> and <A HREF=#MARKER-9-237>Figure B-3</A>. This string is suppressed if the first element in the long date is suppressed.
<DT><CODE><A NAME=MARKER-2-231></A>st2</CODE>
<DD> String that separates the second and third elements in a long date. See <A HREF=#MARKER-9-42>Table B-5</A> and <A HREF=#MARKER-9-237>Figure B-3</A>. This string is suppressed if the second element in the long date is suppressed.
<DT><CODE><A NAME=MARKER-2-232></A>st3</CODE>
<DD> String that separates the third and fourth elements in a long date. See <A HREF=#MARKER-9-42>Table B-5</A> and <A HREF=#MARKER-9-237>Figure B-3</A>. This string is suppressed if the third element in the long date is suppressed.
<DT><CODE><A NAME=MARKER-2-233></A>st4</CODE>
<DD> String that follows the fourth element in a long date. See <A HREF=#MARKER-9-42>Table B-5</A> and <A HREF=#MARKER-9-237>Figure B-3</A>. This string is suppressed if the fourth element in the long date is suppressed.<CODE>
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-42></A><B>Table B-5 Separator positions in long date format</B></CAPTION>
<TH><B>lngDateFmt</B><TH colspan=2>Long date format<TH>&nbsp;<TH>&nbsp;<TH>&nbsp;<TR>
<TD>0<TD><CODE>st0 <I>day name</I></CODE><TD><CODE>st1 <I>day</I></CODE><TD><CODE>st2 <I>month</I></CODE><TD><CODE>st3 <I>year</I></CODE><TD><CODE>st4</CODE><TR>
<TD>255<TD><CODE>st0 <I>day name</I></CODE><TD><CODE>st1 <I>month</I></CODE><TD><CODE>st2 <I>day</I></CODE><TD><CODE>st3 <I>year</I></CODE><TD><A NAME=MARKER-2-43></A><CODE>st4</CODE></TABLE>
</CODE>
<DT><CODE><A NAME=MARKER-2-234></A>intl1Vers</CODE>
<DD> <A NAME=MARKER-9-107></A>Region code and version number. The code number of the region that this resource applies to is in the high-order byte, and the version number of this long-date-format resource is in the low-order byte.
<DT><CODE><A NAME=MARKER-21-108></A>localRtn</CODE>
<DD> Originally designed to contain a routine that localizes sorting order; now unused for that purpose. If an extended long-date-format resource is available (see the next section), this field contains the hexadecimal value $A89F as the first word.
</DL>
 <A HREF=#MARKER-9-237>Figure B-3</A> gives two examples of how the Text Utilities routines format dates based on the fields in the numeric-format resource. The examples assume that the <CODE>suppressDay</CODE> and <CODE>dayLeading0</CODE> fields contain 0. If the <CODE>SuppressDay</CODE> field contains a value of 255, the formatting routines omit the day and the punctuation indicated in the <CODE>st1</CODE> field. If the <CODE>dayLeading0</CODE> field contains a value of 255, the Text Utilities place a 0 before day numbers less than 10.<P>
<B>Figure B-3  <A NAME=MARKER-9-237></A>Examples of long date formatting<A NAME=MARKER-9-110></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IR_L-03.jpg">
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-544.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-546.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
