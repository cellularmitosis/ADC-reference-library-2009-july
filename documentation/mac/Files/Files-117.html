<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>HFS Parameter Block (IM: F)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING117></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Files-116.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-118.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Files-2.html"><B>Files</B></A> / <BR><DD><A HREF="Files-72.html"><B>Chapter 2 - File Manager</B></A> / <A HREF="Files-113.html"><B>File Manager Reference</B></A><BR><DL><DD><A HREF="Files-114.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING117-0></A>
<H3>HFS Parameter Block</H3>
 Most of the low-level HFS functions exchange information with your application using the HFS parameter block, defined by the HParamBlockRec data type.<A NAME=MARKER-2-798></A><P>
<PRE>
TYPE HParamBlockRec     =              {HFS parameter block}
   RECORD
      qLink:            QElemPtr;      {next queue entry}
      qType:            Integer;       {queue type}
      ioTrap:           Integer;       {routine trap}
      ioCmdAddr:        Ptr;           {routine address}
      ioCompletion:     ProcPtr;       {pointer to completion routine}
      ioResult:         OSErr;         {result code}
      ioNamePtr:        StringPtr;     {pointer to pathname}
      ioVRefNum:        Integer;       {volume specification}
   CASE ParamBlkType OF
   ioParam:
     (ioRefNum:         Integer;       {file reference number}
      ioVersNum:        SignedByte;    {version number}
      ioPermssn:        SignedByte;    {read/write permission}
      ioMisc:           Ptr;           {miscellaneous}
      ioBuffer:         Ptr;           {data buffer}
      ioReqCount:       LongInt;       {requested number of bytes}
      ioActCount:       LongInt;       {actual number of bytes}
      ioPosMode:        Integer;       {positioning mode and newline char.}
      ioPosOffset:      LongInt);      {positioning offset}
   fileParam:
     (ioFRefNum:        Integer;       {file reference number}
      ioFVersNum:       SignedByte;    {file version number (unused)}
      filler1:          SignedByte;    {reserved}
      ioFDirIndex:      Integer;       {directory index}
      ioFlAttrib:       SignedByte;    {file attributes}
      ioFlVersNum:      SignedByte;    {file version number (unused)}
      ioFlFndrInfo:     FInfo;         {information used by the Finder}
      ioDirID:          LongInt;       {directory ID or file ID}
      ioFlStBlk:        Integer;       {first alloc. blk. of data fork}
      ioFlLgLen:        LongInt;       {logical EOF of data fork}
      ioFlPyLen:        LongInt;       {physical EOF of data fork}
      ioFlRStBlk:       Integer;       {first alloc. blk. of resource fork}
      ioFlRLgLen:       LongInt;       {logical EOF of resource fork}
      ioFlRPyLen:       LongInt;       {physical EOF of resource fork}
      ioFlCrDat:        LongInt;       {date and time of creation}
      ioFlMdDat:        LongInt);      {date and time of last modification}
   volumeParam:
     (filler2:          LongInt;       {reserved}
      ioVolIndex:       Integer;       {volume index}
      ioVCrDate:        LongInt;       {date and time of initialization}
      ioVLsMod:         LongInt;       {date and time of last modification}
      ioVAtrb:          Integer;       {volume attributes}
      ioVNmFls:         Integer;       {number of files in root directory}
      ioVBitMap:        Integer;       {first block of volume bitmap}
      ioAllocPtr:       Integer;       {first block of next new file}
      ioVNmAlBlks:      Integer;       {number of allocation blocks}
      ioVAlBlkSiz:      LongInt;       {size of allocation blocks}
      ioVClpSiz:        LongInt;       {default clump size}
      ioAlBlSt:         Integer;       {first block in volume map}
      ioVNxtCNID:       LongInt;       {next unused node ID}
      ioVFrBlk:         Integer;       {number of unused allocation blocks}
      ioVSigWord:       Integer;       {volume signature}
      ioVDrvInfo:       Integer;       {drive number}
      ioVDRefNum:       Integer;       {driver reference number}
      ioVFSID:          Integer;       {file-system identifier}
      ioVBkUp:          LongInt;       {date and time of last backup}
      ioVSeqNum:        Integer;       {used internally}
      ioVWrCnt:         LongInt;       {volume write count}
      ioVFilCnt:        LongInt;       {number of files on volume}
      ioVDirCnt:        LongInt;       {number of directories on volume}
      ioVFndrInfo:      ARRAY[1..8] OF LongInt);
                                       {information used by the Finder}
   accessParam:
     (filler3:          Integer;       {reserved}
      ioDenyModes:      Integer;       {access mode information}
      filler4:          Integer;       {reserved}
      filler5:          SignedByte;    {reserved}
      ioACUser:         SignedByte;    {user access rights}
      filler6:          LongInt;       {reserved}
      ioACOwnerID:      LongInt;       {owner ID}
      ioACGroupID:      LongInt;       {group ID}
      ioACAccess:       LongInt);      {directory access rights}
   objParam:
     (filler7:          Integer;       {reserved}
      ioObjType:        Integer;       {function code}
      ioObjNamePtr:     Ptr;           {ptr to returned creator/group name}
      ioObjID:          LongInt);      {creator/group ID}
   copyParam:
     (ioDstVRefNum:     Integer;       {destination volume identifier}
      filler8:          Integer;       {reserved}
      ioNewName:        Ptr;           {pointer to destination pathname}
      ioCopyName:       Ptr;           {pointer to optional name}
      ioNewDirID:       LongInt);      {destination directory ID}
   wdParam:
     (filler9:          Integer;       {reserved}
      ioWDIndex:        Integer;       {working directory index}
      ioWDProcID:       LongInt;       {working directory user identifier}
      ioWDVRefNum:      Integer;       {working directory's vol. ref. num.}
      filler10:         Integer;       {reserved}
      filler11:         LongInt;       {reserved}
      filler12:         LongInt;       {reserved}
      filler13:         LongInt;       {reserved}
      ioWDDirID:        LongInt);      {working directory's directory ID}
   fidParam:
     (filler14:         LongInt;       {reserved}
      ioDestNamePtr:    StringPtr;     {pointer to destination filename}
      filler15:         LongInt;       {reserved}
      ioDestDirID:      LongInt;       {destination parent directory ID}
      filler16:         LongInt;       {reserved}
      filler17:         LongInt;       {reserved}
      ioSrcDirID:       LongInt;       {source parent directory ID}
      filler18:         Integer;       {reserved}
      ioFileID:         LongInt);      {file ID}
   csParam:
     (ioMatchPtr:       FSSpecArrayPtr;{pointer to array of matches}
      ioReqMatchCount:  LongInt;       {max. number of matches to return}
      ioActMatchCount:  LongInt;       {actual number of matches}
      ioSearchBits:     LongInt;       {enable bits for matching rules}
      ioSearchInfo1:    CInfoPBPtr;    {pointer to values and lower bounds}
      ioSearchInfo2:    CInfoPBPtr;    {pointer to masks and upper bounds}
      ioSearchTime:     LongInt;       {maximum time to search}
      ioCatPosition:    CatPositionRec;{current catalog position}
      ioOptBuffer:      Ptr;           {pointer to optional read buffer}
      ioOptBufSize:     LongInt);      {length of optional read buffer}
   foreignPrivParam:
     (filler21:               LongInt;    {reserved}
      filler22:               LongInt;    {reserved}
      ioForeignPrivBuffer:    Ptr;        {privileges data buffer}
      ioForeignPrivReqCount:  LongInt;    {size of buffer}
      ioForeignPrivActCount:  LongInt;    {amount of buffer used}
      filler23:               LongInt;    {reserved}
      ioForeignPrivDirID:     LongInt;    {parent directory ID of }
                                          { foreign file or directory}
      ioForeignPrivInfo1:     LongInt;    {privileges data}
      ioForeignPrivInfo2:     LongInt;    {privileges data}
      ioForeignPrivInfo3:     LongInt;    {privileges data}
      ioForeignPrivInfo4:     LongInt);   {privileges data}
   END;
</PRE>
 The first eight fields are common to all ten variants. Each variant also includes its own unique fields.<P>
<B>Field descriptions common to all variants</B><P>
<DL>
<DT><CODE>qLink</CODE>
<DD> A pointer to the next entry in the file I/O queue. (This field is used internally by the File Manager to keep track of asynchronous calls awaiting execution.)
<DT><CODE>qType</CODE>
<DD> The queue type. (This field is used internally by the File Manager.)
<DT><CODE>ioTrap</CODE>
<DD> The trap number of the routine that was called. (This field is used internally by the File Manager.)
<DT><CODE>ioCmdAddr</CODE>
<DD> The address of the routine that was called. (This field is used internally by the File Manager.)
<DT><CODE>ioCompletion</CODE>
<DD> A pointer to a completion routine to be executed at the end of an asynchronous call. It should be <CODE>NIL</CODE> for asynchronous calls with <BR>no completion routine and is automatically set to <CODE>NIL</CODE> for all synchronous calls. See <A HREF=Files-299.html#MARKER-9-1483>"Completion Routines" on page 2-238</A> for information about completion routines.
<DT><CODE><A NAME=MARKER-2-178></A>ioResult</CODE>
<DD> The result code of the function. For synchronous calls, this field is the same as the result code of the function call itself. To determine when an asynchronous call has actually been completed, your application can poll this field; it's set to a positive number when <BR>the call is made and receives the actual result code when the call <BR>is completed.
<DT><CODE>ioNamePtr</CODE>
<DD> A pointer to a pathname. Whenever a routine description specifies that <CODE>ioNamePtr</CODE> is used--whether for input, output, or both--it's very important that you set this field to point to storage for a <CODE>Str255</CODE> value (if you're using a pathname) or to <CODE>NIL</CODE> (if you're not).
<DT><CODE>ioVRefNum</CODE>
<DD> A volume specification (volume reference number, working directory reference number, drive number, or 0 for default volume).
</DL>
<B>Field descriptions for the <CODE>ioParam</CODE> variant</B><P>
<DL>
<DT>ioRefNum
<DD> The file reference number of an open file.
<DT><CODE><A NAME=MARKER-2-808></A>ioVersNum</CODE>
<DD> A version number. This field is no longer used and you should always set it to 0.
<DT><CODE><A NAME=MARKER-2-809></A>ioPermssn</CODE>
<DD> The access mode.
<DT><CODE><A NAME=MARKER-2-810></A>ioMisc</CODE>
<DD> Depends on the routine called. This field contains either a new logical end-of-file, a new version number, a pointer to an access path buffer, or a pointer to a new pathname. Because <CODE>ioMisc</CODE> is of type <CODE>Ptr</CODE>, you'll need to perform type coercion to interpret the value of <CODE>ioMisc</CODE> correctly when it contains an end-of-file (a <CODE>LongInt</CODE> value) or version number (a <CODE>SignedByte</CODE> value).
<DT><CODE><A NAME=MARKER-2-811></A>ioBuffer</CODE>
<DD> A pointer to a data buffer into which data is written by <CODE>_Read</CODE> calls and from which data is read by <CODE>_Write</CODE> calls.
<DT><CODE><A NAME=MARKER-2-812></A>ioReqCount</CODE>
<DD> The requested number of bytes to be read, written, or allocated.
<DT><CODE><A NAME=MARKER-2-813></A>ioActCount</CODE>
<DD> The number of bytes actually read, written, or allocated.
<DT><CODE><A NAME=MARKER-2-814></A>ioPosMode</CODE>
<DD> The positioning mode for setting the mark. Bits 0 and 1 of this field indicate how to position the mark; you can use the following predefined constants to set or test their value:
</DL>
<PRE>
               CONST
                  fsAtMark       =  0; {at current mark}
                  fsFromStart    =  1; {from beginning of file}
                  fsFromLEOF     =  2; {from logical end-of-file}
                  fsFromMark     =  3; {relative to current mark}
</PRE>
<DL>
<DT>
<DD> You can set bit 4 of the <CODE>ioPosMode</CODE> field to request that the data be cached, and you can set bit 5 to request that the data not be cached. You can set bit 6 to request that any data written be immediately read; this ensures that the data written to a volume exactly matches the data in memory. To request a read-verify operation, add the following constant to the positioning mode:
</DL>
<PRE>
               CONST
                  rdVerify       =  64;   {use read-verify mode}
</PRE>
<DL>
<DT>
<DD> You can set bit 7 to read a continuous stream of bytes, and place the ASCII code of a newline character in the high-order byte to terminate a read operation at the end of a line.
<DT><CODE><A NAME=MARKER-2-817></A>ioPosOffset</CODE>
<DD> The offset to be used in conjunction with the positioning mode. 
</DL>
<B>Field descriptions for the <CODE>fileParam</CODE> variant</B><P>
<DL>
<DT><CODE>ioFRefNum</CODE>
<DD> The file reference number of an open file.
<DT><CODE>ioFVersNum</CODE>
<DD> A file version number. This field is no longer used and you should always set it to 0.
<DT><CODE>filler1</CODE>
<DD> Reserved.
<DT><CODE>ioFDirIndex</CODE>
<DD> An index for use with the <CODE>PBHGetFInfo</CODE> function.
<DT><CODE>ioFlAttrib</CODE>
<DD> File attributes. The bits in this field have these meanings:<CODE>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Bit<TH>Meaning<TR>
<TD>&nbsp;<TD>0<TD>Set if file is locked<TR>
<TD>&nbsp;<TD>2<TD>Set if resource fork is open <TR>
<TD>&nbsp;<TD>3<TD>Set if data fork is open<TR>
<TD>&nbsp;<TD>4<TD>Set if a directory<TR>
<TD>&nbsp;<TD>7<TD>Set if file (either fork) is open</TABLE>
</CODE>
<DT><CODE><A NAME=MARKER-2-823></A>ioFlVersNum</CODE>
<DD> A file version number. This field is no longer used and you should always set it to 0.
<DT><CODE>ioFlFndrInfo</CODE>
<DD> Information used by the Finder.
<DT><CODE>ioDirID</CODE>
<DD> A directory ID.
<DT><CODE>ioFlStBlk</CODE>
<DD> The first allocation block of the data fork. This field contains 0 if the file's data fork is empty.
<DT><CODE>ioFlLgLen</CODE>
<DD> The logical end-of-file of the data fork.
<DT><CODE>ioFlPyLen</CODE>
<DD> The physical end-of-file of the data fork.
<DT><CODE>ioFlRStBlk</CODE>
<DD> The first allocation block of the resource fork.
<DT><CODE>ioFlRLgLen</CODE>
<DD> The logical end-of-file of the resource fork.
<DT><CODE>ioFlRPyLen</CODE>
<DD> The physical end-of-file of the resource fork.
<DT><CODE>ioFlCrDat</CODE>
<DD> The date and time of the file's creation, specified in seconds since midnight, January 1, 1904.
<DT><CODE>ioFlMdDat</CODE>
<DD> The date and time of the last modification to the file, specified in seconds since midnight, January 1, 1904.
</DL>
<B>Field descriptions for the <CODE>volumeParam</CODE> variant</B><P>
<DL>
<DT><CODE>filler2</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-835></A>ioVolIndex</CODE>
<DD> An index for use with the <CODE>PBHGetVInfo</CODE> function.
<DT><CODE><A NAME=MARKER-2-836></A>ioVCrDate</CODE>
<DD> The date and time of volume initialization.
<DT><CODE><A NAME=MARKER-2-837></A>ioVLsMod</CODE>
<DD> The date and time the volume information was last modified. (This field is not changed when information is written to a file and does not necessarily indicate when the volume was flushed.)
<DT><CODE><A NAME=MARKER-2-838></A>ioVAtrb</CODE>
<DD> The volume attributes.
<DT><CODE><A NAME=MARKER-2-839></A>ioVNmFls</CODE>
<DD> The number of files in the root directory.
<DT><CODE><A NAME=MARKER-2-840></A>ioVBitMap</CODE>
<DD> The first block of the volume bitmap.
<DT><CODE><A NAME=MARKER-2-841></A>ioAllocPtr</CODE>
<DD> The block at which the next new file starts. Used internally.
<DT><CODE><A NAME=MARKER-2-842></A>ioVNmAlBlks</CODE>
<DD> The number of allocation blocks.
<DT><CODE><A NAME=MARKER-2-843></A>ioVAlBlkSiz</CODE>
<DD> The size of allocation blocks.
<DT><CODE><A NAME=MARKER-2-844></A>ioVClpSiz</CODE>
<DD> The clump size.
<DT><CODE><A NAME=MARKER-2-845></A>ioAlBlSt</CODE>
<DD> The first block in the volume map.
<DT><CODE><A NAME=MARKER-2-846></A>ioVNxtCNID</CODE>
<DD> The next unused catalog node ID.
<DT><CODE><A NAME=MARKER-2-847></A>ioVFrBlk</CODE>
<DD> The number of unused allocation blocks.
<DT><CODE><A NAME=MARKER-2-848></A>ioVSigWord</CODE>
<DD> A signature word identifying the type of volume; it's $D2D7 for MFS volumes and $4244 for volumes that support HFS calls.
<DT><CODE><A NAME=MARKER-2-849></A>ioVDrvInfo</CODE>
<DD> The drive number of the drive containing the volume.
<DT><CODE><A NAME=MARKER-2-850></A>ioVDRefNum</CODE>
<DD> For online volumes, the reference number of the I/O driver for the drive identified by <CODE>ioVDrvInfo</CODE>.
<DT><CODE><A NAME=MARKER-2-851></A>ioVFSID</CODE>
<DD> The file-system identifier. It indicates which file system is servicing the volume; it's zero for File Manager volumes and nonzero for volumes handled by an external file system.
<DT><CODE><A NAME=MARKER-2-852></A>ioVBkUp</CODE>
<DD> The date and time the volume was last backed up (it's 0 if never backed up).
<DT><CODE><A NAME=MARKER-2-853></A>ioVSeqNum</CODE>
<DD> Used internally.
<DT><CODE><A NAME=MARKER-2-854></A>ioVWrCnt</CODE>
<DD> The volume write count.
<DT><CODE><A NAME=MARKER-2-855></A>ioVFilCnt</CODE>
<DD> The total number of files on the volume.
<DT><CODE><A NAME=MARKER-2-856></A>ioVDirCnt</CODE>
<DD> The total number of directories (not including the root directory) on the volume.
<DT><CODE><A NAME=MARKER-2-857></A>ioVFndrInfo</CODE>
<DD> Information used by the Finder.
</DL>
<B>Field descriptions for the <CODE>accessParam</CODE> variant</B><P>
<DL>
<DT><CODE>filler3</CODE>
<DD> <DFN>Reserved.</DFN>
<DT><CODE><A NAME=MARKER-2-859></A>ioDenyModes</CODE>
<DD> Access mode information. The bits in this field have these meanings:<CODE>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Bit<TH>Meaning<TR>
<TD>&nbsp;<TD>0<TD>If set, request read permission<TR>
<TD>&nbsp;<TD>1<TD>If set, request write permission<TR>
<TD>&nbsp;<TD>2-3<TD>Reserved; must be 0<TR>
<TD>&nbsp;<TD>4<TD>If set, deny other readers access to this file<TR>
<TD>&nbsp;<TD>5<TD>If set, deny other writers access to this file<TR>
<TD>&nbsp;<TD>6-15<TD>Reserved; must be 0</TABLE>
</CODE>
<DT><CODE><A NAME=MARKER-2-860></A>filler4</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-861></A>filler5</CODE>
<DD> Reserved.
<DT><CODE>ioACUser</CODE>
<DD> The user's access rights for the specified directory. The bits in this field have the following meanings:<CODE>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Bit<TH>Meaning<TR>
<TD>&nbsp;<TD>0<TD>Set if user does not have See Folder privileges<TR>
<TD>&nbsp;<TD>1<TD>Set if user does not have See Files privileges<TR>
<TD>&nbsp;<TD>2<TD>Set if user does not have Make Changes privileges<TR>
<TD>&nbsp;<TD>3-6<TD>Reserved; always set to 0<TR>
<TD>&nbsp;<TD>7<TD>Set if user is not owner of the directory</TABLE>
</CODE>
<DT><CODE><A NAME=MARKER-2-863></A>filler6</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-864></A>ioACOwnerID</CODE>
<DD> The owner ID.
<DT><CODE><A NAME=MARKER-2-865></A>ioACGroupID</CODE>
<DD> The group ID.
<DT><CODE><A NAME=MARKER-2-866></A>ioACAccess</CODE>
<DD> The directory access privileges. See the section <A HREF=Files-78.html#MARKER-9-246>"Directory Access Privileges,"</A> beginning on <A HREF=Files-78.html#MARKER-9-246>page 2-18</A>, for a complete description of this field.<A NAME=MARKER-2-867></A>
</DL>
<B>Field descriptions for the <CODE>objParam</CODE> variant</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-868></A>filler7</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-869></A>ioObjType</CODE>
<DD> A function code. The values passed in this field are determined by the routine to which you pass this parameter block.
<DT><CODE><A NAME=MARKER-2-870></A>ioObjNamePtr</CODE>
<DD> A pointer to the returned creator/group name.
<DT><CODE><A NAME=MARKER-2-871></A>ioObjID</CODE>
<DD> The creator/group ID.
</DL>
<B>Field descriptions for the <CODE>copyParam</CODE> variant</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-872></A>ioDstVRefNum</CODE>
<DD> A volume reference number for the destination volume.
<DT><CODE><A NAME=MARKER-2-873></A>filler8</CODE>
<DD> Reserved.
<DT><CODE>ioNewName</CODE>
<DD> A pointer to the destination pathname.
<DT><CODE><A NAME=MARKER-2-875></A>ioCopyName</CODE>
<DD> A pointer to an optional name.
<DT><CODE>ioNewDirID</CODE>
<DD> A destination directory ID.
</DL>
<B>Field descriptions for the <CODE>wdParam</CODE> variant</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-877></A>filler9</CODE>
<DD> Reserved.
<DT><CODE>ioWDIndex</CODE>
<DD> An index to working directories.
<DT><CODE>ioWDProcID</CODE>
<DD> The working directory user identifier.
<DT><CODE>ioWDVRefNum</CODE>
<DD> The volume reference number for the working directory.
<DT><CODE><A NAME=MARKER-2-881></A>filler10</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-882></A>filler11</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-883></A>filler12</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-884></A>filler13</CODE>
<DD> Reserved.
<DT><CODE>ioWDDirID</CODE>
<DD> The working directory's directory ID.
</DL>
<B>Field descriptions for the <CODE>fidParam</CODE> variant</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-886></A>filler14</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-887></A>ioDestNamePtr</CODE>
<DD> A pointer to the name of the destination file.
<DT><CODE><A NAME=MARKER-2-888></A>filler15</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-889></A>ioDestDirID</CODE>
<DD> The parent directory ID of the destination file.
<DT><CODE><A NAME=MARKER-2-890></A>filler16</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-891></A>filler17</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-892></A>ioSrcDirID</CODE>
<DD> The parent directory ID of the source file.
<DT><CODE><A NAME=MARKER-2-893></A>filler18</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-894></A>ioFileID</CODE>
<DD> The file ID.
</DL>
<B>Field descriptions for the <CODE>csParam</CODE> variant</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-895></A>ioMatchPtr</CODE>
<DD> A pointer to an array of <CODE>FSSpec</CODE> records in which the file and directory names that match the selection criteria are returned. The array must be large enough to hold the largest possible number of <CODE>FSSpec</CODE> records, as determined by the <CODE>ioReqMatchCount</CODE> field.
<DT><CODE><A NAME=MARKER-2-896></A>ioReqMatchCount</CODE>
<DD> <BR>The maximum number of matches to return. This number should be the number of <CODE>FSSpec</CODE> records that will fit in the memory pointed to by <CODE>ioMatchPtr</CODE>. You can use this field to avoid a possible excess of matches for criteria that prove to be too general (or to limit the length of a search if the <CODE>ioSearchTime</CODE> field isn't used).
<DT><CODE><A NAME=MARKER-2-897></A>ioActMatchCount</CODE>
<DD> <BR>The number of actual matches found.
<DT><CODE><A NAME=MARKER-2-898></A>ioSearchBits</CODE>
<DD> The fields of the parameter blocks <CODE>ioSearchInfo1</CODE> and <CODE>ioSearchInfo2</CODE> that are relevant to the search. See <A HREF=Files-94.html#MARKER-9-355>"Searching a Volume"</A> beginning on <A HREF=Files-94.html#MARKER-9-355>page 2-38</A> for constants you can add to determine a value for <CODE>ioSearchBits</CODE>.
<DT><CODE><A NAME=MARKER-2-899></A>ioSearchInfo1</CODE>
<DD> A pointer to a <CODE>CInfoPBRec</CODE> parameter block that contains values and the lower bounds of ranges for the fields selected by <CODE>ioSearchBits</CODE>.
<DT><CODE><A NAME=MARKER-2-900></A>ioSearchInfo2</CODE>
<DD> A pointer to a second <CODE>CInfoPBRec</CODE> parameter block that contains masks and upper bounds of ranges for the fields selected by <CODE>ioSearchBits</CODE>.
<DT><CODE><A NAME=MARKER-2-901></A>ioSearchTime</CODE>
<DD> A time limit on a search, in Time Manager format. Use this field to limit the run time of a single call to <CODE>PBCatSearch</CODE>. A value of 0 imposes no time limit. If the value of this field is positive, it is interpreted as milliseconds. If the value of this field is negative, it is interpreted as negated microseconds.
<DT><CODE><A NAME=MARKER-2-902></A>ioCatPosition</CODE>
<DD> A position in the catalog where searching should begin. Use this field to keep an index into the catalog when breaking down the <CODE>PBCatSearch</CODE> search into a number of smaller searches. This field is valid whenever <CODE>PBCatSearch</CODE> exits because it either spends the maximum time allowed by <CODE>ioSearchTime</CODE> or finds the maximum number of matches allowed by <CODE>ioReqMatchCount</CODE>.
<DT>
<DD> To start at the beginning of the catalog, set the <CODE>initialize</CODE> <BR>field of <CODE>ioCatPosition</CODE> to 0. Before exiting after an interrupted search, <CODE>PBCatSearch</CODE> sets that field to the next catalog entry to <BR>be searched.
<DT>
<DD> To resume where the previous call stopped, pass the entire <CODE>CatPosition</CODE> record returned by the previous call as input <BR>to the next.
<DT><CODE><A NAME=MARKER-2-160></A>ioOptBuffer</CODE>
<DD> A pointer to an optional read buffer. The <CODE>ioOptBuffer</CODE> and <CODE>ioOptBufSize</CODE> fields let you specify a part of memory as a read buffer, increasing search speed.
<DT><CODE><A NAME=MARKER-2-161></A>ioOptBufSize</CODE>
<DD> The size of the buffer pointed to by <CODE>ioOptBuffer</CODE>. Buffer size effectiveness varies with models and configurations, but a 16 KB buffer is likely to be optimal. The size should be at least 1024 bytes and should be an integral multiple of 512 bytes.
</DL>
<B>Field descriptions for the <CODE>foreignPrivParam</CODE> variant</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-905></A>filler21</CODE>
<DD> Reserved.
<DT><CODE><A NAME=MARKER-2-906></A>filler22</CODE>
<DD> Reserved.
<DT><A NAME=MARKER-2-907></A>ioForeignPrivBuffer
<DD> A pointer to a buffer containing access-control information about the foreign file system. 
<DT><A NAME=MARKER-2-908></A>ioForeignPrivReqCount
<DD> The size of the buffer pointed to by the ioForeignPrivBuffer field.
<DT><A NAME=MARKER-2-909></A>ioForeignPrivActCount
<DD> The amount of the buffer pointed to by the ioForeignPrivBuffer field that was actually used to hold data.
<DT><CODE><A NAME=MARKER-2-910></A>filler23</CODE>
<DD> Reserved.
<DT><A NAME=MARKER-2-911></A>ioForeignPrivDirID
<DD>  The parent directory ID of the foreign file or directory.
<DT><A NAME=MARKER-2-912></A>ioForeignPrivInfo1
<DD> <BR>A long word that may contain privileges data.
<DT><A NAME=MARKER-2-913></A>ioForeignPrivInfo2
<DD> <BR>A long word that may contain privileges data.
<DT><A NAME=MARKER-2-914></A>ioForeignPrivInfo3
<DD> <BR>A long word that may contain privileges data.
<DT><A NAME=MARKER-2-915></A>ioForeignPrivInfo4
<DD> <BR>A long word that may contain privileges data.<A NAME=MARKER-2-916></A><A NAME=MARKER-2-917></A>
</DL>
<HR>
<center>
<A HREF="Files-116.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-118.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Files-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
