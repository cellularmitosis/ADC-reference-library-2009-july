<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>KeyScript(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING386></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-385.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-387.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-354.html"><B>Chapter 6 - Script Manager</B></A> / <A HREF="Text-365.html"><B>Script Manager Reference</B></A><BR><DL><DD><A HREF="Text-375.html"><B>Routines</B></A> / <A HREF="Text-385.html"><B>Making Keyboard Settings</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING386-0></A>
<H3><A NAME=MARKER-9-940></A>KeyScript</H3>
 <A NAME=MARKER-2-165></A>The <CODE>KeyScript</CODE> procedure uses the supplied value to change the keyboard script, to change the keyboard layout or input method within the current keyboard script, or to make a setting related to text input. If the Keyboard menu is displayed, <CODE>KeyScript</CODE> also updates the Keyboard menu.<P>
<PRE>
PROCEDURE KeyScript (code: Integer);
</PRE>
<DL>
<DT><CODE>code</CODE> 
<DD> If 0 or positive, directly specifies a script system (that is, it is read as a script code). Negative values have special meanings.
</DL>
<A NAME=HEADING386-4></A>
<H5>DESCRIPTION</H5>
 The <CODE>Keyscript</CODE> procedure makes the change based on the selector with which it is called. If more than one script system is enabled or if the <CODE>smfShowIcon</CODE> bit flag is set in the Script Manager variable accessed by the <CODE>GetScriptManagerVariable</CODE> selector <CODE>smGenFlags</CODE>, <CODE>Keyscript</CODE> also updates the Keyboard menu by changing the icon displayed on the menu bar and placing a check beside the appropriate keyboard <BR>menu item.<P>
 The <CODE>code</CODE> parameter is a selector that can <I>explicitly</I> specify a keyboard script by script code. Script code constants are listed on <A HREF=Text-367.html#MARKER-9-788>page 6-52</A>. If the selector specifies a script, then the current default keyboard layout (<CODE>'KCHR'</CODE> resource) for that script, as specified in the script's international bundle resource, becomes the current keyboard layout.<P>
 The selector can also <I>implicitly</I> specify a keyboard script (for example, the next script), a keyboard layout (for example, the previously used keyboard layout in the current script), or an input method (for example, inline input versus window-based input). It can also specify settings that enable or disable keyboard layouts and keyboard scripts, and toggle among input options or line direction. The valid constants for the <CODE>code</CODE> parameter are listed in <A HREF=Text-361.html#MARKER-9-571>Table 6-5 on page 6-18</A>.<P>
 If you call <CODE>KeyScript</CODE> and explicitly specify a script system that is not available, <CODE>KeyScript</CODE> does nothing. The current keyboard script remains unchanged.<P>
<A NAME=HEADING386-9></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 <CODE>KeyScript</CODE> operates only on those keyboard-layout and key-remap resources that are present in the System file.<P>
 Your application's keyboard-menu setting is not maintained by the Process Manager; if the state of the keyboard menu is changed while you are switched out, the Process Manager does not restore your setting when you are switched back in. However, the Process Manager does maintain the keyboard disable state (Script Manager variable <CODE>smKeyDisableState</CODE>) for your application. See <A HREF=Text-371.html#MARKER-9-798>"Selectors for Script Manager Variables" beginning on page 6-61</A> for a description of the <CODE>smKeyDisableState</CODE> variable.<P>
 <CODE>KeyScript</CODE> may move memory; your application should not call this procedure at interrupt time.<P>
<A NAME=HEADING386-13></A>
<H5>SEE ALSO</H5>
 The Process Manager is described in <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes</A></I>. <A NAME=MARKER-2-942></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-385.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-387.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
