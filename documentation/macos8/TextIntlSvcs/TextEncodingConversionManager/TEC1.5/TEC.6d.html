<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<script language="JavaScript" src="frametest.js"></script>
<TITLE> Conversion Control Flags</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a>
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --><A HREF="TEC.6b.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.6c.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.6e.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A><br>
<font face="Geneva,Helvetica,Arial" size="1"><b><br>
		PATH<spacer type="horizontal" size="5">&nbsp;</b></font><a href="../../../mac8.html"><font face="Geneva,Helvetica,Arial" size="1">Mac OS 8 and 9 Developer Documentation</a>  <b>&gt;</b> Text Encoding Conversion Manager<br>
		<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">Programming With the Text Encoding Conversion Manager</font><br>
		<br>
		<hr>

</DIV>
<H1>
<A NAME="pgfId=16910">
 </A>
<A NAME="17518">
 </A>
<A NAME="marker=17949">
 </A>
Conversion Control Flags</H1>
<P>
<A NAME="pgfId=16911">
 </A>
Your application uses control flags to determine how the conversion of text from one encoding to another is performed. 
 The conversion functions <A HREF="TEC.80.html" CLASS="XRef"><TT>ConvertFromTextToUnicode</TT></A>, <A HREF="TEC.86.html" CLASS="XRef"><TT>ConvertFromUnicodeToText</TT></A>, <A HREF="TEC.8d.html" CLASS="XRef"><TT>ConvertFromUnicodeToScriptCodeRun</TT></A> and <A HREF="TEC.8c.html" CLASS="XRef"><TT>ConvertFromUnicodeToTextRun</TT></A> allow you to set control flags specifying the conversion process behavior. You can also specify control flags for the</B>
 function <A HREF="TEC.91.html" CLASS="XRef"><TT>TruncateForUnicodeToText</TT></A>
 and <A HREF="TEC.60.html" CLASS="XRef"><TT>TECSetBasicOptions</TT></A>.<P>


<A NAME="pgfId=16927">
 </A>
These functions take a <TT>controlFlags</TT> parameter whose value you can set using the bitmask constants defined for the flags. A different subset of control flags applies to each of these functions. Using the bitmask constants, you can perform a bitwise <TT>OR</TT> operation to set the pertinent flags for a particular function's parameters. For example, when you call a function, you might pass the following <TT>controlFlags</TT> parameter setting: </P>
<TT>
<A NAME="pgfId=25138">
 </A>
controlflags=kUnicodeUseFallbacksMask | kUnicodeLooseMappingsMask; </TT>
<P>
<A NAME="pgfId=16929">
 </A>
The following enumerations define constants for the control flag masks:</P>
<TT>
<A NAME="pgfId=25142">
 </A>
enum {<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeUseFallbacksBit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 0,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeKeepInfoBit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeDirectionalityBits&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 2,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeVerticalFormBit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 4,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeLooseMappingsBit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 5,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeStringUnterminatedBit &nbsp;&nbsp;= 6,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeTextRunBit &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 7,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeKeepSameEncodingBit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 8,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeForceASCIIRangeBit &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 9,&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeNoHalfwidthCharsBit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 10,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeTextRunHeuristicsBit = 11 <BR>
};</TT>
<TT>
<A NAME="pgfId=25148">
 </A>
enum {<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeUseFallbacksMask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeUseFallbacksBit,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeKeepInfoMask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeKeepInfoBit,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeDirectionalityMask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 3L &lt;&lt; kUnicodeDirectionalityBits,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeVerticalFormMask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeVerticalFormBit,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeLooseMappingsMask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeLooseMappingsBit,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeStringUnterminatedMask &nbsp;= 1L &lt;&lt; <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeStringUnterminatedBit,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeTextRunMask &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeTextRunBit,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeKeepSameEncodingMask &nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeKeepSameEncodingBit,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeForceASCIIRangeMask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeForceASCIIRangeBit,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeNoHalfwidthCharsMask&nbsp;&nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeNoHalfwidthCharsBit,<BR>
 &nbsp;&nbsp;&nbsp;kUnicodeTextRunHeuristicsMask&nbsp;&nbsp;&nbsp;= 1L &lt;&lt; kUnicodeTextRunHeuristicsBit<BR>
};</TT>
<P>
<A NAME="pgfId=16940">
 </A>
The following enumeration defines the possible settings for the directionality bits:</P>
<TT>
<A NAME="pgfId=25154">
 </A>
enum {<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeDefaultDirection = 0,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeLeftToRight = 1,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeRightToLeft = 2<BR>
};</TT>
<TT>
<A NAME="pgfId=25158">
 </A>
enum {<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeDefaultDirectionMask = <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeDefaultDirection &lt;&lt; kUnicodeDirectionalityBits,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeLeftToRightMask =<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeLeftToRight &lt;&lt; kUnicodeDirectionalityBits,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;kUnicodeRightToLeftMask =<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UnicodeRightToLeft &lt;&lt; kUnicodeDirectionalityBits<BR>
};</TT>
<DIV>
<H4>
<A NAME="pgfId=16943">
 </A>
Constant descriptions</H4>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25160">
 </A>
<TT>kUnicodeUseFallbacksMask</TT></DT><P>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16944">
 </A>
 A mask for setting the Unicode-use-fallbacks conversion control flag. The Unicode Converter uses fallback mappings when it encounters a source text element for which there is no equivalent destination encoding.
 Fallback mappings are mappings that do not preserve the meaning or identity of the source character but represent a useful approximation of it. See the function <A HREF="TEC.99.html" CLASS="XRef">
<TT>SetFallbackUnicodeToText</TT></A>.
</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25174">
 </A>
<TT>kUnicodeKeepInfoMask</TT></DT><P>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16948">
 </A>
<TT> 	</TT>A mask for setting the keep-information control flag which governs whether the Unicode Converter keeps the current state stored in the Unicode converter object before converting the text string. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16949">
 </A>
If you clear this flag, the converter will initialize the Unicode converter object before converting the text string and assume that subsequent calls do not need any context, such as direction state for the current call. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16950">
 </A>
If you set the flag, the converter uses the current state. This is useful if your application must convert a stream of text in pieces that are not block delimited. You should set this flag for each call in a series of calls on the same text stream.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25188">
 </A>
<TT>kUnicodeDefaultDirectionMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16951">
 </A>
</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25195">
 </A>
<TT>kUnicodeLeftToRightMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16952">
 </A>
</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25202">
 </A>
<TT>kUnicodeRightToLeftMask</TT></DT><P>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16953">
 </A>
 You can specify one of these masks to indicate the global, or base, line direction for the text being converted. This determines which direction the converter should use for resolution of neutral coded characters, such as spaces that occur between sets of coded characters having different directions--for example, between Latin and Arabic characters--rendering ambiguous the direction of the space character.</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16954">
 </A>
The value kUnicodeDefaultDirectionMask tells the converter to use the value of the first strong direction character in the string, kUnicodeLeftToRightMask tells the converter that the base paragraph direction is left to right, and kUnicodeRightToLeftMask tells the converter that the base paragraph direction is right to left.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25214">
 </A>
<TT>kUnicodeVerticalFormBitMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16955">
 </A>
</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16956">
 </A>
A mask for setting the vertical form control flag. The vertical form control flag tells the Unicode Converter how to map text elements for which there are both abstract and vertical presentation forms in the destination encoding. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16957">
 </A>
If set, the converter maps these text elements to their vertical forms, if they are available. For explanation of presentation forms, see <A HREF="TEC.1.html" CLASS="XRef">
About Text Encodings and Conversions</A>
</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25225">
 </A>
<TT>kUnicodeLooseMappingsMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16961">
 </A>
</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16962">
 </A>
A mask that determines whether the Unicode Converter should use the loose-mapping portion of a mapping table for character mapping if the strict mapping portion of the table does not include a destination encoding equivalent for the source text element. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16963">
 </A>
If you clear this flag, the converter will use only the strict equivalence portion. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16964">
 </A>
 If set this flag and a conversion for the source text element does not exist in the strict equivalence portion of the mapping table, then the converter uses the loose mapping section. For explanation of strict and loose mapping, see <A HREF="TEC.1.html" CLASS="XRef">
About Text Encodings and Conversions</A>
</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25238">
 </A>
<TT>kUnicodeStringUnterminatedMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16968">
 </A>
</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16969">
 </A>
	A mask for setting the string-unterminated control flag. Determines how the Unicode Converter handles text-element boundaries and direction resolution at the end of an input buffer.</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16970">
 </A>
		If you clear this bit, the converter treats the end of the buffer as the end of text. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16971">
 </A>
	If you set this bit, the converter assumes that the next call you make using the current context will supply another buffer of text that should be treated as a continuation of the current text. For example, if the last character in the input buffer is <TT>'A'</TT>, <TT>ConvertFromUnicodeToText</TT> stops conversion at the <TT>'A'</TT> and returns <TT>kTECIncompleteElementErr</TT>, because the next buffer could begin with a combining diacritical mark that should be treated as part of the same text element. If the last character in the input buffer is a control character, <TT>ConvertFromUnicodeToText</TT> does not return <TT>kTECIncompleteElementErr</TT> because a control character could not be part of a multiple character text element. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16972">
 </A>
		In attempting to analyze the text direction, when the Unicode Converter reaches the end of the current input buffer and the direction of the current text element is still unresolved, if you clear&nbsp;this flag, the converter treats the end of the buffer as a block separator for direction resolution. If you set this flag, it sets the direction as undetermined</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25253">
 </A>
<TT>kUnicodeTextRunMask</TT></DT><P>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16973">
 </A>
 A mask for setting the text-run control flag which determines how the Unicode Converter converts Unicode text to a non-Unicode encoding when more than one possible destination encoding exists. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16974">
 </A>
	If you clear this flag, the function <A HREF="TEC.8c.html" CLASS="XRef"><TT>ConvertFromUnicodeToTextRun</TT></A> or <A HREF="TEC.8d.html" CLASS="XRef"><TT>ConvertFromUnicodeToScriptCodeRun</TT></A> attempts to convert the Unicode text to the single encoding from the list of encodings in the Unicode converter object that produces the best result, that is, that provides for the greatest amount of source text conversion.</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16981">
 </A>
If you set this flag, <TT>ConvertFromUnicodeToTextRun</TT> or <TT>ConvertFromUnicodeToScriptCodeRun</TT>, which are the only functions to which it applies, may generate a destination string that combines text in any of the encodings specified by the Unicode converter object.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25267">
 </A>
<TT>kUnicodeKeepSameEncodingMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=16982">
 </A>
</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16983">
 </A>
A mask for setting the keep-same-encoding control flag. Determines how the Unicode Converter treats the conversion of Unicode text following a text element that could not be converted to the first destination encoding when multiple destination encodings exist. This control flag applies only if the <TT>kUnicodeTextRunMask</TT> control flag is set. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16984">
 </A>
If you set this flag, the function <A HREF="TEC.8c.html" CLASS="XRef"><TT>ConvertFromUnicodeToTextRun</TT></A> attempts to minimize encoding changes in the conversion of the source text string; that is, once it is forced to make an encoding change, it attempts to use that encoding as the conversion destination for as long as possible. </DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=16988">
 </A>
	If you clear this flag, <TT>ConvertFromUnicodeToTextRun</TT> attempts to keep most of the converted string in one encoding, switching to other encodings only when necessary. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25280">
 </A>
<TT>kUnicodeForceASCIIRangeMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=18234">
 </A>
</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=18235">
 </A>
A mask for setting the force ASCII range control flag. If an encoding normally treats 1-byte code points <TT>0x00</TT>-<TT>0x7F</TT> as an ISO 646 national variant that is different from ASCII, setting this flag forces<TT> 0x00</TT>-<TT>0x7F</TT> to be treated as ASCII. For example, Japanese encodings such as Shift-JIS generally treat <TT>0x00</TT>-<TT>0x7F</TT> as JIS Roman, with <TT>0x5C</TT> as YEN SIGN instead of REVERSE SOLIDUS, but when converting a DOS file path you may want to set this flag so that <TT>0x5C</TT> is mapped as REVERSE SOLIDUS.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25289">
 </A>
<TT>kUnicodeNoHalfwidthCharsMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=18236">
 </A>
</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=18237">
 </A>
A mask for setting the no halfwidth characters control flag. Japanese encodings such as Shift-JIS and EUC-JP include a set of halfwidth katakana characters derived from JIS X0201 (<TT>0xA1</TT>-<TT>0xDF</TT> in Shift-JIS, <TT>0x8EA</TT>1-<TT>0x8EDF</TT> in EUC-JP). Setting this flag makes the Unicode Converter treat these encodings as if they did not include the halfwidth katakana and makes the corresponding code points unmappable.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=25298">
 </A>
<TT>kUnicodeTextRunHeuristicsMask</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=19593">
 </A>
</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=19594">
 </A>
A mask for setting the text-run heuristics control flag. This flag interacts with the keep-same-encoding control flag to affect the behavior of <A HREF="TEC.8c.html" CLASS="XRef"><TT>ConvertFromUnicodeToTextRun</TT></A> and <A HREF="TEC.8d.html" CLASS="XRef"><TT>ConvertFromUnicodeToScriptCodeRun</TT></A>; it applies only if the <TT>kUnicodeTextRunMask</TT> flag is set.</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=19601">
 </A>
If you clear the text-run heuristics control flag, then <TT>kUnicodeKeepSameEncodingMask</TT> works as described above.</DD><P>

<DD CLASS="DD.DefinitionDefCont">
<A NAME="pgfId=19553">
 </A>
If you set the text-run heuristics control flag, then <A HREF="TEC.8c.html" CLASS="XRef"><TT>ConvertFromUnicodeToTextRun</TT></A> and <A HREF="TEC.8d.html" CLASS="XRef"><TT>ConvertFromUnicodeToScriptCodeRun</TT></A> attempt to be a little smarter about when to switch encodings. For example, if the text-run heuristics control flag is set and the keep-same-encoding control flag is clear, the conversion functions  will not switch back to the preferred encoding just to convert characters such as space and common punctuation that may occur in the middle of other text that cannot be converted to the preferred encoding.</DD><P>

</DL COMPACT>
</DIV>
<HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 13 Dec 99)<P><A HREF="TEC.6b.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.6c.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.6e.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A>

<!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY>
</HTML>
