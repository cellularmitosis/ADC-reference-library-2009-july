<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>kpi_mbuf.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/header/kpi_mbuf.h" title="kpi_mbuf.h"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="kpi_mbuf.h">kpi_mbuf.h</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr>
<td scope="row"><b>Includes:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!-- a -->&lt;sys/kernel_types.h&gt;<!-- /a --><br><!-- a -->&lt;mach/vm_types.h&gt;<!-- /a -->
</div></div></td>
</tr></table></div>
<h2>Overview</h2>
<!-- begin discussion --><p>This header defines an API for interacting with mbufs. mbufs are the
primary method of storing packets in the networking stack.
</p>
<p>mbufs are used to store various items in the networking stack. The
most common usage of an mbuf is to store a packet or data on a
socket waiting to be sent or received. The mbuf is a contiguous
structure with some header followed by some data. To store more data
than would fit in an mbuf, external data is used. Most mbufs with
external data use clusters to store the external data.
</p>
<p>mbufs can be chained, contiguous data in a packet can be found by
following the m_next chain. Packets may be bundled together using
m_nextpacket. Many parts of the stack do not properly handle chains
of packets. When in doubt, don't chain packets.<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_adj" target="_top">mbuf_adj</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_adjustlen" target="_top">mbuf_adjustlen</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_align_32" target="_top">mbuf_align_32</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_alloccluster" target="_top">mbuf_alloccluster</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_allocpacket" target="_top">mbuf_allocpacket</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_allocpacket_list" target="_top">mbuf_allocpacket_list</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_attachcluster" target="_top">mbuf_attachcluster</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_clear_csum_performed" target="_top">mbuf_clear_csum_performed</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_clear_csum_requested" target="_top">mbuf_clear_csum_requested</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_clear_vlan_tag" target="_top">mbuf_clear_vlan_tag</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_copy_pkthdr" target="_top">mbuf_copy_pkthdr</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_copyback" target="_top">mbuf_copyback</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_copydata" target="_top">mbuf_copydata</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_copym" target="_top">mbuf_copym</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_data" target="_top">mbuf_data</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_data_to_physical" target="_top">mbuf_data_to_physical</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_datastart" target="_top">mbuf_datastart</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_dup" target="_top">mbuf_dup</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_flags" target="_top">mbuf_flags</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_free" target="_top">mbuf_free</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_freecluster" target="_top">mbuf_freecluster</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_freem" target="_top">mbuf_freem</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_freem_list" target="_top">mbuf_freem_list</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_get" target="_top">mbuf_get</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_get_csum_requested" target="_top">mbuf_get_csum_requested</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_get_vlan_tag" target="_top">mbuf_get_vlan_tag</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_getcluster" target="_top">mbuf_getcluster</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_gethdr" target="_top">mbuf_gethdr</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_getpacket" target="_top">mbuf_getpacket</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_inbound_modified" target="_top">mbuf_inbound_modified</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_inet6_cksum" target="_top">mbuf_inet6_cksum</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_inet_cksum" target="_top">mbuf_inet_cksum</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_leadingspace" target="_top">mbuf_leadingspace</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_len" target="_top">mbuf_len</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_maxlen" target="_top">mbuf_maxlen</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_mclget" target="_top">mbuf_mclget</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_mclhasreference" target="_top">mbuf_mclhasreference</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_next" target="_top">mbuf_next</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_nextpkt" target="_top">mbuf_nextpkt</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_outbound_finalize" target="_top">mbuf_outbound_finalize</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pkthdr_adjustlen" target="_top">mbuf_pkthdr_adjustlen</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pkthdr_header" target="_top">mbuf_pkthdr_header</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pkthdr_len" target="_top">mbuf_pkthdr_len</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pkthdr_rcvif" target="_top">mbuf_pkthdr_rcvif</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pkthdr_setheader" target="_top">mbuf_pkthdr_setheader</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pkthdr_setlen" target="_top">mbuf_pkthdr_setlen</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pkthdr_setrcvif" target="_top">mbuf_pkthdr_setrcvif</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_prepend" target="_top">mbuf_prepend</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pulldown" target="_top">mbuf_pulldown</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_pullup" target="_top">mbuf_pullup</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_set_csum_performed" target="_top">mbuf_set_csum_performed</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_set_vlan_tag" target="_top">mbuf_set_vlan_tag</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_setdata" target="_top">mbuf_setdata</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_setflags" target="_top">mbuf_setflags</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_setflags_mask" target="_top">mbuf_setflags_mask</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_setlen" target="_top">mbuf_setlen</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_setnext" target="_top">mbuf_setnext</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_setnextpkt" target="_top">mbuf_setnextpkt</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_settype" target="_top">mbuf_settype</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_split" target="_top">mbuf_split</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_stats" target="_top">mbuf_stats</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_tag_allocate" target="_top">mbuf_tag_allocate</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_tag_find" target="_top">mbuf_tag_find</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_tag_free" target="_top">mbuf_tag_free</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_tag_id_find" target="_top">mbuf_tag_id_find</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_trailingspace" target="_top">mbuf_trailingspace</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/mbuf_type" target="_top">mbuf_type</a></tt></dt>
<dd></dd>
</dl>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_adj;   name=mbuf_adj --><a name="//apple_ref/c/func/mbuf_adj"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_adj">mbuf_adj</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_adj" target="_top" class="function"><span class="function">mbuf_adj</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">int</span><!-- /a --> <span class="param">len</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf chain to trim.</p></dd>
<dt><code>len</code></dt>
<dd><p>The number of bytes to trim from the mbuf chain.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Trims len bytes from the mbuf. If the length is greater
than zero, the bytes are trimmed from the front of the mbuf. If
the length is less than zero, the bytes are trimmed from the end
of the mbuf chain.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_adjustlen;   name=mbuf_adjustlen --><a name="//apple_ref/c/func/mbuf_adjustlen"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_adjustlen">mbuf_adjustlen</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_adjustlen" target="_top" class="function"><span class="function">mbuf_adjustlen</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">int</span><!-- /a --> <span class="param">amount</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf to adjust.</p></dd>
<dt><code>amount</code></dt>
<dd><p>The number of bytes increment the length by.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Adds amount to the mbuf len. Verifies that the new
length is valid (greater than or equal to zero and less than
maximum amount of data that may be stored in the mbuf). This
function will not adjust the packet header length field or
affect any other mbufs in a chain.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_align_32;   name=mbuf_align_32 --><a name="//apple_ref/c/func/mbuf_align_32"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_align_32">mbuf_align_32</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_align_32" target="_top" class="function"><span class="function">mbuf_align_32</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">len</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
<dt><code>len</code></dt>
<dd><p>The minimum length of space that should follow the new
data location.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success, errno error on failure.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>mbuf_align_32 is a replacement for M_ALIGN and MH_ALIGN.
mbuf_align_32 will set the data pointer to a location aligned on
a four byte boundry with at least 'len' bytes between the data
pointer and the end of the data block.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_alloccluster;   name=mbuf_alloccluster --><a name="//apple_ref/c/func/mbuf_alloccluster"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_alloccluster">mbuf_alloccluster</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_alloccluster" target="_top" class="function"><span class="function">mbuf_alloccluster</span></a>(
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="type">*</span><span class="param">size</span>,
    <a href="../../../../Carbon/Reference/Open_Transport/Reference/reference.html#//apple_ref/c/tdef/caddr_t" target="_top" class="type"><span class="type">caddr_t</span></a> <span class="type">*</span><span class="param">addr</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>size</code></dt>
<dd><p>Pointer to size of requested cluster.  Sizes up to 2048
will be rounded up to 2048; sizes greater than 2048 and up
to 4096 will be rounded up to 4096.  Sizes greater than 4096
will be rounded up to 16384.</p></dd>
<dt><code>addr</code></dt>
<dd><p>Pointer to the address of the requested cluster.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success or ENOMEM if failure.  If the caller requests
greater than 4096 bytes and the system is unable to fulfill
the request due to the lack of jumbo clusters support based
on the configuration, this routine will return ENOTSUP.
In this case, the caller is advised to use 4096 bytes or
smaller during subseqent requests.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate a cluster that can be later attached to an
mbuf by calling mbuf_attachcluster().  The allocated cluster
can also be freed (without being attached to an mbuf) by
calling mbuf_freecluster().  At the moment this routine
will either return a cluster of 2048, 4096 or 16384 bytes
depending on the requested size.  Note that clusters greater
than 4096 bytes might not be available in all configurations;
the caller must additionally check for ENOTSUP (see below).
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_allocpacket;   name=mbuf_allocpacket --><a name="//apple_ref/c/func/mbuf_allocpacket"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_allocpacket">mbuf_allocpacket</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_allocpacket" target="_top" class="function"><span class="function">mbuf_allocpacket</span></a>(
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">packetlen</span>,
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <span class="type">*</span><span class="param">maxchunks</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking</p></dd>
<dt><code>packetlen</code></dt>
<dd><p>The total length of the packet mbuf to be allocated.
The length must be greater than zero.</p></dd>
<dt><code>maxchunks</code></dt>
<dd><p>An input/output pointer to the maximum number of mbufs
segments making up the chain.  On input, if maxchunks is NULL,
or the value pointed to by maxchunks is zero, the packet will
be made up of as few or as many buffer segments as necessary
to fit the length.  The allocation will fail with ENOBUFS if
the number of segments requested is too small and the sum of
the maximum size of each individual segment is less than the
packet length.  On output, if the allocation succeed and
maxchunks is non-NULL, it will point to the actual number
of segments allocated.
Additional notes for packetlen greater than 4096 bytes:
the caller may pass a non-NULL maxchunks and initialize it
with zero such that upon success, it can find out whether
or not the system configuration allows for larger than
4096 bytes cluster allocations, by checking on the value
pointed to by maxchunks.  E.g. a request for 9018 bytes may
result in 1 chunk when jumbo clusters are available, or
3 chunks otherwise.</p></dd>
<dt><code>Upon</code></dt>
<dd><p>success, *mbuf will be a reference to the new mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns 0 upon success or the following error code:
EINVAL - Invalid parameter
ENOMEM - Not enough memory available
ENOBUFS - Buffers not big enough for the maximum number of
chunks requested

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate an mbuf chain to store a single packet of the
requested length.  According to the requested length, a chain
of mbufs will be created. The mbuf type will be set to
MBUF_TYPE_DATA. The caller may specify the maximum number of
buffer.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_allocpacket_list;   name=mbuf_allocpacket_list --><a name="//apple_ref/c/func/mbuf_allocpacket_list"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_allocpacket_list">mbuf_allocpacket_list</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_allocpacket_list" target="_top" class="function"><span class="function">mbuf_allocpacket_list</span></a>(
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <span class="param">numpkts</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">packetlen</span>,
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <span class="type">*</span><span class="param">maxchunks</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>numpkts</code></dt>
<dd><p>Number of packets to allocate</p></dd>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking</p></dd>
<dt><code>packetlen</code></dt>
<dd><p>The total length of the packet mbuf to be allocated.
The length must be greater than zero.</p></dd>
<dt><code>maxchunks</code></dt>
<dd><p>An input/output pointer to the maximum number of
mbufs segments making up the chain.  On input, if maxchunks is
zero, or the value pointed to by maxchunks is zero, the packet
will be made of as few or as many buffer segments as necessary
to fit the length.  The allocation will fail with ENOBUFS if
the number of segments requested is too small and the sum of
the maximum size of each individual segment is less than the
packet length.  On output, if the allocation succeed and
maxchunks is non zero, it will point to the actual number
of segments allocated.
Additional notes for packetlen greater than 4096 bytes:
the caller may pass a non-NULL maxchunks and initialize it
with zero such that upon success, it can find out whether
or not the system configuration allows for larger than
4096 bytes cluster allocations, by checking on the value
pointed to by maxchunks.  E.g. a request for 9018 bytes may
result in 1 chunk when jumbo clusters are available, or
3 chunks otherwise.</p></dd>
<dt><code>Upon</code></dt>
<dd><p>success, *mbuf will be a reference to the new mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns 0 upon success or the following error code:
EINVAL - Invalid parameter
ENOMEM - Not enough memory available
ENOBUFS - Buffers not big enough for the maximum number of
chunks requested

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate a linked list of packets.  According to the
requested length, each packet will made of a chain of one
or more mbufs.  The mbuf type will be set to MBUF_TYPE_DATA.
The caller may specify the maximum number of element for
each mbuf chain making up a packet.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_attachcluster;   name=mbuf_attachcluster --><a name="//apple_ref/c/func/mbuf_attachcluster"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_attachcluster">mbuf_attachcluster</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_attachcluster" target="_top" class="function"><span class="function">mbuf_attachcluster</span></a>(
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_type_t" target="_top" class="type"><span class="type">mbuf_type_t</span></a> <span class="param">type</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>, 
    <a href="../../../../Carbon/Reference/Open_Transport/Reference/reference.html#//apple_ref/c/tdef/caddr_t" target="_top" class="type"><span class="type">caddr_t</span></a> <span class="param">extbuf</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> (<span class="type">*</span><span class="param">extfree</span>)(
        <span class="param">caddr_t</span>,
        <span class="param">u_int</span>,
        <span class="param">caddr_t</span>), 
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">extsize</span>,
    <a href="../../../../Carbon/Reference/Open_Transport/Reference/reference.html#//apple_ref/c/tdef/caddr_t" target="_top" class="type"><span class="type">caddr_t</span></a> <span class="param">extarg</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>type</code></dt>
<dd><p>The type of the mbuf if mbuf is non-NULL; otherwise ignored.</p></dd>
<dt><code>mbuf</code></dt>
<dd><p>Pointer to the address of the mbuf; if NULL, an mbuf will
be allocated, otherwise, it must point to a valid mbuf address.
If the user-supplied mbuf is already attached to a cluster, the
current cluster will be freed before the mbuf gets attached to
the supplied external buffer.  Note that this routine may return
a different mbuf_t than the one you passed in.</p></dd>
<dt><code>extbuf</code></dt>
<dd><p>Address of the external buffer.</p></dd>
<dt><code>extfree</code></dt>
<dd><p>Free routine for the external buffer; the caller is
required to defined a routine that will be invoked when the
mbuf is freed.</p></dd>
<dt><code>extsize</code></dt>
<dd><p>Size of the external buffer.</p></dd>
<dt><code>extarg</code></dt>
<dd><p>Private value that will be passed to the free routine
when it is called at the time the mbuf is freed.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success
EINVAL - Invalid parameter
ENOMEM - Not enough memory available

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Attach an external buffer as a cluster for an mbuf.  If mbuf
points to a NULL mbuf_t, an mbuf will be allocated for you.  If
mbuf points to a non-NULL mbuf_t, the user-supplied mbuf will
be used instead.  The caller is responsible for allocating the
external buffer by calling mbuf_alloccluster().
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_clear_csum_performed;   name=mbuf_clear_csum_performed --><a name="//apple_ref/c/func/mbuf_clear_csum_performed"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_clear_csum_performed">mbuf_clear_csum_performed</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_clear_csum_performed" target="_top" class="function"><span class="function">mbuf_clear_csum_performed</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Clears the hardware checksum flags and values.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_clear_csum_requested;   name=mbuf_clear_csum_requested --><a name="//apple_ref/c/func/mbuf_clear_csum_requested"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_clear_csum_requested">mbuf_clear_csum_requested</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_clear_csum_requested" target="_top" class="function"><span class="function">mbuf_clear_csum_requested</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function clears the checksum request flags.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_clear_vlan_tag;   name=mbuf_clear_vlan_tag --><a name="//apple_ref/c/func/mbuf_clear_vlan_tag"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_clear_vlan_tag">mbuf_clear_vlan_tag</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_clear_vlan_tag" target="_top" class="function"><span class="function">mbuf_clear_vlan_tag</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function will clear any vlan tag associated with
the mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_copy_pkthdr;   name=mbuf_copy_pkthdr --><a name="//apple_ref/c/func/mbuf_copy_pkthdr"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_copy_pkthdr">mbuf_copy_pkthdr</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_copy_pkthdr" target="_top" class="function"><span class="function">mbuf_copy_pkthdr</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">dest</span>,
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">src</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>src</code></dt>
<dd><p>The mbuf from which the packet header will be copied.</p></dd>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf to which the packet header will be copied.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Copies the packet header from src to dest.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_copyback;   name=mbuf_copyback --><a name="//apple_ref/c/func/mbuf_copyback"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_copyback">mbuf_copyback</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_copyback" target="_top" class="function"><span class="function">mbuf_copyback</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">offset</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">length</span>, 
    <span class="keyword">const</span> <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">data</span><!-- /a -->,
    <!-- a --><span class="var">mbuf_how_t</span><!-- /a --> <!-- a --><span class="var">how</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The first mbuf in the chain to copy the data in to.</p></dd>
<dt><code>offset</code></dt>
<dd><p>Offset in bytes to skip before copying data.</p></dd>
<dt><code>length</code></dt>
<dd><p>The length, in bytes, of the data to copy in to the mbuf
chain.</p></dd>
<dt><code>data</code></dt>
<dd><p>A pointer to data in the kernel's address space.</p></dd>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success, EINVAL or ENOBUFS upon failure.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Copies data from a buffer to an mbuf chain.
mbuf_copyback will grow the chain to fit the specified buffer.
</p>
<p>If mbuf_copydata is unable to allocate enough mbufs to grow the
chain, ENOBUFS will be returned. The mbuf chain will be shorter
than expected but all of the data up to the end of the mbuf
chain will be valid.
</p>
<p>If an offset is specified, mbuf_copyback will skip that many
bytes in the mbuf chain before starting to write the buffer in
to the chain. If the mbuf chain does not contain this many
bytes, mbufs will be allocated to create the space.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_copydata;   name=mbuf_copydata --><a name="//apple_ref/c/func/mbuf_copydata"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_copydata">mbuf_copydata</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_copydata" target="_top" class="function"><span class="function">mbuf_copydata</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->,
    <!-- a --><span class="var">size_t</span><!-- /a --> <!-- a --><span class="var">offset</span><!-- /a -->,
    <!-- a --><span class="var">size_t</span><!-- /a --> <!-- a --><span class="var">length</span><!-- /a -->,
    <!-- a --><span class="var">void</span><!-- /a --><span class="var">*</span> <!-- a --><span class="var">out_data</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf chain to copy data out of.</p></dd>
<dt><code>offset</code></dt>
<dd><p>The offset in to the mbuf to start copying.</p></dd>
<dt><code>length</code></dt>
<dd><p>The number of bytes to copy.</p></dd>
<dt><code>out_data</code></dt>
<dd><p>A pointer to the location where the data will be
copied.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Copies data out of an mbuf in to a specified buffer. If
the data is stored in a chain of mbufs, the data will be copied
from each mbuf in the chain until length bytes have been copied.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_copym;   name=mbuf_copym --><a name="//apple_ref/c/func/mbuf_copym"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_copym">mbuf_copym</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_copym" target="_top" class="function"><span class="function">mbuf_copym</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">src</span><!-- /a -->,
    <!-- a --><span class="var">size_t</span><!-- /a --> <!-- a --><span class="var">offset</span><!-- /a -->,
    <!-- a --><span class="var">size_t</span><!-- /a --> <!-- a --><span class="var">len</span><!-- /a -->, 
    <!-- a --><span class="var">mbuf_how_t</span><!-- /a --> <!-- a --><span class="var">how</span><!-- /a -->,
    <!-- a --><span class="var">mbuf_t</span><!-- /a --><span class="var">*</span> <!-- a --><span class="var">new_mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>src</code></dt>
<dd><p>The source mbuf.</p></dd>
<dt><code>offset</code></dt>
<dd><p>The offset in the mbuf to start copying from.</p></dd>
<dt><code>len</code></dt>
<dd><p>The the number of bytes to copy.</p></dd>
<dt><code>how</code></dt>
<dd><p>To block or not to block, that is a question.</p></dd>
<dt><code>new_mbuf</code></dt>
<dd><p>Upon success, the newly allocated mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Copies len bytes from offset from src to a new mbuf.  If
the original mbuf contains a packet header, the new mbuf will
contain similar packet header except for any tags which may be
associated with the original mbuf.  mbuf_dup() should be used
instead if tags are to be copied to the new mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_data;   name=mbuf_data --><a name="//apple_ref/c/func/mbuf_data"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_data">mbuf_data</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a><span class="type">*</span> <a href="index.html#//apple_ref/c/func/mbuf_data" target="_top" class="function"><span class="function">mbuf_data</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A pointer to the data in the mbuf.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns a pointer to the start of data in this mbuf.
There may be additional data on chained mbufs. The data you're
looking for may not be virtually contiguous if it spans more
than one mbuf.  In addition, data that is virtually contiguous
might not be represented by physically contiguous pages; see
further comments in mbuf_data_to_physical.  Use mbuf_len to
determine the lenght of data available in this mbuf. If a data
structure you want to access stradles two mbufs in a chain,
either use mbuf_pullup to get the data contiguous in one mbuf
or copy the pieces of data from each mbuf in to a contiguous
buffer. Using mbuf_pullup has the advantage of not having to
copy the data. On the other hand, if you don't make sure there
is space in the mbuf, mbuf_pullup may fail and free the mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_data_to_physical;   name=mbuf_data_to_physical --><a name="//apple_ref/c/func/mbuf_data_to_physical"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_data_to_physical">mbuf_data_to_physical</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">addr64_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_data_to_physical" target="_top" class="function"><span class="function">mbuf_data_to_physical</span></a>(
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">ptr</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>ptr</code></dt>
<dd><p>A pointer to data stored in an mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The 64 bit physical address of the mbuf data or NULL if ptr
does not point to data stored in an mbuf.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>mbuf_data_to_physical is a replacement for mcl_to_paddr.
Given a pointer returned from mbuf_data of mbuf_datastart,
mbuf_data_to_physical will return the phyical address for that
block of data.  Note that even though the data is in virtually
contiguous span, the underlying physical pages might not be
physically contiguous.  Because of this, callers must ensure
to call this routine for each page boundary.  Device drivers
that deal with DMA are strongly encouraged to utilize the
IOMbufNaturalMemoryCursor and walk down the list of vectors
instead of using this interface to obtain the physical address.
Use of this routine is therefore discouraged.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_datastart;   name=mbuf_datastart --><a name="//apple_ref/c/func/mbuf_datastart"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_datastart">mbuf_datastart</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a><span class="type">*</span> <a href="index.html#//apple_ref/c/func/mbuf_datastart" target="_top" class="function"><span class="function">mbuf_datastart</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A pointer to smallest possible value for data.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the start of the space set aside for storing
data in an mbuf. An mbuf's data may come from a cluster or be
embedded in the mbuf structure itself. The data pointer
retrieved by mbuf_data may not be at the start of the data
(mbuf_leadingspace will be non-zero). This function will return to
you a pointer that matches mbuf_data() - mbuf_leadingspace().
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_dup;   name=mbuf_dup --><a name="//apple_ref/c/func/mbuf_dup"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_dup">mbuf_dup</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_dup" target="_top" class="function"><span class="function">mbuf_dup</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">src</span><!-- /a -->,
    <!-- a --><span class="var">mbuf_how_t</span><!-- /a --> <!-- a --><span class="var">how</span><!-- /a -->,
    <!-- a --><span class="var">mbuf_t</span><!-- /a --><span class="var">*</span> <!-- a --><span class="var">new_mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>src</code></dt>
<dd><p>The source mbuf.</p></dd>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>new_mbuf</code></dt>
<dd><p>Upon success, the newly allocated mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Exactly duplicates an mbuf chain.  If the original mbuf
contains a packet header (including tags), the new mbuf will have
the same packet header contents and a copy of each tag associated
with the original mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_flags;   name=mbuf_flags --><a name="//apple_ref/c/func/mbuf_flags"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_flags">mbuf_flags</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="index.html#//apple_ref/c/tag/mbuf_flags_t" target="_top" class="type"><span class="type">mbuf_flags_t</span></a> <a href="index.html#//apple_ref/c/func/mbuf_flags" target="_top" class="function"><span class="function">mbuf_flags</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The flags.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the set flags.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_free;   name=mbuf_free --><a name="//apple_ref/c/func/mbuf_free"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_free">mbuf_free</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">mbuf_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_free" target="_top" class="function"><span class="function">mbuf_free</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf to free.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The next mbuf in the chain.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Frees a single mbuf. Not commonly used because it
doesn't touch the rest of the mbufs on the chain.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_freecluster;   name=mbuf_freecluster --><a name="//apple_ref/c/func/mbuf_freecluster"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_freecluster">mbuf_freecluster</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_freecluster" target="_top" class="function"><span class="function">mbuf_freecluster</span></a>(
    <a href="../../../../Carbon/Reference/Open_Transport/Reference/reference.html#//apple_ref/c/tdef/caddr_t" target="_top" class="type"><span class="type">caddr_t</span></a> <span class="param">addr</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">size</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>addr</code></dt>
<dd><p>The address of the cluster.</p></dd>
<dt><code>size</code></dt>
<dd><p>The actual size of the cluster.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Free a cluster that was previously allocated by a call
to mbuf_alloccluster().  The caller must pass the actual
size of the cluster as returned by mbuf_alloccluster(),
which at this point must be either 2048, 4096 or 16384 bytes.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_freem;   name=mbuf_freem --><a name="//apple_ref/c/func/mbuf_freem"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_freem">mbuf_freem</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_freem" target="_top" class="function"><span class="function">mbuf_freem</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The first mbuf in the chain to free.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Frees a chain of mbufs link through mnext.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_freem_list;   name=mbuf_freem_list --><a name="//apple_ref/c/func/mbuf_freem_list"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_freem_list">mbuf_freem_list</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">int</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_freem_list" target="_top" class="function"><span class="function">mbuf_freem_list</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The first mbuf in the linked list to free.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The number of mbufs freed.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Frees linked list of mbuf chains. Walks through
mnextpackt and does the equivalent of mbuf_freem to each.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_get;   name=mbuf_get --><a name="//apple_ref/c/func/mbuf_get"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_get">mbuf_get</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_get" target="_top" class="function"><span class="function">mbuf_get</span></a>(
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_type_t" target="_top" class="type"><span class="type">mbuf_type_t</span></a> <span class="param">type</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>type</code></dt>
<dd><p>The type of the mbuf.</p></dd>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success, errno error on failure.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocates an mbuf without a cluster for external data.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_get_csum_requested;   name=mbuf_get_csum_requested --><a name="//apple_ref/c/func/mbuf_get_csum_requested"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_get_csum_requested">mbuf_get_csum_requested</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_get_csum_requested" target="_top" class="function"><span class="function">mbuf_get_csum_requested</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>, 
    <a href="index.html#//apple_ref/c/tag/mbuf_csum_request_flags_t" target="_top" class="type"><span class="type">mbuf_csum_request_flags_t</span></a> <span class="type">*</span><span class="param">request</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="type">*</span><span class="param">value</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet.</p></dd>
<dt><code>request</code></dt>
<dd><p>Flags indicating which checksums are being requested
for this packet.</p></dd>
<dt><code>value</code></dt>
<dd><p>This parameter is currently unsupported.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is used by the driver to determine which
checksum operations should be performed in hardware.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_get_vlan_tag;   name=mbuf_get_vlan_tag --><a name="//apple_ref/c/func/mbuf_get_vlan_tag"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_get_vlan_tag">mbuf_get_vlan_tag</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_get_vlan_tag" target="_top" class="function"><span class="function">mbuf_get_vlan_tag</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">u_int16_t</span><!-- /a --> <span class="type">*</span><span class="param">vlan</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet.</p></dd>
<dt><code>vlan</code></dt>
<dd><p>The protocol family of the aux data to add.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error. ENXIO indicates
that the vlan tag is not set.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is used by drivers that support hardware
vlan tagging to determine which vlan this packet belongs to. To
differentiate between the case where the vlan tag is zero and
the case where there is no vlan tag, this function will return
ENXIO when there is no vlan.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_getcluster;   name=mbuf_getcluster --><a name="//apple_ref/c/func/mbuf_getcluster"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_getcluster">mbuf_getcluster</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_getcluster" target="_top" class="function"><span class="function">mbuf_getcluster</span></a>(
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_type_t" target="_top" class="type"><span class="type">mbuf_type_t</span></a> <span class="param">type</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">size</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>type</code></dt>
<dd><p>The type of the mbuf.</p></dd>
<dt><code>size</code></dt>
<dd><p>The size of the cluster to be allocated. Supported sizes
for a cluster are be 2048, 4096, or 16384. Any other value
with return EINVAL.  Note that clusters greater than 4096
bytes might not be available in all configurations; the
caller must additionally check for ENOTSUP (see below).</p></dd>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf the cluster will be attached to.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success, errno error on failure. If you specified NULL
for the mbuf, any intermediate mbuf that may have been allocated
will be freed. If you specify an mbuf value in *mbuf,
mbuf_mclget will not free it.
EINVAL - Invalid parameter
ENOMEM - Not enough memory available
ENOTSUP - The caller had requested greater than 4096 bytes
cluster and the system is unable to fulfill it due to the
lack of jumbo clusters support based on the configuration.
In this case, the caller is advised to use 4096 bytes or
smaller during subsequent requests.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate a cluster of the requested size and attach it to
an mbuf for use as external data. If mbuf points to a NULL
mbuf_t, an mbuf will be allocated for you. If mbuf points to
a non-NULL mbuf_t, mbuf_getcluster may return a different
mbuf_t than the one you passed in.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_gethdr;   name=mbuf_gethdr --><a name="//apple_ref/c/func/mbuf_gethdr"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_gethdr">mbuf_gethdr</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_gethdr" target="_top" class="function"><span class="function">mbuf_gethdr</span></a>(
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_type_t" target="_top" class="type"><span class="type">mbuf_type_t</span></a> <span class="param">type</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>type</code></dt>
<dd><p>The type of the mbuf.</p></dd>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success, errno error on failure.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocates an mbuf without a cluster for external data.
Sets a flag to indicate there is a packet header and initializes
the packet header.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_getpacket;   name=mbuf_getpacket --><a name="//apple_ref/c/func/mbuf_getpacket"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_getpacket">mbuf_getpacket</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_getpacket" target="_top" class="function"><span class="function">mbuf_getpacket</span></a>(
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>mbuf</code></dt>
<dd><p>Upon success, *mbuf will be a reference to the new mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success, errno error on failure.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate an mbuf, allocate and attach a cluster, and set
the packet header flag.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_inbound_modified;   name=mbuf_inbound_modified --><a name="//apple_ref/c/func/mbuf_inbound_modified"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_inbound_modified">mbuf_inbound_modified</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_inbound_modified" target="_top" class="function"><span class="function">mbuf_inbound_modified</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf that has been modified.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function will clear the checksum flags to indicate
that a hardware checksum should not be used. Any filter
modifying data should call this function on an mbuf before
passing the packet up the stack. If a filter modifies a packet
in a way that affects any checksum, the filter is responsible
for either modifying the checksum to compensate for the changes
or verifying the checksum before making the changes and then
modifying the data and calculating a new checksum only if the
original checksum was valid.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_inet6_cksum;   name=mbuf_inet6_cksum --><a name="//apple_ref/c/func/mbuf_inet6_cksum"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_inet6_cksum">mbuf_inet6_cksum</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_inet6_cksum" target="_top" class="function"><span class="function">mbuf_inet6_cksum</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">int</span><!-- /a --> <span class="param">protocol</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">offset</span>, 
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">length</span>,
    <!-- a --><span class="type">u_int16_t</span><!-- /a --> <span class="type">*</span><span class="param">csum</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf (or chain of mbufs) containing the packet.</p></dd>
<dt><code>protocol</code></dt>
<dd><p>A zero or non-zero value.  A non-zero value specifies
the transport protocol used for pseudo header checksum.</p></dd>
<dt><code>offset</code></dt>
<dd><p>A zero or non-zero value; if the latter, it specifies
the offset of the transport header from the beginning of mbuf.</p></dd>
<dt><code>length</code></dt>
<dd><p>The total (non-zero) length of the transport segment.</p></dd>
<dt><code>csum</code></dt>
<dd><p>Pointer to the checksum variable; upon success, this
routine will return the calculated Internet checksum through
this variable.  The caller must set it to a non-NULL value.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>@discussions Calculates 16-bit 1's complement Internet checksum of the
transport segment with or without the pseudo header checksum
of a given IPv6 packet.  If the caller specifies a non-zero
transport protocol, the checksum returned will also include
the pseudo header checksum for the corresponding transport
header.  Otherwise, no header parsing will be done and the
caller may use this to calculate the Internet checksum of
an arbitrary span of data.
</p>
<p>This routine does not modify the contents of the packet.  If
the caller specifies a non-zero protocol and/or offset, the
routine expects the complete protocol header(s) to be present
at the beginning of the first mbuf.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_inet_cksum;   name=mbuf_inet_cksum --><a name="//apple_ref/c/func/mbuf_inet_cksum"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_inet_cksum">mbuf_inet_cksum</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_inet_cksum" target="_top" class="function"><span class="function">mbuf_inet_cksum</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">int</span><!-- /a --> <span class="param">protocol</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">offset</span>, 
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">length</span>,
    <!-- a --><span class="type">u_int16_t</span><!-- /a --> <span class="type">*</span><span class="param">csum</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf (or chain of mbufs) containing the packet.</p></dd>
<dt><code>protocol</code></dt>
<dd><p>A zero or non-zero value.  A non-zero value specifies
the transport protocol used for pseudo header checksum.</p></dd>
<dt><code>offset</code></dt>
<dd><p>A zero or non-zero value; if the latter, it specifies
the offset of the transport header from the beginning of mbuf.</p></dd>
<dt><code>length</code></dt>
<dd><p>The total (non-zero) length of the transport segment.</p></dd>
<dt><code>csum</code></dt>
<dd><p>Pointer to the checksum variable; upon success, this
routine will return the calculated Internet checksum through
this variable.  The caller must set it to a non-NULL value.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>@discussions Calculates 16-bit 1's complement Internet checksum of the
transport segment with or without the pseudo header checksum
of a given IPv4 packet.  If the caller specifies a non-zero
transport protocol, the checksum returned will also include
the pseudo header checksum for the corresponding transport
header.  Otherwise, no header parsing will be done and the
caller may use this to calculate the Internet checksum of
an arbitrary span of data.
</p>
<p>This routine does not modify the contents of the packet.  If
the caller specifies a non-zero protocol and/or offset, the
routine expects the complete protocol header to be present
at the beginning of the first mbuf.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_leadingspace;   name=mbuf_leadingspace --><a name="//apple_ref/c/func/mbuf_leadingspace"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_leadingspace">mbuf_leadingspace</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">size_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_leadingspace" target="_top" class="function"><span class="function">mbuf_leadingspace</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The number of unused bytes at the start of the mbuf.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Determines the space available in the mbuf proceeding
the current data.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_len;   name=mbuf_len --><a name="//apple_ref/c/func/mbuf_len"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_len">mbuf_len</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">size_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_len" target="_top" class="function"><span class="function">mbuf_len</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The length.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Gets the length of data in this mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_maxlen;   name=mbuf_maxlen --><a name="//apple_ref/c/func/mbuf_maxlen"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_maxlen">mbuf_maxlen</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">size_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_maxlen" target="_top" class="function"><span class="function">mbuf_maxlen</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The maximum lenght of data for this mbuf.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Retrieves the maximum length of data that may be stored
in this mbuf. This value assumes that the data pointer was set
to the start of the possible range for that pointer
(mbuf_data_start).
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_mclget;   name=mbuf_mclget --><a name="//apple_ref/c/func/mbuf_mclget"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_mclget">mbuf_mclget</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_mclget" target="_top" class="function"><span class="function">mbuf_mclget</span></a>(
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_type_t" target="_top" class="type"><span class="type">mbuf_type_t</span></a> <span class="param">type</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>type</code></dt>
<dd><p>The type of the mbuf.</p></dd>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf the cluster will be attached to.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success, errno error on failure. If you specified NULL
for the mbuf, any intermediate mbuf that may have been allocated
will be freed. If you specify an mbuf value in *mbuf,
mbuf_mclget will not free it.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate a cluster and attach it to an mbuf for use as
external data. If mbuf points to a NULL mbuf_t, an mbuf will be
allocated for you. If mbuf points to a non-NULL mbuf_t,
mbuf_mclget may return a different mbuf_t than the one you
passed in.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_mclhasreference;   name=mbuf_mclhasreference --><a name="//apple_ref/c/func/mbuf_mclhasreference"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_mclhasreference">mbuf_mclhasreference</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">int</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_mclhasreference" target="_top" class="function"><span class="function">mbuf_mclhasreference</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf with the cluster to test.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 if there is no reference by another mbuf, 1 otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Check if a cluster of an mbuf is referenced by another mbuf.
References may be taken, for example, as a result of a call to 
mbuf_split or mbuf_copym
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_next;   name=mbuf_next --><a name="//apple_ref/c/func/mbuf_next"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_next">mbuf_next</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">mbuf_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_next" target="_top" class="function"><span class="function">mbuf_next</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The next mbuf in the chain.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the next mbuf in the chain.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_nextpkt;   name=mbuf_nextpkt --><a name="//apple_ref/c/func/mbuf_nextpkt"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_nextpkt">mbuf_nextpkt</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">mbuf_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_nextpkt" target="_top" class="function"><span class="function">mbuf_nextpkt</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The nextpkt.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Gets the next packet from the mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_outbound_finalize;   name=mbuf_outbound_finalize --><a name="//apple_ref/c/func/mbuf_outbound_finalize"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_outbound_finalize">mbuf_outbound_finalize</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_outbound_finalize" target="_top" class="function"><span class="function">mbuf_outbound_finalize</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">u_long</span><!-- /a --> <span class="param">protocol_family</span>, 
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">protocol_offset</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf that should be finalized.</p></dd>
<dt><code>protocol_family</code></dt>
<dd><p>The protocol family of the packet in the
mbuf.</p></dd>
<dt><code>protocol_offset</code></dt>
<dd><p>The offset from the start of the mbuf to the
protocol header. For an IP packet with an ethernet header, this
would be the length of an ethernet header.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function will "finalize" the packet allowing your
code to inspect the final packet.
</p>
<p>There are a number of operations that are performed in hardware,
such as calculating checksums. This function will perform in
software the various opterations that were scheduled to be done
in hardware. Future operations may include IPSec processing or
vlan support. If you are redirecting a packet to a new interface
which may not have the same hardware support or encapsulating
the packet, you should call this function to force the stack to
calculate and fill out the checksums. This will bypass hardware
checksums but give you a complete packet to work with. If you
need to inspect aspects of the packet which may be generated by
hardware, you must call this function to get an aproximate final
packet. If you plan to modify the packet in any way, you should
call this function.
</p>
<p>This function should be called before modifying any outbound
packets.
</p>
<p>This function may be called at various levels, in some cases
additional headers may have already been prepended, such as the
case of a packet seen by an interface filter. To handle this,
the caller must pass the protocol family of the packet as well
as the offset from the start of the packet to the protocol
header.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pkthdr_adjustlen;   name=mbuf_pkthdr_adjustlen --><a name="//apple_ref/c/func/mbuf_pkthdr_adjustlen"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pkthdr_adjustlen">mbuf_pkthdr_adjustlen</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_pkthdr_adjustlen" target="_top" class="function"><span class="function">mbuf_pkthdr_adjustlen</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">int</span><!-- /a --> <span class="param">amount</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet header.</p></dd>
<dt><code>amount</code></dt>
<dd><p>The number of bytes to adjust the packet header length
field by.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Adjusts the length of the packet in the packet header.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pkthdr_header;   name=mbuf_pkthdr_header --><a name="//apple_ref/c/func/mbuf_pkthdr_header"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pkthdr_header">mbuf_pkthdr_header</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a><span class="type">*</span> <a href="index.html#//apple_ref/c/func/mbuf_pkthdr_header" target="_top" class="function"><span class="function">mbuf_pkthdr_header</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet header.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A pointer to the packet header.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns a pointer to the packet header.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pkthdr_len;   name=mbuf_pkthdr_len --><a name="//apple_ref/c/func/mbuf_pkthdr_len"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pkthdr_len">mbuf_pkthdr_len</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">size_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_pkthdr_len" target="_top" class="function"><span class="function">mbuf_pkthdr_len</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet header with the length to
be changed.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The length, in bytes, of the packet.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the length as reported by the packet header.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pkthdr_rcvif;   name=mbuf_pkthdr_rcvif --><a name="//apple_ref/c/func/mbuf_pkthdr_rcvif"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pkthdr_rcvif">mbuf_pkthdr_rcvif</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">ifnet_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_pkthdr_rcvif" target="_top" class="function"><span class="function">mbuf_pkthdr_rcvif</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet header.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A reference to the interface.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the interface the packet was received on. This
funciton does not modify the reference count of the interface.
The interface is only valid for as long as the mbuf is not freed
and the rcvif for the mbuf is not changed. Take a reference on
the interface that you will release later before doing any of
the following: free the mbuf, change the rcvif, pass the mbuf to
any function that may free the mbuf or change the rcvif.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pkthdr_setheader;   name=mbuf_pkthdr_setheader --><a name="//apple_ref/c/func/mbuf_pkthdr_setheader"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pkthdr_setheader">mbuf_pkthdr_setheader</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_pkthdr_setheader" target="_top" class="function"><span class="function">mbuf_pkthdr_setheader</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">header</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet header.</p></dd>
<dt><code>ifnet</code></dt>
<dd><p>A pointer to the header.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the pointer to the packet header.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pkthdr_setlen;   name=mbuf_pkthdr_setlen --><a name="//apple_ref/c/func/mbuf_pkthdr_setlen"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pkthdr_setlen">mbuf_pkthdr_setlen</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_pkthdr_setlen" target="_top" class="function"><span class="function">mbuf_pkthdr_setlen</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">len</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet header.</p></dd>
<dt><code>len</code></dt>
<dd><p>The new length of the packet.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the length of the packet in the packet header.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pkthdr_setrcvif;   name=mbuf_pkthdr_setrcvif --><a name="//apple_ref/c/func/mbuf_pkthdr_setrcvif"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pkthdr_setrcvif">mbuf_pkthdr_setrcvif</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_pkthdr_setrcvif" target="_top" class="function"><span class="function">mbuf_pkthdr_setrcvif</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">ifnet_t</span><!-- /a --> <span class="param">ifp</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet header.</p></dd>
<dt><code>ifnet</code></dt>
<dd><p>A reference to an interface.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the interface the packet was received on.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_prepend;   name=mbuf_prepend --><a name="//apple_ref/c/func/mbuf_prepend"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_prepend">mbuf_prepend</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_prepend" target="_top" class="function"><span class="function">mbuf_prepend</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">len</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf to prepend data to. This may change if a new
mbuf must be allocated or may be NULL if the operation fails.</p></dd>
<dt><code>len</code></dt>
<dd><p>The length, in bytes, to be prepended to the mbuf.</p></dd>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Prepend len bytes to an mbuf. If there is space
(mbuf_leadingspace &gt;= len), the mbuf's data ptr is changed and
the same mbuf is returned. If there is no space, a new mbuf may
be allocated and prepended to the mbuf chain. If the operation
fails, the mbuf may be freed (*mbuf will be NULL).
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pulldown;   name=mbuf_pulldown --><a name="//apple_ref/c/func/mbuf_pulldown"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pulldown">mbuf_pulldown</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_pulldown" target="_top" class="function"><span class="function">mbuf_pulldown</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">src</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="type">*</span><span class="param">offset</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">length</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">location</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>src</code></dt>
<dd><p>The start of the mbuf chain.</p></dd>
<dt><code>offset</code></dt>
<dd><p>Pass in a pointer to a value with the offset of the
data you're interested in making contiguous. Upon success, this
will be overwritten with the offset from the mbuf returned in
location.</p></dd>
<dt><code>length</code></dt>
<dd><p>The length of data that should be made contiguous.</p></dd>
<dt><code>location</code></dt>
<dd><p>Upon success, *location will be the mbuf the data is
in.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Make length bytes at offset in the mbuf chain
contiguous. Nothing before offset bytes in the chain will be
modified. Upon return, location will be the mbuf the data is
contiguous in and offset will be the offset in that mbuf at
which the data is located.  In the case of a failure, the mbuf
chain will be freed.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_pullup;   name=mbuf_pullup --><a name="//apple_ref/c/func/mbuf_pullup"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_pullup">mbuf_pullup</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_pullup" target="_top" class="function"><span class="function">mbuf_pullup</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">mbuf</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">len</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf in the chain the data should be contiguous in.</p></dd>
<dt><code>len</code></dt>
<dd><p>The number of bytes to pull from the next mbuf(s).</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error. In the case of an
error, the mbuf chain has been freed.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Move the next len bytes in to mbuf from other mbufs in
the chain. This is commonly used to get the IP and TCP or UDP
header contiguous in the first mbuf. If mbuf_pullup fails, the
entire mbuf chain will be freed.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_set_csum_performed;   name=mbuf_set_csum_performed --><a name="//apple_ref/c/func/mbuf_set_csum_performed"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_set_csum_performed">mbuf_set_csum_performed</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_set_csum_performed" target="_top" class="function"><span class="function">mbuf_set_csum_performed</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>, 
    <a href="index.html#//apple_ref/c/tag/mbuf_csum_performed_flags_t" target="_top" class="type"><span class="type">mbuf_csum_performed_flags_t</span></a> <span class="param">flags</span>,
    <!-- a --><span class="type">u_int32_t</span><!-- /a --> <span class="param">value</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet.</p></dd>
<dt><code>flags</code></dt>
<dd><p>Flags indicating which hardware checksum operations
were performed.</p></dd>
<dt><code>value</code></dt>
<dd><p>If the MBUF_CSUM_DID_DATA flag is set, value should be
set to the value of the TCP or UDP header as calculated by the
hardware.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This is used by the driver to indicate to the stack which
checksum operations were performed in hardware.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_set_vlan_tag;   name=mbuf_set_vlan_tag --><a name="//apple_ref/c/func/mbuf_set_vlan_tag"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_set_vlan_tag">mbuf_set_vlan_tag</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_set_vlan_tag" target="_top" class="function"><span class="function">mbuf_set_vlan_tag</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">u_int16_t</span><!-- /a --> <span class="param">vlan</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf containing the packet.</p></dd>
<dt><code>vlan</code></dt>
<dd><p>The protocol family of the aux data to add.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is used by interfaces that support vlan
tagging in hardware. This function will set properties in the
mbuf to indicate which vlan the packet was received for.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_setdata;   name=mbuf_setdata --><a name="//apple_ref/c/func/mbuf_setdata"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_setdata">mbuf_setdata</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_setdata" target="_top" class="function"><span class="function">mbuf_setdata</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">data</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">len</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
<dt><code>data</code></dt>
<dd><p>The new pointer value for data.</p></dd>
<dt><code>len</code></dt>
<dd><p>The new length of data in the mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 on success, errno error on failure.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the data and length values for an mbuf. The data
value must be in a valid range. In the case of an mbuf with a cluster,
the data value must point to a location in the cluster and the data
value plus the length, must be less than the end of the cluster. For
data embedded directly in an mbuf (no cluster), the data value must
fall somewhere between the start and end of the data area in the
mbuf and the data + length must also be in the same range.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_setflags;   name=mbuf_setflags --><a name="//apple_ref/c/func/mbuf_setflags"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_setflags">mbuf_setflags</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_setflags" target="_top" class="function"><span class="function">mbuf_setflags</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_flags_t" target="_top" class="type"><span class="type">mbuf_flags_t</span></a> <span class="param">flags</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
<dt><code>flags</code></dt>
<dd><p>The flags that should be set, all other flags will be cleared.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the set of set flags.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_setflags_mask;   name=mbuf_setflags_mask --><a name="//apple_ref/c/func/mbuf_setflags_mask"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_setflags_mask">mbuf_setflags_mask</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_setflags_mask" target="_top" class="function"><span class="function">mbuf_setflags_mask</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_flags_t" target="_top" class="type"><span class="type">mbuf_flags_t</span></a> <span class="param">flags</span>, 
    <a href="index.html#//apple_ref/c/tag/mbuf_flags_t" target="_top" class="type"><span class="type">mbuf_flags_t</span></a> <span class="param">mask</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
<dt><code>flags</code></dt>
<dd><p>The flags that should be set or cleared.</p></dd>
<dt><code>mask</code></dt>
<dd><p>The mask controlling which flags will be modified.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Useful for setting or clearing individual flags. Easier
than calling mbuf_setflags(m, mbuf_flags(m) | M_FLAG).
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_setlen;   name=mbuf_setlen --><a name="//apple_ref/c/func/mbuf_setlen"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_setlen">mbuf_setlen</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_setlen" target="_top" class="function"><span class="function">mbuf_setlen</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">len</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
<dt><code>len</code></dt>
<dd><p>The new length.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the length of data in this packet. Be careful to
not set the length over the space available in the mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_setnext;   name=mbuf_setnext --><a name="//apple_ref/c/func/mbuf_setnext"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_setnext">mbuf_setnext</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_setnext" target="_top" class="function"><span class="function">mbuf_setnext</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">next</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
<dt><code>next</code></dt>
<dd><p>The new next mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the next mbuf in the chain.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_setnextpkt;   name=mbuf_setnextpkt --><a name="//apple_ref/c/func/mbuf_setnextpkt"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_setnextpkt">mbuf_setnextpkt</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_setnextpkt" target="_top" class="function"><span class="function">mbuf_setnextpkt</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">nextpkt</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
<dt><code>nextpkt</code></dt>
<dd><p>The new next packet.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the next packet attached to this mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_settype;   name=mbuf_settype --><a name="//apple_ref/c/func/mbuf_settype"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_settype">mbuf_settype</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_settype" target="_top" class="function"><span class="function">mbuf_settype</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <a href="index.html#//apple_ref/c/tag/mbuf_type_t" target="_top" class="type"><span class="type">mbuf_type_t</span></a> <span class="param">new_type</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
<dt><code>new_type</code></dt>
<dd><p>The new type.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the type of mbuf.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_split;   name=mbuf_split --><a name="//apple_ref/c/func/mbuf_split"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_split">mbuf_split</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_split" target="_top" class="function"><span class="function">mbuf_split</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">src</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">offset</span>, 
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="type">*</span><span class="param">new_mbuf</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>src</code></dt>
<dd><p>The mbuf to be split.</p></dd>
<dt><code>offset</code></dt>
<dd><p>The offset in the buffer where the mbuf should be
split.</p></dd>
<dt><code>how</code></dt>
<dd><p>Blocking or non-blocking.</p></dd>
<dt><code>new_mbuf</code></dt>
<dd><p>Upon success, the second half of the split mbuf
chain.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error. In the case of
failure, the original mbuf chain passed in to src will be
preserved.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Split an mbuf chain at a specific offset.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_stats;   name=mbuf_stats --><a name="//apple_ref/c/func/mbuf_stats"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_stats">mbuf_stats</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_stats" target="_top" class="function"><span class="function">mbuf_stats</span></a>(
    <span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/mbuf_stat" target="_top" class="type"><span class="type">mbuf_stat</span></a> <span class="type">*</span><span class="param">stats</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>stats</code></dt>
<dd><p>Storage to copy the stats in to.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Get the mbuf statistics.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_tag_allocate;   name=mbuf_tag_allocate --><a name="//apple_ref/c/func/mbuf_tag_allocate"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_tag_allocate">mbuf_tag_allocate</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_tag_allocate" target="_top" class="function"><span class="function">mbuf_tag_allocate</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">mbuf_tag_id_t</span><!-- /a --> <span class="param">module_id</span>, 
    <!-- a --><span class="type">mbuf_tag_type_t</span><!-- /a --> <span class="param">type</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="param">length</span>, 
    <a href="index.html#//apple_ref/c/tag/mbuf_how_t" target="_top" class="type"><span class="type">mbuf_how_t</span></a> <span class="param">how</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="type">*</span><span class="param">data_p</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf to attach this tag to.</p></dd>
<dt><code>module_id</code></dt>
<dd><p>A module identifier returned by mbuf_tag_id_find.</p></dd>
<dt><code>type</code></dt>
<dd><p>A 16 bit type value. For a given module_id, you can use
a number of different tag types.</p></dd>
<dt><code>length</code></dt>
<dd><p>The length, in bytes, to allocate for storage that
will be associated with this tag on this mbuf.</p></dd>
<dt><code>how</code></dt>
<dd><p>Indicate whether you want to block and wait for memory if
memory is not immediately available.</p></dd>
<dt><code>data_p</code></dt>
<dd><p>Upon successful return, *data_p will point to the
buffer allocated for the mtag.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate an mbuf tag. Mbuf tags allow various portions
of the stack to tag mbufs with data that will travel with the
mbuf through the stack.
</p>
<p>Tags may only be added to mbufs with packet headers 
(MBUF_PKTHDR flag is set). Mbuf tags are freed when the mbuf is
freed or when mbuf_tag_free is called.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_tag_find;   name=mbuf_tag_find --><a name="//apple_ref/c/func/mbuf_tag_find"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_tag_find">mbuf_tag_find</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_tag_find" target="_top" class="function"><span class="function">mbuf_tag_find</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">mbuf_tag_id_t</span><!-- /a --> <span class="param">module_id</span>, 
    <!-- a --><span class="type">mbuf_tag_type_t</span><!-- /a --> <span class="param">type</span>,
    <!-- a --><span class="type">size_t</span><!-- /a --> <span class="type">*</span><span class="param">length</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="type">*</span><span class="param">data_p</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf the tag is attached to.</p></dd>
<dt><code>module_id</code></dt>
<dd><p>A module identifier returned by mbuf_tag_id_find.</p></dd>
<dt><code>type</code></dt>
<dd><p>The 16 bit type of the tag to find.</p></dd>
<dt><code>length</code></dt>
<dd><p>Upon success, the length of data will be store in
*length.</p></dd>
<dt><code>data_p</code></dt>
<dd><p>Upon successful return, *data_p will point to the
buffer allocated for the mtag.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Find the data associated with an mbuf tag.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_tag_free;   name=mbuf_tag_free --><a name="//apple_ref/c/func/mbuf_tag_free"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_tag_free">mbuf_tag_free</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/mbuf_tag_free" target="_top" class="function"><span class="function">mbuf_tag_free</span></a>(
    <!-- a --><span class="type">mbuf_t</span><!-- /a --> <span class="param">mbuf</span>,
    <!-- a --><span class="type">mbuf_tag_id_t</span><!-- /a --> <span class="param">module_id</span>, 
    <!-- a --><span class="type">mbuf_tag_type_t</span><!-- /a --> <span class="param">type</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf the tag was allocated on.</p></dd>
<dt><code>module_id</code></dt>
<dd><p>The ID of the tag to free.</p></dd>
<dt><code>type</code></dt>
<dd><p>The type of the tag to free.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Frees a previously allocated mbuf tag.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_tag_id_find;   name=mbuf_tag_id_find --><a name="//apple_ref/c/func/mbuf_tag_id_find"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_tag_id_find">mbuf_tag_id_find</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">errno_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_tag_id_find" target="_top" class="function"><span class="function">mbuf_tag_id_find</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">char</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">module_string</span><!-- /a -->, 
    <!-- a --><span class="var">mbuf_tag_id_t</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">module_id</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>module_string</code></dt>
<dd><p>A unique string identifying your module.
Example: com.apple.nke.SharedIP.</p></dd>
<dt><code>module_id</code></dt>
<dd><p>Upon return, a unique identifier for use with
mbuf_tag_* functions. This identifier is valid until the machine
is rebooted.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->0 upon success otherwise the errno error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Lookup the module id for a string. If there is no module
id assigned to this string, a new module id will be assigned.
The string should be the bundle id of the kext. In the case of a
tag that will be shared across multiple kexts, a common bundle id
style string should be used.
</p>
<p>The lookup operation is not optimized. A module should call this
function once during startup and chache the module id. The module id
will not be resassigned until the machine reboots.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_trailingspace;   name=mbuf_trailingspace --><a name="//apple_ref/c/func/mbuf_trailingspace"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_trailingspace">mbuf_trailingspace</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><!-- a --><span class="type">size_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/mbuf_trailingspace" target="_top" class="function"><span class="function">mbuf_trailingspace</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The number of unused bytes following the current data.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Determines the space available in the mbuf following
the current data.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/mbuf_type;   name=mbuf_type --><a name="//apple_ref/c/func/mbuf_type"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_type">mbuf_type</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><a href="index.html#//apple_ref/c/tag/mbuf_type_t" target="_top" class="type"><span class="type">mbuf_type_t</span></a> <a href="index.html#//apple_ref/c/func/mbuf_type" target="_top" class="function"><span class="function">mbuf_type</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">mbuf_t</span><!-- /a --> <!-- a --><span class="var">mbuf</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mbuf</code></dt>
<dd><p>The mbuf.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The type.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Gets the type of mbuf.
<!-- end discussion -->
</p>
<p></p>
<h2>Structs and Unions</h2>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/mbuf_stat;   name=mbuf_stat --><a name="//apple_ref/c/tag/mbuf_stat"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_stat">mbuf_stat</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/mbuf_stat" target="_top" class="type"><span class="type">mbuf_stat</span></a> { 
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">mbufs</span><!-- /a -->; <span class="comment">/* mbufs obtained from page pool */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">clusters</span><!-- /a -->; <span class="comment">/* clusters obtained from page pool */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">clfree</span><!-- /a -->; <span class="comment">/* free clusters */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">drops</span><!-- /a -->; <span class="comment">/* times failed to find space */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">wait</span><!-- /a -->; <span class="comment">/* times waited for space */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">drain</span><!-- /a -->; <span class="comment">/* times drained protocols for space */</span>
    <!-- a --><span class="type">u_short</span><!-- /a --> <!-- a --><span class="type">mtypes</span><!-- /a -->[<span class="number">256</span>]; <span class="comment">/* type specific mbuf allocations */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">mcfail</span><!-- /a -->; <span class="comment">/* times m_copym failed */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">mpfail</span><!-- /a -->; <span class="comment">/* times m_pullup failed */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">msize</span><!-- /a -->; <span class="comment">/* length of an mbuf */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">mclbytes</span><!-- /a -->; <span class="comment">/* length of an mbuf cluster */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">minclsize</span><!-- /a -->; <span class="comment">/* min length of data to allocate a cluster */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">mlen</span><!-- /a -->; <span class="comment">/* length of data in an mbuf */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">mhlen</span><!-- /a -->; <span class="comment">/* length of data in a header mbuf */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">bigclusters</span><!-- /a -->; <span class="comment">/* number of big clusters */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">bigclfree</span><!-- /a -->; <span class="comment">/* number of big clustser free */</span>
    <!-- a --><span class="type">u_long</span><!-- /a --> <!-- a --><span class="var">bigmclbytes</span><!-- /a -->; <span class="comment">/* length of data in a big cluster */</span>
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>mbufs</code></dt>
<dd><p>Number of mbufs (free or otherwise).</p></dd>
<dt><code>clusters</code></dt>
<dd><p>Number of clusters (free or otherwise).</p></dd>
<dt><code>clfree</code></dt>
<dd><p>Number of free clusters.</p></dd>
<dt><code>drops</code></dt>
<dd><p>Number of times allocation failed.</p></dd>
<dt><code>wait</code></dt>
<dd><p>Number of times allocation blocked.</p></dd>
<dt><code>drain</code></dt>
<dd><p>Number of times protocol drain functions were called.</p></dd>
<dt><code>mtypes</code></dt>
<dd><p>An array of counts of each type of mbuf allocated.</p></dd>
<dt><code>mcfail</code></dt>
<dd><p>Number of times m_copym failed.</p></dd>
<dt><code>mpfail</code></dt>
<dd><p>Number of times m_pullup failed.</p></dd>
<dt><code>msize</code></dt>
<dd><p>Length of an mbuf.</p></dd>
<dt><code>mclbytes</code></dt>
<dd><p>Length of an mbuf cluster.</p></dd>
<dt><code>minclsize</code></dt>
<dd><p>Minimum length of data to allocate a cluster.
Anything smaller than this should be placed in chained mbufs.</p></dd>
<dt><code>mlen</code></dt>
<dd><p>Length of data in an mbuf.</p></dd>
<dt><code>mhlen</code></dt>
<dd><p>Length of data in an mbuf with a packet header.</p></dd>
<dt><code>bigclusters</code></dt>
<dd><p>Number of big clusters.</p></dd>
<dt><code>bigclfree</code></dt>
<dd><p>Number of unused big clusters.</p></dd>
<dt><code>bigmclbytes</code></dt>
<dd><p>Length of a big mbuf cluster.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The mbuf_stat contains mbuf statistics.
<!-- end discussion -->
</p>
<p></p>
<h2>Enumerations</h2>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/mbuf_csum_performed_flags_t;   name=mbuf_csum_performed_flags_t --><a name="//apple_ref/c/tag/mbuf_csum_performed_flags_t"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_csum_performed_flags_t">mbuf_csum_performed_flags_t</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Checksum performed/requested flags.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">enum</span> { 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_CSUM_DID_IP" target="_top" class="var"><span class="var">MBUF_CSUM_DID_IP</span></a> = <span class="number">0x0100</span>, 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_CSUM_IP_GOOD" target="_top" class="var"><span class="var">MBUF_CSUM_IP_GOOD</span></a> = <span class="number">0x0200</span>, 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_CSUM_DID_DATA" target="_top" class="var"><span class="var">MBUF_CSUM_DID_DATA</span></a> = <span class="number">0x0400</span>, 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_CSUM_PSEUDO_HDR" target="_top" class="var"><span class="var">MBUF_CSUM_PSEUDO_HDR</span></a> = <span class="number">0x0800</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/mbuf_csum_performed_flags_t/MBUF_CSUM_DID_IP"><code>MBUF_CSUM_DID_IP</code></a></dt>
<dd><p>Indicates that the driver/hardware verified
the IP checksum in hardware.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_csum_performed_flags_t/MBUF_CSUM_IP_GOOD"><code>MBUF_CSUM_IP_GOOD</code></a></dt>
<dd><p>Indicates whether or not the IP checksum
was good or bad. Only valid when MBUF_CSUM_DID_IP is set.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_csum_performed_flags_t/MBUF_CSUM_DID_DATA"><code>MBUF_CSUM_DID_DATA</code></a></dt>
<dd><p>Indicates that the TCP or UDP checksum
was calculated. The value for the checksum calculated in
hardware should be passed as the second parameter of
mbuf_set_csum_performed. The hardware calculated checksum value
can be retrieved using the second parameter passed to
mbuf_get_csum_performed.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_csum_performed_flags_t/MBUF_CSUM_PSEUDO_HDR"><code>MBUF_CSUM_PSEUDO_HDR</code></a></dt>
<dd><p>If set, this indicates that the
checksum value for MBUF_CSUM_DID_DATA includes the pseudo header
value. If this is not set, the stack will calculate the pseudo
header value and add that to the checksum. The value of this bit
is only valid when MBUF_CSUM_DID_DATA is set.</p></dd>
</dl>
</blockquote>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Mbufs often contain packets. Some hardware supports
performing checksums in hardware. The driver uses these flags to
communicate to the stack the checksums that were calculated in
hardware.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/mbuf_csum_request_flags_t;   name=mbuf_csum_request_flags_t --><a name="//apple_ref/c/tag/mbuf_csum_request_flags_t"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_csum_request_flags_t">mbuf_csum_request_flags_t</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Checksum performed/requested flags.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">enum</span> { 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_CSUM_REQ_IP" target="_top" class="var"><span class="var">MBUF_CSUM_REQ_IP</span></a> = <span class="number">0x0001</span>, 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_CSUM_REQ_TCP" target="_top" class="var"><span class="var">MBUF_CSUM_REQ_TCP</span></a> = <span class="number">0x0002</span>, 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_CSUM_REQ_UDP" target="_top" class="var"><span class="var">MBUF_CSUM_REQ_UDP</span></a> = <span class="number">0x0004</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/mbuf_csum_request_flags_t/MBUF_CSUM_REQ_IP"><code>MBUF_CSUM_REQ_IP</code></a></dt>
<dd><p>Indicates the IP checksum has not been
calculated yet.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_csum_request_flags_t/MBUF_CSUM_REQ_TCP"><code>MBUF_CSUM_REQ_TCP</code></a></dt>
<dd><p>Indicates the TCP checksum has not been
calculated yet.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_csum_request_flags_t/MBUF_CSUM_REQ_UDP"><code>MBUF_CSUM_REQ_UDP</code></a></dt>
<dd><p>Indicates the UDP checksum has not been
calculated yet.</p></dd>
</dl>
</blockquote>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Mbufs often contain packets. Some hardware supports
performing checksums in hardware. The stack uses these flags to
indicate to the driver what sort of checksumming should be
handled in by the driver/hardware. These flags will only be set
if the driver indicates that it supports the corresponding
checksums using ifnet_set_offload.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/mbuf_flags_t;   name=mbuf_flags_t --><a name="//apple_ref/c/tag/mbuf_flags_t"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_flags_t">mbuf_flags_t</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Constants defining mbuf flags. Only the flags listed below
can be set or retrieved.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">enum</span> { 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_EXT" target="_top" class="var"><span class="var">MBUF_EXT</span></a> = <span class="number">0x0001</span>, <span class="comment">/* has associated external storage */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_PKTHDR" target="_top" class="var"><span class="var">MBUF_PKTHDR</span></a> = <span class="number">0x0002</span>, <span class="comment">/* start of record */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_EOR" target="_top" class="var"><span class="var">MBUF_EOR</span></a> = <span class="number">0x0004</span>, <span class="comment">/* end of record */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_BCAST" target="_top" class="var"><span class="var">MBUF_BCAST</span></a> = <span class="number">0x0100</span>, <span class="comment">/* send/received as link-level broadcast */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_MCAST" target="_top" class="var"><span class="var">MBUF_MCAST</span></a> = <span class="number">0x0200</span>, <span class="comment">/* send/received as link-level multicast */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_FRAG" target="_top" class="var"><span class="var">MBUF_FRAG</span></a> = <span class="number">0x0400</span>, <span class="comment">/* packet is a fragment of a larger packet */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_FIRSTFRAG" target="_top" class="var"><span class="var">MBUF_FIRSTFRAG</span></a> = <span class="number">0x0800</span>, <span class="comment">/* packet is first fragment */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_LASTFRAG" target="_top" class="var"><span class="var">MBUF_LASTFRAG</span></a> = <span class="number">0x1000</span>, <span class="comment">/* packet is last fragment */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_PROMISC" target="_top" class="var"><span class="var">MBUF_PROMISC</span></a> = <span class="number">0x2000</span> <span class="comment">/* packet is promiscuous */</span>
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_EXT"><code>MBUF_EXT</code></a></dt>
<dd><p>Indicates this mbuf has external data.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_PKTHDR"><code>MBUF_PKTHDR</code></a></dt>
<dd><p>Indicates this mbuf has a packet header.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_EOR"><code>MBUF_EOR</code></a></dt>
<dd><p>Indicates this mbuf is the end of a record.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_BCAST"><code>MBUF_BCAST</code></a></dt>
<dd><p>Indicates this packet will be sent or was
received as a brodcast.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_MCAST"><code>MBUF_MCAST</code></a></dt>
<dd><p>Indicates this packet will be sent or was
received as a multicast.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_FRAG"><code>MBUF_FRAG</code></a></dt>
<dd><p>Indicates this packet is a fragment of a larger
packet.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_FIRSTFRAG"><code>MBUF_FIRSTFRAG</code></a></dt>
<dd><p>Indicates this packet is the first fragment.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_LASTFRAG"><code>MBUF_LASTFRAG</code></a></dt>
<dd><p>Indicates this packet is the last fragment.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_flags_t/MBUF_PROMISC"><code>MBUF_PROMISC</code></a></dt>
<dd><p>Indicates this packet was only received
because the interface is in promiscuous mode. This should be set
by the demux function. These packets will be discarded after
being passed to any interface filters.</p></dd>
</dl>
</blockquote>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/mbuf_how_t;   name=mbuf_how_t --><a name="//apple_ref/c/tag/mbuf_how_t"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_how_t">mbuf_how_t</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Method of allocating an mbuf.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">enum</span> { 
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_WAITOK" target="_top" class="var"><span class="var">MBUF_WAITOK</span></a> = <span class="number">0</span>, <span class="comment">/* Ok to block to get memory */</span>
    <a href="../../KPI_Reference/kpi_mbuf/CompositePage.html#//apple_ref/c/econst/MBUF_DONTWAIT" target="_top" class="var"><span class="var">MBUF_DONTWAIT</span></a> = <span class="number">1</span> <span class="comment">/* Don't block, fail if blocking would be required */</span>
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/mbuf_how_t/MBUF_WAITOK"><code>MBUF_WAITOK</code></a></dt>
<dd><p>Allow a call to allocate an mbuf to block.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_how_t/MBUF_DONTWAIT"><code>MBUF_DONTWAIT</code></a></dt>
<dd><p>Don't allow the mbuf allocation call to
block, if blocking is necessary fail and return immediately.</p></dd>
</dl>
</blockquote>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Blocking will cause the funnel to be dropped. If the
funnel is dropped, other threads may make changes to networking
data structures. This can lead to very bad things happening.
Blocking on the input our output path can also impact
performance. There are some cases where making a blocking call
is acceptable. When in doubt, use MBUF_DONTWAIT.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/mbuf_type_t;   name=mbuf_type_t --><a name="//apple_ref/c/tag/mbuf_type_t"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="mbuf_type_t">mbuf_type_t</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Types of mbufs.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">enum</span> { 
    <!-- a --><span class="var">MBUF_TYPE_FREE</span><!-- /a --> = <span class="number">0</span>, <span class="comment">/* should be on free list */</span>
    <!-- a --><span class="var">MBUF_TYPE_DATA</span><!-- /a --> = <span class="number">1</span>, <span class="comment">/* dynamic (data) allocation */</span>
    <!-- a --><span class="var">MBUF_TYPE_HEADER</span><!-- /a --> = <span class="number">2</span>, <span class="comment">/* packet header */</span>
    <!-- a --><span class="var">MBUF_TYPE_SOCKET</span><!-- /a --> = <span class="number">3</span>, <span class="comment">/* socket structure */</span>
    <!-- a --><span class="var">MBUF_TYPE_PCB</span><!-- /a --> = <span class="number">4</span>, <span class="comment">/* protocol control block */</span>
    <!-- a --><span class="var">MBUF_TYPE_RTABLE</span><!-- /a --> = <span class="number">5</span>, <span class="comment">/* routing tables */</span>
    <!-- a --><span class="var">MBUF_TYPE_HTABLE</span><!-- /a --> = <span class="number">6</span>, <span class="comment">/* IMP host tables */</span>
    <!-- a --><span class="var">MBUF_TYPE_ATABLE</span><!-- /a --> = <span class="number">7</span>, <span class="comment">/* address resolution tables */</span>
    <!-- a --><span class="var">MBUF_TYPE_SONAME</span><!-- /a --> = <span class="number">8</span>, <span class="comment">/* socket name */</span>
    <!-- a --><span class="var">MBUF_TYPE_SOOPTS</span><!-- /a --> = <span class="number">10</span>, <span class="comment">/* socket options */</span>
    <!-- a --><span class="var">MBUF_TYPE_FTABLE</span><!-- /a --> = <span class="number">11</span>, <span class="comment">/* fragment reassembly header */</span>
    <!-- a --><span class="var">MBUF_TYPE_RIGHTS</span><!-- /a --> = <span class="number">12</span>, <span class="comment">/* access rights */</span>
    <!-- a --><span class="var">MBUF_TYPE_IFADDR</span><!-- /a --> = <span class="number">13</span>, <span class="comment">/* interface address */</span>
    <!-- a --><span class="var">MBUF_TYPE_CONTROL</span><!-- /a --> = <span class="number">14</span>, <span class="comment">/* extra-data protocol message */</span>
    <!-- a --><span class="var">MBUF_TYPE_OOBDATA</span><!-- /a --> = <span class="number">15</span> <span class="comment">/* expedited data  */</span>
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_FREE"><code>MBUF_MT_FREE</code></a></dt>
<dd><p>Indicates the mbuf is free and is
sitting on the queue of free mbufs. If you find that an mbuf you
have a reference to has this type, something has gone terribly
wrong.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_DATA"><code>MBUF_MT_DATA</code></a></dt>
<dd><p>Indicates this mbuf is being used to store
data.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_HEADER"><code>MBUF_MT_HEADER</code></a></dt>
<dd><p>Indicates this mbuf has a packet header,
this is probably a packet.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_SOCKET"><code>MBUF_MT_SOCKET</code></a></dt>
<dd><p>Socket structure.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_PCB"><code>MBUF_MT_PCB</code></a></dt>
<dd><p>Protocol control block.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_RTABLE"><code>MBUF_MT_RTABLE</code></a></dt>
<dd><p>Routing table entry.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_HTABLE"><code>MBUF_MT_HTABLE</code></a></dt>
<dd><p>IMP host tables???.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_ATABLE"><code>MBUF_MT_ATABLE</code></a></dt>
<dd><p>Address resolution table data.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_SONAME"><code>MBUF_MT_SONAME</code></a></dt>
<dd><p>Socket name, usually a sockaddr of some
sort.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_FTABLE"><code>MBUF_MT_FTABLE</code></a></dt>
<dd><p>Fragment reassembly header.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_RIGHTS"><code>MBUF_MT_RIGHTS</code></a></dt>
<dd><p>Access rights.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_IFADDR"><code>MBUF_MT_IFADDR</code></a></dt>
<dd><p>Interface address.</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_CONTROL"><code>MBUF_MT_CONTROL</code></a></dt>
<dd><p>Extra-data protocol message (control
message).</p></dd>
<dt><a name="//apple_ref/c/econst/mbuf_type_t/MBUF_MT_OOBDATA"><code>MBUF_MT_OOBDATA</code></a></dt>
<dd><p>Out of band data.</p></dd>
</dl>
</blockquote>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Some mbufs represent packets, some represnt data waiting
on sockets. Other mbufs store control data or other various
structures. The mbuf type is used to store what sort of data the
mbuf contains.
<!-- end discussion -->
</p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/kpi_mbuf_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/kpi_mbuf_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/kpi_mbuf_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</div>
<!-- headerDoc=Header;  uid=//apple_ref/doc/header/kpi_mbuf.h;   name=kpi_mbuf.h --><a name="//apple_ref/doc/header/kpi_mbuf.h"></a>
</body>
</html>
