<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Accessibility Overview: The Mac OS X Accessibility Protocol</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="The Mac OS X Accessibility Protocol"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001078-CH208" title="The Mac OS X Accessibility Protocol"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../UserExperience/index.html#//apple_ref/doc/uid/TP30000440-TP30000437" target="_top">User Experience</a> &gt; <a href="../../../../UserExperience/Accessibility-date.html#//apple_ref/doc/uid/TP30000440-TP30000437-TP30000441" target="_top">Accessibility</a> &gt; <a href="../OSXAXIntro/OSXAXintro.html#//apple_ref/doc/uid/TP40001078-CH205-BABGJCGG">Accessibility Overview</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../OSXAXDeveloping/OSXAXDeveloping.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../OSXAXTesting/OSXAXTestingApps.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001078-CH208-TPXREF101" title="The Mac OS X Accessibility Protocol"></a><h1>The Mac OS X Accessibility Protocol</h1><p>In Mac OS X version 10.2, Apple introduced the accessibility framework. This framework includes:</p><ul class="ul"><li class="li"><p>The accessibility protocol that both Carbon and Cocoa frameworks implement to allow applications to represent themselves to assistive applications and technologies</p></li><li class="li"><p>APIs an assistive application uses to drive the user interface of another application running in Mac OS X</p></li></ul><p>This chapter introduces the accessibility protocol. It describes:</p><ul class="ul"><li class="li"><p>The model that represents accessible applications to assistive technologies</p></li><li class="li"><p>The accessibility object that represents user interface objects</p></li><li class="li"><p>Some of the ways an assistive application interacts with an accessible application</p></li></ul><p>If you’re an application developer, you should read this chapter to learn about the Mac OS X accessibility protocol. Then, if you’re ready to access-enable your application, you should read <em><a href="../../../../Cocoa/Conceptual/Accessibility/index.html#//apple_ref/doc/uid/10000118i" target="_top">Accessibility Programming Guidelines for Cocoa</a></em> or <em><a href="../../../../Carbon/Conceptual/MakingAppsAccessible/index.html#//apple_ref/doc/uid/TP30001127" target="_top">Accessibility Programming Guidelines for Carbon</a></em>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40001078-CH208-DontLinkElementID_56" title="Important:"></a><p><strong>Important:</strong>&nbsp;If your application uses only standard, noncustom Carbon or Cocoa objects, most of your application is already accessible. There remain a few things you must do, however. This chapter provides fundamental information about the accessibility protocol that helps you understand the reasons for these things.</p><p></p></div><div class="notebox"><a name="//apple_ref/doc/uid/TP40001078-CH208-DontLinkElementID_57" title="Note"></a><p><strong>Note:</strong>&nbsp;Java developers should implement the Java Accessibility API (the <code>javax.accessibility</code> package) to ensure their applications are accessible (both Swing and AWT interfaces are accessible). See for more information on this API, see the Java 1.4.2 API reference in the <span class="content_text"><a href="../../../../../referencelibrary/Java/index.html#//apple_ref/doc/uid/TP30000943-TP30000425" target="_top">Java Reference Library</a></span>.</p></div><p>If you are developing an assistive application, you should read this chapter to learn how accessible applications represent themselves in Mac OS X. You’ll find out what information your assistive application can expect to get from an accessible application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-TPXREF102">The Accessibility Model</a>
				
			<br/>
			
        
			
			
				<a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-BEIGFFHE">The Accessibility Object</a>
				
			<br/>
			
        
			
			
				<a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-DontLinkElementID_7">Communication With Accessibility Objects</a>
				
			<br/>
			
        
			
			
				<a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-TPXREF108">An Example of Accessibility</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001078-CH208-TPXREF102" title="The Accessibility Model"></a><h2>The Accessibility Model</h2><p>An assistive application helps a user interact with the applications on the user’s computer. To do this, an assistive application must be able to access everything in an application’s user interface and perform all the application’s functions. To be accessible, therefore, an application must provide information about its user interface and capabilities in a standard manner that any assistive application or technology can understand. </p><p>This is a challenge because each application type has its own native way of representing its user interface. Cocoa applications, for example, use the NSWindow and NSControl classes to display windows and controls. A modern Carbon application, on the other hand, uses HIObject and HIView objects to implement its user interface. Other types of applications use other native constructs.</p><p>Apple solved this problem in Mac OS X version 10.2 with the introduction of a generic object, called an accessibility object. In an accessible application, a user interface element, such as a window, a control, and even the application itself is represented by an accessibility object. To learn more about the accessibility object and the information it provides, see <span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-BEIGFFHE">“The Accessibility Object.”</a></span></p><p>Accessibility objects provide a uniform representation of an application’s user interface elements, regardless of the application framework on which the application depends. <span class="content_text">Figure 3-1</span> shows how an assistive application communicates with different types of applications using the accessibility objects the applications provide.</p><br/><div><a name="//apple_ref/doc/uid/TP40001078-CH208-CHDFBGCI" title="Figure 3-1Communication between an assistive application and other applications"></a><p><strong>Figure 3-1&nbsp;&nbsp;</strong>Communication between an assistive application and other applications</p><img src = "../art/axo_uielementinterface.gif" alt = "Communication between an assistive application and other applications" width="626" height="242"></div><br/><p>The Mac OS X accessibility model represents an application’s user interface as a hierarchy of accessibility objects. For the most part, the hierarchy is defined by the parent-child relationships among accessibility objects. For example, an application’s dialog window might contain several buttons. The accessibility object representing the dialog contains a list of child accessibility objects, each representing a button in the dialog. In turn, each accessibility object representing one of the buttons knows its parent is the accessibility object representing the dialog. </p><p>Of course, the accessibility objects representing the menu bar and windows in an application are children of the application-level accessibility object. Even the application-level accessibility object has a parent, which is the system-wide accessibility object. An application never needs to worry about its system-wide parent because it is out of the application’s scope. On the other hand, an assistive application might query the system-wide accessibility object to find out which running application has keyboard focus.</p><p><span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-CHDIJDAE">Figure 3-2</a></span> shows the hierarchy of accessibility objects in a simple application. </p><br/><div><a name="//apple_ref/doc/uid/TP40001078-CH208-CHDIJDAE" title="Figure 3-2The accessibility object hierarchy"></a><p><strong>Figure 3-2&nbsp;&nbsp;</strong>The accessibility object hierarchy</p><img src = "../art/axo_axhierarchy.gif" alt = "The accessibility object hierarchy" width="341" height="306"></div><br/><p>A strength of the accessibility object hierarchy is that it can leave out implementation-specific details that are irrelevant to an assistive application and, by extension, to the user. For example, in Cocoa, a button in a window is usually implemented as a button cell within a button control, which is in a content view within a window. A user has no interest in this detailed containment hierarchy; she only needs to know that there’s a button in a window. If the application’s accessibility hierarchy contains an accessibility object for each of these intermediate objects, however, an assistive application has no choice but to present them to the user. This results in a poor user experience because the user is forced to take several steps to get from the window to the button. <span class="content_text">Figure 3-3</span> shows how such an inheritance hierarchy might look.</p><br/><div><a name="//apple_ref/doc/uid/TP40001078-CH208-CHDCHBFH" title="Figure 3-3Complete inheritance hierarchy of a button in a window"></a><p><strong>Figure 3-3&nbsp;&nbsp;</strong>Complete inheritance hierarchy of a button in a window</p><img src = "../art/axo_largehierarchy.gif" alt = "Complete inheritance hierarchy of a button in a window" width="189" height="214"></div><br/><p>To exclude this unnecessary information, the accessibility protocol allows an application to specify some accessibility objects as ignored. Continuing the Cocoa button example, the application can designate as ignored the accessibility objects representing the button control and the content view. This allows an application to present to an assistive application only the significant objects in its accessibility hierarchy. <span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-CHDCCBBE">Figure 3-4</a></span> shows how the same hierarchy shown in <span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-CHDCHBFH">Figure 3-3</a></span> might be presented to an assistive application.</p><br/><div><a name="//apple_ref/doc/uid/TP40001078-CH208-CHDCCBBE" title="Figure 3-4Appropriate accessibility hierarchy of a button in a window"></a><p><strong>Figure 3-4&nbsp;&nbsp;</strong>Appropriate accessibility hierarchy of a button in a window</p><img src = "../art/axo_smallhierarchy.gif" alt = "Appropriate accessibility hierarchy of a button in a window" width="189" height="214"></div><br/><p>An assistive application helps a user perform tasks by telling an application’s accessibility objects to perform actions. For the most part, actions correspond to things a user can do with a single mouse click. Each accessibility object contains information about which actions it supports, if any. The accessibility object representing a button, for example, supports the press action. When a user wants to press a button, he communicates this to the assistive application. The assistive application determines that the button’s accessibility object supports the press action and sends a request to the button to perform it.</p><p>The Mac OS X accessibility protocol defines only a handful of actions that accessibility objects can support. At first, this might seem restrictive, because applications can perform huge numbers of tasks. It’s essential to remember, however, that an assistive application helps a user drive an application’s user interface, it does not simulate the application’s functions. Therefore, an assistive application has no interest in how your application responds to a button press, for example. Its job is to tell the user that the button exists and to tell the application when the user wants to press it. It’s up to your application to respond appropriately to that button press, just as it would if a user used a mouse to click the button.</p><a name="//apple_ref/doc/uid/TP40001078-CH208-BEIGFFHE" title="The Accessibility Object"></a><h2>The Accessibility Object</h2><p>An accessibility object provides to assistive applications information about the user-interface object it represents. This information includes the object’s position in the accessibility hierarchy, its position on the display, details about what it is, and what actions it can perform. In addition, an accessibility object responds to messages sent by assistive applications and sends out notifications that describe changes in its state.</p><p>This section describes the accessibility object. It describes the information an accessibility object provides and the actions it can perform and outlines the communication between accessibility objects and assistive applications.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001078-CH208-DontLinkElementID_58" title="Note"></a><p><strong>Note:</strong>&nbsp;Carbon and Cocoa implement the accessibility object in different native ways. This section describes the accessibility object in general terms that are not specific to either application framework. For framework-specific details about the implementation of the accessibility object and how to use it, see <em><a href="../../../../Cocoa/Conceptual/Accessibility/index.html#//apple_ref/doc/uid/10000118i" target="_top">Accessibility Programming Guidelines for Cocoa</a></em> and <em><a href="../../../../Carbon/Conceptual/MakingAppsAccessible/index.html#//apple_ref/doc/uid/TP30001127" target="_top">Accessibility Programming Guidelines for Carbon</a></em>.</p></div><a name="//apple_ref/doc/uid/TP40001078-CH208-TPXREF103" title="Attributes"></a><h3>Attributes</h3><p>An accessibility object has many attributes associated with it. The number and kind of attributes vary depending on the type of user interface object the accessibility object represents. A few attributes are required for every accessibility object, but most are optional. </p><p>Attributes have values that assistive applications use to find out about the user interface object. For example, an assistive application gets the value of an accessibility object’s role attribute to find out what type of user interface object it represents.</p><p>Some attribute values are settable by assistive applications. An example is the value attribute in an accessibility object that represents an editable text field. When a user types in the text field, an assistive application sets the value of the value attribute to the text the user enters. </p><p>If you use standard, noncustom Cocoa or Carbon objects most of the attribute values are already in place. There are a few attribute values, however, that you must provide because they contain application-specific information, such as the description of a user interface object’s function.</p><p>The <code>AXAttributeConstants.h</code> file in the HIServices framework defines all the accessibility object attributes in the Mac OS X accessibility protocol. The following sections describe some of the most common required attributes, paying particular attention to the attributes for which you must provide values:</p><ul class="spaceabove"><li class="li"><p><span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-BEIHJBJJ">“The Role and Role Description Attributes”</a></span></p></li><li class="li"><p><span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-BEIIAHFF">“The Description Attribute”</a></span></p></li><li class="li"><p><span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-BEICBEEG">“Title Attributes”</a></span></p></li><li class="li"><p><span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-BEIEAHGA">“Relationship Attributes”</a></span></p></li><li class="li"><p><span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-BEIGBEJE">“Value Attributes”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP40001078-CH208-BEIHJBJJ" title="The Role and Role Description Attributes"></a><h4>The Role and Role Description Attributes</h4><p>An accessibility object’s most important attribute is its <strong>role</strong> attribute. This is because the accessibility object’s role determines which other attributes the object contains and tells an assistive application how to handle it. You can think of the role as the accessibility object’s class—it defines a standard set of behaviors and capabilities to which the object conforms. For more information on the attributes associated with specific roles, see <span class="content_text"><a href="../OSXAXRoleReference/OSXAXRoleReference.html#//apple_ref/doc/uid/TP40001078-CH211-CHDIGFBH">“Roles and Associated Attributes.”</a></span> </p><p>The value of the role attribute is a nonlocalized string. An assistive application can programmatically test the value of the role attribute to find out what type of user interface object the accessibility object represents.</p><p>In <code>AXRoleConstants.h</code> (in the HIServices framework), Mac OS X defines a set standard roles that describe the vast majority of user interface object types. Although it may be tempting to define new roles for custom objects in your application, it is not recommended. An assistive application may not know how to handle an accessibility object with an arbitrary role and additional roles add unnecessary complexity to your code. Instead, you should examine the behavior of your objects and choose the standard role that best represents them.</p><p>The <strong>role description</strong> attribute contains a human-intelligible, localized string that names the accessibility object’s role. An assistive application presents this string to the user (a screen reader application, for example, speaks the string). Mac OS X defines a role description string for each role in <code>AXRoleConstants.h</code>, so you do not have to provide strings such as “button” or “window”. In the very unlikely event that your application needs to define a new role, however, you are responsible for providing the value of the role description attribute.</p><a name="//apple_ref/doc/uid/TP40001078-CH208-BEIIAHFF" title="The Description Attribute"></a><h4>The Description Attribute</h4><p>The <strong>description</strong> attribute is almost as important as the role attribute. The value of the description attribute is a human-intelligible, localized string that describes what the object does. Because it describes the application-specific function of a user interface object, the accessibility protocol cannot supply the description value. Therefore, it is essential to provide a description for all accessibility objects in your application that do not already include a title attribute (described in <span class="content_text"><a href="OSXAXmodel.html#//apple_ref/doc/uid/TP40001078-CH208-BEICBEEG">“Title Attributes”</a></span>).</p><p>To see why the description attribute is so important, suppose your application window contains a button to left-justify text and which displays a left-pointing arrow. An assistive application can accurately identify this control as a button because it is represented by an accessibility object with the role attribute “button”. However, unless you provide an appropriate description, the assistive application has no way to know that this button left-justifies text, and therefore no way to communicate this to the user.</p><a name="//apple_ref/doc/uid/TP40001078-CH208-BEICBEEG" title="Title Attributes"></a><h4>Title Attributes</h4><p>The <strong>title</strong> attribute is required for user interface objects that include a text title in their display. For example, the title of a button is the text that appears on the button, such as the text “OK” on an OK button, and the title of a window is the text that appears in its title bar.</p><p>A user cannot change the title of such an object directly, but the title might change programmatically if the state of the object changes. For example, a Connect button’s title might change to Disconnect after a connection is made, but not because a user chose to change the button’s title. An accessibility object that represents such an object must include the title attribute and the attribute’s value must be the title string.</p><p>Many applications display static text that serves as the title for a user interface object, but that is not contained in that object. An example is the word “Search” displayed below a search field or “Address:” displayed next to a set of editable text fields. To a sighted user, the proximity of the string to the object (or objects) it describes is usually enough to imply the relationship between them. To an assistive application, however, these strings are unrelated to the objects they describe (if they are visible to the assistive application at all).</p><p>Mac OS X version 10.4 introduced two related attributes that give assistive applications information about such titles. The <strong>TitleUIElement</strong> and <strong>ServesAsTitleForUIElements</strong> attributes allow you to define the relationship between a piece of static text and the object (or objects) it describes. </p><p>The TitleUIElement attribute belongs in the accessibility object representing the object being described. The value of this attribute is the accessibility object you create to represent the static text. The ServesAsTitleForUIElements attribute belongs in the static text accessibility object you’ve created and its value is an array containing an arbitrary number of accessibility objects. This allows you to link the static text title with any number of user interface objects. Although these attributes are not required, you should provide them if your user interface includes such static text titles.</p><a name="//apple_ref/doc/uid/TP40001078-CH208-BEIEAHGA" title="Relationship Attributes"></a><h4>Relationship Attributes</h4><p>To participate in the accessibility hierarchy, an accessibility object must include links to its immediate ancestor and descendents (if any). This helps an assistive application traverse the hierarchy. In addition, an accessibility object can express other relationships, such as between views that affect each other, but that are not linked by containment.</p><p>All accessibility objects, with the exceptions of the application-level and system-wide accessibility objects, include a <strong>parent</strong> attribute. The value of this attribute is usually the accessibility object representing the closest accessible container of the user interface object. </p><p>If a user interface object contains other accessible user interface objects, the UIElement representing it must include the <strong>children</strong> attribute. The value of this attribute is an array containing the UIElements of the accessible descendents.</p><p>Some relationships are conceptual rather than containment-based. For example, it’s not unusual for an application to display two separate views of the same or related content. One example is the Mac OS X Mail application. The Mail application’s upper view can display the subject, sender, and receive date of each message in the selected mail box. In the lower view, Mail can display the body of a message selected in the upper view. To a sighted user, the relationship between the selected message in the upper view and the message content in the lower view is apparent. To an assistive application, on the other hand, this direct relationship doesn’t exist. If an assistive application can’t express such a relationship to a blind user, for example, the user can’t jump back and forth between the related elements the way a sighted user can. Instead, such a user might have to step through all intervening controls and views to move between the message description and its content.</p><p>Mac OS X version 10.4 introduced the <strong>LinkedUIElements</strong> attribute to allow you to define such relationships. As you would expect, the UIElement of each related object should contain this attribute. The value of the attribute is an array of UIElements so you can specify one-to-one and one-to-many relationships.</p><a name="//apple_ref/doc/uid/TP40001078-CH208-BEIGBEJE" title="Value Attributes"></a><h4>Value Attributes</h4><p>The optional <strong>value</strong> attribute describes the accessibility object’s state. The value might be the state of a check box or the contents of an editable text field. </p><p>The value attribute is often settable. For example, an accessibility object that represents a user-modifiable object, such as an editable text field, has a settable value attribute. This allows an assistive application to set the value of the accessibility object’s value attribute to contain the user’s input. Optionally, accessibility objects may also include attributes that define a range or set of values the object can accept, such as minimum and maximum values for a slider.</p><a name="//apple_ref/doc/uid/TP40001078-CH208-BEICEBDC" title="Actions"></a><h3>Actions</h3><p>Technically, an action is an attribute of an accessibility object. However, the accessibility protocol supports actions differently from the way it supports attributes, so this chapter describes them separately.</p><p>An accessibility object can support one or more actions. An action describes how a user interacts with the user interface object the accessibility object represents. It does not describe the application-defined function of the object. This is because an assistive application is concerned with driving the user interface and the results of an action are irrelevant to it. If your application displays a print button, for example, the button’s accessibility object supports a press action, not a print action.</p><p>Because actions are generic and refer to the capabilities of user interface objects, there are only a few of them. This means that the set of actions an assistive application has to understand is small and well-defined.</p><p>In <code>AXActionConstants.h</code> (located in the HIServices framework), Mac OS X defines seven actions an accessibility object can support:</p><ul class="spaceabove"><li class="li"><p>Press (a button)</p></li><li class="li"><p>Increment (the value of a scroller or slider indicator)</p></li><li class="li"><p>Decrement (the value of a scroller or slider indicator)</p></li><li class="li"><p>Confirm (the selection of an object)</p></li><li class="li"><p>Cancel (a selection or action)</p></li><li class="li"><p>Raise (a window)</p></li><li class="li"><p>ShowMenu (display a contextual menu associated with an object)</p></li></ul><p>When a user performs an action, an assistive application sends a message to the accessibility object, requesting it to perform the action. Your application should invoke the same code to carry out this action as it does when the request comes directly from your user interface. </p><p>Each action attribute has a description property. An assistive application may speak this description to tell the user what action is available for a specific object. The value of this description property is similar to the value of the role description attribute in that it is a human-intelligible, localized word or short phrase. Unlike the role description, however, the action description is not automatically supplied by the accessibility protocol. If your application creates its own accessibility objects which support actions, you must supply the appropriate action descriptions. </p><a name="//apple_ref/doc/uid/TP40001078-CH208-DontLinkElementID_7" title="Communication With Accessibility Objects"></a><h2>Communication With Accessibility Objects</h2><p>At the heart of accessibility is the communication between an assistive application and the accessibility objects that represent your application’s user interface. This communication can be divided into two categories:</p><ul class="ul"><li class="li"><p>Messages sent by an assistive application to get information about an accessibility object and to request the performance of actions. An accessibility object responds to these messages by returning attribute values, performing actions, or changing attribute values.</p></li><li class="li"><p>Notifications triggered by accessibility objects that assistive applications can listen for. These notifications tell an interested assistive application about changes in the state of an accessibility object.</p></li></ul><p>If you use only standard, noncustom Cocoa or Carbon objects in your application, most of this communication is transparent to you. In some cases, you might have to create a custom response to a message, but this is unlikely. It is even less likely that you will have to handle notifications if you use only standard objects. </p><a name="//apple_ref/doc/uid/TP40001078-CH208-TPXREF106" title="Messages"></a><h3>Messages</h3><p>An assistive application communicates with your application by sending messages to accessibility objects. In Carbon, these messages are transmitted as Carbon events. In Cocoa, these messages result in calls to methods of the NSAccessibility protocol. For more details about the framework-specific implementation of messages, see <em><a href="../../../../Cocoa/Conceptual/Accessibility/index.html#//apple_ref/doc/uid/10000118i" target="_top">Accessibility Programming Guidelines for Cocoa</a></em> and <em><a href="../../../../Carbon/Conceptual/MakingAppsAccessible/index.html#//apple_ref/doc/uid/TP30001127" target="_top">Accessibility Programming Guidelines for Carbon</a></em>.</p><p>In <code>HIObject.h</code>, Mac OS X defines a handful of messages. The following lists the types of messages an assistive application can send to an accessibility object:</p><ul class="spaceabove"><li class="li"><p>Get a list of the accessibility object’s attributes</p></li><li class="li"><p>Get the value of a specific attribute</p></li><li class="li"><p>Check to see if the value of a specific attribute can be set</p></li><li class="li"><p>Set the value of a specific attribute</p></li><li class="li"><p>Get a list of the accessibility object’s actions</p></li><li class="li"><p>Get the description of an action</p></li><li class="li"><p>Tell the accessibility object to perform a specific action</p></li><li class="li"><p>Determine which accessibility object is under the mouse pointer (hit testing)</p></li><li class="li"><p>Register or unregister for notifications</p></li></ul><p>Like the set of actions, the set of messages to which an accessibility object can respond is small. These messages give the assistive application a great deal of control, however. For example, by getting and setting attributes, an assistive application can do things like the following: </p><ul class="spaceabove"><li class="li"><p>Read the value of a slider control</p></li><li class="li"><p>Traverse the object hierarchy to find all the accessibility objects (such as controls, embedded controls, and table cells) within a window</p></li><li class="li"><p>Check to see if a control is enabled</p></li></ul><a name="//apple_ref/doc/uid/TP40001078-CH208-TPXREF107" title="Notifications"></a><h3>Notifications</h3><p>In addition to responding to messages from assistive applications, accessibility objects also broadcast any significant changes that occur in the user interface objects they represent. For example, if the keyboard focus changes to a new text field, a new window becomes active, or a control’s title changes, the accessibility objects for these objects send out notifications. </p><p>An assistive application chooses to register for the notifications it is interested in.</p><p>An accessibility object can send notifications to indicate any of the following status changes:</p><ul class="spaceabove"><li class="li"><p>The object’s value changed</p></li><li class="li"><p>The object was destroyed</p></li><li class="li"><p>The keyboard focus changed</p></li></ul><p>Unless you are creating accessibility objects to represent custom user interface objects, it is unlikely you will have to write code to send notifications. Both Carbon and Cocoa automatically broadcast the appropriate notifications for standard objects.</p><a name="//apple_ref/doc/uid/TP40001078-CH208-TPXREF105" title="Hit-Testing and Keyboard Focus"></a><h3>Hit-Testing and Keyboard Focus</h3><p>To a sighted user, the location of the cursor is easy to discern. Similarly, a sighted user can usually tell which object in the user interface has keyboard focus. An assistive application, on the other hand, must query an application to determine which object has keyboard focus or is under the mouse pointer. An accessibility object provides answers to these queries by returning the values of various attributes.</p><p>Although you implement hit-testing differently depending on whether you’re using Carbon or Cocoa, the basic procedure is for an assistive application to ask the application to return the accessibility object under the cursor. The request is recursively passed down the application’s accessibility hierarchy until it reaches the deepest, unignored accessibility object that contains the mouse pointer. </p><p>Accessibility objects also must support queries regarding keyboard focus. An accessibility object stores focus information in its focused attribute. The initial query from the assistive application is for the focused attribute of the application-level accessibility object. This query, too, is passed down the application’s accessibility hierarchy until it reaches the deepest, unignored accessibility object whose focused attribute is <code>true</code>. As with hit-testing, how the keyboard focus is actually determined from lower-level objects varies depending on whether you use Carbon or Cocoa.</p><a name="//apple_ref/doc/uid/TP40001078-CH208-TPXREF108" title="An Example of Accessibility"></a><h2>An Example of Accessibility</h2><p>This example gives a detailed description of how a fictitious screen reader with speech recognition and speech synthesis capability might communicate with your application:</p><ol class="ol"><li class="li"><p>The user says, “Open Preferences window.”</p></li><li class="li"><p>The screen reader sends a message to the application accessibility object, asking for its menu bar attribute, which is a reference to the menu bar accessibility object. It then queries the menu bar for a list of its children, and queries each child for its title attribute until it finds the one whose title is the application’s name (that is, the application menu). A second iteration lets it find the Preferences menu item within the application menu. Finally, the screen reader tells the Preferences menu item to perform the press action. </p></li><li class="li"><p>The application opens the Preferences window and then the window sends a notification broadcasting that a new window is now visible and active. </p></li><li class="li"><p>The screen reader, assuming that it registered to be notified when a new window opens, queries the window for a list of its attributes. Assuming that the window accessibility object contains a children attribute, it then queries the accessibility object for the value of its children attribute. </p></li><li class="li"><p>To each child of the window accessibility object, the screen reader sends a query asking for a list of its attributes. It then queries the child for the values of its role, role description, and (if it exists) children attributes.</p></li><li class="li"><p>Among the responses, the screen reader learns that the pane contains several children (for example, three checkboxes). </p></li><li class="li"><p>The screen reader queries each checkbox, asking for the values of the following attributes:</p><ul class="ul"><li class="li"><p>role (<code>checkBox</code> in this case)</p></li><li class="li"><p>role description (“checkbox”)</p></li><li class="li"><p>value (checked or unchecked)</p></li><li class="li"><p>children (none in this case)</p></li></ul></li><li class="li"><p>The screen reader, having learned what objects (controls in this case) are accessible in the window, reports this information to the user using speech synthesis.</p></li><li class="li"><p>The user might then ask for more information about one of the checkboxes.</p></li><li class="li"><p>The screen reader queries the specified checkbox, asking for the value of its help attribute (assuming it exists). It reports this string to the user using speech synthesis. </p></li><li class="li"><p>The user then tells the screen reader to check the checkbox.</p></li><li class="li"><p>The screen reader sends a message requesting that the checkbox’s value attribute be set to <code>1</code>. </p></li><li class="li"><p>The checkbox accessibility object broadcasts that the value of its value attribute has changed.</p></li></ol>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../OSXAXDeveloping/OSXAXDeveloping.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../OSXAXTesting/OSXAXTestingApps.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-03-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Accessibility/Conceptual/AccessibilityMacOSX/OSXAXModel/OSXAXmodel.html%3Fid%3DTP40001078-1.7&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Accessibility/Conceptual/AccessibilityMacOSX/OSXAXModel/OSXAXmodel.html%3Fid%3DTP40001078-1.7&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Accessibility/Conceptual/AccessibilityMacOSX/OSXAXModel/OSXAXmodel.html%3Fid%3DTP40001078-1.7&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>