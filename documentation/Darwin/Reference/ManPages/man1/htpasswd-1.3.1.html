<html><head><title>Mac OS X Server
 Manual Page For htpasswd-1.3(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/htpasswd-1.3" title="Mac OS X Server
 Manual Page for htpasswd-1.3(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/htpasswd-1.3"; name=htpasswd-1.3(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with Mac&nbsp;OS&nbsp;X&nbsp;Server.  It is
not available on standard Mac OS X (client) installations.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
htpasswd(1)                                                                                      <a href="htpasswd.1.html#//apple_ref/doc/man/1/htpasswd">htpasswd(1)</a>



<b>NAME</b>
       htpasswd - Create and update user authentication files

<b>SYNOPSIS</b>
       <b>htpasswd</b> [ <b>-c</b> ] [ <b>-m</b> | <b>-d</b> | <b>-s</b> | <b>-p</b> ] <u>passwdfile</u> <u>username</u>
       <b>htpasswd</b> <b>-b</b> [ <b>-c</b> ] [ <b>-m</b> | <b>-d</b> | <b>-s</b> | <b>-p</b> ] <u>passwdfile</u> <u>username</u> <u>password</u>
       <b>htpasswd</b> <b>-n</b> [ <b>-m</b> | <b>-d</b> | <b>-s</b> | <b>-p</b> ] <u>username</u>
       <b>htpasswd</b> <b>-nb</b> [ <b>-m</b> | <b>-d</b> | <b>-s</b> | <b>-p</b> ] <u>username</u> <u>password</u>

<b>DESCRIPTION</b>
       <b>htpasswd</b>  is  used to create and update the flat-files used to store usernames and password for basic
       authentication of HTTP users.  If <b>htpasswd</b> cannot access a file, such as not being able to  write  to
       the  output file or not being able to read the file in order to update it, it returns an error status
       and makes no changes.

       Resources available from the <b>httpd</b> Apache web server can be restricted to just the  users  listed  in
       the  files  created  by  <b>htpasswd.</b>   This program can only manage usernames and passwords stored in a
       flat-file. It can encrypt and display password information for use in other  types  of  data  stores,
       though.  To use a DBM database see <b>dbmmanage</b>.

       <b>htpasswd</b>  encrypts  passwords  using  either  a  version  of MD5 modified for Apache, or the system's
       <u>crypt()</u> routine.  Files managed by <b>htpasswd</b> may contain both types of passwords;  some  user  records
       may  have  MD5-encrypted  passwords  while  others in the same file may have passwords encrypted with
       <u>crypt()</u>.

       This manual page only lists the command line arguments. For details of the  directives  necessary  to
       configure  user  authentication in <b>httpd</b> see the Apache manual, which is part of the Apache distribu-<font color="#ffffff" class="whiteout">tion&nbsp;distribution</font>
       tion or can be found at URL: &lt;<a href="http://httpd.apache.org/">http://httpd.apache.org/</a>.

<b>OPTIONS</b>
       -b     Use batch mode; <u>i.e.</u>, get the password from the command line rather  than  prompting  for  it.
              <b>This</b>  <b>option</b>  <b>should</b>  <b>be</b>  <b>used</b> <b>with</b> <b>extreme</b> <b>care,</b> <b>since</b> <b>the</b> <b>password</b> <b>is</b> <b>clearly</b> <b>visible</b> <b>on</b> <b>the</b>
              <b>command</b> <b>line.</b>

       -c     Create the <u>passwdfile</u>. If <u>passwdfile</u> already exists, it  is  rewritten  and  truncated.   This
              option cannot be combined with the <b>-n</b> option.

       -n     Display the results on standard output rather than updating a file.  This is useful for gener-<font color="#ffffff" class="whiteout">ating&nbsp;generating</font>
              ating password records acceptable to Apache for  inclusion  in  non-text  data  stores.   This
              option  changes  the  syntax  of  the command line, since the <u>passwdfile</u> argument (usually the
              first one) is omitted.  It cannot be combined with the <b>-c</b> option.

       -m     Use Apache's modified MD5 algorithm for passwords.  Passwords encrypted  with  this  algorithm
              are  transportable  to  any  platform (Windows, Unix, BeOS, et cetera) running Apache 1.3.9 or
              later.  On Windows and TPF, this flag is the default.

       -d     Use crypt() encryption for passwords. The default on all platforms but Windows and TPF. Though
              possibly  supported  by  <b>htpasswd</b> on all platforms, it is not supported by the <b>httpd</b> server on
              Windows and TPF.

       -s     Use SHA encryption for passwords. Faciliates migration from/to Netscape servers using the LDAP
              Directory Interchange Format (ldif).

       -p     Use  plaintext  passwords.  Though  <b>htpasswd</b> will support creation on all platforms, the <b>httpd</b>
              deamon will only accept plain text passwords on Windows and TPF.

       <u>passwdfile</u>
              Name of the file to contain the user name and password. If -c is given, this file  is  created
              if it does not already exist, or rewritten and truncated if it does exist.

       <u>username</u>
              The  username  to  create or update in <b>passwdfile</b>. If <u>username</u> does not exist in this file, an
              entry is added. If it does exist, the password is changed.

       <u>password</u>
              The plaintext password to be encrypted and stored in the file.  Only used with the <u>-b</u> flag.

<b>EXIT</b> <b>STATUS</b>
       <b>htpasswd</b> returns a zero status ("true") if the username and password have been successfully added  or
       updated  in  the  <u>passwdfile</u>.  <b>htpasswd</b> returns 1 if it encounters some problem accessing files, 2 if
       there was a syntax problem with the command line, 3 if the password was entered interactively and the
       verification  entry didn't match, 4 if its operation was interrupted, 5 if a value is too long (user-<font color="#ffffff" class="whiteout">name,&nbsp;(username,</font>
       name, filename, password, or final computed record), and 6 if the username contains  illegal  charac-<font color="#ffffff" class="whiteout">ters&nbsp;characters</font>
       ters (see the <b>RESTRICTIONS</b> section).

<b>EXAMPLES</b>
       <b>htpasswd</b> <b>/usr/local/etc/apache/.htpasswd-users</b> <b>jsmith</b>

              Adds  or  modifies  the  password for user <u>jsmith</u>.  The user is prompted for the password.  If
              executed on a Windows system, the password will be encrypted using  the  modified  Apache  MD5
              algorithm;  otherwise, the system's <u>crypt()</u> routine will be used.  If the file does not exist,
              <b>htpasswd</b> will do nothing except return an error.

       <b>htpasswd</b> <b>-c</b> <b>/home/doe/public_html/.htpasswd</b> <b>jane</b>

              Creates a new file and stores a record in it for user <u>jane</u>.  The  user  is  prompted  for  the
              password.   If the file exists and cannot be read, or cannot be written, it is not altered and
              <b>htpasswd</b> will display a message and return an error status.

       <b>htpasswd</b> <b>-mb</b> <b>/usr/web/.htpasswd-all</b> <b>jones</b> <b>Pwd4Steve</b>

              Encrypts the password from the command line (<u>Pwd4Steve</u>) using the MD5 algorithm, and stores it
              in the specified file.


<b>SECURITY</b> <b>CONSIDERATIONS</b>
       Web  password files such as those managed by <b>htpasswd</b> should <b>not</b> be within the Web server's URI space
       -- that is, they should not be fetchable with a browser.

       The use of the <u>-b</u> option is discouraged, since when it is used the unencrypted  password  appears  on
       the command line.

<b>RESTRICTIONS</b>
       On  the  Windows and MPE platforms, passwords encrypted with <b>htpasswd</b> are limited to no more than 255
       characters in length.  Longer passwords will be truncated to 255 characters.

       The MD5 algorithm used by <b>htpasswd</b> is specific to the Apache software; passwords encrypted  using  it
       will not be usable with other Web servers.

       Usernames are limited to 255 bytes and may not include the character ':'.

<b>SEE</b> <b>ALSO</b>
       <a href="../man8/httpd.8.html#//apple_ref/doc/man/8/httpd"><b>httpd(8)</b></a><b></b> and the scripts in support/SHA1 which come with the distribution.



                                                February 2004                                    <a href="htpasswd.1.html#//apple_ref/doc/man/1/htpasswd">htpasswd(1)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/htpasswd-1.3.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/htpasswd-1.3.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/htpasswd-1.3.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
