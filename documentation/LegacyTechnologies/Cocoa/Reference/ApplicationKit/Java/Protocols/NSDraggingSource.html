<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>NSDraggingSource Interface Java Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="NSDraggingSource Interface Java Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="NSDraggingSource_toc.html"/>
	<meta id="RESOURCES" content="../../../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000565-DontLinkElementID_1663"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="NSDraggingSource_toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../../reference/LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30001281-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../../../../reference/LegacyTechnologies/idxCocoa-date.html#//apple_ref/doc/uid/TP30001281-TP30000470-TP30000495" target="_top">Cocoa</a> &gt; <a href="../index.html" target="_top">Application Kit Reference for Java (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="NSDraggingSource_api.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/java/intf/com.apple.cocoa.application.NSDraggingSource" title="NSDraggingSource"></a><a name="//apple_ref/doc/j_ref/NSDraggingSource" title="NSDraggingSource"></a><a name="//apple_ref/doc/uid/20000570-BBCGDDIC" title="NSDraggingSource"></a><h1>NSDraggingSource</h1><p class="protocol_subtitle">(informal protocol)</p><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong>Package</strong></td><td><div style="margin-bottom:1px"> com.apple.cocoa.application</div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guide</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../../Cocoa/Conceptual/DragandDrop/index.html#//apple_ref/doc/uid/10000069i" target="_top">Drag and Drop Programming Topics for Cocoa</a></span><br/></div></td></tr></table></div><br/>

<a name="//apple_ref/doc/uid/20000570-771" title="Overview"></a><h2>Overview</h2>
<p class="spaceabove">The NSDraggingSource  interface declares methods that are implemented by the source object in a dragging session. The dragging source is specified as an argument to the <code><a href="../Classes/NSView.html#//apple_ref/java/instm/com.apple.cocoa.application.NSView/dragImage" target="_top">dragImage</a></code> message, sent to a window or view object to initiate the dragging session. </p>
<p class="spaceabove">Of the methods declared below, only <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/draggingSourceOperationMaskForLocal">draggingSourceOperationMaskForLocal</a></code> must be implemented. The other methods are invoked only if the dragging source implements them. All methods are invoked automatically during a dragging sessionâ€”you never send an NSDraggingSource message directly to an object.</p>



<a name="//apple_ref/doc/uid/20000570-DontLinkElementID_1581" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/20000570-DontLinkElementID_1582" title="Specifying Dragging Options"></a>
		<h3 class="tasks">Specifying Dragging Options</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/draggingSourceOperationMaskForLocal">draggingSourceOperationMaskForLocal</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/ignoreModifierKeysWhileDragging">ignoreModifierKeysWhileDragging</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets whether the use of modifier keys should have an effect on the type of operation performed.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000570-DontLinkElementID_1583" title="Responding to Dragging Sessions"></a>
		<h3 class="tasks">Responding to Dragging Sessions</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/startedDraggingImage">startedDraggingImage</a></code>
                    
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/finishedDraggingImage">finishedDraggingImage</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Similar to the previous version of this method, but includes an indication of the operation performed by the destination in <em>operation</em>, rather than a boolean indicating acceptance.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/movedDraggingImage">movedDraggingImage</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the dragging source about <em>draggedImage</em> moving to a new screen coordinate, <em>screenPoint</em>, similar to the dragging destination being sent <code>draggingUpdated</code> messages.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/namesOfPromisedFilesDroppedAtDestination">namesOfPromisedFilesDroppedAtDestination</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the names (not full paths) of the files that the receiver promises to create at <em>dropDestination</em>.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000570-DontLinkElementID_1584" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/draggingSourceOperationMaskForLocal" title="draggingSourceOperationMaskForLocal"></a><a name="//apple_ref/doc/uid/20000570-BBCCAHHE" title="draggingSourceOperationMaskForLocal"></a><a name="//apple_ref/doc/uid/20000570-DontLinkElementID_7073"></a><h3 class="verytight">draggingSourceOperationMaskForLocal</h3>
<p class="spaceabovemethod">public abstract int <code>draggingSourceOperationMaskForLocal</code>(boolean <em>isLocal</em>)</p>
<h5 class="tight">Discussion</h5><p>This method is the only NSDraggingSource method that must be implemented by the source object. It should return a mask, built by combining the allowed dragging operations listed in NSDraggingInfoâ€™s constants section, using the C bitwise OR operator. You should use this mask to indicate which types of dragging operations the source object will allow to be performed on the dragged imageâ€™s data. A <code>true</code> value for <em>isLocal</em> indicates that the candidate destination object (the window or view over which the dragged image is currently poised) is in the same application as the source, while a <code>false</code> value indicates that the destination object is in a different application. </p><p>If the source does not permit any dragging operations, it should return <code><!--a target="_top" -->NSDraggingInfo.DragOperationNone<!--/a--></code>.</p><a name="//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/finishedDraggingImage" title="finishedDraggingImage"></a><a name="//apple_ref/doc/uid/20000570-BBCJCGCC" title="finishedDraggingImage"></a><a name="//apple_ref/doc/uid/20000570-DontLinkElementID_7074"></a><h3 class="verytight">finishedDraggingImage</h3>
<p class="spaceabovemethod">public abstract void <code>finishedDraggingImage</code>(<a href="../Classes/NSImage.html#//apple_ref/doc/j_ref/NSImage" target="_top">NSImage</a> <em>anImage</em>, <a href="../../../Foundation/Java/Classes/NSPoint.html#//apple_ref/doc/j_ref/NSPoint" target="_top">NSPoint</a> <em>aPoint</em>, boolean <em>flag</em>)</p>
<h5 class="tight">Discussion</h5><p>Invoked after <em>anImage</em> has been released and the dragging destination has been given a chance to operate on the data it represents. <em>aPoint</em> is the location of the imageâ€™s origin in the screen coordinate system when it was released. A <code>true</code> value for <em>flag</em> indicates that the destination accepted the dragged data, while a <code>false</code> value indicates that it was rejected. </p><p>This method provides the source object with an opportunity to respond to either a successful or a failed dragging session. For example, if you are moving data from one location to another, you could use this method to make the source data disappear from its previous location, if the dragging session is successful, or reset itself to its previous state, in the event of a failure.</p>
<p class="spaceabove">Similar to the previous version of this method, but includes an indication of the operation performed by the destination in <em>operation</em>, rather than a boolean indicating acceptance.</p><p class="spaceabovemethod">public abstract void <code>finishedDraggingImage</code>(<a href="../Classes/NSImage.html#//apple_ref/doc/j_ref/NSImage" target="_top">NSImage</a> <em>anImage</em>, <a href="../../../Foundation/Java/Classes/NSPoint.html#//apple_ref/doc/j_ref/NSPoint" target="_top">NSPoint</a> <em>aPoint</em>, int <em>operation</em>)</p>

<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../Classes/NSWindow.html#//apple_ref/java/instm/com.apple.cocoa.application.NSWindow/convertScreenToBase" target="_top">convertScreenToBase</a></code> (NSWindow)</li><li class="availability">  <code><a href="../Classes/NSWindow.html#//apple_ref/java/instm/com.apple.cocoa.application.NSWindow/convertBaseToScreen" target="_top">convertBaseToScreen</a></code> (NSWindow)</li><li class="availability">  <code><a href="../Classes/NSView.html#//apple_ref/java/instm/com.apple.cocoa.application.NSView/convertPointFromView" target="_top">convertPointFromView</a></code> (NSView)</li><li class="availability">  <code><a href="../Classes/NSView.html#//apple_ref/java/instm/com.apple.cocoa.application.NSView/convertPointToView" target="_top">convertPointToView</a></code> (NSView)</li></ul><a name="//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/ignoreModifierKeysWhileDragging" title="ignoreModifierKeysWhileDragging"></a><a name="//apple_ref/doc/uid/20000570-BBCHDHCG" title="ignoreModifierKeysWhileDragging"></a><a name="//apple_ref/doc/uid/20000570-DontLinkElementID_7075"></a><h3 class="verytight">ignoreModifierKeysWhileDragging</h3>
<p class="spaceabove">Sets whether the use of modifier keys should have an effect on the type of operation performed.</p><p class="spaceabovemethod">public abstract boolean <code>ignoreModifierKeysWhileDragging</code>()</p>
<h5 class="tight">Discussion</h5><p> If this method is not implemented or returns <code>false</code>, the user can tailor the drag operation by holding down a modifier key during the drag. The dragging option that corresponds to the modifier key is combined with the sourceâ€™s mask (as set with the <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/draggingSourceOperationMaskForLocal">draggingSourceOperationMaskForLocal</a></code> method) using the C bitwise AND operator. See the description for the <code><a href="NSDraggingInfo.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingInfo/draggingSourceOperationMask" target="_top">draggingSourceOperationMask</a></code> method in the NSDraggingInfo interface specification for more information about dragging masks and modifier keys.</p><a name="//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/movedDraggingImage" title="movedDraggingImage"></a><a name="//apple_ref/doc/uid/20000570-BBCBGJFG" title="movedDraggingImage"></a><a name="//apple_ref/doc/uid/20000570-DontLinkElementID_7076"></a><h3 class="verytight">movedDraggingImage</h3>
<p class="spaceabove">Informs the dragging source about <em>draggedImage</em> moving to a new screen coordinate, <em>screenPoint</em>, similar to the dragging destination being sent <code><a href="NSDraggingDestination.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingDestination/draggingUpdated" target="_top">draggingUpdated</a></code> messages.</p><p class="spaceabovemethod">public abstract void <code>movedDraggingImage</code>(<a href="../Classes/NSImage.html#//apple_ref/doc/j_ref/NSImage" target="_top">NSImage</a> <em>draggedImage</em>, <a href="../../../Foundation/Java/Classes/NSPoint.html#//apple_ref/doc/j_ref/NSPoint" target="_top">NSPoint</a> <em>screenPoint</em>)</p>
<a name="//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/namesOfPromisedFilesDroppedAtDestination" title="namesOfPromisedFilesDroppedAtDestination"></a><a name="//apple_ref/doc/uid/20000570-BBCHCCAI" title="namesOfPromisedFilesDroppedAtDestination"></a><a name="//apple_ref/doc/uid/20000570-DontLinkElementID_7077"></a><h3 class="verytight">namesOfPromisedFilesDroppedAtDestination</h3>
<p class="spaceabove">Returns the names (not full paths) of the files that the receiver promises to create at <em>dropDestination</em>.</p><p class="spaceabovemethod">public abstract <a href="../../../Foundation/Java/Classes/NSArray.html#//apple_ref/doc/j_ref/NSArray" target="_top">NSArray</a> <code>namesOfPromisedFilesDroppedAtDestination</code>(<!--a target="_top" -->java.net.URL<!--/a--> <em>dropDestination</em>)</p>
<h5 class="tight">Discussion</h5><p> This method is invoked when the drop has been accepted by the destination and the destination, in the case of another Cocoa application, invokes the NSDraggingInfo method <code><a href="NSDraggingInfo.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingInfo/namesOfPromisedFilesDroppedAtDestination" target="_top">namesOfPromisedFilesDroppedAtDestination</a></code>. For long operations, you can cache <em>dropDestination</em> and defer the creation of the files until the <code><a href="NSDraggingSource.html#//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/finishedDraggingImage">finishedDraggingImage</a></code> method to avoid blocking the destination application.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.2 and later.</li></ul><a name="//apple_ref/java/intfm/com.apple.cocoa.application.NSDraggingSource/startedDraggingImage" title="startedDraggingImage"></a><a name="//apple_ref/doc/uid/20000570-BBCBADCF" title="startedDraggingImage"></a><a name="//apple_ref/doc/uid/20000570-DontLinkElementID_7078"></a><h3 class="verytight">startedDraggingImage</h3>
<p class="spaceabovemethod">public abstract void <code>startedDraggingImage</code>(<a href="../Classes/NSImage.html#//apple_ref/doc/j_ref/NSImage" target="_top">NSImage</a> <em>anImage</em>, <a href="../../../Foundation/Java/Classes/NSPoint.html#//apple_ref/doc/j_ref/NSPoint" target="_top">NSPoint</a> <em>aPoint</em>)</p>
<h5 class="tight">Discussion</h5><p>Invoked when <em>anImage</em> is displayed but before it starts following the mouse. <em>aPoint</em> is the origin of the image in screen coordinates. This method provides the source object with an opportunity to respond to the initiation of a dragging session. For example, you might choose to have the source give a visual indication to the user that data is being dragged from the source.</p>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../Classes/NSWindow.html#//apple_ref/java/instm/com.apple.cocoa.application.NSWindow/convertScreenToBase" target="_top">convertScreenToBase</a></code> (NSWindow)</li><li class="availability">  <code><a href="../Classes/NSWindow.html#//apple_ref/java/instm/com.apple.cocoa.application.NSWindow/convertBaseToScreen" target="_top">convertBaseToScreen</a></code> (NSWindow)</li><li class="availability">  <code><a href="../Classes/NSView.html#//apple_ref/java/instm/com.apple.cocoa.application.NSView/convertPointFromView" target="_top">convertPointFromView</a></code> (NSView)</li><li class="availability">  <code><a href="../Classes/NSView.html#//apple_ref/java/instm/com.apple.cocoa.application.NSView/convertPointToView" target="_top">convertPointToView</a></code> (NSView)</li></ul>






        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="NSDraggingSource_api.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1997, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-02-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/LegacyTechnologies/Cocoa/Reference/ApplicationKit/Java/Protocols/NSDraggingSource.html%3Fid%3D20001094-6.6&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/LegacyTechnologies/Cocoa/Reference/ApplicationKit/Java/Protocols/NSDraggingSource.html%3Fid%3D20001094-6.6&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/LegacyTechnologies/Cocoa/Reference/ApplicationKit/Java/Protocols/NSDraggingSource.html%3Fid%3D20001094-6.6&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>