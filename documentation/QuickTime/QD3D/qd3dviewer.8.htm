<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Checking the Version of the 3D&nbsp;Viewer</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3041"> </A>Checking the Version of the 3D&nbsp;Viewer</H1><P CLASS="T1.Text1"><A NAME="pgfId=3054"> </A>Some of the features described in this chapter are available only in versions 1.1 and later of the 3D&nbsp;Viewer. As a result, you might need to check the version of the 3D&nbsp;Viewer available in the current operating environment. Version 1.1 provides the <TT CLASS="cv">Q3ViewerGetVersion</TT> function, which you can call to determine the version of the 3D&nbsp;Viewer. Because this function is not available in version 1.0, however, you must first determine that it is available before you can call it. <A HREF="qd3dviewer.8.htm#20256" CLASS="XRef">Listing&nbsp;13</A> defines a function, <TT CLASS="cv">MyGet3DViewerVersion</TT>, that you can use to determine which version of the 3D&nbsp;Viewer is installed on a computer.</P><P CLASS="L.Listing"><A NAME="pgfId=3070"> </A>Listing&nbsp;13<A NAME="20256"> </A>Determining the version of the 3D&nbsp;Viewer</P><CODE CLASS="Cv.Code"><A NAME="pgfId=11399"> </A>void MyGet3DViewerVersion (unsigned long *major, unsigned long *minor)<BR>{<BR>&nbsp;&nbsp;&nbsp;&nbsp;unsigned long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version;<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;/*Version 1.0 did not have a get version call.*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;if ((Boolean)Q3ViewerGetVersion == kUnresolvedSymbolAddress) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*major = 1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*minor = 0;<BR>&nbsp;&nbsp;&nbsp;&nbsp;} else {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version = Q3ViewerGetVersion();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*major = version &gt;&gt; 16; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*minor = version &amp; 0xFFFF;<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;return;<BR>}<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=3065"> </A><TT CLASS="cv">MyGet3DViewerVersion</TT><A NAME="marker=11401"> </A> first checks to see whether the <TT CLASS="cv">Q3ViewerGetVersion</TT> function is available. If it isn't, then version 1.0 must be running. Otherwise, <TT CLASS="cv">MyGet3DViewerVersion</TT> calls <TT CLASS="cv">Q3ViewerGetVersion</TT> to get the current version number.</P><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>