<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Sherlock Channels (Legacy): Sherlock Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Sherlock Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001085" title="Sherlock Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/InternetWeb-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000526" target="_top">Internet &amp; Web</a> &gt; <a href="../index.html" target="_top">Sherlock Channels (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="Languages.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/CreatingChannels.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
Sherlock is unsupported in Mac OS X v10.5 and later.</p></div></div></div>
        <a name="//apple_ref/doc/uid/20001085-SW1" title="Sherlock Reference"></a><hr /><H1><a name="//apple_ref/doc/uid/20001085-BAJBFIAE" title="Sherlock Reference"></a>Sherlock Reference</H1><p>This article provides a reference for the various extensions and predefined data paths provided by Sherlock. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-132603-BAJIEBFC">XML Tag Syntax</a>
				
			<br/>
			
        
			
			
				<a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-124479">Predefined Data Store Paths</a>
				
			<br/>
			
        
			
			
				<a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-158702-BAJJJFGC">Control Properties</a>
				
			<br/>
			
        
			
			
				<a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-160650-BAJICACF">JavaScript Extensions</a>
				
			<br/>
			
        
			
			
				<a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-160986-BAJFIAGE">XQuery Extensions</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20001085-132603" title="XML Tag Syntax"></a><a name="//apple_ref/doc/uid/20001085-132603-BAJIEBFC" title="XML Tag Syntax"></a><h2>XML Tag Syntax</h2><p>Sherlock channels use XML tags to organize and identify channel resources. The following sections describe the syntax for the XML tags you can use with Sherlock.</p><a name="//apple_ref/doc/uid/20001085-133218" title="Channel Information Tag Syntax"></a><a name="//apple_ref/doc/uid/20001085-133218-BAJHDBCB" title="Channel Information Tag Syntax"></a><h3>Channel Information Tag Syntax</h3><p>The channel configuration file constitutes the entry point to a channel. This file contains a single <code>channel_info</code> tag that identifies the key locations of the channel’s resource files. Sherlock uses the attributes of this tag to identify the channel and to load its resources. This file can also act as a checkpoint for determining when the channel files have changed. </p><p><span class="content_text">Table 1</span> describes the attributes of the <code>channel_info</code> tag. </p><a name="//apple_ref/doc/uid/20001085-134006-CJBHBCHG" title="Table 1channel_info attributes"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-134006" title="Table 1channel_info attributes"></a><strong>Table 1&nbsp;&nbsp;</strong>channel_info attributes</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>channel_url</code></p></td><td ><p>Specifies the path to your channel’s main code file. This is the XML file containing your channel’s initialization code and triggers.</p></td></tr><tr><td  scope="row"><p><code>check_point</code></p></td><td ><p>Specifies whether the file containing the <code>channel_info</code> tag should act as a check point for changes to the channel. If the value of this attribute is <code>true</code>, Sherlock compares the modification dates of the cached file and the file on the server. If they are the same, Sherlock assumes the channel has not changed and does not download any channel resources from the server. If the dates are different, Sherlock updates the channel resources from the server normally. </p></td></tr><tr><td  scope="row"><p><code>help_file</code></p></td><td ><p>Specifies the location of a help file. The value of this attribute is the path to the HTML file relative to the localized resource directories in your channel folder. (Ignored on versions of Mac OS X earlier than version 10.3.)</p></td></tr><tr><td  scope="row"><p><code>icns_icon_url</code></p></td><td ><p>Specifies the location of your channel’s file-system icon (<code>.icns</code>) file. This icon is downloaded and used when the user attempts to make a shortcut to the channel in the file system. The icon file you specify must contain an icon that is 128 pixels by 128 pixels in size.</p></td></tr><tr><td  scope="row"><p><code>icon_url</code></p></td><td ><p>Specifies the path to the icon (<code>.icns</code>) or image file (<code>.tiff</code>) you want to use for your channel’s toolbar icon. Typically, this path is relative to the location of the channel configuration file. (A 32 pixel by 32 pixel TIFF image is preferred for this icon.)</p></td></tr><tr><td  scope="row"><p><code>identifier</code></p></td><td ><p>Specifies a unique identifier for the channel. Sherlock uses this value to distinguish your channel from other channels. Typically, you encode your channel name and company domain name in this string using Java-style package naming conventions. </p></td></tr><tr><td  scope="row"><p><code>localized_base_url</code></p></td><td ><p>Specifies the path to the parent directory containing your localized resource project directories. The directory you specify for this attribute should contain additional project directories for each language your channel supports. For example, if your project supports English and French locales, this directory would contain <code>en.lproj</code> and <code>fr.lproj</code> subdirectories. </p></td></tr><tr><td  scope="row"><p><code>maxVersion</code></p></td><td ><p>Specifies the maximum channel version under which this trigger can execute. Use this attribute to prevent the loading and execution of a channel with a later version of Sherlock than the one supported. A value of “1.0” represents the channel version initially made available with Mac OS X version 10.2. (Note that support for this attribute was added in Mac OS X 10.2.2. Earlier versions of Sherlock will ignore the attribute.)</p></td></tr><tr><td  scope="row"><p><code>nib_url</code></p></td><td ><p>Specifies the location of your channel’s interface objects without any preceding path information. This string is comprised of the name of your nib file followed by <code>/objects.nib</code>. Sherlock uses this attribute together with the <code>localized_base_url</code> and current user’s language settings to build a path to the appropriate nib file. </p></td></tr><tr><td  scope="row"><p><code>version</code></p></td><td ><p>Specifies the minimum channel version required to run the channel. Use this attribute to prevent the loading and execution of a channel with an earlier version of Sherlock than the one supported. A value of “1.0” represents the channel version initially made available with Mac OS X version 10.2. (Note that support for this attribute was added in Mac OS X 10.2.2. Earlier versions of Sherlock will ignore the attribute.)</p></td></tr></table></div><p>For more information on using the <code>channel_info</code> tag, see <span class="content_text"><a href="DevelopingChannels.html#//apple_ref/doc/uid/20001083-117109">“Configuring Your Channel For Use.”</a></span></p><a name="//apple_ref/doc/uid/20001085-137147" title="Channels Tags Syntax"></a><a name="//apple_ref/doc/uid/20001085-137147-BAJBDIEF" title="Channels Tags Syntax"></a><h3>Channels Tags Syntax</h3><p>The following listing shows the format of the tags in a channel subscription file. The <code>&lt;channels></code> tag encloses one or more <code>&lt;channel></code> tags, each of which contains a URL to a channel configuration file. The <code>&lt;localized-strings></code> tag is optional and used primarily for the localization of the channel name itself. </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;channels name="subscription_name" [check_point=&lt;"true" | "false">] ><span></span></pre></td></tr><tr><td scope="row"><pre>    [&lt;channel url="channel_url" [version="min_version"]<span></span></pre></td></tr><tr><td scope="row"><pre>                maxVersion="max_version"] />]+<span></span></pre></td></tr><tr><td scope="row"><pre>    [&lt;localized-strings><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;localized-string language="2-letter_iso_code"<span></span></pre></td></tr><tr><td scope="row"><pre>                key="key_name"<span></span></pre></td></tr><tr><td scope="row"><pre>                string="value_for_key" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/localized-strings>]<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/channels ><span></span></pre></td></tr></table></div><p>The following example shows a modified version of the channel subscription file provided by Apple for Sherlock development channels. In this example, the file includes a localized string for the subscription name. Sherlock displays the localized name for the subscription in the application preferences window. This example also includes two channels that support specific versions of Sherlock.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;channels name="Developer"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;channel url="channels/xquery.xml" version="1.0" maxVersion="1.0" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;channel url="channels/javascript.xml"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;channel url="channels/htmlview.xml" version="1.1" maxVersion="1.1" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;localized-strings><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;localized-string language="en" key="Developer"<span></span></pre></td></tr><tr><td scope="row"><pre>                string="Apple Developer Channels" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/localized-strings><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/channels ><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-135237" title="Script Tag Syntax"></a><h3>Script Tag Syntax</h3><p>The <code>scripts</code> and <code>script</code> tags let you modularize your channel’s source code and include additional web services. The <code>scripts</code> tag either loads a source file from server or encapsulates one or more <code>script</code> tags and makes the corresponding code available to your channel code. The <code>script</code> tag groups functions implemented using the same language into one location.</p><p><span class="content_text">Table 2</span> describes the attributes of the <code>script</code> tag. </p><a name="//apple_ref/doc/uid/20001085-135282-BAJJEFBF" title="Table 2script attributes"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-135282" title="Table 2script attributes"></a><strong>Table 2&nbsp;&nbsp;</strong>script attributes</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>language</code></p></td><td ><p>Specifies language used to implement the enclosed code. The value of this tag can be either <code>JavaScript</code> or <code>XQuery</code>. </p></td></tr><tr><td  scope="row"><p><code>maxVersion</code></p></td><td ><p>Specifies the maximum XQuery or JavaScript version under which this script code can execute. Use this attribute to limit the execution of script code to specific versions of Sherlock. </p></td></tr><tr><td  scope="row"><p><code>version</code></p></td><td ><p>Specifies the minimum XQuery or JavaScript version required to run the trigger. Use this attribute to limit the execution of a trigger to specific versions of Sherlock. </p></td></tr></table></div><p><span class="content_text">Table 3</span> describes the attributes of the <code>scripts</code> tag. </p><a name="//apple_ref/doc/uid/20001085-134950-BAJHGJCE" title="Table 3scripts attributes"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-134950" title="Table 3scripts attributes"></a><strong>Table 3&nbsp;&nbsp;</strong>scripts attributes</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>maxVersion</code></p></td><td ><p>Specifies the maximum channel version under which the code in this script file can execute. Use this attribute to limit the execution of script code to specific versions of Sherlock. A value of “1.0” represents the channel version initially made available with Mac OS X version 10.2.</p></td></tr><tr><td  scope="row"><p><code>src</code></p></td><td ><p>Specifies the location of the script file to include. The value of this attribute can be either a full or partial path to the target file.</p></td></tr><tr><td  scope="row"><p><code>version</code></p></td><td ><p>Specifies the minimum channel version required to run the code in this script file. Use this attribute to limit the execution of script code to specific versions of Sherlock. A value of “1.0” represents the channel version initially made available with Mac OS X version 10.2.</p></td></tr></table></div><p>The following example shows the use of the <code>scripts</code> and <code>script</code> tag to declare a function. This declaration could be placed inline with the channel’s triggers or in a separate file. </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;scripts><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;script language="XQuery"><span></span></pre></td></tr><tr><td scope="row"><pre>        define function HTMLToText($html)<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>            $html/source(.)<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/script><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/scripts><span></span></pre></td></tr></table></div><p>If you were to place the preceding code in a separate file and include it, you would use another <code>scripts</code> tag to include it in the code file containing your triggers. The URL you specify can be either a full path to the server with the file, or a relative path if the file is on the same server. </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;scripts src="http://www.mycompany.com/services/webservices.xml"/><span></span></pre></td></tr></table></div><p>For more information on using the <code>scripts</code> and <code>script</code> tags, see <span class="content_text"><a href="DevelopingChannels.html#//apple_ref/doc/uid/20001083-121067">“Factoring Your Trigger Code.”</a></span> </p><a name="//apple_ref/doc/uid/20001085-134716" title="Trigger Tag Syntax"></a><a name="//apple_ref/doc/uid/20001085-134716-CJBJAIHJ" title="Trigger Tag Syntax"></a><h3>Trigger Tag Syntax</h3><p>Triggers are a combination of XML tags and script code that you include in your channel’s XML Triggers file. A trigger is identified by the <code>&lt;trigger</code>> XML tag. The attributes of this tag identify information about the trigger, such as the path it responds to, the language of the enclosed script code, and any other execution options. The content of the tag is the script code to execute in the language given by the tag attributes. Sherlock triggers support script code written in the JavaScript and XQuery languages. The basic syntax of the trigger tag is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;trigger language="trigger_language" path="data_store_path"<span></span></pre></td></tr><tr><td scope="row"><pre>            [additional_trigger_attributes]><span></span></pre></td></tr><tr><td scope="row"><pre>    [script_code]<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/trigger><span></span></pre></td></tr></table></div><div class="importantbox"><a name="//apple_ref/doc/uid/20001085-DontLinkElementID_5" title="Important:"></a><p><strong>Important:</strong>&nbsp;The trigger tag and all attribute names are case-sensitive. </p><p></p></div><p>The following example shows a trigger definition from the Yellow Pages channel. This trigger receives the value from a text field and stores it in the channel’s preferences file. The path attribute of the trigger tag identifies the data store path to which the trigger responds—a text field with the name <code>CityStateZipField</code> in this case. The inputs attribute is a way of initializing local script variables with values from the data store. </p><div class="codesample"><table><tr><td scope="row"><pre> &lt;trigger language="JavaScript"<span></span></pre></td></tr><tr><td scope="row"><pre>        path="YellowPages.CityStateZipField.objectValue"<span></span></pre></td></tr><tr><td scope="row"><pre>        inputs="cityStateZip=YellowPages.CityStateZipField.objectValue"><span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("PERSISTENT.cityStateZip", cityStateZip);<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("YellowPages.ClickAgaintext.stringValue", " ");<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/trigger><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-133362" title="Common Trigger Attributes"></a><h4>Common Trigger Attributes</h4><p><span class="content_text">Table 4</span> lists the <code>&lt;trigger></code> tag attributes you can use for all triggers. All attribute names are case-sensitive and optional unless otherwise noted. </p><a name="//apple_ref/doc/uid/20001085-133382-CJBDFECC" title="Table 4Common trigger attributes"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-133382" title="Table 4Common trigger attributes"></a><strong>Table 4&nbsp;&nbsp;</strong>Common trigger attributes</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>fullPathInput</code></p></td><td ><p>Binds this trigger’s canonical full path to a local variable. For example, suppose your general script code assigns the value “<code>name</code>” to the path <code>Data.results[1].title</code>. If you define a trigger with the path <code>Data.results</code>, Sherlock binds the string “<code>Data.results.1.title</code> ” to the local variable you specify for the <code>fullPathInput</code> attribute.</p></td></tr><tr><td  scope="row"><p><code>fullPathValue</code></p></td><td ><p>Binds the value located at the trigger’s path to a local variable. For example, suppose your general script code assigns the string “<code>name</code>” to the path <code>Data.results[1].title</code>. If you define a trigger with the path <code>Data.results</code>, Sherlock binds the string “<code>name</code> ” to the local variable you specify for the <code>fullPathValue</code> attribute. </p></td></tr><tr><td  scope="row"><p><code>inputs</code></p></td><td ><p>Specifies a binding between one or more data store paths and local script variables. Use this attribute to transfer values from the data store to your scripts. To specify more than one binding, separate the entries with a comma. This parameter is used primarily if you are writing your trigger code using XQuery, which does not have direct access to the data store. You can also use this attribute in JavaScript to retain the original value of a path whose contents may change. </p></td></tr><tr><td  scope="row"><p><code>language</code></p></td><td ><p>Assign the language in which the trigger script code is written to this attribute. Currently, this value can be either <code>JavaScript</code> or <code>XQuery</code>. This parameter is required. </p></td></tr><tr><td  scope="row"><p><code>maxVersion</code></p></td><td ><p>Specifies the maximum XQuery or JavaScript version under which this trigger can execute. Use this attribute to limit the execution of a trigger to specific versions of Sherlock.</p></td></tr><tr><td  scope="row"><p><code>mutex</code></p></td><td ><p>Identifies a mutex for the trigger. Only one trigger at a time may run with a given mutex. </p></td></tr><tr><td  scope="row"><p><code>name</code></p></td><td ><p>Specifies the name of the trigger. This attribute is used primarily for debugging purposes.</p></td></tr><tr><td  scope="row"><p><code>path</code></p></td><td ><p>Assign a data store path to this attribute. The data store executes the trigger script when the value at the specified path changes or receives a notification. For a complete list of control attributes that you can use as paths, see <span class="content_text"><a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-158702">“Control Properties.”</a></span> This parameter is required.</p></td></tr><tr><td  scope="row"><p><code>pathInput</code></p></td><td ><p>Binds the path of this trigger to the specified local variable. You can use the resulting variable in your script code to identify the data store path to which this trigger responds.</p></td></tr><tr><td  scope="row"><p><code>subPathInput</code></p></td><td ><p>Binds this trigger’s canonical subpath information to a local variable. The subpath information is the portion of a path that describes the instance and attribute information of the specific object being accessed. For example, suppose your general script code assigns the value “<code>name</code>” to the path <code>Data.results[1].title</code>. If you define a trigger with the path <code>Data.results</code>, Sherlock binds the string “<code>1.title</code>” to the local variable you specify for the <code>subPathInput</code> attribute.</p></td></tr><tr><td  scope="row"><p><code>task</code></p></td><td ><p>Set this attribute to <code>true</code> to cancel any previously running instances of this trigger. This attribute is useful for a situation where you do not want to complete the current operation before moving to the next operation. For example, suppose the user is browsing a list of items in an NSBrowser control that updates its columns with child information. Without this attribute set, selecting an item would load all of the child information for that item before allowing a new selection. With this attribute set, selecting a new item would cancel the previous load operation and proceed to load the child information for the new item. </p></td></tr><tr><td  scope="row"><p><code>timer</code></p></td><td ><p>Specifies that the trigger is to run at specified intervals. If this attribute is set to <code>true</code>, the data store uses the value at the trigger’s path as the execution interval (measured in seconds). For example, if you associate a trigger with the path <code>Data.results</code> and the value at that path is 2, the data store executes the trigger every two seconds.</p></td></tr><tr><td  scope="row"><p><code>version</code></p></td><td ><p>Specifies the minimum XQuery or JavaScript version required to run the trigger. Use this attribute to limit the execution of a trigger to specific versions of Sherlock.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-133605" title="JavaScript Trigger Attributes"></a><h4>JavaScript Trigger Attributes</h4><p><span class="content_text">Table 5</span> lists the <code>&lt;trigger></code> tag attributes available for triggers written using JavaScript. All attribute names are case-sensitive and optional unless otherwise noted.</p><a name="//apple_ref/doc/uid/20001085-133625-CJBDEGAD" title="Table 5JavaScript trigger attributes"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-133625" title="Table 5JavaScript trigger attributes"></a><strong>Table 5&nbsp;&nbsp;</strong>JavaScript trigger attributes</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>async</code></p></td><td ><p>If present, executes the trigger’s JavaScript code in parallel with the code of other triggers. This option is disabled by default, causing triggers to run synchronously.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-133654" title="XQuery Trigger Attributes"></a><h4>XQuery Trigger Attributes</h4><p><span class="content_text">Table 6</span> lists the attributes available for triggers written using XQuery. All attribute names are case-sensitive and optional unless otherwise noted. </p><a name="//apple_ref/doc/uid/20001085-133669-CJBBFHIG" title="Table 6XQuery trigger attributes"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-133669" title="Table 6XQuery trigger attributes"></a><strong>Table 6&nbsp;&nbsp;</strong>XQuery trigger attributes</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>append</code></p></td><td ><p>Contains a boolean value specifying whether the trigger should append the output results to the specified path, rather than replace the original contents. </p></td></tr><tr><td  scope="row"><p><code>noNotify</code></p></td><td ><p>Prevents a notification from being sent when the output value is returned to the data store. Normally, return of an output value generates a notification because it involves changing a field value. The inclusion of this attribute suppresses that notification.</p></td></tr><tr><td  scope="row"><p><code>notify</code></p></td><td ><p>Contains a comma separated list of data store paths to be notified upon completion of the trigger. You can use this attribute to trigger other actions. </p></td></tr><tr><td  scope="row"><p><code>output</code></p></td><td ><p>Specifies a binding between the return value of the function and a data store path. When the function finishes executing, Sherlock sets the value of the specified data path to the return value of the function.</p></td></tr><tr><td  scope="row"><p><code>stream</code></p></td><td ><p>Contains a boolean value indicating that you want the trigger to return a partial result set initially and write the rest of the data out asynchronously. This feature improves performance when a search may take time due to network or server delays.</p></td></tr></table></div><p>The following example shows the use of several XQuery specific attributes. In this example, the trigger appends output data to the path “<code>Stocks.SymbolTable.dataValue</code>”. To prevent delays, the data is streamed out and a notification is sent to the path “<code>Stocks.action.updateQuotes</code>” when all of the data has been returned. </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;trigger path="Stocks.action.symbols" language="XQuery"<span></span></pre></td></tr><tr><td scope="row"><pre>            inputs="symbols= Stocks.action.symbols,<span></span></pre></td></tr><tr><td scope="row"><pre>            table=Stocks.SymbolTable.dataValue"<span></span></pre></td></tr><tr><td scope="row"><pre>            output="Stocks.SymbolTable.dataValue"<span></span></pre></td></tr><tr><td scope="row"><pre>            notify="Stocks.action.updateQuotes"<span></span></pre></td></tr><tr><td scope="row"><pre>            stream="true" append="true"><span></span></pre></td></tr><tr><td scope="row"><pre>let $newSymbols := for $symbol in $symbols where<span></span></pre></td></tr><tr><td scope="row"><pre>            empty($table/symbol[. = $symbol])<span></span></pre></td></tr><tr><td scope="row"><pre>    return dictionary(("symbol", $symbol), ("id", string(unique-id())))<span></span></pre></td></tr><tr><td scope="row"><pre>return $newSymbols<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/trigger><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-124479" title="Predefined Data Store Paths"></a><h2>Predefined Data Store Paths</h2><p>The data store includes several predefined paths that you can use to access or store data. This section describes these paths and explains how to use them.</p><a name="//apple_ref/doc/uid/20001085-164680" title="Nib File Installation"></a><h3>Nib File Installation</h3><p>Sherlock defines several trigger paths for determining when a channel’s interface is displayed or removed from the Sherlock window. <span class="content_text">Table 7</span> lists the paths along with a description of when the path is triggered. </p><a name="//apple_ref/doc/uid/20001085-164719-BAJEHAGC" title="Table 7Nib file installation paths"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-164719" title="Table 7Nib file installation paths"></a><strong>Table 7&nbsp;&nbsp;</strong>Nib file installation paths</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Path</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>.didInstall</code></p></td><td ><p>Called immediately after the nib file contents are installed in Sherlock’s window.</p></td></tr><tr><td  scope="row"><p><code>.didRemove</code></p></td><td ><p>Called immediately after the nib file contents are removed from Sherlock’s window. </p></td></tr><tr><td  scope="row"><p><code>.willInstall</code></p></td><td ><p>Called immediately before the nib file contents are installed in Sherlock’s window.</p></td></tr><tr><td  scope="row"><p><code>.willRemove</code></p></td><td ><p>Called immediately before the nib file contents are removed from Sherlock’s window.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-124492" title="Persistent Storage Paths"></a><a name="//apple_ref/doc/uid/20001085-124492-BAJFDIIH" title="Persistent Storage Paths"></a><h3>Persistent Storage Paths</h3><p>Sherlock uses the <code>PERSISTENT</code> path to manage data in the Sherlock preferences file for the current user. You can use this path to get or set channel-specific data you want to retain between Sherlock sessions. You can also use it to access data shared by multiple channels.</p><p>To store channel-specific data, specify the <code>PERSISTENT</code> base path followed by a unique path name to identify the stored data. For example, to save the postal code of the current user to the preferences file, you could use the following JavaScript code:</p><div class="codesample"><table><tr><td scope="row"><pre>userPostalCode = 95014;<span></span></pre></td></tr><tr><td scope="row"><pre>DataStore.Set("PERSISTENT.postalCode", userPostalCode);<span></span></pre></td></tr></table></div><p>Inside the preferences file, Sherlock creates a dictionary for each channel’s individual preferences. Any data a channel writes to the <code>PERSISTENT</code> path are placed inside that channel’s dictionary and are accessible only by that channel. </p><p>If you want to share persistent data with other channels, you must do so using the <code>PERSISTENT.SHARED</code> base path. This path defines an area of the preferences file where channels may share data they find useful. To store shared data, you must add your channel identifier and the path name for the data to the <code>PERSISTENT.SHARED</code> path name. For example, to store a value at the path <code>MyData</code> in the channel whose identifier is <code>com.apple.MyChannel</code>, you would use the following path:</p><div class="codesample"><table><tr><td scope="row"><pre>PERSISTENT.SHARED.com.apple.MyChannel.MyData<span></span></pre></td></tr></table></div><p>All channels use the same path to access your channel’s shared data. However, paths you create in the persistent storage space are accessible for reading and writing by your channel but are read-only to all other channels.</p><a name="//apple_ref/doc/uid/20001085-124551" title="Printing Paths"></a><h3>Printing Paths</h3><p>Sherlock provides several specific paths to implement printing support for channels. The use of these paths is discussed in detail in the article <span class="content_text"><a href="../Tasks/Printing.html#//apple_ref/doc/uid/20001088-BCIIDJDC">“Printing Your Channel’s Content.”</a></span> </p><a name="//apple_ref/doc/uid/20001085-130557" title="Table 8Printing paths"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 8&nbsp;&nbsp;</strong>Printing paths</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Path</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>customPrint</code></p></td><td ><p>Set the value of this path to 1 if your channel supports printing using a custom view. You do not need to assign a value to this path if you want to use Sherlock’s default printing support.</p></td></tr><tr><td  scope="row"><p><code>mainViewIdentifier</code></p></td><td ><p>Use this path to distinguish your channel’s main view. from any other views, such as a print view. The value at this path contains the name of the view.</p></td></tr><tr><td  scope="row"><p><code>print</code></p></td><td ><p>Use this path to receive printing notifications. </p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-130700" title="URL Paths"></a><h3>URL Paths</h3><p>Sherlock supports the automatic loading and execution of a channel using a browser URL. Sherlock defines a <code>URL</code> base path for accessing the query attributes of a URL. If a URL attribute has a value, Sherlock stores the value in the <code>URL</code> path under the name of the attribute. Attributes without values generate notifications instead. </p><p>For example, the following code shows a potential URL that can be sent to Sherlock:</p><div class="codesample"><table><tr><td scope="row"><pre>sherlock://com.apple.yellowPages?query=sushi&amp;zip=95120&amp;search<span></span></pre></td></tr></table></div><p>When this URL is received, Sherlock writes each query attribute to the <code>URL</code> path. Query attributes are written in the same order as they appear in the query string. After all of the parameters are written, Sherlock sends a notification to the path <code>URL.complete</code> to signal the end of the parameter list. So, from the preceding example, Sherlock would perform the following equivalent operations (shown here as if they were part of a JavaScript trigger) to store the data:</p><div class="codesample"><table><tr><td scope="row"><pre>DataStore.Set("URL.query", "sushi");<span></span></pre></td></tr><tr><td scope="row"><pre>DataStore.Set("URL.zip", "95120");<span></span></pre></td></tr><tr><td scope="row"><pre>DataStore.Notify("URL.search");<span></span></pre></td></tr><tr><td scope="row"><pre>DataStore.Notify("URL.complete");<span></span></pre></td></tr></table></div><p>For each data value it sets, Sherlock also generates a notification to any triggers monitoring that path. If your channel defined a trigger that monitored the <code>URL.query</code> path, that trigger would be called prior to any triggers for the <code>URL.zip</code> or <code>URL.search</code> paths. </p><a name="//apple_ref/doc/uid/20001085-158702" title="Control Properties"></a><a name="//apple_ref/doc/uid/20001085-158702-BAJJJFGC" title="Control Properties"></a><h2>Control Properties</h2><p>The controls you use to define your channel interface have properties that you can access from your script code. Control properties are cumulative through the view and control hierarchies, that is, a specific instance of a control inherits the properties of its parent classes. Thus, an NSButton control inherits the attributes of NSControl and NSView. <span class="content_text">Figure 1</span> shows the inheritance hierarchy of the controls available to Sherlock channels.</p><br/><div><a name="//apple_ref/doc/uid/20001085-158719-BAJFIBFD" title="Figure 1Control inheritance hierarchy"></a><p><a name="//apple_ref/doc/uid/20001085-158719" title="Figure 1Control inheritance hierarchy"></a><strong>Figure 1&nbsp;&nbsp;</strong>Control inheritance hierarchy</p><img src = "art/control_hier.gif" alt = "Control inheritance hierarchy" width="508" height="119"></div><br/><p>The sections that follow describe the individual properties for each control. </p><a name="//apple_ref/doc/uid/20001085-158737" title="HTMLView"></a><h3>HTMLView</h3><p>HTMLView objects contain properties for rendering HTML content. HTMLView inherits properties from NSControl and NSView. <span class="content_text">Table 9</span> lists the path properties for HTMLView.</p><a name="//apple_ref/doc/uid/20001085-158753-BAJIDHGF" title="Table 9HTMLView path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-158753" title="Table 9HTMLView path properties"></a><strong>Table 9&nbsp;&nbsp;</strong>HTMLView path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>baseURL</code></p></td><td ><p>Contains a string with the base URL to be prepended to any relative items or links in the HTML content.</p></td></tr><tr><td  scope="row"><p><code>charset</code></p></td><td ><p>Contains a string with the name of the character set used by the HTML. Specify this value if the HTML does not already contain the information.</p></td></tr><tr><td  scope="row"><p><code>followLinksInView</code></p></td><td ><p>Contains a boolean indicating whether new URLs may be loaded by clicking links in the view.</p></td></tr><tr><td  scope="row"><p><code>htmlData</code></p></td><td ><p>Contains a string with the HTML data to render in the view. If you specify this value, do not specify a value for the <code>url</code> attribute.</p></td></tr><tr><td  scope="row"><p><code>url</code></p></td><td ><p>Contains a string with the URL of the page to be rendered in the view. If you specify this value, do not specify a value for the <code>htmlData</code> attribute.</p></td></tr></table></div><p>This control is supported only on Mac OS X version 10.3 and later.</p><a name="//apple_ref/doc/uid/20001085-158843" title="NSBrowser"></a><h3>NSBrowser</h3><p>NSBrowser objects contain properties for accessing the column data of a browser (column view) control. NSBrowser inherits properties from NSControl and NSView. <span class="content_text">Table 9</span> lists the path properties for NSBrowser.</p><a name="//apple_ref/doc/uid/20001085-158859" title="Table 10NSBrowser path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 10&nbsp;&nbsp;</strong>NSBrowser path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>data</code></p></td><td ><p>Contains an array with one or more subarrays, each of which represents a column of the browser. Each subarray contains one or more dictionaries with key/value pairs associated with the current entry in the browser. Each dictionary can also contain the keys <code>VALUE</code> and <code>IS_LEAF</code>. The <code>VALUE</code> key contains the row-item text to display in the browser column. The <code>IS_LEAF</code> key identifies whether the current dictionary is a leaf. </p></td></tr><tr><td  scope="row"><p><code>doubleAction</code></p></td><td ><p>Notified when the user double-clicks an item in the control. Your handler should check the selected cells to see what was clicked. </p></td></tr><tr><td  scope="row"><p><code>selectedCells</code></p></td><td ><p>Contains an array with one or more arrays, each of which represents a column of the browser. The contents of each subarray are the selected cells in that column.</p></td></tr></table></div><p>Although you can store hierarchical data using text and numbers in the data array of a browser, an easier way is to use dictionaries. When you specify a dictionary of items for a row, you can include a key called <code>IS_LEAF</code> to indicate that Sherlock should treat the dictionary as hierarchical data. When the key is set to true, Sherlock displays a right-arrow icon next to the row entry indicating there is more data. </p><a name="//apple_ref/doc/uid/20001085-158935" title="NSButton"></a><h3>NSButton</h3><p>NSButton objects contain properties for getting and setting the display characteristics of the button. NSButton inherits properties from NSControl and NSView. You can use the <code>action</code> property inherited from NSControl to respond to button clicks. <span class="content_text">Table 11</span> lists the path properties for NSButton.</p><a name="//apple_ref/doc/uid/20001085-158955-BAJDGAJD" title="Table 11NSButton path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-158955" title="Table 11NSButton path properties"></a><strong>Table 11&nbsp;&nbsp;</strong>NSButton path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>alternateImage</code></p></td><td ><p>Contains the button’s alternate NSImage.</p></td></tr><tr><td  scope="row"><p><code>altImageURL</code></p></td><td ><p>Contains a string or an array of strings with the URL’s to use for the button’s alternate image. If you specify an array of strings, Sherlock uses the first one if it is available; if not, it uses the second and the third and so on. </p></td></tr><tr><td  scope="row"><p><code>bordered</code></p></td><td ><p>Contains a boolean indicating whether the button has a border.</p></td></tr><tr><td  scope="row"><p><code>image</code></p></td><td ><p>Contains the button’s NSImage.</p></td></tr><tr><td  scope="row"><p><code>imageURL</code></p></td><td ><p>Contains a string or an array of strings with the URL’s to use for the button. If you specify an array of strings, Sherlock uses the first one if it is available; if not, it uses the second and the third and so on.</p></td></tr><tr><td  scope="row"><p><code>title</code></p></td><td ><p>Contains a string with the button’s title.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159039" title="NSComboBox"></a><h3>NSComboBox</h3><p>NSComboBox objects contain properties for getting and setting the items and text-completion characteristics of the combo box. NSComboBox inherits properties from NSTextField, NSControl, and NSView. <span class="content_text">Table 11</span> lists the path properties for NSComboBox.</p><a name="//apple_ref/doc/uid/20001085-159055" title="Table 12NSComboBox path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 12&nbsp;&nbsp;</strong>NSComboBox path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>comboBoxSelectionDidChange</code></p></td><td ><p>Path that is notified whenever the combo-box selection changes. </p></td></tr><tr><td  scope="row"><p><code>completionFlags</code></p></td><td ><p>Contains an integer indicating the techniques used to automatically complete typed text entries. You can set this property to any combination of the following values: 1 - case-insensitive search 2 - literal search 3 - backwards search 4 - anchored search</p></td></tr><tr><td  scope="row"><p><code>completes</code></p></td><td ><p>Contains a boolean value indicating whether the combo box automatically completes item names as the user types them. </p></td></tr><tr><td  scope="row"><p><code>hasVerticalScrollBar</code></p></td><td ><p>Contains a boolean value indicating whether the combo box displays a vertical scroller. </p></td></tr><tr><td  scope="row"><p><code>items</code></p></td><td ><p>Contains an array of strings representing the items in the combo box. </p></td></tr><tr><td  scope="row"><p><code>selectAllOnFirstMouseDown</code></p></td><td ><p>Contains a boolean value indicating whether the text in the combo box should be selected when the user clicks it. This value is false by default.</p></td></tr><tr><td  scope="row"><p><code>selectedItem</code></p></td><td ><p>Contains a kCFNumberSInt32Type that represents the index of the selected item.</p></td></tr><tr><td  scope="row"><p><code>showListOnBecomeFirstResponder</code></p></td><td ><p>Contains a boolean value indicating whether the combo box automatically shows its list when it becomes the first responder. This value is false by default.</p></td></tr><tr><td  scope="row"><p><code>showListOnBeginEditing</code></p></td><td ><p>Contains a boolean indicating whether the combo box displays the list of choices as soon as a character is typed. This value is false by default.</p></td></tr><tr><td  scope="row"><p><code>usesDataSource</code></p></td><td ><p>Contains a boolean indicating whether the combo box uses a data source to display its contents.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159183" title="NSControl"></a><h3>NSControl</h3><p>NSControl defines common properties for the NSBrowser, NSButton, NSImageView, NSMatrix, NSSlider, NSTableView, NSStepper, and NSTextField controls. NSControl also inherits properties from NSView. <span class="content_text">Table 13</span> lists the path properties for NSControl.</p><a name="//apple_ref/doc/uid/20001085-159199-BAJIICGB" title="Table 13NSControl path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159199" title="Table 13NSControl path properties"></a><strong>Table 13&nbsp;&nbsp;</strong>NSControl path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>action</code></p></td><td ><p>Path that is notified whenever the control’s action occurs (such as when a button is clicked).</p></td></tr><tr><td  scope="row"><p><code>actionURL</code></p></td><td ><p>Contains a URL to open when the control’s action occurs. If this path contains an empty value, nothing happens.</p></td></tr><tr><td  scope="row"><p><code>enabled</code></p></td><td ><p>Contains a boolean indicating whether the control is enabled.</p></td></tr><tr><td  scope="row"><p><code>objectValue</code></p></td><td ><p>Contains a value of type <code>id</code> with the control’s value. If you want to monitor the control’s value, use this path instead of <code>stringValue</code>.</p></td></tr><tr><td  scope="row"><p><code>stringValue</code></p></td><td ><p>Contains a string value with the control’s value. </p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159280" title="NSDrawer"></a><h3>NSDrawer</h3><p>NSDrawer objects contain properties to which you can send open and close notifications. <span class="content_text">Table 14</span> lists the path properties for NSDrawer.</p><a name="//apple_ref/doc/uid/20001085-159296-BAJBDIDE" title="Table 14NSDrawer path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159296" title="Table 14NSDrawer path properties"></a><strong>Table 14&nbsp;&nbsp;</strong>NSDrawer path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>close</code></p></td><td ><p>Post a notification to this path to close the drawer. This notification always occurs asynchronously.</p></td></tr><tr><td  scope="row"><p><code>drawerDidClose</code></p></td><td ><p>Path that is notified when the drawer is closed. (Supported on Mac OS X version 10.3 and later.)</p></td></tr><tr><td  scope="row"><p><code>drawerDidOpen</code></p></td><td ><p>Path that is notified when the drawer is opened. (Supported on Mac OS X version 10.3 and later.)</p></td></tr><tr><td  scope="row"><p><code>open</code></p></td><td ><p>Post a notification to this path to open the drawer. This notification always occurs asynchronously.</p></td></tr><tr><td  scope="row"><p><code>toggle</code></p></td><td ><p>Post a notification to this path to toggle the state of the drawer. This notification always occurs asynchronously.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159369" title="NSImageView"></a><h3>NSImageView</h3><p>NSImageView objects contain properties for accessing the image data and URL. NSImageView inherits properties from NSControl and NSView. <span class="content_text">Table 15</span> lists the path properties for NSImageView.</p><a name="//apple_ref/doc/uid/20001085-159385-BAJIEAHI" title="Table 15NSImageView path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159385" title="Table 15NSImageView path properties"></a><strong>Table 15&nbsp;&nbsp;</strong>NSImageView path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>cachedNSImage</code></p></td><td ><p>Contains the cached NSImage object. This value is read-only.</p></td></tr><tr><td  scope="row"><p><code>data</code></p></td><td ><p>Contains the raw image data.</p></td></tr><tr><td  scope="row"><p><code>shouldCacheNSImage</code></p></td><td ><p>Contains a boolean indicating whether the image should be cached in the data store.</p></td></tr><tr><td  scope="row"><p><code>url</code></p></td><td ><p>Contains the URL that points to the image.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159447" title="NSMatrix"></a><h3>NSMatrix</h3><p>NSMatrix objects contain the currently selected cells in the matrix. NSMatrix inherits properties from NSControl and NSView. <span class="content_text">Table 16</span> lists the path properties for NSMatrix.</p><a name="//apple_ref/doc/uid/20001085-159463-BAJBEDDF" title="Table 16NSMatrix path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159463" title="Table 16NSMatrix path properties"></a><strong>Table 16&nbsp;&nbsp;</strong>NSMatrix path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>cells</code></p></td><td ><p>Contains an array of cell objects. </p></td></tr><tr><td  scope="row"><p><code>cells[n].imageURL</code></p></td><td ><p>Contains the URL for the image you want to display in the specified cell.</p></td></tr><tr><td  scope="row"><p><code>cells[n].altImageURL</code></p></td><td ><p>Contains the URL for the alternate image you want to display in the specified cell. </p></td></tr><tr><td  scope="row"><p><code>selectedCells</code></p></td><td ><p>Contains an array of zero-based indexes identifying the currently selected cells of the matrix.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159525" title="NSMovieView"></a><h3>NSMovieView</h3><p>NSMovieView objects contain properties for loading and playing a movie. NSMovieView inherits properties from NSView. <span class="content_text">Table 17</span> lists the path properties for NSMovieView.</p><a name="//apple_ref/doc/uid/20001085-159541-BAJIHIDE" title="Table 17NSMovieView path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159541" title="Table 17NSMovieView path properties"></a><strong>Table 17&nbsp;&nbsp;</strong>NSMovieView path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>play</code></p></td><td ><p>Contains a boolean indicating whether or not the movie is playing. Setting this value to 1 initiates playback. Setting the value to 0 stops playback. </p></td></tr><tr><td  scope="row"><p><code>showController</code></p></td><td ><p>Contains a boolean indicating whether or not to show the movie controls.</p></td></tr><tr><td  scope="row"><p><code>URL</code></p></td><td ><p>Contains the URL for a network-based movie.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159592" title="NSPopUpButton"></a><h3>NSPopUpButton</h3><p>NSPopUpButton objects contain properties identifying the items of the pop-up menu. NSPopUpButton inherits properties from NSButton, NSControl, and NSView. <span class="content_text">Table 18</span> lists the path properties for NSPopUpButton.</p><a name="//apple_ref/doc/uid/20001085-159608-BAJJAHIE" title="Table 18NSPopUpButton path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159608" title="Table 18NSPopUpButton path properties"></a><strong>Table 18&nbsp;&nbsp;</strong>NSPopUpButton path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>items</code></p></td><td ><p>Contains an array of strings, or an array of dictionaries with the keys <code>title</code> and <code>representedObject</code>. The <code>title</code> key identifies the string to be displayed. The <code>representedObject</code> key identifies the item represented by the corresponding row.</p></td></tr><tr><td  scope="row"><p><code>selectedItem</code></p></td><td ><p>Contains the index of the selected item.</p></td></tr></table></div><p>To insert a menu-item separator in the pop-up menu, add the string “SherlockMenuItemSeparator” to the array of strings in <code>items</code>. If you use an array of dictionaries to specify your menu items, put the “SherlockMenuItemSeparator” string in the <code>title</code> key and omit the <code>representedObject</code> key. </p><a name="//apple_ref/doc/uid/20001085-159681" title="NSProgressIndicator"></a><h3>NSProgressIndicator</h3><p>NSProgressIndicator objects contain properties for controlling the appearance of the progress bar. NSProgressIndicator inherits properties from NSView. <span class="content_text">Table 19</span> lists the path properties for NSProgressIndicator.</p><a name="//apple_ref/doc/uid/20001085-159697-BAJCJFEI" title="Table 19NSProgressIndicator path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159697" title="Table 19NSProgressIndicator path properties"></a><strong>Table 19&nbsp;&nbsp;</strong>NSProgressIndicator path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>bezeled</code></p></td><td ><p>Contains a boolean indicating whether the progress bar has a bezel.</p></td></tr><tr><td  scope="row"><p><code>doubleValue</code></p></td><td ><p>Contains the current value of the progress indicator.</p></td></tr><tr><td  scope="row"><p><code>indeterminate</code></p></td><td ><p>Contains a boolean indicating whether the progress bar is indeterminate.</p></td></tr><tr><td  scope="row"><p><code>minValue</code></p></td><td ><p>Contains the minimum value of the progress indicator.</p></td></tr><tr><td  scope="row"><p><code>maxValue</code></p></td><td ><p>Contains the maximum value of the progress indicator.</p></td></tr><tr><td  scope="row"><p><code>startAnimation</code></p></td><td ><p>Send a notification to this path to start the progress bar animation.</p></td></tr><tr><td  scope="row"><p><code>stopAnimation</code></p></td><td ><p>Send a notification to this path to stop the progress bar animation.</p></td></tr><tr><td  scope="row"><p><code>usesThreadedAnimation</code></p></td><td ><p>Contains a boolean indicating whether the progress bar uses a threaded animation.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159803" title="NSSlider"></a><h3>NSSlider</h3><p>NSSlider has no accessible properties of its own, but it does inherit properties from NSControl and NSView. To set the minimum and maximum values of the slider, you must do so from Interface Builder. </p><a name="//apple_ref/doc/uid/20001085-159817" title="NSSplitView"></a><h3>NSSplitView</h3><p>NSSplitView objects contain a property defining the minimum size of a split-view pane. NSSplitView inherits properties from NSView. <span class="content_text">Table 20</span> lists the path properties for NSSplitView.</p><a name="//apple_ref/doc/uid/20001085-159833-BAJGFAJB" title="Table 20NSSplitView path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159833" title="Table 20NSSplitView path properties"></a><strong>Table 20&nbsp;&nbsp;</strong>NSSplitView path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>minPositions</code></p></td><td ><p>Contains an array of numbers indicating the minimum number of pixels for each pane in the NSSplitView.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-159862" title="NSStepper"></a><h3>NSStepper</h3><p>NSStepper has no accessible properties of its own, but it does inherit properties from NSControl and NSView. To set the minimum and maximum values of the stepper, you must do so from Interface Builder. </p><a name="//apple_ref/doc/uid/20001085-159876" title="NSTableView"></a><h3>NSTableView</h3><p>NSTableView objects contain properties identifying the appearance of the table’s columns and rows, as well as the contents of the table. NSTableView inherits properties from NSControl and NSView. <span class="content_text">Table 21</span> lists the path properties for NSTableView. </p><a name="//apple_ref/doc/uid/20001085-159892-BAJCBHFC" title="Table 21NSTableView path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-159892" title="Table 21NSTableView path properties"></a><strong>Table 21&nbsp;&nbsp;</strong>NSTableView path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>acceptableDropTypes</code></p></td><td ><p>Contains an array of strings listing the supported data types that can be dropped on the table view. The list of acceptable types includes <code>NSStringPboardType</code>, <code>NSTIFFPboardType</code>, and <code>NSURLPboardType</code>. (Supported on Mac OS X version 10.3 and later.)</p></td></tr><tr><td  scope="row"><p><code>clickedColumnHeader</code></p></td><td ><p>Install a trigger on this path to receive notifications when a column header is clicked. This path contains the column identifier of the column that was clicked. If this path does not exist and the <code>disableSorting</code> attribute is not set to true, a default sorting routine is used for the table items.</p></td></tr><tr><td  scope="row"><p><code>columns.&lt;column_id>. cell.nibURL</code></p></td><td ><p>Contains a string identifying the location of the view objects to use for the column’s cells. For example, if your view is defined in the nib file <code>MyView.nib</code>, you would specify the value “<code>MyView.nib/objects.nib</code>”. The path you specify is relative to the XML Triggers file. If you specify a value for this property, you must also specify the value “<code>SherlockCell</code>” for the <code>columns.&lt;column_id>.dataCellType</code> property.</p></td></tr><tr><td  scope="row"><p><code>columns.&lt;column_id>. dataCellType</code></p></td><td ><p>Contains a string identifying the type of information stored in the column. You can set this value to “<code>RankCell</code>” if you want the cell to contain ranking information for the row. Set this value to “<code>SherlockCell</code>” if you want to display a view object in the cell. If you use the “<code>SherlockCell</code>” value, you must specify the nib file containing your view in the <code>columns.&lt;column_id>.cell.nibURL</code> property.</p></td></tr><tr><td  scope="row"><p><code>columns.&lt;column_id>. headerCell.objectValue</code></p></td><td ><p>Contains the title for the column with the specified column ID.</p></td></tr><tr><td  scope="row"><p><code>columns.&lt;column_id>. indicatorImage</code></p></td><td ><p>Contains a string or array of strings with the URLs to use for the title image of the column with the specified column ID. </p></td></tr><tr><td  scope="row"><p><code>columns.&lt;column_id>. noSort</code></p></td><td ><p>Contains a boolean indicating whether sorting is disabled for a specific column. (Supported on Mac OS X version 10.3 and later.)</p></td></tr><tr><td  scope="row"><p><code>columns.&lt;column_id>. sortKey</code></p></td><td ><p>Contains a string with the sort key for the column. If this attribute is not set, the column identifier is used as the sort key. (Supported on Mac OS X version 10.3 and later.)</p></td></tr><tr><td  scope="row"><p><code>dataValue</code></p></td><td ><p>Contains an array of table values. If each item in the table is a string, then each array entry is a string. If the table has more than one column, each array entry contains a dictionary. The keys in each dictionary are the column identifiers that you set in Interface Builder.</p></td></tr><tr><td  scope="row"><p><code>disableAutoSave</code></p></td><td ><p>Contains a boolean that indicates whether Sherlock is prevented from autosaving the column positions and widths. (Supported on Mac OS X version 10.3 and later.)</p></td></tr><tr><td  scope="row"><p><code>disableSorting</code></p></td><td ><p>Contains a boolean that indicates whether sorting of the table’s contents should be disabled. (Supported on Mac OS X version 10.3 and later.)</p></td></tr><tr><td  scope="row"><p><code>doubleAction</code></p></td><td ><p>Install a trigger on this path to receive notifications when a row is double-clicked.</p></td></tr><tr><td  scope="row"><p><code>doubleClickURL</code></p></td><td ><p>Contains a URL to open when the cell is double-clicked. If this path contains an empty value, nothing happens.</p></td></tr><tr><td  scope="row"><p><code>droppedItems</code></p></td><td ><p>Contains an array of the items that were dropped onto the table view.</p></td></tr><tr><td  scope="row"><p><code>firstVisibleRow</code></p></td><td ><p>Contains a zero-based integer indicating the first visible row in the table. The controls scrolls its contents as needed to make this row the first row.</p></td></tr><tr><td  scope="row"><p><code>highlightedColumn</code></p></td><td ><p>Contains the column identifier of the currently highlighted column.</p></td></tr><tr><td  scope="row"><p><code>pasteboardTypes</code></p></td><td ><p>Contains an array of dictionaries with the supported types of data for copy/drag operations. You must set the value for each supported pasteboard type to the data path containing the data. See the example that follows for more information.</p></td></tr><tr><td  scope="row"><p><code>rowHeight</code></p></td><td ><p>Contains the height of each row as an integer.</p></td></tr><tr><td  scope="row"><p><code>selectableColumns</code></p></td><td ><p>Contains an array of column identifiers indicating which columns can be selected.</p></td></tr><tr><td  scope="row"><p><code>selectedRows</code></p></td><td ><p>Contains an array of zero-based integers indicating the currently selected rows.</p></td></tr><tr><td  scope="row"><p><code>shouldDeleteSelection</code></p></td><td ><p>Contains a boolean indicating whether the user can delete rows of the table by selecting them and pressing the Delete key. If you do not explicitly assign a value of false to this property, NSTableView permits the user to delete rows from the table. </p></td></tr><tr><td  scope="row"><p><code>trackFirstVisibleRow</code></p></td><td ><p>Contains a boolean indicating whether the value of the first visible row attribute should be updated when the table contents are scrolled. </p></td></tr><tr><td  scope="row"><p><code>visibleDragColumns</code></p></td><td ><p>Contains an array of column identifiers indicating which columns can be dragged by the user. Note, that the column identifier is a separate attribute set in the Info Window of Interface Builder and does not necessarily equal the column title. </p></td></tr></table></div><p>To specify pasteboard types, you associate an appropriate path name with the pasteboard type key. When the data is copied, Sherlock copies the data at the specified path to the pasteboard. For example, the following JavaScript code sets two different pasteboard types for a row. The first line sets the string version of the URL to the string object of the row. The second line sets the URL pasteboard data to the double-click URL for the row. </p><div class="codesample"><table><tr><td scope="row"><pre>DataStore.Set(<span></span></pre></td></tr><tr><td scope="row"><pre>        "Internet.SearchResultsTable.pasteboardTypes.NSStringPboardType",<span></span></pre></td></tr><tr><td scope="row"><pre>        "description.URL.objectValue");DataStore.Set("Internet.SearchResultsTable.pasteboardTypes.NSURLPboardType",<span></span></pre></td></tr><tr><td scope="row"><pre>        "doubleClickURL");<span></span></pre></td></tr></table></div><p>Note that you should not specify the path to the row itself in the paths you specify. Sherlock assumes that you are copying from the current row automatically. </p><a name="//apple_ref/doc/uid/20001085-160167" title="NSTabView"></a><h3>NSTabView</h3><p>NSTabView objects contain a property identifying the currently selected tab. NSTabView inherits properties from NSView. <span class="content_text">Table 22</span> lists the path properties for NSTabView.</p><a name="//apple_ref/doc/uid/20001085-160183-BAJEBHHB" title="Table 22NSTabView path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-160183" title="Table 22NSTabView path properties"></a><strong>Table 22&nbsp;&nbsp;</strong>NSTabView path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>selectedTabIdentifier</code></p></td><td ><p>Contains the identifier of the currently selected tab.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-160212" title="NSTextField"></a><h3>NSTextField</h3><p>NSTextField objects contain properties for the control contents as well as for receiving notifications. NSTextField inherits properties from NSControl and NSView.</p><p><span class="content_text">Table 23</span> lists the path properties for NSTextField.</p><a name="//apple_ref/doc/uid/20001085-160232-BAJGHAAB" title="Table 23NSTextField path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-160232" title="Table 23NSTextField path properties"></a><strong>Table 23&nbsp;&nbsp;</strong>NSTextField path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>action</code></p></td><td ><p>Path that is notified whenever the field’s user action occurs. The user action can be triggered on the end of editing or on pressing Return depending on how the control was set up in Interface Builder. </p></td></tr><tr><td  scope="row"><p><code>htmlData</code></p></td><td ><p>Assign HTML text to the value at this path and it will be converted to a text representation and displayed in the text field.</p></td></tr><tr><td  scope="row"><p><code>updateValueOnTextChanged</code></p></td><td ><p>Contains a boolean indicating whether notifications should be sent as the user types. Notifications generated by this message monitor the <code>objectValue</code> path of the text field for changes.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-160288" title="NSTextView"></a><h3>NSTextView</h3><p>NSTextView objects contain properties identifying their enclosed text. NSTextView inherits properties from NSView. <span class="content_text">Table 24</span> lists the path properties for NSTextView.</p><a name="//apple_ref/doc/uid/20001085-160304-BAJHJJBC" title="Table 24NSTextView path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-160304" title="Table 24NSTextView path properties"></a><strong>Table 24&nbsp;&nbsp;</strong>NSTextView path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>drawsBackground</code></p></td><td ><p>Contains a boolean value indicating whether the control draws its own background. </p></td></tr><tr><td  scope="row"><p><code>editable</code></p></td><td ><p>Contains a boolean value indicating whether the text is editable.</p></td></tr><tr><td  scope="row"><p><code>htmlData</code></p></td><td ><p>Assign HTML text to the value at this path and it will be converted to a text representation and displayed in the text field</p></td></tr><tr><td  scope="row"><p><code>objectValue</code></p></td><td ><p>Contains the value of the NSTextView. </p></td></tr><tr><td  scope="row"><p><code>textChanged</code></p></td><td ><p>Path that is notified whenever the value of the NSTextView changes.</p></td></tr><tr><td  scope="row"><p><code>valueAsString</code></p></td><td ><p>Contains the value of the NSTextView formatted as a string. The value at this path is read-only.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-160388" title="NSView"></a><h3>NSView</h3><p>NSView objects define common properties for many controls and views. <span class="content_text">Table 25</span> lists the path properties for NSView. </p><a name="//apple_ref/doc/uid/20001085-160404-BAJJFJBJ" title="Table 25NSView path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-160404" title="Table 25NSView path properties"></a><strong>Table 25&nbsp;&nbsp;</strong>NSView path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>becomeFirstResponder</code></p></td><td ><p>Contains a boolean value indicating whether this view should be made the first to respond to events.</p></td></tr><tr><td  scope="row"><p><code>hidden</code></p></td><td ><p>Contains a boolean value indicating the visibility of the view. You can set this value to change the state of the view. The default value of this attribute is <code><a href="../../../../Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/NO" target="_top">NO</a></code>. </p></td></tr><tr><td  scope="row"><p><code>print</code></p></td><td ><p>Post a notification to this path if your channel supports custom printing and you received a print notification from Sherlock. This notification tells the view to print its contents.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-160459" title="NSWindow"></a><h3>NSWindow</h3><p>NSWindow objects define properties for displaying and manipulating windows. <span class="content_text">Table 26</span> lists the path properties for NSWindow.</p><a name="//apple_ref/doc/uid/20001085-160475-BAJBFAEJ" title="Table 26NSWindow path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-160475" title="Table 26NSWindow path properties"></a><strong>Table 26&nbsp;&nbsp;</strong>NSWindow path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>beginSheet</code></p></td><td ><p>Post a notification to this property if you want to display the specified window as a sheet of the current channel window. </p></td></tr><tr><td  scope="row"><p><code>close</code></p></td><td ><p>Post a notification to this path to close the specified window.</p></td></tr><tr><td  scope="row"><p><code>display</code></p></td><td ><p>Post a notification to this path if you want to force the window to redraw itself entirely.</p></td></tr><tr><td  scope="row"><p><code>endSheet</code></p></td><td ><p>Post a notification to this path to dismiss a sheet posted with the <code>beginSheet</code> notification.</p></td></tr><tr><td  scope="row"><p><code>flushWindow</code></p></td><td ><p>Post a notification to this path if you want to flush the window buffer to the screen. </p></td></tr><tr><td  scope="row"><p><code>hasShadow</code></p></td><td ><p>Contains a boolean value that indicates whether the window has a shadow.</p></td></tr><tr><td  scope="row"><p><code>makeKeyAndOrderFront</code></p></td><td ><p>Post a notification to this path to make the window the key window. This notification also moves the window in front of any other windows.</p></td></tr><tr><td  scope="row"><p><code>title</code></p></td><td ><p>Contains a string with the window title.</p></td></tr></table></div><p>You typically use NSWindow objects defined in your nib files as sheets for your main channel window. To display a sheet, you send a <code>beginSheet</code> notification to the target window. For example, to display a sheet named <code>MySheet</code> when the user clicked a button, you would use the following code:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;trigger path="MyChannel.DisplaySheetBtn.action" language="JavaScript"><span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Notify("MySheet.beginSheet");<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/trigger><span></span></pre></td></tr></table></div><p>To respond to events in the sheet, you would define additional triggers to handle the sheet’s controls, just as you do for your channel controls. For example, to respond to an OK button on the sheet, you would use code similar to the following:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;trigger path="MySheet.OKButton.action" language="JavaScript"><span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Notify("MySheet.endSheet");<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/trigger><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-161387" title="SherlockAddressComboBox"></a><h3>SherlockAddressComboBox</h3><p>SherlockAddressComboBox objects contain properties for displaying address information from the user’s Address Book database. This control displays an NSComboBox control that can be used to enter or select address information. The control keeps a list of the 10 most recently used addresses for auto-completion purposes. SherlockAddressComboBox inherits properties from NSControl and NSView. <span class="content_text">Table 27</span> lists the path properties for SherlockAddressComboBox.</p><a name="//apple_ref/doc/uid/20001085-161403-BAJHJJEG" title="Table 27SherlockAddressComboBox path properties"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-161403" title="Table 27SherlockAddressComboBox path properties"></a><strong>Table 27&nbsp;&nbsp;</strong>SherlockAddressComboBox path properties</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>autoCompletionTypes</code></p></td><td ><p>Contains an array of one or more of the following strings: <code>address</code>, <code>addressTitle</code>, <code>cityState</code>, <code>cityStateZip</code>, or <code>custom</code>, Each string represents a type of information to auto-complete for the user. Types are auto-completed in the order they are listed in the array. If you specify the <code>custom</code> string, you must provide a set of custom items to auto-complete in the <code>customItems</code> attribute.</p></td></tr><tr><td  scope="row"><p><code>autoPopupToShowMatches</code></p></td><td ><p>Contains a boolean indicating whether the combo box should automatically display matches.</p></td></tr><tr><td  scope="row"><p><code>customItems</code></p></td><td ><p>Contains an array of dictionaries. Each dictionary contains information about the items to display in the popup and must contain the following keys: <code>title</code> and <code>representedObject</code>. The <code>title</code> key contains the string to be used for auto-completion. The <code>representedObject</code> key contains the object representing the particular item.</p></td></tr><tr><td  scope="row"><p><code>maxAutoCompleteMatches</code></p></td><td ><p>Contains a number indicating the maximum number of auto-completed matches.</p></td></tr><tr><td  scope="row"><p><code>representedObject</code></p></td><td ><p>Contains the object associated with a custom popup item.</p></td></tr><tr><td  scope="row"><p><code>resultAddress</code></p></td><td ><p>Contains a dictionary with the auto-completion results. This path will always contain a dictionary with one or more of the following keys set to a non-nil value: <code>Street</code>, <code>City</code>, <code>State</code>, <code>ZIP</code>, <code>Country</code>, <code>CountryCode</code>, <code>UserText</code>, <code>representedObject</code>, The values for all of these keys are strings, except for <code>representedObject</code>, which is a custom popup item.</p></td></tr><tr><td  scope="row"><p><code>UserText</code></p></td><td ><p>Contains the objectValue of the NSComboBox in situations where the controller cannot determine that the text is either an address in the user’s address book or a city/state/zip combination.</p></td></tr></table></div><p>This control is supported only on Mac OS X version 10.3 and later.</p><a name="//apple_ref/doc/uid/20001085-160650" title="JavaScript Extensions"></a><a name="//apple_ref/doc/uid/20001085-160650-BAJICACF" title="JavaScript Extensions"></a><h2>JavaScript Extensions</h2><p>Sherlock comes with an implementation of the JavaScript language that you can use to write your triggers. In addition to the standard features available with JavaScript, Sherlock defines several additional objects that you can use in your trigger code. These objects are declared implicitly by Sherlock for you, so you do not need to create or declare these objects directly in your scripts. </p><a name="//apple_ref/doc/uid/20001085-162999" title="AddressBook Object"></a><h3>AddressBook Object</h3><p>The AddressBook object provides access to the local Address Book database. You can use this object to add new addresses to the database and search for existing addresses. <span class="content_text">Table 28</span> lists the methods defined by the <code>AddressBook</code> object.</p><a name="//apple_ref/doc/uid/20001085-163046-BAJFCJEE" title="Table 28AddressBook object methods"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-163046" title="Table 28AddressBook object methods"></a><strong>Table 28&nbsp;&nbsp;</strong>AddressBook object methods</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Method Syntax</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Descriptions</p></th></tr><tr><td  scope="row"><p><code>Object Add(address)</code></p></td><td ><p>Creates a new record in the Address Book database. The <code>address</code> parameter is a dictionary containing the address information you want to add. The method returns a string containing the unique ID for the new record. See <span class="content_text"><a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-163254">“Address keys”</a></span> for a list of valid keys.</p></td></tr><tr><td  scope="row"><p><code>Object AddressWithUID(uid)</code></p></td><td ><p>Returns a dictionary containing address information for the record with the ID specified in the <code>uid</code> parameter. See <span class="content_text"><a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-163254">“Address keys”</a></span> for a list of keys available in the returned object.</p></td></tr><tr><td  scope="row"><p><code>Object Search(params, options)</code></p></td><td ><p>Searches the Address Book database for a specific address. The <code>params</code> parameter contains a dictionary with the address search strings. (See <span class="content_text">Table 29</span> for the address keys.) The <code>options</code> parameter contains a dictionary with the options to apply to the address search strings. See <span class="content_text"><a href="ScriptExtensions.html#//apple_ref/doc/uid/20001085-163254">“Address keys”</a></span> for a list of valid keys. </p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-163254" title="Address keys"></a><a name="//apple_ref/doc/uid/20001085-163254-BAJCAIGH" title="Address keys"></a><h4>Address keys</h4><p><span class="content_text">Table 29</span> lists the keys used to identify address information in the methods of the <code>AddressBook</code> object.</p><a name="//apple_ref/doc/uid/20001085-163351-BAJIADCD" title="Table 29Address keys"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-163351" title="Table 29Address keys"></a><strong>Table 29&nbsp;&nbsp;</strong>Address keys</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Value</p></th></tr><tr><td  scope="row"><p><code>Address</code></p></td><td ><p>Contains a dictionary with one or more of the keys <code>Home</code> and <code>Work</code>. Each of these keys, in turn, contains a dictionary with the following keys: <code>Street</code>, <code>City</code>, <code>State</code>, <code>ZIP</code>, <code>Country</code>, and <code>CountryCode</code>. All of these keys contain strings. The value for the <code>CountryCode</code> key is a two-letter country code.</p></td></tr><tr><td  scope="row"><p><code>Email</code></p></td><td ><p>Contains a dictionary with one or more of the keys <code>Home</code> and <code>Work</code>. Each of these keys is a string containing the appropriate email address.</p></td></tr><tr><td  scope="row"><p><code>Phone</code></p></td><td ><p>Contains a dictionary with one or more of the keys <code>Home</code>, <code>Work</code>, <code>Mobile</code>, <code>Main</code>, <code>HomeFAX</code>, <code>WorkFAX</code>, or <code>Pager</code>. Each of these keys contains a string with the appropriate phone number.</p></td></tr><tr><td  scope="row"><p><code>First</code></p></td><td ><p>Contains a string with the first name of the individual.</p></td></tr><tr><td  scope="row"><p><code>Last</code></p></td><td ><p>Contains a string with the last name of the individual</p></td></tr><tr><td  scope="row"><p><code>FirstPhonetic</code></p></td><td ><p>Contains a string with the phonetic first name of the individual.</p></td></tr><tr><td  scope="row"><p><code>LastPhonetic</code></p></td><td ><p>Contains a string with the phonetic last name of the individual. </p></td></tr><tr><td  scope="row"><p><code>Organization</code></p></td><td ><p>Contains a string with the company name associated with the address.</p></td></tr><tr><td  scope="row"><p><code>JobTitle</code></p></td><td ><p>Contains a string with the job title of the individual.</p></td></tr><tr><td  scope="row"><p><code>HomePage</code></p></td><td ><p>Contains a string with the URL of the individual’s home page.</p></td></tr><tr><td  scope="row"><p><code>Birthday</code></p></td><td ><p>Contains a date with the birthday of the individual.</p></td></tr><tr><td  scope="row"><p><code>Note</code></p></td><td ><p>Contains a string with any notes associated with the address.</p></td></tr><tr><td  scope="row"><p><code>MiddlePhonetic</code></p></td><td ><p>Contains a string with the phonetic middle name of the individual.</p></td></tr><tr><td  scope="row"><p><code>Title</code></p></td><td ><p>Contains a string with the title of the individual. </p></td></tr><tr><td  scope="row"><p><code>Suffix</code></p></td><td ><p>Contains a string with any suffixes associated with the individual’s name.</p></td></tr><tr><td  scope="row"><p><code>Nickname</code></p></td><td ><p>Contains a string with the nickname of the individual.</p></td></tr><tr><td  scope="row"><p><code>MaidenName</code></p></td><td ><p>Contains a string with the maiden name of the individual.</p></td></tr><tr><td  scope="row"><p><code>UID</code></p></td><td ><p>Contains a read-only string with the unique ID of the Address Book record.</p></td></tr><tr><td  scope="row"><p><code>Modification</code></p></td><td ><p>Contains a read-only date of the last time the record was modified.</p></td></tr><tr><td  scope="row"><p><code>Creation</code></p></td><td ><p>Contains a read-only date of when the record was created.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-163458" title="Search Options"></a><a name="//apple_ref/doc/uid/20001085-163458-BAJBHHBD" title="Search Options"></a><h4>Search Options</h4><p>The <code>options</code> parameter of the <code>Search</code> method accepts a dictionary with two keys: <code>conjunction</code> and <code>comparison</code>. The value of the <code>conjunction</code> key indicates how to combine search parameters. You can specify either the string “<code>and</code>” or “<code>or</code>” for this value to indicate all parameters must be met or any of the parameters must be met, respectively.</p><p>The <code>comparison</code> parameter indicates the way in which search parameters are compared against database entries. All search parameters are compared using the same comparison operator. <span class="content_text">Table 30</span> lists the valid values for the <code>comparison</code> key.</p><a name="//apple_ref/doc/uid/20001085-164258-BAJDJADB" title="Table 30Comparison key values"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-164258" title="Table 30Comparison key values"></a><strong>Table 30&nbsp;&nbsp;</strong>Comparison key values</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Value</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>Equal</code></p></td><td ><p>Perform an equality check using a case-sensitive comparison.</p></td></tr><tr><td  scope="row"><p><code>NotEqual</code></p></td><td ><p>Perform an inequality check using a case-sensitive comparison.</p></td></tr><tr><td  scope="row"><p><code>LessThan</code></p></td><td ><p>Look for values less than the specified value.</p></td></tr><tr><td  scope="row"><p><code>LessThanOrEqual</code></p></td><td ><p>Look for values less than or equal to the specified value.</p></td></tr><tr><td  scope="row"><p><code>GreaterThan</code></p></td><td ><p>Look for values greater than the specified value.</p></td></tr><tr><td  scope="row"><p><code>GreaterThanOrEqual</code></p></td><td ><p>Look for values greater than or equal to the specified value.</p></td></tr><tr><td  scope="row"><p><code>EqualCaseInsensitive</code></p></td><td ><p>Perform an equality check using a case-insensitive comparison. (Strings only)</p></td></tr><tr><td  scope="row"><p><code>ContainsSubString</code></p></td><td ><p>Look for values that contain the specified substring. (Strings only)</p></td></tr><tr><td  scope="row"><p><code>ContainsSubStringCaseInsensitive</code></p></td><td ><p>Look for values that contain the specified substring using a case-insensitive comparison. (Strings only)</p></td></tr><tr><td  scope="row"><p><code>PrefixMatch</code></p></td><td ><p>Look for values that start with the specified string. (Strings only)</p></td></tr><tr><td  scope="row"><p><code>PrefixMatchCaseInsensitive</code></p></td><td ><p>Look for values that start with the specified string using a case-insensitive comparison. (Strings only)</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-160663" title="DataStore Object"></a><a name="//apple_ref/doc/uid/20001085-160663-BAJGDEAG" title="DataStore Object"></a><h3>DataStore Object</h3><p>The DataStore object provides access to the channel’s field data and coordinates the transmission and receipt of notifications. You use this object in your script code to get or set data store values. You can also use it to generate explicit notifications from your script code. <span class="content_text">Table 31</span> lists the methods defined by the <code>DataStore</code> object. </p><a name="//apple_ref/doc/uid/20001085-160683-BAJDCBDJ" title="Table 31DataStore object methods"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-160683" title="Table 31DataStore object methods"></a><strong>Table 31&nbsp;&nbsp;</strong>DataStore object methods</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Method Syntax</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>void Append(path, value)</code></p></td><td ><p>Appends a value to the specified path in the data store. When appending data to a path, Sherlock treats the contents of the path as an array, with each appended piece of data a separate array entry.</p></td></tr><tr><td  scope="row"><p><code>Object Get(path)</code></p></td><td ><p>Gets a value from the specified path in the data store.</p></td></tr><tr><td  scope="row"><p><code>void Set(path,value)</code></p></td><td ><p>Sets the value at the specified path in the data store. This method generates a notification event for the specified path. </p></td></tr><tr><td  scope="row"><p><code>void Notify(path)</code></p></td><td ><p>Sends a notification event to the specified path in the data store. </p></td></tr><tr><td  scope="row"><p><code>void SetNoNotify(path, value)</code></p></td><td ><p>Sets the value at the specified path in the data store, but does not generate a notification event for the path. </p></td></tr></table></div><p>For example, to get the value at the path <code>MyPath.MyTextField.objectValue</code>, you would use the following JavaScript code:</p><div class="codesample"><table><tr><td scope="row"><pre>value = DataStore.Get("MyPath.MyTextField.objectValue");<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-160778" title="System Object"></a><h3>System Object</h3><p>The System object provides some useful utilities, which are listed in <span class="content_text">Table 32</span>. </p><a name="//apple_ref/doc/uid/20001085-160793-BAJBJDAE" title="Table 32System object methods"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-160793" title="Table 32System object methods"></a><strong>Table 32&nbsp;&nbsp;</strong>System object methods</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Syntax</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>Object AllCountries ()</code></p></td><td ><p>Returns an array of dictionaries containing country information from the system. Each dictionary contains an <code>isoCode</code> key and a <code>name</code> key. The value for the <code>isoCode</code> key is the two-digit ISO country code. The value for the <code>name</code> key is the country name.</p></td></tr><tr><td  scope="row"><p><code>type ChannelVersion()</code></p></td><td ><p>Returns the current channel implementation version. Sherlock uses the channel version to determine whether to load or execute XML tags that have <code>version</code> and <code>maxVersion</code> attributes. </p></td></tr><tr><td  scope="row"><p><code>Object CountriesForCurrentLanguage ()</code></p></td><td ><p>Returns an array of dictionaries containing the country information for countries whose language matches the current user’s language settings. Each dictionary contains an <code>isoCode</code> key and a <code>name</code> key. The value for the <code>isoCode</code> key is the two-digit ISO country code. The value for the <code>name</code> key is the country name.</p></td></tr><tr><td  scope="row"><p><code>void OpenURL(url)</code></p></td><td ><p>Tells the system to open a URL with the appropriate application, as defined by the system defaults. This method supports the <code>addressbook</code>, <code>help</code>, <code>http</code>, <code>https</code>, <code>ical</code>, <code>mailto</code>, <code>sherlock</code>, and <code>webcal</code> schemes.</p></td></tr><tr><td  scope="row"><p><code>Object UserPreferredLanguages ()</code></p></td><td ><p>Returns an array of strings representing the user’s current language preferences. Entries in the array are sequential based on the order specified in the user’s system preferences. </p></td></tr><tr><td  scope="row"><p><code>type Version ()</code></p></td><td ><p>Returns the version of Sherlock’s JavaScript implementation. </p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-160934" title="XMLQuery Object"></a><a name="//apple_ref/doc/uid/20001085-160934-BAJCGFBC" title="XMLQuery Object"></a><h3>XMLQuery Object</h3><p>The XMLQuery object provides an interface for calling XQuery functions from JavaScript. This object provides access to all of the built-in XQuery functions as well as to the Apple-specific additions. Each XQuery function is implemented as a method of the XMLQuery object. For example, to call the <code>url</code> function, you would use the following syntax:</p><div class="codesample"><table><tr><td scope="row"><pre>urlObject = XMLQuery.url("http://www.apple.com");<span></span></pre></td></tr></table></div><p>Due to JavaScript naming conventions, when you call an XQuery function whose name contains a hyphen (-) character, you must replace the character with an underscore (_) instead. For example, to call the <code>convert-entities</code> function from JavaScript, you would use the following syntax:</p><div class="codesample"><table><tr><td scope="row"><pre>outString = XMLQuery.convert_entities("&amp;amp;");<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-160986" title="XQuery Extensions"></a><a name="//apple_ref/doc/uid/20001085-160986-BAJFIAGE" title="XQuery Extensions"></a><h2>XQuery Extensions</h2><p>Sherlock comes with an implementation of the XQuery language that you can use to write your triggers. In addition to the XQuery functions, Sherlock defines several additional functions that you can use in your trigger code. The following sections describe the purpose and syntax of each function. </p><a name="//apple_ref/doc/uid/20001085-122749" title="base-url"></a><h3>base-url</h3><p>The <code>base-url</code> function returns a URL to the directory containing the file that called this method. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>url base-url()<span></span></pre></td></tr></table></div><p>This function returns the location of the code file that called this method. </p><a name="//apple_ref/doc/uid/20001085-122795" title="base64-decode"></a><h3>base64-decode</h3><p>The <code>base64-decode</code> function decodes a base-64 encoded block of data into a string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>data base64-decode(source)<span></span></pre></td></tr></table></div><p>Base-64 encoding packs three 8-bit bytes into four 7-bit ASCII characters. If the number of bytes in the original data is not divisible by three, “=” characters are used to pad the encoded data. This function reverses the process to yield the original string.</p><a name="//apple_ref/doc/uid/20001085-120644" title="base64-encode"></a><h3>base64-encode</h3><p>The <code>base64-encode</code> function encodes the source data using base-64 encoding. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>data base64-encode(source)<span></span></pre></td></tr></table></div><p>Base-64 encoding packs three 8-bit bytes into four 7-bit ASCII characters. If the number of bytes in the original data is not divisible by three, “=” characters are used to pad the encoded data.</p><p>For example, the following function call would yield an encoded value of “<code>MQ==</code>“:</p><div class="codesample"><table><tr><td scope="row"><pre>base64-encode("1")/string()<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-136147" title="channel-version"></a><h3>channel-version</h3><p>The <code>channel-version</code> function returns a CFNumberRef with the current channel implementation version. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>number channel-version()<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-136195" title="charset-encoding"></a><h3>charset-encoding</h3><p>The <code>charset-encoding</code> function returns the encoding index for the specified IANA character set name. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>number charset-encoding(encoding)<span></span></pre></td></tr></table></div><p>The <em>encoding</em> parameter contains the character set name. </p><a name="//apple_ref/doc/uid/20001085-120819" title="charset-name"></a><h3>charset-name</h3><p>The <code>charset-name</code> function returns the IANA character set name corresponding to the specified index. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string charset-name(encoding)<span></span></pre></td></tr></table></div><p>The <em>encoding</em> parameter is an integer specifying the string encoding. </p><a name="//apple_ref/doc/uid/20001085-97334" title="convert-entities"></a><h3>convert-entities</h3><p>The <code>convert-entities</code> function converts HTML entity characters in a string to their equivalent display characters. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string convert-entities(source)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains a text string. Any characters of the form <code>&amp;&lt;code>;</code> where <code>&lt;code></code> is an entity name are converted to display characters. For example, the string <code>&amp;amp;</code> is converted to the ampersand character “&amp;”. This function returns a new string with the converted characters.</p><a name="//apple_ref/doc/uid/20001085-102275" title="convert-html"></a><h3>convert-html</h3><p>The <code>convert-html</code> function converts HTML entity characters to displayable text and normalizes the spaces in the string. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string convert-html(source)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains a string with HTML text. This function converts entity characters to their displayable forms and normalizes whitespace characters. This function returns a new string with the displayable text.</p><p>In the following example, the call to <code>convert-html</code> returns the string “<code>&amp;&lt;a href=x.gif>picture&lt;/a></code>“. </p><div class="codesample"><table><tr><td scope="row"><pre>convert-html(" &amp;amp;&lt;a href=x.gif>picture&lt;/a>     ")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-121351" title="curl"></a><h3>curl</h3><p>The <code>curl</code> function performs an HTTP GET request using <code>curl</code> to initiate the request. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>data curl(source)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the URL to request. </p><a name="//apple_ref/doc/uid/20001085-102371" title="data"></a><h3>data</h3><p>The <code>data</code> function builds and returns an object of type CFDataRef. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>data data(theData)<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-102394" title="data-length"></a><h3>data-length</h3><p>The data function returns the number of bytes in a data block. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>number data-length(theObject)<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-102417" title="data-match"></a><h3>data-match</h3><p>The <code>data-match</code> function searches a data block for the specified starting and ending patterns and returns the first match it finds. The syntax for this function is as follows;</p><div class="codesample"><table><tr><td scope="row"><pre>data data-match(source, matchStart, matchEnd, includeStart, includeEnd)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the data block you want to search. The <em>matchStart</em> parameter contains the initial match data. Once found, the match continues until the data in the <em>matchEnd</em> parameter is found. This function returns a data object with the matched contents.</p><p>The <em>includeStart</em> and <em>includeEnd</em> parameters tell this function whether to include the starting and ending match data in the returned string. These parameters are set to false by default and may be omitted.</p><p>The following example returns the data “0x3334”, which represents the last two bytes of the data block. Only the last two bytes are returned because false is specified for the <em>includeStart</em> parameter.</p><div class="codesample"><table><tr><td scope="row"><pre>data-match("1234","2","4",false(),true())<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-102444" title="data-match-all"></a><h3>data-match-all</h3><p>The <code>data-match-all</code> function searches a data block for the specified starting and ending patterns and returns a list of matches. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>seq data-match-all(source, matchStart, matchEnd, includeStart,<span></span></pre></td></tr><tr><td scope="row"><pre>        includeEnd)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the data block you want to search. The <em>matchStart</em> parameter contains the initial match data. Once found, the function accumulates data until the <em>matchEnd</em> parameter is found. This function returns a data object with the matched contents.</p><p>The <em>includeStart</em> and <em>includeEnd</em> parameters tell this function whether to include the starting and ending match data in the returned string. These parameters are set to false by default and may be omitted.</p><p>The following example returns the data “0x3334, 0x3534”, which matches the two patterns within the data block. Only the last two bytes of each match are returned because false is specified for the <em>includeStart</em> parameter.</p><div class="codesample"><table><tr><td scope="row"><pre>data-match("1234 1254","2","4",false(),true())<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-102467" title="data-match-ignore-case"></a><h3>data-match-ignore-case</h3><p>The <code>data-match</code> function searches a data block for the specified starting and ending patterns and returns the first match it finds. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>data data-match-ignore-case(source, matchStart, matchEnd, includeStart,<span></span></pre></td></tr><tr><td scope="row"><pre>        includeEnd)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the data block you want to search. The <em>matchStart</em> parameter contains the initial match data. Once found, the function accumulates data until the <em>matchEnd</em> parameter is found. Matches do not take case into account. This function returns a data object with the matched contents.</p><p>The <em>includeStart</em> and <em>includeEnd</em> parameters tell this function whether to include the starting and ending match data in the returned string. These parameters are set to false by default and may be omitted.</p><a name="//apple_ref/doc/uid/20001085-102490" title="data-match-ignore-case-all"></a><h3>data-match-ignore-case-all</h3><p>The <code>data-match-ignore-case-all</code> function searches a data block for the specified starting and ending patterns and returns a list of matches. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>seq data-match-ignore-case-all(source, matchStart, matchEnd,<span></span></pre></td></tr><tr><td scope="row"><pre>        includeStart, includeEnd)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the data block you want to search. The <em>matchStart</em> parameter contains the initial match data. Once found, the function accumulates data until the <em>matchEnd</em> parameter is found. Matches do not take case into account. This function returns a data object with the matched contents.</p><p>The <em>includeStart</em> and <em>includeEnd</em> parameters tell this function whether to include the starting and ending match data in the returned string. These parameters are set to false by default and may be omitted.</p><a name="//apple_ref/doc/uid/20001085-120345" title="dictionary"></a><h3>dictionary</h3><p>The dictionary function builds and returns a dictionary object from the specified parameters. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>dictionary dictionary (...)<span></span></pre></td></tr></table></div><p>Use this function to build a dictionary of key/value pairs in an XQuery function.</p><a name="//apple_ref/doc/uid/20001085-120396" title="dictionary-get"></a><h3>dictionary-get</h3><p>The <code>dictionary-get</code> function returns the value for the specified key in a dictionary. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>node dictionary-get(source, key)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the dictionary. The <em>key</em> parameter contains the key to search for in the dictionary.</p><a name="//apple_ref/doc/uid/20001085-102536" title="encoded-data-to-string"></a><h3>encoded-data-to-string</h3><p>The <code>encoded-data-to-string</code> function converts a data object to a string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string encoded-data-to-string(source, charset)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the data object to convert. The <em>charset</em> parameter contains the name of the IANA registry character set to use for the conversion. </p><a name="//apple_ref/doc/uid/20001085-121711" title="eval"></a><h3>eval</h3><p>The <code>eval</code> function evaluates the specified XQuery string and returns the result. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>type eval(string)<span></span></pre></td></tr></table></div><p>The <em>string</em> parameter contains an XQuery statement to be evaluated.</p><p>The <code>eval</code> function optionally takes a second argument. In this case, <em>string</em> can contain variables that are defined in the second argument, which is a dictionary of key-value pairs. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>eval("concat('eval may take ',$number, ' argument',$plural)", dictionary(("number", 2),("plural","s")))<span></span></pre></td></tr></table></div><p>This call returns the string “eval may take 2 arguments”.</p><a name="//apple_ref/doc/uid/20001085-120917" title="http-get"></a><h3>http-get</h3><p>The <code>http-get</code> function initiates an HTTP GET request for the given URL and returns the results. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>dictionary http-get(source, headers)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the URL string to request. The <em>headers</em> parameter is an optional dictionary you can use to specify HTTP request header information. On return, this function returns a dictionary with the keys listed in <span class="content_text">Table 33</span>. </p><a name="//apple_ref/doc/uid/20001085-137884-BAJFDEBB" title="Table 33Keys returned by http-get"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-137884" title="Table 33Keys returned by http-get"></a><strong>Table 33&nbsp;&nbsp;</strong>Keys returned by http-get</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>STATUS_CODE</code></p></td><td ><p>Contains an integer with the HTTP status code of the request. For example, a value of 404 means the specified URL was not found.</p></td></tr><tr><td  scope="row"><p><code>REQUEST_URL</code></p></td><td ><p>Contains the original URL that was requested.</p></td></tr><tr><td  scope="row"><p><code>ACTUAL_URL</code></p></td><td ><p>Contains the actual URL from which the response came. This value may be different than the requested URL if the request was redirected.</p></td></tr><tr><td  scope="row"><p><code>DATA</code></p></td><td ><p>Contains the data from the request if there were no errors.</p></td></tr><tr><td  scope="row"><p><code>ERROR_DATA</code></p></td><td ><p>Contains the data of the request if there was an error.</p></td></tr><tr><td  scope="row"><p><code>HEADERS</code></p></td><td ><p>Contains a dictionary with the HTTP headers returned by the server.</p></td></tr><tr><td  scope="row"><p><code>HEADER_STRING</code></p></td><td ><p>Contains a string with the HTTP headers returned by the server.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-121069" title="http-head"></a><h3>http-head</h3><p>The <code>http-head</code> function initiates an HTTP HEAD request and returns only the header portion. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>dictionary http-head(source, headers)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the URL string to request. The <em>headers</em> parameter is an optional dictionary you can use to specify HTTP request header information. On return, this function returns a dictionary with the keys listed in <span class="content_text">Table 33</span>. </p><a name="//apple_ref/doc/uid/20001085-121115" title="Table 34Keys returned by http-head"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 34&nbsp;&nbsp;</strong>Keys returned by http-head</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>STATUS_CODE</code></p></td><td ><p>Contains an integer with the HTTP status code of the request. For example, a value of 404 means the specified URL was not found.</p></td></tr><tr><td  scope="row"><p><code>REQUEST_URL</code></p></td><td ><p>Contains the original URL that was requested.</p></td></tr><tr><td  scope="row"><p><code>ACTUAL_URL</code></p></td><td ><p>Contains the actual URL from which the response came. This value may be different than the requested URL if the request was redirected.</p></td></tr><tr><td  scope="row"><p><code>HEADERS</code></p></td><td ><p>Contains a dictionary with the HTTP headers returned by the server.</p></td></tr><tr><td  scope="row"><p><code>HEADER_STRING</code></p></td><td ><p>Contains a string with the HTTP headers returned by the server.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-121199" title="http-post"></a><h3>http-post</h3><p>The <code>http-post</code> function initiates an HTTP POST request for the given URL and returns the results. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>dictionary http-post(source, postdata, headers)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the URL string to request. The <em>headers</em> parameter is an optional dictionary you can use to specify HTTP request header information. On return, this function returns a dictionary with the keys listed in <span class="content_text">Table 33</span>. </p><a name="//apple_ref/doc/uid/20001085-121245" title="Table 35Keys returned by http-post"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 35&nbsp;&nbsp;</strong>Keys returned by http-post</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>STATUS_CODE</code></p></td><td ><p>Contains an integer with the HTTP status code of the request. For example, a value of 404 means the specified URL was not found.</p></td></tr><tr><td  scope="row"><p><code>REQUEST_URL</code></p></td><td ><p>Contains the original URL that was requested.</p></td></tr><tr><td  scope="row"><p><code>ACTUAL_URL</code></p></td><td ><p>Contains the actual URL from which the response came. This value may be different than the requested URL if the request was redirected.</p></td></tr><tr><td  scope="row"><p><code>DATA</code></p></td><td ><p>Contains the data from the request if there were no errors.</p></td></tr><tr><td  scope="row"><p><code>ERROR_DATA</code></p></td><td ><p>Contains the data of the request if there was an error.</p></td></tr><tr><td  scope="row"><p><code>HEADERS</code></p></td><td ><p>Contains a dictionary with the HTTP headers returned by the server.</p></td></tr><tr><td  scope="row"><p><code>HEADER_STRING</code></p></td><td ><p>Contains a string with the HTTP headers returned by the server.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-126201" title="http-request"></a><a name="//apple_ref/doc/uid/20001085-126201-BAJBDJAF" title="http-request"></a><h3>http-request</h3><p>The <code>http-request</code> function initiates a generic HTTP request for the given URL and returns the results. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>dictionary http-request(url, additionalInfo)<span></span></pre></td></tr></table></div><p>You can use this function to initiate a request of any type: GET, POST, HEAD. The <em>url</em> parameter contains the URL string to request. The <em>additionalInfo</em> parameter contains a dictionary with information to add to the request. This dictionary contains the keys shown in <span class="content_text">Table 36</span>. </p><a name="//apple_ref/doc/uid/20001085-137598-BAJBEEFB" title="Table 36Keys for additionalInfo parameter"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001085-137598" title="Table 36Keys for additionalInfo parameter"></a><strong>Table 36&nbsp;&nbsp;</strong>Keys for additionalInfo parameter</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>Method</code></p></td><td ><p>Contains a string with one of the following values: <code>GET</code>, <code>HEAD</code>, or <code>POST</code>. If you do not include this key, the function uses the default value <code>GET</code>.</p></td></tr><tr><td  scope="row"><p><code>DisableAlerts</code></p></td><td ><p>Contains a boolean that when set to true suppresses error dialogs. This value is set to false by default.</p></td></tr><tr><td  scope="row"><p><code>DisableCache</code></p></td><td ><p>Contains a boolean value that, when set, forces Sherlock to perform an HTTP request to retrieve the item, ignoring any cached copies of it. </p></td></tr><tr><td  scope="row"><p><code>DisableRedirects</code></p></td><td ><p>Contains a boolean value that when set to true suppresses automatic HTTP redirects. This value is set to false by default.</p></td></tr><tr><td  scope="row"><p><code>FavorCache</code></p></td><td ><p>Contains a boolean value indicating whether Sherlock should return a cached copy of the item, if one exists, without performing a network check for a newer item. If the item is not in the cache, Sherlock performs an HTTP request to get it.</p></td></tr><tr><td  scope="row"><p><code>FavorCacheUpdate</code></p></td><td ><p>Contains a boolean value indicating whether Sherlock should return a cached copy of the item, if one exists, without performing an immediate network check for a newer item. If the item is not in the cache, Sherlock performs an HTTP request to get it. If the item is in the cache, Sherlock returns the cached item and then performs an HTTP request in the background to update the cached data.</p></td></tr><tr><td  scope="row"><p><code>Headers</code></p></td><td ><p>Contains a dictionary of additional headers to include with the request.</p></td></tr><tr><td  scope="row"><p><code>PostData</code></p></td><td ><p>Contains data to send with a <code>POST</code> request.</p></td></tr></table></div><p>On return, this function returns a dictionary with keys appropriate to the type of request. The possible keys are listed in <span class="content_text">Table 33</span>. </p><a name="//apple_ref/doc/uid/20001085-137731" title="Table 37Keys returned by http-request"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 37&nbsp;&nbsp;</strong>Keys returned by http-request</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>STATUS_CODE</code></p></td><td ><p>Contains an integer with the HTTP status code of the request. For example, a value of 404 means the specified URL was not found.</p></td></tr><tr><td  scope="row"><p><code>REQUEST_URL</code></p></td><td ><p>Contains the original URL that was requested.</p></td></tr><tr><td  scope="row"><p><code>ACTUAL_URL</code></p></td><td ><p>Contains the actual URL from which the response came. This value may be different than the requested URL if the request was redirected.</p></td></tr><tr><td  scope="row"><p><code>DATA</code></p></td><td ><p>Contains the data from the request if there were no errors.</p></td></tr><tr><td  scope="row"><p><code>ERROR_DATA</code></p></td><td ><p>Contains the data of the request if there was an error.</p></td></tr><tr><td  scope="row"><p><code>HEADERS</code></p></td><td ><p>Contains a dictionary with the HTTP headers returned by the server.</p></td></tr><tr><td  scope="row"><p><code>HEADER_STRING</code></p></td><td ><p>Contains a string with the HTTP headers returned by the server.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-136427" title="load-service"></a><h3>load-service</h3><p>The <code>load-service</code> function loads the services from the specified URL and makes them available to your script code. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>boolean load-service(url)<span></span></pre></td></tr></table></div><p>The <em>url</em> parameter contains the URL of the file containing the service. The function returns a boolean value indicating whether the services were successfully loaded.</p><a name="//apple_ref/doc/uid/20001085-136511" title="localized-resource"></a><h3>localized-resource</h3><p>The <code>localized-resource</code> function returns a localized resource based on the user’s current language settings. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>type localized-resource(key, baseURL, fileName)<span></span></pre></td></tr></table></div><p>The <em>key</em> parameter identifies a key in the <code>LocalizedResources.plist</code> file of the language folder matching the user’s current settings. The value associated with this key should be the name of the resource file you want to locate.</p><p>The <em>baseURL</em> and <em>fileName</em> parameters are optional. Use the <em>baseURL</em> parameter to override the default location for localized resources, which is specified in the channel configuration file. Use the <em>fileName</em> parameter to specify a property-list file other than <code>LocalizedResources.plist</code> in which to look up the desired key. </p><a name="//apple_ref/doc/uid/20001085-122599" title="localized-url"></a><h3>localized-url</h3><p>The <code>localized-url</code> function returns the location of the localized resource file based on the user’s current language settings. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>type localized-url(fileName, baseURL)<span></span></pre></td></tr></table></div><p>The <em>fileName</em> parameter specifies the name of a localized resource file. Localized copies of the file must be located in the channel’s language folders. The <em>baseURL</em> parameter is optional and is used to override the default base folder to use when searching for localized resources. </p><a name="//apple_ref/doc/uid/20001085-121798" title="msg"></a><h3>msg</h3><p>The <code>msg</code> function prints a message to stderr. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>type msg(debug_msg)<span></span></pre></td></tr></table></div><p>This function returns the message that was printed. Debugging must be enabled before you can view the output messages. To enable debugging, open a Terminal window on your system and define the environment variable <code>SHERLOCK_DEBUG_CHANNELS</code> with a value of 1. Once this variable is defined, launch Sherlock from the command line to begin your debugging session. </p><a name="//apple_ref/doc/uid/20001085-121668" title="null"></a><h3>null</h3><p>The <code>null</code> function returns the null object. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>null null()<span></span></pre></td></tr></table></div><p>You can use the returned value to determine if an XQuery object is valid. </p><a name="//apple_ref/doc/uid/20001085-102914" title="property-list-decode"></a><h3>property-list-decode</h3><p>The <code>property-list-decode</code> function converts an XML property list into a property-list data object. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>data property-list-decode(source)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the raw bytes from the XML property-list file. If a parsing error occurs, this function returns an empty object. </p><a name="//apple_ref/doc/uid/20001085-122071" title="property-list-encode"></a><h3>property-list-encode</h3><p>The <code>property-list-encode</code> function converts a source object into a data object whose contents are an XML property list. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>data property-list-encode(source)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the property-list data you want to encode as XML. The resulting data is appropriate for writing out to an XML file, but is returned as a data object instead of a string. </p><a name="//apple_ref/doc/uid/20001085-120460" title="reg-exp"></a><h3>reg-exp</h3><p>The reg function performs a pattern match on the specified string and returns the matching text. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>seq reg-exp(source, reg-exp)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the string to search. The <em>reg-exp</em> parameter contains the regular expression to apply to the string. This function returns a sequence of strings, each of which contains the text from a specific match. </p><p>The syntax for regular expressions is identical to those for the <code>matches</code> function defined in XQuery. For a complete specification of the expression syntax, see <code>http://www.w3.org/TR/xmlschema-2/#regexs</code>. </p><a name="//apple_ref/doc/uid/20001085-123420" title="sherlock-function"></a><h3>sherlock-function</h3><p>The <code>sherlock-function</code> function calls a Sherlock Web Service to perform a specific task. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>type sherlock-function(sourceURL, functionName, ...)<span></span></pre></td></tr></table></div><p>The <em>sourceURL</em> parameter specifies the URL for the file containing the web services code you want to access. The <em>functionName</em> parameter contains the name of a specific function you want to access. If the web-service function takes any parameters of its own, you can pass those in as extra arguments to <code>sherlock-function</code>. </p><a name="//apple_ref/doc/uid/20001085-121760" title="source"></a><h3>source</h3><p>The <code>source</code> function returns an XML string representing the specified node. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string source(node)<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-120711" title="string-combine"></a><h3>string-combine</h3><p>The <code>string-combine</code> function concatenates a sequence of strings together using a designated separator string. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string string-combine(strings, separator)<span></span></pre></td></tr></table></div><p>The <em>strings</em> parameter contains the sequence of strings to be concatenated. The <em>separator</em> parameter contains the separator string. The function returns the resulting string.</p><a name="//apple_ref/doc/uid/20001085-120765" title="string-separate"></a><h3>string-separate</h3><p>The <code>string-separate</code> function splits a string based on the specified separator string. The syntax of this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>seq string-separate(source, separator)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the string you want to split. The <em>separator</em> parameter contains the separator string. The function returns the resulting sequence of strings. This function does not include the separator string in the strings of the returned sequence. </p><a name="//apple_ref/doc/uid/20001085-120523" title="string-to-encoded-data"></a><h3>string-to-encoded-data</h3><p>The <code>string-to-encoded-data</code> function converts a string to a data object. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>data string-to-encoded-data(source, charset)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains the string to convert. The <em>charset</em> parameter contains the name of the IANA registry character set to use for the conversion. </p><p>For example, the following function call would yield a data object with the contents <code>0xffef0031</code>: </p><div class="codesample"><table><tr><td scope="row"><pre>string-to-encoded-data("1", "UTF-16")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-121405" title="unique-id"></a><h3>unique-id</h3><p>The <code>unique-id</code> function returns a unique number for the current channel. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>number unique-id()<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-102931" title="url"></a><h3>url</h3><p>The <code>url</code> function returns a CFURLRef object for the specified source. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>url url(source)<span></span></pre></td></tr></table></div><p>The <em>source</em> parameter contains a string with the URL text. </p><a name="//apple_ref/doc/uid/20001085-121443" title="url-decode"></a><h3>url-decode</h3><p>The <code>url-decode</code> function decodes a string with encoded characters, returning a regular text string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string url-decode(urlSource, charactersToLeaveEscaped)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains the string you want to decode. The <em>charactersToLeaveEscaped</em> parameter contain specific characters to leave untouched. The <em>encoding</em> parameter specifies the encoding format for the returned string. </p><p>The following example decodes the colon and forward-slash encoded characters in the string. The string returned by this function call is “<code>http://</code>”:</p><div class="codesample"><table><tr><td scope="row"><pre>url-decode("http%3A%2F%2F", "")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-121526" title="url-encode"></a><h3>url-encode</h3><p>The <code>url-encode</code> function encodes the characters of a URL string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string url-encode(urlSource, charactersToLeaveUnescaped,<span></span></pre></td></tr><tr><td scope="row"><pre>        legalURLCharactersToBeEscaped, encoding)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains the URL string you want to encode. The <em>charactersToLeaveUnescaped</em> and <em>legalURLCharactersToBeEscaped</em> parameters contain specific characters to modify or leave untouched. The <em>encoding</em> parameter specifies the encoding format for the returned string. </p><p>The following example encodes the colon and forward-slash characters in the given string. The string returned by this function call is “<code>http%3A%2F%2F</code>”:</p><div class="codesample"><table><tr><td scope="row"><pre>url-encode("http://", "", ":/", "UTF-8")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-102728" title="url-host"></a><h3>url-host</h3><p>The <code>url-host</code> function returns the hostname information from a URL string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string url-host(urlSource)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains the URL path whose hostname you want to obtain. The return value omits any scheme and pathname information. For example, the following function call returns the string “<code>www.apple.com</code>”:</p><div class="codesample"><table><tr><td scope="row"><pre>url-host("http://www.apple.com/index.html")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-102985" title="url-last-path-component"></a><h3>url-last-path-component</h3><p>The <code>url-last-path-component</code> function returns the last path component of a URL string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string url-last-path-component(urlSource)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains the URL whose path information you want to obtain. The return value omits any scheme, hostname, and leading path information. For example, the following function call returns the string “<code>index.html</code>”:</p><div class="codesample"><table><tr><td scope="row"><pre>url-last-path-component("http://www.apple.com/test/index.html")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-121951" title="url-path"></a><h3>url-path</h3><p>The <code>url-path</code> function returns the relative path information from a URL string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string url-path(urlSource)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains the URL whose path information you want to obtain. The return value omits any scheme and hostname information. For example, the following function call returns the string “/<code>test/index.html</code>”:</p><div class="codesample"><table><tr><td scope="row"><pre>url-path("http://www.apple.com/test/index.html")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-126785" title="url-query"></a><h3>url-query</h3><p>The <code>url-query</code> function returns the query attributes of a URL string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string url-query(urlSource)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains the URL whose attribute information you want to obtain. The return value omits any scheme, hostname, and leading path information. For example, the following function call returns the string “<code>action=search</code>”:</p><div class="codesample"><table><tr><td scope="row"><pre>url-query("http://www.apple.com/index.html?action=search")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-126855" title="url-query-value"></a><h3>url-query-value</h3><p>The <code>url-query-value</code> function extracts the value of an attribute from a URL string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string url-query-value(urlSource, key)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains the URL whose attribute information you want to obtain. The <em>key</em> parameter contains the name of the attribute to return. The return value omits any scheme, hostname, and leading path information. For example, the following function call returns the string “<code>search</code>”:</p><div class="codesample"><table><tr><td scope="row"><pre>url-query-value("http://www.apple.com/index.html?action=search", "action")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-121884" title="url-scheme"></a><h3>url-scheme</h3><p>The <code>url-scheme</code> function returns the scheme type of a URL string. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>string url-scheme(urlSource)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains the URL path whose scheme you want to obtain. The return value omits any host and pathname information. For example, the following function call returns the string “<code>http</code>”:</p><div class="codesample"><table><tr><td scope="row"><pre>url-scheme("http://www.apple.com/index.html")<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001085-136027" title="url-with-base"></a><h3>url-with-base</h3><p>The <code>url-with-base</code> function returns a CFURLRef object built from the specified base and relative paths. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>url url-with-base(urlSource, base)<span></span></pre></td></tr></table></div><p>The <em>urlSource</em> parameter contains a relative pathname to append to the URL path in the <em>base</em> parameter.</p><a name="//apple_ref/doc/uid/20001085-136080" title="version"></a><h3>version</h3><p>The <code>version</code> function returns a CFNumberRef with the version of the XQuery implementation currently in use. The syntax for this function is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>number version()<span></span></pre></td></tr></table></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="Languages.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/CreatingChannels.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-04-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/Sherlock/Concepts/ScriptExtensions.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/Sherlock/Concepts/ScriptExtensions.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/Sherlock/Concepts/ScriptExtensions.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
