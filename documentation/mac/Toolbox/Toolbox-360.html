<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Defining Your Own Control Definition Function(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING360></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-359.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-361.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-297.html"><B>Chapter 5 - Control Manager</B></A> / <A HREF="Toolbox-315.html"><B>Control Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-359.html"><B>Application-Defined Routines</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING360-0></A>
<H3><A NAME=MARKER-9-553></A>Defining Your Own Control Definition Function</H3>
 <A NAME=MARKER-2-554></A>In addition to the standard controls (buttons, checkboxes, radio buttons, pop-up menus, and scroll bars), the Control Manager allows you to define new, nonstandard controls as appropriate for your application. For example, you can define a three-way selector switch, a memory-space indicator that looks like a thermometer, or a thruster control for a spacecraft simulator. Controls and their indicators may occupy regions of any shape, as permitted by QuickDraw.<P>
 <A NAME=MARKER-2-555></A><A NAME=MARKER-2-433></A>To define your own type of control, you write a control definition function, compile it as a resource of type <CODE>'CDEF'</CODE>, and store it in your resource file. (See the chapter "Resource Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I> for more information about creating resources.) Whenever you create a control, you specify a control definition ID, which the Control Manager uses to determine the control definition function. The control definition ID is an integer that contains the resource ID of the control definition function in its upper 12 bits and a variation code in its lower 4 bits. Thus, for a given resource ID and variation code<P>
 control definition ID = 16 x resource ID + variation code<P>
 For example, buttons, checkboxes, and radio buttons all use the standard control definition function with resource ID 0. Because they have variation codes of 0, 1, <BR>and 2, respectively, their respective control definition IDs are 0, 1, and 2. <P>
 You can define your own variation codes, which various Control Manager routines pass to your control definition function. This allows you to use one <CODE>'CDEF'</CODE> resource to handle several variations of the same general control.<A NAME=MARKER-2-557></A><P>
 The Control Manager calls the Resource Manager to access your control definition function with the given resource ID. The Resource Manager reads your control definition function into memory and returns a handle to it. The Control Manager stores this handle in the <CODE>contrlDefProc</CODE> field of the control record. In 24-bit addressing mode, the variation code is placed in the high-order byte of this field; in 32-bit mode, the variation code is placed in the most significant byte of the <CODE>acReserved</CODE> field in the control's <CODE>AuxCtlRec</CODE> record. Later, when various Control Manager routines need to perform a type-dependent action on the control, they call your control definition function and pass it the variation code as a parameter.<P>
 If you create a control definition function, you can use control color table records of <BR>any desired size and define their contents in any way you wish, except that part indices <BR>1 through 127 are reserved for system definition. Note that in this case, you should allocate explicit auxiliary records for every control you create.<P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Toolbox-361.html#HEADING361-0">MyControl</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-359.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-361.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
