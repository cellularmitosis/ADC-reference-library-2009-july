<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Collections Programming Topics for Cocoa: Arrays: Ordered Collections</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Arrays: Ordered Collections"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000132" title="Arrays: Ordered Collections"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../DataManagement-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000445" target="_top">Data Management</a> &gt; <a href="../index.html" target="_top">Collections Programming Topics for Cocoa</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Collections.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="Dictionaries.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20000132-BBCCJBIF" title="Arrays: Ordered Collections"></a><hr /><H1>Arrays: Ordered Collections</H1><p>Arrays are ordered collections of objects. Cocoa provides several array classes, <code>NSArray</code>, <code>NSMutableArray</code> (a subclass of <code>NSArray</code>), and <code>NSPointerArray</code>. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Arrays.html#//apple_ref/doc/uid/20000132-SW1">Array Fundamentals</a>
				
			<br/>
			
        
			
			
				<a href="Arrays.html#//apple_ref/doc/uid/20000132-SW2">Mutable Arrays</a>
				
			<br/>
			
        
			
			
				<a href="Arrays.html#//apple_ref/doc/uid/20000132-SW3">Using Arrays</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20000132-SW1" title="Array Fundamentals"></a><h2>Array Fundamentals</h2><p>Arrays are ordered collections that can contain any sort of object—the collection does not have to be homogeneous. For example, an array could contain any combination of Cat and Dog objects, and if it’s mutable you could add a Vet object, but it could not contain an <code>int</code> or a <code>float</code>. <code>NSPointerArray</code> differs from <code>NSArray</code> and <code>NSMutableArray</code> in that the former can contain <code><a href="../../../Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/nil" target="_top">nil</a></code> values (if you need to add a representation of a null value to an instance of <code>NSArray</code>, use <code><a href="../../../Reference/Foundation/Classes/NSNull_Class/Reference/Reference.html#//apple_ref/occ/cl/NSNull" target="_top">NSNull</a></code>) and its contents do not need to be objects; moreover, it also offers memory management options using an instance of <code>NSPointerFunctions</code>.</p><p>An <code>NSArray</code> object manages a static array—that is, once you have created the array you cannot add objects to it or remove objects from it—you can, however, modify individual elements themselves (if they support modification). For example, given an <code>NSArray</code> object that contains just a single Dog object, you could not add another Dog, or a Cat. You could, however, change the Dog’s name.</p><p>An <code>NSMutableArray</code> object manages a dynamic—or mutable—array, which allows the addition and deletion of entries at any time, automatically allocating memory as needed. For example, given an <code>NSMutableArray</code> object that contains just a single Dog object, you can add another Dog, or a Cat, or any other object. You also, as with an <code>NSArray</code> instance, change the Dog’s name—and in general, anything that you can do with an <code>NSArray</code> object you can do with an <code>NSMutableArray</code> object. </p><p>You can easily create an instance of one type of array from the other using the initializer <code>initWithArray:</code> or the convenience constructor <code>arrayWithArray:</code>. For example, if you have an instance of <code>NSArray</code>, <code>myArray</code>, you can create a mutable copy as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>NSMutableArray *myMutableArray = [NSMutableArray arrayWithArray:myArray];<span></span></pre></td></tr></table></div>
<p>In general, you instantiate an array by sending one of the <code>array...</code> messages to either the <code>NSArray</code> or <code>NSMutableArray</code> class object. The <code>array...</code> messages return an array containing the elements you pass in as arguments. And when you add an object to an Objective-C array, the object isn’t copied, but rather receives a <code>retain</code> message before its <code>id</code> is added to the array. When an array is deallocated, each element is sent a <code>release</code> message.</p>
<p><code>NSArray</code>’s two primitive methods—<code>count</code> and <code>objectAtIndex</code>—provide the basis for all other methods in its interface. The <code>count</code> method returns the number of elements in the array. <code>objectAtIndex</code> gives you access to the array elements by index, with index values starting at <code>0</code>.</p><a name="//apple_ref/doc/uid/20000132-SW2" title="Mutable Arrays"></a><h2>Mutable Arrays</h2>
<p><code>NSMutableArray</code>’s primitive methods, listed below, provide the basis for its ability to add, replace, and remove elements:</p>
<ul class="simple"><li><p><code><a href="../../../Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSMutableArray/addObject:" target="_top">addObject:</a></code></p></li>
<li><p><code><a href="../../../Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSMutableArray/insertObject:atIndex:" target="_top">insertObject:atIndex:</a></code></p></li>
<li><p><code><a href="../../../Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSMutableArray/removeLastObject" target="_top">removeLastObject</a></code></p></li>
<li><p><code><a href="../../../Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSMutableArray/removeObjectAtIndex:" target="_top">removeObjectAtIndex:</a></code></p></li>
<li><p><code><a href="../../../Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSMutableArray/replaceObjectAtIndex:withObject:" target="_top">replaceObjectAtIndex:withObject:</a></code></p></li></ul>
<p>The other methods in <code>NSMutableArray</code> provide convenient ways of inserting an object into a specific slot in the array and removing an object based on its identity or position in the array, as illustrated in the following example.</p><div class="codesample"><table><tr><td scope="row"><pre>NSMutableArray *array = [NSMutableArray array];<span></span></pre></td></tr><tr><td scope="row"><pre>[array addObject:[NSColor blackColor]];<span></span></pre></td></tr><tr><td scope="row"><pre>[array insertObject:[NSColor redColor] atIndex:0];<span></span></pre></td></tr><tr><td scope="row"><pre>[array insertObject:[NSColor blueColor] atIndex:1];<span></span></pre></td></tr><tr><td scope="row"><pre>[array addObject:[NSColor whiteColor]];<span></span></pre></td></tr><tr><td scope="row"><pre>[array removeObjectsInRange:(NSMakeRange(1, 2))];<span></span></pre></td></tr><tr><td scope="row"><pre>// array now contains redColor and whiteColor<span></span></pre></td></tr></table></div><p>In a managed memory environment, when an object is removed from a mutable array it receives a <code>release</code> message. This means that <em>if an array is the only owner of an object</em>, then (by standard rules of memory management) the object is deallocated when it is removed. If you want to use the object after its removal, you should therefore typically send it a <code>retain</code> message before it’s removed from the array. For example, if in the following example <code>anArray</code> is the only owner of <code>anObject</code>, the third statement below would result in a run-time error:</p><div class="codesample"><table><tr><td scope="row"><pre>id anObject = [anArray objectAtIndex:0];<span></span></pre></td></tr><tr><td scope="row"><pre>[anArray removeObjectAtIndex:0];<span></span></pre></td></tr><tr><td scope="row"><pre>// if no object other than anArray owned anObject, the next line causes a crash<span></span></pre></td></tr><tr><td scope="row"><pre>[anObject someMessage];<span></span></pre></td></tr></table></div><p>If you want to use an object after removing it from an array, you should retain it first as shown in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>id anObject = [[anArray objectAtIndex:0] retain];<span></span></pre></td></tr><tr><td scope="row"><pre>[anArray removeObjectAtIndex:0];<span></span></pre></td></tr><tr><td scope="row"><pre>[anObject someMessage];<span></span></pre></td></tr><tr><td scope="row"><pre>// remember to send anObject a release message when you have finished with it<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20000132-SW3" title="Using Arrays"></a><h2>Using Arrays</h2>
<p>The <code>NSArray</code> methods <code>objectEnumerator</code> and <code>reverseObjectEnumerator</code> grant sequential access to the elements of the array, differing only in the direction of travel through the elements (see <span class="content_text"><a href="Enumerators.html#//apple_ref/doc/uid/20000135-BBCFABCB">“Enumerators: Traversing a Collection’s Elements”</a></span>). <code>NSArray</code>’s <code>makeObjectsPerformSelector:</code> and <code>makeObjectsPerformSelector:withObject:</code> methods let you send messages to all objects in the array.</p>
<p>You can extract a subset of the array (<code>subarrayWithRange:</code>) or concatenate the elements of an array of <code>NSString</code> objects into a single string (<code>componentsJoinedByString:</code>). In addition, you can compare two arrays using the <code>isEqualToArray:</code> and <code>firstObjectCommonWithArray:</code> methods. Finally, you can create a new array that contains the objects in an existing array and one or more additional objects with <code>arrayByAddingObject:</code> or <code>arrayByAddingObjectsFromArray:</code>.</p>
<p>There are two principal methods you can use to determine whether an object is present in an array, <code><a href="../../../Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSArray/indexOfObject:" target="_top">indexOfObject:</a></code> and<code><a href="../../../Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSArray/indexOfObjectIdenticalTo:" target="_top">indexOfObjectIdenticalTo:</a></code>—there are also two variants, <code><a href="../../../Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSArray/indexOfObject:inRange:" target="_top">indexOfObject:inRange:</a></code> and <code><a href="../../../Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSArray/indexOfObjectIdenticalTo:inRange:" target="_top">indexOfObjectIdenticalTo:inRange:</a></code> that you can use to search a range within an array. The <code>indexOfObject:</code> methods test for equality by sending elements in the array an <code>isEqual:</code> message; the <code>indexOfObjectIdenticalTo:</code> methods test for equality using pointer comparison. The difference is illustrated in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>NSString *yes0 = @"yes";<span></span></pre></td></tr><tr><td scope="row"><pre>NSString *yes1 = @"YES";<span></span></pre></td></tr><tr><td scope="row"><pre>NSString *yes2 = [NSString stringWithFormat:@"%@", yes1];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSArray *yesArray = [NSArray arrayWithObjects: yes0, yes1, yes2, nil];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>NSUInteger index;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>index = [yesArray indexOfObject:yes2];<span></span></pre></td></tr><tr><td scope="row"><pre>// index is 1<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>index = [yesArray indexOfObjectIdenticalTo:yes2];<span></span></pre></td></tr><tr><td scope="row"><pre>// index is 2<span></span></pre></td></tr></table></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Collections.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="Dictionaries.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-02-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/Collections/Articles/Arrays.html%3Fid%3D10000034i-3.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/Collections/Articles/Arrays.html%3Fid%3D10000034i-3.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/Collections/Articles/Arrays.html%3Fid%3D10000034i-3.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
