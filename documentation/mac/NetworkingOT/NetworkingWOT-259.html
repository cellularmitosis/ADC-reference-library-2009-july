<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>OTNextOption</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING259></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-258.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-260.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-243.html"><B>Chapter 25 - Option Management Reference</B></A> / <A HREF="NetworkingWOT-254.html"><B>Functions</B></A><BR><DL><DD><A HREF="NetworkingWOT-257.html"><B>Finding Options</B></A> / </DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING259-0></A>
<H3>OTNextOption</H3>
 Locates the next <CODE>TOption</CODE> structure in a buffer.<P>
<A NAME=HEADING259-2></A>
<H5>C INTERFACE</H5>
<PRE>
<A NAME=MARKER-11-95></A>OSStatus OTNextOption (UInt8* buffer, UInt32 buflen, 
                     TOption** prevOptPtr;
</PRE>
<A NAME=HEADING259-4></A>
<H5>C++ INTERFACE</H5>
 None. C++ applications use the C interface to this function.<P>
<A NAME=HEADING259-6></A>
<H5>PARAMETERS</H5>
<DL>
<DT><CODE>buffer</CODE>
<DD> A pointer to the buffer containing the option to be found.
<DT><CODE>buflen</CODE>
<DD> A long specifying the size of the buffer containing the option to be found.
<DT><CODE>prevOptPtr</CODE>
<DD> A pointer to a pointer to the first or current <CODE>TOption</CODE> structure. The first time you call the function, set this parameter. On return, this parameter references the beginning address of the next option
<DT><I>function result</I>
<DD> The only error returned by this function is <CODE>kOTBufferOverflow</CODE>; the option retrieved is larger than the buffer allocated to contain it.
</DL>
<A NAME=HEADING259-11></A>
<H5>DISCUSSION</H5>
 The <CODE>OTNextOption</CODE> function allows you to parse through a buffer containing <A HREF=NetworkingWOT-251.html#MARKER-9-72><CODE>TOption</CODE></A> structures describing an endpoint's option values. Within the buffer, <CODE>TOption</CODE> structures are aligned to long-word boundaries. This function takes into account this padding when it calculates the beginning address of the next <CODE>TOption</CODE> structure and it returns that address in the <CODE>prevOptPtr</CODE> parameter.<P>
 The first time you call the option, set the <CODE>prevOptPtr</CODE> parameter to <CODE>nil</CODE>. When the function returns, the <CODE>prevOptPtr</CODE> parameter points to the first option in the buffer. You can continue this process, specifying the value returned for the <CODE>prevOptPtr</CODE> parameter by the previous invocation of the function, each time you call the function to obtain the beginning address of the next option in the buffer. You know the function has returned all existing <CODE>TOption</CODE> structures when <CODE>nextOption</CODE> is <CODE>nil</CODE>. <P>
 For an example of the use of this function, see <A HREF=NetworkingWOT-39.html#MARKER-9-64>"Sample Code: Getting and Setting Options"</A>.<P>
<A NAME=HEADING259-15></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Open Transport also defines a macro, <CODE>OPT_NEXTHDR</CODE>, that works like <CODE>OTNExtOption</CODE>, with less error checking.<P>
<A NAME=HEADING259-17></A>
<H5>SEE ALSO</H5>
 The <A HREF=NetworkingWOT-258.html#MARKER-9-93><CODE>OTFindOption</CODE></A> function. <A NAME=MARKER-13-96></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-258.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-260.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
