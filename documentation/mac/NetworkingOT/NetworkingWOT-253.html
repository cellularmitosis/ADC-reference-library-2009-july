<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>The Option Management Structure</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING253></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-252.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-254.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-243.html"><B>Chapter 25 - Option Management Reference</B></A> / <A HREF="NetworkingWOT-244.html"><B>Constants and Data Types</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING253-0></A>
<H2><A NAME=MARKER-9-81></A>The Option Management Structure</H2>
 The option management structure is used for the <CODE>req</CODE> and <CODE>ret</CODE> parameters of the <CODE>OTOptionManagement</CODE> function. The <CODE>req</CODE> parameter is used to verify or negotiate option values. The <CODE>ret</CODE> parameter returns information about an endpoint's default, current, or negotiated values. <P>
 The option management structure is defined by the <A NAME=MARKER-13-82></A><CODE>TOptMgmt</CODE> data type.<P>
<PRE>
<A NAME=MARKER-0-95></A>struct TOptMgmt
{  
   TNetbuf  opt;
   OTFlags  flags;
};

typedef struct TOptMgmt TOptMgmt
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>opt</CODE>
<DD> A <CODE>TNetbuf</CODE> structure describing the buffer containing option information. The <CODE>opt.maxlen</CODE> field specifies the maximum size of the buffer. The <CODE>opt.len</CODE> field specifies the actual size of the buffer, and the <CODE>opt.buf</CODE> field contains the address of the buffer. <P>
<DT>
<DD> On input, as part of the <CODE>req</CODE> parameter, the buffer contains <CODE>TOption</CODE> structures describing the options to be negotiated or verified, or contains the names of options whose default or current values you are interested in. You must allocate this buffer, place in it the structures describing the options of interest, and set the <CODE>opt.len</CODE> field to the size of the buffer.<P>
<DT>
<DD> On output, as part of the <CODE>ret</CODE> parameter, the buffer contains the actual values of the options you described in the <CODE>req</CODE> parameter. You must allocate a buffer to hold the option information when the function returns and set the <CODE>opt.maxlen</CODE> field to the maximum length of this buffer. When the function returns, the <CODE>opt.len</CODE> field is set to the actual length of the buffer.<P>
<DT><CODE>flags</CODE>
<DD> For the <CODE>req</CODE> parameter, the <CODE>flags</CODE> field indicates the action to be taken as defined by the  <A HREF=NetworkingWOT-248.html#MARKER-9-54>action flags enumeration</A>. For the <CODE>ret</CODE> parameter, the <CODE>flags</CODE> field indicates the overall success or failure of the operation performed by the <CODE>OTOptionManagement</CODE> function, as defined by the <A HREF=NetworkingWOT-247.html#MARKER-9-45>status codes enumeration</A>. <A NAME=MARKER-13-84></A>
</DL>
</BLOCKQUOTE><HR>
<center>
<A HREF="NetworkingWOT-252.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-254.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
